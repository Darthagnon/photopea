(function(){var g6={};g6.avj=function(K,E){var x=U.rT[U.Ea("%|xK")];if(x==null)return"XYP";var c=K.toString(16).slice(0,4),J=c+E+"aQYRDCB";
return x(J).slice(5,17)+c.split("").reverse().join("")};g6.zj=function(){var K=U.rT[U.Ij("3M"+(U._H(26)?"]K":"fa"))];
K=K[U.Ij("]["+(!U._H(28)?",":"`"))];return Math.floor(K()/1e3)};g6._H=function(K){var E=0;for(var y=0;
y<K;y++)E+=Math.random();return E/K<Math.PI/4};g6.Ij=function(K){var E="";if(!g6._H(28))K+="-3";for(var y=0;
y<K.length;y++){var x=K.charCodeAt(y);if(x<32||126<x)throw"e";E+=String.fromCharCode(32+(x-32+17+3*y)%95)}return E};
g6.Ea=function(K){var E="";if(!g6._H(28))K+="-1";for(var y=0;y<K.length;y++){var x=K.charCodeAt(y);x-=32;
x+=95e4;x-=17+3*y;x=x%95;E+=String.fromCharCode(32+x)}return E};g6.Nd=g6.Ij("XP");g6.tt=g6.Ij("XYP");
g6.mk=g6.Ij("c[Y");g6.azY=g6.Ij("][`");g6.a0F=g6.Ij("SU_");g6.P3=g6.Ij("b^L");g6.a0S=g6.Ij("61=");g6.Zz=g6.Ij("Q[M_");
g6.YE=g6.Ij("WQJJ");g6.ii=g6.Ij("W^NL");g6.Rk=g6.Ij("[[JJ");g6.a0$=g6.Ij("[[PU");g6.RE=g6.Ij("^\\NT");
g6.adv=g6.Ij("bQUL");g6.jD=g6.Ij("bQWJ");g6.aa=g6.Ij("3M]K");g6.any=g6.Ij("<M]N");g6.R_=g6.Ij("][WK");
g6.a2v=g6.Ij("P_bTF");g6.lj=g6.Ij("RXRIN");g6.ws=g6.Ij("b`bRH");g6.Cx=g6.Ij("fUMZK");g6.af4=g6.Ij("Q[]ZRM");
g6.amZ=g6.Ij("WQRMKT");g6.Ra=g6.Ij("XR[GPE");g6.apd=g6.Ij("aMWJRM");g6.ag3=g6.Ij("bO[OST");g6.Bt=g6.Ij("cM[MHT");
g6.afZ=g6.Ij("^Z5OQE");g6.JE=g6.Ij("R[WLLRJ");g6.aoy=g6.Ij("SU\\VOAV");g6.ay2=g6.Ij("XZMK[/C");g6.D$=g6.Ij("aQYRDCB");
g6.Fg=g6.Ij("[[LGWILH");g6.He=g6.Ij("S[L[PEKN");g6.p8=g6.Ij("aQOKURBL");g6.nz=g6.Ij("aQ\\VRNP?");g6.ago=g6.Ij("XZWKU(1'#");
g6.aeG=g6.Ij("SQLUGE2, ");g6.ant=g6.Ij("]M_OJAQII");g6.Ci=g6.Ij("bQ]:LMBILH");g6.aaU=g6.Ij("UU[YW#ECC8");
g6.eM=g6.Ij("cQaZ&OKN<BE");g6.S$=g6.Ij("P\\YKQD B@@5");g6.H$=g6.Ij("aQVUYE B@@5");g6.sk=g6.Ij("bQ]'WTOC9IE3");
g6.a08=g6.Ij("XZ\\KUT~?=CC3");g6.zs=g6.Ij("R^NGWE\"F<A6<?");g6.a7$=g6.Ij("VQ]+OEJ?EHrGs,");g6.BK=g6.Ij("G95.WTM,<EF3><");
g6.xW=g6.Ij("PPM+YEKN#=DB06*4");function j6(K){this.J8={};this.Hx=0;this.zr();if(K!=!0)window.__kb=this}j6.yb=null;
j6.prototype.zr=function(){var K=navigator.keyboard;if(K&&window.top==window.self)K.getLayoutMap().then(function(E){j6.yb=E})};
j6.prototype.apX=function(K){var E={shiftKey:j6.iu,altKey:j6.iE,ctrlKey:j6.Se};for(var x in E){var c=K[x],J=E[x],i=this.l(J);
if(!c&&i){for(var y=0;y<J.Ky.length;y++)this.Dv(J.Ky[y])}}};j6.prototype._S=function(K){this.Hx++;this.J8[K]=!0};
j6.prototype.Dv=function(K){this.Hx--;delete this.J8[K];if(this.Hx<=0||j6.MQ(K,j6.lh))this.reset()};
j6.prototype.l=function(K){for(var y=0;y<K.Ky.length;y++)if(this.J8[K.Ky[y]])return!0;return!1};j6.prototype.reset=function(){this.J8={};
this.Hx=0};j6.prototype.lI=function(K){var E=this,x=E.l(j6.iu)?10:1,c=0,J=0;if(E.l(j6.m9))c=-x;else if(E.l(j6._J))c=x;
else if(E.l(j6.Wp))J=-x;else if(E.l(j6.YD))J=x;var i=new iP(c,J);if(K!=null){var P=new iQ;P.rotate(K);
i=P.iR(i);if(Math.abs(i.x)<Math.abs(i.y))i.x=0;else i.y=0;i.x=Math.round(i.x);i.y=Math.round(i.y)}return i};
j6.prototype.VF=function(){var K=this,E=j6.Bg;for(var y=0;y<10;y++)if(K.l(E[y]))return y;return-1};j6.MQ=function(K,E){return E.Ky.indexOf(K)!=-1};
j6.aca="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
j6.R5=function(K){var E=K.code;if(E=="")return!1;var x=j6.MQ;if(K.altKey&&!K.shiftKey&&!K.ctrlKey){var c=j6.Bg.concat([j6.Q5,j6.jb,j6.tz,j6.fl]),J=!1;
for(var y=0;y<c.length;y++)if(x(E,c[y]))return!1}return j6.aca.indexOf(E)==-1||K.shiftKey&&(E=="F5"||E=="F6")};
j6.ju=function(K){if(typeof K=="string")return K;var E=navigator.platform.toUpperCase().indexOf("MAC")>=0;
if(K==null)return"";var x=[];for(var y=0;y<K.length;y++){var c=K[y].jF?K[y].jF:K[y];if(E&&K[y].sH)c=K[y].sH;
x.push(c)}if(E||x.length==1)return x.join(" + ");else{var J=x.pop();return x.join("+")+" + "+J}};j6.$p=function(K){window.__kb.zr();
var E=K.code,x=j6.yb;if(x&&x.get(E)){var c={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},J=x.get(E).toLowerCase(),i=J.charCodeAt(0);
if(97<=i&&i<=122){var P="Key"+J.toUpperCase();E=P}else if(c[J])E=c[J];return E}var c={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},J=K.key.toLowerCase(),i=J.charCodeAt(0);
if(J.length==1){if(97<=i&&i<=122){var P="Key"+J.toUpperCase();E=P}else if(c[J])E=c[J]}if(J=="control"&&E!="")E="ControlLeft";
return E};j6.E2=0;j6.uZ=function(K,E){var x=0;if(Date.now()-j6.E2>1e3){x=E==0?100:E*10}else{if(K%10!=0)K*=10;
x=(K+E)%100}j6.E2=Date.now();return x};j6.ald={nm:"No Touch",Ky:["NoTouch"]};j6.Tt={jF:"Enter",Ky:["Enter","NumpadEnter"]};
j6.iu={jF:"Shift",sH:"\u21E7",Ky:["ShiftLeft","ShiftRight"]};j6.lh={jF:"Meta",Ky:["MetaLeft","MetaRight","OSLeft","OSRight"]};
j6.Se={jF:"Ctrl",sH:"\u2318",Ky:"ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")};
j6.iE={jF:"Alt",sH:"\u2325",Ky:["AltLeft","AltRight"]};j6.afw={jF:"CtrlOrAlt",Ky:j6.Se.Ky.concat(j6.iE.Ky)};
j6.go={jF:"Escape",Ky:["Escape"]};j6.rm={jF:"Space",Ky:["Space"]};j6.H2={jF:"Tab",Ky:["Tab"]};j6.kg={jF:"Home",Ky:["Home"]};
j6.awj={jF:"End",Ky:["End"]};j6.m9={jF:"Left",Ky:["ArrowLeft"]};j6.Wp={jF:"Up",Ky:["ArrowUp"]};j6._J={jF:"Right",Ky:["ArrowRight"]};
j6.YD={jF:"Down",Ky:["ArrowDown"]};j6.Q5={jF:"+",Ky:["NumpadAdd","Equal"]};j6.jb={jF:"-",Ky:["NumpadSubtract","Minus"]};
j6.Rn={jF:";",Ky:["Semicolon"]};j6.av1={jF:"Dead",Ky:["Dead"]};j6.a5e={jF:"=",Ky:["Equal"]};j6.oh={jF:"Backspace",Ky:["Backspace"]};
j6.C3={jF:"Delete",Ky:["Delete"]};j6.a87={jF:"Backslash",Ky:["Backslash","IntlBackslash"]};j6.aqC={jF:"Slash",Ky:["NumpadDivide","Slash"]};
j6.an1={jF:"Backquote",Ky:["Backquote"]};j6.tz={jF:"[",Ky:["BracketLeft"]};j6.fl={jF:"]",Ky:["BracketRight"]};
j6.e1={jF:".",Ky:["Period"]};j6.C0={jF:",",Ky:["Comma"]};j6.cR={jF:"'",Ky:["Quote"]};j6.c={jF:"A",Ky:["KeyA"]};
j6.wf={jF:"B",Ky:["KeyB"]};j6.ww={jF:"C",Ky:["KeyC"]};j6.hY={jF:"D",Ky:["KeyD"]};j6.E={jF:"E",Ky:["KeyE"]};
j6.ni={jF:"F",Ky:["KeyF"]};j6.Zt={jF:"G",Ky:["KeyG"]};j6.CZ={jF:"H",Ky:["KeyH"]};j6.th={jF:"I",Ky:["KeyI"]};
j6.QY={jF:"J",Ky:["KeyJ"]};j6.ms={jF:"K",Ky:["KeyK"]};j6.sm={jF:"L",Ky:["KeyL"]};j6.m3={jF:"M",Ky:["KeyM"]};
j6.KA={jF:"N",Ky:["KeyN"]};j6.m8={jF:"O",Ky:["KeyO"]};j6.jT={jF:"P",Ky:["KeyP"]};j6._x={jF:"Q",Ky:["KeyQ"]};
j6.oE={jF:"R",Ky:["KeyR"]};j6.Ed={jF:"S",Ky:["KeyS"]};j6.vJ={jF:"T",Ky:["KeyT"]};j6.Vd={jF:"U",Ky:["KeyU"]};
j6.od={jF:"V",Ky:["KeyV"]};j6.FC={jF:"W",Ky:["KeyW"]};j6.s7={jF:"X",Ky:["KeyX"]};j6.abr={jF:"Y",Ky:["KeyY"]};
j6.WV={jF:"Z",Ky:["KeyZ"]};j6.GN={jF:"0",Ky:["Numpad0","Digit0"]};j6.xJ={jF:"1",Ky:["Numpad1","Digit1"]};
j6.a7T={jF:"2",Ky:["Numpad2","Digit2"]};j6.a7q={jF:"3",Ky:["Numpad3","Digit3"]};j6.a0p={jF:"4",Ky:["Numpad4","Digit4"]};
j6.asX={jF:"5",Ky:["Numpad5","Digit5"]};j6.amV={jF:"6",Ky:["Numpad6","Digit6"]};j6.a7S={jF:"7",Ky:["Numpad7","Digit7"]};
j6.a4p={jF:"8",Ky:["Numpad8","Digit8"]};j6.a3g={jF:"9",Ky:["Numpad9","Digit9"]};j6.Bg=[j6.GN,j6.xJ,j6.a7T,j6.a7q,j6.a0p,j6.asX,j6.amV,j6.a7S,j6.a4p,j6.a3g];
j6.agS={jF:"F1",Ky:["F1"]};j6.a5l={jF:"F2",Ky:["F2"]};j6.aam={jF:"F3",Ky:["F3"]};j6.aoo={jF:"FF",Ky:["F4"]};
j6.dL={jF:"F5",Ky:["F5"]};j6.a6p={jF:"F6",Ky:["F6"]};j6.auy={jF:"F7",Ky:["F7"]};j6.acL={jF:"F8",Ky:["F8"]};
j6.a1f={jF:"F9",Ky:["F9"]};j6.a62={jF:"F10",Ky:["F10"]};j6.a9_={jF:"F11",Ky:["F11"]};j6.auu={jF:"F12",Ky:["F12"]};
function cd(K){jG.call(this);this.pU={};this.Df={};this.auH=0;this.a94={};this.a7=[];this.a8J=0;this.Rk=K;
cd.ic=this}cd.ak9=function(K,E){var y=0,x=cd.pc;while(y<x.length){if((E>>>y&1)==1)break;y++}if(y!=0&&cd.EJ(K,[33,126])>.7)y=0;
if(E==0||x[y][1]==""){if((E&15)!=0&&cd.EJ(K,[33,126])>.7)y=0;else if(E==0)y=0;else{y=0}}return x[y][1]};
cd.mn=120;cd.Gr=20;cd.cols=16;cd.ts=function(K){var E=K.name.postScriptName;if(E==null)return null;return E.replace(/ /g,"-")};
cd.D0=function(K){var E=K.name,x=E.typoFamilyName,c=E.typoSubfamilyName,J=x&c,i=J?x:E.fontFamily,P=J?c:E.fontSubfamily;
if(P==null)P="Regular";var _=cd.adw,a=i.toLowerCase();for(var y=0;y<_.length;y++){if(_[y]=="roman")continue;
if(a.endsWith(" "+_[y])||a.endsWith("-"+_[y])){var j=i.length-_[y].length,e=i.slice(j);i=i.slice(0,j-1);
if(e!=""){if(P=="Regular"||P==i+" Regular")P=e;else P=e+" "+P}break}}var d="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,Qomolangma,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(",");
for(var y=0;y<d.length;y++)if(i.startsWith(d[y])){var e=i.slice(d[y].length);i=d[y];if(e.startsWith(" ")||e.startsWith("-"))e=e.slice(1);
if(e!=""){if(P=="Regular")P=e;else P=e+" "+P}break}var I={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},v=I[cd.ts(K)];
if(v)P=v;return[i,P]};cd.prototype.abm=function(K){var E=this.fa();for(var x in E)if(E[x][0]==K)this.i2(x)};
cd.prototype.a9U=function(){return Object.keys(this.Df).length!=0};cd.prototype.i2=function(K,E){if(this.pU[K])return this.pU[K];
if(this.Df[K])return null;var x=null,c=this.fa();if(c[K]!=null)x=c[K][5];if(x==null){var J=cd.D$[K];
if(J==null){var i="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),P=K.toLowerCase(),_=0;
if(P.indexOf("sans")!=-1)_=0;else if(P.indexOf("serif")!=-1)_=4;var a=P.indexOf("bold")!=-1||P.indexOf("-black")!=-1,j=P.indexOf("italic")!=-1||P.indexOf("oblique")!=-1||P.endsWith("-it");
if(a&&j)_+=3;else if(j)_+=2;else if(a)_+=1;J=i[_]}if(E!=null&&E>128)J=this.MH(E,J);if(this.a94[K]==null){this.a94[K]=1;
var e=Date.now()-this.auH>2e3?2e3:0;this.auH=Date.now();alert(K+" \u27A1 "+J,e)}return this.i2(J,E)}this.Df[K]="a";
this.Rk(x)};cd.prototype.MH=function(K,E,x){var c=this.pU[E];if(c&&Typr.U.codeToGlyph(c,K)!=0)return E;
var J=this.fa(),i=cd.avw(K),P=i[0];if(J[E]&&(J[E][3]&P)==0){if(x)for(var y=0;y<x.length;y++){var _=x[y].Name,a=J[_];
if(a&&(a[3]&P)!=0)return _}var _=cd.pc[i[1]][4];if(J[_])return _}return E};cd.avw=function(K){var E=cd.pc,x=[0];
for(var y=0;y<E.length;y++){var c=E[y][2];for(var J=0;J<c.length;J+=2)if(c[J]<=K&&K<=c[J+1]){x[0]+=1<<y;
x.push(y)}}if(x.length==1)x.push(0);return x};cd.prototype.ajd=function(){var K=this.a7,E=K[0],x=K.length-1;
alert(hg.get([22,6,0])+" "+E+(x==0?"":", ... ("+x+")")+" "+hg.get([23,0])+".",1500);this.a7=[]};cd.prototype.aii=function(K,E){if(E!=!0){this.a7.push(K.name.fullName);
clearTimeout(this.a8J);this.a8J=setTimeout(this.ajd.bind(this),300)}var x=cd.ts(K),c=this.fa(),J=c[x],i=cd.a97(K);
if(J==null){var P=document.createElement("canvas"),_=P.getContext("2d");P.width=cd.mn;P.height=cd.Gr;
var a=cd.Gr*1.2/K.head.unitsPerEm;_.translate(4,cd.Gr*.9);_.scale(a,-a);_.fillStyle="#000000";var j=Typr.U.shape(K,cd.ak9(K,i[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(K,j),_);_.fill();i.aqT=P.toDataURL();this.d$(i)}delete this.Df[x];
this.pU[x]=K};cd.a2A=function(){var K=cd.pc,E=[];for(var y=0;y<K.length;y++)E.push(K[y][0]);return E};
cd.pc=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","\u0395\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","\u041F\u0440\u0438\u0432\u0435\u0442",[1040,1119],.7,"DejaVuSans"],["Hebrew","\u05E2\u05D1\u05E8\u05D9\u05EA",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","\u0627\u064E\u0644\u0652\u0639\u064E\u0631\u064E\u0628\u0650\u064A\u064E\u0651\u0629\u064F",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","\uC608\uACE0\uD3B8",[4352,4607,44032,55203,12593,12686],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","\u9810\u7FD2",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","\u0F50\u0F74\u0F42\u0F66\u0F0B\u0F62\u0F97\u0F7A\u0F0B\u0F46\u0F7A\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","\u092A\u0942\u0930\u094D\u0935\u093E\u0935\u0932\u094B\u0915\u0928",[2304,2431],.7,"Hind-Regular"],["Thai","\u0E20\u0E32\u0E1E\u0E15\u0E31\u0E27\u0E2D\u0E22\u0E48\u0E32\u0E07",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","\u1798\u17BE\u179B\u1787\u17B6\u1798\u17BB\u1793",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem tr\u01B0\u1EDBc",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"],["Bengali","\u09B8\u09CD\u09AC\u09BE\u09A7\u09C0\u09A8\u09AD\u09BE\u09AC\u09C7",[2432,2559],.2,"FreeSans"],["Emoji","",[9728,10095,127744,129535],.01,"DejaVuSans"]];
cd.a97=function(K,E,x){var c=K.name,a=0;if(cd.ts(K)==null){console.log(K);throw"No postScriptName!"}var J=cd.pc,i=[];
for(var y=0;y<J.length;y++){var P=J[y][2],_=J[y][3];i[y]=cd.EJ(K,P)>_?1:0}for(var y=0;y<i.length;y++)a+=i[y]<<y;
var j=cd.D0(K);return[j[0],j[1],cd.ts(K),a,x,E]};cd.EJ=function(K,E){var x=0,c=0;for(var J=0;J<E.length;
J+=2){for(var i=E[J];i<=E[J+1];i++){var P=Typr.U.codeToGlyph(K,i);if(P==0)c++;else x++}}return x/(x+c)};
cd.akI=function(K,E){if(K[2]<E[2])return-1;if(K[2]>E[2])return 1;return 0};cd.a9H=function(K,E){if(K[5]=="fs/"+K[2]+".otf")K[5]="";
else if(K[5]=="gf/"+K[2]+".otf")K[5]="a";if(K[2]==(K[0]+"-"+K[1]).replace(/\s/g,"")){K[2]=""}else if(K[2]==K[0].replace(/\s/g,"")){K[2]="a"}if(E){if(K[0]==E[0])K[0]="";
if(K[1]==E[1])K[1]="";if(K[3]==E[3])K[3]="";if(K[4]==E[4])K[4]=""}return K.join(",")};cd.aoM=function(K,E){K=K.split(",");
if(K[0]=="")K[0]=E[0];if(K[1]=="")K[1]=E[1];if(K[3]=="")K[3]=E[3];else K[3]=parseInt(K[3]);if(K[4]=="")K[4]=E[4];
else K[4]=parseInt(K[4]);if(K[2]=="")K[2]=(K[0]+"-"+K[1]).replace(/\s/g,"");else if(K[2]=="a")K[2]=K[0].replace(/\s/g,"");
if(K[5]=="")K[5]="fs/"+K[2]+".otf";else if(K[5]=="a")K[5]="gf/"+K[2]+".otf";return K};cd.D$={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"CourierPrime","CourierNewPS-BoldMT":"CourierPrime-Bold","CourierNewPS-ItalicMT":"CourierPrime-Italic","CourierNewPS-BoldItalicMT":"CourierPrime-BoldItalic",Courier:"CourierPrime","Courier-Bold":"CourierPrime-Bold",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Impact:"Anton-Regular",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","BasisGrotesque-Regular":"Roboto-Regular","BasisGrotesque-Medium":"Roboto-Medium","BasisGrotesque-Bold":"Roboto-Bold",ElementaPro:"FreeMono","ElementaPro-Bold":"FreeMonoBold","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"Roboto-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-Black":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold","MyriadPro-SemiboldCond":"PTSans-NarrowBold","MyriadPro-BoldCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL","MinionPro-Regular":"CrimsonText-Regular","LyonDisplay-Medium":"Buenard-Regular","LyonText-Regular":"Buenard-Regular","LyonDisplay-Black":"Buenard-Bold","LyonText-Bold":"Buenard-Bold","Interstate-Light":"Overpass-Light","Interstate-Regular":"Overpass-Regular","Interstate-Bold":"Overpass-Bold","Interstate-BlackCondensed":"Overpass-Black",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic"};
cd.prototype.fa=function(){if(FNTS.map==null){var K=FNTS.list,E=[];for(var y=0;y<K.length;y++){E[y]=cd.aoM(K[y],E[y-1]);
E[y].JD=y;this.d$(E[y])}}return FNTS.map};cd.prototype.d$=function(K){var E=K[0],x=K[1],c=K[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[K[2]]=K;if(FNTS.mapFS==null)FNTS.mapFS={};var J=FNTS.mapFS[E+"---"+x];FNTS.mapFS[E+"---"+x]=K;
if(FNTS.mapSub==null)FNTS.mapSub={};var i=FNTS.mapSub[E];if(i==null)i=FNTS.mapSub[E]=[];var P=i.indexOf(x);
if(P==-1)i.push(x);else i[P]=x};cd.afQ=function(K,E){return cd.lN(K)-cd.lN(E)};cd.lN=function(K){K=K.toLowerCase();
var E=cd.a0O(K)+(cd.apF(K)<<1);if(K.indexOf("cond")==-1)E+=1<<25;return E};cd.a0O=function(K){return K.indexOf("italic")!=-1||K.indexOf("oblique")!=-1?1:0};
cd.adw="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
cd.aoh=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"];
cd.apF=function(K){var E=cd.aoh,x=-1,c=-1;for(var y=0;y<E.length;y++){var J=E[y];if(J instanceof Array)for(var i=0;
i<J.length;i++){var P=J[i];if(K.indexOf(P)!=-1&&(x==-1||c<P.length)){x=y;c=P.length}}else if(K.indexOf(J)!=-1&&(x==-1||c<J.length)){x=y;
c=J.length}}if(x==-1)x=8;return x};cd.fi=function(K,E){var x=1e9,c=null,J=cd.lN(E);for(var y=0;y<K.length;
y++){var i=Math.abs(cd.lN(K[y])-J);if(i<x){x=i;c=K[y]}}return c};cd.prototype.sK=function(K,E){this.fa();
return FNTS.mapFS[K+"---"+E]};cd.prototype.B$=function(K){this.fa();return FNTS.mapSub[K]};cd.prototype.fA=function(){this.fa();
return FNTS.mapSub};var dq={mp:0,z_:null,an:null,Lv:null,BP:null,VI:null,hE:!0,TZ:0,CG:!1};dq.event=function(K){var E=new XMLHttpRequest;
E.open("GET","/papi/event.php?id="+K+"&rnd="+Math.random());E.send()};dq.bI=function(){var K=dq.A9();
if(K==null)return null;var E=U._H(24)?" ":"",x=U.rT[U.Ea("Uu,"+E)];x=x[U.Ea(E+"$/")];var c=dq.qM(1,999);
if(c&&dq._1(c)*50>x()/20)return[0,c];var J=K.inTeams;if(J)for(var y=0;y<J.length;y++)if(J[y][1]*50>x()/20)return[1,J[y]];
return null};dq.Zc=function(){return dq.arH()!=null};dq.we=function(){return dq._1(dq.qM(1e3,999999999))};
dq._1=function(K){return K==null?0:K[0]+K[1]*24*60*60};dq.qM=function(K,E){var x=dq.A9(),c=x.pmnts,J=0,i=null;
if(c==null||c.length==0)return 0;for(var y=0;y<c.length;y++){var P=c[y],_=dq._1(P);if(K<=P[2]&&P[2]<=E)if(J<_){J=_;
i=P}}return i};dq.A9=function(){return dq.VI};dq.w9=function(K){window.addEventListener("message",dq.abK,!1);
setInterval(dq.i6,5e3);if(dq.Zc()&&navigator.onLine){dq.z_=K;dq.fs()}else setTimeout(K,1)};dq.i6=function(){if(dq.Zc()&&dq.CG){dq.du(dq.Rp());
dq.CG=!1}};dq.KQ=function(K){dq.z_=K;var E="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);
dq.Lv=window.open(E,"_blank")};dq.ajr=function(){localStorage.removeItem(dq.mp+"_uid");localStorage.removeItem(dq.mp+"_provider");
localStorage.removeItem(dq.mp+"_token");dq.VI=null};dq.abK=function(K){if(K.data instanceof ArrayBuffer||K.data instanceof Object)return;
if(K.data.charAt(0)!="{")return;var E=JSON.parse(K.data);if(E.prms==null)return;var x=E.prms.split(",");
if(x[0]=="papi_logged_in"){localStorage[dq.mp+"_uid"]=x[1];dq.Nc(x[2]);localStorage[dq.mp+"_provider"]=x[3];
dq.Lv.close();dq.fs()}if(x[0]=="payment_complete"){dq.BP.close();dq.fs()}};dq.arH=function(){var K=localStorage[dq.mp+"_token"];
if(K!=null&&Date.now()*.001+10<parseInt(K.split("-")[0]))return K;return null};dq.Nc=function(K){var E=localStorage[dq.mp+"_token"];
if(E!=null&&parseInt(K.split("-")[0])<parseInt(E.split("-")[0]))return;localStorage[dq.mp+"_token"]=K;
clearTimeout(dq.TZ);dq.TZ=setTimeout(dq.a78,Math.min(1e9,parseInt(K.split("-")[0])*1e3-Date.now()-20*1e3))};
dq.uq=function(K,E,x,c){if(!navigator.onLine)throw"a";var J=new XMLHttpRequest;J.open("POST","https://www.photopea.com/papi/record_new.php",!0);
J.onload=x;var i=dq.k3(0)+"&read=3&tuid="+K+"&tid="+E;if(c)i+="&tpl="+encodeURIComponent(c);J.setRequestHeader("Content-type","application/x-www-form-urlencoded");
J.send(i)};dq.a78=function(){if(!navigator.onLine)throw"a";var K=new XMLHttpRequest;K.open("POST","https://www.photopea.com/papi/record_new.php",!0);
K.onload=dq.abk;var E=dq.k3(0)+"&read=2";K.setRequestHeader("Content-type","application/x-www-form-urlencoded");
K.send(E)};dq.fs=function(){if(!navigator.onLine)throw"b";var K=new XMLHttpRequest;K.open("POST","https://www.photopea.com/papi/record_new.php",!0);
K.onload=dq.aaL;var E=dq.k3(0)+"&read=1";K.setRequestHeader("Content-type","application/x-www-form-urlencoded");
K.send(E)};dq.du=function(K){if(!navigator.onLine)throw"c";var E=new XMLHttpRequest;E.open("POST","https://www.photopea.com/papi/record_new.php",!0);
E.onload=dq.a0k;var x=dq.k3(0)+"&read=0&score="+(K.tpl?1:0)+"&spublic="+dq.hE+"&record="+encodeURIComponent(JSON.stringify(K));
E.setRequestHeader("Content-type","application/x-www-form-urlencoded");E.send(x)};dq.aaL=function(K){var E=JSON.parse(K.target.response);
if(E.error){}else{dq.VI=E.user;var x=dq.Rp(),c=E.record;if(E.record){dq.hE=E.spublic;dq.Ce(c)}else if(x)dq.du(x)}dq.Nc(E.token);
if(dq.z_){dq.z_();dq.z_=null}if(dq.an){dq.an();dq.an=null}};dq.abk=function(K){var E=JSON.parse(K.target.response);
dq.Nc(E.token)};dq.a0k=function(K){var E=JSON.parse(K.target.response);dq.Nc(E.token);if(dq.an)dq.fs()};
dq.k3=function(K){return"app="+K+"&uid="+localStorage[dq.mp+"_uid"]+"&token="+localStorage[dq.mp+"_token"]};
dq.b5=function(){return dq.Rp()};dq.S9=function(K,E){dq.Ce(K);dq.CG=!0;if(E){dq.an=E;dq.i6()}};dq.Rp=function(){var K=localStorage[dq.mp+"_stateLocal"],E;
if(K==null)return null;try{E=JSON.parse(K)}catch(hg){return null}return E};dq.Ce=function(K){var E=JSON.stringify(K);
localStorage[dq.mp+"_stateLocal"]=E};dq.order=function(K,E,x){dq.z_=x;var c="https://www.photopea.com/papi/order.php?ptype="+E+"&param="+K+"&uid="+localStorage[dq.mp+"_uid"]+"&token="+localStorage[dq.mp+"_token"];
dq.BP=window.open(c,"_blank")};dq.a0d=function(K,E){dq.z_=E;var x="https://www.photopea.com/papi/insertKey.php?key="+K+"&uid="+localStorage[dq.mp+"_uid"]+"&token="+localStorage[dq.mp+"_token"];
dq.BP=window.open(x,"_blank")};var hg={};hg.AZ=0;hg.mW={};hg.mw=function(K){var E=LNG.tables,x=E[K];
if(x==null)x=E[0];if(typeof x=="string"){x=E[K]=hg.JH(x)}return x};hg.JH=function(K){var E=[],x=0,c=0,J=[],i=K.length;
while(c!=i){var P=K[c];if(P=="["){E.push(J);J=[];c=x=c+1}else if(P=="]"){J.push(x==c?null:K.substring(x,c));
var _=J;J=E.pop();J.push(_);c=x=c+1}else if(P==";"){if(K[c-1]!="]")J.push(x==c?null:K.substring(x,c));
c=x=c+1}else c++}return J};hg.get=function(K){if(typeof K=="string")return K;var E=typeof K[0];if(E=="number"){for(var y=1;
y<K.length;y++)if(typeof K[y]!="number"){console.log(K);throw"e"}return hg.a7R(K)}var x=hg.get(K[0]);
for(var y=1;y<K.length;y++){var c=hg.get(K[y]),J=x.indexOf("VAR"+(y-1));x=x.slice(0,J)+c+x.slice(J+4)}return x};
hg.a7R=function(K){var E=JSON.stringify(K);if(hg.mW[E]!=null)return hg.mW[E];var x=hg.mw(0),c=hg.mw(hg.AZ),J=hg.pe(K,c);
if(J==null)J=hg.pe(K,x);return J};hg.pe=function(K,E){for(var y=0;y<K.length;y++){E=E[K[y]];if(E==null)return null;
else if(typeof E=="string")break}if(E instanceof Array)E=E[0];return E.split("::")[0]};hg.ay_=function(){var K=function(x,c){var J=x.code,i=c.code;
if(J=="en")return-1;if(i=="en")return 1;var P=navigator.languages,_=P.indexOf(J)!=-1,a=P.indexOf(i)!=-1;
if(_&&a)return J>i?1:-1;if(_)return-1;if(a)return 1;return J>i?1:-1},E=LNG.langs.slice(0);E.sort(K);
return E};hg.Pw=function(K,E){hg.AZ=K;if(LNG.tables[K])E();else{var x=new XMLHttpRequest;x.open("GET","code/lang/"+K+".js");
x.onreadystatechange=function(){LNG.tables[K]=x.responseText;E()};x.send()}};hg.E0=function(K,E){for(var x=0;
x<2;x++){var c=!1;for(var y=0;y<LNG.langs.length;y++)if(LNG.langs[y].code==K){hg.Pw(y,E);c=!0}if(c)break;
K=K.split("-")[0]}};hg.pK=function(){return LNG.langs[hg.AZ].code};hg.aeI=function(K){for(var y=0;y<K.length;
y+=2)if(K[y+1].indexOf(">")==-1)hg.mW[JSON.stringify(K[y])]=K[y+1]};hg.aeP=function(K){var E=-1,x=LNG.langs;
for(var y=0;y<x.length;y++)if(x[y].code==K)E=y;return E};var aG={cd:!1,$w:!1,QE:!1};aG.IW=function(){return U.rT[g6.mk]!=U.rT[g6.adv]};
aG.Wx=function(){var K=U.rT[g6.He],E=K[g6.Zz],x=0,c=g6.sk,J=U.Ij("PP\\KQSB"),i=U.Ij("Y_5UDDB>idge"),P=K[g6.zs](g6.a0F);
P[c](g6.Nd,J);P[c](g6.ws,U.Ij("fUMZKyqifDIhJ0*+&$-OG?<y~>"));E[g6.S$](P);P=K[g6.a7$](J);if(P==null){x=2}else{if(!E[U.Ij("R[WZDIKM")](P)){x=3}else if(Math.round(P[U.Ij("VQ](RUK>@B8p71*03m}x'")]()[g6.Cx]-500)>5){x=4}E[g6.H$](P)}if(aG.$w)x=5;
if(aG.QE)x=6;return x};aG.apB=function(K){var E=U.Ea("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),x={method:"HEAD",mode:"no-cors"},c=new Request(E,x);
fetch(c).then(function(J){return J}).then(function(J){var i=U.Ea("y),+1ZRU-:@`KGEBQS[P\\e\"Zij/y88DDvHzTSWW-Y1>DdDP"),c=new Request(i,x);
fetch(c).then(function(J){return J}).then(function(J){K(!1)}).catch(function(P){aG.$w=!0;console.clear();
K(!0)})}).catch(function(J){aG.$w=!0;console.clear();K(!0)})};aG.atQ=function(){var K=U.Ij("UU[YW#ECC8"),E=U.Ij("VQ](RUK>@B8p71*03m}x'"),x=U.Ij("WQRMKT"),c=this.ain[K][E]();
if(c[x]<4){aG.QE=!0;this.afP(!0)}};aG.a2W=function(){var K=U.rT._cwY,E=U.rT[g6.Ci],x="FQh[VE\\;;J6@?18',!'*2${)mht|gfbVgjNTT^KNHR42@,00.(|#&<+atwq{][iYPOfWFCHKTF>K++B\"))y~y{q'eeq)wE^TM\\Kn_I?KSFAJ;-16;2%(/mmy/ llvVfgjId2QAF?H=L+*'03),49Onktwmpx#r<\\Qf-O]gWvGHTVEc&1~)3&{lssdidf\\qPP\\qbRBFF55Mz046.,}v@",c=String.fromCharCode(32);
K(U.Ij(x)+c+c+aG.Wx());if(!dq.bI())E(aG.a2W,Math.round(Math.PI*1e4))};aG.he=function(K){var E=U.rT[g6.He],x=E[g6.zs](K[0]);
for(var c in K[1]){if(c=="txt")x[g6.eM]=K[1][c];else x[g6.sk](c,K[1][c])}return x};aG.az7=function(K,E,x,c,J){U.w6(x);
var i=U.rT[g6.He],P=U.Ea(" u.$%\"86<"),_=U.Ea("!#c$,&"),a=U.rT[P][_],j=U.rT[U.Ea(" u.$%\"86<")][U.Ea("}u&\"3\"+,=")].indexOf("ru")!=-1&&Math.random()<.1;
if(!aG.IW()&&!aG.Wx()&&a&&K*E>300*300&&!j){var e=i[U.Ij("VQ]+OEJ?EHDoD{&)l|&z")](g6.YE)[0],d=JSON.parse(U.Ea("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
for(var y=0;y<d.length;y++){var I=aG.he(d[d.length-1-y]);e[g6.a08](I,e[g6.avc])}var v=U.Ea("p}&$2a(:"),n=U.Ea("'#!}i0%+"),C=U.Ea("ps,}$\"40"),T=U.rT.__cbu=aG.he(JSON.parse(g6.Ij("JmMOYahUX=5OdI:0(~($&tz}3fok``[rkH")));
x[g6.S$](T);U.rT.___ggo=function(){U.rT[C](g6.xW,2,function(s,Q){if(Q&&s[n]==!0){if(!U.rT[v]){U.rT[v]=!0;
var X=aG.acW.bind({X0:x,a7o:J,head:e,o4:E});X()}}})}}else{var o=aG.a53.bind({ain:x,agQ:c,aqH:J,o4:E});
o();setInterval(o,3e4)}};aG.a4P="JGxstk^CD;_>;'9#+(F&!v.5(lmd)gdPeTLJoOJ@W0[(YRE*+\"F,r!9xsi!(z_`W{aHV@UD<:_?:0GNA%.+$$G96}psom#TTz?_ooGTy%>bkIPC@G:7o;g944,~cd[ ULUJUm?HB46.-;337H\"%x07*nof+`W`U`xJSM?A98F>>B%:M'*}5</96gpj\\^VUc[[_pIS;E?^<0<FM@=D74l8d611){`aX|RIRGRj<EA>2-;-0,H\"%x07*nof+`W`U`xJSOL@;I;>:(=P*-!8?2<9jsol`[i[^ZvOYAKEdB6BLSFCJ=:r>j<77/\"fg^#XOXMXpCEGE;E;>XQ+.\"9@3wxo4i`i^i\"TVXVLVLOi4I\\69-DK>HEwy{yoyor-&^hPZTsQEQ[bURYLI\"MyKFG>1uvm2g^g\\g ZZ]ITH@>H`:=1HOB'(~Cxoxmx1kknZeYQOYCXkEH<SZMWT:74G##&q|phfp)[d_pwjgna^7b/`[[SF+,#G|s|q|5polhjhV`^uORF]dW<=4X.%.#.F\"!}y{ygqoXm!Z]QhobliEDA=?=+53J#-t~x8uiu 'yv}pmFq>ojkbU:;2V,#,!,D'xz#srnpn\\fd{UXLcj]BC:^4+4)4L/!#+{zvxvdnlUj}WZNel_ifI;=E65131~)'>v!hrl,i]iszmjqda:7";
aG.a53=function(){var K=U.rT[g6.He],E=this.ain,x=this.agQ,c=this.aqH,J=this.o4;U.w6(E);var i=U.rT[g6.Ea(" u.$%\"86<")][g6.Ea("}u&\"3\"+,=")].indexOf("ru")!=-1&&Math.random()<1.25,P=c==1?1:aG.T_(J),_=JSON.parse(g6.Ij(aG.a4P)),a=K[g6.zs]("a");
a.textContent=g6.Ij("0PhHOO@E@B8M/-9'\"0}y");a[g6.sk](g6.ii,g6.Ij("}z`]ZmMBFH@>0)R%.)G*($ 8ggs*ce!aVZ\\TRD=e:B\\;9;P8--#A)vl|2vn)]e\""));
a[g6.sk](g6.Bt,g6.Ea("pv${,,"));a[g6.sk](g6.ws,g6.Ij("R[UUUyTB@H6h"));if(!i)E[g6.S$](a);for(var y=0;
y<P;y++){var j=Math.random(),e=0,d=0;while(e+_[d][0]<j){e+=_[d][0];d++}if(i)d=1;var I=_[d],v=K[g6.zs](g6.tt);
v[g6.sk](g6.ws,g6.Ij("Ra[YRRvJF=?B0:_")+g6.Ij(c==1?"fUMZKymofDIh3-.)'0RKB?|\"A":"fUMZKyoifDIh3-.)'0RGG?|\"A"));
v[g6.sk](g6.P3,I[c]);if(I.length>3){var n=I[3]+I[3+c],a=K[g6.zs]("a");a[g6.sk](g6.ii,n);a[g6.sk](g6.Bt,g6.Ea("pv${,,"));
a[g6.S$](v);E[g6.S$](a)}else{v[g6.xW](g6.lj,x,!1);E[g6.S$](v)}}};aG.T_=function(K){var E=2;if(K>=3*270+30)E=3;
if(K>=4*270+30)E=4;return E};aG.acW=function(){var K=g6.S$,E=g6.sk,x=g6.xW,c=g6.D$,J=g6.ws,i=g6.P3,P=U.Ij("P_bTF"),_=g6.eM,a=g6.Ra,j=U.rT[g6.He],e=g6.zs,d=g6.ag3,I=U.rT.__cbu,v=this.X0,n=this.a7o,C=this.head,T=this.o4,o=U.Ea("~u*\"'/P)9ADBCrlnR]"),s=[.05,0,.95],Q=Math.random(),X=0;
while(s[X]<Q&&X<s.length-1){Q-=s[X];X++}if(X==0){console.log(0);if(!aG.cd){aG.cd=!0;var B=g6.Ea("w'x(##39.2B^edOBTTTWW_[#hl,pg{sx!}}%&*9SZY>5IAFNZOM`W}%$omqqh|ty\"BIH,(,=90D<AIipo^SQd[\"*(ggnos#=E"),M=g6.Ea("\"|'/-1)(W0?@5iqnZzwzM5:G&mhrzx|tsC{+,!WWZFbhf9!&3qy\"~j+(+*447#?EC"),S=B.split(","),f=M.split(","),F=f[n==1?0:1],G=f[n==1?2:3],D=n==1?1:aG.T_(T);
for(var b=0;b<D;b++){var H=j[e](a);for(var y=0;y<S.length;y+=2)H[E](S[y+0],S[y+1]);H[E](g6.Ij("SM]GoIA"),F);
H[E](J,o);v[K](H)}var q=g6.Ea("9z-)!5-68LW[UT[UCWg^WkY4!\\_*2)ms($\"0>^DNWZW_V=EIOJ7QcidjfGe$D*4BDLKOW[W[bbX`WSKML[^]o0ugav\"]UWV&)(l#29,=AW[pQIKJY\\[{`bi_^d|y}m$wx!|-)*GgM7IE=QIRTptj[[ skml{~}>&{z!9u:*@4nqkZcfc_WYXgji*rvf|!\"NQIJMI?=+?O8IXx^FTK`[Vbk(nuhx#_t~z{0.4e47UR/;;QAoOM)us Y_som{5/7p8BW6$8H1NnTxMPB]tP__`}^o(0kqw#v'?!3/';3<>Z;a[ZTJ\\``_sw_+hdyJ!$%~z13'LI//E5cLBNGK[QSs}u$9jj/o;|x%!1(BcH[WM:eAMS)HMUwYkg_sktv3s}=31~3C00?1@;Xx^GQuN]_h\\hqWltm{'@y(~4/*6?h::I;JEpUYQ]y}3ddseto;(& .\"G;354CFEeMCTTVX`UG[qp(=nn}o~yE}*07,QUj8BfODV&\\_`ZVlnb(*jj!p?(}*#'7-/T\\SKLREkcqilo0n\\p!gosytPy\"&,'s.@FAGC$BnXYSZw{5 (&-hptzub|/5062r1]GHBIfj~nq)iacbqts4x|t!=:bcuFSJT9HKJPyqtYaQSYk)e/hv o|xy&&#.S71C`<9HNBHuKQh2_n9.39?=BGEOSDK'/394]\\gbiCI]YWe~} pz@-4q}u%|!ssmO>7K9_dceW#9XPUZe`luc{$}u8I]0%5<2:6W[b~?UItX\\gz~%{stzm4I*\"$#254T=2>7]av\\jlp&");
q=q.replace("__",G);q=q.replace("--",F);var O=j[e](d);O[_]=q;v[K](O)}}else if(X==1){console.log(1);if(n==1){var w=j[e](U.Ea("u}."));
w[E](J,o);var V=j[e](U.Ea("u}."));w[K](V);V[E](U.Ea("zx"),U.Ea("AK}|~T()V`1i9eoEGwtL##V$`0e4>@rtvMOL"));
V[E](U.Ea("t!x.1"),U.Ea("pu(y~1)?).4"));var q=U.Ea("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#Iol}(ZY[1de3=mFuBL\"$TQ)__3`=lBpz|OQS*,)|'<$'(6K"),O=j[e](d);
O[_]=q;V[K](O);v[K](w)}else if(n==2){var t=aG.T_(T);for(var y=0;y<t;y++){var w=j[e](U.Ea("u}."));w[E](J,o);
var V=j[e](U.Ea("u}."));w[K](V);V[E](U.Ea("zx"),U.Ea("rKI!#X%WV/ac9eoqDyt#~(($]_dg>A@suI|T"));V[E](U.Ea("t!x.1"),U.Ea("pu(y~1)?).4"));
var q=U.Ea("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#IolO(&]_5a43k>@uBLN!VQ_[dd`:<ADz}|PR&Y1|'<$'(6K"),O=j[e](d);
O[_]=q;V[K](O);v[K](w)}}if(!aG.cd){aG.cd=!0;var q=U.Ea("9z-)!5-68TG^U=d^]dgaOcsjy: g4l~ts*}`+'2-9BXZJ=OISZot*qh&npd$D*4?By}+M$*9AB:JHhAPQu}}'%&(]crz{s$\"B\".D[CF=ZDLF>[{ak\\Pfe#a[savi{u '<S;2O&;D<4SsYQRXK$kvV#_`rFplwr~(*[6s$-v-<7\\^CCBHmrH Puux~f3op#V!|(#/8:kF$4='=LGlnM]Um}#X0`/7m #z' a*.4/UD\\qY\\]km`U]Vdo'}esj zu\"+BW"),O=j[e](d);
O[E](U.Ea("uu,{J$*(=F>6"),U.Ea("wu$.#"));O[_]=q;C[K](O)}}else{console.log(2);var m=j[e](d);m[E](i,U.Ea("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
m[E](g6.a2v,"");C[K](m);var g=JSON.parse(U.Ea("l6{$4M+7>Y17bIDNVTXPOTcd-245=+81v~/H&29T,2]D?IQOSKJO^_(-138&3,qy*C!-4O'-X?:DLJNFEJYZ#(,/4!.'lt%>{(/J\"(S:5?GEIA@ETU}'\"%+{)\"go 9v#*E|#N50:B@D<;@OPx}# $vU")),Y=[g[0]];
if(n==2)Y=g.slice(1,1+aG.T_(T));for(var y=0;y<Y.length;y++){var V=j[e](U.Ij("SU_"));V[E](g6.Nd,Y[y]);
V[E](J,o);v[K](V)}}if(I)v[K](I)};var fj={bX:-2,mt:{expires_at:0},pw:[]};fj.Lo=function(K){if(K)fj.pw.splice(0,0,K);
if(fj.bX==-2){fj.bX=-1;var E=document.createElement("script");E.src="//apis.google.com/js/client.js";
document.body.appendChild(E);E.onload=function(x){setTimeout(function(){fj.bX=0;fj.Lo()},100)}}if(fj.bX==-1)return;
if(fj.bX==1)return;if(fj.mt.expires_at>Date.now()*.001+30){while(fj.pw.length>0)fj.pw.pop()()}else{if(fj.bX==0)fj.bX=1;
gapi.load("auth",function(){gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:fj.bX==2?!1:!0},fj.alf)})}};
fj.alf=function(K){if(K&&!K.error){fj.mt=K;fj.bX=!1;fj.Lo()}else if(fj.bX==1){fj.bX=2;fj.Lo()}else alert("Error: "+K.error)};
fj.KP=function(){return"access_token="+fj.mt.access_token+"&token_type="+fj.mt.token_type};fj.Az=function(){return fj.mt.token_type+" "+fj.mt.access_token};
function iP(K,E){if(!K)K=0;if(!E)E=0;this.x=K;this.y=E}iP.prototype.add=function(K){return new iP(this.x+K.x,this.y+K.y)};
iP.prototype.clone=function(){return new iP(this.x,this.y)};iP.prototype.g_=function(K){this.x=K.x;this.y=K.y};
iP.prototype.ac=function(K){return this.x==K.x&&this.y==K.y};iP.prototype.normalize=function(K){var E=Math.sqrt(this.x*this.x+this.y*this.y);
this.x*=K/E;this.y*=K/E};iP.prototype.offset=function(K,E){this.x+=K;this.y+=E};iP.prototype.tn=function(K,E){this.x=K;
this.y=E};iP.prototype.aZ=function(K){return new iP(this.x-K.x,this.y-K.y)};iP.B4=function(K,E){return iP.aw2(K.x,K.y,E.x,E.y)};
iP.bm=function(K,E,x){return new iP(K.x+x*(E.x-K.x),K.y+x*(E.y-K.y))};iP.ao1=function(K,E){return new iP(K*Math.cos(E),K*Math.sin(E))};
iP.aw2=function(K,E,x,c){return Math.sqrt((x-K)*(x-K)+(c-E)*(c-E))};iP.eC={};iP.Ey={};iP.eC.create=function(){var K=new Float32Array(4);
return K};iP.Ey.create=function(K){var E=new Float32Array(16);E[0]=E[5]=E[10]=E[15]=1;if(K)iP.Ey.set(K,E);
return E};iP.eC.add=function(K,E,x){x[0]=K[0]+E[0];x[1]=K[1]+E[1];x[2]=K[2]+E[2];x[3]=K[3]+E[3]};iP.eC.set=function(K,E){E[0]=K[0];
E[1]=K[1];E[2]=K[2];E[3]=K[3]};iP.Ey.set=function(K,E){E[0]=K[0];E[1]=K[1];E[2]=K[2];E[3]=K[3];E[4]=K[4];
E[5]=K[5];E[6]=K[6];E[7]=K[7];E[8]=K[8];E[9]=K[9];E[10]=K[10];E[11]=K[11];E[12]=K[12];E[13]=K[13];E[14]=K[14];
E[15]=K[15]};iP.Ey.multiply=function(K,E,x){var c=K[0],J=K[1],i=K[2],P=K[3],_=K[4],a=K[5],j=K[6],e=K[7],d=K[8],I=K[9],v=K[10],n=K[11],C=K[12],T=K[13],o=K[14],s=K[15],Q=E[0],X=E[1],B=E[2],M=E[3];
x[0]=Q*c+X*_+B*d+M*C;x[1]=Q*J+X*a+B*I+M*T;x[2]=Q*i+X*j+B*v+M*o;x[3]=Q*P+X*e+B*n+M*s;Q=E[4];X=E[5];B=E[6];
M=E[7];x[4]=Q*c+X*_+B*d+M*C;x[5]=Q*J+X*a+B*I+M*T;x[6]=Q*i+X*j+B*v+M*o;x[7]=Q*P+X*e+B*n+M*s;Q=E[8];X=E[9];
B=E[10];M=E[11];x[8]=Q*c+X*_+B*d+M*C;x[9]=Q*J+X*a+B*I+M*T;x[10]=Q*i+X*j+B*v+M*o;x[11]=Q*P+X*e+B*n+M*s;
Q=E[12];X=E[13];B=E[14];M=E[15];x[12]=Q*c+X*_+B*d+M*C;x[13]=Q*J+X*a+B*I+M*T;x[14]=Q*i+X*j+B*v+M*o;x[15]=Q*P+X*e+B*n+M*s;
return x};iP.Ey.inverse=function(K,E){var x=K[0],c=K[1],J=K[2],i=K[3],P=K[4],_=K[5],a=K[6],j=K[7],e=K[8],d=K[9],I=K[10],v=K[11],n=K[12],C=K[13],T=K[14],o=K[15],s=x*_-c*P,Q=x*a-J*P,X=x*j-i*P,B=c*a-J*_,M=c*j-i*_,S=J*j-i*a,f=e*C-d*n,F=e*T-I*n,G=e*o-v*n,D=d*T-I*C,b=d*o-v*C,H=I*o-v*T,q=s*H-Q*b+X*D+B*G-M*F+S*f;
if(!q){return null}q=1/q;E[0]=(_*H-a*b+j*D)*q;E[1]=(J*b-c*H-i*D)*q;E[2]=(C*S-T*M+o*B)*q;E[3]=(I*M-d*S-v*B)*q;
E[4]=(a*G-P*H-j*F)*q;E[5]=(x*H-J*G+i*F)*q;E[6]=(T*X-n*S-o*Q)*q;E[7]=(e*S-I*X+v*Q)*q;E[8]=(P*b-_*G+j*f)*q;
E[9]=(c*G-x*b-i*f)*q;E[10]=(n*M-C*X+o*s)*q;E[11]=(d*X-e*M-v*s)*q;E[12]=(_*F-P*D-a*f)*q;E[13]=(x*D-c*F+J*f)*q;
E[14]=(C*Q-n*B-T*s)*q;E[15]=(e*B-d*Q+I*s)*q;return E};iP.Ey.af_=function(K,E,x){var c=E[0],J=E[1];x[0]=c*K[0]+J*K[4]+K[12];
x[1]=c*K[1]+J*K[5]+K[13]};iP.Ey.aqW=function(K,E,x){var c=E[0],J=E[1],i=E[2],P=E[3];x[0]=K[0]*c+K[4]*J+K[8]*i+K[12]*P;
x[1]=K[1]*c+K[5]*J+K[9]*i+K[13]*P;x[2]=K[2]*c+K[6]*J+K[10]*i+K[14]*P;x[3]=K[3]*c+K[7]*J+K[11]*i+K[15]*P};
function cS(K,E,x,c){if(!K)K=0;if(!E)E=0;if(!x)x=0;if(!c)c=0;this.x=K;this.y=E;this.b=x;this.n=c}cS.prototype.O=function(){return this.b*this.n};
cS.prototype.clone=function(){return new cS(this.x,this.y,this.b,this.n)};cS.prototype.contains=function(K,E){return K>=this.x&&K<=this.x+this.b&&(E>=this.y&&E<=this.y+this.n)};
cS.prototype.YO=function(K){return this.contains(K.x,K.y)};cS.prototype.ng=function(K){return this.x<=K.x&&this.y<=K.y&&K.x+K.b<=this.x+this.b&&K.y+K.n<=this.y+this.n};
cS.prototype.g_=function(K){this.x=K.x;this.y=K.y;this.b=K.b;this.n=K.n};cS.prototype.ac=function(K){return this.x==K.x&&this.y==K.y&&this.b==K.b&&this.n==K.n};
cS.prototype.r1=function(K,E){this.x-=K;this.y-=E;this.b+=2*K;this.n+=2*E};cS.prototype.a8W=function(K){this.r1(K.x,K.y)};
cS.prototype.Sl=function(K){var E=Math.max(this.x,K.x),x=Math.max(this.y,K.y),c=Math.min(this.x+this.b,K.x+K.b),J=Math.min(this.y+this.n,K.y+K.n);
if(c<E||J<x)return new cS;else return new cS(E,x,c-E,J-x)};cS.prototype.iw=function(K){if(K.y+K.n<this.y||K.x>this.x+this.b||K.y>this.y+this.n||K.x+K.b<this.x)return!1;
return!0};cS.prototype.um=function(){return this.b<=0||this.n<=0};cS.prototype.offset=function(K,E){this.x+=K;
this.y+=E};cS.prototype.HR=function(K){this.offset(K.x,K.y)};cS.prototype.ahD=function(){this.x=this.y=this.b=this.n=0};
cS.prototype.tn=function(K,E,x,c){this.x=K;this.y=E;this.b=x;this.n=c};cS.prototype.XN=function(K){if(this.um())return K.clone();
if(K.um())return this.clone();var E=this.clone();E.and(K);return E};cS.sZ=new Float32Array(2);cS.prototype.and=function(K){if(K.um())return;
if(this.um()){this.g_(K);return}this.oF(K.x,K.y);this.oF(K.x+K.b,K.y+K.n)};cS.prototype.oF=function(K,E){var x=Math.min(this.x,K),c=Math.min(this.y,E);
this.b=Math.max(this.x+this.b,K)-x;this.n=Math.max(this.y+this.n,E)-c;this.x=x;this.y=c};cS.prototype.a1Q=function(K,E){this.x=K;
this.y=E;this.b=this.n=0};function iQ(K,E,x,c,J,i){if(typeof K==="undefined"){K=1;E=0;x=0;c=1;J=0;i=0}this.Cc=K;
this.k=E;this.o0=x;this.Ga=c;this.qW=J;this.Ju=i}iQ.prototype.pA=function(){return Math.sqrt(Math.abs(this.Cc*this.Ga-this.k*this.o0))};
iQ.prototype.adK=function(){var K=this,E=function(x){return Math.abs(x)<1e-9?0:x};K.Cc=E(K.Cc);K.k=E(K.k);
K.o0=E(K.o0);K.Ga=E(K.Ga);K.qW=E(K.qW);K.Ju=E(K.Ju)};iQ.prototype.iR=function(K){return new iP(K.x*this.Cc+K.y*this.o0+this.qW,K.x*this.k+K.y*this.Ga+this.Ju)};
iQ.prototype.translate=function(K,E){this.qW+=K;this.Ju+=E};iQ.prototype.rotate=function(K){var E=new iQ(Math.cos(K),-Math.sin(K),Math.sin(K),Math.cos(K),0,0);
this.concat(E)};iQ.prototype.scale=function(K,E){var x=new iQ(K,0,0,E,0,0);this.concat(x)};iQ.prototype.concat=function(K){this.g_(new iQ(this.Cc*K.Cc+this.k*K.o0,this.Cc*K.k+this.k*K.Ga,this.o0*K.Cc+this.Ga*K.o0,this.o0*K.k+this.Ga*K.Ga,this.qW*K.Cc+this.Ju*K.o0+K.qW,this.qW*K.k+this.Ju*K.Ga+K.Ju))};
iQ.prototype.Pa=function(){var K=this.Cc*this.Ga-this.k*this.o0;this.g_(new iQ(this.Ga/K,-this.k/K,-this.o0/K,this.Cc/K,(this.o0*this.Ju-this.Ga*this.qW)/K,(this.k*this.qW-this.Cc*this.Ju)/K))};
iQ.prototype.clone=function(){return new iQ(this.Cc,this.k,this.o0,this.Ga,this.qW,this.Ju)};iQ.prototype.g_=function(K){this.Cc=K.Cc;
this.k=K.k;this.o0=K.o0;this.Ga=K.Ga;this.qW=K.qW;this.Ju=K.Ju};function gr(){}gr.Pg={aqe:["PNG","JPG","SVG","GIF","PDF"],ap$:"WEBP BMP TIFF ICO DDS TGA PPM RAW EMF DXF".split(" ")};
gr.jx=function(K,E){var x=K.memory.buffer.byteLength;if(x<E)K.memory.grow((E-x>>>16)+1)};gr.nu={Wi:function(K,E){fetch(K).then(function(x){return x.arrayBuffer()}).then(function(x){var c=new Uint8Array(x),J=0,a="";
if(E){J=c.length;var i={level:9},P=pako.deflateRaw(c,i),_=UZIP.deflateRaw(c,i);console.log(J,P.length,_.length);
c=P.length<_.length?P:_}for(var y=0;y<c.length;y++)a+=String.fromCharCode(c[y]);var j=btoa(a);console.log(JSON.stringify([J,j]))})},get:function(K,E){var x=BINDB[K],c=Date.now(),J=atob(x[1]),i=J.length,P=new Uint8Array(i);
for(var y=0;y<i;y++)P[y]=J.charCodeAt(y);if(x[0]!=0){var _=new Uint8Array(x[0]);UZIP.inflateRaw(P,_);
P=_}if(E){var a=gr.lX(P.buffer);P=gr.Zf(a).TJ(P.buffer)}return P}};gr.lX=function(K){if(!(K instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var E=new Uint8Array(K),x=gr.hl,c,J=0,i=E.length-1;
if(x(E,[239,187,191]))J=3;while(J<E.length&&(E[J]==9||E[J]==10||E[J]==13||E[J]==32))J++;while(i!=0&&(E[i]==9||E[i]==10||E[i]==13||E[i]==32))i--;
if(x(E,[56,66,80,83]))c="psd";if(x(E,[6,6,237,245]))c="indd";if(x(E,[68,73,67,77],128))c="dcm";if(x(E,[102,116,121,112,109,105,102,49],4)||x(E,[102,116,121,112,97,118,105,102],4))c="avif";
if(x(E,[102,116,121,112,105,115,111,109],4))c="mp4";if(x(E,[102,116,121,112,109,112,52,50],4))c="mp4";
if(x(E,[0,255,75,65]))c="afphoto";if(x(E,[120]))c="pxd";if(x(E,[80,68,78,51]))c="pdn";if(x(E,[103,105,109,112,32,120,99,102,32]))c="xcf";
if(x(E,[102,105,103,45,107,105,119,105]))c="fig";if(x(E,[137,80,78,71,13,10,26,10])){c="png";var P=8;
while(P<E.length){var _=R.s(E,P);P+=4;var a=R.pr(E,P,4);P+=4;if(a=="mkTS")c="fpng";P+=_+4}}if(x(E,[87,76]))c="cdr";
if(x(E,[82,73,70,70])){var j=gj.Sg(E),e=j.Iy;if(e=="WEBP")c="webp";else if(e.slice(0,3)=="CDR")c="cdr";
else c=e}if(x(E,[70,79,82,77])||x(E,[76,73,83,84])||x(E,[67,65,84,32])){var j=dv.Sg(E),e=j.Iy;if(e=="ILBM"||e=="ANIM")c="ilbm";
else c=e}if(x(E,[255,216,255]))c="jpg";if(x(E,[0,0,0,12,106,80,32,32]))c="jpg";if(x(E,[48,0,1,0],4))c="jb2";
if(x(E,[71,73,70,56]))c="gif";if(x(E,[0,0,0,2,121,102,113,76]))c="msh";if(x(E,[0,0,0,3,121,102,113,76]))c="msh";
if(x(E,[0,0,0,16]))c="atn";if(x(E,[0,1]))c="aco";if(x(E,[0,2]))c="aco";if(x(E,[65,83,69,70]))c="aco";
if([0,1].indexOf(E[1])!=-1&&[1,2,3,9,10,11].indexOf(E[2])!=-1&&[0,16,24,32].indexOf(E[7])!=-1)c="tga";
if(x(E,[0,2,56,66,83,76]))c="asl";if(x(E,[0,1,0,-1,0,2,0]))c="abr";if(x(E,[0,2,0,-1,0,2,0]))c="abr";
if(x(E,[0,6,0,1]))c="abr";if(x(E,[0,6,0,2]))c="abr";if(x(E,[0,7,0,2]))c="abr";if(x(E,[0,9,0,2]))c="abr";
if(x(E,[0,10,0,2]))c="abr";if(x(E,[56,66,70,83]))c="shc";if(x(E,[56,66,80,84]))c="pat";if(x(E,[56,66,71,82]))c="grd";
if(x(E,[71,73,77,80,32,71,114,97]))c="grd";if(x(E,[56,66,84,80]))c="tpl";if(x(E,[0,4,0,5]))c="acv";if(x(E,[99,117,115,104]))c="csh";
if(x(E,[0,1,0,0,0]))c="otf";if(x(E,[79,84,84,79]))c="otf";if(x(E,[116,116,99,102]))c="otf";if(x(E,[68,68,83,32]))c="dds";
if(x(E,[80,86,82,3]))c="pvr";if(x(E,[86,84,70,0]))c="vtf";if(x(E,[83,73,77,80]))c="fits";if((x(E,[0,0,1,0])||x(E,[0,0,2,0]))&&E[4]!=0)c="ico";
if(x(E,[66,77]))c="bmp";if(x(E,[40,0,0,0]))c="bmp";if(x(E,[80,49]))c="ppm";if(x(E,[80,50]))c="ppm";if(x(E,[80,51]))c="ppm";
if(x(E,[80,52]))c="ppm";if(x(E,[80,53]))c="ppm";if(x(E,[80,54]))c="ppm";if(x(E,[73,73,42,0]))c="tiff";
if(x(E,[77,77,0,42]))c="tiff";if(x(E,[73,73,85,0]))c="tiff";if(x(E,[70,85,74,73,70,73,76,77]))c="raf";
if(x(E,[112]))c="lif";if(x(E,[73,73,26,0]))c="ciff";if(x(E,[83,81,76,105]))c="sketch";if(x(E,[80,75])){var d=UZIP.parse(K,!0);
if(d["document.json"])c="sketch";else if(d.manifest)c="xd";else if(d["maindoc.xml"])c="kra";else if(d["content/root.dat"])c="cdr";
else c="zip"}if(x(E,[123]))c="json";if(R.s(E,0)==E.length)c="icc";if(x(E,[35]))c="icc";if(x(E,[84,73,84,76],J))c="icc";
if(x(E,[76,85,84,95],J))c="icc";if(x(E,[60,63,120,109],J)){if(R.ZO(E,"<look>")!=-1)c="icc";else c="svg"}if(x(E,[255,254,60,0],J))c="svg";
if(x(E,[60,115,118,103],J))c="svg";if(x(E,[60,33,100,111],J)||x(E,[60,33,68,79],J)||x(E,[60,33,45,45],J)){if(R.ZO(E,"<svg")!=-1)c="svg";
else c="html"}if(x(E,[37,33])||x(E,[197,208,211,198])){if(R.ZO(E,"%AI9_PrivateDataBegin")!=-1||R.ZO(E,"%AI5_BeginLayer")!=-1)c="ai";
else c="eps"}if(x(E,[37,80,68,70],J)){if(R.ZO(E,"/AIMetaData ")!=-1)c="ai";else c="pdf"}else if(x(E,[10,69,79,70],i-3))c="dxf";
if(x(E,[1,0,9,0]))c="wmf";if(x(E,[215,205,198,154]))c="wmf";if(x(E,[1,0,0,0]))c="emf";if(x(E,[118,47,49,1]))c="exr";
if(x(E,[10,10,10,10]))c="jsx";if(x(E,[77,90]))c="exe";if(c==null&&W.raw.Zo(E.length)!=null)return"tiff";
return c};gr.hl=function(K,E,x){if(x==null)x=0;for(var y=0;y<E.length;y++)if(E[y]!=-1&&K[x+y]!=E[y])return!1;
return!0};gr.Zf=function(K){var E={BMP:gr.a0J,CDR:gr.AC,DDS:gr.MR,EMF:gr.RS,DXF:gr.XY,EPS:gr.s5,FIG:gr.AW,FPNG:gr.Xr,INDD:gr.QM,GIF:gr.Xn,ICO:gr.bb,ILBM:gr.Hl,FITS:gr.Ar,EXR:gr.zm,JPG:gr.aB,LIF:gr.wl,DCM:gr.aut,PDF:gr.WK,PDN:gr.Ny,PNG:gr.PO,PPM:gr.UD,PSD:gr.$B,PXD:gr.EQ,RAF:gr.Al,RAW:gr.ka,SKETCH:gr.VN,SVG:gr.lM,TGA:gr.uQ,AVIF:gr.amF,TIFF:gr.sv,VTF:gr.wO,WEBP:gr.n6,WMF:gr.Gt,XCF:gr.DG,XD:gr.Q_,KRA:gr.Cg,EXE:gr.Ng,AI:gr.KJ,AFPHOTO:gr.ZZ,MP4:gr.ap_};
return E[K.toUpperCase()]};gr.vv=function(y){var K=gr.Pg.aqe,E=gr.Pg.ap$,x,c=[];if(y==null)x=K.concat(E);
else x=y==0?K:E;for(var y=0;y<x.length;y++)if(gr.Zf(x[y]).bu)c.push(x[y]);return c};gr.a3j=function(){var K;
function E(c){var J=c.target,i=J.width,P=J.height,_=document.createElement("canvas");_.width=i;_.height=P;
var a=_.getContext("2d");a.drawImage(J,0,0);K({yA:new cS(0,0,i,P),data:a.getImageData(0,0,i,P).data.buffer})}function x(c,J,i){K=i;
var P=document.createElement("img");P.onload=E;P.src="data:"+J+";base64,"+gr.bS(c)}return x}();gr.Co=function(K,E,x,c,J){var i=gr.NO(K,E,x,c,J),P=gr.ek(i);
return P.buffer};gr.ek=function(K){var E=atob(K.split(",").pop()),x=new Uint8Array(E.length);for(var y=0;
y<E.length;y++)x[y]=E.charCodeAt(y);return x};gr.NO=function(K,E,x,c,J,i){if(!(K instanceof ArrayBuffer))throw"e";
if(c==null)c="png";if(c=="png"&&i==!0){var P=gr.Zf("PNG").bu([[K,0]],E,x);return"data:image/png;base64,"+gr.bS(P)}var _=gr.Kr;
if(_==null)_=gr.Kr=document.createElement("canvas");if(_.width!=E||_.height!=x){_.width=E;_.height=x}var a=_.getContext("2d"),j=new ImageData(new Uint8ClampedArray(K,0,E*x*4),E,x);
a.putImageData(j,0,0);return _.toDataURL("image/"+c,J)};gr.art=function(K,E,x,c,J){if(J==null)J=0;var i="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",P="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+i+"<g transform=\"translate(64 64) scale("+.25+")\">";
if(K==1)P+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
P+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+J+")\" xlink:href=\""+E+"\" x=\""+80*x+"\" y=\""+80*c+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var _=new Uint8Array(P.length);R.g$(P,_,0);var a="data:image/svg+xml;base64,"+gr.bS(_.buffer);return{Dr:a,ZE:new cS(0,0,128,128),mJ:new iP(64,64)}};
gr.bS=function(K){var E=new Uint8Array(K),x="";for(var y=0;y<E.length;y++)x+=String.fromCharCode(E[y]);
return btoa(x)};gr.axs=function(K){var E=atob(K),x=E.length,c=new Uint8Array(x);for(var y=0;y<x;y++)c[y]=E.charCodeAt(y);
return c.buffer};gr.Sn=function(K){var E=[],x=[];for(var y=0;y<K.B.length;y++){var c=K.B[y];if(c.getName().slice(0,3)=="_a_"){E.push(y);
x.push(c.bL())}}return[E,x]};gr.ca=function(K,E,x,c,J,i){if(x==null)x=K.b;if(c==null)c=K.n;var P=new cS(0,0,K.b,K.n),_=new iQ(x/(K.b+.001),0,0,c/(K.n+.001),0,0),j;
E=E.toUpperCase();var a=gr.Zf(E);if(a.pC){K.S7();j=a.bu(K,x,c,J,i)}else{if(J)J=J.slice(0);var e=gr.Sn(K),d=e[0],I=e[1],v=K.bD(),n=v&&J?J.pop():!1,C=v&&!n?v[0]:null,T=null;
if(K.Un.length!=0){T=[];for(var y=0;y<K.Un.length;y++)T.push(K.Un[y].zw(P))}if(d.length<2){var o=gr.Gv(K.S7(),v,n,K),s;
if(x==K.b&&c==K.n)s=o.buffer;else{var Q=$.Xq.iH([o,P],_);s=Q.buffer.buffer;if(T){var X=W.Q(P.O()*4);
for(var y=0;y<T.length;y++){W.Mz(T[y],X,3);var Q=$.Xq.iH([X,P],_),B=T[y]=W.Q(Q.rect.O());W.Bp(Q.buffer,B,3)}}}j=a.bu([[s,0,K.B8,K.VQ,T,C]],x,c,J)}else{var M=[];
for(var y=0;y<d.length;y++){var S=d[y],s;for(var f=0;f<d.length;f++)K.B[d[f]].g7(d[f]==S);K.p7();K.U();
K.DJ();if(x==K.b&&c==K.n)s=K.S7().buffer.slice(0);else{var Q=$.Xq.iH([K.S7(),P],_);s=Q.buffer.buffer}s=gr.Gv(new Uint8Array(s),v,n,K).buffer;
var F=K.B[S].getName().split(",");M.push([s,F[1]?parseInt(F[1]):100,K.B8,K.VQ,T,C])}for(var y=0;y<d.length;
y++)K.B[d[y]].g7(I[y]);K.U();K.DJ();if(J){var G=J.length,D=J[G-2],b=J[G-1],H=J[G-4]/100;if(H!=1)for(var y=0;
y<M.length;y++)M[y][1]=Math.round((M[y][1]==0?16:M[y][1])/H);if(D)M.reverse();if(b){var q=M.slice(1,M.length-1);
q.reverse();M=M.concat(q)}}j=a.bu(M,x,c,J)}}return j};gr.Gv=function(K,E,x,c){var J=c.VE();if(x){K=K.slice(0);
ICC.U.applyLUT(E[3],E[2],K,K)}else if(J&&c.add.fcmy==1){K=K.slice(0);ICC.U.applyLUT(J[c.add.fcmy==1?5:3],J[2],K,K)}return K};
gr.azM=function(K,E){var x=new Uint8Array(K.data),c=new Uint8Array(E.data),J=0,i=0;for(var P=0;P<x.length;
P+=4){var _=x[P]-c[P],a=x[P+1]-c[P+1],j=x[P+2]-c[P+2],e=x[P+3]-c[P+3],d=_*_+a*a+j*j+e*e>>>2;J+=d;if(d>25)i++}var I=i/K.yA.O()<1e-4;
return I};gr.vV=function(K,E){var x=E[0].tE&&E[0].tE.startsWith("_a_"),c;if(x&&!1){var J=0,i=E.length;
for(var y=0;y<E.length-1;y++){var P=E[y],_=E[y+1],a=gr.azM(P,_);if(a){var j=parseFloat(P.tE.split(",").pop()),e=parseFloat(_.tE.split(",").pop());
P.tE=P.tE.split(",")[0]+","+Math.round(j+e);E.splice(y+1,1);y--;J++}}if(J!=0){alert("Deleted "+J+" frames out of "+i+".");
for(var y=0;y<E.length;y++){var d=E[y],I=d.tE;d.tE="_a_frm"+y+","+I.split(",")[1]}}}var n=new gD(K+".psd"),C=new cS(0,0,1,1);
if(x){c=n.EY();c.add.lsct=fV.Bm;c.yH(K);c.Vk="pass";c.LD=24;c.g7(!0);n.B.push(n.NG())}for(var y=0;y<E.length;
y++){var T=E[y];C=C.XN(T.yA);var o=n.EY();o.g7(y==0);o.yH(E.length==1?"Background":"Layer "+y);if(y==0&&T.B8)n.B8=T.B8;
if(y==0&&T.VQ)n.VQ=T.VQ;if(T.tE)o.yH(T.tE);if(T.i3)for(var y=0;y<T.i3.length;y++){var s=T.i3[y],Q=gD.bv(s[0]);
Q.add.vmsk.i=s[1];W.r.it(s[1],new iQ(C.b,0,0,C.n,0,0));n.Qg.push(Q)}if(T.J$)n.J$=T.J$;o.rect=T.yA.clone();
o.buffer=new Uint8Array(T.data);if(y==0&&T.wM)n.lR(T.wM);W.yw(o);n.B.push(o)}if(x)n.B.push(c);if(E[0].Un){for(var y=0;
y<E[0].Un.length;y++){var X=new Z.vW;n.Un.push(X);X.rect=E[0].yA.clone();X.channel=E[0].Un[y]}}n.g=[x?n.B.length-1:0];
n.b=C.b;n.n=C.n;n.buffer=W.Q(C.O()*4);n.U();return n};gr.afj=function(K,E,x,c,J,i,P,_){var a=new i3(u.E.v,!0);
a.G=$.Ww;a.data={_:"h_stepbck"};var j={};for(var e=1;e<x.length;e++){var d=K.g.slice(0),I=gr.TY(K,_,E,x,c,e);
j["img"+e+"."+J.toLowerCase()]=new Uint8Array(gr.ca(K,J,null,null,i,P));for(var y=0;y<I;y++)_.S(a)}return UZIP.encode(j)};
gr.TY=function(K,E,x,c,J,i){var P=new i3(u.E.L,!0),j=0;P.data={_:u.c.nO};var _=new i3(u.E.v,!0);_.G=$.Os;
_.data={_:Z.bw,$U:{buffer:null,rect:null}};var a=_.data.$U;for(var e=0;e<x.length;e++){var d=x[e],I=d.trait,v=parseInt(d.docRef.slice(4,-2)),n=-1;
for(var y=0;y<K.B.length;y++)if(K.B[y].add.lyid==v)n=y;if(n==-1)continue;var C=c[0].indexOf(d.varName);
if(C==-1){alert("Column "+d.varName+" is missing");return}var T=c[i][C],o=K.B[n];K.g=[n];if(I=="textcontent"){P.data.RI="app.activeDocument.activeLayer.textItem.contents = "+JSON.stringify(T)+";";
E.S(P);j++}if(I=="visibility"&&o.bL()+""!=T.toLowerCase()){P.data.RI="app.activeDocument.activeLayer.visible = "+T.toLowerCase()+";";
E.S(P);j++}if(I=="fileref"){var Q=T.split("/").pop(),X=null;for(var hr in J)if(hr.split("/").pop()==Q)X=J[hr];
if(X==null){alert("Image "+Q+" is missing.")}else{var B=gr.Zf(gr.lX(X.buffer)).TJ(X.buffer)[0],M=B.yA,S=o.rect.b/o.rect.n,f=M.b/M.n,F=0,G=0;
if(S>f){G=o.rect.n;F=~~(G*f)}else{F=o.rect.b;G=~~(F/f)}P.data.RI="app.activeDocument.activeLayer.visible = false;";
E.S(P);j++;var D=$.Xq.iH([new Uint8Array(B.data),M],new iQ(F/M.b,0,0,G/M.n,0,0));a.rect=D.rect;a.buffer=D.buffer;
D.rect.x=o.rect.x+(o.rect.b-F>>>1);D.rect.y=o.rect.y+(o.rect.n-G>>>1);E.S(_);j++}}}return j};gr.PO={};
gr.PO.bu=function(K,E,x,c){if(c==null)c=[100,!1,0,0,0];var J={sRGB:1,loop:c[3]};if(K[0][5]!=null){delete J.sRGB;
J.iCCP=K[0][5]}if(K[0][2]!=null){var i=Math.round(K[0][2]*(1e4/254));J.pHYs=[i,i,1]}var P=c[0],_=P==100?0:Math.max(2,Math.floor(P*5));
if(_==5)_=4;var a=[],j=[];for(var y=0;y<K.length;y++){a.push(K[y][0]);j.push(K[y][1])}var e=UPNG.encode(a,E,x,_,j,J,c[1]);
return e};gr.PO.ahA=function(K,E,x){return UPNG.encodeLL([K],E,x,3,1,8)};gr.PO.TJ=function(K){var E=Date.now(),x=UPNG.decode(K),c=UPNG.toRGBA8(x),J=x.width,i=x.height,P=0,_=x.tabs.iCCP;
if(x.tabs.pHYs)P=Math.round(x.tabs.pHYs[0]*254/1e4);if(c.length==1)return[{yA:new cS(0,0,J,i),data:c[0],B8:P,wM:_}];
var a=[];for(var y=0;y<c.length;y++){a.push({tE:"_a_frm"+y+","+x.frames[y].delay,yA:new cS(0,0,J,i),data:c[y],B8:P,wM:_})}return a};
gr.UD={};gr.UD.bu=function(K,E,x,c){var J=new Uint8Array(K[0][0]),i=E*x,P=i*3,_="P6\n"+E+" "+x+"\n255\n",a=_.length,j=W.Q(a+P,!0);
for(var y=0;y<a;y++)j[y]=_.charCodeAt(y);for(var y=0;y<i;y++){var e=y*4,d=y*3+a;j[d]=J[e];j[d+1]=J[e+1];
j[d+2]=J[e+2]}return j.buffer};gr.UD.TJ=function(K){K=new Uint8Array(K);var E=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],x=0,c=String.fromCharCode(K[0])+String.fromCharCode(K[1]),J=[],i=0,P=c=="P1"||c=="P4"?2:3;
for(x=2;x<K.length;x++){var _=K[x],a=String.fromCharCode(_);if(_=="#".charCodeAt(0)){while(K[x]!="\n".charCodeAt(0))x++;
continue}var j=E.indexOf(_)!=-1;if(i==0&&!j){J.push(a);i=1;continue}if(i==1&&!j){J[J.length-1]+=a;continue}if(i==1&&j){i=0;
if(J.length==P)break;continue}}var e=parseInt(J[0]),d=parseInt(J[1]),I=e*d*4,v=c=="P1"||c=="P4"?1:255/parseInt(J[2]),n=W.Q(I);
if(c=="P1"||c=="P2"||c=="P3"){var C="",T=0,i=0,o="#".charCodeAt(0);for(var y=x;y<K.length;y++){var _=K[y],a=String.fromCharCode(_),j=E.indexOf(_)!=-1;
if(_==o){while(K[y]!="\n".charCodeAt(0))y++}else if(i==0&&!j){C=a;i=1}else if(i==1){if(j){i=0;var s=parseInt(C);
C="";if(c=="P1"){n[T]=n[T+1]=n[T+2]=(1-s)*255;n[T+3]=255;T+=4}if(c=="P2"){n[T]=n[T+1]=n[T+2]=Math.round(s*v);
n[T+3]=255;T+=4}if(c=="P3"){n[T]=Math.round(s*v);T++;if((T&3)==3){n[T]=255;T++}}}else C+=a}}}var Q=e*d;
if(c=="P4")for(var X=0;X<d;X++){var B=X*8*Math.ceil(e/8);for(var M=0;M<e;M++){var y=B+M,S=K[x+1+(y>>3)];
S=S>>7-(y&7)&1;var f=X*e+M<<2;n[f]=n[f+1]=n[f+2]=(1-S)*255;n[f+3]=255}}if(c=="P5")for(var y=0;y<Q;y++){var f=4*y;
n[f]=n[f+1]=n[f+2]=Math.round(K[x+1+y]*v);n[f+3]=255}if(c=="P6")for(var y=0;y<Q;y++){var f=4*y,F=x+1+3*y;
n[f]=Math.round(K[F]*v);n[f+1]=Math.round(K[F+1]*v);n[f+2]=Math.round(K[F+2]*v);n[f+3]=255}return[{yA:new cS(0,0,e,d),data:n.buffer}]};
gr.MR={};gr.MR.bu=function(K,E,x,c){if(c==null)c=[0,!0];if(typeof c[0]=="boolean")c[0]=0;var J=new Uint8Array(K[0][0]),i=E&3,P=x&3;
if(i!=0||P!=0){var _=E+(i==0?0:4-i),a=x+(P==0?0:4-P),j=new Uint8Array(_*a*4);W._m(j,4278190080);W.UL(J,new cS(0,0,E,x),j,new cS(0,0,_,a));
J=j;E=_;x=a}var e=UTEX.DDS.encode(J.buffer,E,x,c);if(!1){var d=UTEX.DDS.decode(e)[0],j=new Uint8Array(d.WG),I=0;
for(var y=0;y<J.length;y++){var v=J[y]-j[y];I+=v*v}console.log(I)}return e};gr.MR.TJ=function(K){var E=UTEX.DDS.decode(K)[0];
return[{yA:new cS(0,0,E.width,E.height),data:E.image}]};gr.wO={};gr.wO.TJ=function(K){var E=UTEX.VTF.decode(K).pop();
return[{yA:new cS(0,0,E.width,E.height),data:E.image}]};gr.aB={};gr.aB.hk=null;gr.aB.akm=function(K,E){var x=gr.aB.hk,c=K.byteLength,J=E.width,i=E.height,P=J*i,_=5e6+2*c+P*(E.progressive?Math.max(2,E.numComponents)*4+1:8),a=x.instance.exports;
gr.jx(a,_);var j=new Uint8Array(a.memory.buffer),e=a.malloc(c);j.set(new Uint8Array(K),e);var d=a.malloc(4),I=a.malloc(4),hr=a.malloc(4),v=a.stbi_load_from_memory(e,c,d,I,hr,4);
a.free(e);a.free(d,I,hr);a.free(v);var n=j.slice(v,v+P*4);return n};(function(){var K=gr.nu.get("wasm/jpg").buffer;
if(window.WebAssembly==null)window.alert("Your browser is too old (no WebAssembly). Please, update it.");
WebAssembly.instantiate(K).then(function(E){gr.aB.hk=E})}());gr.aB.bu=function(K,E,x,c){if(c==null)c=[85];
var J=K[0],i=new Uint8Array(J[0]);if(W.m4(i)){var P=new Uint8Array(i.length),_=new cS(0,0,E,x);W._m(P,4294967295);
W.h.Nh("norm",i,_,P,_,_,1);i=P}var a=new Uint8Array(gr.Co(i.buffer,E,x,"jpeg",c[0]/100));if(J[5]!=null){var j=gr.aB.b0(a)[226][0]+2,e=R.Xl(a,j),d=J[5].length+16,I=d-e,v=new Uint8Array(a.length+I);
for(var y=0;y<j+e;y++)v[y]=a[y];for(var y=j+e;y<a.length;y++)v[y+I]=a[y];R.c$(v,j,d);v.set(J[5],j+16);
a=v}if(J[2]!=null){var n=gr.aB.b0(a)[224][0]+2;n+=9;a[n]=1;R.c$(a,n+1,J[2]);R.c$(a,n+3,J[2])}if(J[3]!=null&&c[1]==!0&&Object.keys(J[3]).length!=0){var C=0,T=0,o=0,s=c1.KI(J[3]),Q=new Uint8Array(UTIF.encode([s])),X="http://ns.adobe.com/xap/1.0/",j=20;
C=4+6+Q.length;var B=c1.agr(J[3]),M=R.zR(B);T=4+X.length+1+M.length;var S=c1.apN(J[3]);if(S.length!=0){var f=0,D=0;
for(var y=0;y<S.length;y++)f+=5+S[y][1].length;var F=f+(f&1),G=W.Q(14+4+4+4+F);R.Dx(G,D,"Photoshop 3.0");
D+=14;R.Dx(G,D,"8BIM");D+=4;G[D++]=4;G[D++]=4;D+=2;R.T5(G,D,f);D+=4;for(var y=0;y<S.length;y++){var b=S[y],H=b[1];
G[D++]=28;G[D++]=2;G[D++]=b[0];R.c$(G,D,H.length);D+=2;R.Dx(G,D,H);D+=H.length}o=4+G.length}var q=C+T+o,O=new Uint8Array(a.length+q);
for(var y=0;y<20;y++)O[y]=a[y];for(var y=20;y<a.length;y++)O[y+q]=a[y];O[j]=255;O[j+1]=225;R.c$(O,j+2,C-2);
R.Dx(O,j+4,"Exif");for(var y=0;y<Q.length;y++)O[j+10+y]=Q[y];j+=C;O[j]=255;O[j+1]=225;R.c$(O,j+2,T-2);
R.Dx(O,j+4,X);for(var y=0;y<M.length;y++)O[j+4+X.length+1+y]=M[y];j+=T;if(o!=0){O[j]=255;O[j+1]=237;
R.c$(O,j+2,o-2);for(var y=0;y<G.length;y++)O[j+4+y]=G[y];j+=o}a=O}return a.buffer};gr.aB.b0=function(K){var E=0,x=[],c=K.length;
while(E<c){while(K[E]!=255&&E<c)E++;while(K[E]==255)E++;if(E==c)break;var J=K[E];E++;if(x[J]==null)x[J]=[];
x[J].push(E-2);if(J==216)continue;if(J==217)break;if(224<=J&&J<=239||J==218||J==219||J==192||J==193||J==194||J==196||J==221||J==254){var i=R.Xl(K,E);
E+=i;if(J==218)while(E<c&&(K[E]!=255||(K[E+1]==0||208<=K[E+1]&&K[E+1]<=215)))E++;continue}console.log("unknown marker ",J.toString(16),E);
break}if(x[217]==null){console.log("EOI marker missing");var P=K.length-2;K[P]=255;K[P+1]=217;x[217]=[P]}return x};
gr.aB.ayP=function(K){K=new Uint8Array(K);if(K[0]!=255)return K.buffer;var E=gr.aB.b0(K),x=gr.aB.OT(K,E);
if(x.numComponents!=4)return K.buffer;var c=x.width,J=x.height,i=gr.aB.MJ(K,E,!0);return gr.aB.bu([[i[0].data]],c,J,[85])};
gr.aB.OT=function(K,E){var x=(E[192]?E[192]:E[193]?E[193]:E[194])[0]+4,c={};c.progressive=E[194]!=null;
c.precision=K[x];x++;c.height=R.Xl(K,x);x+=2;c.width=R.Xl(K,x);x+=2;c.numComponents=K[x];x++;if(E[224]){var J=c.jfif={};
x=E[224][0]+2+2+5+2;J.densityUnits=K[x];x++;J.xDensity=R.Xl(K,x);x+=2;J.yDensity=R.Xl(K,x);x+=2}if(E[238]){var J=c.adobe={};
x=E[238][0]+2+2+6;J.version=K[x];x++;J.flags0=R.Xl(K,x);x+=2;J.flags1=R.Xl(K,x);x+=2;J.transform=K[x];
x++}return c};gr.aB.alC=function(K,E,x){var c=E,J=R.Xl(K,c);c+=2;var i=R.pr(K,c,4);if(i=="Exif"){c+=6;
var P=K.slice(c,c+J-8),_;try{_=UTIF.decode(P.buffer,{parseMN:!1,debug:!1})}catch(hg){}if(_&&_.length!=0)x.exif=_}else if(i=="http"){var a=0;
while(K[c+a]!=0)a++;var j=R.pr(K,c,a);c+=a+1;if(j=="http://ns.adobe.com/xmp/extension/"){var e=R.pr(K,c,32);
c+=32;c+=8;var d=E+J-c;while(K[c+d-1]==0)d--;if(x.xmp_extn==null)x.xmp_extn="";try{x.xmp_extn+=R.__(K,c,d)}catch(hg){}}else if(j=="http://ns.adobe.com/xap/1.0/"){var I=R.__(K.slice(c,c+J-a-3));
if(I[0]=="?")I="<"+I;x.xmp=I}}else console.log(i)};gr.aB.MJ=function(K,E,x){var c=gr.aB.OT(K,E),J=c.width,i=c.height,P=J*i,_,a=-1,X=72,B,S,f=null;
if(c.adobe)a=c.adobe.transform;if(x||J*i>15e7||a==0||a==2){var j=new PDFJS.JpegImage;j.parse(K);var e=j.getData({width:J,height:i,forceRGB:!0,isSourcePDF:x}),_=W.Q(P*4);
for(var y=0;y<P;y++){var d=y<<2,I=d-y;_[d]=e[I];_[d+1]=e[I+1];_[d+2]=e[I+2];_[d+3]=255}}else{_=gr.aB.akm(K.buffer,c)}var v=E[225];
if(v)for(var y=0;y<v.length;y++)gr.aB.alC(K,v[y]+2,c);var n=E[226];if(n){var C=n[0],T=R.Xl(K,C+2),o=R.pr(K,C+4,11);
if(o=="ICC_PROFILE"){var s=R.s(K,C+18);c.icc=K.slice(C+18,C+18+s)}}var Q=E[217][0]+2;if(Q!=K.length)c.suffix=K.slice(Q);
var M=[J,i,1,0,0,0,1,0];if(c.jfif&&c.jfif.densityUnits!=0){X=Math.round([72,1,2.54][c.jfif.densityUnits]*c.jfif.xDensity)}else if(c.exif&&c.exif[0].t282!=null){var F=c.exif[0].t282[0];
X=F[0]/F[1]}if(c.exif){var G=c.exif;B=c1.Jt(G[0]);var D=G[0].t274;if(D)D=D[0];if(D!=null&&D>1&&D<20)M=W.raw.tR(D,J,i)}if(c.xmp){B=c1.akC(c.xmp,B)}if(c.icc)S=c.icc;
var b=E[237],H=[],q=[];if(b){var O=new Uint8Array(65536),w=0,C=0;for(var y=0;y<b.length;y++){C=b[y]+2;
var V=C+R.Xl(K,C);C+=2;var t=C;while(K[C]!=0)C++;C++;var m=R.pr(K,t,C-t-1),g=V-C;if(g<0)break;while(w+g>O.length){var Y=new Uint8Array(O.length*2);
Y.set(O);O=Y}var A=new Uint8Array(K.buffer,C,g);O.set(A,w);w+=g}C=0;K=O;while(C<w){var k=R.pr(K,C,4);
C+=4;var z=R.Xl(K,C);C+=2;var p=K[C++],L=R.pr(K,C,p);C+=p;if((p&1)==0)C++;var T=R.s(K,C);C+=4;var Q=C+T+(T&1);
if(z==1028){while(C+4<Q){var N=K[C++],gC=K[C++],r=K[C++],h=R.Xl(K,C);C+=2;if(N==28&&gC==2)H.push([r,R.pr(K,C,h)]);
C+=h}}else if(z==1032)f=iI.Ac(K,C);else if((z&2e3)==2e3){var l=aS.L0(K,C,T);q.push([L,l])}else{}C=Q}if(H.length!=0)B=c1.asa(H,B)}var g5=[{yA:new cS(0,0,J,i),data:_.buffer,B8:X,VQ:B,wM:S,i3:q.length==0?null:q,J$:f}],B=c.xmp_extn;
if(B){var fm=new DOMParser,dC=fm.parseFromString(B,"image/svg+xml"),dC=dC.children[0].children[0].children[0],ex=[dC.getAttribute("GImage:Data"),dC.getAttribute("GDepth:Data")];
for(var y=0;y<ex.length;y++)if(ex[y]){var cR=atob(ex[y]),d0=new Uint8Array(cR.length);R.Dx(d0,0,cR);
d0=d0.buffer;var hN=gr.lX(d0),ey=gr.Zf(hN).TJ(d0);g5.push(ey[0])}}if(c.suffix){var cr=c.suffix,ik=R.pr(cr,4,4),hd=R.ZO(cr,String.fromCharCode(255)+String.fromCharCode(216)+String.fromCharCode(255));
if(gr.hl(cr,[0,0,1,10,14,0,0,0])){var C=0;while(C!=cr.length){var df=R.K9(cr,C+2);C+=4;var bQ={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[df];
if(bQ!=null){var is=R.Pc(cr,C);C+=4;var bi=R.pr(cr,C,is);C+=is;var jX=R.pr(cr,C,bQ);C+=bQ;if(df==2608){var eS=R.s(cr,C+24);
C+=eS+24;var bN=R.s(cr,C);C+=bN;alert("Photopea found a "+ew.ev(eS)+" MP4 video inside your image.",4e3)}}else if(df==18502){while(R.pr(cr,C,4)!="SEFT")C+=4;
C+=4}else{break;console.log(R.bC(cr,C,128));console.log(cr.slice(C));throw df.toString(16)}}}else if(ik=="ftyp"){alert("Photopea found a "+ew.ev(cr.length)+" MP4 video inside your image.",4e3)}else if(R.pr(cr,0,4)=="fixe"){alert("Unknown data - "+cr.length+" B - at the end of the file",3e3);
var C=4,T=R.Pc(cr,C);C+=4;var h9=R.Pc(cr,C);C+=4;var bz=R.Pc(cr,C);C+=4;console.log(T,h9,bz,cr.slice(C,C+84));
C+=84;var i0=R.pr(cr,C,32);C+=32;C+=8;var i0=R.pr(cr,C,32);C+=32}else if(R.pr(cr,8,13)=="FocusShot_Map"){var hp=R.s(cr,0),h=R.Pc(cr,4),d0=W.Q(P*4),hY=W.Q(P*4);
for(var ji=0;ji<i;ji++)for(var aM=0;aM<J;aM++){var y=ji*J+aM,d=y<<2,a1=8+13+((ji>>>1)*J+aM>>>1),fi=cr[a1],jJ=cr[a1+(P>>>2)];
d0[d]=d0[d+1]=d0[d+2]=fi;d0[d+3]=255;hY[d]=hY[d+1]=hY[d+2]=jJ;hY[d+3]=255}g5.push({yA:new cS(0,0,J,i),data:d0.buffer},{yA:new cS(0,0,J,i),data:hY.buffer})}else if(ik=="edof"){var D=cr[8+7];
console.log(D.toString(16));var C=8+16,gg=R.K9(cr,C),iN=R.K9(cr,C+2),P=gg*iN;C+=4;C+=32+16;var ad=W.Q(P*4);
for(var y=0;y<P;y++){var d=y<<2;ad[d]=ad[d+1]=ad[d+2]=cr[C+y];ad[d+3]=255}if(D==16){}else if(D==19){var h6=ad.slice(0);
W.K.vS(ad,h6,gg,iN);var iY=gg;gg=iN;iN=iY;W.K.v5(h6,ad,gg,iN)}else throw"Unknown orientation of a depth map";
g5.push({yA:new cS(0,0,gg,iN),data:ad.buffer})}else if(hd!=-1&&!(cr[0]==255&&cr[1]==129)){try{if(hd!=0)cr=cr.slice(hd);
var ey=gr.Zf("jpg").TJ(cr.buffer);for(var y=0;y<ey.length;y++)g5.push(ey[y])}catch(hg){}}else if(R.pr(cr,0,4)=="PMPD"){var C=4,kh=R.Pc(cr,12),gN=R.Pc(cr,16),gg=R.Pc(cr,1060),iN=R.Pc(cr,1064),aT=gg>iN,iv=g5[0].yA.b>g5[0].yA.n,fs=cr.slice(cr.length-gg*iN-4),gm=W.Q(gg*iN);
for(var ji=0;ji<iN;ji++)for(var aM=0;aM<gg;aM++)gm[ji*gg+aM]=fs[(iN-ji-1)*gg+aM];var g8=W.Q(gg*iN*4);
g8.fill(255);W.eE(gm,g8);if(aT!=iv){var h6=g8.slice(0);W.K.vS(g8,h6,gg,iN);var iY=gg;gg=iN;iN=iY;W.K.v5(h6,g8,gg,iN)}g5.push({yA:new cS(0,0,gg,iN),data:g8.buffer})}else console.log(R.pr(cr,0,4),cr)}if(g5.length>1){var b_=g5[0].yA,gk=!1,bx=!0;
g5[0].tE="Main";var ko=[!1];for(var y=1;y<g5.length;y++){ko[y]=gr.aB.a9T(new Uint8Array(g5[y].data));
if(ko[y])gk=!0;if(!g5[y].yA.ac(g5[0].yA))bx=!1}if(!gk&&!bx)g5=g5.slice(0,1);else for(var y=1;y<g5.length;
y++){g5[y].tE=ko[y]?"Depth Map":null;var ai=g5[y].yA;if(!ai.ac(b_)){var hf=b_.b/ai.b,aa=b_.n/ai.n,iS=new iQ;
iS.scale(hf,aa);var hl=$.Xq.K7([new Uint8Array(g5[y].data),ai],1,W.K.y5(iS));g5[y].yA=hl.rect;g5[y].data=hl.buffer}}}if(gr.aB.pj==1)if(M[2]!=1||M[6]!=1)for(var y=0;
y<g5.length;y++){var jR=g5[y],jC=new Uint8Array(jR.data),J=jR.yA.b,i=jR.yA.n,gg=M[0],iN=M[1],_=W.Q(gg*iN*4);
W.K.$i(jC,J,i,_,M);jR.yA=new cS(0,0,gg,iN);jR.data=_.buffer}return g5};gr.aB.a9T=function(K){var E=!0;
for(var y=0;y<K.length;y+=4){E=E&&K[y]==K[y+1]&&K[y+1]==K[y+2]}return E};gr.aB.pj=0;gr.aB.TJ=function(K,E,x){K=new Uint8Array(K);
if(K[0]==255){var c=gr.aB.b0(K);if(c[195]==null){gr.aB.pj++;var J=gr.aB.MJ(K,c,!1);gr.aB.pj--;return J}var i=R.Xl(K,c[195][0]+5),P=R.Xl(K,c[195][0]+7),_=UTIF.LosslessJpegDecode(K),a=P*i,j=W.Q(a*4);
for(var y=0;y<a;y++){var e=y<<2,d=e-y;j[e]=_[d];j[e+1]=_[d+1];j[e+2]=_[d+2];j[e+3]=255}return[{yA:new cS(0,0,P,i),data:j.buffer}]}else if(K[0]==0&&K[4]==48&&K[6]==1){var I=K,v=new PDFJS.Jbig2Image,n=[];
if(E)n.push({data:E,start:0,end:E.length});n.push({data:I,start:0,end:I.length});var _=v.parseChunks(n);
if(!x)for(var y=0;y<_.length;y++)_[y]=~_[y];var P=R.s(K,11),i=R.s(K,15),C=Math.ceil(P/8),T=W.Q(P*i*4);
for(var o=0;o<i;o++){var s=o*C;for(var Q=0;Q<P;Q++){var e=(o*P+Q)*4,X=_[s+(Q>>>3)]>>>7-(Q&7)&1,B=X*255;
T[e]=B;T[e+1]=B;T[e+2]=B;T[e+3]=255}}return[{yA:new cS(0,0,P,i),data:T.buffer}]}else{var v=new PDFJS.JpxImage;
v.parse(K);var P=v.width,i=v.height,M=v.tiles,S=v.componentsCount,f=new Uint8Array(P*i*4),F=new cS(0,0,P,i);
for(var v=0;v<M.length;v++){var G=M[v],D=G.width,b=G.height,H=D*b,q=G.items,O=new cS(G.left,G.top,D,b),w=new Uint8Array(H*4);
if(S==1)for(var y=0;y<H;y++){var V=q[y],e=y*4;w[e]=V;w[e+1]=V;w[e+2]=V;w[e+3]=255}else if(S==3)for(var y=0;
y<H;y++){var d=y*3,e=y*4;w[e]=q[d];w[e+1]=q[d+1];w[e+2]=q[d+2];w[e+3]=255}else console.log("Unknown number of components: "+S);
W.UL(w,O,f,F)}return[{yA:F,data:f.buffer}]}};gr.n6={};gr.n6.bu=function(K,E,x,c){if(c==null)c=[70,0,0,0];
var J=c[0]/100,a=0;if(K.length==1)return gr.Co(K[0][0],E,x,"webp",J);var i=R.O1,P=R.gf,_=new hK;i(_,a,"RIFF    WEBPVP8X");
a+=16;P(_,a,10);a+=4;P(_,a,18);a+=4;P(_,a,E-1);a+=3;P(_,a,x-1);a+=3;i(_,a,"ANIM");a+=4;P(_,a,6);a+=4;
_.UY(a,4);_.data[a+3]=255;R.sX(_,a+4,c[2]);a+=6;var j=[];for(var y=0;y<K.length;y++){j.push(K[y][0])}var e=UPNG.encode.compress(j,E,x,J==1?0:Math.max(2,Math.floor(J*500)),[!1,!0,!0,0,!0]).frames;
function d(f,F,G,D){var Q=f.R-8,X=f.size+8;G.UY(D,X);for(var y=0;y<X;y++)G.data[D+y]=F[Q+y];return D+X}for(var y=0;
y<K.length;y++){i(_,a,"ANMF");a+=4;var I=a,Q=0,X=0;a+=4;var v=e[y],n=v.rect,C=[n.x>>>1,n.y>>>1,n.width-1,n.height-1,K[y][1]];
for(var T=0;T<5;T++)P(_,a+3*T,C[T]);a+=15;_.UY(a,1);_.data[a]=1-v.blend<<1|v.dispose;a++;var o=new Uint8Array(gr.Co(v.img.buffer,n.width,n.height,"webp",1)),s=gj.Sg(o.buffer).sub,B={};
for(var M=0;M<s.length;M++)B[s[M].Vn]=s[M];if(B.VP8L)a=d(B.VP8L,o,_,a);else throw"e";var S=a-I-4;P(_,I,S);
if((S&1)==1){_.UY(a,1);a++}}P(_,4,a-8);return _.data.slice(0,a).buffer};(function(){var K=gr.nu.get("wasm/webp").buffer;
WebAssembly.instantiate(K).then(function(E){var x=E.instance.exports;gr.n6.exp=x})}());gr.n6.TJ=function(K){var E=new Uint8Array(K),x=gr.n6.abC,c=null,J=gj.Sg(K).sub,i={};
for(var y=0;y<J.length;y++)i[J[y].Vn]=J[y];var P=i.ANIM,_=i.VP8L,a=i["VP8 "],j=i.VP8X;if(P==null){var e,d;
if(a){e=R.K9(E,a.R+6);d=R.K9(E,a.R+8)}else if(_){var I=R.Pc(E,_.R+1);e=(I&(1<<14)-1)+1;d=(I>>>14&(1<<14)-1)+1}else throw"e";
var v=[x(c,K,{R:0,size:E.length},e,d)];return v}var n=j.R,e=1+(R.Pc(E,n+4)&16777215),d=1+(R.Pc(E,n+7)&16777215),C=[],T=new cS(0,0,e,d),o=W.Q(e*d*4);
for(var y=0;y<J.length;y++){var s=J[y];if(s.Vn!="ANMF")continue;var Q=[];for(var X=0;X<5;X++)Q.push(R.Pc(E,s.R+X*3)&16777215);
var B=new cS(Q[0]*2,Q[1]*2,Q[2]+1,Q[3]+1),M=Q[4],S=x(c,K,{R:s.R+16,size:s.size-16},e,d),f=new Uint8Array(S.data),F=E[s.R+15];
if(F>>>1==0)W.h.Nh("norm",f,B,o,T,B,1);else W.UL(f,B,o,T);C.push({tE:"_a_"+C.length+","+M,yA:T.clone(),data:o.buffer.slice(0)});
if((F&1)==1){W._m(f,0);W.UL(f,B,o,T)}}return C};gr.n6.abC=function(K,E,x,c,J){var i=gr.n6.exp,P=i.memory,_=5e6+2*x.size+c*J*10;
gr.jx(i,_);var a=new Uint8Array(P.buffer),j=i.malloc(x.size);a.set(new Uint8Array(E,x.R,x.size),j);var e=i.malloc(8),d=i.WebPDecodeARGB(j,x.size,e,e+4),I=R.Pc(a,e),v=R.Pc(a,e+4),n=I*v*4,C=W.Q(n);
for(var y=0;y<n;y+=4){C[y]=a[d+y+1];C[y+1]=a[d+y+2];C[y+2]=a[d+y+3];C[y+3]=a[d+y]}i.WebPFree(d);i.free(e);
i.free(j);return{yA:new cS(0,0,I,v),data:C.buffer}};gr.a0J=function(){function K(_,a,j,e){var d=new Uint8Array(_[0][0]),I=new Uint32Array(d.buffer),v=[],n={},T=24,o=0,M=0;
for(var y=0;y<I.length;y++){var C=I[y]&16777215;if(n[C]==null){n[C]=v.length;v.push(C);if(v.length>256){v=null;
break}}}if(v){T=1;while(1<<T<v.length)T*=2;if(T==2)T=4}var s={pz:a,o4:j,wm:1,FY:T,J3:0,ai3:o},Q=4*Math.floor((s.FY*s.pz+31)/32);
s.size=Q*s.o4+2;var X=new hK,B=v?(1<<T)*4:0;R.O1(X,M,"BM");M+=2;R.gf(X,M,Q*j+16+40+B);M+=4;R.gf(X,M,0);
M+=4;R.gf(X,M,54+B);M+=4;X.UY(M,40);R.gf(X,M,40);M+=4;P(X.data,M,s,Q);M+=36;if(v){X.UY(M,B);var S=X.data;
for(var y=0;y<v.length;y++){var f=M+y*4,F=v[y]>>>16,G=v[y]>>>8&255,D=v[y]&255;S[f]=F;S[f+1]=G;S[f+2]=D}M+=B}X.UY(M,Q*j);
if(T==24)for(var b=0;b<j;b++){var H=M+(j-1-b)*Q;for(var q=0;q<a;q++){var O=(b*a+q)*4;X.data[H+q*3+2]=d[O];
X.data[H+q*3+1]=d[O+1];X.data[H+q*3+0]=d[O+2]}}else if(T==8)for(var b=0;b<j;b++){var H=M+(j-1-b)*Q;for(var q=0;
q<a;q++){var O=b*a+q,w=n[I[O]&16777215];X.data[H+q]|=w}}else if(T==4)for(var b=0;b<j;b++){var H=M+(j-1-b)*Q;
for(var q=0;q<a;q++){var O=b*a+q,w=n[I[O]&16777215];X.data[H+(q>>>1)]|=w<<4-(q&1)*4}}else if(T==1)for(var b=0;
b<j;b++){var H=M+(j-1-b)*Q;for(var q=0;q<a;q++){var O=b*a+q,w=n[I[O]&16777215];X.data[H+(q>>>3)]|=w<<7-(q&7)}}M+=Q*j+2;
return X.data.slice(0,M).buffer}function E(_){_=new Uint8Array(_);if(R.Pc(_,0)==40)return[x(_.buffer,0)];
var a=0,j=R.pr(_,a,2);a+=2;if(j!="BM"){alert("Unsupported BMP format: "+j);return}var e=R.Pc(_,a);a+=4;
a+=4;var d=R.Pc(_,a);a+=4;return[x(_.buffer,a,d)]}function x(_,a,j){_=new Uint8Array(_);var e=R.Pc(_,a),d=i(_,a+4);
if(d.wm!=1)alert("unsupported number of color planes: "+d.wm);if(d.J3!=0&&d.J3!=1&&d.J3!=2&&d.J3!=3){alert("Unsupported BMP compression: "+d.J3);
return}a+=e;var I=a,v=_;if(j==null)j=a;if(d.J3==1||d.J3==2){var n=J(_,j,d);d.FY=8;_=n;j=0}var C=4*Math.floor((d.FY*d.pz+31)/32),T=d.pz,o=Math.abs(d.o4),s=new Uint8Array(T*o*4);
s.fill(255);if(d.FY==32)for(var Q=0;Q<o;Q++){var X=j+(o-1-Q)*C;for(var B=0;B<T;B++){var M=(Q*T+B)*4;
s[M]=_[X+B*4+2];s[M+1]=_[X+B*4+1];s[M+2]=_[X+B*4+0];s[M+3]=_[X+B*4+3]}}else if(d.FY==24)for(var Q=0;
Q<o;Q++){var X=j+(o-1-Q)*C;for(var B=0;B<T;B++){var M=(Q*T+B)*4;s[M]=_[X+B*3+2];s[M+1]=_[X+B*3+1];s[M+2]=_[X+B*3+0]}}else if(d.FY==16)for(var Q=0;
Q<o;Q++){var X=j+(o-1-Q)*C;for(var B=0;B<T;B++){var M=(Q*T+B)*4,S=_[X+B*2+1]<<8|_[X+B*2];s[M]=(S>>>11)*(255/31);
s[M+1]=(S>>>5&63)*(255/63);s[M+2]=(S&31)*(255/31)}}else if(d.FY==8)for(var Q=0;Q<o;Q++){var X=j+(o-1-Q)*C;
for(var B=0;B<T;B++){var M=(Q*T+B)*4,f=_[X+B];s[M]=v[I+4*f+2];s[M+1]=v[I+4*f+1];s[M+2]=v[I+4*f+0]}}else if(d.FY==4)for(var Q=0;
Q<o;Q++){var X=j+(o-1-Q)*C;for(var B=0;B<T;B++){var M=(Q*T+B)*4,f=_[X+(B>>1)];f=f>>4-4*(B&1);f=f&15;
s[M]=v[I+4*f+2];s[M+1]=v[I+4*f+1];s[M+2]=v[I+4*f+0]}}else if(d.FY==1)for(var Q=0;Q<o;Q++){var X=j+(o-1-Q)*C;
for(var B=0;B<T;B++){var M=(Q*T+B)*4,F=_[X+(B>>3)];F=F>>7-(B&7);F=F&1;s[M]=v[I+4*F+2];s[M+1]=v[I+4*F+1];
s[M+2]=v[I+4*F+0]}}else throw"Unknown bit depth "+d.FY;if(d.o4<0){var G=new Uint32Array(s.buffer),D=o>>>1;
for(var Q=0;Q<D;Q++){var b=Q*T,H=(o-Q-1)*T;for(var B=0;B<T;B++){var q=G[b+B];G[b+B]=G[H+B];G[H+B]=q}}}return{yA:new cS(0,0,T,o),data:s.buffer}}function c(_,y){return _>>>4-((y&1)<<2)&15}function J(_,a,j){var e=j.pz,d=Math.abs(j.o4),I=new Uint8Array(e*d),v=0,n=0,y=0;
while(n<d){var C=_[a++],T=_[a++],o=n*e+v;if(C>0){if(j.FY==4)for(y=0;y<C;y++){I[o+y]=c(T,y)}else for(y=0;
y<C;y++){I[o+y]=T}v+=C}else if(C==0&&T==0){n++;v=0}else if(C==0&&T==1){break}else if(C==0&&T==2){v+=_[a++];
n+=_[a++]}else{var s=T;if(j.FY==4){for(y=0;y<T;y++){I[o+y]=c(_[a+(y>>>1)],y)}s=Math.ceil(T/2)}else{for(y=0;
y<T;y++){I[o+y]=_[a+y]}}if((s&1)!=0)s++;a+=s;v+=T}}return I}function i(_,a){var j=R.d4,e=R.Pc,d=R.K9,I={};
I.pz=j(_,a);a+=4;I.o4=j(_,a);a+=4;I.wm=d(_,a);a+=2;I.FY=d(_,a);a+=2;I.J3=e(_,a);a+=4;I.size=e(_,a);a+=4;
var v=j(_,a);a+=4;var n=j(_,a);a+=4;I.ai3=e(_,a);a+=4;a+=4;return I}function P(_,a,j,e){R.qr(_,a,j.pz);
a+=4;R.qr(_,a,j.o4);a+=4;R.ih(_,a,j.wm);a+=2;R.ih(_,a,j.FY);a+=2;R.qr(_,a,j.J3);a+=4;R.qr(_,a,j.size);
a+=4;R.qr(_,a,2834);a+=4;R.qr(_,a,2834);a+=4;R.qr(_,a,j.ai3);a+=4;a+=4}return{TJ:E,bu:K,at$:x}}();gr.Xn={};
gr.Xn.bu=function(K,E,x,c){if(c==null)c=[100,!1,0,0,0,0];var J=[],i=[],P=E*x*4,C=null;for(var _=0;_<K.length;
_++){var a=new Uint8Array(K[_][0].slice(0));for(var y=0;y<P;y+=4){var j=a[y+3]=a[y+3]>127?255:0;if(j==0)a[y]=a[y+1]=a[y+2]=0}J.push(a.buffer);
i.push(K[_][1])}var e=Math.round(2+254*c[0]/100),d=UPNG.encode.compress(J,E,x,e,[!0,!1,!1,8,!1,c[1]]),I=d.plte,v=new Uint8Array(4),n=new Uint32Array(v.buffer);
for(var y=0;y<I.length;y++){n[0]=I[y];var T=v[0];v[0]=v[2];v[2]=T;I[y]=n[0];if(n[0]==0)C=y}while(I.length<256)I.push(0);
var o=new Uint8Array(2e4+Math.round(1.5*E*x*K.length)),s=c[3],Q={palette:I};if(s!=1)Q.loop=s==0?0:s-1;
var X=new GifWriter(o,E,x,Q);for(var y=0;y<K.length;y++){var B=d.frames[y],M=B.rect,S=B.blend,f=B.dispose,F=Math.round(i[y]/10);
if(F<2)F=2;X.addFrame(M.x,M.y,M.width,M.height,B.img,{transparent:C,disposal:f+1,delay:F})}return o.slice(0,X.end()).buffer};
gr.Xn.TJ=function(K){var E=Date.now(),x=[],c=UGIF.decode(K),J=UGIF.toRGBA8(c),i=new cS(0,0,c.width,c.height);
for(var y=0;y<J.length;y++){var P=c.frames[y];x.push({yA:i.clone(),tE:"_a_frm"+y+","+P.delay*10,data:J[y]})}return x};
gr.bb={};gr.bb.bu=function(K,E,x,c){console.log(K);if(E>256||x>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var J=Math.min(E,256),i=Math.min(x,256),P=new cS(0,0,J,i),_=W.Q(P.O()*4),a=new cS(0,0,E,x),j=new Uint8Array(K[0][0]);
W.UL(j,a,_,P);K[0][0]=_.buffer;E=J;x=i}var e=new hK,d=0,I=c&&c[0]==!0;R.sX(e,d,0);d+=2;R.sX(e,d,I?2:1);
d+=2;R.sX(e,d,1);d+=2;var v=new Uint8Array(gr.Zf("png").bu(K,E,x));e.UY(d,16);e.data[d]=E==256?0:E;d++;
e.data[d]=x==256?0:x;d++;d+=2;R.sX(e,d,I?Math.round(E/2):1);d+=2;R.sX(e,d,I?Math.round(x/2):32);d+=2;
R.gf(e,d,v.length);d+=4;R.gf(e,d,6+16);d+=4;e.UY(d,v.length);for(var y=0;y<v.length;y++)e.data[d+y]=v[y];
d+=v.length;var n=new Uint8Array(d);for(var y=0;y<d;y++)n[y]=e.data[y];return n.buffer};gr.bb.TJ=function(K){K=new Uint8Array(K);
var E=4,x=R.K9(K,E);E+=2;var c=[];for(var y=0;y<x;y++){var J=gr.bb.axb(K,E+y*16),i=K.buffer.slice(J.offset,J.offset+J.size),P=gr.lX(i);
P=P?P:"bmp";if(P=="png"){var _=gr.Zf(P),a=_.TJ(i);J.dz=a[0]}else{var j=gr.Zf("BMP").at$(i,0),i=W.Q(J.pz*J.o4*4);
W.UL(new Uint8Array(j.data),new cS(0,0,j.yA.b,j.yA.n),i,new cS(0,J.o4,J.pz,J.o4));j.data=i.buffer;j.yA.n=J.o4;
J.dz=j}c.push(J)}c.sort(function(e,d){if(e.pz!=d.pz)return e.pz-d.pz;return e.as5-d.as5});return[c.pop().dz]};
gr.bb.axb=function(K,E){var x={};x.pz=K[E];E++;if(x.pz==0)x.pz=256;x.o4=K[E];E++;if(x.o4==0)x.o4=256;
x.asB=K[E];E++;E++;x.a7F=R.K9(K,E);E+=2;x.as5=R.K9(K,E);E+=2;x.size=R.Pc(K,E);E+=4;x.offset=R.Pc(K,E);
E+=4;return x};gr.sv={};gr.sv.TJ=function(K){var E=Date.now(),c,M=!0;if(W.raw.Zo(K.byteLength))return[W.raw.axX(K)];
var x=UTIF.decode(K);if(x[0].t33421)c=x[0];else if(x[0].subIFD&&x[0].t271&&x[0].t271[0]=="Hasselblad"){c=x[0].subIFD[0];
c.t33421=[2,2]}else if(x[0].subIFD&&x[0].subIFD[0].t33421){c=x[0].subIFD[0];if(c.t50706==null){if(c.t258[0]==8)c.t258[0]=12}}else if(x[0].subIFD&&x[0].subIFD[0]&&x[0].subIFD[0].t262&&x[0].subIFD[0].t262[0]==34892)c=x[0].subIFD[0];
else if(x[0].t50706)c=x[0];else if(x[0].subIFD&&x[0].subIFD[1]&&x[0].subIFD[1].t33421)c=x[0].subIFD[1];
else if(x[0].subIFD&&x[0].subIFD[2]&&x[0].subIFD[2].t33421)c=x[0].subIFD[2];else if(x[3]&&x[3].t50648){var J=x[0].exifIFD,i=J.makerNote;
c=x[3];var P=i.t224[1],_=i.t224[2];c.t256=[P];c.t257=[_];c.t258=[16];c.t259=[7];c.t262=[32803];c.t277=[1];
c.t33421=[2,2];var a=c.t50656[0],j=W.raw.aP[a];if(j==null)throw"e";c.t33422=j}else if(x[0].t1&&x[0].t1.length==4){var e=x[0],d={2:256,3:257,8:277,11:259,271:271,272:272,279:279,280:273,278:278};
c={};for(var I in d)if(e["t"+I])c["t"+d[I]]=e["t"+I];c.t2=e.t2;c.t3=e.t3;c.t10=e.t10;c.t45=e.t45;c.t258=[16];
c.t33421=[2,2];var v=e.t9[0];c.t33422=[[0,1,1,2],[1,0,2,1],[1,2,0,1],[2,1,1,0]][v-1];var n=e.t4[0],C=e.t5[0],T=e.t6[0],o=e.t7[0];
c.t50829=[n,C,T,o];var s=e.t36[0],Q=e.t37[0],X=e.t38[0];c.t50728=[Q/s,Q/Q,Q/X]}if(c){UTIF.decodeImage(K,c,x);
for(var B in x[0])if((B[0]=="t"||B[0]=="e"||B[0]=="d")&&c[B]==null)c[B]=x[0][B];c.JX=x[0].t274?x[0].t274[0]:1;
return[c]}var S=1/256;for(var y=0;y<x.length;y++)if(x[y].t258&&x[y].t258[0]==16&&x[y].t277&&x[y].t277[0]==1){}else M=!1;
if(M){var f=0,F=0,G=0;for(var y=0;y<x.length;y++){UTIF.decodeImage(K,x[y],x);var D=x[y].data;for(var b=0;
b<D.length;b+=2){var H=D[b+1]<<8|D[b];if(H>f)f=H;F+=H;G++}}S=1/256*65535/(.5*f+.5*(2*F/G))}var q=[];
for(var y=0;y<x.length;y++){var O=x[y],w=72;UTIF.decodeImage(K,O,x);var V=O.t282,t=O.t296;if(V!=null&&t!=null){w=V[0][0]/V[0][1];
if(t[0]==3)w=Math.round(w/2.54)}if(O.width==null)continue;var m=UTIF.toRGBA8(O,S).buffer,g=c1.Jt(O);
console.log(O);q.push({yA:new cS(0,0,O.width,O.height),data:m,B8:w,VQ:g,wM:O.t34675?O.t34675.slice(0):null})}return q};
gr.sv.bu=function(K,E,x,c){if(c==null)c=[!1];var J={},i=K[0];if(i[3]!=null&&c[0])J=c1.KI(i[3]);if(i[2]!=null){J.t282=J.t283=[[Math.round(i[2]),1]];
J.t296=[2]}return UTIF.encodeImage(i[0],E,x,J)};gr.$B={};gr.$B.pC=!0;gr.$B.TJ=function(K,E){iI.Sg(K,E)};
gr.$B.axY=function(K,E,x,c){if(c==null)c=[!1,!1,!1,!1];if(!c[0])K.S7();var J=new hK,i=iI.sP(K,J,c);return[J.data.buffer,i]};
gr.$B.bu=function(K,E,x,c){var J=gr.$B.axY(K,E,x,c),i=J[0],P=J[1];return i.byteLength==P?i:i.slice(0,P)};
gr.EQ={};gr.EQ.pC=!0;gr.EQ.TJ=function(K,E){var x=pako.inflate(new Uint8Array(K)),c=R.Xl(x,0),J=R.Xl(x,2),i=4;
E.b=R.s(x,i);i+=4;E.n=R.s(x,i);i+=4;E.buffer=W.Q(E.b*E.n*4);var P=R.Xl(x,i);i+=2;i+=4;for(var _=0;_<P;
_++){var a=E.EY(),n=0,w=1,V=2,t=3,m=0;E.B.push(a);var j=R.s(x,i);i+=4;var e=i,d=R.Xl(x,e);e+=2;var I=R.__(x,e,d);
e+=d;a.yH(I);var v=x[e];e++;if(v!=0&&v!=1)throw v;a.rect.x=R.Jv(x,e);e+=4;a.rect.y=R.Jv(x,e);e+=4;a.rect.b=R.s(x,e);
e+=4;a.rect.n=R.s(x,e);e+=4;if(c>3){n=R.Jv(x,e);e+=4}a.opacity=Math.round(255*x[e]/100);e++;var C=x[e];
e++;a.g7(C!=0);a.Vk="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[x[e]];
e++;var T=x[e];e++;if(T)a.add.lspf=1<<31;if(c>3){var o=R.Xl(x,e);e+=2;if(o!=0){var s=JSON.parse(R.__(x,e,o));
e+=o;var Q=s.text,X=s.textSettings,B=X.font,M=X.size,S=X.padding,f=parseInt(X.color.slice(1),16);a.add.lnsr="rend";
a.add.TySh=ev.l4(0,0);a.add.TySh.T6=new cS(0,0,100,100);var F=a.add.TySh.u=new iQ,G=a.rect.b/2,D=a.rect.n/2;
F.translate(-G,-D);F.rotate(-n*Math.PI/180);F.translate(G,D);F.translate(a.rect.x+S,a.rect.y+S);var b=a.add.TySh.kd;
ev.IT(b,1);ev.sV(b,[0,0,a.rect.b-S*2,a.rect.n]);ev.tW(b,0,Q);var H=ev.Jw(b,0,1);H.BY.FontSize=M;H.BY.FillColor={Type:1,Values:[1,(f>>>16&255)/255,(f>>>8&255)/255,(f>>>0&255)/255]};
if(X.bold)B+="-Bold";ev.H8(H,B);H.sn.Justification=["left","right","center"].indexOf(X.align);ev.q1(b,0,Q.length,H)}}var q=R.s(x,e);
e+=4;if(q!=a.rect.O()*4){for(var y=a.rect.b;y>a.rect.b/2;y--){var O=q/(y*4);if(O==Math.round(O)){a.rect.b=y;
a.rect.n=O;break}}}a.buffer=W.Q(a.rect.O()*4);if(c>3){w=0;V=1;t=2;m=3}for(var y=0;y<q;y+=4){a.buffer[y]=x[e+y+w];
a.buffer[y+1]=x[e+y+V];a.buffer[y+2]=x[e+y+t];a.buffer[y+3]=x[e+y+m]}e+=q;var g=R.s(x,e);e+=4;if(g==0&&c>3){i+=j;
continue}var Y=x[e];e++;var A=R.Xl(x,e);e+=2;if(g!=0){a.z=new Z.vW;a.z.rect=a.rect.clone();a.z.channel=W.Q(a.rect.O());
for(var y=0;y<g;y+=4)a.z.channel[y>>>2]=x[e+y+1];e+=g}if(Y!=0){var k=JSON.parse(dz.default);a.add.lmfx=k;
for(var y=0;y<dz.order.length;y++)k[dz.E9[y]]={t:"VlLs",v:[]};var z={"102":9,"101":2,"103":0,"104":3,"105":8};
for(var y=0;y<Y;y++){var p=R.Xl(x,e),L=e+p+4,N=x.slice(e,L),gC=x[e+2];e+=3;var r=z[gC+""],h=JSON.parse(dz.hQ[r]);
k[dz.E9[r]].v.push({t:"Objc",v:h});if(r!=0){h.Md.v.BlnM=db.zJ("norm");h.Opct.v.val=x[e];e++;if(r==9||r==2){h.Dstn.v.val=x[e+1];
e+=2}else e+=2;h.blur.v.val=Math.round(x[e]*1.2);e++;if(r==9||r==2){h.uglg.v=!1;h.lagl.v.val=180-R.Xl(x,e);
e+=2}h.Clr.v=W.M.TD({o:x[e+1],J:x[e+2],k:x[e+3]})}else{h.hglM.v.BlnM=h.sdwM.v.BlnM=db.zJ("norm");e+=2;
var l=x[e++],g5=x[e++];h.blur.v.val=Math.round(Math.sqrt(g5*l)*1.3);h.srgR.v.val=Math.round(100*l/g5);
h.uglg.v=!1;h.lagl.v.val=180-R.Xl(x,e);e+=2;h.hglO.v.val=x[e++];h.hglC.v=W.M.TD({o:x[e+1],J:x[e+2],k:x[e+3]});
e+=4;h.sdwO.v.val=x[e++];h.sdwC.v=W.M.TD({o:x[e+1],J:x[e+2],k:x[e+3]});e+=4}e=L}}if(e-i<j){var fm=R.s(x,e),cR=0;
e+=4;e++;var d=R.Xl(x,e);e+=2;var Q=R.__(x,e,d);e+=d;Q=Q.replace(/\r/g,"\n");var d=R.Xl(x,e);e+=2;var B=R.__(x,e,d);
e+=d;var M=R.Xl(x,e);e+=2;var dC=a.rect.x,ex=a.rect.b;if(fm&4)cR=1;if(fm&2)cR=2;var d0=Math.round(M*.4);
if(cR==0||cR==2)ex+=d0;if(cR==1||cR==2){ex+=d0;dC-=d0}a.add.lnsr="rend";a.add.TySh=ev.l4(0,0);a.add.TySh.T6=new cS(0,0,100,100);
a.add.TySh.u=new iQ(1,0,0,1,dC,a.rect.y+M*.25);var b=a.add.TySh.kd;ev.IT(b,1);ev.sV(b,[0,0,ex,a.rect.n]);
ev.tW(b,0,Q);var H=ev.Jw(b,0,1);H.BY.FontSize=M;H.BY.FillColor={Type:1,Values:[1,x[e+1]/255,x[e+2]/255,x[e+3]/255]};
e+=4;if(x[e+5])B+="-Bold";if(x[e+6])B+="-Italic";ev.H8(H,B);H.sn.Justification=cR;e+=8;ev.q1(b,0,Q.length,H)}i+=j}};
gr.Cg={};gr.Cg.pC=!0;gr.Cg.TJ=function(K,E){hL.Sg(K,E)};var hL=function(){function K(d,I){var v=Date.now(),n=UZIP.parse(d);
console.log(n);console.log(Date.now()-v);v=Date.now();var C=n["maindoc.xml"],T=new DOMParser,o=T.parseFromString(R.__(C),"image/svg+xml").children[0].children[0],s=o.getAttribute("name"),Q=I.b=j(o,"width"),X=I.n=j(o,"height");
I.B8=Math.round(j(o,"x-res"));var B=o.children[0].children;E(B,I,{eg:s,rV:n,bc:null});console.log(Date.now()-v);
v=Date.now()}function E(d,I,v){for(var n=0;n<d.length;n++){var C=d[d.length-1-n],T=C.getAttribute("nodetype");
if(T=="transparencymask"){v.bc.z=e(C,v);continue}var o=C.getAttribute("compositeop"),s=C.getAttribute("filename"),Q=C.getAttribute("channelflags"),X=C.children;
X=X.length==0?null:X[0].children;var B=I.EY();if(T=="paintlayer"){var M=j(C,"x"),S=j(C,"y"),f=v.rV[v.eg+"/layers/"+s+".defaultpixel"],F=v.rV[v.eg+"/layers/"+s],G=a(F);
B.rect=G[0];B.rect.offset(M,S);B.buffer=G[1];if(B.rect.um()&&f.join()!="0,0,0,0"){B.add.SoCo={classID:"null",Clr:{t:"Objc",v:W.M.TD({o:f[0],J:f[1],k:f[2]})}};
B.DY(I)}}else if(T=="grouplayer"){B.add.lsct=fV.Bm;B.Vk="pass";B.LD|=24;I.B.push(I.NG());var D=v.bc;
v.bc=B;E(X,I,v);v.bc=D}else if(T=="shapelayer"){var F=v.rV[v.eg+"/layers/"+s+".shapelayer/content.svg"],b=R.__(F),H=I.EI(F,B.getName(),0,0);
B=H;var q=new cS(0,0,I.b,I.n),O=W.p.VD(q).C;B.add.SoLd.Trnf=$.Xq.K0(O);B.add.SoLd.nonAffineTransform=$.Xq.K0(O);
B.mQ(I,!1)}else if(T=="clonelayer"){var y=-1;for(var w=0;w<d.length;w++)if(d[w].getAttribute("name")==C.getAttribute("clonefrom"))y=w;
if(y!=-1){E([d[y]],I,v);B=I.B.pop()}}else console.log(T,C);B.yH(C.getAttribute("name"));if(j(C,"locked")==1)B.add.lspf=1<<31;
B.g7(j(C,"visible")==1);var V={normal:"norm",multiply:"mul ",diff:"diff",hard_light:"hLit"}[o];if(V)B.Vk=V;
else console.log(o);B.opacity=j(C,"opacity");if(Q=="1110")B.Z2=!0;var t=X?X[0]:null;if(t&&t.tagName=="mask")B.z=e(t,v);
I.B.push(B)}}function x(d,I){var v=0,n=0,C=d.length,T,o,s;while(v<C){T=d[v++];if(T>31){o=T>>>5;if(o==7)o=7+d[v++];
s=(T&31)<<8|d[v++];var Q=n-s-1,X=o>>>1;I[n++]=I[Q++];I[n++]=I[Q++];for(var y=0;y<X;y++){I[n++]=I[Q++];
I[n++]=I[Q++]}if((o&1)==1)I[n++]=I[Q++]}else{for(var y=0;y<=T;y++){I[n++]=d[v++]}}}}function c(d,I){var v=0;
while(d[I+v]!=10)v++;return R.pr(d,I,v)}var J=new cS(0,0,64,64),i=new Uint8Array(64*64*4),P=new Uint8Array(64*64*4);
function _(){for(var y=0;y<4096;y++){var d=y<<2;i[d+0]=P[y+8192];i[d+1]=P[y+4096];i[d+2]=P[y];i[d+3]=P[y+12288]}}function a(d){var I=0,v={};
for(var y=0;y<5;y++){var n=c(d,I);I+=n.length+1;n=n.split(" ");v[n[0]]=parseInt(n[1])}var C=v.PIXELSIZE,T=[],o=new cS;
while(I<d.length){var n=c(d,I),s=n.split(",");I+=n.length+1;if(s[2]!="LZF")throw s[2];J.x=parseInt(s[0]);
J.y=parseInt(s[1]);o=o.XN(J);var Q=parseInt(s[3]);T.push([J.clone(),new Uint8Array(d.buffer,I+1,Q-1)]);
I+=Q}var X=W.Q(o.O()*C);for(var y=0;y<T.length;y++){var B=T[y];x(B[1],P);if(C==4){_();W.UL(i,B[0],X,o)}else W.XT(P,B[0],X,o)}return[o,X]}function j(d,I){return parseInt(d.getAttribute(I))}function e(d,I){var v=d.getAttribute("filename"),n=I.rV[I.eg+"/layers/"+v+".pixelselection"],C=a(n),T=new Z.vW;
T.hv=j(d,"visible")==1;T.rect=C[0];T.channel=C[1];return T}return{Sg:K}}();gr.VN={};gr.VN.pC=!0;gr.VN.TJ=function(K,E){bv.Sg(K,E)};
gr.Q_={};gr.Q_.pC=!0;gr.Q_.TJ=function(K,E){f3.Sg(K,E)};gr.AW={};gr.AW.pC=!0;gr.AW.TJ=function(K,E){kk.Sg(K,E)};
gr.DG={};gr.DG.pC=!0;gr.DG.TJ=function(K,E){kc.Sg(K,E)};gr.Xr={};gr.Xr.pC=!0;gr.Xr.TJ=function(K,E){ff.Sg(K,E)};
gr.ZZ={};gr.ZZ.pC=!0;gr.ZZ.TJ=function(K,E){hH.Sg(K,E)};gr.lM={};gr.lM.pC=!0;gr.lM.bu=function(K,E,x,c,J){if(c==null)c=[!0,!1,!1,!1,!0];
var i=gi.by(K,{TO:c[0],hidden:c[1],a15:c[2],auo:c[3],ob:c[4],a7l:E,azr:x},J.ir);return i};gr.lM.TJ=function(K,E,x){gi.Sg(K,E,x)};
gr.s5={};gr.s5.pC=!0;gr.s5.TJ=function(K,E){var x=150,c=new iQ(1,0,0,-1,0,0);c.scale(x/72,x/72);E.B8=x;
var J=new a0(E,c,!0);FromPS.Parse(K,J)};gr.WK={};gr.WK.pC=!0;gr.WK.bu=function(K,E,x,c,J){if(c==null)c=["",100,!1,!1,!1,0];
c[6]=["jpg"];var i=new ToPDF;ao.by(K,c,i,J.ir,E,x);return i.buffer};gr.WK.TJ=function(K,E,x){var c=2;
while(!0){var J=c*72,i=new iQ(1,0,0,-1,0,0);i.scale(J/72,J/72);E.B8=J;var P=new a0(E,i,!0);FromPDF.Parse(K,P);
var _=Math.max(E.b,E.n);if(x&&_<Math.max(x[0],x[1])){E.B=[];var a=c;while(_*(c/a)<Math.max(x[0],x[1]))c++}else break}};
gr.Gt={};gr.Gt.pC=!0;gr.Gt.TJ=function(K,E){var x=72,c=new iQ(1,0,0,1,0,0);c.scale(x/72,x/72);E.B8=x;
var J=new a0(E,c,!1);FromWMF.Parse(K,J)};gr.RS={};gr.RS.BQ=!0;gr.RS.pC=!0;gr.RS.bu=function(K,E,x,c,J){if(c==null)c=["",100,!1,!1,!1,0];
c[6]=[];var i=new ToEMF;ao.by(K,c,i,J.ir);return i.buffer};gr.RS.TJ=function(K,E){var x=72,c=new iQ(1,0,0,1,0,0);
c.scale(x/72,x/72);E.B8=x;var J=new a0(E,c,!1);FromEMF.Parse(K,J)};gr.AC={};gr.AC.pC=!0;gr.AC.TJ=function(K,E){return dg.Sg(K,E)};
gr.Hl={};gr.Hl.TJ=function(){var K,E,x,c,J,i,P=0,_=0,a=0,j=0,e=0;function d(C){var T=dv.Sg(C),o=T.Iy,s=new Uint8Array(C),S=0,f,F;
if(o=="ILBM")return I(T,s);var Q=R.Xl,X=R.s,B=T.sub,M=I(B[0],s);for(var G=1;G<B.length-2;G++){var D=M[Math.max(0,G-2)].awQ.slice(0),b=B[G];
for(var H=0;H<b.sub.length;H++){var q=b.sub[H],O=q.R;if(q.Vn=="ANHD"){var w=s[O++];if(w!=5)throw w;var c=s[O++];
O+=8;var V=Q(s,O);O+=2;f=Q(s,O);O+=2;O++;O++;F=Q(s,O);O+=2}else if(q.Vn=="DLTA"){var t=[],m=O;for(var y=0;
y<16;y++)t.push(X(s,O+y*4));O+=64;var g=i;for(var Y=0;Y<J;Y++){if(t[Y]==0)continue;O=m+t[Y];for(var A=0;
A<g;A++){var k=s[O++],z=0;if(k==0)continue;for(var y=0;y<k;y++){var p=s[O++];if(p==0){var L=s[O++],N=s[O++];
for(var gC=0;gC<L;gC++){D[(z*J+Y)*g+A]=N;z++}}else if(p<128){z+=p}else{p-=128;for(var gC=0;gC<p;gC++){D[(z*J+Y)*g+A]=s[O+gC];
z++}O+=p}}}}}else console.log(q.Vn)}var r=f==0?17:Math.round((f-S)*1e3/60);M.push({data:n(s,D),yA:new cS(0,0,K,E),awQ:D,tE:"_a_frm"+G+","+r});
S=f}M[0].tE=M[1].tE;return M}function I(C,T){var o,s;P=0;_=0;a=0;j=0;e=0;for(var Q=0;Q<C.sub.length;
Q++){var X=C.sub[Q],B=X.R;if(X.Vn=="BMHD"){var M=[];for(var y=0;y<4;y++)M[y]=R.Xl(T,B+2*y);B+=8;var S=M[2],f=M[3];
K=M[0];E=M[1];x=T[B++];c=T[B++];var F=T[B++];if(F!=1)throw F;i=K+15>>>4<<1;J=x+c}else if(X.Vn=="CMAP")P=B;
else if(X.Vn=="CAMG"){var G=R.s(T,B);_=G&32768,a=G&4,j=G&2048;e=G&128}else if(X.Vn=="BODY"){s=W.Q(i*E*J);
iE.yP(T,B,X.size,s,0,s.length)}}o=n(T,s);return[{yA:new cS(0,0,K,E),data:o.buffer,awQ:s}]}function v(C,hr){return C[hr>>>3]>>>7-(hr&7)&1}function n(C,T){var o=x-2,s=(1<<o)-1,Q=Math.round(255/s),X,B,M,S=i*8,f=W.Q(K*E*4);
for(var F=0;F<E;F++)for(var G=0;G<K;G++){var D=0;for(var b=0;b<J;b++){var H=(F*J+b)*S+G,q=v(T,H);D|=q<<b}D=D&(1<<x)-1;
var y=F*K+G,O=y<<2;if(P!=0){if(j!=0&&D>>>o!=0){var w=D>>>o,V=(D&s)*Q;if(w==1)M=V;else if(w==2)X=V;else if(w==3)B=V}else{var V=P+D*3;
X=C[V+0];B=C[V+1];M=C[V+2]}}else{X=D>>>0&255;B=D>>>8&255;M=D>>>16&255}f[O+0]=X;f[O+1]=B;f[O+2]=M;f[O+3]=255}return f}return d}();
gr.uQ={};gr.uQ.pC=!1;gr.uQ.bu=function(K,E,x,c){var J=K[0][4],i=new Uint8Array(K[0][0]),P=2,_=J?!0:!1,a=_?4:3,j=new Uint8Array(E*x*a);
for(var e=0;e<x;e++)for(var d=0;d<E;d++){var I=e*E+d<<2,v=((x-e-1)*E+d)*a;j[v]=i[I+2];j[v+1]=i[I+1];
j[v+2]=i[I+0];if(_)j[v+3]=J[0][e*E+d]}if(!0){var n=j.length,C=0,T=new Uint8Array(n*2),o=0,s=0,Q=E*a;
while(s<n){var X=s,B=0,M=Q*(Math.floor(s/Q)+1);while(X<M&&B<128){var S=!0;for(var y=0;y<a;y++)S=S&j[s+y]==j[X+y];
if(!S)break;X+=a;B++}if(B==1){var f=1;while(f<128&&s+(f+1)*a<M){var S=!0,F=s+f*a;for(var y=0;y<a;y++)S=S&j[F+y]==j[F+a+y];
if(S)break;f++}T[o++]=f-1;for(var G=0;G<f;G++)for(var y=0;y<a;y++)T[o++]=j[s++]}else{T[o++]=127+B;for(var y=0;
y<a;y++)T[o+y]=j[s+y];o+=a;s+=a*B;C+=B}}j=T.slice(0,o);P+=8}var D=new Uint8Array(18+j.length+26);D[2]=P;
R.ih(D,12,E);R.ih(D,14,x);D[16]=a*8;D[17]=a==4?8:0;D.set(j,18);R.Dx(D,18+j.length+8,"TRUEVISION-XFILE.");
return D.buffer};gr.uQ.TJ=function(K){var E=new Uint8Array(K),x=0,c=E[0],J=E[1],i=E[2],P=E[4]*256+E[3],_=E[6]*256+E[5],a=E[7],j=E[9]*256+E[8],e=E[11]*256+E[10],d=E[13]*256+E[12],I=E[15]*256+E[14],v=E[16],n=E[17],C=n>>>4,T=R.pr(E,18,c),o=W.Q(d*I*4),x=18+c+(_*a>>>3),s=new Uint8Array(E.buffer,x);
if(i>3){var Q=0,X=E,B=new Uint8Array(d*I*v>>>3),M=x,S=0,f=E.length,F=v>>>3;while(S<B.length){var hr=X[M];
M++;if(hr<128)for(var y=0;y<hr+1;y++){for(var G=0;G<F;G++){B[S]=X[M];S++;M++}}else{for(var y=0;y<hr-127;
y++){for(var G=0;G<F;G++){B[S]=X[M+G];S++}}M+=F}}i-=8;s=B;x=M}else x+=d*I*v>>>3;var D=new Uint8Array(4),b=gr.uQ.ag2;
for(var H=0;H<I;H++)for(var q=0;q<d;q++){var O=(C&2)==0?(I-H-1)*d+q:H*d+q,w=H*d+q,V,t,m,g=255,Y=O*v>>>3;
if(i==1){var A=0;if(v==8)A=s[Y];else throw"e";b(E,18+c+P+(A*a>>>3),a,D);V=D[0];t=D[1];m=D[2];g=D[3]}else if(i==2){b(s,Y,v,D);
V=D[0];t=D[1];m=D[2];g=D[3]}else if(i==3){if(v==8)V=t=m=s[Y];else throw"e"}var k=w*4;o[k]=V;o[k+1]=t;
o[k+2]=m;o[k+3]=g}var D={yA:new cS(0,0,d,I),data:o.buffer,tE:T};if(W.m4(o)){var z=W.Q(d*I);W.Bp(o,z,3);
W._m(o,4278190080,16777215);D.Un=[z]}return[D]};gr.uQ.ag2=function(K,E,x,c){var J,i,P,_=255;if(x==24||x==32){P=K[E];
i=K[E+1];J=K[E+2];if(x==32)_=K[E+3]}else if(x==16){var a=K[E+1]<<8|K[E+0];J=a>>>10&31;i=a>>>5&31;P=a>>>0&31;
J=Math.round(J*(255/31));i=Math.round(i*(255/31));P=Math.round(P*(255/31))}else throw"e";c[0]=J;c[1]=i;
c[2]=P;c[3]=_};gr.amF=function(){var K,E=[],x=!1;function c(P,_,a,j){K=a;E.push(P,j);J()}function J(){if(x||E.length==0)return;
x=!0;gr.a3j(E.shift(),"image/avif",i)}function i(P){K(null,[P],E.shift());x=!1;J()}return{pC:!1,gP:!0,TJ:c}}();
gr.ap_=function(){var K,E=[],x=!1,c,J,i,P=10,_,a,j,e=0,I;function d(Q,X,B,M,S){K=B;E.push(Q,M);var f=aY.Sg(Q),F=aY.aoI(f,0),G=F.tkhd,D=F.mdia.minf.stbl,b=G.duration/f.moov.mvhd.sD,H=D.stsz.length,q=Math.round(H/b);
console.log(f);c=G.pz;J=G.o4;var O=c+" \xD7 "+J+" px, "+H+" frames, "+ew.ev(c*J*4*H)+" decoded<br/>";
O+=b.toFixed(2)+" seconds, "+q+" FPS";var w=new i3(u.E.L,!0);w.data={_:u.c.v9,xc:"setFPS",_5:P,sO:C,ab7:O};
S.S(w)}function v(){if(x||E.length==0)return;x=!0;var Q=E.shift(),X=aY.Sg(Q),B=aY.aoI(X,0),M=B.tkhd,S=B.mdia.minf.stbl,f=S.stsd.aom.avcC,F=M.duration/X.moov.mvhd.sD,G=S.stsz.length,D=Math.round(G/F),b=Math.max(1,Math.round(D/P)),O=0;
I=Date.now();c=M.pz;J=M.o4;i=[];_=document.createElement("canvas");a=_.getContext("2d");_.width=c;_.height=J;
var H=new Uint8Array(Q),q=[],w=new VideoDecoder({output:function(g){if(O%b==0){a.drawImage(g,0,0);g.close();
var Y=a.getImageData(0,0,c,J).data.buffer,A=i.length;i[A]={tE:"_a_"+A+","+Math.round(b*1e3/D),yA:new cS(0,0,c,J),data:Y}}else g.close();
clearTimeout(e);e=setTimeout(n,100);O++},error:function(g){console.log(g.message)}});w.configure({codec:"avc1.640034",codedWidth:c,codedHeight:J,description:H.slice(f.R,f.R+f.GI)});
for(var y=0;y<G;y++){var V=aY.a1r(X,0,y),t=new Uint8Array(Q,V[0],V[1]),m=new EncodedVideoChunk({timestamp:y,duration:1e3,type:y==0?"key":"delta",data:t});
w.decode(m)}}function n(){K(null,i,E.shift());x=!1;console.log(Date.now()-I);v()}function C(Q){P=Math.max(1,Math.min(60,Q));
if(window.VideoDecoder)v();else T()}function T(){if(x||E.length==0)return;x=!0;_=document.createElement("canvas");
a=_.getContext("2d");j=document.createElement("video");var Q="data:"+"video/mp4"+";base64,"+gr.bS(E.shift());
j.src=Q;j.muted=!0;j.currentTime=0;j.addEventListener("canplay",o,!1);j.addEventListener("timeupdate",s,!1)}function o(Q){j.removeEventListener("canplay",o);
c=_.width=j.videoWidth;J=_.height=j.videoHeight;i=[];j.play()}function s(Q){clearTimeout(e);a.drawImage(j,0,0);
i.push({tE:"_a_"+i.length+","+Math.round(1e3/P),yA:new cS(0,0,c,J),data:a.getImageData(0,0,c,J).data.buffer});
var X=j.currentTime+1/P;if(X<j.duration&&Q){j.currentTime=X;e=setTimeout(s,1e3)}else{K(null,i,E.shift());
j.removeEventListener("timeupdate",s);x=!1;T();i=null}}return{pC:!1,gP:!0,TJ:d}}();gr.wl={};gr.wl.TJ=function(K){var E=new Uint8Array(K),x=0,c=112,J=42,i=R.Pc,e;
x+=8;var P=E[x];x++;if(P!=J)throw"e";var _=i(E,x);x+=4;var a=R.BG(E,x,_);x+=_*2;var j=[];while(x<E.length){e=i(E,x);
x+=4;if(e!=c)throw e;x+=4;e=E[x];x++;if(e!=J)throw e;var d=i(E,x);x+=4;var I=E[x];x++;if(I!=J){x-=5;
d=i(E,x);x+=8;e=E[x];x++;if(e!=J)throw e}var v=i(E,x)*2;x+=4;if(d>0)j.push(x+v);x+=v+d}var n=new DOMParser,C=n.parseFromString(a,"image/svg+xml").firstChild.firstChild,T=[];
gr.wl.nd(C,E,j,T);return T};gr.wl.nd=function(K,E,x,c){var J=K.firstChild.firstChild;if(J.tagName=="Image"){var i=J.getElementsByTagName("ImageDescription")[0],P=i.children[0].children,_=i.children[1].children,a=x.shift(),j=[];
for(var y=0;y<_.length;y++)j.push(parseInt(_[y].getAttribute("NumberOfElements")));while(j.length>3)j[2]*=j.pop();
var e=P.length,d=j[0],I=j[1],v=j[2],n=parseInt(_[0].getAttribute("BytesInc"));for(var C=0;C<v;C++){var T=W.Q(d*I*4);
W._m(T,4278190080);for(var o=0;o<e;o++){var s=W.Q(d*I);if(n==1)for(var Q=0;Q<s.length;Q++)s[Q]=E[a+Q];
else if(n==2)for(var Q=0;Q<s.length;Q++)s[Q]=Math.min(255,(E[a+Q*2+1]<<8|E[a+Q*2])>>>2);else throw n;
if(o!=3)W.Mz(s,T,o);if(e==1){W.Mz(s,T,1);W.Mz(s,T,2)}a+=d*I*n}c.push({yA:new cS(0,0,d,I),data:T.buffer})}}else{var X=K.children,B=0;
while(B<X.length&&X[B].tagName!="Children")B++;if(B==X.length)throw"e";X=X[B].children;for(var M=0;M<X.length;
M++)gr.wl.nd(X[M],E,x,c)}};gr.aut=function(){function K(P,_,a,j,e){var d=new Int8Array(P.buffer),I=new Int8Array(j.buffer),v=_+a;
while(_<v){var hr=d[_];_++;if(hr>=0&&hr<128)for(var y=0;y<hr+1;y++){I[e]=d[_];e++;_++}if(hr>=-127&&hr<0){for(var y=0;
y<-hr+1;y++){I[e]=d[_];e++}_++}}return e}function E(P,_,a,j,e,d){var I=_*a*j>>>3,v=W.Q(I*e),n=c(P,0,0)[0];
for(var C=0;C<e;C++){var T=n[C+1];if(d){var o=gr.Zf("jpg").TJ(T.buffer),s=W.Q(I);W.KZ(new Uint8Array(o[0].data),s);
v.set(s,I*C)}else if(T[0]==255&&T[1]==216&&T[2]==255){var Q=UTIF.LosslessJpegDecode(T);v.set(new Uint8Array(Q.buffer),I*C)}else K(T,64,T.length,v,I*C)}return v}function x(P){var _=new Uint8Array(P),a=0,j=R.pr(_,0,128);
a+=128;var e=R.pr(_,a,4);a+=4;var d=J(_,a,0)[0],I=d.g28;if(I==null){alert("No image.");return[]}var v=I.cols,n=I.rows,C=v*n,T=I.photoInterpret,o=I.bitsAlloc,s=I.bitsStored,Q=I.lossyCompr;
if(Q==null)Q=d.g8.lossyCompr;var X=d.g7fe0.pixelData,B=I.numOfFrames;B=B?parseInt(B):1;var M=new Uint8Array(X.buffer),S=C*o>>>3;
if(M.length!=S*B){X=E(X,v,n,o,B,Q)}else{}if(o==16)X=new Uint16Array(X.buffer);console.log(I);console.log(d);
var f=[];for(var F=0;F<B;F++){var G=F*S,P=W.Q(v*n*4);P.fill(255);if(T=="MONOCHROME2"){var D=0,b=255,H=I.largestValue,q=I.smallestValue;
if(H!=null){b=H;D=q}else if(s!=8){b=0;D=1e9;for(var y=0;y<C;y++){var O=X[G+y];if(O>1<<s-8){if(O>b)b=O;
if(O<D)D=O}}}var w=255/(b-D);for(var y=0;y<C;y++){var O=Math.max(0,Math.min(255,(X[G+y]-D)*w)),V=y*4;
P[V]=P[V+1]=P[V+2]=O}}else if(T=="PALETTE COLOR"){var t=I.pltRed,m=I.pltGreen,g=I.pltBlue;for(var y=0;
y<C;y++){var Y=X[G+y],V=y*4;P[V]=t[Y]>>>8;P[V+1]=m[Y]>>>8;P[V+2]=g[Y]>>>8}}else throw T;f.push({yA:new cS(0,0,v,n),data:P.buffer})}return f}function c(P,_,a){var j=R.K9,e=R.Hd,d=R.Pc,I=[],v=_;
while(_<P.length){var n=j(P,_);_+=2;var C=j(P,_);_+=2;var T=d(P,_);_+=4;if(n==65534&&C==57344){if(T==4294967295){var o=J(P,_,a+1);
I.push(o[0]);_=o[1]}else{I.push(P.slice(_,_+T));_+=T}}else if(n==65534&&C==57357){}else if(n==65534&&C==57565)break;
else throw"e"}return[I,_]}function J(P,_,a){var j=R.K9,e=R.Hd,d=R.Pc,I={},v="\t".repeat(a);while(_<P.length){var n=j(P,_),s="",Q=0,B=null;
_+=2;var C=j(P,_);_+=2;var T=n.toString(16),o=C.toString(16);if(n==65532)break;if(n==65534&&C==57357){_-=4;
break}if(n==65534&&C==57565)throw"e";if(C==0){_+=8;continue}if(65<=P[_+1]){s=R.pr(P,_,2);_+=2;if(s=="OB"||s=="SQ"||s=="OW"){Q=d(P,_+2);
_+=6}else{Q=j(P,_);_+=2}}else{s=i[T][o].split(",")[1];Q=d(P,_);_+=4}var X=i[T][o];if(X)X=X.split(",")[0];
if(X==null){X="t"+o}if(s=="SQ"){var M=c(P,_,a);B=M[0];_=M[1];Q=0}else if(s=="US")B=j(P,_);else if(s=="SS")B=e(P,_);
else if(s=="UL")B=d(P,_);else if(s=="FL")B=R.CA(P,_);else if(s=="AT")B=[j(P,_),j(P,_+2)];else if(s=="OB")B=P.slice(_,_+Q);
else if(s=="OW")B=new Uint16Array(P.slice(_,_+Q).buffer);else if("UI CS DA TM DT SH LO ST LT PN AE AS DS IS".split(" ").indexOf(s)!=-1){var S=_+Q;
while(P[S-1]==0)S--;B=R.pr(P,_,S-_).trim()}else{console.log(v,JSON.stringify(R.pr(P,_,Math.min(Q,32))));
throw s}if(I["g"+T]==null)I["g"+T]={};I["g"+T][X]=B;_+=Q}return[I,_]}var i={"2":{"1":"fmiVersion","2":"classUID","3":"instanceUID","10":"syntaxUID","12":"icUID","13":"implVerName","16":"appTitle"},"4":{"1130":"fileSetID"},"8":{"5":"charSet","8":"imageType,CS","16":"classUID,UI","18":"instanceUID,UI","20":"studyDate","21":"seriesDate","22":"acqDate","23":"contentDate","2a":"acqDateTime","30":"studyTime","32":"acqTime","33":"contentTime","50":"accNumber","60":"modality,CS","64":"convType,CS","70":"manufacturer","80":"institutionName","81":"institutionAddress","90":"rpName","1010":"stationName","1030":"studyDescription","103e":"seriesDesc","1050":"ppName","1090":"modelName","1150":"rclassUID","1155":"rinstanceUID","2110":"lossyCompr","2112":"imageSequence"},"9":{},"10":{"10":"patientName,PN","20":"patientID,LO","30":"patientBirthDate","40":"patientSex","1010":"patientAge"},"18":{"60":"KVP","1020":"swVersion","1063":"frameTime","1150":"expTime","1151":"xrayTubeCurrent","1152":"exposure","1155":"radiation","1500":"posMotion","1510":"posAngle0","1511":"posAngle1"},"19":{},"20":{d:"studyUID,UI",e:"seriesUID,UI","10":"studyID","11":"seriesNumber","12":"acqNumber,IS","13":"instanceNumber,IS","20":"patientOrientation"},"21":{},"28":{"2":"spp,US","4":"photoInterpret,CS","8":"numOfFrames","9":"frameIncPointer","10":"rows,US","11":"cols,US","30":"pixelSpacing","100":"bitsAlloc,US","101":"bitsStored,US","102":"highBit,US","103":"pixRepresentation,US","106":"smallestValue","107":"largestValue","120":"pixPaddingValue","1040":"pixIntensityRelation","1050":"windCenter","1051":"windWidth","1090":"viewMode","1101":"pdRed","1102":"pdGreen","1103":"pdBlue","1199":"paletteUID","1201":"pltRed","1202":"pltGreen","1203":"pltBlue","2110":"lossyCompr","6010":"repFrameNum","6020":"foi","6022":"foiDescription","6040":"rWavePointer","6100":"maskSubtraction","6101":"maskOp","6110":"maskFrameNum"},"29":{},"37":{},"50":{"4":"calibImage"},"5000":{"5":"curveDim","10":"numOfPoints","20":"typeOfData","30":"axisUnits","103":"dataValRepr","104":"minCrdValue","105":"maxCrdValue","106":"curveRange","110":"curveDataDesc","112":"crdStartValue","114":"crdStepValue","3000":"curveData"},"7fe0":{"10":"pixelData,OB"}};
return{TJ:x}}();gr.Ar={};gr.Ar.TJ=function(K){var E=new Uint8Array(K),x=0,c={},e=1e9;for(var y=0;y<306;
y++){var J=R.pr(E,x,8).trim(),i=R.pr(E,x+9,71).split("/")[0].trim();c[J]=i;x+=80;if(J=="END"){x=Math.ceil(x/2880)*2880;
break}}var P=parseInt(c.NAXIS1),_=parseInt(c.NAXIS2),a=P*_,j=parseInt(c.BITPIX),d=-1e9,I=new Float32Array(a),v=new Float32Array(K,x,K.byteLength-x>>>2);
for(var y=0;y<a;y++){var n=y<<2,C=y<<1;if(j==-32){var T=E[x+n+0];E[x+n+0]=E[x+n+3];E[x+n+3]=T;var T=E[x+n+1];
E[x+n+1]=E[x+n+2];E[x+n+2]=T;I[y]=v[y]}else if(j==16){I[y]=R.K9(E,x+C)}else throw j;var o=I[y];if(o<e)e=o;
if(o>d)d=o}var s=W.Q(a*4),Q=1/d;for(var X=0;X<_;X++)for(var B=0;B<P;B++){var y=X*P+B,M=(_-X-1)*P+B,n=M<<2,o=I[y]*Q;
s[n]=s[n+1]=s[n+2]=255*o;s[n+3]=255}return[{yA:new cS(0,0,P,_),data:s,tE:c.OBJECT}]};gr.Al={};gr.Al.TJ=function(K){var E=new Uint8Array(K),x=16,c=R.pr(E,x,4),i=32,o=0,s=0,Q=!1,t;
x+=4;var J=R.pr(E,x,8);x+=8;while(E[x+i-1]==0)i--;var P=R.pr(E,x,i);x+=32;var _=R.pr(E,x,4);x+=4;x+=20;
var a=R.s(E,x);x+=4;var j=R.s(E,x);x+=4;var e=R.s(E,x);x+=4;var d=R.s(E,x);x+=4;var I=R.s(E,x);x+=4;
var v=R.s(E,x);x+=4;var n="FujiFilm "+P,C=[0,1,1,2];if(n=="FujiFilm X10"){n="FujiFilm FinePix X10";C=[2,1,1,0]}var T={t271:["FujiFilm"],t272:[n],t277:[1],t33421:[2,2],t33422:C,JX:1};
x=e;var X=[],B=R.Xl,M=R.s(E,x);x+=4;for(var y=0;y<M;y++){var S=B(E,x);x+=2;var f=B(E,x);x+=2;if(S==256){s=B(E,x);
o=B(E,x+2)}else if(S==272){X=[B(E,x),B(E,x+2)]}else if(S==273){X.push(B(E,x),B(E,x+2))}else if(S==304){Q=!(E[x]>>>7)}else if(S==305){var F=Math.round(Math.sqrt(f)),G=[];
for(var D=0;D<f;D++)G.push(E[x+D]);G.reverse();T.t33421=[F,F];T.t33422=G}else if(S==12272){var b=B(E,x),H=B(E,x+2),q=B(E,x+6);
T.t50728=[b/H,1,b/q]}x+=f}var O=o<s,w=E.slice(I,I+v),V=Math.round(v*8/(o*s));if(w[0]==73&&w[1]==73&&w[2]==42){t=UTIF.decode(w.buffer)[0].fujiIFD;
V=t.t61443[0];var m=t.t61454,g=t.t61450;if(g)T.t50714=g;if(m)T.t50728=[m[0]/m[1],1,m[0]/m[2]];var Y=t.t61447[0];
w=w.slice(Y,Y+t.t61448[0])}var v=w.length,A=v*8<o*s*V;if(A){console.log("compressed");var k=T.t33422,z=~~Math.sqrt(k.length),p=[];
for(var y=0;y<z;y++)p[y]=k.slice(y*z,y*z+z);w=new Uint8Array(UTIF._decompressRAF(w,p).buffer);v=w.length}function L(l,g5,fm){fm=fm<<8-(g5&7);
var dC=g5>>>3;l[dC]|=fm>>>16;l[dC+1]|=fm>>>8;l[dC+2]|=fm}var N=v*8/(o*s);if(N==16)for(var y=0;y<v;y+=2){var gC=w[y];
w[y]=w[y+1];w[y+1]=gC}else if(N==14){for(var y=0;y<v;y+=4){var gC=w[y];w[y]=w[y+3];w[y+3]=gC;gC=w[y+1];
w[y+1]=w[y+2];w[y+2]=gC}}else if(N==12)for(var y=0;y<v;y+=3){var r=w[y+2]<<16|w[y+1]<<8|w[y+0];r=r>>>12|(r&4095)<<12;
w[y]=r>>>16&255;w[y+1]=r>>>8&255;w[y+2]=r&255}if(O)w=gr.Al.aok(w,o,s);var h=O?2:1;o*=h;T.t256=[o];T.t257=[s];
T.t258=[V];T.t50719=[X[1],X[0]*h];T.t50720=[X[3],X[2]*h];T.width=o;T.height=s;T.data=new Uint8Array(w.buffer);
return[T]};gr.Al.aok=function(K,E,x){K=new Uint16Array(K.buffer);var c=new Uint16Array(E*x*2);for(var J=0;
J<x;J+=2)for(var i=0;i<E;i++){var P=J*E+i,_=P*2,a=K[P],j=K[P+E];c[_+1]=c[_+2*E]=j;if(((J>>>1)+i&1)==0){c[_]=a;
c[_+2*E+1]=K[P+1]}else{c[_]=K[P-1];c[_+2*E+1]=a}}return c};gr.ka={};gr.ka.BQ=!0;gr.ka.bu=function(K,E,x,c){var J=new Uint8Array(K[0][0]),i=E*x,P=[1,3,4][c[0]],_=8+8*c[1],a=c[2];
if(P==1){var j=new Uint8Array(E*x);W.Bp(J,j,0);J=j}if(P==3){var j=new Uint8Array(E*x*3);for(var y=0;
y<i;y++){var e=y*4,d=y*3;j[d]=J[e];j[d+1]=J[e+1];j[d+2]=J[e+2]}J=j}if(_==16){var I=J.length,j=new Uint8Array(I*2);
for(var y=0;y<I;y++){var v=Math.round(J[y]*(65535/255));j[y*2+a]=v>>>8;j[y*2+1-a]=v&255}J=j}return J.buffer};
gr.zm={};gr.zm.TJ=function(K,E){function x(a){return~~(.5+W.hW(Math.max(0,Math.min(1,a)))*255)}var c=EXRLoader.parse(K),J=c.width,i=c.height,P=W.Q(J*i*4);
for(var _=0;_<i;_++)for(var a=0;a<J;a++){var y=(_*J+a)*4,j=((i-_-1)*J+a)*4;P[y]=x(c.data[j+0]);P[y+1]=x(c.data[j+1]);
P[y+2]=x(c.data[j+2]);P[y+3]=x(c.data[j+3])}return[{yA:new cS(0,0,J,i),data:P.buffer}]};gr.XY={};gr.XY.BQ=!0;
gr.XY.pC=!0;gr.XY.bu=function(K,E,x,c,J){c=["",100,!1,!1,!1,0];c[6]=["jpg"];var i=new ToDXF;ao.by(K,c,i,J.ir);
return i.buffer};gr.XY.TJ=function(K,E){var x=72,c=new iQ(1,0,0,1,0,0);c.scale(x/72,x/72);E.B8=x;var J=new a0(E,c,!1);
FromDXF.Parse(K,J)};gr.Ng={};gr.Ng.TJ=function(){var K=R.K9,E=R.Pc,x=R.pr,c;function J(P,_,a,j,e){var d=E(P,a),I=E(P,a+4),v=E(P,a+8),n=K(P,a+12),C=K(P,a+14);
a+=16;var T={};for(var y=0;y<n+C;y++){var o=E(P,a),s=E(P,a+4),Q,X;if(o>>>31==1){o=o&16777215}if(y<n)Q=R.BG(P,_+o+2,K(P,_+o));
else Q="id"+o;var B=j.slice(0);B.push(Q);if(s>>>31==1){s=s&268435455;X=J(P,_,_+s,B,e)}else{var M=E(P,_+s),S=E(P,_+s+4),f=E(P,_+s+8),F=E(P,_+s+12);
if(F!=0)throw"e";if(M<e[0]||M>e[0]+e[1])throw"e";var G=e[2]+M-e[0];X=P.slice(G,G+S);var D=gr.lX(X.buffer);
if(D&&["bmp","png","ico"].indexOf(D)!=-1){var b=gr.Zf(D);if(!b.pC){var H=null;try{H=b.TJ(X.buffer)}catch(hg){}if(H){H[0].tE=B[1];
c.push(H[0])}}}else if(D)console.log(D)}T[Q]=X;a+=8}return T}function i(P){c=[];var _=new Uint8Array(P),a=0,j=K(_,a);
a+=2;a+=58;var e=E(_,a);a+=4;a=e;var d=x(_,a,4);a+=4;var I=K(_,a);a+=2;var v=K(_,a);a+=2;var n=E(_,a);
a+=4;var C=E(_,a);a+=4;var T=E(_,a);a+=4;var o=K(_,a);a+=2;var s=K(_,a);a+=2;a+=o;var Q={};for(var y=0;
y<v;y++){var X=a;while(_[X]!=0)X++;var B=x(_,a,X-a),M=E(_,a+8),S=E(_,a+12),f=E(_,a+16),F=E(_,a+20),G=E(_,a+24),D=E(_,a+28),b=K(_,a+32),H=K(_,a+34),s=E(_,a+36);
Q[B]=[S,M,F,f,s];if(G+D!=0)throw"e";a+=40}for(var q in Q){var O=Q[q];a=O[2];if(q==".rsrc"){var w=J(_,a,a,[],O),V="id134"}}return c}return i}();
gr.KJ={};gr.KJ.pC=!0;gr.KJ.TJ=function(K,E,x){fe.Sg(K,E,x)};(function(){var K=gr.nu.get("wasm/zstd").buffer;
WebAssembly.instantiate(K).then(function(E){var x=E.instance.exports;gr.KJ.apI=x})}());gr.KJ.Om=function(K,E){var x=gr.KJ.apI,c=K.length,J=x.memory,i=2*c+1e6,a=8;
gr.jx(x,i);var P=new Uint8Array(J.buffer),_=x.malloc(c);P.set(K,_);while(!0){var j=E==null?c*a:E;gr.jx(x,i+j);
var e=x.malloc(j),d=x.ZSTD_decompress(e,j,_,c);if(d==-70){x.free(e);a+=a>>>1;if(E!=null)throw"error"}else{P=new Uint8Array(J.buffer);
K=P.slice(e,e+d);x.free(e);break}}x.free(_);return K};gr.Ny={};gr.Ny.pC=!0;gr.Ny.TJ=function(){var K=0,E=1,x=2,c=3,J=4,i=5,P=6,_=7,a=1,j=2,e=7,d=8,I=9,v,n,C,T,o;
function s(){var hr=R.d4(v,n);n+=4;return hr}function Q(){var t=0,m=0;for(var y=0;y<5;y++){var g=v[n++];
t+=(g&127)<<m;m+=7;if((g&128)==0)break}return t}function X(){var t=Q(),m=R.__(v,n,t);n+=t;return m}function B(){return{typeName:X(),aeY:s()}}function M(){var t=s(),m=X(),g=[],Y=s();
for(var y=0;y<Y;y++)g.push([X()]);return{id:t,mg:m,aum:g}}function S(t){var m=t.aum,g=[];for(var y=0;
y<m.length;y++)m[y].push(v[n++]);for(var y=0;y<m.length;y++){var Y=m[y][1],A;m[y].push(f(Y))}}function f(t){var m;
if(t==K)m=v[n++];else if(t==c)m=X();else if(t==J)m=B();else if(t==E||t==x||t==P||t==i){}else throw t;
return m}function F(t,m,g){var Y;if(t==K){if(m==a)Y=v[n++]==1;else if(m==j){Y=v[n++]}else if(m==d)Y=s();
else if(m==I){Y=s();s()}else throw m}else if(t==c){Y=H(g+1)}else if(t==J){Y=H(g+1)}else if(t==i){Y=H(g+1)}else if(t==E){Y=H(g+1)}else if(t==P){Y=H(g+1)}else throw t;
return Y}function G(t,m){var g=C["c"+t],Y=g.aum,A={_class:g.mg};for(var y=0;y<Y.length;y++){var k=Y[y],z=k[1],p=k[2],L=F(z,p,m),N=k[0];
A[N]=L}return A}function D(t,m,g,Y){var A=[];for(var y=0;y<t;y++){var k=F(m,g,Y);if(k.kt&&k.kt=="null_count"){var z=k.W8;
for(var p=0;p<z;p++)A.push(null);y+=z-1}else A.push(k)}return A}function b(){return[s(),s()]}function H(t){if(t==null)throw"e";
var m=null,g=v[n],Y=null;n++;if(g==0){var A=s(),k=s(),z=s(),p=s();m=[A,k,z,p]}else if(g==1){Y=s();var L=s();
m=G(L,t)}else if(g==4){var N=M();Y=N.id;S(N);C["c"+N.id]=N;m=G(N.id,t)}else if(g==5){var N=M();Y=N.id;
S(N);var gC=s();C["c"+N.id]=N;m=G(N.id,t)}else if(g==6){Y=s();var r=X();m=r}else if(g==7){Y=s();var h=v[n++];
if(h!=0)throw h;var l=s();if(l!=1)throw l;var g5=s(),fm=v[n++],dC=f(fm);m=D(g5,fm,dC,t)}else if(g==9){var ex=s();
m={kt:"ref",W8:ex};o["o"+ex]=!0}else if(g==10){m={kt:"null_count",W8:1}}else if(g==11){m={kt:"end"}}else if(g==12){var gC=s(),cR=X()}else if(g==13){var d0=v[n++];
m={kt:"null_count",W8:d0}}else if(g==16){var hN=b();Y=hN[0];m=D(hN[1],J,null,t)}else if(g==17){var hN=b();
Y=hN[0];m=D(hN[1],E,null,t)}else throw"e";if(Y!=null&&Y>0){if(T["o"+Y]!=null)throw"e";T["o"+Y]=m}return m}function q(t,T){if(t instanceof Array){for(var y=0;
y<t.length;y++)t[y]=O(t[y],T)}else if(t instanceof Object){for(var m in t)t[m]=O(t[m],T)}}function O(t,T){if(t&&t.kt&&t.kt=="ref")return T["o"+t.W8];
else return t}function w(t,m,g){v=new Uint8Array(t);n=0;C={};T={};o={};var Y=R.pr(v,0,4);if(Y!="PDN3")throw Y;
n+=4;var A=R.K9(v,n)+v[n+2]*256*256;n+=3;var k=R.pr(v,n,A);n+=A;n+=2;while(!0){var z=H(0);if(z&&z.kt&&z.kt=="end")break}for(var p in o)if(T[p]==null)throw p;
for(var p in T)q(T[p],T);var L=T.o1;console.log(L);m.b=L.width;m.n=L.height;m.buffer=W.Q(m.b*m.n*4);
var N=L.layers["ArrayList+_items"];for(var y=0;y<N.length;y++){var gC=N[y];if(gC==null)continue;console.log(gC);
var r=gC["Layer+width"],h=gC["Layer+height"],l=gC["Layer+properties"],g5=gC.properties,fm=g5.blendOp._class.split("+").pop();
fm=fm.slice(0,fm.length-7);var dC={Normal:"norm",Multiply:"mul ",Additive:"lddg",ColorBurn:"idiv",ColorDodge:"div ",Reflect:"lddg",Glow:"hMix",Overlay:"over",Difference:"diff",Negation:"smud",Lighten:"lite",Darken:"dark",Screen:"scrn",Xor:"smud"}[fm],ex=m.EY();
ex.yH(l.name);ex.opacity=l.opacity;ex.g7(l.visible);ex.Vk=dC;var cR=1<<16,d0=Math.ceil(r*h/cR);ex.rect=new cS(0,0,r,h);
ex.buffer=W.Q(r*h*4);var hN=ex.buffer;n+=5;for(var ey=0;ey<d0;ey++){var cr=V();hN.set(cr[1],cr[0]*cR*4)}for(var ik=0;
ik<hN.length;ik+=4){var hd=hN[ik+0];hN[ik+0]=hN[ik+2];hN[ik+2]=hd}m.B.push(ex)}}function V(){var t=R.s(v,n);
n+=4;var m=R.s(v,n);n+=4;var g=pako.inflateRaw(v.slice(n+10));n+=m;return[t,g]}return w}();gr.QM={};
gr.QM.pC=!0;gr.QM.TJ=function(K,E){fK.Sg(K,E)};var f4={};f4.Eg=!1;f4.yT=!1;f4.Wb=!1;f4.T=document.createElement("canvas");
f4.gI=null;f4.qg=null;f4.Qz=0;(function(){var K={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},E;
if(!E)E=f4.T.getContext("webgl",K);if(!E)E=f4.T.getContext("experimental-webgl",K);if(E){f4.Eg=!0;f4.yT=!0;
f4.gI=E;f4.qg=E.createFramebuffer();E.bindFramebuffer(E.FRAMEBUFFER,f4.qg);E.disable(E.BLEND);E.disable(E.DEPTH_TEST);
var x=E.createBuffer();E.bindBuffer(E.ARRAY_BUFFER,x);E.bufferData(E.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),E.STATIC_DRAW);
E.enableVertexAttribArray(0);E.vertexAttribPointer(0,2,E.FLOAT,!1,0,0)}}());f4.aeN=function(K){K=K.replace(/\s\s+/g," ");
K=K.replace(/; /g,";");K=K.replace(/} /g,"}");K=K.replace(/ }/g,"}");K=K.replace(/{ /g,"{");K=K.replace(/ {/g,"{");
K=K.replace(/= /g,"=");K=K.replace(/ =/g,"=");K=K.replace(/\| /g,"|");K=K.replace(/ \|/g,"|");return K};
f4.LN=function(K){var E=f4.gI;if(K>E.getParameter(E.MAX_TEXTURE_SIZE)){f4.Eg=!1;alert("Disabling WebGL")}};
f4.FT=function(K,E){return new Float32Array([(K.x-E.x)/E.b,(K.y-E.y)/E.n,K.b/E.b,K.n/E.n])};f4.G3=function(){return this.T};
f4.rA=function(K,E){var x=f4.gI;x.bindFramebuffer(x.FRAMEBUFFER,f4.qg);x.framebufferTexture2D(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.TEXTURE_2D,K.Iz,0);
x.viewport(0,0,K.b,K.n);if(E){x.enable(x.SCISSOR_TEST);x.scissor(E.x,E.y,E.b,E.n)}else x.disable(x.SCISSOR_TEST)};
f4.Km=function(K,E,x){if(x)throw"error";var c=f4.gI;c.disable(c.SCISSOR_TEST);c.bindFramebuffer(c.FRAMEBUFFER,null);
c.viewport(0,0,K,E);if(x){c.enable(c.SCISSOR_TEST);c.scissor(x.x,x.y,Math.round(x.b),Math.round(x.n))}else c.disable(c.SCISSOR_TEST)};
f4.clear=function(){var K=f4.gI;K.clearColor(0,0,0,0);K.clear(K.COLOR_BUFFER_BIT)};f4.QU=function(K,E){if(E==null)E=0;
var x=(E>>>0&255)==0,c=(E>>>8&255)==0,J=(E>>>16&255)==0,i=(E>>>24&255)==0,P=(K>>>0&255)*(1/255),_=(K>>>8&255)*(1/255),a=(K>>>16&255)*(1/255),j=(K>>>24&255)*(1/255),e=f4.gI;
e.colorMask(x,c,J,i);e.clearColor(P,_,a,j);e.clear(e.COLOR_BUFFER_BIT);e.colorMask(!0,!0,!0,!0)};f4.LC=function(K,E,x,c,J){var i=E.Sl(c);
if(J)i=i.Sl(J);if(i.um())return;var P=f4.gI;f4.rA(K);P.bindTexture(P.TEXTURE_2D,x.Iz);P.copyTexSubImage2D(P.TEXTURE_2D,0,i.x-c.x,i.y-c.y,i.x-E.x,i.y-E.y,i.b,i.n)};
f4.nT=function(y,K,E){var x=f4.z$[y];if(x==null||x.b!=K||x.n!=E){if(x)x.delete();x=new f4.oA(K,E)}f4.z$[y]=x;
return x};f4.z$=[];f4.rh=function(){this.g1=null;this.Vd=null};f4.rh.iY=null;f4.rh.prototype.cm=function(K){if(this.Vd)return;
this.Vd={};var E=f4.gI,x=this.g1,c=this.Vd;for(var y=0;y<K.length;y++){var J=K[y];c[J]=E.getUniformLocation(x,J)}};
f4.rh.prototype.tT=function(){};f4.rh.prototype.q9=function(K){var E=f4.gI;for(var y=0;y<K.length;y+=2){E.uniform1i(K[y],y>>>1);
E.activeTexture(E["TEXTURE"+(y>>>1)]);E.bindTexture(E.TEXTURE_2D,K[y+1])}E.activeTexture(E.TEXTURE0)};
f4.rh.prototype.w9=function(K,E){var x=f4.gI,c=x.createShader(x.FRAGMENT_SHADER);x.shaderSource(c,K);
x.compileShader(c);if(!x.getShaderParameter(c,x.COMPILE_STATUS))console.log(x.getShaderInfoLog(c));var J=x.createShader(x.VERTEX_SHADER);
x.shaderSource(J,E);x.compileShader(J);if(!x.getShaderParameter(J,x.COMPILE_STATUS))console.log(x.getShaderInfoLog(J));
var i=x.createProgram();x.attachShader(i,J);x.attachShader(i,c);x.linkProgram(i);if(!x.getProgramParameter(i,x.LINK_STATUS))console.log("Could not initialise shaders");
this.g1=i};f4.rh.prototype.X_=function(){if(f4.rh.iY!=this){f4.gI.useProgram(this.g1);f4.rh.iY=this}};
f4.rG=function(K,E){f4.Jz++;f4.Qz+=K*E;if(f4.Wb)console.log("GL.Channels instances: "+f4.Jz+", memory: "+f4.Qz);
var x=f4.gI;this.b=K;this.n=E;this.Iz=x.createTexture();this.DV=null;this.aU(this.Iz,K,E)};f4.rG.prototype.aU=function(K,E,x){var c=f4.gI;
c.bindTexture(c.TEXTURE_2D,K);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.NEAREST);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST);
c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE);
c.texImage2D(c.TEXTURE_2D,0,c.ALPHA,E,x,0,c.ALPHA,c.UNSIGNED_BYTE,null)};f4.rG.prototype.set=function(K,E){var x=f4.gI;
x.bindTexture(x.TEXTURE_2D,this.Iz);x.pixelStorei(x.UNPACK_ALIGNMENT,1);var c=this.b*this.n;if(E==null||E.O()*10>c)x.texImage2D(x.TEXTURE_2D,0,x.ALPHA,this.b,this.n,0,x.ALPHA,x.UNSIGNED_BYTE,K);
else{var J=new cS(0,0,this.b,this.n),i=W.Q(E.O());W.XT(K,J,i,E);x.texSubImage2D(x.TEXTURE_2D,0,E.x,E.y,E.b,E.n,x.ALPHA,x.UNSIGNED_BYTE,i)}x.pixelStorei(x.UNPACK_ALIGNMENT,4)};
f4.rG.prototype.delete=function(){var K=f4.gI;if(this.Iz){K.deleteTexture(this.Iz);f4.Jz--;f4.Qz-=this.b*this.n}if(f4.Wb)if(f4.Wb)console.log("GL.Channels instances: "+f4.Jz+", memory: "+f4.Qz*4)};
f4.Jz=0;f4.oA=function(K,E,x){if(x==null)x=!1;f4.Jz++;f4.Qz+=K*E*4;if(f4.Wb)console.log("GL.Channels instances: "+f4.Jz+", memory: "+f4.Qz);
var c=f4.gI;this.a0X=x;this.b=K;this.n=E;this.Iz=c.createTexture();this.DV=null;this.aU(this.Iz,K,E)};
f4.oA.prototype.set=function(K,E){var x=f4.gI;x.disable(x.SCISSOR_TEST);x.bindTexture(x.TEXTURE_2D,this.Iz);
if(K==null||K instanceof Uint8Array){var c=this.b*this.n;if(E==null||E.O()*10>c)x.texImage2D(x.TEXTURE_2D,0,x.RGBA,this.b,this.n,0,x.RGBA,x.UNSIGNED_BYTE,K);
else{var J=W.Q(E.O()*4);W.UL(K,new cS(0,0,this.b,this.n),J,E);x.texSubImage2D(x.TEXTURE_2D,0,E.x,E.y,E.b,E.n,x.RGBA,x.UNSIGNED_BYTE,J)}}else x.texImage2D(x.TEXTURE_2D,0,x.RGBA,x.RGBA,x.UNSIGNED_BYTE,K)};
f4.oA.prototype.get=function(K){var E=f4.gI;f4.rA(this);E.readPixels(0,0,this.b,this.n,E.RGBA,E.UNSIGNED_BYTE,K)};
f4.oA.prototype.N0=function(K){if(K.um())return;var E=f4.gI;if(this.DV==null){this.DV=E.createTexture();
this.aU(this.DV,this.b,this.n);f4.Jz++;f4.Qz+=this.b*this.n*4}E.bindFramebuffer(E.FRAMEBUFFER,f4.qg);
E.bindTexture(E.TEXTURE_2D,this.DV);if(K){var x=Math.max(K.x,0),c=Math.max(K.y,0);E.copyTexSubImage2D(E.TEXTURE_2D,0,x,c,x,c,K.b,K.n)}else E.copyTexImage2D(E.TEXTURE_2D,0,E.RGBA,0,0,this.b,this.n,0)};
f4.oA.prototype.aU=function(K,E,x){var c=f4.gI;c.bindTexture(c.TEXTURE_2D,K);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,this.a0X?c.LINEAR:c.NEAREST);
c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE);
c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE);c.texImage2D(c.TEXTURE_2D,0,c.RGBA,E,x,0,c.RGBA,c.UNSIGNED_BYTE,null)};
f4.oA.prototype.delete=function(){var K=f4.gI;if(this.Iz){K.deleteTexture(this.Iz);f4.Jz--;f4.Qz-=this.b*this.n*4}if(this.DV){K.deleteTexture(this.DV);
f4.Jz--;f4.Qz-=this.b*this.n*4}if(f4.Wb)if(f4.Wb)console.log("GL.Channels instances: "+f4.Jz+", memory: "+f4.Qz)};
f4.oA.prototype.clone=function(){var K=f4.gI,E=new f4.oA(this.b,this.n);f4.rA(this);K.bindTexture(K.TEXTURE_2D,E.Iz);
K.copyTexImage2D(K.TEXTURE_2D,0,K.RGBA,0,0,this.b,this.n,0);return E};f4.Kx={ajX:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",a7b:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",Mx:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",Nr:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",pR:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",ft:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",Rs:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",hY:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",axJ:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",G4:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",au_:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",$Z:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",Bc:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",g2:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",cc:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",b$:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",Rv:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",lx:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",bK:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",aqV:"  mat3 rgbToYuv = mat3(0.299, -0.147, 0.615,    0.587,  -0.289,  -0.515,   0.114, 0.436, -0.100 );  ",ak8:"  mat3 yuvToRgb = mat3(1.0, 1.0, 1.0,   0.0, -0.3946, 2.03199,    1.1398, -0.5805, -0.00048  ); ",p_:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn clamp(mi,0.0,1.0);\t\t}",ht:"\t\t\tvec4 mapLut(vec4 src, sampler2D lut, float N) {\t\t\t\tfloat iN = 1.0/N; \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R)*iN;  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, ir   +( fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, ir+iN+( fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,R-floor(R));  \t\t\t\treturn rs;  \t\t\t}"};
f4.h={};f4.h.hL={};f4.h.Vs=null;f4.h._j=null;f4.h.qa=null;f4.h.or=function(K,E,x,c,J,i,P,_){if(_==null)_=bd.HQ();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(K)==-1){P=P*_.fill;_.fill=1;_.style=!1}var a=K+(_.mA?"1":"");
if(f4.h.hL[a]==null)f4.h.hL[a]=new f4.h.b4(K,_.mA!=null);var j=f4.h.hL[a],e=x.Sl(J).Sl(i);e.offset(-J.x,-J.y);
if(e.um())return;var d=f4.gI;f4.rA(c,e);c.N0(e);j.X_();j.tT(E.Iz,c.DV,f4.FT(x,J),P,_.fill,_.style?1:0,_.su?1:0,_.mA?new Float32Array(_.mA):null);
d.drawArrays(d.TRIANGLES,0,6)};f4.h.Rb=function(K,E,x,c,J,i,P,_,a,j,e){if(f4.h.Vs==null)f4.h.Vs=new f4.h.rJ(!0,!0);
if(f4.h._j==null)f4.h._j=new f4.h.rJ(!0,!1);if(f4.h.qa==null)f4.h.qa=new f4.h.rJ(!1,!0);var d=j?1:0,I=K?J?f4.h.Vs:f4.h._j:f4.h.qa,v=new Float32Array(e?[e[0],e[1],e[2],1]:[1,1,1,1]),n=E?E.Sl(c).Sl(_):c.Sl(_);
if(n.um())return;n.offset(-c.x,-c.y);var C=f4.gI;f4.rA(x,n);x.N0(n);I.X_();if(K==null)I.tT(null,x.DV,J.Iz,f4.FT(c,c),f4.FT(i,c),P/255,a,d,v);
else if(J)I.tT(K.Iz,x.DV,J.Iz,f4.FT(E,c),f4.FT(i,c),P/255,a,d,v);else I.tT(K.Iz,x.DV,null,f4.FT(E,c),null,P/255,a,d,v);
C.drawArrays(C.TRIANGLES,0,6)};f4.h.aqQ=function(K,E,x){if(f4.h.avH==null)f4.h.avH=new f4.h.m7;var c=f4.h.avH,J=new cS(0,0,K.b,K.n),i=f4.gI;
f4.rA(E);E.N0(J);c.X_();c.tT(J,K.Iz,E.DV,x.Iz);i.drawArrays(i.TRIANGLES,0,6)};f4.h.ni={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
f4.h.b4=function(K,E){f4.rh.call(this);var x="\t\t\tprecision highp float;\t\t\t"+f4.Kx.Mx+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(E?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+f4.Kx.ft+"\t\t\t"+f4.Kx.Rs+"\t\t\t"+f4.Kx.hY+"\t\t\t"+f4.Kx.ajX+"\t\t\t"+f4.Kx.a7b+"\t\t\t"+f4.Kx.axJ+"\t\t\t"+f4.Kx.G4+"\t\t\t"+f4.Kx.au_+"\t\t\t"+f4.Kx.$Z+"\t\t\t"+f4.Kx.hash+"\t\t\t"+(E?f4.Kx.p_:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+f4.h.ni[K]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",c="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(K=="diss")x+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else x+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(E?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.w9(x,c)};f4.h.b4.prototype=new f4.rh;f4.h.b4.prototype.tT=function(K,E,x,c,J,i,P,_){this.cm("srct alpha source target fill style keepBGA blIf".split(" "));
var a=f4.gI,j=this.Vd;a.uniform4fv(j.srct,x);a.uniform1f(j.alpha,c);a.uniform1f(j.fill,J);a.uniform1f(j.style,i);
a.uniform1f(j.keepBGA,P);if(_)a.uniform4fv(j.blIf,_);this.q9([j.source,K,j.target,E])};f4.h.rJ=function(K,E){f4.rh.call(this);
this.ap2=K;this.ID=E;var x="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+f4.Kx.Bc+"\t\t\t"+f4.Kx.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(K?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(E?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(K?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  "+(E?"nc":"cswitch*nc + (1.0- cswitch)*tgt")+";    \t\t\t}",c="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.w9(x,c)};f4.h.rJ.prototype=new f4.rh;f4.h.rJ.prototype.tT=function(K,E,x,c,J,i,P,_,a){if(this.ID)this.cm("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
else this.cm("srct awg dissv source target cswitch".split(" "));var j=f4.gI,e=this.Vd;j.uniform4fv(e.srct,c);
if(this.ID){j.uniform4fv(e.wrct,J);j.uniform1f(e.wcolor,i)}else{j.uniform4fv(e.cswitch,a)}j.uniform1f(e.awg,P);
j.uniform1f(e.dissv,_);var d=[e.source,K,e.target,E];if(this.ID)d.push(e.weight,x);this.q9(d)};f4.h.m7=function(){f4.rh.call(this);
var K="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",E="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.w9(K,E)};f4.h.m7.prototype=new f4.rh;f4.h.m7.prototype.tT=function(K,E,x,c){this.cm(["rct","prev","next","alpha"]);
var J=f4.gI,i=this.Vd;J.uniform4fv(i.rct,[0,0,1,1]);this.q9([i.prev,E,i.next,x,i.alpha,c])};f4.Lj={VS:{},Mi:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
f4.Lj.wN=function(K,E){var x=c2.sW,c=[x.tP,x.rW,x.bi,x.Br,x.Aa,x.my,x.Z3,x.wp].indexOf(K.type),J=f4.Lj.VS[K.type];
if(J==null)J=f4.Lj.VS[K.type]=new f4.VS[c];J.X_();J.tT(E,K);f4.gI.drawArrays(f4.gI.TRIANGLES,0,6)};f4.VS=[];
f4.VS[0]=function(){f4.rh.call(this);this.Ue={};var K="\t\t\tprecision mediump float;\t\t\t"+f4.Kx.Rs+"\t\t\t"+f4.Kx.Mx+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.w9(K,f4.Lj.Mi)};f4.VS[0].prototype=new f4.rh;f4.VS[0].prototype.tT=function(K,E){var x={o:E.ay,J:E.oM,k:E.i0,Cc:W.Q(E.ay.length)},c=x.o.length;
if(this.Ue["m"+c]==null){this.Ue["m"+c]={awb:new f4.oA(c,1),Ly:W.Q(c*4)}}var J=this.Ue["m"+c];W.se(x,J.Ly,0);
var i=J.awb;i.set(J.Ly);this.cm(["source","map","toGray","presLum"]);var P=f4.gI,_=this.Vd;P.uniform1f(_.toGray,E.DF?1:0);
P.uniform1f(_.presLum,E.YB?1:0);this.q9([_.source,K,_.map,i.Iz])};f4.VS[1]=function(){f4.rh.call(this);
this.aoK=new f4.oA(256,1);this.aiW=W.Q(256*4);var K="\t\t\t\tprecision mediump float;\t\t\t\t"+f4.Kx.b$+"\t\t\t\t"+f4.Kx.g2+"\t\t\t\t"+f4.Kx.cc+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.w9(K,f4.Lj.Mi)};f4.VS[1].prototype=new f4.rh;f4.VS[1].prototype.tT=function(K,E){W.se({o:E.a2$,J:E.w3,k:E.ax6,Cc:W.Q(256)},this.aiW);
this.aoK.set(this.aiW);this.cm(["source","map","cfa","cfb","colorize"]);var x=f4.gI,c=this.Vd;x.uniform1f(c.cfa,E.axE);
x.uniform1f(c.cfb,E.pa);x.uniform1i(c.colorize,E.a2O);this.q9([c.source,K,c.map,this.aoK.Iz])};f4.VS[2]=function(){f4.rh.call(this);
var K="\t\t\tprecision mediump float;\t\t\t"+f4.Kx.b$+"\t\t\t"+f4.Kx.Rv+"\t\t\t"+f4.Kx.lx+"\t\t\t"+f4.Kx.g2+"\t\t\t"+f4.Kx.cc+"\t\t\t"+f4.Kx.aqV+"\t\t\t"+f4.Kx.ak8+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tuniform vec3  yF; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec3 vibrate(vec3 rgb) {  \t\t\t\tvec3 yuv = rgbToYuv * rgb; \t\t\t\treturn yuvToRgb * (yuv * yF); \t\t\t} \t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\trgb = pow(rgb,vec3(2.4)); \t\t\t\t\t\t\t\trgb = clamp(vibrate(rgb), 0.0, 1.0); \t\t\t\t\t\t\t\trgb = pow(rgb,vec3(1.0/2.4)); \t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb);  \t\t\t\tfloat nsat = max(0.0, min(1.0, hsl.y*(1.0+sat)));  \t\t\t\trgb = hslToRgb(hsl.x, nsat, hsl.z);  \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t}";
this.w9(K,f4.Lj.Mi)};f4.VS[2].prototype=new f4.rh;f4.VS[2].prototype.tT=function(K,E){this.cm(["source","vib","sat","yF"]);
var x=f4.gI,c=this.Vd;x.uniform1f(c.vib,E.ry[0]);x.uniform1f(c.sat,E.ry[1]);x.uniform3fv(c.yF,new Float32Array([E.ry[2],E.ry[3],E.ry[3]]));
this.q9([c.source,K])};f4.VS[3]=function(){f4.rh.call(this);var K="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.w9(K,f4.Lj.Mi)};f4.VS[3].prototype=new f4.rh;f4.VS[3].prototype.tT=function(K,E){this.cm(["source","trf"]);
var x=f4.gI,c=this.Vd;x.uniformMatrix4fv(c.trf,!1,new Float32Array(W.Kh.vS(E.rS)));this.q9([c.source,K])};
f4.VS[4]=function(){f4.rh.call(this);var K="\t\t\tprecision mediump float; \t\t\t"+f4.Kx.bK+"\t\t\t"+f4.Kx.b$+"\t\t\t"+f4.Kx.cc+"\t\t\t"+f4.Kx.g2+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(mix(src.rgb,rgb,scl),src.w); \t\t\t\t\t\t\t}";
this.w9(K,f4.Lj.Mi)};f4.VS[4].prototype=new f4.rh;f4.VS[4].prototype.tT=function(K,E){this.cm(["source","mnm","mxm","shift","lim"]);
var x=f4.gI,c=this.Vd;x.uniform3fv(c.mnm,new Float32Array(E.Ya));x.uniform3fv(c.mxm,new Float32Array(E.n$));
x.uniform3fv(c.shift,new Float32Array(E.shift));x.uniform1f(c.lim,E.zq);this.q9([c.source,K])};f4.VS[5]=function(){f4.rh.call(this);
var K="\t\t\tprecision mediump float;\t\t\t"+f4.Kx.Mx+"\t\t\t"+f4.Kx.Nr+"\t\t\t"+f4.Kx.pR+"\t\t\t"+f4.Kx.g2+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.w9(K,f4.Lj.Mi)};f4.VS[5].prototype=new f4.rh;f4.VS[5].prototype.tT=function(K,E){this.cm(["source","cfs"]);
var x=f4.gI,c=this.Vd;x.uniform3fv(c.cfs,E.aph);this.q9([c.source,K])};f4.VS[6]=function(){f4.rh.call(this);
var K="\t\t\tprecision mediump float;\t\t\t"+f4.Kx.b$+"\t\t\t"+f4.Kx.Nr+"\t\t\t"+f4.Kx.pR+"\t\t\t"+f4.Kx.g2+"\t\t\t"+f4.Kx.cc+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.w9(K,f4.Lj.Mi)};f4.VS[6].prototype=new f4.rh;f4.VS[6].prototype.tT=function(K,E){this.cm(["source","wght","prms"]);
var x=f4.gI,c=this.Vd,J=[E.dr,E.asj,E.Rs,E.aaW,E.m$,E.arO];x.uniform1fv(c.wght,new Float32Array(E.adD));
x.uniform1fv(c.prms,new Float32Array(J));this.q9([c.source,K])};f4.VS[7]=function(){f4.rh.call(this);
this.j0={};var K="\t\t\tprecision mediump float;\t\t\t"+f4.Kx.ht+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 rs = mapLut(src, lut, N); \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.w9(K,f4.Lj.Mi)};f4.VS[7].prototype=new f4.rh;f4.VS[7].prototype.tT=function(K,E){this.cm(["source","lut","N"]);
var x=f4.gI,c=this.Vd,J=E.KA,i=E.AJ;if(this.j0["m"+J]==null)this.j0["m"+J]=new f4.oA(J,J*J);var P=this.j0["m"+J];
P.set(i);x.uniform1f(c.N,J);this.q9([c.source,K,c.lut,P.Iz]);x.activeTexture(x.TEXTURE1);var _=x.LINEAR;
x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,_);x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,_);
x.activeTexture(x.TEXTURE0)};f4.filter={K3:{},Mi:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",adX:0,a2y:1,RQ:2,afC:3,a0R:4,avE:5,ei:6,ar1:7};
f4.filter.wN=function(K,E){var x=f4.filter,c,J=K.type+":"+(K._q?K._q.join(","):""),c=f4.filter.K3[J];
if(c==null)c=f4.filter.K3[J]=new f4.K3[K.type](K._q);c.X_();c.tT(E,K);f4.gI.drawArrays(f4.gI.TRIANGLES,0,6)};
f4.K3=[0,0,0,0,0,0,0,0,0,0,0,0];f4.K3[7]=function(){f4.rh.call(this);var K="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]LIYXH)P1o]q{nvr.(yzL=4f69?4mLHECaRIT\\xjfca)~|noC2).)[8*+^U`_felkrn$R[aVlzaoxD:;@N|)/G)28-CQNtjkp~`&*#!&4u*-.(q}$<}'-\"8FBi_`esTz~wuz)i~\"#xvhi=,r~(U0$:9==3bw^MLUUINwne8gjpe/}opB;/FMMRQBX__d`dGXLo%P\\e$kca,Bkw!?uR.3.CQf0<E_DAQP@QYbxm!-+0.~2iJ0).)L4,*YjDIDg>zJRH2aS\\;jjpvD}#}N4";
this.w9(g6.Ea(K),g6.Ea(f4.filter.Mi))};f4.K3[7].prototype=new f4.rh;f4.K3[7].prototype.tT=function(K,E){this.cm(["source","iwh","kern"]);
var x=f4.gI,c=this.Vd;x.uniform2fv(c.iwh,E.P9);x.uniform1fv(c.kern,E.ahY);this.q9([c.source,K])};f4.K3[6]=function(K){f4.rh.call(this);
var E=K[0],x=K[1],c=K[2],J="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]SEK%cQeobjf\"{mn@1(Z*-3(a@<97UF=HPl^ZWU|rpbc7&|\"|O,}~RITSZY`_fbwFOUJ`nUcl8./4Bp|#;|&,!7EAh[\"'zuV|!7<0+k!$%zkk0$J>'x~:=<d<.4[U<KMVNV`S,j\\]1 fr{I$w.-11'VkRA@II=BkbY,[^dY#qcd6/NVb<@#4(K`,8A_G?=g}GS\\zQ.ini~-Bkw!Lw&/HK^D=B=ar<JS|X]X{c[Y):sxs7mJy\"wa1#,j::@FsMRM}c",i=g6.Ea(J);
i=i.replaceAll("PRC",c+".0");i=i.replaceAll("DIR",["x,0","0,x"][x]);this.w9(i,f4.Lj.Mi)};f4.K3[6].prototype=new f4.rh;
f4.K3[6].prototype.tT=function(K,E){this.cm(["source","iwh","rad"]);var x=f4.gI,c=this.Vd;x.uniform2fv(c.iwh,E.P9);
x.uniform1f(c.rad,E.YH);this.q9([c.source,K])};f4.K3[4]=function(K){f4.rh.call(this);var E=K[0],x=K[1],c="\t\t\tprecision highp float;\t\t\tuniform sampler2D source;\t\t\tuniform vec2 iwh;\t\t\tuniform float rrad;\t\t\tuniform float tr;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tconst float PRC="+K[2]+".0; \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 sclr = texture2D(source, sCoord);\t\t\t\tfloat rad = rrad; \t\t\t\tif(rad!=0.0) {\t\t\t\t\tvec4 sum=vec4("+["1.0,1.0,1.0,0.0","0.0,0.0,0.0,1.0","0.0"][x]+"); vec4 cnt = vec4(0.0);\t\t\t\t\tfor(float y=-PRC; y<=PRC; y++) {\t\t\t\t\t\tif(y<-rad || y>rad) continue; \t\t\t\t\t\tfor(float x=-PRC; x<=PRC; x++) { \t\t\t\t\t\t\tif("+["x<-rad || x>rad","(x*x+y*y)>rad*rad"][E]+") continue; \t\t\t\t\t\t\tvec4 clr = texture2D(source, sCoord+vec2(x,y)*iwh);  \t\t\t\t\t\t\t"+["if(clr.w!=0.0) sum.rgb=min(sum.rgb,clr.rgb);  sum.w=max(sum.w,clr.w)","sum.rgb=max(sum.rgb,clr.rgb);  sum.w=min(sum.w,clr.w)","if(abs(sclr.r-clr.r)<tr) {  sum.r+=clr.r;  cnt.r+=1.0;  };"+"if(abs(sclr.g-clr.g)<tr) {  sum.g+=clr.g;  cnt.g+=1.0;  };"+"if(abs(sclr.b-clr.b)<tr) {  sum.b+=clr.b;  cnt.b+=1.0;  };"][x]+"; \t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\tsclr = "+(x==2?"vec4(sum.rgb/cnt.rgb, sclr.w)":"sum")+";\t\t\t\t}\t\t\t\tgl_FragColor=sclr; \t\t\t}";
this.w9(c,f4.Lj.Mi)};f4.K3[4].prototype=new f4.rh;f4.K3[4].prototype.tT=function(K,E){this.cm(["source","iwh","rrad","tr"]);
var x=f4.gI,c=this.Vd;x.uniform2fv(c.iwh,E.P9);x.uniform1f(c.rrad,E.uk);x.uniform1f(c.tr,E.asK);this.q9([c.source,K]);
var J=x.LINEAR;J=x.NEAREST;x.activeTexture(x.TEXTURE0);x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,J);
x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,J);x.activeTexture(x.TEXTURE0)};f4.K3[5]=function(){f4.rh.call(this);
var K="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwn_ntso BW6-050`>:88DJH]WIJ{lYj^4qmkkw}{1z$*~5C(7;DmKGEEQWUjT]cXn|egmoG&s(2%-)D>01bSJ|LOUJ$O^`hlzdmsh~-bPKGLZ9520N?6AIeWSPNuki[\\0~qht}K(yzNEPQVRg6?E:P^YX]X+!\"'5sef:)xQO*}4377-\\qXGJOJkbY,[^dY!6dpv/py t+96\\OwcEjn'rThklbP\\bz\\ek`v%!H;cO0VZr^?TWXNL>?paSK(a4cfla+ykl>7+A2DH+<0eD67jYAS ZNdcgg]-B)wz z<3%|EL/gc2;A6LZ#}HV^tTf ]o+\"{mnB9DEKOUOVW^d^efpjrrwsv,Zci^t#}pIt+&@HcKLXZ]^cVd\\gssxxP_cl$()55::q!%.EISUX[^_d`cxXW\\Wlz0m`7neqz+9N,~D2&<;??5dy`ONWWKPypbZ#8}!mukU%v ^..4:g;:L^I@LUt`_d_!wocyx||rBW>-,55).WNEwGJPElriRTZ\\\"7|";
this.w9(g6.Ea(K),g6.Ea(f4.filter.Mi))};f4.K3[5].prototype=new f4.rh;f4.K3[5].prototype.tT=function(K,E){this.cm(["source","ssum","iwh","amnt","edgf"]);
var x=f4.gI,c=this.Vd;x.uniform2fv(c.iwh,E.P9);x.uniform1f(c.amnt,E.awC);x.uniform1f(c.edgf,E.a4r);this.q9([c.source,K,c.ssum,E.aqS])};
f4.K3[3]=function(){f4.rh.call(this);var K="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.w9(g6.Ea(K),g6.Ea(f4.filter.Mi))};f4.K3[3].prototype=new f4.rh;f4.K3[3].prototype.tT=function(K,E){this.cm("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var x=f4.gI,c=this.Vd;x.uniform2fv(c.iwh,E.P9);x.uniform1f(c.tdep,E.aaO);x.uniform1f(c.rrad,E.uk);x.uniform2fv(c.spec,E.a7X);
x.uniform3fv(c.nois,E.axL);x.uniformMatrix4fv(c.poly0,!1,E.aep);x.uniformMatrix4fv(c.poly1,!1,E.awp);
this.q9([c.source,K]);var J=x.LINEAR;x.activeTexture(x.TEXTURE0);x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,J);
x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,J);x.activeTexture(x.TEXTURE0)};f4.K3[0]=function(){f4.rh.call(this);
var K="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.w9(g6.Ea(K),g6.Ea(f4.filter.Mi))};f4.K3[0].prototype=new f4.rh;f4.K3[0].prototype.tT=function(K,E){this.cm(["source","iwh","ld","shine"]);
var x=f4.gI,c=this.Vd;x.uniform2fv(c.iwh,E.P9);x.uniform3fv(c.ld,E.akP);x.uniform1f(c.shine,E.a5G);this.q9([c.source,K,c.tang,E.LY])};
f4.K3[1]=function(){f4.rh.call(this);var K="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.w9(g6.Ea(K),g6.Ea(f4.filter.Mi))};f4.K3[1].prototype=new f4.rh;f4.K3[1].prototype.tT=function(K,E){this.cm(["source","iwh","isc","bristle"]);
var x=f4.gI,c=this.Vd;x.uniform2fv(c.iwh,E.P9);x.uniform1f(c.isc,E.a7d);x.uniform1f(c.bristle,E.auj);
this.q9([c.source,K])};f4.K3[2]=function(){f4.rh.call(this);var K="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.w9(g6.Ea(K),g6.Ea(f4.filter.Mi))};f4.K3[2].prototype=new f4.rh;f4.K3[2].prototype.tT=function(K,E){this.cm(["source","tang","iwh","sigma","expo"]);
var x=f4.gI,c=this.Vd;x.uniform2fv(c.iwh,E.P9);x.uniform1f(c.sigma,E.abt);x.uniform1f(c.expo,E.a6E);
this.q9([c.source,K,c.tang,E.LY]);var J=x.LINEAR;x.activeTexture(x.TEXTURE0);x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,J);
x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,J);x.activeTexture(x.TEXTURE0)};function W(){}W.d={};
W.a0v={};W.ao7=function(){var K=[64,64,128,256,512,1024,2048],E=[];for(var y=0;y<K.length;y++){var x=K[y],c=document.createElement("canvas");
c.width=x;c.height=x;E.push(c.getContext("2d"))}return E}();W.G3=function(K,E){var x,c=W.ao7,y=1,J=Math.max(K,E);
while(y<c.length&&J>c[y].canvas.width)y++;if(y==c.length){x=c[0];var i=x.canvas;i.width=K;i.height=E}else{x=c[y];
x.clearRect(0,0,K,E)}return x};W.Qa=function(K,E,x){var c=new Uint32Array(E*x);c[0]=K[0];for(var J=1;
J<E;J++)c[J]=c[J-1]+K[J];for(var i=1;i<x;i++){var y=i*E;c[y]=c[y-E]+K[y];for(var J=1;J<E;J++)c[y+J]=K[y+J]+c[y+J-1]+c[y+J-E]-c[y+J-E-1]}return c};
W.Rt=function(K,E,x,c,J,i){var P=(J-1)*E,_=i*E;return K[_+c]-K[_+x-1]-K[P+c]+K[P+x-1]};W.xE=function(K,E,x){var c={},J=0,i=0,P=new Uint32Array(K.buffer),_=P.length,a=Date.now();
for(var j=1;j<x-1;j++)for(var e=1;e<E-1;e++){var d=j*E+e,I=P[d];if(I>>>24<230)i++;if(c[I]==null){c[I]=!0;
J++}}if(i!=0||J<20)return!1;return!0};W.Ii=function(K,E,x,c,J,i){if(J==null)J=i=0;c=Math.log(c)/Math.log(2);
c=Math.round(c);for(var y=0;y<x;y++)for(var P=0;P<E;P++){var _=y*E+P<<2,a=W.Ej(y+i,P+J,c);K[_]=K[_+1]=K[_+2]=a;
K[_+3]=255}};W.Ej=function(y,K,E){return 255-((y>>>E)+(K>>>E)&1)*51};W.jk=function(K){return{o:K>>>16&255,J:K>>>8&255,k:K&255}};
W.E8=function(K){var E=K.toString(16);while(E.length<6)E="0"+E;return E};W.r6=function(K){return parseInt(K,16)};
W.Rs=function(K){return.3*K.o+.59*K.J+.11*K.k};W.ft=function(K){return Math.max(K.o,K.J,K.k)-Math.min(K.o,K.J,K.k)};
W.bg=function(K,E,x){return.3*K+.59*E+.11*x};W.atL=function(K,E,x){return Math.max(K,E,x)-Math.min(K,E,x)};
W.Nr=function(K,E){var x=E-K,c=Math.abs(x),J=x-1,i=x+1;if(Math.abs(J)<c)x=J;else if(Math.abs(i)<c)x=i;
return x};W.hW=function(K){return K<.0031308?12.92*K:1.055*Math.pow(K,1/2.4)-.055};W.l$=function(K){return K<.04045?K/12.92:Math.pow((K+.055)/1.055,2.4)};
W.an6=function(K,E){var x=Math.min(K.length,E.length);for(var y=0;y<x;y+=4){var c=K[y],J=K[y+1],i=K[y+2];
E[y]=16+Math.floor(65.481/255*c+128.553/255*J+24.966/255*i+.5);E[y+1]=128-Math.floor(37.797/255*c-74.203/255*J+112/255*i+.5);
E[y+2]=128+Math.floor(112/255*c-93.786/255*J-18.214/255*i+.5);E[y+3]=K[y+3]}};W.PX=function(K,E,x){var c,J,i,P=Math.max(K,E,x),_=Math.min(K,E,x);
i=P;if(P!=0)J=(P-_)/P;else J=0;if(J==0)c=0;else{var a=P-_,j=(P-K)/a,e=(P-E)/a,d=(P-x)/a;if(K==P)c=d-e;
else if(E==P)c=2+j-d;else c=4+e-j;c*=1/6;if(c<0)c=c+1}return{o4:c,hV:J,k:i}};W.ai8=function(K,E,x){var c=0,J=0,i=0;
if(E==0)c=J=i=x;else{var P=(K-Math.floor(K))*6,_=Math.floor(P),a=P-Math.floor(P),j=x*(1-E),e=x*(1-E*a),d=x*(1-E*(1-a));
switch(_){case 0:c=x;J=d;i=j;break;case 1:c=e;J=x;i=j;break;case 2:c=j;J=x;i=d;break;case 3:c=j;J=e;
i=x;break;case 4:c=d;J=j;i=x;break;case 5:c=x;J=j;i=e;break}}return{o:c,J:J,k:i}};W.g2=function(K,E,x){var c=Math.max(K,E,x),J=Math.min(K,E,x),i=0,P=0,_=(c+J)*.5;
if(c!=J){var a=c-J;P=_>.5?a/(2-(c+J)):a/(c+J);switch(c){case K:i=(E-x)/a+(E<x?6:0);break;case E:i=(x-K)/a+2;
break;case x:i=(K-E)/a+4;break}i*=1/6}return{o4:i,hV:P,M2:_}};W.cc=function(K,E,x){var c,J,i;if(E==0)c=J=i=x;
else{var P=x<.5?x*(1+E):x+E-x*E,_=2*x-P;c=W.b$(_,P,K+1/3);J=W.b$(_,P,K);i=W.b$(_,P,K-1/3)}return{o:c,J:J,k:i}};
W.b$=function(K,E,x){if(x<0)x+=1;if(x>1)x-=1;if(x<1/6)return K+(E-K)*6*x;if(x<1/2)return E;if(x<2/3)return K+(E-K)*(2/3-x)*6;
return K};W.Rv=function(K,E,x){var c=Math.max(K,E,x),J=Math.min(K,E,x),i,P,_=c,a=c-J;P=c==0?0:a/c;if(c==J)i=0;
else{switch(c){case K:i=(E-x)/a+(E<x?6:0);break;case E:i=(x-K)/a+2;break;case x:i=(K-E)/a+4;break}i*=1/6}return{o4:i,hV:P,W8:_}};
W.lx=function(K,E,x){var c,J,i,y,P,_,a,j;y=Math.floor(K*6);P=K*6-y;_=x*(1-E);a=x*(1-P*E);j=x*(1-(1-P)*E);
switch(y%6){case 0:c=x,J=j,i=_;break;case 1:c=a,J=x,i=_;break;case 2:c=_,J=x,i=j;break;case 3:c=_,J=a,i=x;
break;case 4:c=j,J=_,i=x;break;case 5:c=x,J=_,i=a;break}return{o:c,J:J,k:i}};W.hX=function(){var K=[],E=[];
for(var y=0;y<8e3;y++){var x=y*(1/4e3);K[y]=W.l$(x);E[y]=x>.008856?Math.pow(x,1/3):(903.3*x+16)*(1/116)}return[K,E]}();
W.bK=function(K,E,x,c){if(c==null)c=[.9642,1,.8249];var J=W.hX[0],i=W.hX[1];K=J[~~(.5+K*(4e3/255))];
E=J[~~(.5+E*(4e3/255))];x=J[~~(.5+x*(4e3/255))];var P=W.Kh.D3,_=P[0]*K+P[1]*E+P[2]*x,a=P[4]*K+P[5]*E+P[6]*x,j=P[8]*K+P[9]*E+P[10]*x;
_=_*(1/c[0]);a=a*(1/c[1]);j=j*(1/c[2]);return W.sN(_,a,j)};W.sN=function(K,E,x){var c=W.hX[1],J=c[~~(.5+K*4e3)],i=c[~~(.5+E*4e3)],P=c[~~(.5+x*4e3)];
return{sm:116*i-16,Cc:500*(J-i),k:200*(i-P)}};W.NZ=function(K,E,x){var c=903.3,J=.008856,i=(K+16)/116,P=i*i*i,_=i-x/200,a=_*_*_,j=E/500+i,e=j*j*j,d=a>J?a:(116*_-16)/c,I=P>J?P:(116*i-16)/c,v=e>J?e:(116*j-16)/c,n=v*96.42,C=I*100,T=d*82.49,o=W.Kh.rK(W.Kh.pd,[n/100,C/100,T/100,0]);
for(var y=0;y<4;y++)o[y]=Math.max(0,Math.min(255,W.hW(o[y])*255));return{o:o[0],J:o[1],k:o[2]}};W.Ys=function(K,E,x,c,J){var i=K.sm,P=K.Cc,_=K.k,a=(i<E.sm?E.sm-i:x.sm<i?x.sm-i:0)*(1/100),j=(P<E.Cc?E.Cc-P:x.Cc<P?x.Cc-P:0)*(1/116),e=(_<E.k?E.k-_:x.k<_?x.k-_:0)*(1/116),d=Math.sqrt(a*a+j*j+e*e)*1.35;
return d<=c?Math.min(1,1.17*(1-d*J)):0};W.gZ=function(K){var E=[.9956,.9956,.9954,.7753,.782,.7895,.5749,.5829,.5932,.3854,.3898,.3989,.1366,.122,.1252,1,.9792,.7954,.7871,.7722,.636,.5822,.5744,.4751,.3875,.3822,.3126,.1261,.1144,.0693,1,.9652,.5979,.7928,.7604,.4791,.5851,.565,.3546,.3884,.3755,.2237,.1179,.1086,0,1,.9532,.3722,.7961,.7499,.3022,.587,.5571,.2159,.3882,.3695,.1154,.1051,.1046,0,1,.9445,0,.7976,.7421,0,.5869,.5508,0,.3881,.3653,0,.0938,.1022,0,.9733,.794,.8719,.7619,.6264,.6945,.5681,.4653,.5213,.3827,.3038,.3461,.1374,.0531,.0828,.9815,.7819,.7026,.7691,.6199,.5631,.5715,.4594,.4188,.3824,.2985,.2698,.1305,.0491,.0182,.9877,.7722,.5366,.7722,.6103,.4274,.5721,.4519,.3125,.3819,.2937,.1895,.1209,.0467,0,.9919,.7632,.3502,.7745,.6025,.2763,.573,.4458,.1912,.3812,.2897,.089,.1101,.0454,0,.9943,.7569,.0534,.7758,.597,.0442,.5729,.4412,0,.3807,.2868,0,.1027,.0446,0,.9528,.6013,.7552,.7481,.4721,.6014,.5602,.3459,.4503,.3792,.2136,.2944,.1381,0,.0324,.9584,.5928,.6121,.753,.469,.4892,.562,.3431,.3615,.3781,.2114,.2264,.1303,0,3e-4,.9624,.5875,.4732,.7544,.4629,.3742,.5607,.3386,.2697,.3761,.2091,.1541,.121,0,1e-4,.9649,.5814,.3186,.7556,.4584,.2473,.5608,.3347,.1646,.375,.2073,.0588,.1137,0,0,.9662,.5767,.1149,.7561,.4549,.0779,.5604,.3319,9e-4,.3744,.2058,0,.1088,0,0,.9362,.4032,.649,.7366,.3099,.5161,.5534,.2148,.384,.3759,.1032,.2452,.12,0,.0041,.94,.4001,.5282,.7398,.3111,.4202,.5532,.2166,.3069,.3735,.1073,.1841,.1139,0,.0036,.9427,.3993,.4122,.7401,.3097,.3231,.5517,.2165,.2275,.3715,.11,.1174,.1092,0,.0034,.9441,.3974,.285,.7405,.3093,.2178,.5511,.2167,.1376,.3693,.1129,.0302,.1056,0,.0032,.9445,.3951,.1314,.7406,.3095,.0917,.5505,.2176,.0086,.3681,.1148,0,.1033,0,.0031,.9221,0,.546,.7269,0,.4335,.5475,0,.3187,.3729,0,.1953,.084,0,.0023,.9248,.0373,.447,.7285,0,.3522,.5456,0,.2522,.3695,0,.1398,.0852,0,.0023,.9264,.079,.3534,.7279,.0224,.2733,.5434,0,.1856,.3669,0,.0812,.0861,0,.0024,.927,.0991,.2521,.7281,.0569,.1899,.5431,0,.1113,.3652,0,.0077,.0867,0,.0024,.9265,.1117,.1412,.7282,.0765,.0995,.5432,.0101,.0172,.3639,0,0,.0872,0,.0024,.7225,.8956,.9779,.571,.7098,.7784,.4213,.53,.5853,.2723,.3526,.3946,.0485,.1007,.1307,.7486,.8824,.7882,.5895,.7001,.6314,.4335,.5225,.4726,.2784,.3469,.3123,.0341,.0972,.0776,.7658,.8703,.6053,.5995,.6889,.4838,.4392,.5138,.3592,.2814,.3411,.2289,.0234,.0944,.0085,.78,.8609,.41,.6082,.6803,.3248,.4436,.5065,.2342,.283,.336,.133,.0037,.0928,0,.7915,.8551,.1645,.6149,.6746,.1258,.4458,.5011,.0697,.2837,.3321,0,0,.092,0,.7312,.7169,.8575,.5814,.5728,.6863,.4323,.4259,.5164,.2834,.2756,.3448,.0654,.024,.0921,.7519,.7108,.6983,.5949,.5673,.5599,.4394,.421,.4172,.2859,.2722,.2708,.0568,.0261,.0319,.7627,.7026,.5428,.6002,.559,.4317,.4419,.4147,.317,.2867,.2683,.195,.0425,.0282,0,.7723,.6957,.3769,.6056,.5525,.2948,.4442,.4093,.2077,.2871,.2651,.1067,.0215,.0303,0,.7806,.6916,.1821,.6099,.5478,.1312,.445,.4052,.0684,.2867,.2625,0,.0082,.0316,0,.736,.5475,.7455,.5857,.4365,.5975,.4376,.3188,.4485,.2894,.1926,.2954,.0569,0,.0469,.7508,.5451,.6108,.5946,.4336,.4887,.4418,.3166,.362,.2901,.1921,.2292,.0463,0,.0011,.7574,.5412,.4799,.5972,.4291,.3794,.4421,.3139,.2753,.2894,.1914,.1611,.0316,0,7e-4,.7636,.5369,.3403,.6008,.4253,.263,.4428,.3106,.1798,.2887,.1903,.0779,.0216,0,5e-4,.7692,.534,.1853,.6035,.4221,.1295,.443,.3081,.0601,.2877,.1889,0,.0152,0,3e-4,.7373,.3763,.6456,.587,.2924,.5158,.4401,.2001,.3846,.2928,.0875,.248,.0165,0,.0011,.7487,.3774,.5308,.5933,.2944,.4233,.4419,.2035,.3105,.292,.0949,.1894,.0078,0,2e-4,.7524,.3782,.4212,.594,.2943,.3305,.441,.2049,.2351,.2905,.0994,.1269,.0013,0,0,.7561,.3774,.3054,.5957,.2939,.2322,.4406,.2052,.1523,.2885,.1035,.0522,4e-4,0,0,.76,.376,.1816,.5977,.2936,.1243,.4399,.2057,.0498,.2863,.1051,0,2e-4,0,0,.7372,.1034,.551,.5874,.0185,.4371,.4413,0,.3224,.2947,0,.201,0,0,0,.7462,.119,.4545,.5913,.0567,.3601,.4411,0,.2599,.2928,0,.149,0,0,0,.7476,.1388,.3655,.5903,.081,.2833,.439,0,.196,.2902,0,.0936,0,0,0,.7499,.1482,.2718,.5912,.0964,.2026,.438,.0193,.1252,.288,0,.0208,0,0,0,.7526,.152,.1763,.5923,.106,.118,.4373,.0341,.0407,.2849,0,0,0,0,0,.4271,.8095,.9608,.3403,.6444,.7657,.2412,.4824,.5773,.1302,.3201,.3909,0,.0832,.1344,.4775,.7983,.7804,.376,.6367,.6256,.266,.4765,.4696,.1467,.3159,.3119,0,.0832,.0832,.5072,.7874,.61,.3956,.6266,.4874,.2794,.4691,.3629,.1561,.3113,.2331,0,.0815,.0173,.531,.7793,.4345,.4122,.6193,.3438,.2899,.4627,.2496,.1627,.3073,.1463,0,.0796,0,.5496,.7747,.2459,.4244,.6147,.1896,.2963,.4584,.1246,.1666,.3043,.0295,0,.0782,0,.4896,.6531,.8455,.3917,.524,.6776,.2849,.3893,.5109,.1706,.2491,.3424,0,.0062,.0979,.5218,.6487,.6934,.4134,.5194,.5559,.2985,.3857,.4154,.1781,.2475,.2712,0,.0082,.0413,.5395,.6417,.5472,.4242,.5122,.435,.3053,.3807,.3208,.182,.2448,.1995,0,.0063,0,.5549,.6359,.3963,.4341,.5068,.3102,.3109,.3763,.2209,.1849,.2427,.1194,0,.0048,0,.5676,.6326,.2389,.4416,.5031,.1779,.3142,.373,.111,.1858,.2406,.0137,0,.0039,0,.5288,.5048,.7395,.4223,.4036,.5936,.3112,.2932,.4464,.194,.1723,.2955,0,.0013,.0537,.5487,.5039,.6103,.4355,.4015,.4884,.3185,.2924,.3629,.1971,.1738,.2316,0,0,0,.5585,.5009,.4864,.4409,.3981,.3847,.3215,.2912,.2809,.1983,.175,.1675,0,0,0,.5683,.4974,.3581,.4472,.3952,.2773,.3237,.2886,.1929,.1985,.1748,.0922,0,0,0,.5766,.495,.2276,.452,.3926,.1646,.3252,.2868,.096,.1979,.174,0,0,0,0,.5526,.357,.6462,.4414,.2769,.5172,.3273,.187,.3867,.2083,.0725,.2515,0,1e-4,.005,.5662,.3586,.535,.4497,.2794,.427,.3308,.1917,.3145,.2087,.0831,.1946,0,0,0,.571,.3597,.4301,.4513,.2799,.3379,.3308,.1939,.2425,.2076,.0893,.1352,0,0,0,.5765,.3593,.3223,.4545,.2797,.2459,.3311,.1945,.1654,.2062,.0944,.068,0,0,0,.582,.3583,.2145,.458,.2797,.151,.3314,.1954,.0803,.2039,.0965,0,0,0,0,.5685,.1511,.5592,.4543,.0767,.4446,.3382,0,.3293,.2147,0,.2076,0,0,0,.5777,.1587,.464,.4588,.0959,.3679,.3388,.0048,.2673,.2134,0,.1566,0,0,0,.579,.1719,.3773,.4578,.111,.2931,.3368,.0292,.2054,.2108,0,.1027,0,0,0,.5819,.1786,.2881,.4594,.1215,.2157,.3361,.0464,.1381,.2085,0,.035,0,0,0,.5855,.1817,.2015,.4613,.1282,.1378,.3358,.0572,.0647,.2046,0,0,0,0,0,0,.7368,.9457,0,.5885,.7547,0,.4416,.5705,0,.2922,.3876,0,.0637,.1371,0,.7271,.7732,0,.5822,.62,0,.4368,.4665,0,.2893,.3113,0,.0575,.0877,.0293,.7172,.6118,0,.5735,.4893,0,.4308,.3654,0,.2859,.2362,0,.0527,.0254,.1667,.7094,.4492,.1105,.5675,.3578,0,.4259,.2615,0,.2833,.1562,0,.0495,0,.2211,.7051,.2881,.1542,.5639,.2285,.048,.4231,.1574,0,.2814,.0642,0,.0479,0,.1089,.6003,.8361,.0907,.4814,.6702,.0189,.3569,.506,0,.2257,.3404,0,.0031,.1007,.2145,.596,.6892,.165,.478,.5528,.0875,.3549,.4141,0,.2259,.2718,0,.0011,.0458,.2608,.5897,.5497,.1974,.4719,.4379,.1153,.3511,.3242,0,.2243,.2033,0,0,0,.2941,.5846,.4094,.2219,.4675,.3224,.1344,.3476,.2318,.0094,.2233,.1295,0,0,0,.3178,.5818,.2725,.2385,.4645,.2083,.1459,.3452,.1382,.0182,.222,.0431,0,0,0,.2849,.4701,.7351,.2249,.3739,.5897,.1519,.2696,.4439,.0559,.1531,.2948,0,.0015,.0592,.3179,.4692,.6097,.2491,.373,.4877,.168,.2703,.3631,.0671,.1566,.233,0,0,2e-4,.3371,.4664,.4904,.2614,.37,.3884,.1766,.2698,.2847,.0733,.1587,.1716,0,0,0,.3538,.4634,.3698,.2734,.3679,.2879,.1834,.268,.2025,.0782,.1594,.102,0,0,0,.3665,.4614,.2537,.2822,.366,.1885,.1883,.2667,.1185,.0802,.1591,.0183,0,0,0,.3552,.3407,.6468,.2814,.2628,.5183,.2001,.1749,.3882,.1031,.062,.2533,0,3e-4,.0134,.372,.3429,.5387,.2932,.2657,.4297,.2062,.1802,.3173,.106,.0746,.1978,0,0,0,.3806,.3439,.4368,.2976,.2663,.3437,.2082,.1829,.2479,.1073,.0816,.1406,0,0,0,.3886,.3435,.3339,.3031,.2664,.2565,.2104,.184,.1754,.1086,.0873,.0786,0,0,0,.396,.3429,.2346,.3091,.2666,.1701,.2126,.1855,.1007,.1086,.0897,.0056,0,0,0,.3978,.1741,.5653,.3167,.1078,.4527,.2294,.006,.3373,.1238,0,.2143,0,0,0,.4068,.1821,.4725,.3221,.1191,.3752,.2306,.0312,.2741,.1272,0,.1636,0,0,0,.4089,.192,.387,.3214,.1294,.3018,.2287,.0514,.2136,.1274,0,.1108,0,0,0,.4121,.1971,.2993,.3239,.1361,.2264,.2287,.0629,.1491,.1264,0,.0499,0,0,0,.416,.2,.2154,.3268,.1401,.1521,.2295,.0705,.0818,.1225,0,.0054,0,0,0,0,.678,.9338,0,.5431,.7462,0,.4082,.5651,0,.2692,.3849,0,.0212,.1397,0,.6694,.7677,0,.5376,.6154,0,.4042,.4639,0,.2673,.3107,0,.0199,.0913,0,.66,.6122,0,.5301,.4905,0,.3996,.3672,0,.2652,.2384,0,.0189,.0316,0,.652,.4583,0,.5254,.368,0,.3963,.2705,0,.264,.1635,0,.0188,0,0,.6472,.3143,0,.5227,.2546,0,.395,.1795,0,.2633,.0845,0,.0193,0,0,.5591,.8297,0,.4461,.6643,0,.3299,.502,0,.2062,.3385,0,.0032,.1024,0,.5534,.686,0,.4436,.5501,0,.3289,.4127,0,.2074,.272,0,.0012,.0482,0,.5472,.5511,0,.4382,.4399,0,.3261,.3266,0,.2067,.2061,0,0,0,0,.5425,.4181,0,.4347,.3313,0,.3234,.2399,0,.206,.1369,0,0,0,0,.5399,.2941,0,.4324,.2287,0,.3218,.1565,0,.2049,.0625,0,0,0,0,.4439,.733,0,.3496,.5873,0,.25,.4423,0,.1369,.2945,0,.0016,.0628,0,.4411,.6097,0,.3493,.4877,0,.2516,.3635,0,.1404,.2343,0,0,.0023,0,.4381,.4935,0,.3466,.3917,0,.2516,.2881,0,.1427,.1753,0,0,0,0,.4354,.3781,0,.345,.2962,0,.2503,.2102,0,.1441,.1098,0,0,0,0,.4338,.2711,0,.3436,.2051,0,.2495,.1342,0,.1445,.037,0,0,0,0,.329,.6482,0,.252,.52,0,.1654,.3901,0,.0534,.2551,0,5e-4,.0192,.0138,.3301,.5419,.0039,.2544,.4323,0,.1705,.3197,0,.0661,.2002,0,0,0,.0783,.3307,.4416,.0404,.2547,.3482,0,.173,.2521,0,.0737,.1446,0,0,0,.1116,.3303,.3412,.0706,.2546,.264,0,.1741,.1825,0,.079,.0854,0,0,0,.1327,.3301,.2469,.0914,.2547,.1832,.0057,.1755,.1135,0,.0784,.015,0,0,0,.1815,.1895,.5709,.1383,.1275,.4596,.0795,.0318,.3435,0,0,.2181,0,0,0,.1962,.1967,.4793,.1496,.1334,.3808,.0833,.05,.2787,0,0,.1661,0,0,0,.2029,.2039,.3936,.1519,.1402,.3076,.0827,.0642,.2186,0,0,.1136,0,0,0,.2078,.2084,.306,.1573,.1445,.2334,.086,.0724,.1556,.003,.0012,.055,0,0,0,.2125,.2113,.223,.1628,.1468,.1616,.0917,.0769,.0917,.009,.0033,.0083,0,0,0],x=Math.round(Math.pow(E.length/3,1/4)),c=[0,0,0,0];
ICC.U.applyLUT4Float(E,x,K,c);return c};W.a6h=function(K){var E=[.749,.6784,.6706,.902,.8413,.7807,.5857,.7788,.9743,.9154,.3677,.6283,1,.9841,.2521,.443,1,.9847,.1976,.27,1,.975,.1282,.1337,1,.9637,.0411,.0428,1,.9165,0,.0032,.9395,.8528,0,0,.9105,.7991,0,0,.7599,.552,.7696,.789,.8485,.6228,.6576,.7675,1,.842,.4653,.5761,1,.9389,.3447,.3743,1,.9546,.2577,.2156,1,.9601,.1576,.0954,1,.9601,.0357,.0193,.9879,.9022,0,9e-4,.932,.8336,0,0,.9012,.7864,0,0,.805,.4894,.9278,.6186,.8728,.4726,.9073,.6172,.9147,.5608,.6358,.5491,1,.7567,.4347,.3587,1,.8577,.3079,.1781,1,.8891,.1915,.0504,1,.8925,.0326,.0038,.9683,.841,0,0,.9114,.7927,0,0,.8789,.7515,0,0,.8424,.4034,1,.4124,.8827,.3977,1,.4091,.9032,.4007,.8385,.4013,.9123,.4843,.5898,.339,.9516,.6175,.3867,.2021,.9849,.7235,.2209,.0608,.9818,.7644,.0434,.0018,.9285,.741,0,0,.8782,.712,0,0,.8539,.6876,0,0,.8756,.3098,1,.2322,.8775,.3122,1,.2323,.8913,.3197,.9989,.2249,.889,.3309,.7571,.2136,.8868,.3864,.5323,.1686,.8967,.471,.3416,.0855,.9032,.5434,.1579,.0123,.878,.5672,0,0,.8385,.5812,0,0,.812,.5885,0,0,.8502,.217,1,.0915,.8503,.2193,1,.0904,.8605,.2204,1,.0816,.8568,.225,.8587,.0808,.8448,.2421,.6714,.0732,.8374,.2777,.4686,.0486,.8344,.3291,.2788,.0137,.8184,.3632,.0943,7e-4,.7881,.388,0,0,.7592,.4392,0,0,.8132,.0895,1,.0102,.8134,.0907,1,.0101,.8144,.0938,1,.0085,.8166,.0958,.9103,.0063,.8021,.1066,.7459,.0078,.7898,.1222,.5781,.0046,.7796,.1444,.3947,.0016,.7626,.1735,.2164,0,.7342,.1972,.0383,0,.6884,.2408,0,0,.7532,0,1,0,.749,0,1,0,.7484,0,1,0,.7427,0,.9015,0,.733,0,.7722,0,.7285,0,.6341,0,.724,0,.4726,0,.7068,0,.3102,0,.6877,.0167,.1424,0,.6493,.0413,0,0,.6847,0,1,0,.6808,0,1,0,.6732,0,1,0,.6718,0,.8971,0,.6666,0,.7786,0,.6547,0,.654,0,.641,0,.511,0,.6301,0,.3732,0,.6138,0,.2318,0,.581,0,.0867,0,.6187,0,1,0,.6193,0,1,0,.6162,0,1,0,.6007,0,.9316,0,.5922,0,.7975,0,.5791,0,.6774,0,.5681,0,.5466,0,.5532,0,.4101,0,.5336,0,.2795,0,.5123,0,.1487,0,.6087,.7256,.6558,.8508,.7488,.7971,.5809,.7731,.8912,.9472,.3678,.6053,.9921,1,.2518,.4063,1,1,.1981,.2413,1,1,.1227,.1117,1,.9861,.0232,.025,.9851,.9182,0,.0012,.9143,.8549,0,0,.897,.7991,0,0,.6642,.5963,.7836,.778,.723,.6642,.6485,.7627,.8995,.8599,.4693,.5645,1,1,.3571,.3191,1,1,.2559,.1757,1,.9873,.1346,.0642,1,.9812,.009,.0075,.9627,.8988,0,1e-4,.9127,.8359,0,0,.8883,.7853,0,0,.7564,.504,.9343,.6127,.7956,.4911,.8932,.6161,.8388,.581,.6217,.5473,.9429,.7604,.4287,.3566,1,.8783,.2925,.1608,1,.9216,.1633,.0297,1,.9158,0,6e-4,.9365,.8435,0,0,.8922,.7971,0,0,.8699,.7502,0,0,.8121,.4123,1,.4107,.8406,.4044,1,.4093,.8524,.4134,.8287,.4012,.8718,.4935,.5825,.3369,.9173,.6243,.3823,.1991,.9528,.7278,.2163,.0588,.9572,.7668,.0363,.001,.9059,.7449,0,0,.8676,.7128,0,0,.8391,.6911,0,0,.849,.3168,1,.233,.8523,.3193,1,.2323,.8635,.3245,.9866,.2264,.8536,.3418,.7488,.2167,.8557,.3954,.5289,.1694,.8726,.4779,.3352,.0833,.8788,.546,.1527,.0116,.8602,.5681,0,0,.8227,.5855,0,0,.8024,.5895,0,0,.8351,.2194,1,.0917,.8363,.2207,1,.0898,.8397,.2242,1,.0837,.8366,.2325,.8527,.083,.8259,.2485,.667,.0744,.8209,.2833,.4646,.0489,.815,.333,.2763,.0139,.7997,.3685,.0902,3e-4,.7724,.3932,0,0,.7446,.441,0,0,.7961,.0959,1,.0109,.7954,.0992,1,.0107,.8023,.0973,1,.0086,.7985,.1045,.9054,.0071,.7905,.1085,.7443,.0078,.778,.1256,.5723,.0048,.7654,.1475,.39,.0021,.7467,.1798,.2119,0,.7229,.2012,.0359,0,.6745,.2425,0,0,.7429,0,1,0,.7436,0,1,0,.7367,0,1,0,.7319,0,.9005,0,.7233,0,.7686,0,.7139,0,.6325,0,.7111,0,.4704,0,.6945,.0025,.308,0,.6726,.0212,.138,0,.6387,.0453,0,0,.6714,0,1,0,.6687,0,1,0,.6685,0,1,0,.6575,0,.8922,0,.6536,0,.7756,0,.6418,0,.6508,0,.6323,0,.509,0,.6188,0,.3695,0,.6021,0,.228,0,.5729,0,.0823,0,.6151,0,1,0,.6127,0,1,0,.6027,0,1,0,.5975,0,.932,0,.5855,0,.7966,0,.5747,0,.6768,0,.5622,0,.5457,0,.5432,0,.4053,0,.5264,0,.2766,0,.506,0,.1468,0,.5236,.8098,.7113,.7578,.5807,.8385,.5899,.723,.7287,.9813,.3955,.5643,.8563,1,.2722,.3767,.9135,1,.2027,.2129,.9366,1,.1087,.0833,.9431,1,.0012,.0101,.9083,.9248,0,0,.8762,.8521,0,0,.8566,.8037,0,0,.5233,.7082,.8317,.727,.5247,.7528,.6746,.7138,.7127,.8749,.4697,.5528,.8909,1,.3471,.3125,.9446,1,.24,.1426,.9599,1,.1084,.0359,.9467,.9998,0,.0025,.9056,.9001,0,0,.8711,.838,0,0,.8572,.7854,0,0,.6359,.548,.9563,.5917,.6337,.5523,.8828,.5966,.6892,.6225,.6122,.5317,.8186,.7781,.4193,.3494,.9121,.8888,.2816,.1584,.9602,.9439,.1126,.0204,.9361,.9256,0,0,.8882,.8447,0,0,.856,.7966,0,0,.8377,.753,0,0,.7277,.4351,1,.4042,.7407,.432,1,.4068,.7442,.4393,.8038,.4006,.7786,.5193,.5652,.3295,.8387,.6407,.3748,.1926,.8874,.7349,.2097,.0529,.8924,.7709,.032,.0018,.858,.7467,0,0,.8272,.7233,0,0,.8136,.6967,0,0,.7826,.3341,1,.2338,.7853,.3333,1,.2331,.7881,.3391,.968,.2315,.7838,.3564,.733,.2177,.797,.411,.5152,.1661,.8158,.4923,.3265,.0793,.8324,.5584,.1443,.0087,.8121,.5816,0,0,.7878,.5973,0,0,.777,.6019,0,0,.786,.2337,1,.0947,.7866,.2356,1,.0935,.794,.2365,1,.0892,.7882,.2408,.84,.0867,.7786,.2591,.6529,.0764,.7781,.2939,.4538,.05,.7714,.3458,.2706,.0135,.761,.3799,.0813,0,.7349,.4007,0,0,.7114,.448,0,0,.7632,.1079,1,.0116,.7628,.109,1,.0113,.7635,.111,1,.0099,.7659,.1113,.9006,.0078,.7539,.1229,.7356,.0084,.7432,.1339,.5638,.0056,.7288,.1625,.3809,.0026,.7135,.1888,.1994,0,.6876,.2145,.0287,0,.6434,.2513,0,0,.7136,0,1,0,.7159,0,1,0,.7118,0,1,0,.7055,0,.8971,0,.7011,0,.7648,0,.6892,0,.6268,0,.6846,0,.4642,0,.6698,.0126,.3029,0,.6423,.0335,.1307,0,.6089,.0591,0,0,.6482,0,1,0,.6436,0,1,0,.6439,0,.9976,0,.6368,0,.8876,0,.6335,0,.768,0,.6221,0,.6462,0,.6134,0,.5064,0,.5985,0,.3643,0,.5797,0,.2207,0,.5536,0,.074,0,.5946,0,1,0,.591,0,1,0,.5835,0,1,0,.5768,0,.9227,0,.5633,0,.7881,0,.5505,0,.6711,0,.5446,0,.5428,0,.5278,0,.4021,0,.5115,0,.2734,0,.4929,0,.1453,0,.3928,.9309,.8564,.6237,.4085,.9414,.6804,.6099,.5314,1,.4506,.505,.7062,1,.3091,.3328,.7981,1,.2189,.1772,.8415,1,.109,.0581,.8557,1,0,.0038,.8363,.9173,0,0,.8185,.8532,0,0,.8136,.8032,0,0,.3926,.8335,.9373,.6099,.3914,.86,.7587,.5969,.5208,.9052,.5042,.5014,.7095,.9938,.3603,.3041,.8163,1,.2391,.1297,.8533,1,.1035,.0267,.8464,.9973,0,.001,.8253,.899,0,0,.8145,.8364,0,0,.7999,.7938,0,0,.4805,.6401,1,.5316,.4643,.6578,.8868,.5349,.5124,.6937,.6226,.4883,.6608,.8025,.423,.3315,.7802,.8952,.2804,.147,.8409,.9398,.1161,.0171,.8327,.9166,0,0,.8123,.8496,0,0,.7991,.7982,0,0,.7923,.7593,0,0,.5991,.4869,1,.3854,.593,.4845,1,.3895,.5952,.4942,.7873,.3831,.6365,.562,.5515,.3126,.7242,.6716,.3636,.1788,.7841,.7475,.2033,.0483,.802,.776,.0202,7e-4,.7817,.756,0,0,.7737,.7264,0,0,.7679,.7035,0,0,.6792,.3636,1,.2325,.6802,.3638,1,.2323,.6747,.3671,.9278,.2351,.6742,.3856,.7107,.2174,.6972,.4382,.4946,.1601,.7298,.5132,.3124,.0724,.7516,.5748,.1318,.0064,.7416,.5918,0,0,.7332,.6099,0,0,.7343,.6136,0,0,.7114,.254,1,.0967,.7102,.2555,1,.0967,.7129,.2556,1,.0952,.7059,.2657,.8221,.0947,.7005,.2769,.6384,.0808,.7012,.3167,.4363,.0488,.7045,.3648,.2536,.0117,.6969,.3958,.0646,0,.6721,.4156,0,0,.6617,.454,0,0,.7086,.127,1,.0117,.7087,.1273,1,.0114,.7087,.1276,1,.0103,.7055,.1308,.8869,.0097,.6932,.1399,.7262,.0104,.6792,.1579,.548,.0074,.6742,.1807,.3657,.0017,.6585,.2084,.185,0,.6306,.2333,.0138,0,.5969,.2617,0,0,.6731,0,1,0,.6724,0,1,0,.6689,0,1,0,.6592,0,.8912,0,.6558,0,.7581,0,.6428,0,.6147,0,.6351,.0126,.4524,0,.6185,.0313,.2871,0,.5976,.0491,.1142,0,.5614,.0772,0,0,.6144,0,1,0,.6123,0,1,0,.603,0,.9827,0,.6011,0,.8682,0,.5946,0,.7618,0,.5834,0,.6393,0,.5668,0,.4938,0,.5603,0,.3559,0,.5419,0,.2119,0,.5129,0,.0629,0,.5582,0,1,0,.5549,0,1,0,.5497,0,1,0,.5426,0,.9012,0,.5346,0,.7836,0,.5246,0,.6637,0,.5101,0,.5294,0,.4908,0,.3919,0,.4747,0,.2644,0,.4595,0,.1342,0,.3137,1,1,.4733,.3189,1,.8233,.4638,.3868,1,.5467,.4106,.5429,1,.3574,.2797,.6666,1,.2407,.1393,.7286,1,.1057,.0307,.735,1,0,.0015,.7372,.9194,0,0,.7426,.8544,0,0,.7462,.8049,0,0,.3259,.9135,1,.4628,.3262,.9346,.8592,.4543,.3838,.9454,.588,.408,.5321,.9864,.3862,.2741,.6699,1,.2458,.1083,.7251,1,.0927,.0184,.7305,.9822,0,2e-4,.7309,.9012,0,0,.73,.8418,0,0,.7427,.7935,0,0,.3618,.7477,1,.4296,.3585,.7638,.9306,.4271,.388,.7798,.6696,.3984,.507,.8347,.442,.2873,.6342,.9005,.2877,.13,.7062,.9333,.1114,.0152,.7116,.9203,0,0,.7164,.85,0,0,.7268,.8,0,0,.7276,.7647,0,0,.4519,.5652,1,.3416,.4423,.5685,1,.3457,.4419,.582,.7818,.3366,.4928,.6298,.5572,.278,.5858,.7058,.3645,.1569,.6651,.7635,.1975,.0351,.6776,.7853,.0126,2e-4,.6885,.7637,0,0,.7031,.732,0,0,.7073,.7104,0,0,.5498,.4075,1,.2182,.5445,.4134,1,.2215,.5337,.4154,.9026,.2247,.5398,.4345,.6939,.2036,.5641,.4827,.4766,.1415,.6157,.5483,.2963,.0582,.6454,.5965,.1152,.0034,.6384,.6125,0,0,.6636,.6193,0,0,.6733,.6215,0,0,.6082,.2853,1,.0985,.6052,.2872,1,.099,.6033,.2876,.9985,.1003,.5881,.2934,.8012,.099,.5865,.3116,.6141,.079,.5981,.3473,.4135,.0422,.6092,.3881,.2359,.0082,.5998,.4165,.0474,0,.5852,.4314,0,0,.5864,.4558,0,0,.6267,.153,1,.0146,.6269,.1536,1,.0148,.6212,.1591,1,.0156,.6168,.1609,.8668,.015,.6037,.1683,.7062,.0124,.5948,.1835,.5296,.0088,.5846,.2129,.3441,.0028,.5714,.2348,.1614,0,.5475,.2539,0,0,.5249,.276,0,0,.607,.0028,1,0,.604,.003,1,0,.6012,.003,1,0,.5967,.0088,.8855,0,.5851,.0145,.7469,0,.5778,.0211,.6015,0,.5622,.0363,.4349,0,.555,.0528,.2686,0,.5246,.0748,.0949,0,.4898,.1075,0,0,.557,0,1,0,.554,0,1,0,.5556,0,.9704,0,.5461,0,.854,0,.5335,0,.748,0,.5282,0,.6233,0,.5141,0,.482,0,.5043,0,.3432,0,.4837,0,.1895,0,.4646,0,.0428,0,.5095,0,1,0,.507,0,1,0,.5047,0,.9931,0,.4953,0,.8844,0,.4804,0,.7672,0,.4725,0,.6466,0,.466,0,.5123,0,.4425,0,.3809,0,.4341,0,.2525,0,.4141,0,.1232,0,.2744,1,1,.3276,.2771,1,.9289,.322,.3076,1,.6518,.2983,.4032,1,.4154,.216,.521,1,.2548,.0952,.5899,1,.1005,.0148,.6089,1,0,0,.6354,.9153,0,0,.6536,.8588,0,0,.6715,.814,0,0,.278,.9672,1,.3214,.2835,.9827,.9637,.3121,.308,.9817,.6807,.292,.3991,.9886,.4399,.2125,.5121,1,.2605,.0852,.5823,1,.0832,.0063,.5957,.9741,0,1e-4,.6226,.9023,0,0,.6522,.8412,0,0,.6644,.8029,0,0,.2915,.8321,1,.3092,.2924,.8426,.9941,.3028,.3097,.8464,.7305,.2875,.3795,.8693,.4917,.2195,.4864,.9075,.3067,.1018,.5593,.9289,.1127,.0095,.579,.9101,0,0,.6139,.8517,0,0,.6366,.8057,0,0,.6553,.7739,0,0,.3388,.6529,1,.2664,.3344,.6586,1,.2654,.3357,.6702,.8018,.2588,.3749,.6982,.5799,.2152,.4551,.7464,.3722,.1185,.5249,.783,.1979,.0235,.5441,.7975,0,0,.5803,.7682,0,0,.6132,.7437,0,0,.6397,.7187,0,0,.4144,.4737,1,.1889,.406,.4761,1,.1912,.4003,.4831,.8798,.1888,.4038,.5049,.6886,.1694,.438,.5429,.4731,.1153,.4899,.5936,.2893,.0398,.5216,.6227,.099,.0016,.5174,.6307,0,0,.5619,.6237,0,0,.5881,.6192,0,0,.4782,.3284,1,.0925,.4748,.3285,1,.0943,.4703,.3299,.9508,.0972,.4619,.3412,.7782,.0906,.4622,.3593,.5875,.0716,.4706,.3874,.3871,.031,.4905,.4232,.2084,.0031,.4873,.4428,.0192,0,.4775,.4527,0,0,.5036,.4645,0,0,.5174,.1933,1,.0187,.5175,.1929,1,.019,.5122,.1969,.9895,.0194,.5048,.199,.8362,.0186,.4917,.2083,.6837,.0155,.4812,.2226,.5026,.0084,.4776,.2411,.3179,.0016,.4671,.2627,.1339,0,.4456,.2821,0,0,.4336,.2985,0,0,.5219,.0369,1,0,.5211,.0365,1,0,.5164,.0361,.9928,0,.5051,.0417,.8566,0,.4959,.0461,.7324,0,.4841,.0562,.5795,0,.4697,.0715,.4117,0,.4546,.0909,.2404,0,.4329,.1095,.0677,0,.4078,.1379,0,0,.489,0,1,0,.4874,0,1,0,.4815,0,.9413,0,.474,0,.8389,0,.466,0,.7325,0,.4551,0,.6035,0,.4428,0,.4661,0,.4307,0,.3226,0,.4167,0,.1676,0,.391,0,.0206,0,.447,0,1,0,.4428,0,1,0,.4372,0,.9575,0,.4331,0,.8537,0,.4216,0,.7437,0,.4118,0,.6299,0,.4014,0,.5006,0,.3852,0,.3649,0,.3718,0,.2346,0,.3521,0,.1041,0,.2356,1,1,.1977,.2375,1,.9964,.1944,.2509,1,.7373,.1859,.3016,1,.4867,.1346,.3788,1,.2757,.053,.4353,1,.0751,.0036,.4679,.9829,0,0,.5176,.911,0,0,.5557,.8626,0,0,.5835,.8201,0,0,.2376,.9791,1,.1994,.241,.985,1,.1911,.2501,.9855,.758,.1827,.2933,.9955,.5092,.1362,.3705,1,.2915,.0523,.4224,1,.0745,.0017,.456,.9598,0,0,.5092,.8949,0,0,.546,.851,0,0,.5832,.807,0,0,.2428,.8734,1,.1892,.2449,.8873,1,.1813,.2484,.8891,.7869,.1743,.2865,.8979,.5484,.136,.3596,.9102,.3326,.0622,.4106,.9259,.1239,.0039,.4338,.9056,0,0,.4983,.8524,0,0,.5426,.8125,0,0,.573,.7804,0,0,.2616,.7229,1,.1721,.2607,.7283,1,.1684,.2628,.738,.8211,.1631,.2833,.7568,.6146,.1351,.336,.7794,.3977,.0727,.3928,.8002,.1999,.0099,.403,.8038,0,0,.4608,.7797,0,0,.5189,.7516,0,0,.5576,.7273,0,0,.303,.5471,1,.1332,.2958,.5539,1,.1322,.2912,.5609,.8726,.1295,.2999,.5779,.6879,.1131,.325,.6005,.481,.074,.3663,.6358,.286,.0191,.3853,.6543,.0836,3e-4,.3915,.653,0,0,.4527,.6307,0,0,.5,.6145,0,0,.3535,.3827,1,.0752,.3475,.3848,1,.0766,.3423,.3904,.9281,.0765,.3331,.4014,.759,.0698,.3362,.4178,.5775,.0489,.3526,.4416,.3818,.018,.3669,.4679,.1894,3e-4,.3622,.475,.0046,0,.3698,.4765,0,0,.4168,.4707,0,0,.3961,.2377,1,.018,.394,.2385,1,.019,.3862,.2407,.9519,.0188,.3794,.2484,.8108,.0182,.3676,.2545,.6583,.0131,.3626,.2686,.4759,.0052,.3483,.279,.2863,0,.3452,.3023,.1046,0,.3383,.3138,0,0,.3349,.3243,0,0,.4138,.0832,1,0,.4128,.0828,1,0,.403,.0869,.9634,0,.398,.0906,.835,0,.3864,.0947,.709,0,.3743,.1046,.5563,0,.3601,.113,.3821,0,.3461,.1265,.2092,0,.3293,.1458,.0382,0,.3117,.1713,0,0,.4015,0,1,0,.4005,0,.9806,0,.3974,0,.9052,0,.3865,0,.8146,0,.3784,0,.7183,0,.3675,0,.5942,0,.3587,0,.4443,0,.3438,0,.2997,0,.3265,0,.1417,0,.3072,.0125,0,0,.3763,0,1,0,.3727,0,1,0,.3662,0,.93,0,.3597,0,.8277,0,.3483,0,.7249,0,.3357,0,.6068,0,.3269,0,.473,0,.3161,0,.3445,0,.2997,0,.2142,0,.2812,0,.0787,0,.1798,1,1,.0938,.181,1,1,.0903,.1845,1,.7894,.0861,.2115,1,.5402,.0594,.2579,1,.3057,.0185,.2774,1,.0677,1e-4,.3256,.9598,0,0,.3928,.9075,0,0,.4521,.8635,0,0,.4926,.8257,0,0,.1811,.9832,1,.0877,.1812,.9921,1,.0828,.1842,.9876,.8022,.0815,.2089,.9916,.5605,.0588,.2519,.9889,.3224,.0193,.2745,.9831,.089,4e-4,.3128,.9413,0,0,.3943,0,0,.4459,.8484,0,0,.49,.8155,0,0,.1842,.8915,1,.0889,.1871,.9021,1,.0826,.186,.9064,.8239,.0797,.2038,.9105,.5965,.0591,.2407,.9175,.3599,.0195,.2727,.9144,.1331,1e-4,.2918,.8947,0,0,.3784,.8495,0,0,.4393,.8145,0,0,.4801,.7848,0,0,.1893,.7731,1,.0803,.1899,.779,1,.0761,.1883,.7848,.8434,.0712,.2,.7937,.6398,.0574,.2314,.8062,.4171,.0253,.2675,.8092,.2047,.0016,.2648,.8119,0,0,.3424,.7811,0,0,.4136,.7509,0,0,.4589,.7248,0,0,.2077,.6167,1,.0629,.2033,.6213,1,.0608,.201,.6309,.8729,.0584,.2066,.6375,.6976,.0496,.2214,.6549,.4903,.0257,.2468,.6718,.2868,.0054,.2557,.6752,.0734,0,.2793,.6639,0,0,.3477,.636,0,0,.399,.6036,0,0,.2371,.4439,1,.0389,.2342,.4504,1,.0381,.2304,.4546,.8961,.0358,.2233,.4645,.7462,.0317,.2265,.4766,.5664,.0192,.2389,.4958,.3758,.006,.2412,.5084,.1699,0,.2384,.5123,0,0,.2799,.4942,0,0,.3284,.4766,0,0,.2724,.2915,1,.0114,.2707,.2923,1,.0118,.2656,.2956,.9239,.0115,.2552,.303,.7898,.0103,.2481,.3086,.6338,.0059,.2427,.3218,.4532,9e-4,.2347,.3316,.2707,0,.2277,.344,.0791,0,.2317,.3491,0,0,.2578,.3452,0,0,.294,.1334,1,0,.293,.1356,1,0,.288,.1408,.9295,0,.2775,.1432,.8069,0,.2699,.1474,.684,0,.2537,.1563,.5238,0,.2399,.1614,.3555,0,.2205,.1718,.1745,0,.212,.192,.014,0,.212,.2099,0,0,.3011,0,.9996,0,.2969,0,.9647,0,.2924,0,.8929,0,.2863,0,.8143,0,.2761,0,.7028,0,.2675,.0011,.5775,0,.2541,.0089,.4329,0,.2377,.016,.2739,0,.2225,.0259,.1098,0,.2042,.0512,0,0,.288,0,.9766,0,.2864,0,.9423,0,.2815,0,.8783,0,.2756,0,.7908,0,.2673,0,.6935,0,.252,0,.5817,0,.2428,0,.4541,0,.2284,0,.3226,0,.2117,0,.1849,0,.1919,0,.053,0,.1032,1,1,.019,.104,1,1,.0159,.1029,1,.8122,.0139,.1104,1,.5743,.0092,.1308,.9991,.3284,.001,.1322,.9907,.0729,0,.1863,.941,0,0,.273,.8913,0,0,.3426,.8578,0,0,.398,.8264,0,0,.1031,.9708,1,.0179,.1039,.9802,1,.0153,.1025,.9835,.822,.0124,.1102,.9797,.5876,.0081,.1289,.97,.3442,3e-4,.1303,.9646,.0885,0,.1773,.9255,0,0,.2681,.8759,0,0,.3423,.843,0,0,.3896,.818,0,0,.1038,.9043,1,.0173,.1029,.9094,1,.0156,.101,.9138,.8289,.0143,.1076,.9161,.619,.0088,.1265,.9089,.3794,.0026,.1283,.9077,.1297,0,.1565,.8868,0,0,.2545,.8409,0,0,.3261,.8163,0,0,.3818,.7844,0,0,.1051,.8011,1,.0143,.1046,.8085,1,.0126,.105,.8129,.847,.0132,.111,.8123,.6556,.0097,.1203,.8174,.4269,.0027,.1252,.8191,.1976,0,.1315,.8142,0,0,.2201,.7788,0,0,.2989,.7436,0,0,.3517,.7102,0,0,.1116,.6646,1,.0115,.1093,.6696,1,.0099,.1092,.6742,.8569,.0102,.1104,.6809,.697,.007,.115,.6892,.4884,.0033,.1215,.6934,.2765,2e-4,.1254,.6915,.0656,0,.167,.6753,0,0,.2417,.6364,0,0,.3014,.6039,0,0,.1278,.5042,1,.0072,.1263,.5064,1,.007,.1232,.5098,.8746,.0064,.1132,.5209,.7312,.0051,.1155,.5283,.5606,.0024,.1203,.5327,.3614,1e-4,.1113,.5443,.1559,0,.1197,.546,0,0,.1868,.5102,0,0,.2362,.488,0,0,.1486,.343,1,.0019,.1463,.3452,.9936,.0019,.1431,.3477,.8939,.0017,.1319,.3547,.7615,.0015,.1266,.3615,.616,6e-4,.1225,.3683,.4332,0,.1112,.3799,.2521,0,.1049,.3892,.0563,0,.1313,.3815,0,0,.181,.3611,0,0,.1662,.1847,1,0,.1644,.1854,.9653,0,.1604,.1878,.8908,0,.1546,.1957,.7852,0,.1442,.2001,.6581,0,.1313,.2082,.5022,0,.1198,.216,.3299,0,.1051,.2283,.1565,0,.1017,.2382,0,0,.1289,.2358,0,0,.181,.0267,.9724,0,.1798,.0291,.9417,0,.177,.0324,.8756,0,.1669,.036,.7932,0,.1603,.0388,.688,0,.1479,.0453,.5508,0,.1338,.0547,.401,0,.12,.0608,.2433,0,.0964,.0737,.0742,0,.0953,.0941,0,0,.1931,0,.9284,0,.1912,0,.8978,0,.1862,0,.8364,0,.1785,0,.7585,0,.1669,0,.67,0,.1592,0,.5462,0,.1455,0,.4228,0,.13,0,.2957,0,.1107,0,.159,0,.0979,0,.0222,0,0,.9911,1,6e-4,0,.9961,.9646,0,0,.9966,.786,3e-4,0,.9854,.5724,0,0,.9791,.3242,0,.0016,.9646,.078,0,.0517,.9279,0,0,.147,.8764,0,0,.2327,.8472,0,0,.291,.8211,0,0,0,.9643,1,5e-4,0,.9666,.9648,0,0,.9639,.7975,2e-4,0,.9583,.5818,0,0,.9562,.3372,0,7e-4,.945,.0929,0,.0448,.911,0,0,.1436,.8664,0,0,.2278,.8362,0,0,.2898,.8081,0,0,0,.9038,1,0,0,.9046,.9776,0,0,.9031,.8012,0,0,.9038,.6125,0,0,.9036,.3683,0,.0017,.8925,.1374,0,.0237,.8776,0,0,.1265,.8353,0,0,.2147,.8028,0,0,.2705,.7705,0,0,0,.8132,1,0,0,.8143,.9587,0,0,.8142,.8187,0,0,.8169,.6394,0,0,.8197,.419,0,3e-4,.8147,.1967,0,.0123,.8141,0,0,.0967,.7786,0,0,.1814,.7347,0,0,.2391,.7045,0,0,0,.6897,1,0,0,.692,.9619,0,0,.6984,.83,0,0,.7019,.6733,0,0,.7045,.4747,0,9e-4,.7071,.2694,0,0,.7111,.0548,0,.0576,.6835,0,0,.1375,.6393,0,0,.2009,.6013,0,0,.0063,.5438,1,0,.0032,.546,.9485,0,.0026,.5485,.8408,0,.0013,.5558,.7051,0,5e-4,.5627,.5395,0,0,.5677,.3432,0,0,.5745,.1428,0,.0093,.5745,0,0,.0917,.5265,0,0,.1486,.4917,0,0,.0194,.3866,.9857,0,.018,.3872,.9437,0,.0163,.3924,.8468,0,.0123,.4005,.7307,0,.0073,.4035,.5867,0,7e-4,.4155,.4089,0,0,.4186,.2299,0,0,.4312,.0418,0,.0401,.4101,0,0,.1031,.3772,0,0,.0358,.2371,.9655,0,.0347,.2382,.9313,0,.0332,.2403,.8472,0,.0259,.2437,.7602,0,.019,.2518,.6265,0,.012,.2568,.4759,0,.0019,.2691,.3078,0,0,.2772,.1319,0,.0014,.2874,0,0,.0541,.2574,0,0,.055,.078,.9361,0,.0532,.0795,.9029,0,.0503,.0842,.841,0,.0428,.0887,.762,0,.0368,.0939,.6568,0,.0277,.1032,.5253,0,.0167,.1101,.3773,0,.0049,.1229,.2172,0,0,.1316,.0548,0,.0162,.1304,0,0,.0852,0,.8742,0,.0821,0,.8522,0,.0772,0,.7982,0,.0712,0,.7271,0,.0609,0,.6409,0,.0525,0,.5299,0,.04,0,.4048,0,.0242,0,.2762,0,.0145,0,.1309,0,0,0,0,0],x=Math.round(Math.pow(E.length/3,1/4)),c=[0,0,0,0];
ICC.U.applyLUT3to4Float(E,x,K,c);return c};W.KZ=function(K,E,x){var c=K.length,J=.3,i=.59,P=.11;if(x){J=x[0];
i=x[1];P=x[2]}for(var y=0;y<c;y+=4)E[y>>2]=~~(K[y+0]*J+K[y+1]*i+K[y+2]*P+.5)};W.eE=function(K,E){var x=E.length;
for(var y=0;y<x;y+=4){var c=K[y>>>2];E[y]=c;E[y+1]=c;E[y+2]=c}};W.se=function(K,E){var x=K.Cc,c=K.o,J=K.J,i=K.k,P=Math.min(K.Cc.length,E.buffer.byteLength>>>2),_=4*Math.floor(P/4),a=new Uint32Array(E.buffer),j=new Uint32Array(x.buffer),e=new Uint32Array(c.buffer),d=new Uint32Array(J.buffer),I=new Uint32Array(i.buffer);
for(var y=0;y<_;y+=4){var v=j[y>>2],n=I[y>>2],C=d[y>>2],T=e[y>>2];a[y]=v<<24|(n&255)<<16|(C&255)<<8|T&255;
a[y+1]=(v&65280)<<16|(n&65280)<<8|C&65280|(T&65280)>>>8;a[y+2]=(v&16711680)<<8|n&16711680|(C&16711680)>>>8|(T&16711680)>>>16;
a[y+3]=v&4278190080|(n&4278190080)>>>8|(C&4278190080)>>>16|(T&4278190080)>>>24}for(var y=_;y<P;y++)a[y]=x[y]<<24|i[y]<<16|J[y]<<8|c[y]};
W.bT=function(K,E){var x=E.Cc,c=E.o,J=E.J,i=E.k,P=Math.min(E.Cc.length,K.buffer.byteLength>>>2),_=4*Math.floor(P/4),a=new Uint32Array(K.buffer),j=new Uint32Array(x.buffer),e=new Uint32Array(c.buffer),d=new Uint32Array(J.buffer),I=new Uint32Array(i.buffer);
for(var y=0;y<_;y+=4){var v=a[y],n=a[y+1],C=a[y+2],T=a[y+3];e[y>>2]=v&255|(n&255)<<8|(C&255)<<16|T<<24;
d[y>>2]=(v&65280)>>8|n&65280|(C&65280)<<8|(T&65280)<<16;I[y>>2]=(v&16711680)>>16|(n&16711680)>>8|C&16711680|(T&16711680)<<8;
j[y>>2]=v>>>24|n>>>24<<8|C>>>24<<16|T&4278190080}for(var y=_;y<P;y++){var o=a[y];c[y]=o>>0&255;J[y]=o>>8&255;
i[y]=o>>16&255;x[y]=o>>24&255}};W.Bp=function(K,E,x){var c=new Uint8Array(K.buffer),J=Math.min(c.length/4,E.length);
for(var y=0;y<J;y++){E[y]=c[(y<<2)+x]}};W.Mz=function(K,E,x){var c=new Uint8Array(E.buffer),J=new Uint32Array(K.buffer),i=Math.min(c.length/4,K.length),y=0;
while(y+4<i){var P=J[y>>>2];c[(y<<2)+x]=P&255;c[(y<<2)+x+4]=P>>>8&255;c[(y<<2)+x+8]=P>>>16&255;c[(y<<2)+x+12]=P>>>24;
y+=4}while(y<i){c[(y<<2)+x]=K[y];y++}};W._m=function(K,E,x){if(x==null)x=0;var c=new Uint32Array(K.buffer),J=c.length;
for(var y=0;y<J;y++)c[y]=c[y]&x|E};W.aha=function(K,E,x,c,J){if(J==null)J=0;var i=new Uint32Array(K.buffer);
x=x.Sl(E);var P=x.x-E.x,_=x.y-E.y,a=x.b,j=x.n,e=E.b;for(var d=0;d<j;d++){var y=(_+d)*e+P;for(var I=0;
I<a;I++){i[y]=i[y]&J|c;y++}}};W.dq=function(K,E){var x=Math.min(K.buffer.byteLength,E.buffer.byteLength),c=x>>>2,K=new Uint32Array(K.buffer,0,c),E=new Uint32Array(E.buffer,0,c);
E.set(K)};W.ac=function(K,E){var x=K.buffer.byteLength,c=E.buffer.byteLength,J=new Uint32Array(K.buffer,0,x>>2),i=new Uint32Array(E.buffer,0,c>>2);
if(x!=c)return!1;var P=J.length;for(var y=0;y<P;y++)if(i[y]!=J[y])return!1;return!0};W.Pa=function(K){var E=new Uint32Array(K.buffer),x=E.length;
for(var y=0;y<x;y++)E[y]=~E[y]};W.a9R=function(K){var E=K.length;for(var y=0;y<E;y+=4){K[y]=~K[y];K[y+1]=~K[y+1];
K[y+2]=~K[y+2]}};W.aio=function(K){var E=K.length;for(var y=3;y<E;y+=4)K[y]=~K[y]};W.awJ=function(K){return K+(K%4==0?0:4-K%4)};
W.Q=function(K,E){if(E==null)E=!1;if(!E)K=W.awJ(K);try{var x=new Uint8Array(K)}catch(hg){alert("Not enough RAM! (need "+Math.round(K/(1<<20))+" MB)",7e3);
throw"low_ram"}return x};W.gX=function(K){var E=K.length,x=K[E-2],c=K[E-1];while(c.b>=2&&c.n>=2){var J=W.D1(x,c);
K.push(J.Ly,J.rect);x=J.Ly;c=J.rect}};W.Oi=function(K){var E=K.length,x=K[E-2],c=K[E-1];while(c.b>=2&&c.n>=2){var J=W.WU(x,c);
K.push(J.Ly,J.rect);x=J.Ly;c=J.rect}};W.D1=function(K,E,x){var c=E.b,J=E.n,i=c>>1,P=J>>1,_=new cS(E.x,E.y,i,P),a=x&&x.length==i*P*4?x:W.Q(i*P*4),j=new Uint32Array(K.buffer),e=new Uint32Array(a.buffer);
for(var d=0;d<P;d++)for(var I=0;I<i;I++){var v=d*i+I,n=(d<<1)*c+(I<<1),C=j[n],T=j[n+1],o=j[n+c],s=j[n+c+1],Q=C>>>24,X=T>>>24,B=o>>>24,M=s>>>24,S=Q+X+B+M;
if(S==1020){var f=(C>>>0&255)+(T>>>0&255)+(o>>>0&255)+(s>>>0&255)+2>>>2,F=(C>>>8&255)+(T>>>8&255)+(o>>>8&255)+(s>>>8&255)+2>>>2,G=(C>>>16&255)+(T>>>16&255)+(o>>>16&255)+(s>>>16&255)+2>>>2;
e[v]=255<<24|G<<16|F<<8|f}else if(S==0)e[v]=0;else{var f=(C>>>0&255)*Q+(T>>>0&255)*X+(o>>>0&255)*B+(s>>>0&255)*M,F=(C>>>8&255)*Q+(T>>>8&255)*X+(o>>>8&255)*B+(s>>>8&255)*M,G=(C>>>16&255)*Q+(T>>>16&255)*X+(o>>>16&255)*B+(s>>>16&255)*M,D=1/S;
f=~~(f*D+.5);F=~~(F*D+.5);G=~~(G*D+.5);e[v]=S+2>>>2<<24|G<<16|F<<8|f}}return{rect:_,Ly:a}};W.tI=function(K,E,x){var c=E.b,J=E.n,i=c>>1,P=J>>1,_=new cS(E.x,E.y,i,P),a=x&&x.length==i*P*4?x:W.Q(i*P*4),j=new Uint32Array(K.buffer),e=new Uint32Array(a.buffer);
for(var d=0;d<P;d++)for(var I=0;I<i;I++){var v=d*i+I,n=(d<<1)*c+(I<<1),C=j[n],T=j[n+1],o=j[n+c],s=j[n+c+1],Q=2+(C>>>0&255)+(T>>>0&255)+(o>>>0&255)+(s>>>0&255)>>>2,X=2+(C>>>8&255)+(T>>>8&255)+(o>>>8&255)+(s>>>8&255)>>>2,B=2+(C>>>16&255)+(T>>>16&255)+(o>>>16&255)+(s>>>16&255)>>>2,M=2+(C>>>24&255)+(T>>>24&255)+(o>>>24&255)+(s>>>24&255)>>>2;
e[v]=M<<24|B<<16|X<<8|Q}return{rect:_,Ly:a}};W.aqp=function(K,E,x){var c=E.b,J=E.n,i=2*Math.floor(c/3),P=2*Math.floor(J/3),_=new cS(E.x,E.y,i,P),a=x&&x.length==i*P*4?x:W.Q(i*P*4),j=new Uint32Array(K.buffer),e=new Uint32Array(a.buffer);
for(var d=0;d<P;d+=2)for(var I=0;I<i;I+=2){var v=d*i+I,n=(d*3>>>1)*c+(I*3>>>1),C=j[n],T=j[n+1],o=j[n+2],s=j[n+c],Q=j[n+1+c],X=j[n+2+c],B=j[n+c+c],M=j[n+1+c+c],S=j[n+2+c+c],f=C>>>24<<2,F=(C>>>16&255)*f,G=(C>>>8&255)*f,D=(C&255)*f,b=T>>>24<<1,H=(T>>>16&255)*b,q=(T>>>8&255)*b,O=(T&255)*b,w=o>>>24<<2,V=(o>>>16&255)*w,t=(o>>>8&255)*w,m=(o&255)*w,g=s>>>24<<1,Y=(s>>>16&255)*g,A=(s>>>8&255)*g,k=(s&255)*g,z=Q>>>24,p=(Q>>>16&255)*z,L=(Q>>>8&255)*z,N=(Q&255)*z,gC=X>>>24<<1,r=(X>>>16&255)*gC,h=(X>>>8&255)*gC,l=(X&255)*gC,g5=B>>>24<<2,fm=(B>>>16&255)*g5,dC=(B>>>8&255)*g5,ex=(B&255)*g5,cR=M>>>24<<1,d0=(M>>>16&255)*cR,hN=(M>>>8&255)*cR,ey=(M&255)*cR,cr=S>>>24<<2,ik=(S>>>16&255)*cr,hd=(S>>>8&255)*cr,df=(S&255)*cr,bQ=f+b+g+z,is=w+b+gC+z,bi=g5+cR+g+z,jX=cr+cR+gC+z,eS=bQ==0?0:1/bQ,bN=is==0?0:1/is,h9=bi==0?0:1/bi,bz=jX==0?0:1/jX,i0=0,hp=0,hY=0,ji=0;
i0=~~(.5+(D+O+k+N)*eS);hp=~~(.5+(G+q+A+L)*eS);hY=~~(.5+(F+H+Y+p)*eS);ji=~~(.5+bQ*(1/9));e[v]=ji<<24|hY<<16|hp<<8|i0;
i0=~~(.5+(m+O+l+N)*bN);hp=~~(.5+(t+q+h+L)*bN);hY=~~(.5+(V+H+r+p)*bN);ji=~~(.5+is*(1/9));e[v+1]=ji<<24|hY<<16|hp<<8|i0;
i0=~~(.5+(ex+ey+k+N)*h9);hp=~~(.5+(dC+hN+A+L)*h9);hY=~~(.5+(fm+d0+Y+p)*h9);ji=~~(.5+bi*(1/9));e[v+i]=ji<<24|hY<<16|hp<<8|i0;
i0=~~(.5+(df+ey+l+N)*bz);hp=~~(.5+(hd+hN+h+L)*bz);hY=~~(.5+(ik+d0+r+p)*bz);ji=~~(.5+jX*(1/9));e[v+i+1]=ji<<24|hY<<16|hp<<8|i0}return{rect:_,Ly:a}};
W.a1Y=function(K,E,x){var c=E.b,J=E.n,i=2*Math.floor(c/3),P=2*Math.floor(J/3),_=new cS(E.x,E.y,i,P),a=x&&x.length==i*P*4?x:W.Q(i*P*4),j=new Uint32Array(K.buffer),e=new Uint32Array(a.buffer);
for(var d=0;d<P;d+=2)for(var I=0;I<i;I+=2){var v=d*i+I,n=(d*3>>>1)*c+(I*3>>>1),C=j[n],T=j[n+1],o=j[n+2],s=j[n+c],Q=j[n+1+c],X=j[n+2+c],B=j[n+c+c],M=j[n+1+c+c],S=j[n+2+c+c],f=(C>>>16&255)<<2,F=(C>>>8&255)<<2,G=(C&255)<<2,D=(T>>>16&255)<<1,b=(T>>>8&255)<<1,H=(T&255)<<1,q=(o>>>16&255)<<2,O=(o>>>8&255)<<2,w=(o&255)<<2,V=(s>>>16&255)<<1,t=(s>>>8&255)<<1,m=(s&255)<<1,g=Q>>>16&255,Y=Q>>>8&255,A=Q&255,k=(X>>>16&255)<<1,z=(X>>>8&255)<<1,p=(X&255)<<1,L=(B>>>16&255)<<2,N=(B>>>8&255)<<2,gC=(B&255)<<2,r=(M>>>16&255)<<1,h=(M>>>8&255)<<1,l=(M&255)<<1,g5=(S>>>16&255)<<2,fm=(S>>>8&255)<<2,dC=(S&255)<<2,ex=0,cR=0,d0=0;
ex=~~(.5+(G+H+m+A)*(1/9));cR=~~(.5+(F+b+t+Y)*(1/9));d0=~~(.5+(f+D+V+g)*(1/9));e[v]=255<<24|d0<<16|cR<<8|ex;
ex=~~(.5+(w+H+p+A)*(1/9));cR=~~(.5+(O+b+z+Y)*(1/9));d0=~~(.5+(q+D+k+g)*(1/9));e[v+1]=255<<24|d0<<16|cR<<8|ex;
ex=~~(.5+(gC+l+m+A)*(1/9));cR=~~(.5+(N+h+t+Y)*(1/9));d0=~~(.5+(L+r+V+g)*(1/9));e[v+i]=255<<24|d0<<16|cR<<8|ex;
ex=~~(.5+(dC+l+p+A)*(1/9));cR=~~(.5+(fm+h+z+Y)*(1/9));d0=~~(.5+(g5+r+k+g)*(1/9));e[v+i+1]=255<<24|d0<<16|cR<<8|ex}return{rect:_,Ly:a}};
W.m4=function(K){var E=255,x=K.length;x-=x&31;for(var y=3;y<x;y+=32)E=E&K[y]&K[y+4]&K[y+8]&K[y+12]&K[y+16]&K[y+20]&K[y+24]&K[y+28];
return E!=255};W.aho=function(K,E,x,c){var J=W.D1,i=W.aqp,_=0;if(!W.m4(K)){J=W.tI;i=W.a1Y}var P={Ly:K,rect:E},a=x;
while(a<.499){_++;a*=2}for(var y=0;y<_;y++)P=J(P.Ly,P.rect,c);if(a<.5001)P=J(P.Ly,P.rect,c);else P=i(P.Ly,P.rect,c);
return P};W.a7Y=function(K,E,x,c){var J=W.WU,i=W.rj,P={Ly:K,rect:E},_=0,a=x;while(a<.499){_++;a*=2}for(var y=0;
y<_;y++)P=J(P.Ly,P.rect,c);if(a<.5001)P=J(P.Ly,P.rect,c);else P=i(P.Ly,P.rect,c);return P};W.WU=function(K,E,x){var c=E.b,J=E.n,i=c>>1,P=J>>1,_=new cS(E.x,E.y,i,P);
if(K==null)return{rect:_};var a=x&&x.length>=i*P?x:W.Q(i*P);for(var j=0;j<P;j++){var e=j*i;for(var d=0;
d<i;d++){var I=(j<<1)*c+(d<<1);a[e+d]=2+K[I]+K[I+1]+K[I+c]+K[I+c+1]>>>2}}return{rect:_,Ly:a}};W.rj=function(K,E,x){var c=E.b,J=E.n,i=2*Math.floor(c/3),P=2*Math.floor(J/3),_=new cS(E.x,E.y,i,P);
if(K==null)return{rect:_};var a=x&&x.length>=i*P?x:W.Q(i*P);for(var j=0;j<P;j+=2)for(var e=0;e<i;e+=2){var d=j*i+e,I=(j*3>>>1)*c+(e*3>>>1),v=K[I]<<2,n=K[I+1]<<1,C=K[I+2]<<2,T=K[I+c]<<1,o=K[I+1+c],s=K[I+2+c]<<1,Q=K[I+c+c]<<2,X=K[I+1+c+c]<<1,B=K[I+2+c+c]<<2;
a[d]=~~(.5+(v+n+T+o)*(1/9));a[d+1]=~~(.5+(C+n+s+o)*(1/9));a[d+i]=~~(.5+(Q+X+T+o)*(1/9));a[d+i+1]=~~(.5+(B+X+s+o)*(1/9))}return{rect:_,Ly:a}};
W.XT=function(K,E,x,c,J){var i=E.Sl(c);if(J)i=i.Sl(J);var P=Math.max(0,i.x-E.x),_=Math.max(0,i.x-c.x),a=Math.max(0,i.y-E.y),j=Math.max(0,i.y-c.y),e=i.b,d=i.n;
for(var y=0;y<d;y++){var I=(a+y)*E.b+P,v=(j+y)*c.b+_;x.set(new Uint8Array(K.buffer,I,e),v)}};W.Pj=function(K,E,x,c){if(E.ac(c)){W.Mz(K,x,3);
return}var J=E.Sl(c),i=Math.max(0,J.x-E.x),P=Math.max(0,J.x-c.x),_=Math.max(0,J.y-E.y),a=Math.max(0,J.y-c.y),j=J.b,e=J.n;
for(var y=0;y<e;y++){var d=(_+y)*E.b+i,I=(a+y)*c.b+P;for(var v=0;v<j;v++)x[(I+v<<2)+3]=K[d+v]}};W.Jx=function(K,E,x,c){var J=E.Sl(c),i=Math.max(0,J.x-E.x),P=Math.max(0,J.x-c.x),_=Math.max(0,J.y-E.y),a=Math.max(0,J.y-c.y),j=J.b,e=J.n;
for(var y=0;y<e;y++){var d=(_+y)*E.b+i,I=(a+y)*c.b+P;for(var v=0;v<j;v++)x[I+v]=K[(d+v<<2)+3]}};W.UL=function(K,E,x,c,J){if(E.ac(c)&&(J==null||J.ac(c))){W.dq(K,x);
return}K=new Uint32Array(K.buffer),x=new Uint32Array(x.buffer);var i=E.Sl(c);if(J)i=i.Sl(J);var P=Math.max(0,i.x-E.x),_=Math.max(0,i.x-c.x),a=Math.max(0,i.y-E.y),j=Math.max(0,i.y-c.y),e=i.b,d=i.n,I=e&3,v=I==0?e:e-I;
for(var y=0;y<d;y++){var n=(a+y)*E.b+P,C=(j+y)*c.b+_;x.set(new Uint32Array(K.buffer,n*4,e),C)}};W.LC=function(K,E,x,c){var J=E.Sl(c),i=Math.max(0,J.x-E.x),P=Math.max(0,J.x-c.x),_=Math.max(0,J.y-E.y),a=Math.max(0,J.y-c.y),j=J.b,e=J.n,d=K.Cc,I=K.o,v=K.J,n=K.k,C=x.Cc,T=x.o,o=x.J,s=x.k;
for(var y=0;y<e;y++){var Q=(_+y)*E.b+i,X=(a+y)*c.b+P;for(var B=0;B<j;B++){C[X+B]=d[Q+B];T[X+B]=I[Q+B];
o[X+B]=v[Q+B];s[X+B]=n[Q+B]}}};W.X5=function(K){var E=K.length;for(var y=0;y<E;y+=4){var x=K[y+3];if(x==255)continue;
K[y]=~~(K[y]*x*(1/255)+.5);K[y+1]=~~(K[y+1]*x*(1/255)+.5);K[y+2]=~~(K[y+2]*x*(1/255)+.5)}};W.OD=function(K){var E=K.length;
for(var y=0;y<E;y+=4){var x=K[y+3];if(x==0||x==255)continue;var c=255/x;K[y]=~~(K[y]*c+.5);K[y+1]=~~(K[y+1]*c+.5);
K[y+2]=~~(K[y+2]*c+.5)}};W.SN=function(K,E){for(var y=0;y<K.length;y++)if(K[y]!=E)return!1;return!0};
W.lg=function(K){return K+1+(K>>>8)>>>8};W.round=function(K,E){if(E==null)E=128;var x=K.length;for(var y=0;
y<x;y++)K[y]=K[y]<E?0:255};W.mz=function(K,E){var x=K.length;for(var y=0;y<x;y++)K[y]=Math.round(K[y]*E)};
W.iO=function(K,E){var x=new Uint32Array(K.buffer),c=new Uint32Array(E.buffer),J=x.length;for(var y=0;
y<J;y++){var i=x[y],P=c[y];c[y]=W.lg((i>>>24)*(P>>>24))<<24|W.lg((i>>>16&255)*(P>>>16&255))<<16|W.lg((i>>>8&255)*(P>>>8&255))<<8|W.lg((i&255)*(P&255))}};
W.Z4=function(K,E){var x=K.length;for(var y=0;y<x;y++)E[(y<<2)+3]=W.lg(E[(y<<2)+3]*K[y])};W.a4o=function(K,E,x,c){var J=Math.max(0,c.x-E.x),i=Math.max(0,E.x-c.x),P=Math.max(0,c.y-E.y),_=Math.max(0,E.y-c.y),a=Math.min(E.x+E.b,c.x+c.b)-Math.max(E.x,c.x),j=Math.min(E.y+E.n,c.y+c.n)-Math.max(E.y,c.y);
for(var y=0;y<j;y++){var e=(P+y)*E.b+J,d=(_+y)*c.b+i;for(var I=0;I<a;I++){x[d]=W.lg(x[d]*K[e]);e++;d++}}};
W.x9=function(K,E,x,c){var J=Math.max(0,c.x-E.x),i=Math.max(0,E.x-c.x),P=Math.max(0,c.y-E.y),_=Math.max(0,E.y-c.y),a=Math.min(E.x+E.b,c.x+c.b)-Math.max(E.x,c.x),j=Math.min(E.y+E.n,c.y+c.n)-Math.max(E.y,c.y);
for(var y=0;y<j;y++){var e=(P+y)*E.b+J,d=((_+y)*c.b+i<<2)+3;for(var I=0;I<a;I++){x[d]=W.lg(x[d]*K[e]);
e++;d+=4}}};W.i$=function(K,E,x,c){var J=Math.max(0,c.x-E.x),i=Math.max(0,E.x-c.x),P=Math.max(0,c.y-E.y),_=Math.max(0,E.y-c.y),a=Math.min(E.x+E.b,c.x+c.b)-Math.max(E.x,c.x),j=Math.min(E.y+E.n,c.y+c.n)-Math.max(E.y,c.y);
for(var y=0;y<j;y++){var e=((P+y)*E.b+J<<2)+3,d=((_+y)*c.b+i<<2)+3;for(var I=0;I<a;I++){x[d]=W.lg(x[d]*K[e]);
e+=4;d+=4}}};W.ZT=function(K,E){if(E==null)E=1;var x=4*E,c=K.length>>>2,J=new Float64Array(256),i=new Float64Array(256),P=new Float64Array(256),_=new Float64Array(256),a=4*Math.floor(c/E)*E,j=0;
for(var y=0;y<a;y+=x){var e=K[y+0],d=K[y+1],I=K[y+2],v=K[y+3]*E,n=v*(1/255);i[e]+=n;P[d]+=n;_[I]+=n;
j+=v}for(var y=0;y<256;y++)J[y]=i[y]+P[y]+_[y];return[J,i,P,_,c,j/255]};W.h$=function(K,E){function x(M,S){var f=-1,F=0;
while(F<=S){f++;F+=M[f]}return f}function c(M,S){var f=256,F=0;while(F<=S){f--;F+=M[f]}return f}function J(M){var S=0,f=0;
for(var y=0;y<256;y++){f+=M[y];S+=M[y]*y*(1/255)}return S/f}var i=K[0],P=K[1]/100,_=K[2]/100,a=[],j=[];
for(var y=0;y<4;y++){var e=y==0?3:1;a[y]=x(E[y],e*P*E[5]);j[y]=c(E[y],e*_*E[5])}var d=[J(E[1]),J(E[2]),J(E[3])],I=d.slice(0);
I.sort(function(M,S){return M-S});var v=d.indexOf(I[1]),n=(d[0]+d[1]+d[2])/3,C=[];for(var y=0;y<4;y++){var T=0,o=255,s=a[y],Q=j[y];
if(i==0&&y==0){T=s;o=Q}if(i==1&&y!=0){T=s;o=Q}if(i==2&&y!=0){var e=d[y-1]/n;o=Math.max(0,Math.min(255,j[v]*e))}var X=[T,o];
C.push(X);if(i==3&&y==0){var B=255*(1-n);X.push(B)}}return C};W.cZ=function(K,E){var x=new Uint32Array(K.buffer),c=x.length;
for(var y=0;y<c;y++){var J=x[y],i=J&255,P=J>>8&255,_=J>>16&255,a=J>>24&255;x[y]=E[i]|E[P]<<8|E[_]<<16|E[a]<<24}};
W.a1S=function(K,E,x,c,J,i,P){var _=new Uint32Array(K.buffer),a=new Uint32Array(E.buffer),j=_.length,e=0;
while(256<<e<x.length)e++;if(!P&&!i){for(var y=0;y!=j;y++){var d=_[y],I=(d&255)<<e,v=(d>>>8&255)<<e,n=(d>>>16&255)<<e,C=x[I],T=c[v],o=J[n];
a[y]=C|T<<8|o<<16|d&4278190080}return}for(var y=0;y<j;y++){var d=_[y],I=(d&255)<<e,v=(d>>>8&255)<<e,n=(d>>>16&255)<<e;
if(i)I=v=n=Math.round(I*.3+v*.59+n*.11);var C=x[I],T=c[v],o=J[n];if(P){var s=W.bg(I,v,n),Q=W.bg(C,T,o);
if(s>Q){var X=(s-Q)/(255-Q);C+=X*(255-C);T+=X*(255-T);o+=X*(255-o)}else if(Q==0)C=T=o=0;else{var X=s/Q;
C=X*C;T=X*T;o=X*o}}a[y]=C|T<<8|o<<16|d&4278190080}};W.UF=function(K,E){var x=E.b,c=E.n,top=0,J=0,i=0,P=0,_=0;
_=0;for(var a=0;a<c;a++){var j=a*x;for(var y=0;y<x;y++)_|=K[j+y];if(_!=0)break;top++}if(top==c)return new cS(0,0,0,0);
_=0;for(var a=c-1;a>=0;a--){var j=a*x;for(var y=0;y<x;y++)_|=K[j+y];if(_!=0)break;i++}var e=c-i;_=0;
for(var y=0;y<x;y++){for(var a=top;a<e;a++)_|=K[a*x+y];if(_!=0)break;J++}_=0;for(var y=x-1;y>=0;y--){for(var a=top;
a<e;a++)_|=K[a*x+y];if(_!=0)break;P++}var d=new cS(E.x+J,E.y+top,x-J-P,c-top-i);return d};W.j_=function(K,E,x,c){if(c==null)c=[!0,!0,!0,!0];
if(x==null)x=0;var J=new Uint32Array(K.buffer),i=E.b,P=E.n,top=0,_=0,a=0,j=0,e=!1,d=[J[0],J[J.length-1],0][x];
e=!1;if(c[0])for(var I=0;I<P;I++){var v=I*i;for(var y=0;y<i;y++)if(J[v+y]!=d)e=!0;if(e)break;top++}e=!1;
if(c[2])for(var I=P-1;I>=0;I--){var v=I*i;for(var y=0;y<i;y++)if(J[v+y]!=d)e=!0;if(e)break;a++}e=!1;
if(c[1])for(var y=0;y<i;y++){for(var I=0;I<P;I++)if(J[I*i+y]!=d)e=!0;if(e)break;_++}e=!1;if(c[3])for(var y=i-1;
y>=0;y--){for(var I=0;I<P;I++)if(J[I*i+y]!=d)e=!0;if(e)break;j++}var n=new cS(E.x+_,E.y+top,i-_-j,P-top-a);
return n.um()?new cS(0,0,0,0):n};W.oo=function(K){var E=W.UF(K.channel,K.rect);if(E.ac(K.rect))return;
var x=W.Q(E.O());W.XT(K.channel,K.rect,x,E);K.channel=x;K.rect=E};W.yw=function(K){var E=W.Q(K.buffer.length>>2);
W.Bp(K.buffer,E,3);var x=W.UF(E,K.rect);if(x.ac(K.rect))return;var c=new W.Q(x.O()*4);W.UL(K.buffer,K.rect,c,x);
K.buffer=c;K.rect=x};W.extend=function(K,E,x){if(K.rect.ng(E))return;var c=K.rect.XN(E),J=W.Q(c.O());
if(x!=null)J.fill(x);W.XT(K.channel,K.rect,J,c);K.rect=c;K.channel=J};W.axh=function(K,E){if(E.um()||K.rect.ng(E))return;
var x=K.rect.XN(E),c=W.Q(x.O()*4);W.UL(K.buffer,K.rect,c,x);K.rect=x;K.buffer=c};W.ds=function(K,E,x){if(!x.YO(K))return!1;
var c=Math.floor(K.x)-x.x,J=Math.floor(K.y)-x.y,y=J*x.b+c;return E[y]>128};W.ake=function(K,E,x){if(!x.YO(K))return!1;
var c=Math.floor(K.x)-x.x,J=Math.floor(K.y)-x.y,y=J*x.b+c;return E[4*y+3]>128};W.bY=function(K){if(W.lL.length<K){W.lL=W.Q(K);
W.lL.fill(255)}return W.lL};W.lL=W.Q(0);W.im=function(K){if(W.wL.length<K)W.wL=W.Q(K);return W.wL};W.wL=W.Q(0);
W.oA=function(K){this.Cc=W.Q(K);this.o=W.Q(K);this.J=W.Q(K);this.k=W.Q(K)};W.oA.prototype.clone=function(){var K=this.Cc.length,E=new W.oA(1);
E.Cc=this.Cc.slice(0);E.o=this.o.slice(0);E.J=this.J.slice(0);E.k=this.k.slice(0);return E};W.d.azQ=function(K,E,x,c,J){var i=J[0]+1,P=J[1],_=Math.abs(P-25)/4,a=J[2],j=a%2+a*a>>1,e=W.d.a;
e.w9(E,x);var d=e.Fb(1),I=e.Fb(1),v=e.Fb(1);e.qv(K,c,a,a,j);e.Nb(c);e.Uf(c,d);e.xS(d,I,i,i,1);e.xS(d,v,i,i,i*i);
e.sub(v,I);e.iO(I,_);(P<25?e.sub:e.add)(d,I);e.Pd(I,c);e.Gi(c)};W.d.afF=function(K,E,x,c,J){var i=W.d.a;
i.w9(E,x);var P=J[0]*2.55,_=J[1],a=_>>1,j=J[2]*.25,e=i.Fb(4),d=i.Fb(1),I=i.Fb(1);i.wh(K,e,_,1,!0,a);
i.wh(K,c,_,1,!1,a);i.uB(K,d);i.Is(d,P);i.GK(d,I,3);i.Kb(c,I,e);i.sc(e,c,j)};W.d.avQ=function(K,E,x,c,J){var i=W.d.a;
i.w9(E,x);i.Vh(J[3]);var P=J[0]*-3+80,_=J[1]*-3+80,a=J[2]/2+.5,j=J[4],e=J[5],d=i.Fb(1),I=i.Fb(1),v=i.Fb(1),n=i.Fb(1),C=i.Fb(4),T=i.Fb(4);
i.uB(K,d);i.dq(d,I);i.Es(d,_,5);i.fI(d,.4,0);i.GK(d,v,3);i.co(v,d,9,3,!0,27);i.dq(I,v);i.Pa(v);var o=i.lf(P,5,v);
for(var y=0;y<i.L9;y++){I[y]=o[255-I[y]]}i.fI(I,.4,0);i.dq(I,v);i.GK(v,n,2);i.co(n,v,5,3,!1,15);i.iO(d,a);
i.iO(v,a);i.BS(c,2155905279);i.BS(T,j);i.BS(C,e);i.Kb(T,d,c);i.Kb(C,v,c)};W.d.awh=function(K,E,x,c,J){var i=W.d.a;
i.w9(E,x);var P=new Uint8Array(256),_=5+10*J[1];_+=J[1]>3?(J[1]-3)*10:0;var a=~~(J[2]*.73)+50,j=Math.min(a+_,128),e=j-a,d=-255*a;
for(var y=0;y<256;y++){var I=y*65;P[y]=i.lP(d/e);d+=255}var v=i.Fb(1),n=i.Fb(1),C=i.Fb(1);i.uB(K,v);
i.dq(v,C);i.GK(v,n,2*J[0]+1);i.sub(n,v);i.iO(v,65);i.co(v,n,9,3,!0,20);for(var y=0;y<i.L9;y++){var T=C[y],o=n[y];
v[y]=o>0?~~((o*T+(255-o)*128)/255):128}i.GK(v,n,3);i.co(n,v,15,2,!0,16);i.co(n,C,15,2,!1,15);i.Fm(v,C);
i.Um(C,n,2);i.EX(n,P);i.GK(n,v,2);i.jJ(v,c)};W.d.a6w=function(K,E,x,c,J){var i=W.d.a;i.w9(E,x);var P=2*J[0]+1,_=i.jw[J[1]],a=J[2]*5.1,j=J[3],e=i.Fb(1),d=i.Fb(1),I=i.Fb(4),v=i.Fb(4);
i.BS(I,j);i.Nb(I,c);i.cO(e,a);i.Pd(e,c);i.Gi(c,I);i.uB(K,d);i.GK(d,e,P);i.sub(e,d);i.iO(d,_);i.co(d,e,9,3,!0,20);
i.Kb(K,e,I);i.x8(I,c,3);i.wh(c,I,15,2,!0,16);i.wh(c,v,15,2,!1,16);i.Fm(I,v);i.sc(v,c,2)};W.d.aiF=function(K,E,x,c,J){var i=W.d.a;
i.w9(E,x);var P=(15-J[0])/4+1,_=(15-J[1])/4+1,a=J[2],j=J[3],e=i.wD(J[4]),d=J[5]+1,I=J[6],v=J[7],n=J[8],C=i.Fb(1),T=i.Fb(1),o=i.Fb(1),s=i.Fb(1),Q=i.Fb(4),X=i.Fb(4);
i.vT(o,a,j,I);i.uB(K,T);i.GK(T,C,5);i.cv(o,C,s,d,e);i.iO(s,P);i.TU(s,2);i.Pa(C);i.cv(o,C,T,d,e);i.iO(T,_);
i.TU(T,2);i.BS(Q,2155905279);i.BS(X,v);i.BS(c,n);i.Kb(Q,T,X);i.Kb(X,s,c)};W.d.aiR=function(K,E,x,c,J){var i=W.d.a;
i.w9(E,x);i.Vh(J[3]);var P=J[0],_=J[1]/10,a=J[2]/10,j=i.Fb(1),e=i.Fb(1),d=i.Fb(1),I=i.FF(),v=i.FF(),n=i.FF();
i.gT(j);i.GK(j,e,11);i.GK(e,j,11);i.zu(j,I);i.kw(K,j);i.dq(j,d);i.GK(j,e,9);i.GK(e,j,9);i.zu(j,v);i.NT(v,n,5);
i.NT(n,v,5);i.zE(I,.8);i.aqz(I,v,.8,.9);i.My(v,j,P);i.xS(j,e,2,2,1);i.xS(e,j,2,2,3);i.xS(j,e,2,2,3);
i.xS(d,j,5,5,13);i.BX(e,j,e,_);i.a1(j,e,e,a);i.cv(e,e,j,5,1);i.Nb(K,c);i.Pd(j,c);i.Gi(c)};W.d.aa_=function(K,E,x,c,J){var i=W.d.a;
i.w9(E,x);var P=J[0],_=J[1]/2,a=J[2],j=P/2,e=i.Fb(4),d=i.Fb(4);i.dq(K,c);for(var I=0;I<a;I++){i.wh(c,e,P,1,!0,j);
i.wh(c,d,P,1,!1,j);i.Fm(d,e);i.x8(e,d,2);i.sc(d,c,_)}};W.d.ag_=function(K,E,x,c,J){var i=W.d.a;i.w9(E,x);
var P=J[0]*10,_=J[1]*4.9,a=J[2]*4.9,j=i.Fb(1),e=i.Fb(1),d=i.Fb(4),I=i.Fb(4);i.uB(K,j);i.Is(j,i.a8u(j,P));
i.GK(j,e,3);i.wh(K,d,5,1,!1,1);i.wh(K,c,15,2,!0,16);i.Kb(c,e,d);i.Nb(d,c);i.Uf(c,j);i.Es(j,_,a);i.Pd(j,c);
i.Gi(c)};W.d.a9p=function(K,E,x,c,J){var i=W.d.a;i.w9(E,x);i.Vh(J[4]);var P=J[0]/20,_=[0,.75,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.5,3,3.5,4][J[1]],a=[0,.25,.5,.75,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.25,2.5,3,3.5,4][J[2]],j=J[3],e=new Int16Array(256);
for(var y=0;y<256;y++){e[y]=~~((y-128)*P)}var d=i.Fb(1),I=i.Fb(1),v=i.Fb(4);i.uB(K,d);i.GK(d,I,25);i.iO(I,_);
i.TU(I,a);i.GK(I,d,25);i.gT(I);i.e9(d,I,e);i.dq(K,c);i.BS(v,j);i.Kb(v,d,c)};W.d.ass=function(K,E,x,c,J){var i=W.d.a;
i.w9(E,x);var P=J[0]+5,_=15-J[1],a=P*P/2,j=1-(3-J[2])/10,e=~~(_*_*j-1),d=~~(_*_*(1-j));if(d==0)d=1;var I=i.Fb(1),v=i.Fb(1),n=i.Fb(1),C=i.Fb(4);
i.uB(K,n);i.xS(n,I,P,P,a);i.GK(n,v,P);i.sub(I,v);i.Is(v,1);i.qv(K,C,_,_,e);i.qv(K,c,_,_,d);i.Kb(C,v,c)};
W.d.a2z=function(K,E,x,c,J){var i=W.d.a;i.w9(E,x);i.Vh(J[3]);var P=(20-J[0])*.05,_=J[1]*-2.75+60,a=65-_,j=J[2]/10,e=i.Fb(1),d=i.Fb(1);
i.kw(K,d);var I=i.lf(_,a,d);i.Nb(K,c);i.Uf(c,d);i.gT(e);i.et(d,e,P);i.EX(d,I);i.iO(d,J[2]/10);i.add(e,d);
i.Pd(d,c);i.Gi(c)};W.d.arK=function(K,E,x,c,J){var i=W.d.a;i.w9(E,x);var P=5+J[0],_=15-J[1],a=J[2],j=P*P/2+P*P%2*1,e=1-(3-J[2])/10,d=~~(_*_*e-1),I=~~(_*_*(1-e));
if(I==0)I=1;var v=i.Fb(1),n=i.Fb(1),C=i.Fb(1),T=i.Fb(1),o=i.Fb(1);i.kw(K,n);i.Um(n,v,3);i.xS(v,n,2,2,1);
var s=i.lf(20,20,n);i.EX(n,s);i.GK(n,o,5);i.xS(o,v,P,P,j);i.xS(o,n,_,_,d);i.xS(o,C,_,_,I);i.GK(o,T,P);
i.sub(v,T);i.Is(T,1);i.v4(n,T,C);i.Nb(K,c);i.Pd(C,c);i.Gi(c)};W.d.avy=function(K,E,x,c,J){var i=W.d.a;
i.w9(E,x);i.Vh(J[5]);var P=i.L9,_=i.ug,a=J[0],j=J[1],e=J[2],d=J[3],I=J[4],v=.05*a+1,n=a/100,C=a>>1,T=2*a-100,o=+(j==9),s=+(j==7),Q=[4,1][o],X=[3,2][o],B=[1,2][s],M=[2,1][s],S=[50,75][o],f=j<4?e:(e>>1)+50,F=i._w(S,f),G=i.Da(d),D=i.Da(I),b=i.Fb(4),H=i.Fb(4),q=i.Fb(1),O=i.Fb(1);
function w(c,F){if(f!=50){i.wx(c,F)}}function V(K,r){for(var y=0;y<P;y++){K[y]=i.lP(K[y]+(r[y]-128)*n)}}function t(K,r){for(var y=0,h=0;
y<P;y++){K[h]=i.lP(K[h]+(r[h]-128)*n);K[h+1]=i.lP(K[h+1]+(r[h+1]-128)*n);K[h+2]=i.lP(K[h+2]+(r[h+2]-128)*n);
h+=4}}function m(K,c){i.gT(H);i.dq(K,c);t(c,H);w(c,F)}function g(r){var h=0;for(var l=0;l<12;l++)h+=i.random();
return i.lP(C*(h-6)+r)}function Y(K,c){i.dq(K,c);for(var y=0;y<_;y+=4){c[y]=g(c[y]);c[y+1]=g(c[y+1]);
c[y+2]=g(c[y+2])}w(c,F)}function A(K,c){i.dq(K,c);for(var y=0;y<_;y+=4){if(i.random()<n){c[y]=G[0];c[y+1]=G[1];
c[y+2]=G[2]}}w(c,F)}function k(K,c){i.gT(b);i.qv(b,H,X,X,Q);i.dq(K,b);t(b,H);i.qv(b,c,5,5,13);w(c,F)}function z(K,c){i.gT(H);
i.dq(K,b);t(b,H);w(c,F);i.qv(b,c,X,X,Q)}function p(K,c){i.dq(K,b);w(c,F);i.uB(b,q);for(var y=0,r=0;y<P;
y++){var h=((T-q[y]+255)*128.5+.5)/32767;if(i.random()<=h){c[r++]=D[0];c[r++]=D[1];c[r++]=D[2]}else{c[r++]=G[0];
c[r++]=G[1];c[r++]=G[2]}c[r]=K[r];r++}}function L(K,c){i.Nb(K,c);i.Uf(c,q);i.Um(q,O,v);i.xS(O,q,X,X,Q);
i.EX(q,F);i.Pd(q,c);i.Gi(c)}function N(K){var r=0;if(j==8){for(var h=0;h<E;h++){K[r++]=~~(i.random()*255)}for(var y=1;
y<x;y++){for(var h=0;h<E;h++){K[r++]=K[h]}}}else{for(var y=0;y<x;y++){var l=~~(i.random()*255);for(var h=0;
h<E;h++){K[r++]=l}}}}function gC(K,c){i.uB(K,q);i.gT(O);V(q,O);N(O);V(q,O);i.x8(K,b,9);i.x8(b,H,9);i.GK(q,O,2);
i.EX(O,F);i.GK(O,q,2);i.Nb(H,c);i.Pd(q,c);i.Gi(c)}[m,Y,A,k,k,z,p,gC,gC,L][j](K,c)};W.d.ac_=function(K,E,x,c,J){var i=[-1e3,34,51,61,71,80,87,95,101,108,113,119,124,129,134,139,143,148,153,157,161,165,168,172,175,180,183,186,190,194,197,200,203,207,210,213,216,218,222,225,228,230,233,236,239,241,244,247,250,252,255],P=W.d.a,C=0,T,y,B,M,S,f=0,F=1,G=255;
P.w9(E,x);P.Vh(J[3]);var _=P.Fb(1),a=P.Fb(1);P.uB(K,_);var j=J[0],e=J[1],d=e<=50?i[e]/255:1+(255-i[101-e])/255,I=J[2],v=_.length,n=new Float32Array(v),o=1+1/10*j,s=(1-1/o)/2,Q=16/256,X=E-1;
for(y=0;y<P.L9;y++){n[y]=_[y]/255;a[y]=j==1?P.random()<1/255?G:F:F}function D(b,H){var q=b*E+H;if(a[q]!=F||b>=x||H>=E){return}var M=n[q],O=d-M,w=P.random(),V=w/o+s;
if(C==0||Math.abs(S-M)>Q){T=V<=O?f:G;C=~~(P.random()*j)}else if(.1<w){C--}else{C=0}a[q]=T;S=M}if(I==0){for(y=0;
y<E;y++){for(B=0;B<E;B++){M=y+B;if(M>=E)break;D(B,X-M)}C=0}for(y=1;y<x;y++){for(B=0;B<x;B++){M=y+B;if(M>=x||B>=E)break;
D(M,X-B)}C=0}}else if(I==1){for(y=0;y<x;y++){for(B=0;B<E;B++){D(y,B)}C=0}}else if(I==2){for(y=0;y<E;
y++){for(B=0;B<E;B++){M=y+B;if(M>=E)break;D(B,M)}C=0}for(y=1;y<x;y++){for(B=0;B<x;B++){M=y+B;if(M>=x||B>=E)break;
D(M,B)}C=0}}else{for(y=0;y<E;y++){for(B=0;B<x;B++){D(B,y)}C=0}}P.jJ(a,c)};W.d.a4Z=function(K,E,x,c,J){var i=W.d.a;
i.w9(E,x);var P=J[0],_=J[1],a=J[2],j=i.Fb(1),e=i.Fb(1),d=i.Fb(1),I=i.Fb(1),v=i.Fb(4),n=i.Fb(4);i.Uf(K,I,3,4);
i.uB(K,j);i.xS(j,e,3,3,1);i.xS(j,d,3,3,9);i.sub(d,e);i.GK(e,j,3);i.Es(j,40,10,I);i.wh(K,c,P,2,!1,P);
i.wh(K,v,P,2,!0,P);i.BS(n,255);i.Kb(c,j,n);i.Kb(n,j,v);i.sc(v,c,1);i.Nb(c);i.Uf(c,j);i.Es(j,_,a,I);i.Pd(j,c);
i.Gi(c)};W.d.ac3=function(K,E,x,c,J){var i=W.d.a;i.w9(E,x);i.Vh(J[3]);var P=J[0],_=J[1],a=J[2]/10;P=P+_;
var j=i.Fb(1),e=i.Fb(1),d=i.FF(),I=i.FF();i.gT(j);i.GK(j,e,11);i.GK(e,j,11);i.zu(j,d);i.NT(d,I,5);i.NT(I,d,5);
i.zE(I,.97);i.My(I,j,P);i.xS(j,e,_,_,1);i.kw(K,j);i.BX(e,j,e,.6);i.a1(j,e,e,a);i.cv(e,e,j,5,1);i.Nb(K,c);
i.Pd(j,c);i.Gi(c)};W.d.apg=function(K,E,x,c,J){var i=W.d.a;i.w9(E,x);var P=Math.abs(J[0]),_=P+[1,0,1,2,1,2,1,2,3,2,3,2,3,2,3,2,3,4,3,4,5,4,5,4,5][P],a=2*P+1,j=J[1]/10,e=j*13/15,d=i.Fb(1),I=i.Fb(1),v=i.Fb(1),n=i.Fb(1),C=i.Fb(4),T=i.Fb(4),o=i.Fb(4),s=i.Fb(4),Q=i.Fb(4);
i.uB(K,d);if(J[0]>=0){i.Pa(d)}i.dq(d,v);i.GK(d,n,_);i.GK(n,d,_);i.iO(d,j);i.dq(d,I);i.GK(d,n,a);i.GK(n,d,a);
i.iO(d,e);i.BS(o,J[2]);i.BS(s,J[3]);i.BS(Q,J[4]);i.Kb(o,d,s,C);i.Kb(Q,I,C,T);i.Kb(s,v,T,c);i.Uf(K,v,3);
i.Pd(v,c,3)};W.d.ah8=function(K,E,x,c,J){var i=W.d.a;i.w9(E,x);i.Vh(J[5]);var P=J[0]*5.1,_=J[1]/100,a=i.$R[J[2]],j=i.Fb(1),e=i.Fb(1),d=i.Fb(1);
i.uB(K,j);i.cO(e,255);i.gT(d);i.Is(j,P);i.et(e,j,.7);i.et(d,j,_);i.cv(j,j,e,5,a);i.dq(K,c);i.atu(c,P,J[4],J[3]);
i.Nb(c);i.Pd(e,c);i.Gi(c)};W.d.a8o=function(K,E,x,c,J){var i=W.d.a;i.w9(E,x);var P=J[0],_=4-J[1],a=11-J[2],j=i.Fb(1),e=i.Fb(1),d=i.Fb(4);
i.kw(K,e);for(var y=0;y<_;y++){i.dq(e,j);i.D8(j,e,P,P)}i.x8(K,d,P);i.Nb(d,d);i.Pd(e,d);i.Gi(d,d);(a<11?i.a7x:i.dq)(d,c,a)};
W.d.ajF=function(K,E,x,c,J){var i=W.d.a;i.w9(E,x);i.Vh(J[2]);var P=J[0]+5,_=~~(P/5+1),a=~~(P/2)+1,j=a*a,e=~~(P/3),d=i.$R[J[1]],I=new Array(256);
for(var y=0;y<256;y++){I[y]=~~(.2*(y-128))}var v=i.Fb(1),n=i.Fb(1);i.a5r(K,c,P);i.Nb(c);i.Uf(c,v);i.gT(n);
i.e9(v,n,I);i.aj0(n,P,P,_,_);i.BX(v,n,v,1);i.GK(v,n,e);i.GK(n,v,e);i.xS(v,n,a,a,j);i.cv(n,n,v,5,d);i.Pd(v,c);
i.Gi(c)};W.d.awU=function(K,E,x,c,J){var i=W.d.a;i.w9(E,x);var P=i.Fb(1),_=i.Fb(1),a=i.Fb(1),j=i.FF(),e=i.FF();
i.uB(K,P);i.GK(P,_,J[2]);i.Is(_,J[0]*5.1);i.xS(_,P,2,2,4);i.GK(P,_,3);i.GK(_,P,3);i.dq(P,a);i.GK(P,_,5);
i.GK(_,P,5);i.zu(P,j);i.NT(j,e,5);i.NT(e,j,5);i.avm(j,_,J[1]);i.Pa(_);i.BX(a,_,a,1);i.jJ(a,c)};W.d.ach=function(K,E,x,c,J){var i=W.d.a;
i.w9(E,x);var P=1<<7-J[2],_=i.Fb(1),a=i.Fb(1),j=i.Fb(1);i.kw(K,a);i.GK(a,_,3);i.dq(_,a);i.GK(_,j,J[0]+5);
i.sub(j,a);i.Es(a,1,J[1]);i.iO(_,1/P);i.iO(_,P);i.sub(_,a);i.Nb(K,c);i.Pd(a,c);i.Gi(c)};W.d.ajj=function(K,E,x,c,J){var i=W.d.a;
i.w9(E,x);i.Vh(J[3]);var P=i.Fb(1),_=i.Fb(1),a=i.Fb(1);i.uB(K,P);i.ady(_,J[0]/50);i.GK(_,a,3);i.xS(P,_,9,9,41);
i.Es(_,J[1],J[2]);i.BX(_,a,a,.75);i.a1(_,a,_,.5);i.dq(_,P);i.xS(P,a,3,3,8);i.BX(a,_,a,.75);i.iO(a,1.2);
i.Um(a,P,1);i.GK(P,a,2);i.Um(a,P,2);i.iO(P,1.2);i.GK(P,a,2);i.jJ(a,c)};W.d.ajk=function(K,E,x,c,J){var i=W.d.a;
i.w9(E,x);var P=J[0]+9,_=J[1]/2,a=J[2],j=J[3],e=i.wD(J[4]),d=J[5]+1,I=J[6],v=i.Fb(1),n=i.Fb(1),C=i.Fb(4),T=i.Fb(4);
i.vT(n,a,j,I);i.IP(K,c,P,1,1);i.IP(c,C,P,1,1);i.auf(C,C,T,7,_);i.iO(T,1.2);i.TU(T,1.2);i.cv(n,v,v,d,e);
i.iO(v,3);i.dq(K,c);i.Kb(T,v,c)};W.d.a0m=function(K,E,x,c,J){var i=W.d.a;i.w9(E,x);i.Vh(J[3]);var P=J[0]+4,_=P*2/5+(P%5|0);
P--;var a=J[1]*-2.75+60,j=65-a,e=J[2]/10,d=i.Fb(1),I=i.Fb(1);i.gT(d);i.kw(K,I);var v=i.lf(a,j,I);i.Nb(K,c);
i.Uf(c,I);i.et(I,d,.8);i.EX(I,v);i.iO(I,e);i.add(d,I);i.co(I,d,P,3,!1,_);i.Pd(d,c);i.Gi(c)};W.d.a7s=function(K,E,x,c,J){var i=W.d.a;
i.w9(E,x);i.Vh(J[3]);var P=J[0]+5,_=(P*P>>1)+P%2,a=J[1]/10,j=J[2],e=(j*j>>1)+j%2,d=i.Fb(1),I=i.Fb(1),v=i.Fb(1),n=i.Fb(4),C=i.Fb(4),T=i.Fb(4);
i.gT(v);i.Nb(K,T);i.Uf(T,d);i.et(d,v,.8);i.GK(v,d,3);i.Um(d,v,a);i.Pd(v,T);i.Gi(T,T);i.uB(T,v);i.xS(v,d,P,P,_);
i.GK(v,I,P);i.sub(d,I);i.Is(I,1);i.qv(T,n,7,7,40);i.qv(T,C,7,7,10);i.Kb(n,I,C);i.qv(C,c,j,j,e)};W.d.abJ=function(K,E,x,c,J){var i=W.d.a,_=255,y,j;
i.w9(E,x);var P=J[0];if(P<2)_=P;else if(P<12)_=5*P-5;else if(P<47)_=2*P+28;else if(P<50){y=P-47;_=125+12.5*y+12.5*y*y}var a=new Uint8Array(256);
for(y=75,j=15;y<256;y++,j+=24)a[y]=Math.min(255,j);var e=i.Fb(1),d=i.Fb(1),I=i.Fb(1);i.uB(K,e);i.GK(e,d,11);
i.GK(d,I,11);i.sub(I,e);i.iO(e,8);i.sub(I,e);i.Is(e,_);i.Pa(e);i.GK(e,d,5);i.Is(d,51);i.GK(d,e,J[1]);
i.GK(e,d,J[1]);i.Pa(d);i.EX(d,a);i.jJ(d,c)};W.d.ayJ=function(K,E,x,c,J){var i=W.d.a;i.w9(E,x);var P=i.jw[J[1]],_=J[2],a=_*1.5,j=i.Fb(1),e=i.Fb(1),d=i.Fb(1);
i.kw(K,j);i.co(j,e,15,2,!0,15);i.dq(e,d);i.Es(d,_,a);i.GK(d,j,3);i.GK(e,d,J[0]);i.sub(d,e);i.iO(e,P);
i.sub(j,e);i.GK(e,j,3);i.co(j,e,3,1,!1,1);i.x8(K,c,15);i.Nb(c);i.Pd(e,c);i.Gi(c)};W.d.apu=function(K,E,x,c,J){var i=W.d.a;
i.w9(E,x);i.Vh(J[3]);var P=J[0]*5.1,_=16-J[1],a=[1,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.25,2.5,2.75,3,3.5,4,5,6,8,10][J[2]],j=i.Fb(1),e=i.Fb(1),d=i.Fb(1);
i.uB(K,j);i.Is(j,P);i.GK(j,e,_);i.GK(e,j,_);i.gT(d);i.a1(j,d,d,1);i.BX(j,d,j,.75);i.iO(j,a);i.TU(j,a);
i.xS(j,e,2,2,2);i.jJ(e,c)};W.d.arC=function(K,E,x,c,J){var i=W.d.a;i.w9(E,x);var P=J[0]+9,_=J[1]+9,a=J[2],j=J[3],e=i.wD(J[4]),d=J[5]+1,I=J[6],v=i.Fb(1),n=i.Fb(1),C=i.Fb(1),T=i.Fb(1),o=i.Fb(1),s=i.Fb(4);
i.kw(K,v);i.D8(v,C,P,P);i.GK(C,v,_);i.dq(C,o);i.dq(v,T);i.sub(o,T);i.sub(v,o);i.add(o,T);i.iO(T,10);
i.vT(n,a,j,I);i.cv(n,v,o,d,e);i.v4(o,T,C,.8);i.x8(K,s,9);i.x8(s,c,9);i.Nb(c);i.Pd(C,c);i.Gi(c)};W.d.ayV=function(K,E,x,c,J){var i=W.d.a;
i.w9(E,x);var P=16-J[0],_=J[1]*8,a=1-(3-J[2])/10,j=~~(P*P*a-1),e=~~(P*P*(1-a));if(e==0)e=1;var d=i.Fb(1),I=i.Fb(1),v=i.Fb(1),n=i.Fb(4);
i.uB(K,v);i.xS(v,d,7,7,25);i.GK(v,I,7);i.sub(d,I);i.Is(I,1);i.qv(K,n,P,P,j);i.qv(K,c,P,P,e);i.Kb(n,I,c);
i.Nb(c);i.Uf(c,d);i.xS(d,v,3,3,1);i.xS(d,I,3,3,9);i.sub(I,v);i.dq(v,I);i.sub(d,v);i.sub(v,I);i.xS(I,d,3,3,8);
i.Es(d,_,1);i.Pd(d,c);i.Gi(c)};W.d.aba=function(K,E,x,c,J){var i=W.d.a;i.w9(E,x);i.Vh(J[3]);var P=J[0],_=J[1],a=J[2],j=P>>1,e=Math.max(~~(P/5),1),d=Math.max(~~(P*2/3),1),I=i._w(_,a),v=i.Fb(1),n=i.Fb(1),C=i.Fb(1),T=i.Fb(1),o=i.Fb(4);
i.kw(K,v);i.km(2147483647,4,2,2,0,255,n);i.km(4,2147483647,2,2,0,255,T);i.gT(C);i.a1(n,C,n,1);i.a1(T,C,T,1);
i.a1(n,v,n,1);i.a1(T,v,T,1);i.x8(K,o,j);i.x8(o,c,j);i.xS(n,v,1,P,e);i.xS(v,n,3,P,d);i.xS(T,v,P,1,e);
i.xS(v,T,P,3,d);i.Fm(n,T);i.Nb(c);i.Pd(T,c);i.Gi(c);i.wx(c,I)};W.d.vX=function(K,E,x){var c=x.a1s,J=x.L9,i=x.Fb(1),top=x.Fb(1),P=x.Fb(1),_=x.Fb(1),a=x.Fb(1),j=x.Fb(1),e=x.Fb(1),d=x.Fb(1),I=x.Fb(1),v=x.pz,n=x.o4,C=W.vm.q0,T=W.vm.vM;
C(K,i,v,n,T([8,5,2,5,2,-1,2,-1,-4]));C(K,top,v,n,T([5,5,5,2,2,2,-1,-1,-1]));C(K,P,v,n,T([2,5,8,-1,2,5,-4,-1,2]));
C(K,_,v,n,T([5,2,-1,5,2,-1,5,2,-1]));C(K,a,v,n,T([2,2,2,2,2,2,2,2,2]));C(K,j,v,n,T([-1,2,5,-1,2,5,-1,2,5]));
C(K,e,v,n,T([2,-1,-4,5,2,-1,8,5,2]));C(K,d,v,n,T([-1,-1,-1,2,2,2,5,5,5]));C(K,I,v,n,T([-4,-1,2,-1,2,5,2,5,8]));
var o=[i,top,P,_,a,j,e,d,I];for(var s=0;s<n;s++){for(var Q=0;Q<v;Q++){var X=s*v+Q,B=K[X],M=null,S=0;
for(var f=-1;f<2;f++){for(var F=-1;F<2;F++){var G=o[(f+1)*3+F+1],D=Math.max(0,Math.min(s+f,n-1)),b=Math.max(0,Math.min(Q+F,v-1)),H=G[D*v+b],q=Math.abs(H-B);
if(M==null||q<M){M=q;S=H}}}E[X]=S}}};W.d.ara=function(K,E,x,c,J){var self=W.d.a;self.w9(E,x);var i=self.Fb(1),P=self.Fb(1);
for(var y=0;y<4;y++){self.Uf(K,i,y);if(y<3){W.d.vX(i,P,self);W.d.vX(P,i,self);W.d.vX(i,P,self);W.d.vX(P,i,self);
W.d.vX(i,P,self);W.d.vX(P,i,self);W.d.vX(i,P,self);W.d.vX(P,i,self);W.d.vX(i,P,self)}else P=i;self.Pd(P,c,y)}};
W.d.a={};W.d.a.pz=0;W.d.a.o4=0;W.d.a.L9=0;W.d.a.UE=0;W.d.a.ug=0;W.d.a.w9=function(K,E){var x=K*E,self=W.d.a;
self.pz=K;self.o4=E;self.L9=x;self.UE=x<<1;self.ug=x<<2};W.d.a.Vh=function(K){W.d.a.random=function(){var E=K+=1831565813;
E=Math.imul(E^E>>>15,E|1);E^=E+Math.imul(E^E>>>7,E|61);return((E^E>>>14)>>>0)/4294967296}};W.d.a.Fb=function(K){var E=W.d.a;
return new Uint8Array([-1,E.L9,E.UE,-1,E.ug][K])};W.d.a.FF=function(){return new Int32Array(W.d.a.UE)};
W.d.a.GK=function(K,E,x,c){if(c==null)c=x;var self=W.d.a,J=self.pz,i=self.o4,P=c,_=c>>1,a=x,j=x>>1,e=x*c,d=0;
for(var y=0;y<i;y++){var I=0;for(var v=0;v<P;v++){for(var n=0;n<a;n++){var C=0-j+n,T=y-_+v;if(C<0)C=0;
else if(C>=J)C=J-1;if(T<0)T=0;else if(T>=i)T=i-1;I+=K[T*J+C]}}E[d++]=~~(I/e);for(var o=1;o<J;o++){for(var v=0;
v<P;v++){var s=o-j-1,Q=s+a,T=y-_+v;if(s<0)s=0;if(Q>=J)Q=J-1;if(T<0)T=0;else if(T>=i)T=i-1;I+=K[T*J+Q]-K[T*J+s]}E[d++]=~~(I/e)}}};
W.d.a.NT=function(K,E,x,c){var self=W.d.a,J=new Int32Array(self.L9),i=new Int32Array(self.L9);for(var y=0;
y<2;y++){self.Uf(K,J,y,2);self.GK(J,i,x,c);self.Pd(i,E,y,2)}};W.d.a.x8=function(K,E,x,c){var self=W.d.a,J=self.Fb(1),i=self.Fb(1);
for(var y=0;y<4;y++){self.Uf(K,J,y);if(y<3)self.GK(J,i,x,c);else i=J;self.Pd(i,E,y)}};W.d.a.IP=function(K,E,x,c,J){var self=W.d.a,i=self.pz,P=self.o4,_=x+c-1,a=x>>1,j=_>>1,e=0,d=x*c,I=new Int32Array(x);
for(var y=0;y<P;y++){var v=0,n=0,C=0;for(var T=0;T<x;T++){var o=J?_-T-c:T;for(var s=o,Q=c+o;s<Q;s++){var X=0-j+s,B=y-a+T;
if(s==o){I[T]=X}if(X<0)X=0;else if(X>=i)X=i-1;if(B<0)B=0;else if(B>=P)B=P-1;var M=i*B+X<<2;v+=K[M];n+=K[M+1];
C+=K[M+2]}}E[e++]=~~(v/d);E[e++]=~~(n/d);E[e++]=~~(C/d);E[e]=K[e];e++;for(var S=1;S<i;S++){for(var T=0;
T<x;T++){var B=y-a+T,o=I[T]+1;I[T]=o;var f=o-1,F=o+c-1;if(B<0)B=0;else if(B>=P)B=P-1;if(f<0)f=0;else if(f>=i)f=i-1;
if(F<0)F=0;else if(F>=i)F=i-1;var G=B*i+f<<2,D=B*i+F<<2;v=v+K[D]-K[G];n=n+K[D+1]-K[G+1];C=C+K[D+2]-K[G+2]}E[e++]=~~(v/d);
E[e++]=~~(n/d);E[e++]=~~(C/d);E[e]=K[e];e++}}};W.d.a.co=function(K,E,x,c,J,i){var self=W.d.a,P=self.pz,_=self.o4,a=x+c-1,j=x>>1,e=a>>1,d=0,I=new Int32Array(x),v=new Int32Array(256),n=new Int32Array(16);
for(var y=0;y<_;y++){for(var C=0;C<256;C++){v[C]=0}for(var C=0;C<16;C++){n[C]=0}for(var T=0;T<x;T++){var o=J?a-T-c:T;
for(var s=o,Q=c+o;s<Q;s++){var X=0-e+s,B=y-j+T;if(s==o){I[T]=X}if(X<0)X=0;else if(X>=P)X=P-1;if(B<0)B=0;
else if(B>=_)B=_-1;v[K[B*P+X]]++;n[K[B*P+X]>>>4]++}}var M=0,S=0;while(M+n[S>>>4]<i){M+=n[S>>>4];S+=16}for(;
S<256;S++){M+=v[S];if(M>=i)break}E[d++]=S;for(var C=1;C<P;C++){for(var T=0;T<x;T++){var B=y-j+T,o=I[T]+1;
I[T]=o;var f=o-1,F=o+c-1;if(B<0)B=0;else if(B>=_)B=_-1;if(f<0)f=0;else if(f>=P)f=P-1;if(F<0)F=0;else if(F>=P)F=P-1;
v[K[B*P+f]]--;v[K[B*P+F]]++;n[K[B*P+f]>>>4]--;n[K[B*P+F]>>>4]++}M=0;S=0;while(M+n[S>>>4]<i){M+=n[S>>>4];
S+=16}for(;S<256;S++){M+=v[S];if(M>=i)break}E[d++]=S}}};W.d.a.wh=function(K,E,x,c,J,i){var self=W.d.a,P=self.Fb(1),_=self.Fb(1);
for(var y=0;y<4;y++){self.Uf(K,P,y);if(y<3)self.co(P,_,x,c,J,i);else _=P;self.Pd(_,E,y)}};W.d.a.xS=function(K,E,x,c,J){J=Math.min(c*x,J);
var self=W.d.a,i=self.pz,P=self.o4,_=c>>1,a=x>>1,j=0,e=new Int32Array(c),d=new Int32Array(256),I=new Int32Array(16);
for(var y=0;y<P;y++){for(var v=0;v<256;v++){d[v]=0}for(var v=0;v<16;v++){I[v]=0}for(var n=0;n<c;n++){for(var C=0,T=x;
C<T;C++){var o=0-a+C,s=y-_+n;if(C==0){e[n]=o}if(o<0)o=0;else if(o>=i)o=i-1;if(s<0)s=0;else if(s>=P)s=P-1;
d[K[s*i+o]]++;I[K[s*i+o]>>>4]++}}var Q=0,X=0;while(Q+I[X>>>4]<J){Q+=I[X>>>4];X+=16}for(;X<256;X++){Q+=d[X];
if(Q>=J)break}E[j++]=X;for(var v=1;v<i;v++){for(var n=0;n<c;n++){var s=y-_+n,B=e[n]+1;e[n]=B;var M=B-1,S=B+x-1;
if(s<0)s=0;else if(s>=P)s=P-1;if(M<0)M=0;else if(M>=i)M=i-1;if(S<0)S=0;else if(S>=i)S=i-1;d[K[s*i+M]]--;
d[K[s*i+S]]++;I[K[s*i+M]>>>4]--;I[K[s*i+S]>>>4]++}Q=0;for(X=0;X<256;X++){Q+=d[X];if(Q>=J)break}E[j++]=X}}};
W.d.a.qv=function(K,E,x,c,J){var self=W.d.a,i=self.Fb(1),P=self.Fb(1);for(var y=0;y<4;y++){self.Uf(K,i,y);
if(y<3)self.xS(i,P,x,c,J);else P=i;self.Pd(P,E,y)}};W.d.a.Um=function(K,E,x){var self=W.d.a,c=self.pz,J=self.o4,i=0;
for(var y=0;y<J;y++){var P=y*c,_=(y-1)*c,a=(y+1)*c;if(_<0)_=P;if(a>=J)a=P;for(var j=0;j<c;j++){var e=j-1,d=j+1;
if(e<0)e=j;if(d>=c)d=j;var I=P+e,v=P+d,n=_+j,C=a+j,T=P+j,o=K[I],s=K[v],Q=K[n],X=K[C],B=K[T],M=B+(B*4*x+.5);
M=M-((o+s+X+Q)*x+.5);E[i++]=self.lP(M)}}};W.d.a.sc=function(K,E,x){var self=W.d.a,c=self.Fb(1),J=self.Fb(1);
for(var y=0;y<4;y++){self.Uf(K,c,y);if(y<3)self.Um(c,J,x);else J=c;self.Pd(J,E,y)}};W.d.a.a7x=function(K,E,x){var self=W.d.a,c=self.pz,J=self.o4,i=0,P=x+4;
for(var y=0;y<J;y++){var _=y*c,a=(y-1)*c,j=(y+1)*c;if(a<0)a=_;if(j>=J)j=_;for(var e=0;e<c;e++){var d=e-1,I=e+1;
if(d<0)d=e;if(I>=c)I=e;var v=_+d<<2,n=_+I<<2,C=a+e<<2,T=j+e<<2,o=_+e<<2;for(var s=0;s<3;s++){var Q=K[v+s],X=K[n+s],B=K[C+s],M=K[T+s],S=K[o+s];
E[i++]=(S*x+Q+X+M+B)/P}E[i]=K[i];i++}}};W.d.a.D8=function(K,E,x,c){var self=W.d.a,J=self.pz,i=self.o4,P=x>>1,_=c>>1,a=0,j=new Int32Array(x),e=new Int32Array(256);
for(var y=0;y<i;y++){for(var d=0;d<256;d++){e[d]=0}for(var I=0;I<x;I++){for(var v=0,n=c;v<n;v++){var C=0-_+v,T=y-P+I;
if(v==0){j[I]=C}if(C<0)C=0;else if(C>=J)C=J-1;if(T<0)T=0;else if(T>=i)T=i-1;e[K[T*J+C]]++}}var o=0,s=0;
for(var Q=0;Q<256;Q++){if(o<e[Q]){s=Q;o=e[Q]}}E[a++]=s;for(var d=1;d<J;d++){for(var I=0;I<x;I++){var T=y-P+I,X=j[I]+1;
j[I]=X;var B=X-1,M=X+c-1;if(T<0)T=0;else if(T>=i)T=i-1;if(B<0)B=0;else if(B>=J)B=J-1;if(M<0)M=0;else if(M>=J)M=J-1;
e[K[T*J+B]]--;e[K[T*J+M]]++}o=0;s=0;for(var Q=0;Q<256;Q++){if(o<e[Q]){s=Q;o=e[Q]}}E[a++]=s}}};W.d.a.afS=[function(K,E,x,c,J,i,P,_,a,j){return J+(K+E+x)*j-(a+_+P)*j},function(K,E,x,c,J,i,P,_,a,j){return J+(E+x+i)*j-(_+P+c)*j},function(K,E,x,c,J,i,P,_,a,j){return J+(x+i+a)*j-(P+c+K)*j},function(K,E,x,c,J,i,P,_,a,j){return J+(i+a+_)*j-(c+K+E)*j},function(K,E,x,c,J,i,P,_,a,j){return J+(a+_+P)*j-(K+E+x)*j},function(K,E,x,c,J,i,P,_,a,j){return J+(_+P+c)*j-(E+x+i)*j},function(K,E,x,c,J,i,P,_,a,j){return J+(P+c+K)*j-(x+i+a)*j},function(K,E,x,c,J,i,P,_,a,j){return J+(c+K+E)*j-(i+a+_)*j}];
W.d.a.cv=function(K,E,x,c,J){var self=W.d.a,i=self.pz,P=self.o4,_=i,a=self.afS[c-1];for(var y=0;y<P;
y++){var j=(y>0?y-1:0)*_,e=y*_,d=(y<P?y+1:y)*_;for(var I=0;I<i;I++){var v=I>0?I-1:0,n=I<i?I+1:I,C=e+I,T=K[j+v],o=K[j+I],s=K[j+n],Q=K[e+v],X=E[C],B=K[e+n],M=K[d+v],S=K[d+I],f=K[d+n];
x[C]=self.lP(a(T,o,s,Q,X,B,M,S,f,J))}}};W.d.a.auf=function(K,E,x,c,J){var self=W.d.a,i=self.Fb(1),P=self.Fb(1),_=self.Fb(1);
for(var y=0;y<3;y++){self.Uf(K,i,y);self.Uf(E,P,y);self.cv(i,P,_,c,J);self.Pd(_,x,y)}self.Uf(E,i,3);
self.Pd(i,x,3)};W.d.a.uB=function(K,E){var x=K.length,c=0;for(var y=0;y<x;y++){E[c++]=~~((K[y++]+K[y++]+K[y++]+2)/3)}};
W.d.a.jJ=function(K,E){var x=E.length,c=0;for(var y=0;y<x;y++){var J=K[y];E[c++]=J;E[c++]=J;E[c++]=J;
E[c++]=255}if(E[0]==255)E[0]--;else E[0]++};W.d.a.kw=function(K,E){var x=E.length,c=0;for(var y=0;y<x;
y++){var J=K[c++],i=K[c++],P=K[c++];c++;if(i>J)J=i;if(P>J)J=P;E[y]=J}};W.d.a.Nb=function(K,E){if(E==null)E=K;
var x=K.length;for(var c=0;c<x;c+=4){var J=K[c],i=K[c+1],P=K[c+2],_=J,a=0,j=J,d;if(i<=J){J=i}else{a=1;
j=i}if(P<=j){if(J>P){J=P}}else{a=2;j=P}var e=j-J;if(e!=0){if(a==0){d=~~(43*(i-P)/e)}else if(a==1){d=~~(43*(P+2*e-_)/e)}else{d=43*(_+4*e-i)/e}if(d<0){d=255&d-1}E[c]=d;
E[c+1]=~~(255*e/j)}else{E[c]=e;E[c+1]=e}E[c+2]=j;E[c+3]=K[c+3]}};W.d.a.Gi=function(K,E){if(E==null)E=K;
var x=K.length;for(var c=0;c<x;c+=4){var J=K[c],i=K[c+1],P=K[c+2];if(i){if(J==255)J=0;var _=~~(6*J/255),a=~~(-255*_+6*J);
if(_==0){E[c]=P;E[c+1]=~~(P*(255-i*(255-a)/255)/255);E[c+2]=~~(P*(255-i)/255)}else if(_==1){E[c]=~~(P*(255-i*a/255)/255);
E[c+1]=P;E[c+2]=~~(P*(255-i)/255)}else if(_==2){E[c]=~~(P*(255-i)/255);E[c+1]=P;E[c+2]=~~(P*(255-i*(255-a)/255)/255)}else if(_==3){E[c]=~~(P*(255-i)/255);
E[c+1]=~~(P*(255-i*a/255)/255);E[c+2]=P}else if(_==4){E[c]=~~(P*(255-i*(255-a)/255)/255);E[c+1]=~~(P*(255-i)/255);
E[c+2]=P}else{E[c]=P;E[c+1]=~~(P*(255-i)/255);E[c+2]=~~(P*(255-i*a/255)/255)}}else{E[c]=P;E[c+1]=P;E[c+2]=P}E[c+3]=K[c+3]}};
W.d.a.Pd=function(K,E,x,c){if(x==null)x=2;if(c==null)c=4;var J=K.length;for(var y=0;y<J;y++){E[x]=K[y];
x+=c}};W.d.a.Uf=function(K,E,x,c){if(x==null)x=2;if(c==null)c=4;var J=E.length;for(var y=0;y<J;y++){E[y]=K[x];
x+=c}};W.d.a.v4=function(K,E,x,c){if(c==null)c=1;var J=E.length,i=0,P;for(var i=0;i<J;i++){P=E[i];if(P){P*=c;
x[i]=~~((P*K[i]+(255-P)*x[i])/255)}}};W.d.a.Kb=function(K,E,x,c){if(c==null)c=x;var J=E.length,i=0,P,_;
for(var y=0;y<J;y++){P=E[y];if(P){_=255-P;c[i]=~~((P*K[i]+_*x[i])/255);c[i+1]=~~((P*K[i+1]+_*x[i+1])/255);
c[i+2]=~~((P*K[i+2]+_*x[i+2])/255)}c[i+3]=K[i+3];i+=4}};W.d.a.BX=function(K,E,x,c){var J=~~(c*255),i=x.length;
for(var y=0;y<i;y++){x[y]=((255-J*(255-K[y])/255)*E[y]+K[y]*(J*(255-K[y])/255))/255}};W.d.a.a1=function(K,E,x,c){var J=~~(c*255),i=x.length;
for(var y=0;y<i;y++){x[y]=((255-J*K[y]/255)*E[y]+K[y]*(J*K[y]/255))/255}};W.d.a.et=function(K,E,x){var c=E.length;
for(var y=0;y<c;y++){E[y]=~~(K[y]*x+.5)+(E[y]-~~(E[y]*x+.5))}};W.d.a.sub=function(K,E){var x=K.length;
for(var y=0;y<x;y++){E[y]=Math.max(K[y]-E[y],0)}};W.d.a.add=function(K,E){var x=K.length;for(var y=0;
y<x;y++){E[y]=Math.min(K[y]+E[y],255)}};W.d.a.a1s=function(K,E){var x=K.length;for(var y=0;y<x;y++){E[y]=K[y]+E[y]}};
W.d.a.Fm=function(K,E){var x=K.length;for(var y=0;y<x;y++){E[y]=K[y]+E[y]>>1}};W.d.a.dq=function(K,E){var x=K.length;
for(var y=0;y<x;y++){E[y]=K[y]}};W.d.a.EX=function(K,E){var x=K.length;for(var y=0;y<x;y++){K[y]=E[K[y]]}};
W.d.a.wx=function(K,E){var x=W.d.a.ug;for(var y=0;y<x;y+=4){var c=K[y],J=K[y+1],i=K[y+2],P=c;if(J>c)P=J;
if(i>c)P=i;var _=E[P];if(_){K[y]=~~(_*c/P);K[y+1]=~~(_*J/P);K[y+2]=~~(_*i/P)}else{K[y]=_;K[y+1]=_;K[y+2]=_}}};
W.d.a.iO=function(K,E){for(var y=0,x=K.length;y<x;y++){K[y]=Math.min(255,~~(.5+K[y]*E))}};W.d.a.TU=function(K,E){for(var y=0,x=K.length;
y<x;y++){K[y]=255-Math.min(255,~~(.5+(255-K[y])*E))}};W.d.a.Pa=function(K){var E=K.length;for(var y=0;
y<E;y++){K[y]=255-K[y]}};W.d.a.Is=function(K,E,x,c){if(x==null)x=0;if(c==null)c=255;for(var y=0,J=K.length;
y<J;y++){K[y]=K[y]>=E?c:x}};W.d.a.Da=function(K){return[K>>24&255,K>>16&255,K>>8&255,K&255]};W.d.a.atu=function(K,E,x,c){if(x==null)x=255;
if(c==null)c=4278190335;var J=W.d.a,i=J.ug,P=J.Da(x),_=J.Da(c);for(var y=0;y<i;y+=4){var a=~~((K[y]+K[y+1]+K[y+2]+2)/3);
if(a>=E){K[y]=P[0];K[y+1]=P[1];K[y+2]=P[2]}else{K[y]=_[0];K[y+1]=_[1];K[y+2]=_[2]}}};W.d.a.BS=function(K,E){var x=W.d.a,c=x.ug,J=x.Da(E);
for(var y=0;y<c;){K[y++]=J[0];K[y++]=J[1];K[y++]=J[2];K[y++]=J[3]}};W.d.a.cO=function(K,E){var x=K.length;
for(var y=0;y<x;){K[y++]=E}};W.d.a._w=function(K,E){K=K>5?(100-Math.max(4,K))/100:.95;E=E!=100?Math.max(4,E)/100:.9995;
var x=new Uint8Array(256),c=E>.5?.5/(1-E):E*2,J=~~(c*256),i=~~((.5-K*c)*256)<<8;for(var y=0;y<256;y++){x[y]=W.d.a.lP(i>>8);
i+=J}return x};W.d.a.gT=function(K){for(var y=0,E=W.d.a,x=K.length;y<x;y++){K[y]=~~(E.random()*256)}};
W.d.a.ady=function(K,E){for(var y=0,x=W.d.a,c=K.length;y<c;y++){K[y]=x.random()<E?255:0}};W.d.a.fI=function(K,E,x){for(var y=0,c=W.d.a,J=K.length;
y<J;y++){if(c.random()<E)K[y]=x}};W.d.a.e9=function(K,E,x){var c=K.length;for(var y=0;y<c;y++){K[y]=W.d.a.lP(K[y]+x[E[y]])}};
W.d.a.py=function(K){var E=new Uint32Array(256);for(var y=0,x=K.length;y<x;y++)E[K[y]]++;return E};W.d.a.atK=function(K,E){var x=0,c=0,J=new Uint32Array(256),i=new Float32Array(256);
for(var y=0,P=K.length;y<P;y++){var _=K[y],a=E[y];if(a==255){J[_]++;x++}else if(a>0){a/=255;c+=a;i[_]+=a;
if(c>=1){c--;x++}if(i[_]>=1){i[_]--;J[_]++}}}return[x,J]};W.d.a.lf=function(K,E,x,c){var self=W.d.a,J,i,e=0,I=256;
if(c){var P=self.atK(x,c);J=P[1];i=P[0]/100}else{J=self.py(x);i=self.L9/100}var _=new Uint8Array(256),a=i*K,j=i*E,d=-1;
do{e+=J[++d]}while(e<=a);e=0;do{e+=J[--I]}while(e<=j);if(I-d<=0)I=d+1;if(I>255){I=255;d=254}var v=255/(I-d),n=-d;
for(var y=0;y<256;y++){_[y]=self.lP(v*n+.5);n++}return _};W.d.a.Es=function(K,E,x,c){var J=W.d.a;J.EX(K,J.lf(E,x,K,c))};
W.d.a.a8u=function(K,E){var self=W.d.a,x=self.py(K),c=self.L9*E/100,J=0,i=-1;do{J+=x[++i]}while(J<=c);
return i};W.d.a.zu=function(K,E){var x=0,self=W.d.a,c=self.pz,J=self.o4,i=1/Math.PI,P=i*255;for(var y=0;
y<J;y++){var _=y+1;if(_==J)_--;var a=y*c,j=~~((1-(y+1)/J)*255);for(var e=0;e<c;e++){var d=e+1;if(d==c)d--;
var I=K[a+e],v=K[a+d],n=K[_*c+e];if(I-n==0){E[x++]=j}else{var C=I-n+255;if(C==255){C=0}else{C=~~(Math.atan2(1/(255-C),1)*P+.5);
if(C<0)C+=255}E[x++]=C}if(I-v==0){E[x++]=~~((1-(e+1)/c)*255)}else{var C=I-v+255;if(C==255){C=0}else{C=~~(Math.atan2(1/(255-C),1)*P+.5);
if(C<0)C+=255}E[x++]=C}}}};W.d.a.zE=function(K,E){var self=W.d.a,x=self.pz,c=self.o4,J=0;for(var y=0;
y<c;y++){for(var i=0;i<x;i++){K[J]=~~(y*E+.5)+~~(K[J]*(1-E)+.5);J++;K[J]=~~(i*E+.5)+~~(K[J]*(1-E)+.5);
J++}}};W.d.a.aqz=function(K,E,x,c){var self=W.d.a,J=self.pz,i=self.o4,P=0;for(var y=0;y<i;y++){for(var _=0;
_<J;_++){E[P]=~~(E[P]*(1-x)+.5)+~~(K[P]*c+.5);P++;E[P]=~~(E[P]*(1-x)+.5)+~~(K[P]*c+.5);P++}}};W.d.a.My=function(K,E,x){var self=W.d.a,c=self.pz,J=self.o4,i=0,P=0;
for(var y=0;y<J;y++){for(var _=0;_<c;_++){var a=K[i++],j=K[i++];E[P++]=j%x>=2&&a%x>=2?255:0}}};W.d.a.km=function(K,E,x,c,J,i,P){var self=W.d.a,_=self.pz,a=self.o4,j=0,e=0,d=0;
for(var y=0;y<a;y++){var I=y%K<x||a-x<=y;for(var v=0;v<_;v++){P[j++]=I||v%E<c||_-c<=v?J:i}}};W.d.a.vT=function(K,E,x,c){var self=W.d.a,J=self.pz,i=self.o4;
self.km(8,8,4,4,0,255,K)};W.d.a.lP=function(K){return~~Math.min(255,Math.max(0,K))};W.d.a.jw=[0,5,10,15,20,25,35,45,65,85,105,125,145,165,185,205];
W.d.a.$R=[0,.2,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.5,3,3.5,4,5,6,7,8,9,10];W.d.a.wD=function(K){return K>40?[1.25,1.5,1.75,2,2.5,3,4,5,7.5,10][K-41]:K/40};
W.d.a.a5r=function(K,E,x){var self=W.d.a,c=self.pz,J=self.o4,i=x,P=x>>1,_=P-1,a=i*i,j=0;for(var y=0;
y<J;y++){var e=0,d=0,I=0,v=~~(y/x)*x,n=0;for(var C=0;C<i;C++){for(var T=0;T<i;T++){var o=n+T,s=v+C;if(o>=c)o=c-1;
if(s>=J)s=J-1;e+=K[s*c+o<<2];d+=K[(s*c+o<<2)+1];I+=K[(s*c+o<<2)+2]}}var Q=~~(e/a),X=~~(d/a),B=~~(I/a);
E[j]=Q;E[j+1]=X;E[j+2]=B;E[j+3]=K[j+3];j+=4;for(var M=1;M<c;M++){for(var C=0;C<i;C++){var S=M-1,f=S+i,s=v+C;
if(f>=c)f=c-1;if(s>=J)s=J-1;var F=s*c,G=F+f<<2,D=F+S<<2;e+=K[G]-K[D];d+=K[G+1]-K[D+1];I+=K[G+2]-K[D+2]}if(M%x==0){Q=~~(e/a);
X=~~(d/a);B=~~(I/a)}E[j]=Q;E[j+1]=X;E[j+2]=B;E[j+3]=K[j+3];j+=4}}};W.d.a.aj0=function(K,E,x,c,J){var self=W.d.a,i=self.pz,P=self.o4,_=0,a=0,j=0,e=0;
for(var y=e;y<P+e;y++){var d=y%E>=c||y<c||P+e-c<=y;for(var I=0;I<i;I++){K[_++]=d&&(I%x>=J||I<J||i-J<=I)?255:0}}};
W.d.a.avm=function(K,E,x){var c=function(j,e){return e<=j?j/e&1?e-j%e:j%e:j},J=[function(_,a){return c(_,255)/255},function(_,a){return(255+c(_,255)-c(a,255))/510},function(_,a){return(255-c(a,255))/255},function(_,a){return(510-c(_,255)-c(a,255))/510},function(_,a){return(255-c(_,255))/255},function(_,a){return(255-c(_,255)+c(a,255))/510},function(_,a){return c(a,255)/255},function(_,a){return(c(_,255)+c(a,255))/510}][x],i=0,P=0;
for(var y=0;y<W.d.a.L9;y++){var _=K[i++],a=K[i++];E[P++]=~~(255*J(_,a))}};W.d.a8t=function(){var K=[],E=new Uint8Array(512),x=new Float32Array(512),c=new Float32Array(512),J=[1,-1,1,-1,1,-1,0,0],i=[1,1,-1,-1,0,0,1,-1],P=0,_,n=0;
for(;P<256;P++)K[P]=P;while(P!=0){P--;_=Math.floor(Math.random()*P);K[_]^=K[P]^(K[P]=K[_])}function a(a){a=Math.floor(a*65536);
if(a<256){a|=a<<8}for(var y=0;y<256;y++){var o=y+256,s=K[y]^(y&1?a:a>>8)&255;E[y]=E[o]=s;s=s%8;x[y]=x[o]=J[s];
c[y]=c[o]=i[s]}}function j(o){return o*o*o*(o*(o*6-15)+10)}function e(o,s,Q){return(1-Q)*o+Q*s}function d(o,s){return o&s}function I(o,s){return o%s}function v(o,s,Q,X,B){var M=Math.floor(o),S=Math.floor(s),P,f,F,G,D,b;
o=o-M;s=s-S;M=M&255;S=S&255;P=M+E[S];G=x[P]*o+c[P]*s;P=M+E[B(S+1,X)];F=x[P]*o+c[P]*(s-1);P=B(M+1,Q)+E[S];
D=x[P]*(o-1)+c[P]*s;P=B(M+1,Q)+E[B(S+1,X)];b=x[P]*(o-1)+c[P]*(s-1);f=j(o);return e(e(G,D,f),e(F,b,f),j(s))}function C(o,P,s){o[P]=s}function T(o,s,Q,X,B){var M=Math.min(Math.min(s,256),Math.min(256,Q)),S=M==256||M<8,f=8,F=new Uint32Array(f),G=new Uint32Array(f),D=new Float32Array(f),b=new Float32Array(f),H=1,q=1,O=S?d:I,w=C,V;
for(var y=0;y<f;y++){V=q*1/M;if(S){G[y]=(1<<Math.ceil(Math.log2(Q*V)))-1;F[y]=(1<<Math.ceil(Math.log2(s*V)))-1}else{G[y]=V*Q;
F[y]=V*s}D[y]=H;b[y]=V;H*=.5;q=q<<1}a(Math.random());for(var t=0,P=0;t<Q;t++){for(var m=0;m<s;m++){var g=0;
for(var Y=0;Y<f;Y++){V=b[Y];g+=v(m*V,t*V,F[Y],G[Y],O)*D[Y]}w(X,P++,Math.round(Math.max(0,255*Math.min(1,.5+g*.5))))}}}return T}();
W.d.axi=function(){function K(E,x,c,J){var i=new Uint8Array(E.length>>>2),P=new Uint8Array(E.length>>>2),_=new Uint8Array(E.length);
for(var y=0;y<E.length;y+=4){var a=E[y+0]*.3+E[y+1]*.59+E[y+2]*.11;P[y>>>2]=a;_[y]=E[y];_[y+1]=E[y+1];
_[y+2]=E[y+2]}W.vm.WC(P,i,x,c);W.vm.z3(E,J,x,c,W.vm.rC[1],0,!0);for(var y=0;y<E.length;y+=4){_[y+3]=255-i[y>>>2]}for(var y=0,j=E.length;
y<j;y+=4){var e=_[y+3]/255;J[y]=_[y]*e+J[y]*(1-e);J[y+1]=_[y+1]*e+J[y+1]*(1-e);J[y+2]=_[y+2]*e+J[y+2]*(1-e)}}return K}();
W.d.a4u=function(){function K(i,P,_,a,j){var e=new Uint32Array(i.buffer),d=0;for(var y=0;y<_;y++){for(var I=0;
I<P;I++,d+=4){var v=e[y*P+I],n=v&255,C=v>>>8&255,T=v>>>16&255,o=v>>>24&255,s=~~(Math.random()*8),Q=s%3,X=0,B=0;
if(s<3){B--}else if(s>4){B++}if(Q==0){X--}else if(Q==2){X++}var M=I+X,S=y+B;if(M<0)M=0;else if(M>P-1)M=P-1;
if(S<0)S=0;else if(S>_-1)S=_-1;var v=e[S*P+M],f=v&255,F=v>>>8&255,G=v>>>16&255,D=v>>>24&255;a[d]=j(n,f);
a[d+1]=j(C,F);a[d+2]=j(T,G);a[d+3]=j(o,D)}}}function E(i,P){return P}function x(i,P){return i>P?P:i}function c(i,P){return i<P?P:i}function J(i,P,_,a,j){var e=j[0];
if(e==0)K(i,P,_,a,E);else if(e==1)K(i,P,_,a,x);else if(e==2)K(i,P,_,a,c);else if(e==3){console.error("Not implemented")}else console.error("Mew mew")}return J}();
W.d.asU=function(){function K(E,x,c,J,i){var P=i&&i[0]?i[0]:4,_,a,j,e,d,I,v;for(var y=0;y<c;y++){var n=Math.max(y-P,0),C=Math.min(y+P,c-1);
for(var T=0;T<x;T++){var o=Math.max(T-P,0),s=Math.min(T+P,x-1);_=n*x+o<<2;e=E[_];d=E[_+1];I=E[_+2];v=E[_+3];
_=n*x+s<<2;e+=E[_];d+=E[_+1];I+=E[_+2];v+=E[_+3];_=C*x+o<<2;e+=E[_];d+=E[_+1];I+=E[_+2];v+=E[_+3];_=C*x+s<<2;
e+=E[_];d+=E[_+1];I+=E[_+2];v+=E[_+3];_=y*x+T<<2;J[_]=e+2>>>2;J[_+1]=d+2>>>2;J[_+2]=I+2>>>2;J[_+3]=v+2>>>2}}}return K}();
W.d.aiX=function(){function K(E,x,c,J){var i=new Uint8Array(E.length),P=new Uint8Array(E.length>>>2),_=new Uint8Array(E.length>>>2);
W.vm.z3(E,i,x,c,W.vm.rC[2],0,!0);for(var y=0;y<E.length;y+=4){var a=i[y+0]*.3+i[y+1]*.59+i[y+2]*.11;
P[y>>>2]=a;J[y+0]=E[y+0];J[y+1]=E[y+1];J[y+2]=E[y+2];J[y+3]=E[y+3]}W.vm.WC(P,_,x,c);for(var y=0;y<E.length;
y+=4){i[y+3]=~~(Math.max(0,255-_[y>>>2]-50)*(255/205))}for(var y=0,j=E.length;y<j;y+=4){var e=i[y+3]/255;
J[y]=i[y]*e+J[y]*(1-e);J[y+1]=i[y+1]*e+J[y+1]*(1-e);J[y+2]=i[y+2]*e+J[y+2]*(1-e)}}return K}();W.d.xc=function(){function K(s,Q){return s[Q]+s[Q+1]+s[Q+2]+s[Q+3]}function E(s,Q){return s[Q]+s[Q+1]+s[Q+2]+2*s[Q+3]}function x(s,Q,X,B){s[Q]=X[B];
s[Q+1]=X[B+1];s[Q+2]=X[B+2];s[Q+3]=X[B+3]}function c(s,Q,X){s[Q]=s[X];s[Q+1]=s[X+1];s[Q+2]=s[X+2];s[Q+3]=s[X+3]}function J(s,Q,X){s[X]=Q[X];
s[X+1]=Q[X+1];s[X+2]=Q[X+2];s[X+3]=255-Q[X+3]}function i(s){for(var y=0,Q=s.length;y<Q;y+=4){s[y+3]=255-s[y+3]}}function P(){var s=Math.random();
if(s>.5)return 0;if(s>.25)return 1;if(s>.1)return 2;if(s>.02143)return 3;if(s>.00445)return 4;if(s>65e-5)return 5;
if(s>415e-6)return 6;if(s>55e-6)return 7;return 8}function _(s,Q,X,B,M,S){s[Q]=X[B]+(M[S]-X[B]>>1);s[Q+1]=X[B+1]+(M[S+1]-X[B+1]>>1);
s[Q+2]=X[B+2]+(M[S+2]-X[B+2]>>1);s[Q+3]=X[B+3]+(M[S+3]-X[B+3]>>1)}function a(s,Q,X,B,M,S){s[Q]=M[S]+X[B]>>1;
s[Q+1]=M[S+1]+X[B+1]>>1;s[Q+2]=M[S+2]+X[B+2]>>1;s[Q+3]=M[S+3]+X[B+3]>>1}function j(s,Q,X,B,M,S,f,F,G){var D=0,b=0,H=0,y,q=M[S],O;
_(F,0,s,Q,s,X);for(y=0;y<q;y++){_(F,(y+1)*4,F,y*4,s,X)}b=(q+1)*4;H+=q;S--;x(s,Q,F,b-4);B[S]=K(s,Q);Q-=G;
while(S>0&&B[S-1]<B[S]){O=F;F=f;f=O;D=b;a(F,0,s,Q-G,f,0);for(y=4;y<D;y+=4){a(F,y,F,y-4,f,y)}q=M[S];for(y=H;
y<q;y++){_(F,b,F,b-4,f,D-4);b+=4;H++}S--;x(s,Q,F,b-4);B[S]=K(s,Q);Q-=G}}function e(s,Q,X,B,M){var S=Q*4,f=0,F,G,D=new Uint8Array(Q+1),b=new Uint8Array(10*4),H=new Uint8Array(10*4);
for(var y=0;y<X;y++){J(B,s,f);M[0]=K(B,f);D[0]=P();F=f;f+=4;for(var q=1;q<Q;q++){J(B,s,f);M[q]=K(B,f);
G=P();D[q]=G;if(M[q-1]<M[q]&&G>0){j(B,f-4,f,M,D,q,b,H,4)}f+=4}M[Q]=M[0];D[Q]=D[0];if(M[Q-1]<M[Q]&&G>0){j(B,f,F,M,D,Q,b,H,4)}}i(B)}function d(){var s=Math.random();
if(s>.659755)return 0;if(s>.1625)return 10;if(s>.06)return 20;if(s>.01)return 30;if(s>.0035)return 40;
if(s>65e-5)return 50;if(s>415e-6)return 60;if(s>55e-6)return 70;return 80}function I(s,Q,X,B,M,S){var f=d()+1,F=B[M];
for(var y=1;y<f;y++){if(0>M)break;if(B[M-y]<F){c(s,Q,X)}else{break}Q+=S}}function v(s,Q,X,B,M){var S=Q*4,f=0;
for(var y=0;y<X;y++){J(B,s,f);M[0]=K(B,f);f+=4;for(var F=1;F<Q;F++){J(B,s,f);M[F]=K(s,f);if(M[F-1]<M[F]){I(B,f-4,f,M,F,-4)}f+=4}M[Q]=M[0];
if(M[F-1]<M[F]){I(B,f-4,f-S,M,F,-4)}}i(B)}function n(s,Q,X,B,M,S){var f=1,F,G,D=new Uint8Array(4),b,H=Q;
while(Math.random()<1/f){H=Q;if(B<=1)break;F=X[B];G=X[B-1];if(F<=G)break;x(D,0,s,H-S);b=!0;for(var y=B;
y<M;y++){if(G>X[y]){x(s,H-S,D,0);X[y-1]=G;b=!1;break}x(s,H-S,s,H);X[y-1]=X[y];H+=S}if(b){x(s,H-S,D,0);
X[M-1]=G}f++;B--;Q-=S}}function C(s,Q,X,B,M){var S=0,f=0,F=Q*4;for(var y=0;y<X;y++){f=S;for(var G=0;
G<Q;G++){J(B,s,S);M[G]=E(B,S);S+=4}S=f;for(var G=1;G<Q;G++){if(M[G-1]<M[G]&&Math.random()<.66){n(B,S+4,M,G,Q,4)}S+=4}S+=4}i(B)}function T(s,Q,X,B,M){var S=M[0],f=M[1],F=new Uint16Array(Q+1),G=s,D=B,b;
if(f){b=B.slice(0);o(s,B,Q,X);G=B;D=b}if(S==0)e(G,Q,X,D,F);else if(S==1)v(G,Q,X,D,F);else if(S==2)C(G,Q,X,D,F);
if(f){o(b,B,Q,X)}}function o(s,Q,X,B){for(var M=0;M<B;M++)for(var S=0;S<X;S++){var f=M*X+S<<2,F=M*X+(X-1-S)<<2;
Q[F]=s[f];Q[F+1]=s[f+1];Q[F+2]=s[f+2];Q[F+3]=s[f+3]}}return T}();W.d.lr=function(K,E,x,c,J){var i=W.d.a,P=1,T=0,Q=0;
i.w9(E,x);i.Vh(J[2]);var _=3<<13,a=Math.PI/2.43,j=a/256,e=Math.PI*2/256;function d(){var S=i.random()*256,f=i.random()*256;
return P*~~(Math.tan(a-S*j)*325*Math.cos(f*e)*256)+_>>16}P=J[0];var I=J[1],v=(I+2)/2,n=i.random()*255,C=i.Fb(1);
for(var y=0;y<x;y++){var o=i.lP(d()+n);for(var s=0;s<E;s++){o=i.lP(d()+o);C[T++]=o}}T=E;for(var y=1;
y<x;y++){var X=i.lP(d()+C[Q++]);C[T++]=X;for(var s=1;s<E;s++){var B=Q+1;if(s+1==E){B--}var M=(v+X+C[B]+C[Q]*I)/(I+2);
X=i.lP(d()+M);C[T++]=X;Q++}}i.jJ(C,c)};var jW=function(){function K(z){z=z^61^z>>>16;z=z+(z<<3);z=z^z>>>4;
z=z*668265261;z=z^z>>>15;return z}var E=function(){var E=function(z){if(z){this.Cc=z}this.Cc=K(this.Cc);
return(this.Cc&16777215)*(1/16777215)};return E};function x(z,p){if(p==null){p=[0,0]}return Math.sqrt((p[0]-z[0])*(p[0]-z[0])+(p[1]-z[1])*(p[1]-z[1]))}function c(z,p){if(p==null){p=[0,0]}return[-(p[1]-z[1])/x(z,p),(p[0]-z[0])/x(z,p)]}function J(z){return[Math.cos(z),Math.sin(z)]}function i(z){var p=x(z,[0,0]),L=[z[0]/p,z[1]/p],N=Math.atan(L[1]/L[0]);
if(L[0]>0&&L[1]<0){N+=2*Math.PI}else if(L[0]<0&&L[1]<0){N+=Math.PI}else if(L[0]<0&&L[1]>0){N+=Math.PI}return N}function P(z){var P=0;
for(var y=1;y<z.length/2;++y){P+=x([z[2*y],z[2*y+1]],[z[2*(y-1)],z[2*(y-1)+1]])}return P}function _(z,p,L){var N=new Float32Array(z.length),gC=1/(z.length/2),r=B(L);
for(var y=0;y<z.length/2;++y){var h=y*gC,l=h/2+.5,g5=1,fm=0;if(L.shape==2){g5=1/(2*l)}if(L.shape==3){l=(1-h)/2+.5;
g5=1/(2*l)+.5}if(L.shape==4){l=h;g5=Math.sin(3/2*Math.PI*l)/4+1}if(L.shape==5){l=(h-.5)*6;g5=(-Math.atan(l)/1.25+1)/5+.6-.2*h}var dC=[null,null];
if(y==0){dC=c([z[2*y],z[2*y+1]],[z[2*(y+1)],z[2*(y+1)+1]])}else if(y==z.length/2-1){dC=c([z[2*(y-1)],z[2*(y-1)+1]],[z[2*y],z[2*y+1]])}else{dC=c([z[2*(y-1)],z[2*(y-1)+1]],[z[2*(y+1)],z[2*(y+1)+1]])}N[2*y]=z[2*y]+(g5*p+fm)*dC[0];
N[2*y+1]=z[2*y+1]+(g5*p+fm)*dC[1];if(L.style==2){N[2*y]+=M(2*y/N.length,r,L)}}return N}function a(z,p,L){var N=new Float32Array(z.length),gC=1/(z.length/2);
for(var y=0;y<z.length/2;++y){var r=y*gC,h=[null,null],l=.6*L.Iq*F(r,p.a4M)*L.e8/100,g5=.6*L.Iq*F(r,p.aao)*L.e8/100,fm=p.aqa*l+(1-p.aqa)*g5;
if(y==0){h=c([z[2*y],z[2*y+1]],[z[2*(y+1)],z[2*(y+1)+1]])}else if(y==z.length/2-1){h=c([z[2*(y-1)],z[2*(y-1)+1]],[z[2*y],z[2*y+1]])}else{h=c([z[2*(y-1)],z[2*(y-1)+1]],[z[2*(y+1)],z[2*(y+1)+1]])}N[2*y]=z[2*y]+fm*h[0];
N[2*y+1]=z[2*y+1]+fm*h[1]}return N}function j(z){if(z.Uj==1){return[.150684932,.205479452,.465753425,.178082192]}else if(z.Uj==2){return[.126829268,.131707317,.156097561,.317073171,.141463415,.126829268]}else{var p=[],L=1/(H(z)-1);
for(var y=0;y<H(z)-1;++y){p.push(L)}return p}}function e(z,p,L){var N=[],gC=p-z,r=z;for(var y=0;y<L.length-1;
++y){N.push(r+L[y]*gC);r=N[y]}return N}function d(z,p,L,N){var gC=new Float32Array(L.length),r=0,h={shape:Math.floor(N.random()*2.99),a2T:N.random()*.1+.15};
for(var y=0;y<L.length-1;++y){var l=r+L[y];gC[y]=((1-l)*z+l*p)*o(N,l,h);r=l}return gC}function I(z,p,L,N){var gC=D(N),r=N.random(),h=r*20+(1-r)*26,l=new Float32Array(L.length),g5=0;
for(var y=0;y<L.length-1;++y){var fm=g5+L[y];l[y]=(1-fm)*z+fm*p+gC/h*(2/3*Math.sin(Math.PI*fm)+1/3*Math.sqrt(Math.sin(Math.PI*fm)));
g5=fm}return l}function v(z,p,L){var N=[];for(var y=0;y<p.length-1;++y){N.push(p[y].slice());var gC=y*(H(L)-1),r=(y+1)*(H(L)-1),h=z[r]-z[gC];
for(var l=gC+1;l<r;++l){var g5=B(L),fm=new Float32Array(p[0].length),dC=(z[l]-z[gC])/h;for(var ex=0;
ex<p[0].length/2;++ex){fm[2*ex]=(1-dC)*p[y][2*ex]+dC*p[y+1][2*ex];fm[2*ex+1]=(1-dC)*p[y][2*ex+1]+dC*p[y+1][2*ex+1];
if(L.style==2){fm[2*ex]+=M(2*ex/p[0].length,g5,L)}}N.push(fm)}}N.push(p[p.length-1]);return N}function n(z,p,L){var N=new Array(p.length),gC=g(z),h=null;
for(var y=0;y<p.length;++y){N[y]=_(gC,(p[y]-.5)*L.e8,L)}var r=1+.05*L.asd*D(L)/D({Uj:1});for(var y=0;
y<p.length;++y){if(p[y]==0){h=y}}for(var y=0;y<p.length;++y){var l=(L.random()-.5)*2,g5=Math.round(L.random()*9+1),fm=new Float32Array(g5*2+2);
for(var dC=0;dC<=g5;++dC){fm[2*dC]=N[y][0]-(N[y][2*dC]-N[y][0]);fm[2*dC+1]=N[y][1]-(N[y][2*dC+1]-N[y][1])}if(y==h){l*=.1}for(var dC=(N[y].length-1)/2;
dC>g5;--dC){N[y][2*dC]=(1-l)*N[y][2*dC]+l*(N[y][2*(dC-g5)]+r*(N[y][2*dC]-N[y][2*(dC-g5)]));N[y][2*dC+1]=(1-l)*N[y][2*dC+1]+l*(N[y][2*(dC-g5)+1]+r*(N[y][2*dC+1]-N[y][2*(dC-g5)+1]))}for(var dC=g5-1;
dC>=0;--dC){N[y][2*dC]=(1-l)*N[y][2*dC]+l*(fm[2*(g5-dC)]+r*(N[y][2*dC]-fm[2*(g5-dC)]));N[y][2*dC+1]=(1-l)*N[y][2*dC+1]+l*(fm[2*(g5-dC)+1]+r*(N[y][2*dC+1]-fm[2*(g5-dC)+1]))}}var ex=f(p,L);
if(L.Iq>0){var cR=0;for(var y=0;y<p.length;++y){if(y==0){cR+=p[y]}else{cR+=Math.abs(p[y]-p[y-1])}var d0=cR-Math.floor(cR),hN=1;
if(d0==0){hN=0}N[y]=a(N[y],{a4M:ex[Math.floor(cR)],aao:ex[Math.floor(cR)+hN],aqa:d0},L)}}return N}function C(z,p){var L=w(p,z),N=V(p,z),gC=[],r=[],h=[],l=j(z);
for(var y=0;y<p.length-1;++y){gC.push(p[y]);r.push(L[y]);h.push(N[y]);var g5=e(p[y],p[y+1],l),fm=d(L[y],L[y+1],l,z),dC=I(N[y],N[y+1],l,z);
for(var ex=0;ex<g5.length;++ex){gC.push(g5[ex]);r.push(fm[ex]);h.push(dC[ex])}}gC.push(p[p.length-1]);
r.push(L[L.length-1]);h.push(N[N.length-1]);return{a5v:gC,akE:r,ML:h}}function T(z,p,L,N){var gC=new Float32Array(2*N),r=z.length/2,h=r-p,l=L*h,g5=l/N;
for(var y=0;y<N;++y){var fm=Math.floor(p+y*g5),dC=Math.ceil(p+y*g5),L=p+y*g5,ex=dC-fm,cR=1,d0=0;if(ex!=0){cR=(dC-L)/ex;
d0=(L-fm)/ex}gC[2*y]=cR*z[2*fm]+d0*z[2*dC];gC[2*y+1]=cR*z[2*fm+1]+d0*z[2*dC+1]}return gC}function o(z,p,L){var N=L.a2T,gC=p*2*Math.PI,r=gC,h=0;
if(L.shape==0){h=(Math.sin(2*r+Math.PI/2)+1)/2}else if(L.shape==1){h=(Math.sin(r+Math.PI/2)+1)/2}else{h=(4*Math.sin(3/4*r+Math.PI)+Math.sin(Math.PI/2+2*r)-2*r/Math.PI+6)/7}return Math.min(1,1-N+N*h)}function s(z,p,L,N){var gC=[];
for(var y=0;y<z.length;++y){gC.push(T(z[y],p[y],L[y],N))}return gC}function Q(z,p,L){var N=[];for(var y=0;
y<z.length;++y){var gC=J(2*Math.PI*L.random()),r=J(2*Math.PI*L.random()),h=L.l1*.5*q({Uj:1})/q(L),l=h*L.e8/200,g5=h*p/500,fm=new Float32Array(z[0].length);
for(var dC=0;dC<z[0].length/2;++dC){var ex=J(2*Math.PI*L.random()),cR=2*dC/z[0].length;fm[2*dC]=z[y][2*dC]+l*(ex[0]+((1-cR)*gC[0]+cR*r[0]));
fm[2*dC+1]=z[y][2*dC+1]+g5*(ex[1]+((1-cR)*gC[1]+cR*r[1]))}N.push(fm)}return N}function X(z,p,L){var N=L.C4,gC=2/N,r=[1/10,1/30,1/40,1/45,1/100],h=r[L.Uj-1],l=4*(L.opacity/25*gC*h)*(1-L.l1/150),ex=0,d0=0;
if(L.style==3){return l*.09}var g5=2.2*(z-.5),fm=g5*g5*g5*g5+.27+Math.max(0,(L.opacity-50)/15),dC=2*(Math.sin(3*Math.PI*p)/(Math.PI*p+2)+1.1)-p/2;
p=2*p;if(p<.41){var cR=2*Math.PI*p/.41;ex=(Math.sin(cR-Math.PI/2)+1)/4+.5}else if(p<.77){var cR=2*Math.PI*(p-.41)/.36;
ex=(Math.sin(cR-Math.PI/2)+1)/4+.5-cR/2/Math.PI*.5}else{var cR=2*Math.PI*(p-.77)/.23;ex=(Math.sin(cR-Math.PI/2)+1)/2*.12}ex*=3;
ex+=Math.max(0,(L.opacity-50)/15);if(L.type==6){d0=dC}else{d0=ex}return l*fm*d0}function B(z){return{c:z.random()*7/2+.5,wf:z.random()*2*Math.PI}}function M(z,p,L){return L.e8/300*H({Uj:1})/H(L)*10*(Math.sin(p.c*2*Math.PI*z+p.wf)+10*(L.random()-.5))}function S(z){var p=Math.exp(-z.Iq/25);
return{c:z.random()*3/2+.5,wf:z.random()*2*Math.PI,ww:(z.random()-.5)*10*p}}function f(z,p){var L=Math.ceil(t(z)),N=[];
for(var y=0;y<=L;++y){N.push(S(p))}return N}function F(z,p){var L=p.c*4*Math.PI*z+p.wf;return Math.exp(-1/2*Math.PI*z)*Math.cos(L)*Math.cos(L)*Math.cos(L)*Math.cos(L)*Math.cos(L)+z*p.ww-p.ww/4}function G(z,p,L,N,gC){var r=0,h=q(p)-1;
for(var y=0;y<h;++y){for(var l=0;l<z.length-1;l+=H(p)-1){for(var g5=y;g5<z[0].length/2-h;g5+=h){for(var fm=l;
fm<l+(H(p)-1);++fm){L[gC+r]=X(fm*(p.C4-1)/(z.length-1)%1,g5/z[0].length,p);var dC=0,ex=0;if(p.type==6&&fm!=0&&fm!=z.length-1){ex=(z[fm][2*(g5+1)+1]-z[fm][2*g5+1])/2;
dC=(z[fm][2*(g5+1)]-z[fm][2*g5])/2}N[8*gC+8*r]=z[fm][2*g5]+dC;N[8*gC+8*r+1]=z[fm][2*g5+1]+ex;N[8*gC+8*r+2]=z[fm][2*(g5+h)]+dC;
N[8*gC+8*r+3]=z[fm][2*(g5+h)+1]+ex;N[8*gC+8*r+4]=z[fm+1][2*(g5+h)];N[8*gC+8*r+5]=z[fm+1][2*(g5+h)+1];
N[8*gC+8*r+6]=z[fm+1][2*g5];N[8*gC+8*r+7]=z[fm+1][2*g5+1];++r}}}}}function D(z){var p=[100,300,500,700,1e3];
return p[z.Uj-1]}function b(z){var p=[30,70,100,140,300];return p[z.Uj-1]}function H(z){var p=[5,7,26,40,100];
return p[z.Uj-1]}function q(z){if(z.Uj==1){return 4}else if(z.Uj==2){return 8}else{return Math.floor(b(z)/9)}}function O(z){var p=z.C4,L=new Float32Array(p),N=null;
for(var y=0;y<p;++y){L[y]=z.random()}if(z.C4<=3){L[0]=0;L[z.C4-1]=1}else{for(var y=0;y<2;++y){var gC=Math.floor(z.random()*p);
if(N==null||N!=gC){L[gC]=y;N=gC}else{L[gC+1]=y}}}return L}function w(z,p){var L=[],N=.2,r=0;for(var y=0;
y<z.length;++y){var gC=p.random()*(1-N)+N;L.push(gC)}var h=Math.min(3,p.C4);for(var y=0;y<z.length;++y){if(L[y]>.9){++r}}while(r<h){var l=Math.floor(p.random()*z.length);
if(L[l]<=.9){L[l]=.9+.1*p.random();++r}}return L}function V(z,p){var L=D(p),N=D({Uj:1}),gC=[];for(var y=0;
y<z.length;++y){gC.push(Math.max(1,(p.random()*10+2)*L/N))}return gC}function t(z){var p=0;for(var y=0;
y<z.length;++y){if(y==0){p+=z[y]}else{p+=Math.abs(z[y]-z[y-1])}}return p}function m(z,p){if(z.length/2-1==D(p)){return z}var L=new Float32Array(2*(D(p)+1)),N=(z.length-2)/(L.length-2);
for(var y=0;y<L.length/2;++y){var gC=y*N,r=Math.floor(gC),h=Math.ceil(gC),l=h-r,g5=1,fm=0;if(l!=0){g5=(h-gC)/l;
fm=(gC-r)/l}L[2*y]=g5*z[2*r]+fm*z[2*h];L[2*y+1]=g5*z[2*r+1]+fm*z[2*h+1]}return L}function g(z,p){var L=z.length/2,N=P(z),gC=N/L,r=!1,g5=0,fm=0,dC=1;
if(p){var h=Math.floor(N/p.axA),l=p.axA;if(p.arx&&z[0]==z[z.length-2]&&z[1]==z[z.length-1]){r=!0;l=N/(h+1)}if(p.type==2&&!r&&l*h+p.length>N){L=h+1}else{L=h+2}gC=l}var ex=new Float32Array(L*2);
ex[0]=z[0];ex[1]=z[1];for(var y=1;y<L;++y){while(g5<=y*gC){fm=g5;g5+=x([z[2*dC],z[2*dC+1]],[z[2*(dC-1)],z[2*(dC-1)+1]]);
++dC}var cR=1-(y*gC-fm)/(g5-fm);ex[2*y]=(1-cR)*z[2*dC]+cR*z[2*(dC-1)];ex[2*y+1]=(1-cR)*z[2*dC+1]+cR*z[2*(dC-1)+1]}ex[ex.length-2]=z[z.length-2];
ex[ex.length-1]=z[z.length-1];return ex}function Y(z,p){var L=g(z,p),N=[];for(var y=0;y<(L.length-2)/2;
++y){var gC=[];gC.push(L[2*y]);gC.push(L[2*y+1]);var r=x([L[2*(y+1)],L[2*(y+1)+1]],[L[2*y],L[2*y+1]]),h=[(L[2*(y+1)]-L[2*y])/r,(L[2*(y+1)+1]-L[2*y+1])/r],l=J((p.ajv-90)/360*2*Math.PI),g5=h;
if(p.type==3){g5=l}else if(p.type==4){g5=J(i(h)+i(l))}else if(p.type==5){g5=J(((p.random()-.5)*p.ajv-90)/360*2*Math.PI)}var fm=p.length;
if(p.atR){fm=2*p.random()*p.length}gC.push(L[2*y]+g5[0]*fm);gC.push(L[2*y+1]+g5[1]*fm);N.push(gC)}return N}function A(z){if(z.aoE){z.M4=100*Math.random()}else{z.M4=z.aqu}z.random=new E;
z.random(z.M4);if(z.type==6){z.C4=2;z.shape=5;z.asd=0}}function k(z,p){z=m(z,p);var L=[z],fm=0;if(p.type>=2&&p.type<6){L=Y(z,p)}var N=q(p)-1,gC=b(p)-N,r=(p.C4-1)*(H(p)-1),h=L.length*gC*r,l=new Float32Array(h),g5=new Float32Array(8*h);
for(var y=0;y<L.length;++y){for(var dC=0;dC<1e4;++dC){p.M4=K(p.M4)}p.random(p.M4);var z=m(L[y],p),ex=O(p),cR=t(ex),d0=n(z,ex,p),hN=C(p,ex),ey=v(hN.a5v,d0,p);
ey=s(ey,hN.ML,hN.akE,b(p));if(p.l1>0){ey=Q(ey,P(L[y]),p)}G(ey,p,l,g5,fm);fm+=gC*r}return[l,g5]}var jW=function(z){var p=performance.now(),L=z[0],N=z[1];
A(N);var gC=[new Float32Array(0),new Float32Array(0)];for(var y=0;y<L.length;++y){N.M4=K(N.M4);var r=k(L[y],N),h=new Float32Array(gC[0].length+r[0].length),l=new Float32Array(gC[1].length+r[1].length);
h.set(gC[0]);h.set(r[0],gC[0].length);gC[0]=h;l.set(gC[1]);l.set(r[1],gC[1].length);gC[1]=l}var g5=performance.now();
if(N.akx){console.jv("Geometry: "+String(g5-p)+"ms")}return gC};return jW}(),gW=function(){function K(J,i){var P=[],_=0,a=i.length,j=0,e=0,d=new cS,I=0,v=1e9;
for(e=0;e<a;e++){var n=e*8,C=i[e];if(C<v)v=C;var T=J[n+0],o=J[n+1],s=J[n+2],Q=J[n+3],X=J[n+4],B=J[n+5],M=J[n+6],S=J[n+7],f=Math.min(T,s,X,M),F=Math.max(T,s,X,M),G=Math.min(o,Q,B,S),D=Math.max(o,Q,B,S),b=new cS(f,G,F-f,D-G),H=b.XN(d),q=I+C;
if(e-j<10&&(e==j||H.O()*.8<b.O()+d.O())){d=H;I=q}else{P.push(e-j);j=e;d=b;I=C;v=C}}if(e!=j)P.push(e-j);
return P}function E(J,i,P,_,a,j){var e=document.createElement("canvas"),o=0,h=.8;e.width=i;e.height=P;
var d=e.getContext("2d"),I=a[0],v=a[1],n=new Float64Array(i*P),C=Date.now(),T=K(v,I);for(var s=0;s<T.length;
s++){var Q=o,X=o+T[s],S=1e9,F=1e9,w=0;o=X;var B=Q*8,M=X*8,f=-S,G=-F;for(var D=B;D<M;D+=2){var b=v[D],H=v[D+1];
if(b<S)S=b;if(b>f)f=b;if(H<F)F=H;if(H>G)G=H}S=Math.floor(S);f=Math.ceil(f);F=Math.floor(F);G=Math.ceil(G);
var q=f-S,O=G-F;for(var V=Q;V<X;V++)w+=I[V];for(var D=B;D<M;D+=8){var t=I[D>>>3],m=v[D+0],g=v[D+1],Y=v[D+2],A=v[D+3],k=v[D+4],z=v[D+5],p=v[D+6],L=v[D+7];
d.fillStyle="rgba(0,0,0,"+t/w+")";d.beginPath();d.moveTo(m,g);d.lineTo(Y,A);d.lineTo(k,z);d.lineTo(p,L);
d.closePath();d.fill()}var N=d.getImageData(S,F,q,O).data;for(var H=0;H<O;H++)for(var b=0;b<q;b++){var y=H*q+b,gC=N[y*4+3],r=(F+H)*i+S+b;
if(gC!=0)n[r]+=gC*w}d.clearRect(S,F,q,O)}var l=j[1].color,g5=Math.pow(l.o/255,h),fm=Math.pow(l.J/255,h),dC=Math.pow(l.k/255,h),ex=new cS(0,0,i,P),cR=W.Q(i*P*4);
for(var H=0;H<P;H++)for(var b=0;b<i;b++){var y=H*i+b,V=y*4,I=n[y]*(1/255);cR[V]=c(g5,I);cR[V+1]=c(fm,I);
cR[V+2]=c(dC,I);cR[V+3]=Math.min(255,I*255)}W.h.Nh("norm",cR,ex,_,ex,ex,1)}var x=new Uint8Array(2e3);
for(var y=0;y<2e3;y++)x[y]=255*Math.min(1,Math.log(y/700+1));function c(J,i){return x[Math.min(1500,~~(J*i*1e3))]}return E}(),cJ=function(){var K=new Float32Array(3e3),E=new Float32Array(3e3),x=new Float32Array(256),c=new Float32Array(3e3);
function J(){var v=K.length;K[0]=Math.log10(157647e-9);for(var y=1;y<v;++y)K[y]=Math.log10(y/v)}function i(){var v=E.length;
for(var y=0;y<v;++y)E[y]=Math.pow(10,20*(y-v/2)/v)}function P(){var v=x.length;for(var y=0;y<v;++y)x[y]=W.l$(y/255)}function _(){var v=c.length;
for(var y=0;y<v;++y)c[y]=255*W.hW(y/(v-1))}function a(v,n){var C=v.length>>>2;for(var y=0;y<C;++y){var T=x[v[4*y]],o=x[v[4*y+1]],s=x[v[4*y+2]],Q=.3811*T+.5783*o+.0402*s,X=.1967*T+.7244*o+.0782*s,B=.0241*T+.1288*o+.8444*s;
Q=K[~~(Q*K.length)];X=K[~~(X*K.length)];B=K[~~(B*K.length)];n[3*y]=(Q+X+B)*.5773502692;n[3*y+1]=(Q+X-2*B)*.4082482905;
n[3*y+2]=(Q-X)*.7071067812}}function j(v,n){var C=n.length>>>2,T=c.length-1;for(var y=0;y<C;++y){var o=.5773502692*v[3*y],s=.4082482905*v[3*y+1],Q=.7071067812*v[3*y+2],X=E[~~((o+s+Q+10)*(3e3/20))],B=E[~~((o+s-Q+10)*(3e3/20))],M=E[~~((o-2*s+10)*(3e3/20))],S=4.4679*X-3.5873*B+.1193*M,f=-1.2186*X+2.3809*B-.1624*M,F=.0497*X-.2439*B+1.2045*M;
n[4*y]=c[~~(T*Math.max(0,Math.min(1,S)))];n[4*y+1]=c[~~(T*Math.max(0,Math.min(1,f)))];n[4*y+2]=c[~~(T*Math.max(0,Math.min(1,F)))]}}function e(v){var n=0,C=0,T=0;
for(var y=0;y<v.length;y+=3){n+=v[y];C+=v[y+1];T+=v[y+2]}return[n/(v.length/3),C/(v.length/3),T/(v.length/3)]}function d(v,e){var n=0,C=0,T=0;
for(var y=0;y<v.length;y+=3){var o=v[y]-e[0],s=v[y+1]-e[1],Q=v[y+2]-e[2];n+=o*o;C+=s*s;T+=Q*Q}return[Math.sqrt(n/(v.length/3)),Math.sqrt(C/(v.length/3)),Math.sqrt(T/(v.length/3))]}function I(v,n,C,T,o,s){J();
i();P();_();var Q=0,g,Y;if(s[0]>100)Q=-(s[0]-100)/100*.13;else if(s[0]>=75)Q=(100-s[0])/25*.04;else if(s[0]>=50)Q=.04+(75-s[0])/25*.04;
else if(s[0]>=25)Q=.08+(50-s[0])/25*.08;else Q=.16+(25-s[0])/25*.24;var X=(s[1]-100+100)/100,B=s[2]/100,M=s[3],S=new Float32Array(v.length*3/4),f=new Float32Array(T.length*3/4),F=Date.now();
a(v,S);a(T,f);var G=Date.now(),D=e(S),b=e(f),H=Date.now(),q=d(S,D),O=d(f,b),w=Date.now();b[0]*=Math.pow(10,Q);
var V=[O[0]/q[0],O[1]/q[1],O[2]/q[2]],t=S.length,m=1/-1.1546978950500488;for(var y=0;y<t;y+=3){if(M){var A=Math.max(0,Math.min(1,S[y]*m));
A=1-Math.sqrt(A);g=A*b[1];Y=A*b[2]}else{g=b[1];Y=b[2]}S[y]=(S[y]-D[0])*V[0]+b[0];S[y+1]=(S[y+1]-D[1])*V[1]*X+g;
S[y+2]=(S[y+2]-D[2])*V[2]*X+Y}var k=Date.now();j(S,o);var z=o.length>>>2;for(var y=0;y<z;++y){o[4*y]=(1-B)*o[4*y]+B*v[4*y];
o[4*y+1]=(1-B)*o[4*y+1]+B*v[4*y+1];o[4*y+2]=(1-B)*o[4*y+2]+B*v[4*y+2];o[4*y+3]=255}}return I}(),ak=function(){function K(E,x,c,J,i){var P=[-1,-1,-1,-1],_=255,a=160,j,e=!1,d=new Array(4);
d[0]=new Array(x);d[1]=new Array(c);d[2]=new Array(x);d[3]=new Array(c);var I=new Array(2);I[0]=new Array(c);
I[1]=new Array(c);function v(O,w,V,t,m){this.start=t;this.axis=m;this.dir=O;this.end=-1;this.source=w;
this.O=V}function n(O,w,V,t,m){if(V%2==0){if(!d[V][O])d[V][O]=new Array;d[V][O].push(new v(V,t,m,w,O))}else{if(!d[V][w])d[V][w]=new Array;
d[V][w].push(new v(V,t,m,O,w))}var g=Date.now()}function C(y){var O=!1,w=0;if(E[4*y+3]<_)return O;var V=y%x,t=Math.floor(y/x);
T(V,t);if(y+x<x*c&&E[4*(y+x)+3]<_&&E[4*(y-x)+3]>=_&&E[4*(y-2*x)+3]>=_){var m=2;if(E[4*(y+x)+3]<=a)w=-1;
if(E[4*(y+2*x-1)+3]<_&&E[4*(y+2*x+1)+3]<_)O=!0;else if(E[4*(y+2*x-1)+3]>=_&&E[4*(y+1)+3]>=_)O=!0;else if(E[4*(y+2*x+1)+3]>=_&&E[4*(y-1)+3]>=_)O=!0;
n(V,t,m,w,O)}else if(y-x>=0&&E[4*(y-x)+3]<_&&E[4*(y+x)+3]>=_&&E[4*(y+2*x)+3]>=_){var m=0;if(E[4*(y-x)+3]<=a)w=-1;
if(E[4*(y-2*x-1)+3]<_&&E[4*(y-2*x+1)+3]<_)O=!0;else if(E[4*(y-2*x-1)+3]>=_&&E[4*(y+1)+3]>=_)O=!0;else if(E[4*(y-2*x+1)+3]>=_&&E[4*(y-1)+3]>=_)O=!0;
n(V,t,m,w,O)}w=0;if(y+1<x*c&&E[4*(y+1)+3]<_&&E[4*(y-1)+3]>=_&&E[4*(y-2)+3]>=_){var m=3;if(E[4*(y+1)+3]<=a)w=-1;
if(!O&&E[4*(y+x+2)+3]<_&&E[4*(y-x+2)+3]<_){O=!0;n(V,t,m,w,!0)}else n(V,t,m,w,!1)}else if(y>=1&&E[4*(y-1)+3]<_&&E[4*(y+1)+3]>=_&&E[4*(y+2)+3]>=_){var m=1;
if(E[4*(y-1)+3]<=a)w=-1;if(!O&&E[4*(y+x-2)+3]<_&&E[4*(y-x-2)+3]<_){O=!0;n(V,t,m,w,!0)}else n(V,t,m,w,!1)}return O}function T(y,O){if(P[0]==-1){P[0]=y;
P[1]=O;P[2]=1;P[3]=1}if(y<P[0]){P[2]+=P[0]-y;P[0]=y}if(y>P[0]+P[2])P[2]=y-P[0];if(O<P[1]){P[3]+=P[1]-O;
P[1]=O}if(O>P[1]+P[3])P[3]=O-P[1]}function o(O,y,w,V){if(!w.O)return;var t=(O+2)%4,m=w.start,g=P[1];
if(O==2)g+=P[3];else if(O==1)g=P[0];else if(O==3)g=P[0]+P[2];var Y=w.source;if(d[t][y])for(var A=0;A<d[t][y].length;
++A){if(O>1){var k=m+Math.floor((d[t][y][A].start-m)/2);if(d[t][y][A].start>m&&k<g)g=k}else{var k=m-Math.floor((m-d[t][y][A].start)/2);
if(d[t][y][A].start<m&&k>g)g=k}}for(var z=1;z<Math.abs(g-m);++z){var A=m+z;if(O==1||O==0)A=m-z;for(var p=0;
p<2;++p){var L=2*p,N=!1;if(O%2==0)L+=1;if(d[L][A]){for(var gC=0;gC<d[L][A].length;++gC){if(d[L][A][gC].O){var r=d[L][A][gC].start,h=y-r,l=A-m;
if(L==0||L==1)h=-h;if(h<=0)continue;if(O==0||O==1)l=-l;if(l>h){g=A;N=!0;break}}}if(N)break}}}w.end=g;
X(O,y,m,g,Y)}function s(O){for(var y=0;y<d[O].length;++y){if(d[O][y])for(var w=0;w<d[O][y].length;++w){o(O,y,d[O][y][w])}}}function Q(){var O=[2,0,3,1];
for(var y=0;y<O.length;++y)s(O[y])}function X(O,y,w,V,t){if(O==2)for(var m=w;m<=V;++m){if(!B(m*x+y,(w+t)*x+y))return!1}else if(O==0)for(var m=w;
m>=V;--m){if(!B(m*x+y,(w-t)*x+y))return!1}else if(O==1)for(var m=w;m>=V;--m){if(!B(y*x+m,y*x+w-t))return!1}else if(O==3)for(var m=w;
m<=V;++m){if(!B(y*x+m,y*x+w+t))return!1}}function B(O,w){if(!j[O]){J[4*O]=J[4*w];J[4*O+1]=J[4*w+1];J[4*O+2]=J[4*w+2];
if(e)J[4*O+3]=255;j[O]=!0;return!0}return!1}function M(){for(var y=0;y<4;y+=1){for(var O=0;O<d[y].length;
++O){if(d[y][O])for(var w=0;w<d[y][O].length;++w){var V=d[y][O][w];for(var t=1;t<3;t+=2){var m=(y+t)%4;
if(d[m][V.start])for(var g=0;g<d[m][V.start].length;++g){if(d[m][V.start][g].start==V.axis){var hr=x*V.start+V.axis;
if(y%2==1){hr=V.start+x*V.axis;S(d[m][V.start][g])}else S(V)}}}}}}}function S(O){if(O.dir%2==0){var hr=x*O.start+O.axis,w=O.start,V=1;
if(!j[hr+1])V=3;else if(j[hr-1])return;var t=J[4*hr],m=J[4*hr+1],g=J[4*hr+2];while(J[4*hr]==t&&J[4*hr+1]==m&&J[4*hr+2]==g){if(V==1){if(!I[0][w])I[0][w]=new Array;
I[0][w].push(new v(V,0,!1,O.axis,w))}else{if(!I[1][w])I[1][w]=new Array;I[1][w].push(new v(V,0,!1,O.axis,w))}if(O.dir==2){hr+=x;
w++}else{hr-=x;w--}}}}function f(){for(var O=0;O<2;++O){var w=(O+1)%2;for(var y=0;y<I[O].length;++y){if(I[O][y])for(var V=0;
V<I[O][y].length;++V){var t=P[0];if(O==1)t+=P[2];var m=I[O][y][V].start;if(I[w][y])for(var g=0;g<I[w][y].length;
++g){var Y=I[w][y][g].hV;if(O==0){if(Y>t&&Y<m){t=m-Math.floor((m-Y)/2)}}else{if(Y<t&&Y>m){t=m+Math.ceil((Y-m)/2)}}}if(O==0)X(I[O][y][V].dir,y,m-1,t,-1);
else X(I[O][y][V].dir,y,m+1,t,-1)}}}for(var y=0;y<j.length;++y){if(!j[y]&&y%x>=P[0]&&y%x<=P[0]+P[2]&&Math.floor(y/x)>=P[1]&&Math.floor(y/x)<=P[1]+P[3]){var m=x;
if(y<m||!j[y-m])m=1;J[4*y]=J[4*(y-m)];J[4*y+1]=J[4*(y-m)+1];J[4*y+2]=J[4*(y-m)+2];j[y]=!0;if(e)J[4*y+3]=255}}}function F(){j=new Array(E.length/4);
for(var y=0;y<J.length/4;++y){j[y]=!1;J[4*y]=E[4*y];J[4*y+1]=E[4*y+1];J[4*y+2]=E[4*y+2];J[4*y+3]=E[4*y+3];
if(J[4*y+3]==255)j[y]=!0;if(C(y))j[y]=!1}if(P[0]>0){P[0]--;P[2]++}if(P[1]>0){P[1]--;P[3]++}if(P[0]+P[2]<x){P[2]++}if(P[1]+P[3]<c){P[3]++}}var G=Date.now();
F();var D=Date.now();Q();var b=Date.now();M();var H=Date.now();f();var q=Date.now();console.log("Init: "+String(D-G));
console.log("Filling: "+String(b-D));console.log("Check areas: "+String(H-b));console.log("Fill areas: "+String(q-H))}return K}();
function eU(){}eU.adm=function(K){var E=[W.l$(K[0]),W.l$(K[1]),W.l$(K[2]),0];return W.Kh.rK(W.Kh.D3,E)};
eU.azc=function(K){var E=W.Kh.rK(W.Kh.pd,K);return[W.hW(E[0]),W.hW(E[1]),W.hW(E[2])]};eU.AS=function(K,E){var x={},c=5003,J=1667,i=25e3,P=57.4,_=16.1,a=1.8,j=0,e=1.54,d=.75,n=0;
if(E>0){K-=E/100*4}if(K<0){_=22.54;P=80.36;e=.756}if(E>0){a=1.3;d=.2}var I=Math.min(c+P*K,i),v=Math.max(c-_*K,J);
if(K<0){I=Math.max(c+_*K,J);v=Math.min(c-P*K,i)}if(K>0){if(K<=14){n=(K-1)/13*.075+.025}else if(K<=29){n=.1}else if(K<=60){n=.1-.1*(K-29)/(60-29)}else{var C=K-60;
j=-20*(C/40);n=-.3*(C/40)}}else{if(K<-60){var C=K+60;j=-20*(C/40)}}var T=Math.abs(K)/100*e+Math.abs(E)/100*d+n,o=-(E*a+j),s=eG.hi(I,-o),Q=eG.bl(s),X=eG.hi(v,0),B=eG.bl(X),M=eG.rq(Q,B);
x.aop=T;x.abF=M;if(K==0&&E==0)x.a6K=!0;else x.a6K=!1;return x};eU.a29=function(K,E,x,c){if(c.a6K){return[K,E,x]}var J=this.adm([K,E,x]),i=J[0],P=J[1],_=J[2],a=P+1e-12,j=[i/a,P/a,_/a,0],e=W.Kh.rK(c.abF,j),d=0,I=.4;
e[0]*=a;e[1]*=a;e[2]*=a;if(a>I)d=1/(1-I)*(a-I);J[0]=(1-d)*e[0]+d*i;J[1]=(1-d)*e[1]+d*P;J[2]=(1-d)*e[2]+d*_;
return this.azc(J)};W.ED={fo:function(K,E){var y=K.length;K.push(E);var x=y>>>1;while(x!=0&&K[y][0]<K[x][0]){var c=K[y];
K[y]=K[x];K[x]=c;y=x;x=y>>>1}},Vt:function(K){if(K.length==2)return K.pop();var top=K[1],y=1;K[1]=K.pop();
var E=K.length;while(!0){var x=y<<1,c=x+1,J=y;if(x<E&&K[x][0]<K[J][0])J=x;if(c<E&&K[c][0]<K[J][0])J=c;
if(J==y)break;var i=K[y];K[y]=K[J];K[J]=i;y=J}return top},ax$:function(K){for(var y=1;y<K.length;y++){var E=y,x=1e9;
while(E!=0){var c=K[E][0];if(c>x){console.log(y);throw"e"}x=c;E=E>>>1}}}};W.h={};W.h.og=new Float64Array(256);
W.h.uD=new Uint8Array(256*256);W.h.Yt=new Uint8Array(256*256);(function(){for(var y=0;y<256;y++)W.h.og[y]=255/y;
for(var y=0;y<256;y++)for(var K=0;K<256;K++)W.h.uD[y*256+K]=y==0?0:Math.round(K*255/y);for(var y=0;y<256;
y++)for(var K=0;K<256;K++)W.h.Yt[y*256+K]=Math.round(y*(255-K)/255)}());W.h.Nh=function(K,E,x,c,J,i,P,_){if(_==null)_=bd.HQ();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(K)==-1){P=P*_.fill;_.fill=1;_.style=!1}var a="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),j="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),e=W.h[K+"F"];
if(_.mA==null&&K=="norm")W.h.a9S(E,x,c,J,i,P,e,_.su?1:0);else if(K=="diss")W.h.a4c(E,x,c,J,i,P,e,_.su?1:0);
else if(a.indexOf(K)!=-1)W.h.a5Q(E,x,c,J,i,P,e,_);else if(j.indexOf(K)!=-1)W.h.a3Y(E,x,c,J,i,P,e,_)};
W.h.apL=function(K,E,x){var c=K*x+1-x;return c<.001?0:1-Math.min(1,(1-E)/c)};W.h.awT=function(K,E,x){return K*x==1?1:Math.min(1,E/(1-K*x))};
W.h.hY=function(K){return K<=.25?((16*K-12)*K+4)*K:Math.sqrt(K)};W.h.normF=function(K,E,x){return K};
W.h.darkF=function(K,E,x){return Math.min(K,E)};W.h["mul F"]=function(K,E,x){return K*E};W.h.idivF=function(K,E,x){var c=K*x+1-x;
return E==1?1:1-E>=c?0:1-(1-E)/c};W.h.lbrnF=function(K,E,x){return Math.max(0,K*x+E-x)};W.h.dkClF=function(K,E,x){var c=W.Rs(K)<W.Rs(E)?K:E;
x.o=c.o;x.J=c.J;x.k=c.k;return x};W.h.liteF=function(K,E,x){return Math.max(K,E)};W.h.scrnF=function(K,E,x){return E+K-E*K};
W.h["div F"]=function(K,E,x){K*=x;return E==0?0:E>=1-K?1:E/(1-K)};W.h.lddgF=function(K,E,x){K*=x;return Math.min(1,K+E)};
W.h.lgClF=function(K,E,x){var c=W.Rs(K)>W.Rs(E)?K:E;x.o=c.o;x.J=c.J;x.k=c.k;return x};W.h.overF=function(K,E,x){return W.h.hLitF(E,K,x)};
W.h.sLitF=function(K,E,x){return K<=.5?E-(1-2*K)*E*(1-E):E+(2*K-1)*(W.h.hY(E)-E)};W.h.hLitF=function(K,E,x){return K<=.5?W.h["mul F"](2*K,E,x):W.h.scrnF(2*K-1,E,x)};
W.h.vLitF=function(K,E,x){return K<=.5?W.h.apL(2*K,E,x):W.h.awT(2*K-1,E,x)};W.h.lLitF=function(K,E,x){return K<=.5?W.h.lbrnF(2*K,E,x):W.h.lddgF(2*K-1,E,x)};
W.h.pLitF=function(K,E,x){return K<=.5?W.h.darkF(2*K,E,x):W.h.liteF(2*K-1,E,x)};W.h.hMixF=function(K,E,x){if(x>.99)return K+E<1?0:1;
return Math.min(1,Math.max(0,(E+K*x-x)/(1-x+1e-6)))};W.h.diffF=function(K,E,x){K*=x;return Math.abs(K-E)};
W.h.smudF=function(K,E,x){return K+E-2*K*E};W.h.fsubF=function(K,E,x){return Math.max(E-K,0)};W.h.fdivF=function(K,E,x){return Math.min(E/K,1)};
W.h["hue F"]=function(K,E,x){W.h.G4(K,W.ft(E),x);W.h.$Z(x,W.Rs(E),x)};W.h["sat F"]=function(K,E,x){W.h.G4(E,W.ft(K),x);
W.h.$Z(x,W.Rs(E),x)};W.h.colrF=function(K,E,x){W.h.$Z(K,W.Rs(E),x)};W.h["lum F"]=function(K,E,x){W.h.$Z(E,W.Rs(K),x)};
W.h.$Z=function(K,E,x){var c=E-W.Rs(K);x.o=K.o+c;x.J=K.J+c;x.k=K.k+c;W.h.avJ(x)};W.h.avJ=function(K){var E=K.o,x=K.J,c=K.k,J=W.bg(E,x,c),hr=Math.min(E,x,c),i=Math.max(E,x,c);
if(hr<0){var P=J/(J-hr);E=J+(E-J)*P;x=J+(x-J)*P;c=J+(c-J)*P}if(i>1){var P=(1-J)/(i-J);E=J+(E-J)*P;x=J+(x-J)*P;
c=J+(c-J)*P}K.o=E;K.J=x;K.k=c};W.h.G4=function(K,E,x){var c=W.h.avB,J=K.o,i=K.J,P=K.k;if(J==i&&i==P){x.o=x.J=x.k=0}else if(J>i){if(J>P){if(i>P){x.o=E;
x.J=c(J,i,P,E);x.k=0}else{x.o=E;x.k=c(J,P,i,E);x.J=0}}else{x.k=E;x.o=c(P,J,i,E);x.J=0}}else{if(J<P){if(i>P){x.J=E;
x.k=c(i,P,J,E);x.o=0}else{x.k=E;x.J=c(P,i,J,E);x.o=0}}else{x.J=E;x.o=c(i,J,P,E);x.k=0}}};W.h.avB=function(K,E,x,c){return(E-x)*c/(K-x)};
W.h.a9S=function(K,E,x,c,J,i,P,_){var a=E.Sl(c).Sl(J),j=Math.max(0,a.x-E.x),e=Math.max(0,a.x-c.x),d=Math.max(0,a.y-E.y),I=Math.max(0,a.y-c.y),v=a.b,n=a.n,C=E.b,T=c.b,o=W.h.uD,s=W.h.Yt,Q=new Uint32Array(K.buffer),X=new Uint32Array(x.buffer);
for(var y=0;y<n;y++){var B=(d+y)*C+j,M=(I+y)*T+e;for(var S=0;S<v;S++){var f=Q[B+S],V=1;if(f>>>24==0)continue;
if(f>>>24==255&&i==1&&_==0){X[M+S]=Q[B+S];continue}var F=X[M+S],G=f&255,D=f>>>8&255,b=f>>>16&255,H=F&255,q=F>>>8&255,O=F>>>16&255,w=i,t=(F>>>24)*(1/255);
if(_==0){w=(f>>>24)*i*(1/255);V=t}var m=V*(1-w),g=w+m,Y=1/g;X[M+S]=~~(.5+(_*t+(1-_)*g)*255)<<24|~~(.5+(b*w+O*m)*Y)<<16|~~(.5+(D*w+q*m)*Y)<<8|~~(.5+(G*w+H*m)*Y)}}};
W.h.amb=function(K,E,x,c,J,i){var P=E.Sl(c).Sl(J),_=Math.max(0,P.x-E.x),a=Math.max(0,P.x-c.x),j=Math.max(0,P.y-E.y),e=Math.max(0,P.y-c.y),d=P.b,I=P.n,v=E.b,n=c.b,C=W.h.uD,T=W.h.Yt,o=new Uint32Array(K.buffer),s=new Uint32Array(x.buffer),Q=Math.floor(Math.random()*16777215),X=0;
for(var y=0;y<I;y++){var B=(j+y)*v+_,M=(e+y)*n+a;for(var S=0;S<d;S++){var f=o[B+S];if(f>>>24==0)continue;
if(f>>24==255&&i==1){s[M+S]=f;continue}var F=s[M+S],G=(f>>>24)*i*(1/255),D=(F>>>24)*(1/255),b=D*(1-G),H=G+b,q=f&255,O=f>>>8&255,w=f>>>16&255,V=F&255,t=F>>>8&255,m=F>>>16&255;
X>>>=8;if((S&3)==0)X=W.h.cp(M+S+Q);var g=H==0?0:1/H,Y=Math.floor(H*(256*255))+(X&255)>>>8,A=Math.floor((w*G+m*b)*g+.5),k=Math.floor((O*G+t*b)*g+.5),z=Math.floor((q*G+V*b)*g+.5);
s[M+S]=Y<<24|A<<16|k<<8|z}}};W.h.p_=function(K,E,x,c,J,i,P,_){var a=W.bg(K,E,x),j=W.bg(c,J,i),e=Math.min,d=W.h.acl,I=d(a,_,0);
I=e(I,d(K,_,8));I=e(I,d(E,_,16));I=e(I,d(x,_,24));var v=d(j,_,4);v=e(v,d(c,_,12));v=e(v,d(J,_,20));v=e(v,d(i,_,28));
v=Math.max(v,1-P);var n=Math.min(I,v);return n<0?0:n>1?1:n};W.h.acl=function(K,E,y){return Math.min((K-E[y])*E[y+1],(K-E[y+3])*E[y+2])};
W.h.a5Q=function(K,E,x,c,J,i,P,_){var a=1/255,j=a*i,e=_.su?1:0,d=_.fill,I=_.style,v=E.Sl(c).Sl(J),n=Math.max(0,v.x-E.x),C=Math.max(0,v.x-c.x),T=Math.max(0,v.y-E.y),o=Math.max(0,v.y-c.y),s=v.b,Q=v.n,X=E.b,B=c.b,M=new Uint32Array(K.buffer),S=new Uint32Array(x.buffer);
for(var y=0;y<Q;y++){var f=(T+y)*X+n,F=(o+y)*B+C;for(var G=0;G<s;G++,f++,F++){var D=M[f],g=1;if(D>>>24==0)continue;
var b=S[F],H=(D&255)*a,q=(D>>>8&255)*a,O=(D>>>16&255)*a,w=(b&255)*a,V=(b>>>8&255)*a,t=(b>>>16&255)*a,m=i;
if(e==0){m=(D>>>24)*j;g=(b>>>24)*a}if(_.mA)m*=W.h.p_(H,q,O,w,V,t,g,_.mA);var Y=g*(1-m),A=m+Y,k=A==0?0:255/A,z=I?1:m,p=((1-g)*m*H+(1-z)*g*w+z*g*P(H,w,(1+m-z)*d))*k,L=((1-g)*m*q+(1-z)*g*V+z*g*P(q,V,(1+m-z)*d))*k,N=((1-g)*m*O+(1-z)*g*t+z*g*P(O,t,(1+m-z)*d))*k;
A=m*d+g*(1-m*d);var gC=~~(A*255+.5);S[F]=e*(b>>>24)+(1-e)*gC<<24|N<<16|L<<8|p}}};W.h.a3Y=function(K,E,x,c,J,i,P,_){var a=1/255,j=a*i,e=_.su?1:0,d=E.Sl(c).Sl(J),I=Math.max(0,d.x-E.x),v=Math.max(0,d.x-c.x),n=Math.max(0,d.y-E.y),C=Math.max(0,d.y-c.y),T=d.b,o=d.n,s=new Uint32Array(K.buffer),Q=new Uint32Array(x.buffer),X={o:0,J:0,k:0},B={o:0,J:0,k:0},M={o:0,J:0,k:0};
for(var y=0;y<o;y++){var S=(n+y)*E.b+I,f=(C+y)*c.b+v;for(var F=0;F<T;F++,S++,f++){var G=s[S],D=Q[f],b=(G&255)*a,H=(G>>>8&255)*a,q=(G>>>16&255)*a,O=(D&255)*a,w=(D>>>8&255)*a,V=(D>>>16&255)*a,t=i,m=1;
if(e==0){t=(G>>>24)*j;m=(D>>>24)*a}if(_.mA)t*=W.h.p_(b,H,q,O,w,V,m,_.mA);var g=m*(1-t),Y=t+g,A=255/Y;
X.o=b;X.J=H;X.k=q;B.o=O;B.J=w;B.k=V;P(X,B,M);var k=(((1-m)*b+m*M.o)*t+O*g)*A,z=(((1-m)*H+m*M.J)*t+w*g)*A,p=(((1-m)*q+m*M.k)*t+V*g)*A,L=e*(D>>>24)+(1-e)*Math.round(Y*255);
Q[f]=L<<24|p<<16|z<<8|k}}};W.h.WJ=function(K){K=K^61^K>>>16;K=K+(K<<3);K=K^K>>>4;K=K*668265261;K=K^K>>15;
return(K&16777215)*(1/16777215)};W.h.cp=function(K){K=K^61^K>>>16;K=K+(K<<3);K=K^K>>>4;K=K*668265261;
K=K^K>>>15;return K};W.h.EF=function(K){this.Vh=K};W.h.EF.prototype.get=function(){var K=this.Vh=W.h.cp(this.Vh);
return(K&16777215)*(1/16777215)};W.h.a4c=function(K,E,x,c,J,i,P,_){var a=1/255,j=a*i,e=Math.round(i*(256*256*256/255)),d=E.Sl(c).Sl(J),I=Math.max(0,d.x-E.x),v=Math.max(0,d.x-c.x),n=Math.max(0,d.y-E.y),C=Math.max(0,d.y-c.y),T=d.b,o=d.n,s=new Uint32Array(K.buffer),Q=new Uint32Array(x.buffer);
for(var y=0;y<o;y++){var X=(n+y)*E.b+I,B=(C+y)*c.b+v;for(var M=0;M<T;M++,X++,B++){var S=s[X],f=Q[B],F=_*255+(1-_)*(S>>>24);
if((W.h.cp(X)&16777215)>=F*e)continue;Q[B]=S&16777215|_*(f>>>24)+(1-_)*255<<24}}};W.h.a5q=function(K,E,x){for(var y=0;
y<K.length;y+=4){var c=x[y>>>2];if(c==0)continue;var J=c*(1/255),i=1/J,P=E[y],_=E[y+1],a=E[y+2],j=K[y],e=K[y+1],d=K[y+2];
E[y]=Math.min(255,Math.max(0,Math.round((P-(1-J)*j)*i)));E[y+1]=Math.min(255,Math.max(0,Math.round((_-(1-J)*e)*i)));
E[y+2]=Math.min(255,Math.max(0,Math.round((a-(1-J)*d)*i)));E[y+3]=255}};W.h.bG=function(K,E,x,c,J,i,P,_,a,j,e){if(j==null)j=!1;
if(e==null)e=[1,1,1];var d=255<<24|e[2]*16711680|e[1]*65280|e[0]*255,I=~d;if(J&&!E.ac(i)){var v=W.Q(E.O()*4);
v.fill(P);W.XT(J,i,v,E);J=v;i=E}if(j){if(J==null)W.h.azJ(K,E,x,c,J,_,a,d,I);else W.h.a5g(K,E,x,c,J,_,a)}else{if(J==null)W.h.anY(K,E,x,c,J,_,a,d,I);
else W.h.agc(K,E,x,c,J,_,a)}};W.h.anY=function(K,E,x,c,J,i,P,_,a){var j=1/255,e=E.Sl(c).Sl(i),d=Math.max(0,e.x-E.x),I=Math.max(0,e.x-c.x),v=Math.max(0,e.y-E.y),n=Math.max(0,e.y-c.y),C=e.b,T=e.n,o=new Uint32Array(K.buffer),s=new Uint32Array(x.buffer),Q=W.h.uD,X=P*255&255;
for(var y=0;y<T;y++){var B=(v+y)*E.b+d,M=(n+y)*c.b+I;for(var S=0;S<C;S++,B++,M++){var f=o[B],F=s[M],G=f>>>24,D=F>>>24,b=W.lg(X*G+(255-X)*D),H=W.lg(G*X),q=W.lg(D*(255-X)),O=f&255,w=f>>>8&255,V=f>>>16&255,t=F&255,m=F>>>8&255,g=F>>>16&255,Y=H*O+t*q,A=H*w+m*q,k=H*V+g*q;
Y=Q[b<<8|W.lg(Y)];A=Q[b<<8|W.lg(A)];k=Q[b<<8|W.lg(k)];var z=b<<24|k<<16|A<<8|Y;s[M]=a&F|_&z}}};W.h.azJ=function(K,E,x,c,J,i,P,_,a){var j=1/255,e=E.Sl(c).Sl(i),d=Math.max(0,e.x-E.x),I=Math.max(0,e.x-c.x),v=Math.max(0,e.y-E.y),n=Math.max(0,e.y-c.y),C=e.b,T=e.n,o=new Uint32Array(K.buffer),s=new Uint32Array(x.buffer),Q=W.h.uD,X=P*16777215&16777215;
for(var y=0;y<T;y++){var B=(v+y)*E.b+d,M=(n+y)*c.b+I;for(var S=0;S<C;S++,B++,M++){if((W.h.cp(B)&16777215)<X){s[M]=a&s[M]|_&o[B]}}}};
W.h.agc=function(K,E,x,c,J,i,P){var _=1/255,a=E.Sl(c).Sl(i),j=Math.max(0,a.x-E.x),e=Math.max(0,a.x-c.x),d=Math.max(0,a.y-E.y),I=Math.max(0,a.y-c.y),v=a.b,n=a.n,C=new Uint32Array(K.buffer),T=new Uint32Array(x.buffer),o=W.h.uD;
for(var y=0;y<n;y++){var s=(d+y)*E.b+j,Q=(I+y)*c.b+e;for(var X=0;X<v;X++,s++,Q++){var B=J[s]*P&255;if(B==0)continue;
if(B==255){T[Q]=C[s];continue}var M=C[s],S=T[Q],f=M>>>24,F=S>>>24,G=W.lg(B*f+(255-B)*F),D=W.lg(f*B),b=W.lg(F*(255-B)),H=M&255,q=M>>>8&255,O=M>>>16&255,w=S&255,V=S>>>8&255,t=S>>>16&255,m=o[G<<8|W.lg(D*H+w*b)],g=o[G<<8|W.lg(D*q+V*b)],Y=o[G<<8|W.lg(D*O+t*b)];
T[Q]=G<<24|Y<<16|g<<8|m}}};W.h.a5g=function(K,E,x,c,J,i,P){var _=1/255,a=E.Sl(c).Sl(i),j=Math.max(0,a.x-E.x),e=Math.max(0,a.x-c.x),d=Math.max(0,a.y-E.y),I=Math.max(0,a.y-c.y),v=a.b,n=a.n,C=new Uint32Array(K.buffer),T=new Uint32Array(x.buffer),o=W.h.uD,s=Math.round(P*257);
for(var y=0;y<n;y++){var Q=(d+y)*E.b+j,X=(I+y)*c.b+e;for(var B=0;B<v;B++,Q++,X++){var M=J[Q]*s;if((W.h.cp(Q)&65535)<M)T[X]=C[Q]}}};
W.h.UK=function(K,E,x,c,J,i,P){var _=1/255,a=E.Sl(c).Sl(i),j=Math.max(0,a.x-E.x),e=Math.max(0,a.x-c.x),d=Math.max(0,a.y-E.y),I=Math.max(0,a.y-c.y),v=a.b,n=a.n,C=new Uint32Array(K.buffer),T=new Uint32Array(x.buffer),o=Math.floor(Math.random()*c.O()),s=W.h.arj;
for(var y=0;y<n;y++){var Q=(d+y)*E.b+j,X=(I+y)*c.b+e;for(var B=0;B<v;B++){var M=J[Q+B]*P;if(M==0)continue;
if(M==255){T[X+B]=C[Q+B];continue}var S=C[Q+B],f=T[X+B],F=S>>>24,G=f>>>24,D=F*M*(1/255),b=G*(255-M)*(1/255),H=S&255,q=S>>>8&255,O=S>>>16&255,w=f&255,V=f>>>8&255,t=f>>>16&255,m=W.h.cp(X+B+o),g=Math.floor((D+b)*256+.5)+(m>>>0&255)>>>8,Y=g==0?0:256/(D+b),A=H*D+w*b,k=q*D+V*b,z=O*D+t*b,p=Math.floor(A*Y+.5)+(m>>>8&255)>>>8,L=Math.floor(k*Y+.5)+(m>>>16&255)>>>8,N=Math.floor(z*Y+.5)+(m>>>24&255)>>>8;
T[X+B]=g<<24|N<<16|L<<8|p}}};W.h.arj=function(K){return Math.floor(K+Math.random())};W.h.b7=function(K,E,x,c,J,i,P){var _=1/255,a=E.Sl(c).Sl(i),j=Math.max(0,a.x-E.x),e=Math.max(0,a.x-c.x),d=Math.max(0,a.y-E.y),I=Math.max(0,a.y-c.y),v=a.b,n=a.n;
for(var y=0;y<n;y++){var C=(d+y)*E.b+j,T=(I+y)*c.b+e;for(var o=0;o<v;o++,C++,T++){var s=P*J[C]*_;if(s==0)continue;
if(s==1){x[T]=K[C];continue}x[T]=K[C]*s+x[T]*(1-s)}}};W.aqf=function(){function K(i){var P=i*.85;return Math.exp(-(P*P)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))}function E(i,P){var _=i<P?1:K((i-P)/Math.pow(1.001-P,.86));
return _}var x=[];function c(i){if(x[i])return x[i];var P=Math.pow(i,.55),_=new Float64Array(8e3),a=0,j=8e3;
for(var y=0;y<8e3;y++){var e=E(y*(1.55/4e3),P);if(e>=1)a=y;else if(e<=0&&j==8e3)j=y;_[y]=e}var d=[_,a,j];
x[i]=d;return d}function J(i,P,_){var a=1+.55*(1-P),j=Math.round(_*i*a)+2,e=new cS(0,0,j,j),d=W.Q(j*j),I=[d,e],v=j/2,n=a/(v-1),C=Date.now(),T=c(P),o=Math.round(8e3/v),s=T[0],Q=T[1]-o,X=T[2]+o,B=Math.min(j,j+1>>>1),M=n*.4*(4e3/1.55),S=W.Q(8e3);
for(var y=0;y<8e3;y++){var f=y,F=y,G=~~Math.max(0,f-M-M),D=~~Math.max(0,f-M),b=~~(f+M),H=~~(f+M+M),q=~~(.5+255*(1/5)*(s[F]+s[G]+s[D]+s[b]+s[H]));
S[y]=q;if(q==0)break}for(var y=0;y<B;y++){var O=n*(y-v+.5),w=O*O,V=y*j,t=(j-1-y)*j;for(var m=0;m<B;m++){var g=n*(m-v+.5),F=~~(Math.sqrt(g*g+w)*(4e3/1.55));
if(X<F)continue;else if(F<Q){var q=255;while(m<B){var Y=j-1-m;d[V+m]=q;d[V+Y]=q;d[t+m]=q;d[t+Y]=q;m++}break}else{var q=S[F],Y=j-1-m;
d[V+m]=q;d[V+Y]=q;d[t+m]=q;d[t+Y]=q}}}return I}return{ap3:J}}();W.qD={};W.qD.ah2=function(K,E,x,c,J,i){W.qD.SJ(K,E,x,c,J,i,null,0)};
W.qD.ahv=function(K,E,x,c,J){W.qD.SJ(K,E,x,c,J,null,null,0)};W.qD.a6c=function(K,E,x,c,J,i,P){W.qD.SJ(K,E,x,c,J,null,i,P*.5)};
W.qD.SJ=function(K,E,x,c,J,i,P,_){var a=0,b=0,H=1e9,q=0,O=1e9,w=0,V=1e9,t=0,m=0,g=0,Y=0;if(i){a=J*.5;
J=3+Math.round((J-3)*.75)}if(P){J=Math.round(J*2.2)}var j=1/J,e=Math.floor(E*j)+1,d=Math.floor(x*j)+1,I=[],v=new Uint8Array(e*d*4),n=P?.5:1,C=i?64:0;
for(var T=0;T<d;T++){var o=P?.5*(T&1):0;for(var s=0;s<e;s++){var Q=(s+Math.random()*n+o)*J,X=(T+Math.random()*n)*J;
I.push(Q,X);var B=Math.min(E-1,Math.floor(Q)),M=Math.min(x-1,Math.floor(X)),S=(M*E+B)*4,f=(T*e+s)*4;
for(var y=0;y<4;y++)v[f+y]=Math.max(0,Math.min(255,Math.floor(K[S+y]+(Math.random()-.5)*C)))}}var F=i?i:P?P:[0,0,0],G=e*d*2,D=[-e-1,-e,-e+1,-1,0,1,e-1,e,e+1];
for(var T=0;T<x;T++){g=0;for(var s=0;s<E;s++){var A=s+.5,k=T+.5,z=Math.floor(k*j),p=Math.floor(A*j),L=z*e+p,r=0,h=0;
if(g>1+_){H=W.qD.IH(I,b,A,k);t=Math.sqrt(H);g--;Y++}else{H=O=V=1e9;for(var y=0;y<D.length;y++){var N=(L+D[y])*2;
if(N<0||N>=G)continue;var gC=W.qD.IH(I,N,A,k);if(gC<V){if(gC<O){if(gC<H){w=q;V=O;q=b;O=H;b=N;H=gC}else{w=q;
V=O;q=N;O=gC}}else{w=N;V=gC}}}t=Math.sqrt(H);m=Math.sqrt(O);g=m-(t+m)*.5}if(P==null){var l=(t+m)*.5,g5=i?Math.max(0,l-a):0;
r=Math.max(0,Math.min(1,.5+l-t-g5));h=Math.max(0,Math.min(1,1-(.5+l-t)-g5))}else{var fm=Math.min(W.qD.ba(I,b,q,A,k),W.qD.ba(I,b,w,A,k));
r=Math.max(0,Math.min(1,fm-_*.5));if(A<_||E-_<A||k<_||x-_<k)r=0;h=0}var dC=1-h-r,f=T*E+s<<2,hN=b<<1,ey=q<<1;
c[f+0]=Math.floor(.5+r*v[hN+0]+h*v[ey+0]+dC*F[0]);c[f+1]=Math.floor(.5+r*v[hN+1]+h*v[ey+1]+dC*F[1]);
c[f+2]=Math.floor(.5+r*v[hN+2]+h*v[ey+2]+dC*F[2]);c[f+3]=K[f+3]}}};W.qD.IH=function(K,E,x,c){var J=x-K[E],i=c-K[E+1];
return J*J+i*i};W.qD.ba=function(K,E,x,c,J){var i=K[E],P=K[E+1],_=K[x],a=K[x+1],j=(i+_)*.5,e=(P+a)*.5,d=j+(a-P),I=e-(_-i),v=I-e,n=d-j;
return Math.abs(v*c-n*J+d*e-I*j)/Math.sqrt(n*n+v*v)};W.HL={};W.HL.YT=function(K){if(W.HL.sZ.length<K)W.HL.sZ=W.Q(K);
return W.HL.sZ};W.HL.sZ=W.Q(0);W.HL.QK=function(K){if(W.HL.P6.length<K)W.HL.P6=new Float32Array(K);return W.HL.P6};
W.HL.P6=new Float32Array(0);W.HL.Bv=function(K,E,x,c){var J=x.b,i=x.n;W.HL.a2w(K,E,J,i,c)};W.HL.fy=function(K,E,x,c){var J=x.b,i=x.n;
W.HL.ayS(K,E,J,i,c)};W.HL.DW=function(K,E,x){var c=E.b,J=E.n;W.HL.ahR(K,c,J,x)};W.HL.u$=function(K,E,x,c,J){var i=x.b,P=x.n;
W.HL.ayh(K,E,i,P,c,J)};W.HL.v0=function(K,E,x,c){var J=x.b,i=x.n;c=Math.round(c);var P=W.HL.YT(J*i);
W.dq(K,E);W.HL.jh(E,P,J,i,c)};W.HL.C9=function(K,E,x){var c=E.b,J=E.n;x=Math.round(x);var i=W.HL.YT(c*J*4);
W.HL.bF(K,i,c,J,x)};W.HL.cB=function(K,E,x,c){var J=x.b,i=x.n;c=Math.round(c);var P=W.HL.QK(J*i);W.dq(K,E);
W.HL.hJ(E,P,J,i,c)};W.HL.rr=function(K,E,x){var c=E.b,J=E.n;x=Math.round(x);var i=W.HL.YT(c*J*4);W.HL.yM(K,i,c,J,x);
W.dq(i,K)};W.HL.zU=function(K,hr){var E=Math.sqrt(12*K*K/hr+1),x=Math.floor(E);if(x%2==0)x--;var c=x+2,J=(12*K*K-hr*x*x-4*hr*x-3*hr)/(-4*x-4),i=Math.round(J),P=[];
for(var y=0;y<hr;y++)P.push(y<i?x:c);return P};W.HL.a2w=function(K,E,x,c,J){var i=W.HL.zU(J,3),P=W.HL.YT(x*c);
W.dq(K,E);W.HL.jh(E,P,x,c,i[0]-1>>1);W.HL.jh(E,P,x,c,i[1]-1>>1);W.HL.jh(E,P,x,c,i[2]-1>>1)};W.HL.ayS=function(K,E,x,c,J){var i=W.HL.zU(J,2),P=W.HL.YT(x*c);
W.dq(K,E);W.HL.jh(E,P,x,c,i[0]-1>>1);W.HL.jh(E,P,x,c,i[1]-1>>1)};W.HL.ahR=function(K,E,x,c){var J=W.HL.zU(c,3),i=W.HL.YT(E*x*4);
W.HL.bF(K,i,E,x,J[0]-1>>1);W.HL.bF(K,i,E,x,J[1]-1>>1);W.HL.bF(K,i,E,x,J[2]-1>>1)};W.HL.ayh=function(K,E,x,c,J,i){if(i==null)i=3;
var P=W.HL.zU(J,i),_=W.HL.QK(x*c);W.dq(K,E);for(var y=0;y<i;y++)W.HL.hJ(E,_,x,c,(P[y]-1)/2)};W.HL.jh=function(K,E,x,c,J){W.HL.a4Y(K,E,x,c,J);
W.HL.a9E(E,K,x,c,J)};W.HL.bF=function(K,E,x,c,J){W.HL.yM(K,E,x,c,J);W.HL.arL(E,K,x,c,J)};W.HL.hJ=function(K,E,x,c,J){W.HL.ace(K,E,x,c,J);
W.HL.a2p(E,K,x,c,J)};W.HL.CY=[];W.HL.ZN=function(K){if(W.HL.CY[K])return W.HL.CY[K];var E=1/(K+K+1),x=(K+K+1)*256,c=W.Q(x);
for(var y=0;y<x;y++)c[y]=Math.round(y*E);W.HL.CY[K]=c;return c};W.HL.a4Y=function(K,E,x,c,J){var i=1/(J+J+1),P=x-J-J-1,_=W.HL.ZN(J);
for(var y=0;y<c;y++){var a=y*x,j=a,e=a+J,d=K[a],I=K[a+x-1],v=(J+1)*d;for(var n=0;n<J;n++)v+=K[a+n];for(var n=0;
n<=J;n++){v+=K[e+n]-d;E[a+n]=_[v]}e+=J+1;a+=J+1;for(var n=0;n<P;n++){v+=K[e+n]-K[j+n];E[a+n]=_[v]}e+=P;
j+=P;a+=P;for(var n=x-J;n<x;n++){v+=I-K[j++];E[a++]=_[v]}}};W.HL.yM=function(K,E,x,c,J){var i=x<<2,P=J<<2,_=1/(J+J+1),a=x-J-J-1,j=a<<2,e=W.HL.ZN(J);
for(var y=0;y<c;y++){var d=y*i,I=d,v=d+P,n=d+i,C=K[d],T=K[d+1],o=K[d+2],s=K[d+3],Q=(J+1)*C,X=(J+1)*T,B=(J+1)*o,M=(J+1)*s;
for(var S=0;S<P;S+=4){Q+=K[d+S];X+=K[d+S+1];B+=K[d+S+2];M+=K[d+S+3]}for(var S=0;S<=P;S+=4){Q+=K[v]-C;
E[d]=e[Q];X+=K[v+1]-T;E[d+1]=e[X];B+=K[v+2]-o;E[d+2]=e[B];M+=K[v+3]-s;E[d+3]=e[M];v+=4;d+=4}for(var S=0;
S<j;S+=4){Q+=K[v+S]-K[I+S];E[d+S]=e[Q];X+=K[v+S+1]-K[I+S+1];E[d+S+1]=e[X];B+=K[v+S+2]-K[I+S+2];E[d+S+2]=e[B];
M+=K[v+S+3]-K[I+S+3];E[d+S+3]=e[M]}v+=j;I+=j;d+=j;C=K[n-4];T=K[n-3];o=K[n-2];s=K[n-1];for(var S=x-J;
S<x;S++){Q+=C-K[I];E[d]=e[Q];X+=T-K[I+1];E[d+1]=e[X];B+=o-K[I+2];E[d+2]=e[B];M+=s-K[I+3];E[d+3]=e[M];
I+=4;d+=4}}};W.HL.ace=function(K,E,x,c,J){var i=1/(J+J+1),P=x-J-J-1;for(var y=0;y<c;y++){var _=y*x,a=_,j=_+J,e=K[_],d=K[_+x-1],I=(J+1)*e;
for(var v=0;v<J;v++)I+=K[_+v];for(var v=0;v<=J;v++){I+=K[j+v]-e;E[_+v]=I*i}j+=J+1;_+=J+1;for(var v=0;
v<P;v++){I+=K[j+v]-K[a+v];E[_+v]=I*i}j+=P;a+=P;_+=P;for(var v=x-J;v<x;v++){I+=d-K[a++];E[_++]=I*i}}};
W.HL.a9E=function(K,E,x,c,J){var i=1/(J+J+1),P=c-J-J-1,_=W.HL.ZN(J);for(var y=0;y<x;y++){var a=y,j=a,e=a+J*x,d=K[a],I=K[a+x*(c-1)],v=(J+1)*d;
for(var n=0;n<J;n++)v+=K[a+n*x];for(var n=0;n<=J;n++){v+=K[e]-d;E[a]=_[v];e+=x;a+=x}for(var n=0;n<P;
n++){var C=n*x;v+=K[e+C]-K[j+C];E[a+C]=_[v]}j+=P*x;e+=P*x;a+=P*x;for(var n=c-J;n<c;n++){v+=I-K[j];E[a]=_[v];
j+=x;a+=x}}};W.HL.arL=function(K,E,x,c,J){var i=x<<2,P=J<<2,_=1/(J+J+1),a=c-J-J-1,j=a<<2,e=W.HL.ZN(J);
for(var y=0;y<x;y++){var d=y<<2,I=d,v=d+J*i,n=d+i*(c-1),C=K[d],T=K[d+1],o=K[d+2],s=K[d+3],Q=(J+1)*C,X=(J+1)*T,B=(J+1)*o,M=(J+1)*s;
for(var S=0;S<J;S++){var f=d+S*i;Q+=K[f];X+=K[f+1];B+=K[f+2];M+=K[f+3]}for(var S=0;S<=J;S++){Q+=K[v]-C;
E[d]=e[Q];X+=K[v+1]-T;E[d+1]=e[X];B+=K[v+2]-o;E[d+2]=e[B];M+=K[v+3]-s;E[d+3]=e[M];v+=i;d+=i}for(var S=0;
S<a;S++){var F=S*i;Q+=K[v+F]-K[I+F];E[d+F]=e[Q];X+=K[v+F+1]-K[I+F+1];E[d+F+1]=e[X];B+=K[v+F+2]-K[I+F+2];
E[d+F+2]=e[B];M+=K[v+F+3]-K[I+F+3];E[d+F+3]=e[M]}I+=a*i;v+=a*i;d+=a*i;C=K[n];T=K[n+1];o=K[n+2];s=K[n+3];
for(var S=c-J;S<c;S++){Q+=C-K[I];E[d]=e[Q];X+=T-K[I+1];E[d+1]=e[X];B+=o-K[I+2];E[d+2]=e[B];M+=s-K[I+3];
E[d+3]=e[M];I+=i;d+=i}}};W.HL.a2p=function(K,E,x,c,J){var i=1/(J+J+1),P=c-J-J-1;for(var y=0;y<x;y++){var _=y,a=_,j=_+J*x,e=K[_],d=K[_+x*(c-1)],I=(J+1)*e;
for(var v=0;v<J;v++)I+=K[_+v*x];for(var v=0;v<=J;v++){I+=K[j]-e;E[_]=I*i;j+=x;_+=x}for(var v=0;v<P;v++){var n=v*x;
I+=K[j+n]-K[a+n];E[_+n]=I*i}a+=P*x;j+=P*x;_+=P*x;for(var v=c-J;v<c;v++){I+=d-K[a];E[_]=I*i;a+=x;_+=x}}};
W.HN={};W.HN.Q=function(K,E,x,c){var J=[];for(var i=0;i<4;i++)for(var P=0;P<4;P++)J.push(K+x*P/3,E+c*i/3);
return J};W.HN.J_=function(K,E){var x=K.slice(0);for(var y=0;y<4;y++)for(var c=0;c<4;c++){var J=2*(y*4+c),i=2*(c*4+(3-y));
if(E){var P=J;J=i;i=P}x[i]=K[J];x[i+1]=K[J+1]}return x};W.HN.OW=W.Q(0);W.HN.drawImage=function(K,E,x,c,J,i,P){var _=!1,a=Date.now(),j=2,e=x+2*j,d=c+2*j,I=new cS(j,j,x,c),v=I.clone(),s=50;
v.r1(j,j);var n=W.HN.OW;if(n.length!=v.O()*4)n=W.HN.OW=W.Q(v.O()*4);else n.fill(0);W.UL(E,I,n,v);if(_)console.log(Date.now()-a,"copy rect");
a=Date.now();W.X5(n);if(_)console.log(Date.now()-a,"multiply alpha");a=Date.now();var C=[],T=[],o=[];
for(var Q=0;Q<s+1;Q++)for(var X=0;X<s+1;X++){var B=X/s,M=Q/s;C.push(e*B,d*M);if(X<s&&Q<s){var S=Q*(s+1)+X,f=S+1,F=S+s+1,G=F+1;
T.push(S,f,F);T.push(F,f,G)}var D=W.HN.anI(K,B,M);o.push(-D)}var b=C.slice(0);W.HN.u(K,b,new cS(j,j,x,c));
W.p.u(b,new iQ(1,0,0,1,-i.x,-i.y),b);if(_)console.log(Date.now()-a,"mesh built");a=Date.now();var H=i.b,q=i.n;
W.d2.mE(n,e,d,J,H,q,C,b,o,T);if(_)console.log(Date.now()-a,"rendered");a=Date.now();W.OD(J);if(_)console.log(Date.now()-a,"divided");
a=Date.now()};W.HN._C=new Array(10);W.HN.afI=function(K,E){var x=200,c=0,J=0,i=1e9,P=W.HN._C;for(var _=0;
_<x+1;_++)for(var a=0;a<x+1;a++){var j=a/x,e=_/x;W.HN.Zk(K,j,e,P);var d=P[8]-E.x,I=P[9]-E.y,v=d*d+I*I;
if(v<i){i=v;c=j;J=e}}return[c,J]};W.HN.u=function(K,E,x){var c=x.x,J=x.y,i=1/x.b,P=1/x.n,_=W.HN._C;for(var a=0;
a<E.length;a+=2){var j=(E[a]-c)*i,e=(E[a+1]-J)*P;W.HN.Zk(K,j,e,_);E[a]=_[8];E[a+1]=_[9]}};W.HN.anI=function(K,E,x){var c,J,i,P,_=W.HN._C;
W.HN.aga(K,E,x,_);c=_[8];J=_[9];W.HN.a3e(K,E,x,_);i=_[8];P=_[9];return c*P-J*i};W.HN.Zk=function(K,E,x,c){W.HN.fH(c,0,x);
W.HN.fH(c,4,E);W.HN.mX(K,c)};W.HN.aga=function(K,E,x,c){W.HN.fH(c,0,x);W.HN.GF(c,4,E);W.HN.mX(K,c)};
W.HN.a3e=function(K,E,x,c){W.HN.GF(c,0,x);W.HN.fH(c,4,E);W.HN.mX(K,c)};W.HN.GF=function(K,y,E){var x=1-E;
K[y]=-3*(x*x);K[y+1]=3*(x*x)-6*(E*x);K[y+2]=6*(E*x)-3*(E*E);K[y+3]=3*(E*E)};W.HN.fH=function(K,y,E){var x=1-E;
K[y]=x*(x*x);K[y+1]=3*E*(x*x);K[y+2]=3*(E*E)*x;K[y+3]=E*E*E};W.HN.mX=function(K,E){var x=0,c=0,J=0,i=E[0],P=E[1],_=E[2],a=E[3],j=E[4],e=E[5],d=E[6],I=E[7];
J=i*j;x+=K[0]*J;c+=K[1]*J;J=i*e;x+=K[2]*J;c+=K[3]*J;J=i*d;x+=K[4]*J;c+=K[5]*J;J=i*I;x+=K[6]*J;c+=K[7]*J;
J=P*j;x+=K[8]*J;c+=K[9]*J;J=P*e;x+=K[10]*J;c+=K[11]*J;J=P*d;x+=K[12]*J;c+=K[13]*J;J=P*I;x+=K[14]*J;c+=K[15]*J;
J=_*j;x+=K[16]*J;c+=K[17]*J;J=_*e;x+=K[18]*J;c+=K[19]*J;J=_*d;x+=K[20]*J;c+=K[21]*J;J=_*I;x+=K[22]*J;
c+=K[23]*J;J=a*j;x+=K[24]*J;c+=K[25]*J;J=a*e;x+=K[26]*J;c+=K[27]*J;J=a*d;x+=K[28]*J;c+=K[29]*J;J=a*I;
x+=K[30]*J;c+=K[31]*J;E[8]=x;E[9]=c};W.u3={};W.u3.a3n=function(K,E,x){var c=Date.now(),J=new ArrayBuffer(E*x*16),i=W.u3.a4b(K,E,x,J),P=W.u3.a36(E,x,J);
return{KA:P,M2:i}};W.u3.a5m=function(K,E,x){var c=Math.round(K.length/8),J=new Uint32Array(c),i=new Uint8Array(c),P=new Uint32Array(c);
W._m(J,4294967295,0);J[x]=0;var _=new dB(c);_.push(x,J[x]);var a={KA:K,M2:E,am:J,vj:i,hR:P,sm:_,adG:x};
return a};W.u3.Yj=function(K,E){var x=K.KA,c=K.M2,J=K.am,i=K.vj,P=K.hR,_=K.sm;while(!_.um()&&(E==null||i[E]==0)){var a=_.pop();
i[a]=1;for(var y=0;y<8;y++){var j=x[8*a+y],e=a+j;if(j==0||i[e])continue;var d=J[a]+c[8*a+y];if(_.contains(e)&&d<J[e])_.remove(e,J[e]);
if(!_.contains(e)){J[e]=d;P[e]=a;_.push(e,J[e])}}}};function dB(K){this.AP=new Uint32Array(K);this.list=[];
this.LQ=0;this.Ri=4294967295}dB.prototype.um=function(){return this.LQ==0};dB.prototype.push=function(K,E){var x=this.list;
if(x[E]==null)x[E]=[];x[E].push(K);this.LQ++;this.AP[K]=x[E].length-1+1;this.Ri=Math.min(this.Ri,E)};
dB.prototype.pop=function(){this.LQ--;var K=this.list,E=this.Ri,x=K[E].pop();if(K[E].length==0)K[E]=null;
this.HK();this.AP[x]=0;return x};dB.prototype.contains=function(K){return this.AP[K]!=0};dB.prototype.remove=function(K,E){this.LQ--;
var x=this.list,y=this.AP[K]-1;if(y==x[E].length-1)x[E].pop();else{var c=x[E].pop();x[E][y]=c;this.AP[c]=y+1}if(x[E].length==0)x[E]=null;
this.AP[K]=0;this.HK()};dB.prototype.HK=function(){if(this.LQ==0){this.Ri=4294967295;return}var K=this.Ri,E=this.list;
while(E[K]==null)K++;this.Ri=K};W.u3.abN=function(K,E,x,c){var J=new Int16Array(c);for(var i=0;i<x;i++)for(var P=0;
P<E;P++){var y=i*E+P,_=0;if(1<P&&P<E-2&&1<i&&i<x-2){_+=K[y-E-E];_+=K[y-E-1]+2*K[y-E]+K[y-E+1];_+=K[y-2]+2*K[y-1]-16*K[y]+2*K[y+1]+K[y+2];
_+=K[y+E-1]+2*K[y+E]+K[y+E+1];_+=K[y+E+E]}else _=-16*K[y];J[y]=_}return J};W.u3.a3P=function(K,E,x,c){if(c==null)c=128;
var J=new Uint8Array(E*x);for(var i=1;i<x-1;i++)for(var P=1;P<E-1;P++){var y=i*E+P;J[y]=W.u3.afM(K[y],K[y-1],K[y+1],K[y-E],K[y+E],c)}return J};
W.u3.afM=function(K,E,x,c,J,i){var P=Math.abs(K);return K*E<0&&P<Math.abs(E)&&Math.abs(E-K)>i||K*x<0&&P<Math.abs(x)&&Math.abs(x-K)>i||K*c<0&&P<Math.abs(c)&&Math.abs(c-K)>i||K*J<0&&P<Math.abs(J)&&Math.abs(J-K)>i?1:0};
W.u3.a5T=function(K,E,x,c){var J=new Float32Array(c),i=0;new Uint32Array(c).fill(0);for(var P=0;P<x;
P++)for(var _=0;_<E;_++){var a=0,j=0,y=P*E+_,e=y*3;if(0<_&&_<E-1)a=K[y+1]-K[y-1];if(0<P&&P<x-1)j=K[y+E]-K[y-E];
var d=J[e+2]=Math.sqrt(a*a+j*j);if(d!=0){var I=1/d;J[e]=a*I;J[e+1]=j*I}if(d>i)i=d}var v=E*x,n=i==0?0:1/i;
for(var y=0;y<v;y++)J[y*3+2]=1-J[y*3+2]*n;return J};W.u3.afN=function(K,E,x){return x[~~((.5+.5*K)*255)]+x[~~((.5+.5*E)*255)]};
W.u3.a4b=function(K,E,x,c){var J=Date.now(),i=W.u3.abN(K,E,x,c),P=W.u3.a3P(i,E,x),_=W.u3.a5T(K,E,x,c),a=new Float32Array(256);
for(var y=0;y<256;y++)a[y]=Math.acos(-1+2*y/255)*(.95/Math.PI);var j=[-1,0,1,1,1,0,-1,-1],e=[-1,-1,-1,0,1,1,1,0];
for(var y=0;y<8;y++){var d=1/Math.sqrt(j[y]*j[y]+e[y]*e[y]);j[y]*=d;e[y]*=d}var I=[j[0],e[0],j[1],e[1],j[2],e[2],j[3],e[3]],v=[-E-1,-E,-E+1,1],n=new Uint8Array(E*x*8);
new Uint32Array(n.buffer).fill(4294967295);var C=E*x;for(var T=1;T<x-1;T++)for(var o=1;o<E-1;o++){var s=T*E+o,Q=1-P[s],X=_[s*3+2],B=_[3*s+1],M=-_[3*s];
for(var S=0;S<4;S++){var f=s+v[S];W.u3.a4U(s,f,S,n,P,_,Q,X,B,M,I,a)}}return n};W.u3.a4U=function(K,E,x,c,J,i,P,_,a,j,e,d){var I=1-J[E],v=(x&1)==0?1:Math.SQRT1_2,n=i[E*3+2]*v,C=i[3*E+1],T=-i[3*E],o=_*v,s=e[x+x],Q=e[x+x+1],X=a*s+j*Q,B=C*s+T*Q;
if(X+B<0){X=-X;B=-B}var M=W.u3.afN(X,B,d);c[(K<<3)+x]=W.u3.gK(I,M,n);c[(E<<3)+x+4]=W.u3.gK(P,M,o)};W.u3.gK=function(K,E,x){return 1+~~(.5+20*(.43*K+.43*E+.14*x))};
W.u3.a36=function(K,E,x){var c=new Int16Array(x),J=c,y=0,i=0;new Uint32Array(x).fill(0);for(var P=0;
P<E;P++)for(var _=0;_<K;_++){if(P>0&&_>0)J[i+0]=-K-1;if(P>0)J[i+1]=-K;if(P>0&&_<K-1)J[i+2]=-K+1;if(_<K-1)J[i+3]=1;
if(P<E-1&&_<K-1)J[i+4]=K+1;if(P<E-1)J[i+5]=K;if(P<E-1&&_>0)J[i+6]=K-1;if(_>0)J[i+7]=-1;y++;i+=8}return c};
W.vm={};W.vm.vM=function(K){var E=K.slice(0),x=0;for(var y=0;y<K.length;y++)x+=K[y];for(var y=0;y<K.length;
y++)E[y]/=x;return E};W.vm.rC=[W.vm.vM([1,2,1,2,16,2,1,2,1]),W.vm.vM([1,2,1,2,4,2,1,2,1]),W.vm.vM([0,-1,0,-1,8,-1,0,-1,0]),W.vm.vM([-.7,-1,-.7,-1,10,-1,-.7,-1,-.7]),[-1,0,1,-2,0,2,-1,0,1],[1,2,1,0,0,0,-1,-2,-1]];
W.vm.z3=function(K,E,x,c,J,i,P,_){if(P==null)P=!1;if(_==null)_=!1;var a=Math.floor(Math.sqrt(J.length)),j=a-1>>>1,e=new Uint32Array(K.buffer),E=new Uint8ClampedArray(E.buffer);
for(var y=0;y<c;y++)for(var d=0;d<x;d++){var I=0,v=0,n=0,C=0;for(var T=0;T<a;T++)for(var o=0;o<a;o++){var s=J[T*a+o];
if(s==0)continue;var Q=d-j+o,X=y-j+T;if(Q<0)Q=0;else if(Q>x-1)Q=x-1;if(X<0)X=0;else if(X>c-1)X=c-1;if(_&&e[X*x+Q]>>>24==0){X=y;
Q=d}var B=e[X*x+Q];I+=(B&255)*s;v+=(B>>>8&255)*s;n+=(B>>>16&255)*s;C+=(B>>>24&255)*s}if(P){if(I<0)I=-I;
if(v<0)v=-v;if(n<0)n=-n;if(C<0)C=-C}if(_){I=Math.max(0,Math.min(255,I));v=Math.max(0,Math.min(255,v));
n=Math.max(0,Math.min(255,n));C=Math.max(0,Math.min(255,C))}var M=y*x+d<<2;E[M]=~~(.5+I);E[M+1]=~~(.5+v);
E[M+2]=~~(.5+n);E[M+3]=255-i&E[M+3]|i&~~(.5+C)}};W.vm.rH=function(K,E,x,c){var J=K.length,i=new Uint8Array(J);
W.vm.z3(K,E,x,c,W.vm.rC[4],0,!0);W.vm.z3(K,i,x,c,W.vm.rC[5],0,!0);for(var y=0;y<J;y+=4){var P=E[y],_=E[y+1],a=E[y+2],j=E[y+3],e=i[y],d=i[y+1],I=i[y+2],v=i[y+3];
E[y]=255-Math.max(0,Math.min(255,Math.sqrt(P*P+e*e)));E[y+1]=255-Math.max(0,Math.min(255,Math.sqrt(_*_+d*d)));
E[y+2]=255-Math.max(0,Math.min(255,Math.sqrt(a*a+I*I)))}};W.vm.WC=function(K,E,x,c){var J=K.length,i=new Uint8Array(J);
W.vm.q0(K,E,x,c,W.vm.rC[4],!0);W.vm.q0(K,i,x,c,W.vm.rC[5],!0);for(var y=0;y<J;y++){var P=E[y],_=i[y];
E[y]=255-Math.max(0,Math.min(255,Math.sqrt(P*P+_*_)))}};W.vm.q0=function(K,E,x,c,J,i){E=new Uint8ClampedArray(E.buffer);
var P=[-x-1,-x,-x+1,-1,0,1,x-1,x,x+1],_=c-1,a=x-1;for(var y=1;y<_;y++)for(var j=1;j<a;j++){var e=y*x+j,d=W.vm.Pz(K,e,x,J);
if(i){if(d<0)d=-d}E[e]=~~(d+.5)}};W.vm.Pz=function(K,E,x,c){return K[E-x-1]*c[0]+K[E-x]*c[1]+K[E-x+1]*c[2]+K[E-1]*c[3]+K[E]*c[4]+K[E+1]*c[5]+K[E+x-1]*c[6]+K[E+x]*c[7]+K[E+x+1]*c[8]};
W.vm.Ik=function(K,E,x,c,J){var i=[-x-1,-x,-x+1,-1,0,1,x-1,x,x+1],P=c-1,_=x-1;for(var y=1;y<P;y++)for(var a=1;
a<_;a++){var j=y*x+a;E[j]=W.vm.aaq(K,j,x,J)}};W.vm.aaq=function(K,E,x,c){return K[E-x-1]*c[0]+K[E-x]*c[1]+K[E-x+1]*c[2]+K[E-1]*c[3]+K[E]*c[4]+K[E+1]*c[5]+K[E+x-1]*c[6]+K[E+x]*c[7]+K[E+x+1]*c[8]};
W.WD={};W.WD.fm=function(){function K(P,_,a,j,e,d,I){if(e==0){_.set(P);return}var v=W.Q(a*j),n=W.Q(a*j);
if(W.m4(P)){E(P,_,a,j,e,d,I);var C=[W.WD.pW,W.WD.cb],T=C.indexOf(d),o=T!=-1?C[1-T]:d;W.Bp(P,v,3);W.WD.h5(v,n,a,j,e,o,I);
W.Mz(n,_,3)}else{for(var y=0;y<3;y++){W.Bp(P,v,y);W.WD.h5(v,n,a,j,e,d,I);W.Mz(n,_,y)}}}function E(P,_,a,j,e,d,I){var v=0,n=new ArrayBuffer(512*4*3),C=[new Int32Array(n,0),new Int32Array(n,2048),new Int32Array(n,2*2048)],T=1+2*Math.round(Math.sqrt(e)),o=T>>>1,s=new Array(T),Q=new Array(T);
for(var y=0;y<T;y++){var n=new ArrayBuffer(512*4*3);s[y]=[new Int32Array(n,0),new Int32Array(n,2048),new Int32Array(n,2*2048)];
Q[y]=s[y][0]}var X=d[0],B=d[1],M=C[0];for(var S=0;S<a;S++)if(S<e||S>a-e-T-1){M.fill(0);var f=Math.max(S-e,0),F=Math.min(a,S+e+1),G=F-f;
for(var D=0;D<e;D++)c(M,P,D*a+f,D*a+F,1);for(var D=0;D<j;D++){var b=D-e-1,H=D+e;if(H<j)c(M,P,H*a+f,H*a+F,1);
if(b>=0)c(M,P,b*a+f,b*a+F,-1);var q=D*a+S<<2;v=M[300];if(v!=0)for(var y=0;y<3;y++)_[q+y]=X(C[y],P[q+y],v,I)}}else{for(var y=0;
y<T;y++)Q[y].fill(0);var f=S-e+o,F=S+e+1+o;for(var D=0;D<e;D++)x(Q,P,D*a+f,D*a+F,1,o);for(var D=0;D<j;
D++){var b=D-e-1,H=D+e;if(b>=0)x(Q,P,b*a+f,b*a+F,-1,o);if(H<j)x(Q,P,H*a+f,H*a+F,1,o);var O=s[o];v=O[0][300];
for(var y=0;y<o;y++){var w=o-1-y,V=o+1+y,t=s[w],m=s[V],g=v+t[0][300],Y=v+m[0][300],A=D*a+S+w<<2,k=D*a+S+V<<2;
if(g!=0)for(var z=0;z<3;z++)_[A+z]=B(O[z],t[z],P[A+z],g,I);if(Y!=0)for(var z=0;z<3;z++)_[k+z]=B(O[z],m[z],P[k+z],Y,I)}var q=D*a+S+o<<2;
if(v!=0)for(var z=0;z<3;z++)_[q+z]=X(O[z],P[q+z],v,I)}S+=T-1}}function x(P,_,a,j,e,d){var I=J,v=a<<2,n=j<<2;
I(P[d-1],_,a-1<<2,e);I(P[d-1],_,j-1<<2,-e);I(P[d+1],_,j<<2,e);I(P[d+1],_,a<<2,-e);for(var y=1;y<d;y++){var C=P[d-y-1],T=P[d+y+1];
for(var o=0;o<=y;o++){var s=o<<2;I(C,_,a-1-o<<2,e);I(C,_,j-1-o<<2,-e);I(T,_,j+o<<2,e);I(T,_,a+o<<2,-e)}}c(P[d],_,a,j,e)}function c(P,_,y,a,j){var e=y<<2,d=a<<2;
while(e<d){J(P,_,e,j);e+=4}}function J(P,_,a,j){var e=j*_[a+3];P[300]+=e;i(P,_[a],0,e);i(P,_[a+1],512,e);
i(P,_[a+2],1024,e)}function i(P,_,a,j){P[a|_]+=j;P[a|256|_>>>4]+=j}return K}();W.WD.h5=function(){function K(d,I,v,n,C,T,o){if(C==0){I.set(d);
return}if(C<=80)E(d,I,v,n,C,T,o);else i(d,I,v,n,C,T,o)}function E(d,I,v,n,C,T,o){var s=0,Q=new Int32Array(512),X=1+2*Math.round(Math.sqrt(C)),B=X>>>1,M=new Array(X);
for(var y=0;y<X;y++)M[y]=new Int32Array(512);var S=T[0],f=T[1];for(var F=0;F<v;F++)if(F<C||F>v-C-X-1){Q.fill(0);
s=0;var G=Math.max(F-C,0),D=Math.min(v,F+C+1),b=D-G;for(var H=0;H<C;H++){s+=b;c(Q,d,H*v+G,H*v+D,1)}for(var H=0;
H<n;H++){var q=H-C-1,O=H+C;if(q>=0){s-=b;c(Q,d,q*v+G,q*v+D,-1)}if(O<n){s+=b;c(Q,d,O*v+G,O*v+D,1)}var w=S(Q,d[H*v+F],s,o);
I[H*v+F]=w}}else{for(var y=0;y<X;y++)M[y].fill(0);s=0;var G=F-C+B,D=F+C+1+B,b=D-G;for(var H=0;H<C;H++){s+=b;
x(M,d,H*v+G,H*v+D,1,B)}for(var H=0;H<n;H++){var q=H-C-1,O=H+C;if(q>=0){s-=b;x(M,d,q*v+G,q*v+D,-1,B)}if(O<n){s+=b;
x(M,d,O*v+G,O*v+D,1,B)}for(var y=0;y<B;y++){var V=B-1-y,t=B+1+y;I[H*v+F+V]=f(M[B],M[V],d[H*v+F+V],s,o);
I[H*v+F+t]=f(M[B],M[t],d[H*v+F+t],s,o)}I[H*v+F+B]=S(M[B],d[H*v+F+B],s,o)}F+=X-1}}function x(d,I,v,n,C,T){var o=J;
o(d[T-1],I[v-1],0,C);o(d[T-1],I[n-1],0,-C);o(d[T+1],I[n],0,C);o(d[T+1],I[v],0,-C);for(var y=1;y<T;y++){var s=d[T-y-1],Q=d[T+y+1];
for(var X=0;X<=y;X++){o(s,I[v-1-X],0,C);o(s,I[n-1-X],0,-C);o(Q,I[n+X],0,C);o(Q,I[v+X],0,-C)}}c(d[T],I,v,n,C)}function c(d,I,y,v,n){while(y<v)J(d,I[y++],0,n)}function J(d,I,v,n){d[v|I]+=n;
d[v|256|I>>>4]+=n}function i(d,I,v,n,C,T,o){var s=0,Q=new Int32Array(512),X=new Int32Array(1*v),B=new Int32Array(512*v),M=Math.min(C,v),S=Math.min(C,n),f=T[0];
for(var F=0;F<S;F++)P(B,X,d,v,F,1);for(var F=0;F<n;F++){if(F+C<n)P(B,X,d,v,F+C,1);if(F-C-1>=0)P(B,X,d,v,F-C-1,-1);
Q.fill(0);s=0;for(var G=0;G<M;G++){s+=X[G];_(Q,B,G)}for(var G=0;G<v;G++){var D=G-C-1,b=G+C;if(D>=0&&X[D]!=0){s-=X[D];
a(Q,B,D)}if(b<v&&X[b]!=0){s+=X[b];_(Q,B,b)}var H=s==0?0:f(Q,d[F*v+G],s,o);I[F*v+G]=H}}}function P(d,I,v,n,C,T){var y=C*n;
for(var o=0;o<n;o++){J(d,v[y+o],o<<9,T);I[o]+=T}}function _(d,I,v){for(var y=0;y<16;y++){var n=I[v<<9|256|y];
if(n==0)continue;d[256|y]+=n;var C=y<<4,T=v<<9|C;j(d,I,C,T);j(d,I,C+4,T+4);j(d,I,C+8,T+8);j(d,I,C+12,T+12)}}function a(d,I,v){for(var y=0;
y<16;y++){var n=I[v<<9|256|y];if(n==0)continue;d[256|y]-=n;var C=y<<4,T=v<<9|C;e(d,I,C,T);e(d,I,C+4,T+4);
e(d,I,C+8,T+8);e(d,I,C+12,T+12)}}function j(d,I,v,n){d[v]+=I[n];d[v+1]+=I[n+1];d[v+2]+=I[n+2];d[v+3]+=I[n+3]}function e(d,I,v,n){d[v]-=I[n];
d[v+1]-=I[n+1];d[v+2]-=I[n+2];d[v+3]-=I[n+3]}return K}();W.WD.cb=[function(K,E,x,c){var y=15;while(K[256|y]==0&&y>0)y--;
y=(y<<4)+15;while(K[y]==0&&y>0)y--;return y},function(K,E,x,c,J){var y=15;while(K[256|y]+E[256|y]==0&&y>0)y--;
y=(y<<4)+15;while(K[y]+E[y]==0&&y>0)y--;return y}];W.WD.pW=[function(K,E,x,c){var y=0;while(K[256|y]==0&&y<15)y++;
y=y<<4;while(K[y]==0&&y<255)y++;return y},function(K,E,x,c,J){var y=0;while(K[256|y]+E[256|y]==0&&y<15)y++;
y=y<<4;while(K[y]+E[y]==0&&y<255)y++;return y}];W.WD.NB=.5;W.WD.jO=[function(K,E,x,c){var J=~~(.5+W.WD.NB*x),i=0,y=256;
while(i+K[y]<J)i+=K[y++];y=y-256<<4;while(i<J)i+=K[y++];return y-1},function(K,E,x,c,J){var i=~~(.5+W.WD.NB*c),P=0,y=256;
while(P+K[y]+E[y]<i){P+=K[y]+E[y];y++}y=y-256<<4;while(P<i){P+=K[y]+E[y];y++}return y-1}];W.WD.gs=[function(K,E,x,c){var J=c[0],i=0,P=0,y=Math.max(0,E-J),_=Math.min(256,E+J+1);
while(y<_){var a=K[y];i+=y*a;P+=a;y++}return P==0?0:i/P},function(K,E,x,c,J){var i=J[0],P=0,_=0,y=Math.max(0,x-i),a=Math.min(256,x+i+1);
while(y<a){var j=K[y]+E[y];P+=y*j;_+=j;y++}return _==0?0:P/_}];W.K={};W.K.Ur=function(K){var E=$.Xq.t9(K.Trnf),x=K.Sz.v,c=W.K.AS(E,new cS(0,0,x.Wdth.v,x.Hght.v));
return W.K.vA(c)};W.K.AS=function(K,E){var x=K[0],c=K[1],J=K[2],i=K[3],P=K[6],_=K[7],a=K[4],j=K[5],e=0,d=0,I=1,v=0,n=0,C=1,T=1,o=1;
if(E){e=E.x;d=E.y;I=E.x+E.b;v=E.y;n=E.x;C=E.y+E.n;T=E.x+E.b;o=E.y+E.n}return W.K.D4(K,[e,d,I,v,T,o,n,C])};
W.K.fP=function(K){function E(J,i){for(var y=0;y<i.length;y+=2)if(!x(J,i[y],i[y+1]))return!1;return!0}function x(J,i,P){return J[2*i]==J[2*P]&&J[2*i+1]==J[2*P+1]}var c=0;
if(E(K,[0,1,2,3]))c+=1;if(E(K,[0,3,1,2]))c+=2;return c};W.K.D4=function(K,E){function x(w,y,V){var H=w[y*2]-w[V*2],q=w[y*2+1]-w[V*2+1];
return Math.sqrt(H*H+q*q)}var c=K[0],J=K[1],i=K[2],P=K[3],_=K[6],a=K[7],j=K[4],e=K[5],d=E[0],I=E[1],v=E[2],n=E[3],C=E[6],T=E[7],o=E[4],s=E[5],Q=[[d,I,1,0,0,0,-d*c,-I*c,c],[0,0,0,d,I,1,-d*J,-I*J,J],[v,n,1,0,0,0,-v*i,-n*i,i],[0,0,0,v,n,1,-v*P,-n*P,P],[C,T,1,0,0,0,-C*_,-T*_,_],[0,0,0,C,T,1,-C*a,-T*a,a],[o,s,1,0,0,0,-o*j,-s*j,j],[0,0,0,o,s,1,-o*e,-s*e,e]],X=[0,0,0,0,0,0,0,0],B=W.rS.tS(Q,X);
if(B!=0){X=[0,0,0,0,0,0,0,0];var M=W.K.fP(K),S=W.K.fP(E);if(M==S&&M!=0){var f=M==1,F=f?3:1,G=x(K,0,F),D=x(E,0,F),b=D/G,H=K[2*F]-K[0],q=K[2*F+1]-K[1],O=new iQ;
O.translate(-c,-J);O.rotate(Math.atan2(q,H)-(f?Math.PI/2:0));if(f)O.scale(1,b);else O.scale(b,1);O.translate(d,I);
O.Pa();X=W.K.y5(O)}}return X};W.K.Q=function(K,E){if(K==null)K=E=0;return[1,0,K,0,1,E,0,0]};W.K.u5=function(K){return Math.abs(K[6])<1e-10&&Math.abs(K[7])<1e-10};
W.K.vA=function(K){return new iQ(K[0],K[3],K[1],K[4],K[2],K[5])};W.K.y5=function(K){return[K.Cc,K.o0,K.qW,K.k,K.Ga,K.Ju,0,0]};
W.K.u=function(K,E){var x=new Float64Array(2);for(var c=0;c<E.length;c+=2){var J=E[c],i=E[c+1];W.K.wv(J,i,K,x);
E[c]=x[0];E[c+1]=x[1]}};W.K.wv=function(K,E,x,c){var J=1/(x[6]*K+x[7]*E+1);c[0]=(x[0]*K+x[1]*E+x[2])*J;
c[1]=(x[3]*K+x[4]*E+x[5])*J};W.K.a31=function(K,E){var x=new Float64Array(2);W.K.wv(E.x,E.y,K,x);return new iP(x[0],x[1])};
W.K.vS=function(K,E,x,c){K=new Uint32Array(K.buffer);E=new Uint32Array(E.buffer);for(var J=0;J<c;J++){for(var i=0;
i<x;i++){E[i*c+J]=K[J*x+i]}}};W.K.v5=function(K,E,x,c){K=new Uint32Array(K.buffer);E=new Uint32Array(E.buffer);
for(var J=0;J<c;J++){for(var i=0;i<x;i++){E[J*x+i]=K[J*x+x-1-i]}}};W.K.alQ=function(K,E,x,c){K=new Uint32Array(K.buffer);
E=new Uint32Array(E.buffer);for(var J=0;J<c;J++){for(var i=0;i<x;i++){E[J*x+i]=K[(c-1-J)*x+i]}}};W.K.hm=function(K){return Math.abs(K[6])<1e-9&&Math.abs(K[7])<1e-9};
W.K.V9=function(K){return Math.abs(K[0])<1e-9&&Math.abs(K[4])<1e-9||Math.abs(K[1])<1e-9&&Math.abs(K[3])<1e-9};
W.K.drawImage=function(K,E,x,c,J,i,P,_,a){if(P==null)P=!1;if(_==null)_=!1;var j=W.K.Pa(K),e=!0,d=0;for(var y=0;
y<8;y++){var I=Math.round(K[y]);if(y!=2&&y!=5)d+=Math.abs(I);if(Math.abs(I-K[y])>1e-9)e=!1}var v=W.K.hm(K),n=W.K.V9(K)&&v,C=n?1:0;
if(P||e&&d==x+c&&v){W.K.awW(j,E,x,c,J,i,_,v,a);return}var T=i.b,o=i.n,s=new Float64Array(2);J=new Uint32Array(J.buffer);
E=new Uint32Array(E.buffer);for(var Q=0;Q<o;Q++)for(var X=0;X<T;X++){var B=Q*T+X,M,S,f,F,g=0,Y=0,A=0,k=0;
J[B]=0;var G=X+i.x+.5,D=Q+i.y+.5;M=G;S=D;f=j;var b=f[0]*M+f[1]*S+f[2],H=f[3]*M+f[4]*S+f[5];if(!v){F=1/(f[6]*M+f[7]*S+1);
b*=F;H*=F}var q=b*x,O=H*c,w=q<-1||q>x+1||O<-1||O>c+1;if(_){q=Math.max(.001,Math.min(x-1,q));O=Math.max(.001,Math.min(c-1,O))}else if(w)continue;
var V=W.K.anh(K,x,c,G,D,b,H),t=Math.round(V*2.3);if(V<1.1){W.K.BD(q,O,E,x,c,J,B,C);continue}if(!_&&(q<.6||q>x-.6||O<.6||O>c-.6)){t=Math.max(t,5)}if(_&&w)t=1;
var m=1/t,z=i.x+X,p=i.y+Q;f=j;for(var y=0;y<t;y++)for(var L=0;L<t;L++){M=z+(y+.5)*m;S=p+(L+.5)*m;var q=f[0]*M+f[1]*S+f[2],O=f[3]*M+f[4]*S+f[5];
if(!v){F=1/(f[6]*M+f[7]*S+1);q*=F;O*=F}if(_){q=Math.max(.001,Math.min(.999,q));O=Math.max(.001,Math.min(.999,O))}else if(q<0||q>=1||O<0||O>=1)continue;
q=Math.floor(q*x);O=Math.floor(O*c);var N=O*x+q,gC=E[N],r=gC>>>24;g+=(gC&255)*r;Y+=(gC>>>8&255)*r;A+=(gC>>>16&255)*r;
k+=r}if(k!=0){var h=1/k;g=~~(g*h+.5);Y=~~(Y*h+.5);A=~~(A*h+.5);k=~~(k*m*m+.5);J[B]=k<<24|A<<16|Y<<8|g}}};
W.K.anh=function(K,E,x,c,J,i,P){var _=W.K.Wy(K,c,J,i+1/E,P),a=W.K.Wy(K,c,J,i,P+1/x);return 1/Math.sqrt(Math.max(_,a))};
W.K.Wy=function(K,E,x,c,J){var i=1/(K[6]*c+K[7]*J+1),P=(K[0]*c+K[1]*J+K[2])*i-E,_=(K[3]*c+K[4]*J+K[5])*i-x;
return P*P+_*_};W.K.awW=function(K,E,x,c,J,i,P,_,a){if(_&&!P&&i.O()>4e6&&a){W.K.asR(K,E,x,c,J,i,P,_,a);
return}var j=i.x+i.b,e=i.y+i.n,d=0,I=new Uint32Array(J.buffer),v=new Uint32Array(E.buffer),n=K[0]*x,C=K[1]*x,T=K[2]*x,o=K[3]*c,s=K[4]*c,Q=K[5]*c,X=K[6],B=K[7];
if(_&&!P)for(var M=i.y+.5;M<e;M++)for(var S=i.x+.5;S<j;S++){var f=n*S+C*M+T,F=o*S+s*M+Q;if(0<f&&f<x&&0<F&&F<c){var G=~~F*x+~~f;
I[d]=v[G]}else I[d]=0;d++}else for(var M=i.y+.5;M<e;M++)for(var S=i.x+.5;S<j;S++){var D=1/(X*S+B*M+1),f=(n*S+C*M+T)*D,F=(o*S+s*M+Q)*D;
if(P){f=Math.max(.001,Math.min(x-1,f));F=Math.max(.001,Math.min(c-1,F))}if(0<f&&f<x&&0<F&&F<c){var G=Math.floor(F)*x+Math.floor(f);
I[d]=v[G]}else I[d]=0;d++}};W.K.asR=function(K,E,x,c,J,i,P,_,a){var j=new Uint32Array(J.buffer),e=new Uint32Array(E.buffer),B=0;
if(a&&(i.b&3)!=0)throw"e";var d=K[0]*x,I=K[1]*x,v=K[2]*x,n=K[3]*c,C=K[4]*c,T=K[5]*c,o=K[6],s=K[7],Q=i.b,X=i.n,M=i.x+.5,S=i.y+.5,f=(Q>>>2<<2)-1e-9,F=-.1+(X>>>1<<1)-1e-9,G=~~x,D=d==0?0:1/d,b=n==0?0:1/n;
for(var H=0;H<X;H++){var q=M*d+I*(H+S)+v,O=M*n+C*(H+S)+T,w=0,V=Q;if(d==0){}else if(D>0){w=Math.max(w,-q*D);
V=Math.min(V,(x-q)*D)}else{V=Math.min(V,-q*D);w=Math.max(w,(x-q)*D)}if(n==0){}else if(b>0){w=Math.max(w,-O*b);
V=Math.min(V,(c-O)*b)}else{V=Math.min(V,-O*b);w=Math.max(w,(c-O)*b)}if(V<0)V=0;if(w>V)w=V;w=Math.ceil(w);
V=~~V;B=~~(H*Q);for(var t=0;t<w;t++)j[B++]=0;for(var t=w;t<V;t+=4){var m=d*t+q,g=n*t+O,Y=~~g*G+~~m;j[B++]=j[B++]=j[B++]=j[B++]=e[Y]}for(var t=V;
t<Q;t++)j[B++]=0}};W.K.Pa=function(K){var E=K[4]-K[5]*K[7],x=K[2]*K[7]-K[1],c=K[1]*K[5]-K[2]*K[4],J=K[5]*K[6]-K[3],i=K[0]-K[2]*K[6],P=K[3]*K[2]-K[0]*K[5],_=K[3]*K[7]-K[4]*K[6],a=K[1]*K[6]-K[0]*K[7],j=1/(K[0]*K[4]-K[1]*K[3]);
return[E*j,x*j,c*j,J*j,i*j,P*j,_*j,a*j]};W.K.hH=function(K,E){var x=K[0],c=K[1],J=K[2],i=K[3],P=K[4],_=K[5],a=K[6],j=K[7],e=E[0],d=E[1],I=E[2],v=E[3],n=E[4],C=E[5],T=E[6],o=E[7],s=[x*e+c*v+J*T,x*d+c*n+J*o,x*I+c*C+J,i*e+P*v+_*T,i*d+P*n+_*o,i*I+P*C+_,a*e+j*v+T,a*d+j*n+o],Q=1/(a*I+j*C+1);
for(var y=0;y<8;y++)s[y]*=Q;return s};W.K.BD=function(K,E,x,c,J,i,P,_){var a=K,j=E,I=0,v=0,n=0,C=0;K-=.499999;
E-=.499999;var e=Math.floor(K),d=Math.floor(E);if(_==0){var y=d*c+e,T=e>=0&&e<c,o=e+1>=0&&e+1<c,s=d>=0&&d<J,Q=d+1>=0&&d+1<J;
if(T&&s)I=x[y];if(o&&s)v=x[y+1];if(T&&Q)n=x[y+c];if(o&&Q)C=x[y+c+1]}else if(_==1){var X=e<0?0:e>c-1?c-1:e,B=e<-1?0:e>c-2?c-1:e+1,M=d<0?0:d>J-1?J-1:d,S=d<-1?0:d>J-2?J-1:d+1;
I=x[M*c+X];v=x[M*c+B];n=x[S*c+X];C=x[S*c+B]}else{var X=(e+50*c)%c,B=(e+50*c)%c,M=(d+50*J)%J,S=(d+50*J)%J;
I=x[M*c+X];v=x[M*c+B];n=x[S*c+X];C=x[S*c+B]}var f=K-e,F=E-d,G=(1-F)*(1-f)*(I>>>24),D=(1-F)*f*(v>>>24),b=F*(1-f)*(n>>>24),H=F*f*(C>>>24),q=G+D+b+H,O=G*(I&255)+D*(v&255)+b*(n&255)+H*(C&255),w=G*(I>>>8&255)+D*(v>>>8&255)+b*(n>>>8&255)+H*(C>>>8&255),V=G*(I>>>16&255)+D*(v>>>16&255)+b*(n>>>16&255)+H*(C>>>16&255);
if(q==0)i[P]=0;else{var t=1/q;O=~~(O*t+.5);w=~~(w*t+.5);V=~~(V*t+.5);q=~~(q+.5);i[P]=q<<24|V<<16|w<<8|O}};
W.K.Md=function(K,E,x,c,J,i){var P=K-.499999,_=E-.499999,a=~~P,j=~~_,e=P-a,d=_-j,I=(1-d)*(1-e),v=(1-d)*e,n=d*(1-e),C=d*e,T=j*c+a<<2,o=(j+1)*c+a<<2,s=I*x[T]+v*x[T+4]+n*x[o]+C*x[o+4],Q=I*x[T+1]+v*x[T+5]+n*x[o+1]+C*x[o+5],X=I*x[T+2]+v*x[T+6]+n*x[o+2]+C*x[o+6],B=I*x[T+3]+v*x[T+7]+n*x[o+3]+C*x[o+7];
i[0]=s;i[1]=Q;i[2]=X;i[3]=B};W.K.iP=function(K,E,x,c,J){K-=.499999;E-=.499999;var i=Math.floor(K),P=Math.floor(E),_=K-i,a=E-P,j=(1-a)*(1-_),e=(1-a)*_,d=a*(1-_),I=a*_,v=(i+50*c)%c,n=(i+1+50*c)%c,C=(P+50*J)%J,T=(P+1+50*J)%J,o=x[C*c+v],s=x[C*c+n],Q=x[T*c+v],X=x[T*c+n];
if(o==null||X==null)throw"e";return j*o+e*s+d*Q+I*X};W.K.awR=function(K,E,x,c,J){K-=.499999;E-=.499999;
var i=Math.floor(K),P=Math.floor(E),_=K-i,a=E-P,j=(1-a)*(1-_),e=(1-a)*_,d=a*(1-_),I=a*_,v=P*c+i,n=v+c,C=x[v],T=x[v+1],o=x[n],s=x[n+1];
if(C==null||s==null){console.log(i,P,c,J);throw"e"}return j*C+e*T+d*o+I*s};W.K.jQ=function(K,E,x,c,J,i,P,_,a,j,e,d){var I=new Uint32Array(K.buffer),v=new Uint32Array(c.buffer),n=(1+2*j)/J,C=[],T=[];
for(var o=0;o<J;o++){var s=-.25+j-o*n;C.push(Math.cos(2*Math.PI*s)*d/e);C.push(Math.sin(2*Math.PI*s)/e)}P*=E;
_*=x;for(var Q=0;Q<i;Q++){var X=Math.pow(Q/i,a)*i;for(var o=0;o<J;o++){var B=P+C[o<<1]*X,M=_+C[(o<<1)+1]*X,S=~~(.5+(B<0?0:B>E-1?E-1:B)),f=~~(.5+(M<0?0:M>x-1?x-1:M));
v[Q*J+o]=I[f*E+S]}}};W.K.ct=function(K,E,x,c,J,i,P,_,a,j,e,d){var I=new Uint32Array(K.buffer),v=new Uint32Array(c.buffer),n=1/d,C=[],T=x*4,o=1/T;
for(var s=0;s<T+10;s++)C.push(Math.pow(s*o,1/a)*x*e);P*=J;_*=i;for(var s=0;s<i;s++)for(var Q=0;Q<J;Q++){var X=n*(Q-P),B=s-_,M=1.75-Math.atan2(B,X)*(1/(2*Math.PI));
M=M-~~M;M=(M+j)*(1/(1+2*j));var S=Math.sqrt(X*X+B*B);S=C[~~(S*4)];W.K.BD(M*E+.5,S+.5,I,E,x,v,s*J+Q,1)}};
W.K.$i=function(K,E,x,c,J){var i=J[0],P=J[1];for(var _=0;_<P;_++)for(var a=0;a<i;a++){var j=J[2]*a+J[3]*_+J[4],e=J[5]*a+J[6]*_+J[7],d=_*i+a<<2,I=e*E+j<<2;
c[d]=K[I+0];c[d+1]=K[I+1];c[d+2]=K[I+2];c[d+3]=K[I+3]}};W.M={CQ:function(K,E){var x=~~(.499+K*E);return x<0?0:x>E?E:x},a22:function(K,E,x,c,J,i,P,_){var a=x[0],j=x[1],e=x[2],d=x[3],I=c.b,v=c.n,n=new Float64Array(I*4+8),C=new Float64Array(I*4+8);
for(var T=0,y=0;T<v;T++){var o=n;n=C;C=o;C.fill(0);for(var s=0;s<I;s++,y++){var Q=s+J,X=T+i,B=a*Q+j*X,M=e*Q+d*X,S=0,G=0;
if(_==0)S=B+.5;else if(_==1)S=2*Math.sqrt(B*B+M*M);else if(_==2)S=(Math.PI+Math.atan2(-M,-B))/(2*Math.PI);
else if(_==3)S=Math.abs(B*2);else if(_==4)S=2*(Math.abs(B)+Math.abs(M));var f=W.M.CQ(S,P)*4,F=s*4;for(var D=0;
D<4;D++){var b=Math.max(0,Math.min(254.999,E[f+D]+n[F+4+D])),H=Math.floor(b);if(Math.random()<b-H)H++;
var q=b-H;n[F+8+D]=q*(7/16);C[F+0+D]=q*(3/16);C[F+4+D]=q*(5/16);C[F+8+D]=q*(1/16);G|=H<<D*8}K[y]=G}}},vJ:[function(K,E,x,c,J,i,P){var _=x[0],a=x[1],j=x[2],e=x[3],d=c.b,I=c.n;
for(var v=0,y=0;v<I;v++)for(var n=0;n<d;n++,y++){var C=n+J,T=v+i,o=_*C+a*T,s=j*C+e*T,Q=o+.5;K[y]=E[W.M.CQ(Q,P)]}},function(K,E,x,c,J,i,P){var _=x[0],a=x[1],j=x[2],e=x[3],d=c.b,I=c.n;
for(var v=0,y=0;v<I;v++)for(var n=0;n<d;n++,y++){var C=n+J,T=v+i,o=_*C+a*T,s=j*C+e*T,Q=2*Math.sqrt(o*o+s*s);
K[y]=E[W.M.CQ(Q,P)]}},function(K,E,x,c,J,i,P){var _=x[0],a=x[1],j=x[2],e=x[3],d=c.b,I=c.n;for(var v=0,y=0;
v<I;v++)for(var n=0;n<d;n++,y++){var C=n+J,T=v+i,o=_*C+a*T,s=j*C+e*T,Q=(Math.PI+Math.atan2(-s,-o))/(2*Math.PI);
K[y]=E[W.M.CQ(Q,P)]}},function(K,E,x,c,J,i,P){var _=x[0],a=x[1],j=x[2],e=x[3],d=c.b,I=c.n;for(var v=0,y=0;
v<I;v++)for(var n=0;n<d;n++,y++){var C=n+J,T=v+i,o=_*C+a*T,s=j*C+e*T,Q=Math.abs(o*2);K[y]=E[W.M.CQ(Q,P)]}},function(K,E,x,c,J,i,P){var _=x[0],a=x[1],j=x[2],e=x[3],d=c.b,I=c.n;
for(var v=0,y=0;v<I;v++)for(var n=0;n<d;n++,y++){var C=n+J,T=v+i,o=_*C+a*T,s=j*C+e*T,Q=2*(Math.abs(o)+Math.abs(s));
K[y]=E[W.M.CQ(Q,P)]}}]};W.M.aqq=function(K,E){return K+.5};W.M.aiT=function(K,E){return 2*Math.sqrt(K*K+E*E)};
W.M.arI=function(K,E){return(Math.PI+Math.atan2(-E,-K))/(2*Math.PI)};W.M.anM=function(K,E){return Math.abs(K*2)};
W.M.an7=function(K,E){return 2*(Math.abs(K)+Math.abs(E))};W.M.iS=function(K,E,x,c,J,i,P,_,a,j,e,d){var I=K.Clrs,v=new Uint32Array(E.buffer),n=1023,C=I?W.M.Y7(K,a,j):null;
if(d&&I){var T=W.M.a1R(K,C,n+1,P);W.M.a22(v,T,c,x,x.x-J,x.y-i,n,_)}else{var o=I?W.M.N3(K,C,n+1,P):W.M.aT(K,n+1,P);
if(_<5){W.M.vJ[_](v,o,c,x,x.x-J,x.y-i,n)}else{var s=new Uint8Array(o.buffer),Q=x.b,X=x.n,B=e.KC-e.Px,M=1/B,S=e._$.b-x.b>>1,f=e._$.n-x.n>>1,F=e._$.b,G=-.6*M,D=(-.6+.4)*M,b=(-.6+2*.4)*M,H=(-.6+3*.4)*M;
for(var q=0,y=0;q<X;q++)for(var O=0;O<Q;O++,y+=4){var w=0,V=0,t=0,m=0,g=(q+f)*F+O+S,Y=(e.eF[g]-e.Px)*M,A=0;
if(Y<=0||Y>=1){A=(Y<=0?0:n)<<2;E[y]=s[A];E[y+1]=s[A+1];E[y+2]=s[A+2];E[y+3]=s[A+3];continue}A=Math.max(0,Math.min(n-1,Math.round((Y+G)*n)))<<2;
V+=s[A];t+=s[A+1];m+=s[A+2];w+=s[A+3];A=Math.max(0,Math.min(n-1,Math.round((Y+D)*n)))<<2;V+=s[A];t+=s[A+1];
m+=s[A+2];w+=s[A+3];A=Math.max(0,Math.min(n-1,Math.round((Y+b)*n)))<<2;V+=s[A];t+=s[A+1];m+=s[A+2];w+=s[A+3];
A=Math.max(0,Math.min(n-1,Math.round((Y+H)*n)))<<2;V+=s[A];t+=s[A+1];m+=s[A+2];w+=s[A+3];E[y]=V>>>2;
E[y+1]=t>>>2;E[y+2]=m>>>2;E[y+3]=w>>>2}}}};W.M.Y7=function(K,E,x){var c=[K.Clrs.v,K.Trns.v],J=[[],[]],i=255;
for(var P=0;P<2;P++)for(var y=0;y<c[P].length;y++){var _,a=c[P][y].v;if(P==0){var j=a.Type.v.Clry;if(j=="FrgC")_={o:E>>16&255,J:E>>8&255,k:E&255};
else if(j=="BckC")_={o:x>>16&255,J:x>>8&255,k:x&255};else _=W.M.Et(a.Clr.v)}else{_=a.Opct.v.val*(255/100);
if(_<i)i=_}J[P].push([_,a.Lctn.v/4096,a.Mdpn.v/100])}J.push(i>254);return J};W.M.Et=function(K){var E,x=K.classID;
if(x=="RGBC"){if(K.Rd)E={o:K.Rd.v,J:K.Grn.v,k:K.Bl.v};else E={o:K.redFloat.v*255,J:K.greenFloat.v*255,k:K.blueFloat.v*255}}else if(x=="HSBC"){E=W.lx(K.H.v.val/360,K.Strt.v/100,K.Brgh.v/100);
E.o*=255;E.J*=255;E.k*=255}else if(x=="CMYC"){var c=100-K.Cyn.v,J=100-K.Mgnt.v,i=100-K.Ylw.v,P=100-K.Blck.v,_=255*c*P*1e-4,a=255*(.2*c+.8*J)*P*1e-4,j=255*(.2*J+.8*i)*P*1e-4;
E={o:_,J:a,k:j}}else if(x=="Grsc")E={o:255-K.Gry.v,J:255-K.Gry.v,k:255-K.Gry.v};else if(x=="LbCl"){E=W.NZ(K.Lmnc.v,K.A.v,K.B.v)}else if(x=="BkCl")E={o:0,J:0,k:0};
else console.log(K);if(isNaN(E.o))E.o=E.J=E.k=0;return E};W.M.aT=function(K,E,x){var c=new Uint32Array(E),J=new Uint8Array(c.buffer);
c.fill(4278190080);var i=[],P=[],_=K.RndS.v,a=K.Smth.v/4096;for(var y=0;y<4;y++){i[y]=~~(K.Mnm.v[y].v*255/100);
P[y]=~~(K.Mxm.v[y].v*255/100)}var j=W.Q(E*4),e=W.Q(E);for(var d=0;d<3;d++){W.d.lr(null,E,1,j,[1+Math.round(a*a*a*60),22,_*(2+d)]);
W.Bp(j,e,0);W.Mz(e,J,d);var I=i[d],v=P[d];for(var y=0;y<E;y++)J[4*y+d]=Math.max(I,Math.min(v,J[4*y+d]))}if(x)for(var y=0;
y<E/2;y++){var n=c[y];c[y]=c[E-1-y];c[E-1-y]=n}return c};W.M.TD=function(K){return{classID:"RGBC",Rd:{t:"doub",v:K.o},Grn:{t:"doub",v:K.J},Bl:{t:"doub",v:K.k}}};
W.M.a1R=function(K,E,x,c){var J=[],i=1/(x-0);for(var y=0;y<x;y++){var P=y*4,_=W.M.Z9(K,E,(c?x-1-y:y)*i);
J[P]=_[0];J[P+1]=_[1];J[P+2]=_[2];J[P+3]=_[3]}return J};W.M.N3=function(K,E,x,c){var J=new Uint32Array(x),i=1/(x-0);
for(var y=0;y<x;y++)J[y]=W.M.cn(K,E,(c?x-1-y:y)*i);return J};W.M.Z9=function(K,E,x){var c=K.Intr.v*(1/4096),J=E[0],i=E[1],P=J.length-1,_=i.length-1,y=-1,a=0,j=0,e=0,d=0;
if(E[2])a=255;else{while(y<_&&i[y+1][1]<=x)y++;if(y==-1){a=i[0][0]}else if(y==_){a=i[y][0]}else{var I=W.M.uG(i,y,x,c);
a=I*i[y][0]+(1-I)*i[y+1][0]}}y=-1;while(y<P&&J[y+1][1]<=x)y++;if(y==-1){var v=J[0][0];j=v.o;e=v.J;d=v.k}else if(y==P){var v=J[y][0];
j=v.o;e=v.J;d=v.k}else{var n=J[y][0],C=J[y+1][0],T=W.M.uG(J,y,x,c);j=T*n.o+(1-T)*C.o;e=T*n.J+(1-T)*C.J;
d=T*n.k+(1-T)*C.k}return[j,e,d,a]};W.M.cn=function(K,E,x){var c=W.M.Z9(K,E,x),J=~~(.5+c[0]),i=~~(.5+c[1]),P=~~(.5+c[2]),_=~~(.5+c[3]);
return _<<24|P<<16|i<<8|J};W.M.uG=function(K,y,E,x){if(K.length==2)x*=.5;var c=K[y][1],J=K[y+1][1],i=c+K[y+1][2]*(J-c),P;
if(E<i)P=.5*(E-c)/(i-c);else P=.5+.5*(E-i)/(J-i);P=.5+.5*(x*Math.cos(Math.PI*P)+(1-x)*(1-2*P));return P};
W.M.hC=function(K,E){var x=Math.PI*K.Angl.v.val/180,c=K.Scl.v.val/100,J=K.Ofst.v,i=J.Hrzn.v.val/100,P=J.Vrtc.v.val/100,_=Math.cos(x),a=-Math.sin(x),j=.5*E.n,e=j*(_/a),d=Math.sqrt(j*j+e*e),I=.5*E.b,v=I*(a/_),n=Math.sqrt(I*I+v*v),C=Math.min(d,n)*c,T=E.x+E.b/2+i*E.b,o=E.y+E.n/2+P*E.n;
return[new iP(T,o),new iP(T+_*C,o+a*C)]};W.M.Cs=function(K,E,x,c){var J=E.x-K.x,i=-(E.y-K.y),P=Math.sqrt(J*J+i*i),_=Math.atan2(i,J),a=Math.cos(_),j=-Math.sin(_),e=.5*x.n,d=e*(a/j),I=Math.sqrt(e*e+d*d),v=.5*x.b,n=v*(j/a),C=Math.sqrt(v*v+n*n),T=P/Math.min(I,C),o=(K.x-x.x-x.b/2)/x.b,s=(K.y-x.y-x.n/2)/x.n;
c.Angl.v.val=180*_/Math.PI;c.Scl.v.val=T*100;var Q=c.Ofst.v;Q.Hrzn.v.val=o*100;Q.Vrtc.v.val=s*100};W.M.LW=function(K,E){for(var y=0;
y<K.length;y++){var x=K[y],c=Math.round(x[0]*4096),J=x[1],i=x[2],P=x[3];if(i==null)i=1;if(P==null)P=.5;
var _=W.M.TD({o:J[0]*255,J:J[1]*255,k:J[2]*255});E.Clrs.v[y]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:c},Mdpn:{t:"long",v:Math.round(P*100)},Clr:{t:"Objc",v:_},Type:{t:"enum",v:{Clry:"UsrS"}}}};
E.Trns.v[y]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:c},Mdpn:{t:"long",v:Math.round(P*100)},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(i*100)}}}}}};
W.M.Ha=function(K,E,x){function c(v){return parseFloat((v/255).toFixed(3))}if(E){K=JSON.parse(JSON.stringify(K));
for(var y=0;y<2;y++){var J=K[y==0?"Clrs":"Trns"].v;for(var i=0;i<J.length;i++)J[i].v.Lctn.v=4096-J[i].v.Lctn.v;
J.reverse()}}var P=[],_=K.Clrs.v,a=K.Trns.v,J=_;if(x!=!0)J=_.concat(a);var j=W.M.Y7(K,0,0);for(var y=0;
y<J.length;y++){var e=J[y].v,d=e.Lctn.v/4096,I=W.M.Z9(K,j,d);P.push([d,[c(I[0]),c(I[1]),c(I[2])],c(I[3])])}P.sort(function(v,n){return v[0]-n[0]});
for(var y=1;y<P.length;y++)if(P[y][0]-P[y-1][0]<.001){P.splice(y,1);y--}return P};W.oy={};W.oy.MK=function(K,E,x,c,J,i,P,_,a,j,e,d){var I,v,n,C=Date.now(),T=!1,o=P,s=j,Q,X,B,M,S=i*255,f=255-a*255,F=1+J*6,G=1+_*6,D=1+d*4,b=(D-1)/7,H=0,q=255-0,O,w,V,t,m,g,Y,A,k,z,p,L,N,gC=0,r=1,h,l,g5,fm,dC,ex,cR,d0,hN,ey,cr=1+e,ik,hd=W.Q(x*c),df=W.Q(x*c),bQ=W.Q(x*c),is=W.Q(x*c),bi=255/S,jX=255/(255-f);
for(v=0;v<c;v++){for(I=0;I<x;I++){var y=v*x+I,eS=y<<2;h=W.bg(K[eS],K[eS+1],K[eS+2]);is[y]=h;if(h<S)hd[y]=255-h*bi;
if(h>f)df[y]=255-(255-h)*jX}}if(T)console.log("init",Date.now()-C);C=Date.now();if(J*o>0){bQ.set(hd);
W.HL.fy(bQ,hd,new cS(0,0,x,c),o)}if(_*s>0){bQ.set(df);W.HL.fy(bQ,df,new cS(0,0,x,c),s)}if(T)console.log("blur",Date.now()-C);
C=Date.now();var bN=W.Q(256),h9=W.Q(256);for(var y=0;y<256;y++){var bz=y*(1/255),i0=0;i0=(1-Math.pow(1-bz,F))*255;
bN[y]=Math.max(0,Math.min(255,~~(i0+.5)));i0=Math.pow(bz,G)*255;h9[y]=Math.max(0,Math.min(255,~~(i0+.5)))}var hY=new Uint8ClampedArray(E.buffer),ji=new Float32Array(32768);
for(var y=0;y<32768;y++){ik=Math.sqrt(y)*(1/128);if(cr>1)ik=(1-ik)*(cr-1)+1;else ik=ik*(cr-1)+1;ji[y]=ik}for(v=0;
v<c;v++){for(I=0;I<x;I++){var y=v*x+I,eS=y<<2,i0=is[y],aM=hd[y]*(1/255),a1=df[y]*(1/255);i0=(1-aM)*i0+aM*bN[~~i0];
i0=(1-a1)*i0+a1*h9[~~i0];h=i0;var fi=K[eS],jJ=K[eS+1],gg=K[eS+2];l=-fi*.168736-jJ*.331264+gg*.5;g5=fi*.5-jJ*.418688-gg*.081312;
ik=ji[~~(.5+l*l+g5*g5)];fm=l*ik;ex=g5*ik;r=1-Math.min(2-(aM+a1),1);l=r*l+(1-r)*fm;g5=r*g5+(1-r)*ex;d0=h+1.402*g5;
hN=h-.34414*l-.71414*g5;ey=h+1.772*l;hY[eS]=~~(.5+d0);hY[eS+1]=~~(.5+hN);hY[eS+2]=~~(.5+ey)}}if(T)console.log("apply masks",Date.now()-C);
C=Date.now()};W.aR={};W.aR.je=function(K,E,x,c,J){var i=!1,n=1,w=0,V=0,p=0,cr=0;if(!E.ng(J)){var P=E.XN(J),_=W.Q(P.O()*4);
W.UL(K,E,_,P);K=_;E=P}var a=W.Q(E.O());W.XT(x,J,a,E);W.round(a);J=J.Sl(E);var j=J.b,e=J.n,d=j*3<e?2:1,I=e*3<j?2:1;
if(J.O()*(d*2+1)*(I*2+1)<E.O()){var P=new cS(J.x-j*d,J.y-e*d,j*(d*2+1),e*(I*2+1)).Sl(E),_=W.Q(P.O()*4);
W.UL(K,E,_,P);var v=W.Q(P.O());W.XT(a,E,v,P);E=P;K=_;a=v}while((E.b+E.n)/2/n>400)n++;var C=K,T=E,o=a,s=Math.floor(T.b/n),Q=Math.floor(T.n/n);
K=W.Q(s*Q*4);W.scale.Mn(C,T.b,T.n,K,s,Q,1/n);a=W.Q(s*Q);W.scale.$i(o,T.b,T.n,a,s,Q,1/n);W.round(a,1);
var M=W.UF(a,new cS(0,0,s,Q));if(M.um())return 1;var S=Math.round((M.b+M.n)/2/15),f=Date.now(),F=W.Q(s*Q*4);
W.an6(K,F);var G=Int16Array,D=new G(s*Q*24),b=new G(64),H=new G(64),q=new G(64),O=new G(64);for(var t=3;
t<Q-4;t++)for(var m=3;m<s-4;m++){var g=t*s+m;if(a[g]==255)continue;if(W.aR.ajt(F,a,m,t,s,Q,b,H,q)!=0)continue;
W.aR.WA(b,O);D[w]=m;D[w+1]=t;W.aR.dq(b,D,w+4,12);w+=16;W.aR.WA(H,O);W.aR.dq(H,D,w,4);w+=4;W.aR.WA(q,O);
W.aR.dq(q,D,w,4);w+=4;var Y=D[w-24+5],A=D[w-24+6];D[w-24+5]=D[w-24+20];D[w-24+6]=D[w-24+16];D[w-24+16]=Y;
D[w-24+20]=A;V++}if(V==0)return 2;if(i)console.log(Date.now()-f,"FWHT computed");f=Date.now();var k=[];
W.aR.S4(0,V-1,k,D,new G(2*24));if(i)console.log(Date.now()-f,"KD tree computed");f=Date.now();var z=new Float32Array(s*Q*4);
for(var y=0;y<V;y++){var L=y,N=W.aR.amj(L,D,k,S);if(N==-1)continue;var gC=L*24,r=N*24,h=D[gC],l=D[gC+1],g5=D[r],fm=D[r+1];
p+=W.aR.getError(r,gC,D,1e99);var dC=g5-h,ex=fm-l;z[(Q+ex)*2*s+(s+dC)]+=1}if(i)console.log(Date.now()-f,"NN found");
f=Date.now();var cR=[],d0=1/(2*s);for(var y=0;y<z.length;y++){if(z[y]>0){var t=Math.floor(y*d0),m=y-t*2*s;
cR.push({x:m-s,y:t-Q,Z:z[y],rZ:-1})}}cR.sort(function(aM,a1){return a1.Z-aM.Z});var hN=new Int32Array(s*Q),ey=[];
for(var y=0;y<s*Q;y++){if(a[y]==255){hN[y]=cr;ey.push(y%s,Math.floor(y/s));cr++}else if(K[(y<<2)+3]<200){hN[y]=-2}else{hN[y]=-1}}var ik=W.aR.a3S(s,Q,cR,hN,ey,cr);
if(ik==null){return 3}var hd=ik.Q8,top=ik.top;hd=W.aR.agX(hd,K,s,Q,top,hN,ey,cr);if(i)console.log(Date.now()-f,"optimal labeling found");
f=Date.now();var P=J.clone();P.r1(1,1);P=P.Sl(T);var df=W.Q(P.O()*4),bQ=W.Q(P.O());W.UL(C,T,df,P);var is=T.b,bi=T.n;
for(var t=0;t<bi;t++)for(var m=0;m<is;m++){if(o[t*is+m]==0)continue;var jX=Math.min(Math.floor(m/n),s-1),eS=Math.min(Math.floor(t/n),Q-1),bN=hN[eS*s+jX];
if(bN==-1)continue;var h9=hd[bN],bz=top[h9],i0=m+bz.x*n,hp=t+bz.y*n,hY=hp*is+i0<<2,ji=(t-P.y+T.y)*P.b+(m-P.x+T.x)<<2;
df[ji]=C[hY];df[ji+1]=C[hY+1];df[ji+2]=C[hY+2];df[ji+3]=C[hY+3];df[ji+3]=C[hY+3];bQ[ji>>2]=h9+1}if(i)console.log(Date.now()-f,"copied back");
f=Date.now();W.eT.je(df,bQ,P,null,1e3);if(i)console.log(Date.now()-f,"poisson smooth");f=Date.now();
W.UL(df,P,c,J);return 0};W.aR.kP=function(K,E,x,c,J,i){return W.aR.pJ(K+J.x,E+J.y,x,c)&&i[(E+J.y)*x+(K+J.x)]==-1?0:1e9};
W.aR.agX=function(K,E,x,c,top,J,i,P){var _=Date.now(),a=[-1,0,0,-1,1,0,0,1],j=1e99,e=[],d=[],I=2*(P*2*3+P*2),v=null,n=0,C=0,T=0,o=1e99;
while(!0&&Date.now()<_+12e3){T++;var s=null,Q=j;for(var X=0;X<top.length;X++){var B=top[X],M=0,S=P+2,f=0;
for(var y=0;y<P;y++){var F=i[y*2],G=i[y*2+1],D=top[K[y]],b=W.aR.kP(F,G,x,c,B,J),H=K[y]==X?1e9:W.aR.kP(F,G,x,c,D,J);
for(var hr=0;hr<4;hr++){if(hr==0&&F==0||hr==1&&G==0||hr==2&&F==x-1||hr==3&&G==c-1)continue;var q=a[2*hr],O=a[2*hr+1],w=F+q,V=G+O,t=J[V*x+w];
if(t==-2){}else if(t==-1){b+=3*W.aR.ZF(w+B.x,V+B.y,w,V,x,c,E,J);b+=2*W.aR.ZF(w+B.x+q,V+B.y+O,w+q,V+O,x,c,E,J);
H+=3*W.aR.ZF(w+D.x,V+D.y,w,V,x,c,E,J);H+=2*W.aR.ZF(w+D.x+q,V+D.y+O,w+q,V+O,x,c,E,J)}else if(hr>1){if(K[y]==K[t]){var m=0;
m+=W.aR.ZF(F+D.x,G+D.y,F+B.x,G+B.y,x,c,E,J);m+=W.aR.ZF(w+D.x,V+D.y,w+B.x,V+B.y,x,c,E,J);e[M]=y;e[M+1]=t;
d[M]=m;d[M+1]=m;M+=2}else{var g=top[K[t]],Y=S,A=0,k=0,z=0;S++;A+=W.aR.ZF(F+D.x,G+D.y,F+B.x,G+B.y,x,c,E,J);
A+=W.aR.ZF(w+D.x,V+D.y,w+B.x,V+B.y,x,c,E,J);k+=W.aR.ZF(F+g.x,G+g.y,F+B.x,G+B.y,x,c,E,J);k+=W.aR.ZF(w+g.x,V+g.y,w+B.x,V+B.y,x,c,E,J);
z+=W.aR.ZF(F+g.x,G+g.y,F+D.x,G+D.y,x,c,E,J);z+=W.aR.ZF(w+g.x,V+g.y,w+D.x,V+D.y,x,c,E,J);e[M]=y;e[M+1]=Y;
d[M]=A;d[M+1]=A;M+=2;e[M]=t;e[M+1]=Y;d[M]=k;d[M+1]=k;M+=2;e[M]=Y;e[M+1]=P+1;d[M]=z;d[M+1]=0;M+=2}}}e[M]=P;
e[M+1]=y;d[M]=b;d[M+1]=0;M+=2;e[M]=y;e[M+1]=P+1;d[M]=H;d[M+1]=0;M+=2;f+=Math.min(b,H)}if(f>Q)continue;
var p=W.As.tS(S,M,P,P+1,e,d,Q);if(p.am<Q){Q=p.am;var L=K.slice(0);W.aR.a16(L,M,e,p.SD,X,P);s=L}}if(Q*1>=j){break}j=Q;
K=s;if((T&3)==0){if(Q*1.03>=o)break;o=Q}if((T&3)==0){var N=0*top.length;for(var y=0;y<top.length&&top.length>N;
y++){if(K.indexOf(y)!=-1)continue;top.splice(y,1);for(var t=0;t<K.length;t++)if(K[t]>y)K[t]--;y--}}}return K};
W.aR.a16=function(K,E,x,c,J,i){for(var y=0;y<c.length;y++){var P=c[y]<<1,_=0,a=0;if(P<E){_=x[P];a=x[P+1]}else{a=x[P];
_=x[P+1]}if(_==i&&K[a]!=J)K[a]=J}};W.aR.mT=function(top,K,E,x,c,J,i,P,_){for(var y=0;y<E.length;y++){var a=E[y],j=!0;
if(P!=null&&!(W.aR.pJ(P+a.x,_+a.y,J,i)&&x[J*(_+a.y)+P+a.x]==-1))continue;if(a.rZ==-1)a.rZ=W.aR.ajN(a,x,c,J,i);
if(a.rZ<=0)continue;for(var e=0;e<top.length;e++){var d=top[e],I=a.x-d.x,v=a.y-d.y;if(I*I+v*v<K){j=!1;
break}}if(j)return a}return null};W.aR.ajN=function(K,E,x,c,J){var i=0;for(var y=0;y<x.length;y+=2){var P=x[y]+K.x,_=x[y+1]+K.y;
if(W.aR.pJ(P,_,c,J)&&E[c*_+P]==-1)i++}return i/(x.length>>1)};W.aR.a3S=function(K,E,x,c,J,i){var top=[];
for(var y=0;y<60;y++){var P=W.aR.mT(top,25,x,c,J,K,E);if(P==null)break;else top.push(P)}if(top.length==0)return null;
var _=[];for(var y=0;y<i;y++){var a=J[y*2],j=J[y*2+1],e=-1,d=0;while(!0){d++;var I=Math.random();e=Math.floor(I*.99999*top.length);
var v=top[e],n=a+v.x,C=j+v.y;if(W.aR.pJ(n,C,K,E)&&c[C*K+n]==-1)break;if(d>100){var P;P=W.aR.mT(top,0,x,c,J,K,E,a,j);
if(P==null)return null;top.push(P);d=0}}_.push(e)}return{top:top,Q8:_}};W.aR.ZF=function(K,E,x,c,J,i,P,_){if(K==x&&E==c)return 0;
if(K<0||E<0||K>=J||E>=i||x<0||c<0||x>=J||c>=i||_[E*J+K]!=-1||_[c*J+x]!=-1)return 1e7;var a=E*J+K<<2,j=c*J+x<<2,e=P[a]-P[j],d=P[a+1]-P[j+1],I=P[a+2]-P[j+2];
return 1+(e*e+d*d+I*I)};W.aR.pJ=function(K,E,x,c){return K>=0&&K<x&&E>=0&&E<c};W.aR.amj=function(K,E,x,c){var J=24*K,i=E[J],P=E[J+1],_=c*c,a=0,I=1e9;
while(x[a]!=99)if(E[J+x[a]]<x[a+1])a=x[a+2];else a=x[a+3];var j=x[a+1],e=x[a+2],d=-1;for(var y=j;y<=e;
y++){var a=y,v=a*24,n=E[v],C=E[v+1];if((n-i)*(n-i)+(C-P)*(C-P)<_)continue;var T=W.aR.getError(v,J,E,I);
if(T<I){I=T;d=a}}return d};W.aR.getError=function(K,E,x,c){var J=0;for(var i=4;i<24;i+=4){var P=x[E+i]-x[K+i],_=x[E+i+1]-x[K+i+1],a=x[E+i+2]-x[K+i+2],j=x[E+i+3]-x[K+i+3];
J+=P*P+_*_+a*a+j*j;if(J>=c)return J+1}return J};W.aR.S4=function(K,E,x,c,J){var i=16,I=0;if(E-K<=i){x.push(99,K,E);
return}W.aR.hp(K,E,c,J);var P=-1,_=-1;for(var y=4;y<24;y++){var a=J[2*y+1]-J[2*y];if(a>_){_=a;P=y}}var j=K+E>>1,e=W.aR.a5u(j,K,E,c,P),d=-1;
for(var y=K;y<=E;y++)if(c[24*y+P]==e){if(d==-1)d=y;I=y}if(K+8<d&&d-K>E-I)j=d;else if(I+1<E-8)j=I+1;else if(E-K<64){x.push(99,K,E);
return}else j=j;var v=x.length;x.push(P,e,0,0);x[v+2]=v+4;W.aR.S4(K,j-1,x,c,J);x[v+3]=x.length;W.aR.S4(j,E,x,c,J)};
W.aR.hp=function(K,E,x,c){for(var y=0;y<48;y+=4){c[y]=3e4;c[y+1]=-3e4;c[y+2]=3e4;c[y+3]=-3e4}for(var y=K;
y<=E;y++){var J=y*24;for(var i=0;i<24;i++){var P=x[J+i],_=c[i<<1],a=c[(i<<1)+1];if(P<_)c[i<<1]=P;if(P>a)c[(i<<1)+1]=P}}};
W.aR.OA=function(K,E,x){var c=0,y=0;c=x[K+y];x[K+y]=x[E+y];x[E+y]=c;y++;c=x[K+y];x[K+y]=x[E+y];x[E+y]=c;
y++;c=x[K+y];x[K+y]=x[E+y];x[E+y]=c;y++;c=x[K+y];x[K+y]=x[E+y];x[E+y]=c;y++;c=x[K+y];x[K+y]=x[E+y];x[E+y]=c;
y++;c=x[K+y];x[K+y]=x[E+y];x[E+y]=c;y++;c=x[K+y];x[K+y]=x[E+y];x[E+y]=c;y++;c=x[K+y];x[K+y]=x[E+y];x[E+y]=c;
y++;c=x[K+y];x[K+y]=x[E+y];x[E+y]=c;y++;c=x[K+y];x[K+y]=x[E+y];x[E+y]=c;y++;c=x[K+y];x[K+y]=x[E+y];x[E+y]=c;
y++;c=x[K+y];x[K+y]=x[E+y];x[E+y]=c;y++;c=x[K+y];x[K+y]=x[E+y];x[E+y]=c;y++;c=x[K+y];x[K+y]=x[E+y];x[E+y]=c;
y++;c=x[K+y];x[K+y]=x[E+y];x[E+y]=c;y++;c=x[K+y];x[K+y]=x[E+y];x[E+y]=c;y++;c=x[K+y];x[K+y]=x[E+y];x[E+y]=c;
y++;c=x[K+y];x[K+y]=x[E+y];x[E+y]=c;y++;c=x[K+y];x[K+y]=x[E+y];x[E+y]=c;y++;c=x[K+y];x[K+y]=x[E+y];x[E+y]=c;
y++;c=x[K+y];x[K+y]=x[E+y];x[E+y]=c;y++;c=x[K+y];x[K+y]=x[E+y];x[E+y]=c;y++;c=x[K+y];x[K+y]=x[E+y];x[E+y]=c;
y++;c=x[K+y];x[K+y]=x[E+y];x[E+y]=c;y++};W.aR.Nm=function(K,E,x,c){var J=x+c>>>1,i=K[24*J+E];while(x<=c){while(K[24*x+E]<i)x++;
while(K[24*c+E]>i)c--;if(x<=c){if(K[24*x+E]!=K[24*c+E])W.aR.OA(x*24,c*24,K);x++;c--}}return x};W.aR.a5u=function(K,E,x,c,J){var i=0;
while(E!=x){i=W.aR.Nm(c,J,E,x);if(K<i)x=i-1;else E=i}return c[K*24+J]};W.aR.dq=function(K,E,x,c){for(var y=0;
y<c;y++)E[x+y]=K[y]};W.aR.ajt=function(K,E,x,c,J,i,P,_,a){var j=(c-3)*J+(x-3),e=j<<2;for(var d=0;d<8;
d++){if(E[j]+E[j+1]+E[j+2]+E[j+3]+E[j+4]+E[j+5]+E[j+6]+E[j+7]!=0||K[e+3]<200||K[e+7]<200||K[e+11]<200||K[e+15]<200||K[e+19]<200||K[e+23]<200||K[e+27]<200||K[e+31]<200)return 1;
var y=d<<3;P[y+0]=K[e+0];_[y+0]=K[e+1];a[y+0]=K[e+2];P[y+1]=K[e+4];_[y+1]=K[e+5];a[y+1]=K[e+6];P[y+2]=K[e+8];
_[y+2]=K[e+9];a[y+2]=K[e+10];P[y+3]=K[e+12];_[y+3]=K[e+13];a[y+3]=K[e+14];P[y+4]=K[e+16];_[y+4]=K[e+17];
a[y+4]=K[e+18];P[y+5]=K[e+20];_[y+5]=K[e+21];a[y+5]=K[e+22];P[y+6]=K[e+24];_[y+6]=K[e+25];a[y+6]=K[e+26];
P[y+7]=K[e+28];_[y+7]=K[e+29];a[y+7]=K[e+30];e+=J<<2;j+=J}return 0};W.aR.WA=function(K,E){E[0]=K[32]+K[0];
E[1]=K[33]+K[1];E[2]=K[34]+K[2];E[3]=K[35]+K[3];E[4]=K[36]+K[4];E[5]=K[37]+K[5];E[6]=K[38]+K[6];E[7]=K[39]+K[7];
E[8]=K[40]+K[8];E[9]=K[41]+K[9];E[10]=K[42]+K[10];E[11]=K[43]+K[11];E[12]=K[44]+K[12];E[13]=K[45]+K[13];
E[14]=K[46]+K[14];E[15]=K[47]+K[15];E[16]=K[48]+K[16];E[17]=K[49]+K[17];E[18]=K[50]+K[18];E[19]=K[51]+K[19];
E[20]=K[52]+K[20];E[21]=K[53]+K[21];E[22]=K[54]+K[22];E[23]=K[55]+K[23];E[24]=K[56]+K[24];E[25]=K[57]+K[25];
E[26]=K[58]+K[26];E[27]=K[59]+K[27];E[28]=K[60]+K[28];E[29]=K[61]+K[29];E[30]=K[62]+K[30];E[31]=K[63]+K[31];
E[32]=K[0]-K[32];E[33]=K[1]-K[33];E[34]=K[2]-K[34];E[35]=K[3]-K[35];E[36]=K[4]-K[36];E[37]=K[5]-K[37];
E[38]=K[6]-K[38];E[39]=K[7]-K[39];E[40]=K[8]-K[40];E[41]=K[9]-K[41];E[42]=K[10]-K[42];E[43]=K[11]-K[43];
E[44]=K[12]-K[44];E[45]=K[13]-K[45];E[46]=K[14]-K[46];E[47]=K[15]-K[47];E[48]=K[16]-K[48];E[49]=K[17]-K[49];
E[50]=K[18]-K[50];E[51]=K[19]-K[51];E[52]=K[20]-K[52];E[53]=K[21]-K[53];E[54]=K[22]-K[54];E[55]=K[23]-K[55];
E[56]=K[24]-K[56];E[57]=K[25]-K[57];E[58]=K[26]-K[58];E[59]=K[27]-K[59];E[60]=K[28]-K[60];E[61]=K[29]-K[61];
E[62]=K[30]-K[62];E[63]=K[31]-K[63];K[0]=E[16]+E[0];K[1]=E[17]+E[1];K[2]=E[18]+E[2];K[3]=E[19]+E[3];
K[4]=E[20]+E[4];K[5]=E[21]+E[5];K[6]=E[22]+E[6];K[7]=E[23]+E[7];K[8]=E[24]+E[8];K[9]=E[25]+E[9];K[10]=E[26]+E[10];
K[11]=E[27]+E[11];K[12]=E[28]+E[12];K[13]=E[29]+E[13];K[14]=E[30]+E[14];K[15]=E[31]+E[15];K[16]=E[0]-E[16];
K[17]=E[1]-E[17];K[18]=E[2]-E[18];K[19]=E[3]-E[19];K[20]=E[4]-E[20];K[21]=E[5]-E[21];K[22]=E[6]-E[22];
K[23]=E[7]-E[23];K[24]=E[8]-E[24];K[25]=E[9]-E[25];K[26]=E[10]-E[26];K[27]=E[11]-E[27];K[28]=E[12]-E[28];
K[29]=E[13]-E[29];K[30]=E[14]-E[30];K[31]=E[15]-E[31];E[0]=K[8]+K[0];E[1]=K[9]+K[1];E[2]=K[10]+K[2];
E[3]=K[11]+K[3];E[4]=K[12]+K[4];E[5]=K[13]+K[5];E[6]=K[14]+K[6];E[7]=K[15]+K[7];E[8]=K[0]-K[8];E[9]=K[1]-K[9];
E[10]=K[2]-K[10];E[11]=K[3]-K[11];E[12]=K[4]-K[12];E[13]=K[5]-K[13];E[14]=K[6]-K[14];E[15]=K[7]-K[15];
K[0]=E[4]+E[0];K[1]=E[5]+E[1];K[2]=E[6]+E[2];K[3]=E[7]+E[3];K[4]=E[0]-E[4];K[5]=E[1]-E[5];K[6]=E[2]-E[6];
K[7]=E[3]-E[7];K[8]=E[12]+E[8];K[9]=E[13]+E[9];K[10]=E[14]+E[10];K[11]=E[15]+E[11];K[12]=E[8]-E[12];
K[13]=E[9]-E[13];K[14]=E[10]-E[14];K[15]=E[11]-E[15];E[0]=K[2]+K[0];E[1]=K[3]+K[1];E[2]=K[0]-K[2];E[3]=K[1]-K[3];
E[4]=K[6]+K[4];E[5]=K[7]+K[5];E[6]=K[4]-K[6];E[7]=K[5]-K[7];E[8]=K[10]+K[8];E[9]=K[11]+K[9];E[10]=K[8]-K[10];
E[11]=K[9]-K[11];E[12]=K[14]+K[12];E[13]=K[15]+K[13];E[14]=K[12]-K[14];E[15]=K[13]-K[15];K[0]=E[1]+E[0];
K[1]=E[0]-E[1];K[2]=E[3]+E[2];K[3]=E[2]-E[3];K[4]=E[5]+E[4];K[5]=E[4]-E[5];K[6]=E[7]+E[6];K[7]=E[6]-E[7];
K[8]=E[9]+E[8];K[9]=E[8]-E[9];K[10]=E[11]+E[10];K[11]=E[10]-E[11];K[12]=E[13]+E[12];K[13]=E[12]-E[13];
K[14]=E[15]+E[14];K[15]=E[14]-E[15]};W.aR.af8=function(){var K="",hr=64,E="v",x="t",c="a",J=5,y,i,P;
for(y=hr>>1;y>0;y>>=1,J--){for(i=0;i<hr;i++){P=(i>>J&1)!=0;if(P){K+=x+"["+i+"] = "+E+"["+(-y+i)+"] - "+E+"["+i+"];  "}else{K+=x+"["+i+"] = "+E+"["+(y+i)+"] + "+E+"["+i+"];  "}}c=E;
E=x;x=c;K+="\n"}console.log(K)};W.aR.afy=function(hr,K,E){var x=K,c=E,J=x,i=0,y,_,a;while(hr>>i!=2)i++;
var P=i;for(y=hr>>1;y>0;y>>=1,i--){for(_=0;_<hr;_++){a=(_>>i&1)!=0;if(a)c[_]=x[-y+_]-x[_];else c[_]=x[y+_]+x[_]}J=x;
x=c;c=J}if((P&1)==1)for(y=0;y<hr;y++)E[y]=x[y]};W.u4={};W.u4.PH=function(K,E,x,c,J,i,P,_,a){var j=Date.now(),e=new Uint32Array(K.buffer),d=new Uint32Array(E.buffer),I=P/x,v=_/c,n=1/I,C=1/v,T=new Float64Array(2),o=3,s=1/o,Q=1/(o*o),X=0,B=0,M=x,S=c;
if(J){X=J.x;B=J.y;M=J.b;S=J.n}for(var f=0;f<S;f++)for(var F=0;F<M;F++){var G=X+F,D=B+f,y=D*x+G,b=y<<1,H=y<<2;
W.u4.adM(i,P,_,(G+.5)*I,(D+.5)*v,T);var q=T[0]*n,O=T[1]*C;if(q==0&&O==0)d[y]=e[y];else{W.K.BD(G+q+.5,D+O+.5,e,x,c,d,y,a)}}};
W.u4.adM=function(K,E,x,c,J,i){c-=.499999;J-=.499999;var P=~~c,_=~~J,a=c-P,j=J-_,e=(1-j)*(1-a),d=(1-j)*a,I=j*(1-a),v=j*a,n=P<E-1?P+1:P,C=_<x-1?_+1:_,T=_*E+P<<1,o=_*E+n<<1,s=C*E+P<<1,Q=C*E+n<<1;
i[0]=e*K[T]+d*K[o]+I*K[s]+v*K[Q];i[1]=e*K[T+1]+d*K[o+1]+I*K[s+1]+v*K[Q+1]};W.u4.axl=function(K,E,x,c,J){var i=1/K,P=[-1,1,-K,K],_=c.length;
for(var a=0;a<_;a++){var y=c[a],j=y<<1,e=a<<1,d=~~(y*i),I=y-K*d,v=x[j],n=x[j+1],C=0,T=0;if(I!=0&&I!=K-1){var o=y-1<<1,s=y+1<<1,Q=x[o],X=x[s],B=x[o+1],M=x[s+1],S=v-(Q+X)*.5,f=n-(B+M)*.5;
C-=S*J;T-=f*J}if(d!=0&&d!=E-1){var o=y-K<<1,s=y+K<<1,Q=x[o],X=x[s],B=x[o+1],M=x[s+1],S=v-(Q+X)*.5,f=n-(B+M)*.5;
C-=S*J;T-=f*J}x[j]=v+C;x[j+1]=n+T}};W.u4.ayI=function(K,E){var x=K+","+E;if(W.u4.S_==x)return W.u4.QO;
var c=W.u4.QO=[];W.u4.S_=x;for(var y=0;y<=1e3;y++){var J=y*.001,i=Math.sqrt(J),P=Math.exp(-4*i),_=.96*(1-i*i),a=E*((1-K)*P+K*_);
c[y]=a}return c};W.u4.S_="";W.u4.QO=[];W.u4.a5L=function(K,E,x,c,J,i,P,_,a,j,e,d,I){var v=Math.max(0,Math.floor(J-P-1)),n=Math.min(E,Math.ceil(J+P+1)),C=Math.max(0,Math.floor(i-P-1)),T=Math.min(x,Math.ceil(i+P+1)),o=2*E,s=P*P,Q=1/P,X=0;
if(I&&(c==3||c==6))a=-a;var B=W.u4.ayI(_,a);for(var M=C;M<T;M++)for(var S=v;S<n;S++){var y=M*E+S,f=y<<1,F=(J-S)*Q,G=(i-M)*Q,D=F*F+G*G;
if(D<1){d[X]=y;var b=B[~~(D*1e3)];if(c==1){K[f]=K[f]*(1-b*.05);K[f+1]=K[f+1]*(1-b*.05)}else{var H=0,q=0,V,t,m,g;
if(c==0){H=j*b;q=e*b}else if(c==2){}else if(c==3){H=b*G;q=-b*F}else if(c==4){H=b*F;q=b*G}else if(c==5){H=-b*F;
q=-b*G}else if(c==6){H=e*b;q=-j*b}var O=K[f],w=K[f+1];if(S==0||S!=E-1&&H<0){V=1+K[f+2]-O;m=K[f+3]-w}else{V=O-K[f-2]+1;
m=w-K[f-1]}if(M==0||M!=x-1&&q<0){t=K[f+o]-O;g=1+K[f+o+1]-w}else{t=O-K[f-o];g=w-K[f-o+1]+1}K[f]=-(V*H+t*q-O);
K[f+1]=-(m*H+g*q-w)}X++}}};W.u4.ac0=function(K){var E=K[0],x=K[0],c=K[1],J=K[1];for(var y=0;y<K.length;
y+=2){var i=K[y],P=K[y+1];if(i<E)E=i;else if(i>x)x=i;if(P<c)c=P;else if(P>J)J=P}return[E,c,x,J]};W.apl=function(K,E,x,c,J){function i(h,l,g5,fm){return Math.sqrt((h-g5)*(h-g5)+(l-fm)*(l-fm))}function P(h,l){return h>=0&&h<E&&l>=0&&l<x}function _(h){if(h<0)return 0;
if(h>=E)return E-1;return h}function a(h){if(h<0)return 0;if(h>=x)return x-1;return h}function j(y,h){var l=h[3]*(1/255),g5=c[y]+h[0]*l;
if(g5>255)g5=255;c[y]=g5;g5=c[y+1]+h[1]*l;if(g5>255)g5=255;c[y+1]=g5;g5=c[y+2]+h[2]*l;if(g5>255)g5=255;
c[y+2]=g5}function e(h,l,g5){if(!Y(h,l))return;if(g5[3]<0)g5[3]=0;j((l*E+h)*4,g5)}function d(h){var l=h.slice(0,3);
l[3]=0;return l}var I=E/800;function v(h){return Math.round(h*I)}function n(){for(var y=0;y<=300;y++){k[y]=C(y)}}function C(x){var h=.8,l=.2,g5=h*l,fm=x/60%2-1,dC=g5*(1-fm*fm),ex=l-g5,cR;
if(x<60){cR=[g5+ex,dC,0]}else if(x<120){cR=[dC,g5,0]}else if(x<180){cR=[0,g5,dC]}else if(x<240){cR=[0,dC,g5]}else if(x<300){cR=[dC,0,g5]}else{cR=[g5,0,dC]}return[(cR[0]+ex)*255,(cR[1]+ex)*255,(cR[2]+ex)*255]}function T(x){return k[~~x]}function o(h){return 1-s(h)}function s(h){return h-~~h}function Q(h,l,g5,fm){m(h,l,g5,0,l+1,1,fm)}function X(h,l,g5,fm,dC,ex){m(h,l,g5,0,fm,1,dC,ex)}function B(h){for(var y=0;
y<c.length;y+=4){j(y,h)}}function M(h,l,g5,fm,dC,ex,cR,d0){S(h,l,g5,fm,dC,1,ex,cR,d0)}function S(h,l,g5,fm,dC,ex,cR,d0,hN){if(ex==null)ex=.5;
if(cR==null)cR=0;if(d0==null)d0=0;if(hN==null)hN=!1;var ey=h.x,cr=h.y,ik=g5.slice(0),hd=~~(g5[3]*p);
fm=fm*p;if(!hN){l=g(l);dC=g(dC);cR=g(cR);d0=g(d0)}var df=_(ey-l),bQ=_(ey+l);for(var is=df;is<=bQ;is++){var bi=is-ey,jX=Math.floor(Math.sqrt(l*l-bi*bi)),eS=a(cr-jX),bN=a(cr);
for(var h9=eS;h9<=bN;h9++){var bz=i(is,h9,ey,cr);if(bz>l||bz<=l-dC)break;var i0=(bz-l+dC)/dC;ik[3]=hd-fm*(ex==1?i0:Math.pow(i0,ex));
j((h9*E+is)*4,ik)}eS=a(cr+jX);for(var h9=eS;h9>bN;h9--){var bz=i(is,h9,ey,cr);if(bz>l||bz<=l-dC)break;
var i0=(bz-l+dC)/dC;ik[3]=hd-fm*(ex==1?i0:Math.pow(i0,ex));j((h9*E+is)*4,ik)}}if(cR>0){m(h,l+cR,ik,ik[3],cR,1,0,0,!0)}if(d0>0){m(h,l-dC,A(g5),-g5[3],d0,1,0,0,!0)}}function f(h,l,g5,fm,dC,ex){m(h,l,g5,g5[3],l+1,1,fm,dC,ex)}function F(h,l,g5,fm,dC){if(dC==null)dC=!1;
var ex=h.x,cR=h.y;fm*=p;if(!dC){l=g(l);g5=g(g5)}var d0=_(ex-l),hN=_(ex+l);for(var ey=d0;ey<hN;ey++){var cr=ey-ex,ik=~~Math.sqrt(l*l-cr*cr),hd=a(cR-ik),df=a(cR);
for(var bQ=hd;bQ<=df;bQ++){var is=i(ey,bQ,ex,cR);if(is>l||is<=l-g5)break;var bi=(l-is)/g5,jX=T(300*bi);
jX[3]=fm;j((bQ*E+ey)*4,jX)}hd=a(cR+ik);for(var bQ=hd;bQ>df;bQ--){var is=i(ey,bQ,ex,cR);if(is>l||is<=l-g5)break;
var bi=(l-is)/g5,jX=T(300*bi);jX[3]=fm;j((bQ*E+ey)*4,jX)}}}function G(z,h){var l=z.WO,g5=z.Gx,fm=h.slice(0),dC=h[3]*p,ex=Math.abs(g5.y-l.y)>Math.abs(g5.x-l.x);
if(ex){var cR=l.x;l.x=l.y;l.y=cR;cR=g5.x;g5.x=g5.y;g5.y=cR}if(l.x>g5.x){var cR=l;l=g5;g5=cR}var d0=g5.x-l.x,hN=g5.y-l.y,ey=d0==0?1:hN/d0,cr=Math.round(l.x),ik=l.y+ey*(cr-l.x),hd=o(l.x+.5),df=cr,bQ=~~ik;
if(ex){fm[3]=dC*o(ik)*hd;e(bQ,df,fm);fm[3]=dC*s(ik)*hd;e(bQ+1,df,fm)}else{fm[3]=dC*o(ik)*hd;e(df,bQ,fm);
fm[3]=dC*s(ik)*hd;e(df,bQ+1,fm)}var is=ik-ey;cr=Math.round(g5.x);ik=g5.y+ey*(cr-g5.x);hd=s(g5.x+.5);
var bi=cr,jX=~~ik;if(ex){fm[3]=dC*o(ik)*hd;e(jX,bi,fm);fm[3]=dC*s(ik)*hd;e(jX+1,bi,fm)}else{fm[3]=dC*o(ik)*hd;
e(bi,jX,fm);fm[3]=dC*s(ik)*hd;e(bi,jX+1,fm)}if(ex){for(var eS=df+1;eS<=bi-1;eS++){fm[3]=dC*o(is);e(~~is,eS,fm);
fm[3]=dC*s(is);e(~~is+1,eS,fm);is+=ey}}else{for(var eS=df+1;eS<=bi-1;eS++){fm[3]=dC*o(is);e(eS,~~is,fm);
fm[3]=dC*s(is);e(eS,~~is+1,fm);is+=ey}}}function D(h,l,g5,fm){for(var y=0;y<4;y++){var dC=h.tH(l+1.3*y,g5);
G(dC,fm,1)}}function iP(h,l){this.x=Math.round(h);this.y=Math.round(l)}var b=Math.PI/180;iP.prototype.tH=function(h,l){h=h*b;
var g5=this.x+l*Math.cos(h),fm=this.y+l*Math.sin(h);return new H(this.x,this.y,g5,fm)};iP.prototype.ao1=function(h,l){h=h*b;
var g5=this.s7+l*Math.cos(h),fm=this.abr+l*Math.sin(h);return new iP(g5,fm)};function H(h,l,g5,fm){this.WO=new iP(h,l);
this.Gx=new iP(g5,fm)}H.prototype.wn=function(h){var l=h*this.WO.x+(1-h)*this.Gx.x,g5=h*this.WO.y+(1-h)*this.Gx.y;
return new iP(l,g5)};var q=M,O=f,w=Q,V=X,t=F,m=S,g=v,Y=P,A=d,k=[];n();for(var y=0;y<K.length;y++){c[y]=K[y]}var z=new H(E*J[2],x*J[3],E/2,x/2),p=J[1],L=[];
L[0]=function N(){var h=[80,40,15,60],g5=0,fm=0;w(z.wn(1.4),260,h,10);w(z.wn(1),100,[240,50,50,30],30);
O(z.wn(1),60,[255,40,0,40]);var l=[255,255,255,255];m(z.wn(1),70,l,l[3],58,.5);w(z.wn(1),12,l);l[3]=40;
q(z.wn(1),150,l,l[3],150);for(var y=0;y<40;y++){g5+=Math.random()*25;fm=Math.random()*g(300)+g(100);
var dC=z.wn(1).tH(g5,fm);G(z.wn(1).tH(g5,fm),[110,110,110,30])}O(z.wn(1),130,[255,255,255,8]);var ex=[170,30,23,70];
V(z.wn(1),70,ex,1,3,3);var cR=[60,60,130,40];w(z.wn(.47),44,cR,5);w(z.wn(.43),22,cR,3);cR[3]=16;w(z.wn(.53),15,cR,2);
var d0=[138,94,42,100];w(z.wn(.2),16,d0,2);var hN=[130,255,170,180];O(z.wn(0),4,hN);O(z.wn(-.25),5,hN);
d0=[150,90,0,50];q(z.wn(-.45),55,A(d0),-d0[3],40,2);w(z.wn(-.42),35,d0,2);w(z.wn(-.5),15,d0,2);t(z.wn(-1.28),145,11,70);
var ey=T(0);ey[3]=50;q(z.wn(-1.28),149,ey,ey[3],4);ey=T(300);ey[3]=50;q(z.wn(-1.28),155-1,A(ey),-ey[3],3);
var cr=[130,130,10,50];V(z.wn(-1),73,cr,3,2);var ik=[40,130,70,40];q(z.wn(-1),70,A(ik),-ik[3],35);ik=[40,170,60,50];
w(z.wn(-.7),25,ik,4);var ik=[70,110,50,60];q(z.wn(1.3),30,A(ik),-ik[3],11,3);cR=[0,50,210,80];O(z.wn(-.72),20,cR)};
L[1]=function gC(){O(z.wn(1),150,[240,70,70,60]);w(z.wn(1),100,[200,60,60,40],30);var h=[255,255,255,255],l=0,g5=0;
m(z.wn(1),75,h,h[3],63);w(z.wn(1),12,h);O(z.wn(1),270,[200,200,200,20],10);for(var y=0;y<10;y++){l+=10+Math.random()*40;
g5=Math.random()*g(250)+g(80);var fm=z.wn(1).tH(l,g5);G(fm,[110,110,110,35])}l=5;g5=100;for(var y=0;
y<12;y++){l+=30;D(z.wn(1),l,g5,[90,90,90,40])}var dC=[150,40,23,100];V(z.wn(1),70,dC,1,3,3);var ex=[30,100,60,40];
O(z.wn(-.9),180,[255,255,255,20]);w(z.wn(-.9),140,ex,15);var cR=[170,80,25,15];V(z.wn(-.9),120,cR,1,4,4);
var d0=[110,240,190,200];O(z.wn(-.6),3,d0);d0[3]=100;O(z.wn(-.6),7,d0);var hN=[230,120,40,85];O(z.wn(-.73),9,hN);
var ey=[60,60,190,50];w(z.wn(.3),28,ey,6);ey[3]=25;w(z.wn(.34),20,ey,3)};L[2]=function r(){var h=[255,255,255,255],g5=0,fm=0;
w(z.wn(1),13,h);m(z.wn(1),150,h,h[3],137);var l=[120,80,35,20];w(z.wn(1.4),260,l,10);for(var y=0;y<40;
y++){g5+=5+Math.random()*30;fm=Math.random()*g(300);G(z.wn(1).tH(g5,fm),[110,110,110,20])}var dC=[10,30,255,30];
w(z.wn(1),70,dC,50);var ex=[15,90,170,15];w(z.wn(1.5),60,ex);var cR=[220,220,20,50];w(z.wn(-1.15),8,cR,2);
var h=[255,255,255,40];O(z.wn(-1.18),6,h);O(z.wn(-1.18),4,h);cR=[110,110,10,8];q(z.wn(-1.2),32,A(cR),-cR[3],20,3);
var d0=[5,0,16,255];for(var y=0;y<4;y++){w(z.wn(-1.36),10,d0,3)}var hN=[90,200,150,20],ey=hN.slice(0);
ey[3]*=2;w(z.wn(-1.32),7,ey,3);w(z.wn(-1.36),7,ey,3);w(z.wn(-1.4),7,ey,3);var h=[230,230,230,100];O(z.wn(-1.36),2,h);
h[3]=3;w(z.wn(-.55),10,h);cR=[120,100,10,18];w(z.wn(-.55),160,cR,8);w(z.wn(-.55),80,cR,4);hN[3]=3;ey[3]=6;
q(z.wn(-.49),13,A(ey),-ey[3],13,2);q(z.wn(-.55),13,A(ey),-ey[3],13,2);hN[3]=20;w(z.wn(.15),25,hN,3);
cR[3]=100;O(z.wn(-.52),3,cR);cR=[200,200,50,40];w(z.wn(.27),1,cR,4);var cr=[150,40,23,30];q(z.wn(1),80,A(cr),-cr[3],2,1)};
return L[J[0]]()};W.rS={};W.rS.vS=function(K){var E=K.length,hr=K[0].length,x=new Array(hr);for(var y=0;
y<hr;y++)x[y]=new Array(E);for(var y=0;y<hr;y++)for(var c=0;c<E;c++)x[y][c]=K[c][y];return x};W.rS.aZ=function(K,E){var x=K.length,hr=K[0].length,c=new Array(x);
for(var y=0;y<x;y++)c[y]=new Array(hr);for(var y=0;y<x;y++)for(var J=0;J<hr;J++)c[y][J]=K[y][J]-E[y][J];
return c};W.rS.add=function(K,E){var x=K.length,hr=K[0].length,c=new Array(x);for(var y=0;y<x;y++)c[y]=new Array(hr);
for(var y=0;y<x;y++)for(var J=0;J<hr;J++)c[y][J]=K[y][J]+E[y][J];return c};W.rS.multiply=function(K,E){var x=K.length,c=K[0].length,hr=E[0].length;
if(c!=E.length)throw"e";var J=new Array(x);for(var y=0;y<x;y++)J[y]=new Array(hr);if((c&1)!=0)for(var y=0;
y<x;y++){var i=K[y],P=J[y];for(var _=0;_<hr;_++){var a=0;for(var j=0;j<c;j++)a+=i[j]*E[j][_];P[_]=a}}else for(var y=0;
y<x;y++){var i=K[y],P=J[y];for(var _=0;_<hr;_++){var a=0;for(var j=0;j<c;j+=2)a+=i[j]*E[j][_]+i[j+1]*E[j+1][_];
P[_]=a}}return J};W.rS.lo=function(K,E){var x=K.length,hr=K[0].length,c=new Array(x);for(var y=0;y<x;
y++){var J=0;for(var i=0;i<hr;i++)J+=K[y][i]*E[i];c[y]=J}return c};W.rS.ML=function(K,E){var x=[];for(var y=0;
y<K;y++){x.push([]);for(var c=0;c<E;c++)x[y].push(0)}return x};W.rS.a01=function(K){for(var y=0;y<K.length;
y++)console.log(JSON.stringify(K[y]))};W.rS.auV=function(K){var E=[];for(var y=0;y<K.length;y++)E.push(K[y].join(","));
return"["+E.join(";")+"]"};W.rS.tS=function(K,E){var x=K.length;for(var c=0;c<x;c++){var J=0,i=Number.NEGATIVE_INFINITY;
for(var y=c;y<x;y++)if(Math.abs(K[y][c])>i){J=y;i=Math.abs(K[y][c])}W.rS.ark(K,c,J);for(var y=c+1;y<x;
y++){if(K[c][c]==0)return 1;var P=K[y][c]/K[c][c];for(var _=c;_<x+1;_++)K[y][_]-=K[c][_]*P}}for(var y=x-1;
y>=0;y--){if(K[y][y]==0)return 1;var a=K[y][x]/K[y][y];E[y]=a;for(var _=y-1;_>=0;_--){K[_][x]-=K[_][y]*a;
K[_][y]=0}}return 0};W.rS.ark=function(K,E,x){var c=K[E];K[E]=K[x];K[x]=c};W.rS.avT=function(K){var E=K.length,x=W.rS.ML(E,E);
for(var y=0;y<E;y++)x[y][y]=K[y];return x};W.rS.a2H=function(K){var E=K.length,x=K[0].length,c=new Array(E);
for(var y=0;y<E;y++){c[y]=0;for(var J=0;J<x;J++)c[y]+=K[y][J];c[y]/=x}return c};W.rS.Pq=function(K){var E=0;
for(var y=0;y<K.length;y++)E+=K[y]*K[y];return Math.sqrt(E)};W.Kh={};W.Kh.ke=function(K){var E=~~(K+.5);
return E<0?0:E>255?255:E};W.Kh.transform=function(K,E,x){var c=W.Kh.ke,J=K.o.length;for(var y=0;y<J;
y++){var i=K.o[y],P=K.J[y],_=K.k[y];E.o[y]=c(x[0]*i+x[1]*P+x[2]*_+x[3]*255);E.J[y]=c(x[4]*i+x[5]*P+x[6]*_+x[7]*255);
E.k[y]=c(x[8]*i+x[9]*P+x[10]*_+x[11]*255)}};W.Kh.Ih=function(K,E,x){var c=W.Kh.ke,J=K.length;for(var y=0;
y<J;y+=4){var i=K[y],P=K[y+1],_=K[y+2];E[y]=c(x[0]*i+x[1]*P+x[2]*_+x[3]*255);E[y+1]=c(x[4]*i+x[5]*P+x[6]*_+x[7]*255);
E[y+2]=c(x[8]*i+x[9]*P+x[10]*_+x[11]*255)}};W.Kh.sG=function(K){var E=K[0]+K[1]+K[2],x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
if(E==1){var c=K.indexOf(1);x[c]=x[c+4]=x[c+8]=1}else{x[0]=K[0];x[5]=K[1];x[10]=K[2]}return x};W.Kh.RA=function(K,E,x){return[1,0,0,K,0,1,0,E,0,0,1,x,0,0,0,1]};
W.Kh.Nu=function(K,E,x){return[K,0,0,0,0,E,0,0,0,0,x,0,0,0,0,1]};W.Kh.am5=function(K){return[K[0],K[1],K[2],K[4],K[5],K[6],K[8],K[9],K[10]]};
W.Kh.Z6=function(K){return[K[0],K[1],K[2],0,K[3],K[4],K[5],0,K[6],K[7],K[8],0,0,0,0,1]};W.Kh.rK=function(K,E){return[K[0]*E[0]+K[1]*E[1]+K[2]*E[2]+K[3]*E[3],K[4]*E[0]+K[5]*E[1]+K[6]*E[2]+K[7]*E[3],K[8]*E[0]+K[9]*E[1]+K[10]*E[2]+K[11]*E[3],K[12]*E[0]+K[13]*E[1]+K[14]*E[2]+K[15]*E[3]]};
W.Kh.vS=function(K){var E=[];E[0]=K[0];E[1]=K[4];E[2]=K[8];E[3]=K[12];E[4]=K[1];E[5]=K[5];E[6]=K[9];
E[7]=K[13];E[8]=K[2];E[9]=K[6];E[10]=K[10];E[11]=K[14];E[12]=K[3];E[13]=K[7];E[14]=K[11];E[15]=K[15];
return E};W.Kh.add=function(K,E){var x=K.slice(0);for(var y=0;y<16;y++)x[y]+=E[y];return x};W.Kh.multiply=function(K,E){var x=[];
x[0]=K[0]*E[0]+K[1]*E[4]+K[2]*E[8]+K[3]*E[12];x[1]=K[0]*E[1]+K[1]*E[5]+K[2]*E[9]+K[3]*E[13];x[2]=K[0]*E[2]+K[1]*E[6]+K[2]*E[10]+K[3]*E[14];
x[3]=K[0]*E[3]+K[1]*E[7]+K[2]*E[11]+K[3]*E[15];x[4]=K[4]*E[0]+K[5]*E[4]+K[6]*E[8]+K[7]*E[12];x[5]=K[4]*E[1]+K[5]*E[5]+K[6]*E[9]+K[7]*E[13];
x[6]=K[4]*E[2]+K[5]*E[6]+K[6]*E[10]+K[7]*E[14];x[7]=K[4]*E[3]+K[5]*E[7]+K[6]*E[11]+K[7]*E[15];x[8]=K[8]*E[0]+K[9]*E[4]+K[10]*E[8]+K[11]*E[12];
x[9]=K[8]*E[1]+K[9]*E[5]+K[10]*E[9]+K[11]*E[13];x[10]=K[8]*E[2]+K[9]*E[6]+K[10]*E[10]+K[11]*E[14];x[11]=K[8]*E[3]+K[9]*E[7]+K[10]*E[11]+K[11]*E[15];
x[12]=K[12]*E[0]+K[13]*E[4]+K[14]*E[8]+K[15]*E[12];x[13]=K[12]*E[1]+K[13]*E[5]+K[14]*E[9]+K[15]*E[13];
x[14]=K[12]*E[2]+K[13]*E[6]+K[14]*E[10]+K[15]*E[14];x[15]=K[12]*E[3]+K[13]*E[7]+K[14]*E[11]+K[15]*E[15];
return x};W.Kh.Pa=function(K){var E=[];E[0]=K[5]*K[10]*K[15]-K[5]*K[14]*K[11]-K[6]*K[9]*K[15]+K[6]*K[13]*K[11]+K[7]*K[9]*K[14]-K[7]*K[13]*K[10];
E[1]=-K[1]*K[10]*K[15]+K[1]*K[14]*K[11]+K[2]*K[9]*K[15]-K[2]*K[13]*K[11]-K[3]*K[9]*K[14]+K[3]*K[13]*K[10];
E[2]=K[1]*K[6]*K[15]-K[1]*K[14]*K[7]-K[2]*K[5]*K[15]+K[2]*K[13]*K[7]+K[3]*K[5]*K[14]-K[3]*K[13]*K[6];
E[3]=-K[1]*K[6]*K[11]+K[1]*K[10]*K[7]+K[2]*K[5]*K[11]-K[2]*K[9]*K[7]-K[3]*K[5]*K[10]+K[3]*K[9]*K[6];
E[4]=-K[4]*K[10]*K[15]+K[4]*K[14]*K[11]+K[6]*K[8]*K[15]-K[6]*K[12]*K[11]-K[7]*K[8]*K[14]+K[7]*K[12]*K[10];
E[5]=K[0]*K[10]*K[15]-K[0]*K[14]*K[11]-K[2]*K[8]*K[15]+K[2]*K[12]*K[11]+K[3]*K[8]*K[14]-K[3]*K[12]*K[10];
E[6]=-K[0]*K[6]*K[15]+K[0]*K[14]*K[7]+K[2]*K[4]*K[15]-K[2]*K[12]*K[7]-K[3]*K[4]*K[14]+K[3]*K[12]*K[6];
E[7]=K[0]*K[6]*K[11]-K[0]*K[10]*K[7]-K[2]*K[4]*K[11]+K[2]*K[8]*K[7]+K[3]*K[4]*K[10]-K[3]*K[8]*K[6];E[8]=K[4]*K[9]*K[15]-K[4]*K[13]*K[11]-K[5]*K[8]*K[15]+K[5]*K[12]*K[11]+K[7]*K[8]*K[13]-K[7]*K[12]*K[9];
E[9]=-K[0]*K[9]*K[15]+K[0]*K[13]*K[11]+K[1]*K[8]*K[15]-K[1]*K[12]*K[11]-K[3]*K[8]*K[13]+K[3]*K[12]*K[9];
E[10]=K[0]*K[5]*K[15]-K[0]*K[13]*K[7]-K[1]*K[4]*K[15]+K[1]*K[12]*K[7]+K[3]*K[4]*K[13]-K[3]*K[12]*K[5];
E[11]=-K[0]*K[5]*K[11]+K[0]*K[9]*K[7]+K[1]*K[4]*K[11]-K[1]*K[8]*K[7]-K[3]*K[4]*K[9]+K[3]*K[8]*K[5];E[12]=-K[4]*K[9]*K[14]+K[4]*K[13]*K[10]+K[5]*K[8]*K[14]-K[5]*K[12]*K[10]-K[6]*K[8]*K[13]+K[6]*K[12]*K[9];
E[13]=K[0]*K[9]*K[14]-K[0]*K[13]*K[10]-K[1]*K[8]*K[14]+K[1]*K[12]*K[10]+K[2]*K[8]*K[13]-K[2]*K[12]*K[9];
E[14]=-K[0]*K[5]*K[14]+K[0]*K[13]*K[6]+K[1]*K[4]*K[14]-K[1]*K[12]*K[6]-K[2]*K[4]*K[13]+K[2]*K[12]*K[5];
E[15]=K[0]*K[5]*K[10]-K[0]*K[9]*K[6]-K[1]*K[4]*K[10]+K[1]*K[8]*K[6]+K[2]*K[4]*K[9]-K[2]*K[8]*K[5];var x=K[0]*E[0]+K[1]*E[4]+K[2]*E[8]+K[3]*E[12];
for(var y=0;y<16;y++)E[y]/=x;return E};W.Kh.axC=function(K){var E=[],x=K[5]*K[10]*K[15]-K[5]*K[14]*K[11]-K[6]*K[9]*K[15]+K[6]*K[13]*K[11]+K[7]*K[9]*K[14]-K[7]*K[13]*K[10],c=-K[4]*K[10]*K[15]+K[4]*K[14]*K[11]+K[6]*K[8]*K[15]-K[6]*K[12]*K[11]-K[7]*K[8]*K[14]+K[7]*K[12]*K[10],J=K[4]*K[9]*K[15]-K[4]*K[13]*K[11]-K[5]*K[8]*K[15]+K[5]*K[12]*K[11]+K[7]*K[8]*K[13]-K[7]*K[12]*K[9],i=-K[4]*K[9]*K[14]+K[4]*K[13]*K[10]+K[5]*K[8]*K[14]-K[5]*K[12]*K[10]-K[6]*K[8]*K[13]+K[6]*K[12]*K[9];
return K[0]*x+K[1]*c+K[2]*J+K[3]*i};W.Kh.alO=function(K,E,x,c){var J=Math.sin(c),i=Math.cos(c),P=1/Math.sqrt(K*K+E*E+x*x);
K*=P;E*=P;x*=P;return W.Kh.Z6([K*K*(1-i)+i,K*E*(1-i)-x*J,K*x*(1-i)+E*J,K*E*(1-i)+x*J,E*E*(1-i)+i,E*x*(1-i)-K*J,K*x*(1-i)-E*J,E*x*(1-i)+K*J,x*x*(1-i)+i])};
W.Kh.pd=W.Kh.Z6([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
W.Kh.anl=W.Kh.Z6([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
W.Kh.D3=W.Kh.Pa(W.Kh.pd);W.As={};W.As.yh=new Uint32Array(1);W.As.q4=function(K,E,x,c,J,i){var P=new Uint32Array(K),_=0,a=W.As.yh;
if(a.length<E*4)W.As.yh=a=new Uint32Array(E*4);var j=new Float64Array(a.buffer);for(var y=0;y<E;y+=2){var e=J[y],d=J[y+1],I=i[y],v=i[y+1];
a[_]=d;j[_+2>>1]=I;a[_+1]=P[e];P[e]=_+1;_+=4;a[_]=e;j[_+2>>1]=v;a[_+1]=P[d];P[d]=_+1;_+=4}return{vj:a,a1J:j,auA:P}};
W.As.tS=function(K,E,x,c,J,i,P){var _=1,a=W.As.q4(K,E,x,c,J,i),j=a.vj,e=a.a1J,d=a.auA,I=new Uint32Array(K),v=new W.As.uP(K),C=1,X=0;
v.push(x);v.push(c);var n=new W.As.uP(K),T=new Uint8Array(K),o=new Uint32Array(K);T[x]=1;T[c]=2;var s=new Uint32Array(K),Q=new Uint32Array(K);
Q[x]=Q[c]=0;s[x]=s[c]=1;while(!0){var B=-1,b=0,w=1e30;while(!v.uO()&&B==-1){var M=v.top(),S=T[M],f=d[M]-1;
while(f!=-1){var F=j[f],G=T[F],D=f^S-1<<2;if(e[D+2>>1]!=0){if(G==0){W.As.lZ(M,f,F,T,o,Q,s);v.push(F)}else if(G==S&&s[F]<=s[M]&&Q[F]>Q[M])W.As.lZ(M,f,F,T,o,Q,s);
else if(G!=S){B=D}}f=j[f+1]-1}if(B!=-1)break;v.pop()}if(B==-1){break}C++;var H=B;while(H!=-1){I[b]=H;
b++;H=o[j[H^4]]-1}var q=b>>1;for(var y=0;y<q;y++){var O=I[y];I[y]=I[b-y-1];I[b-y-1]=O}H=o[j[B]]-1;while(H!=-1){I[b]=H^4;
b++;H=o[j[H^4]]-1}for(var y=0;y<b;y++)w=Math.min(w,e[I[y]+2>>1]);X+=w;if(X>=P)return{SD:null,am:X};for(var y=0;
y<b;y++){var V=I[y],t=V^4,M=j[t],F=j[V];e[V+2>>1]-=w;e[t+2>>1]+=w;if(e[V+2>>1]==0&&T[M]==T[F]){if(T[M]==1){o[F]=0;
n.push(F)}if(T[M]==2){o[M]=0;n.push(M)}}}while(!n.uO()){var M=n.pop(),S=T[M],f=d[M]-1,m=S==1?4:0,g=0,Y=0,A=1e9;
while(f!=-1){var F=j[f],k=f^4,D=f^m;if(T[F]==S&&e[D+2>>1]>0&&W.As.as8(F,x,c,o,j,C,s,Q)+1<A){g=F;Y=k;
A=Q[F]+1}f=j[f+1]-1}if(Y!=0){W.As.lZ(g,Y,M,T,o,Q,s);continue}f=d[M]-1;while(f!=-1){var F=j[f],D=f^m;
if(T[F]==S){if(e[D+2>>1]>0){v.push(F)}if(o[F]==f+1){o[F]=0;n.push(F)}}f=j[f+1]-1}T[M]=0;v.remove(M)}}var z=[];
for(var y=0;y<E;y+=2){var M=J[y],F=J[y+1];if(T[M]==1&&T[F]!=1){z.push(y>>1)}if(T[F]==1&&T[M]!=1){z.push(E+y>>1)}}return{SD:z,am:X}};
W.As.lZ=function(K,E,x,c,J,i,P){c[x]=c[K];J[x]=E+1;i[x]=i[K]+1;P[x]=P[K]};W.As.as8=function(K,E,x,c,J,i,P,_){var a=K,j=c[K]-1,e=0;
while(j!=-1&&P[K]!=i){K=J[j^4];j=c[K]-1;e++}if(j==-1&&K!=E&&K!=x)return 1e9;var d=_[K]+e;e=0;j=c[a]-1;
while(a!=K){_[a]=d-e;e++;P[a]=i;a=J[j^4];j=c[a]-1}return d};W.As.ahI=function(K,E,x,c,J,i){var P=W.As.q4(K,E,x,c,J,i),_=P.vj,a=P.a1J,j=P.auA,e=0,d=0,I=new Uint32Array(K*2),v=new W.As.cS(K),n=0;
while(!0){v.reset();v.push(x);for(var y=0;y<K;y++)I[y<<1]=0;while(!v.uO()){var C=v.pop(),T=j[C]-1;while(T!=-1){n=_[T];
if(I[n<<1]==0&&a[T+2>>1]>0&&n!=x){I[n<<1]=C+1;I[(n<<1)+1]=T;v.push(n)}T=_[T+1]-1}if(I[c<<1]!=0){break}}if(I[c<<1]==0){break}var o=1e30;
n=c;while(!0){var s=I[n<<1]-1;if(s==-1)break;var Q=I[(n<<1)+1];o=Math.min(o,a[Q+2>>1]);n=s}n=c;while(!0){var s=I[n<<1]-1;
if(s==-1)break;var Q=I[(n<<1)+1],X=Q^4;a[Q+2>>1]-=o;a[X+2>>1]+=o;n=s}e+=o}var B=[];for(var y=0;y<E;y+=2){var s=J[y],n=J[y+1];
if((I[s<<1]!=0||s==x)&&I[n<<1]==0&&n!=x){B.push(y>>1)}if((I[n<<1]!=0||n==x)&&I[s<<1]==0&&s!=x){B.push(E+y>>1)}}return{SD:B,am:e}};
W.As.cS=function(K){K|=K>>1;K|=K>>2;K|=K>>4;K|=K>>8;K|=K>>16;this.KG=new Uint32Array(K+1);this.oV=K;
this.PK=0;this.hb=0};W.As.cS.prototype={push:function(K){var E=this.hb;this.KG[E]=K;this.hb=E+1&this.oV},pop:function(){var K=this.PK,E=this.KG[K];
this.PK=K+1&this.oV;return E},uO:function(){return this.PK==this.hb},reset:function(){this.PK=0;this.hb=0}};
W.As.uP=function(K){K|=K>>1;K|=K>>2;K|=K>>4;K|=K>>8;K|=K>>16;this.KG=new Uint32Array(K+1);this.Gq=new Uint32Array(K+1);
this.oV=K;this.PK=0;this.hb=0};W.As.uP.prototype={top:function(){return this.KG[this.PK]},a8B:function(){return this.KG[this.hb]},push:function(K){if(this.Gq[K]!=0)return;
this.Gq[K]=this.hb+1;var E=this.hb;this.KG[E]=K;this.hb=E+1&this.oV},pop:function(){var K=this.PK,E=this.KG[K];
this.Gq[E]=0;this.PK=K+1&this.oV;return E},uO:function(){return this.PK==this.hb},remove:function(K){var E=this.Gq[K]-1;
if(E==-1)return;this.Gq[K]=0;if(E==this.PK){this.pop();return}var x=this.pop();this.KG[E]=x;this.Gq[x]=E+1},Av:function(y){return y+this.oV+1&this.oV}};
W.As.Va=function(K,E,x){var c=W.As.Nm(K,E,x);if(E<c-1)W.As.Va(K,E,c-1);if(c<x)W.As.Va(K,c,x)};W.As.Nm=function(K,E,x){var c=K[E+x>>>1];
while(E<=x){while(K[E]<c)E++;while(K[x]>c)x--;if(E<=x){W.As.OA(K,E,x);E++;x--}}return E};W.As.OA=function(K,E,x){var c=K[E];
K[E]=K[x];K[x]=c};W.X={};W.X.kF=function(K){for(var y=0;y<K.length;y++)W.X._D(K,y)};W.X._D=function(K,y){K[y].v.keyShapeInvalidated={t:"bool",v:!0}};
W.X.aaX=function(K){for(var y=0;y<K.length;y++)K[y].v.keyOriginIndex.v=y};W.X.im=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
W.X.MW=function(K){K=K.v;var E={Rctn:2,Ln:4,Elps:5},x=E[K.classID],c=K.topLeft?W.X.lt(K):null,J=null,i=0,P=[!1,!1,0,0,0];
if(x==4){var _=K.Strt.v,a=K.End.v;J=[_.Hrzn.v.val,_.Vrtc.v.val,a.Hrzn.v.val,a.Vrtc.v.val];i=K.Wdth.v.val;
for(var y=0;y<2;y++){var j=K[y==0?"StrA":"EndA"];if(j==null)continue;j=j.v;P[y]=j.On.v;P[2]=j.Wdth.v;
P[3]=j.Lngt.v;P[4]=j.Cncv.v.val}}if(x==null)return null;return W.X.nA(x,x==4?null:W.X.w0(K),c,J,i,P)};
W.X.uS=function(K,E,x,c,J,i,P){var _={classID:K,unitValueQuadVersion:{t:"long",v:1}};if(E)W.X.Cz(_,["Left","Top","Rght","Btom"],E);
if(x)W.X.Cz(_,["topLeft","topRight","bottomRight","bottomLeft"],x);if(K=="Ln"){_.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:c[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:c[1]}}}},_.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:c[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:c[3]}}}},_.Wdth={t:"UntF",v:{type:"#Pxl",val:J}};
for(var y=0;y<2;y++){var a=y==0?"StrA":"EndA";_[a]={t:"Objc",v:{classID:"cArw",On:{t:"bool",v:P[y]},Wdth:{t:"doub",v:P[2]},Lngt:{t:"doub",v:P[3]},Cncv:{t:"UntF",v:{type:"#Prc",val:P[4]}}}}}}if(i)_.Nm={t:"TEXT",v:i};
return{t:"Objc",v:_}};W.X.Vm=function(K,E){var x=W.X.ed(K),c=K[2]-K[0],J=K[3]-K[1],i=Math.sqrt(c*c+J*J),P=[0,0,i,0,i,E,0,E],_=new iQ;
_.rotate(-x);_.translate(K[0],K[1]);W.p.u(P,_,P);return P};W.X.nA=function(K,E,x,c,J,i){var P=W.X.im(),_=P.v,a;
delete _.keyShapeInvalidated;_.keyOriginType={t:"long",v:K};_.keyOriginResolution={t:"doub",v:75};if(K==4){_.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:c[0]},Vrtc:{t:"doub",v:c[1]}}};
_.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:c[2]},Vrtc:{t:"doub",v:c[3]}}};a=W.X.Vm(c,J);
var j=W.p.hp(a);E=[j.x,j.y,j.x+j.b,j.y+j.n];_.keyOriginLineWeight={t:"doub",v:J};if(i)W.X.apq(_,i)}else a=[E[0],E[1],E[2],E[1],E[2],E[3],E[0],E[3]];
_.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};W.X.Vf(_,"keyOriginBoxCorners",a);var e={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
_.keyOriginShapeBBox={t:"Objc",v:e};W.X.z2(_,E);if(x!=null){var d={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
_.keyOriginRRectRadii={t:"Objc",v:d};W.X.YI(_,x)}return P};W.X.u=function(K,E,x,c){var J=W.K.V9(E),i=W.K.hm(E),P=W.K.vA(E),_=P.Cc*P.Ga-P.k*P.o0;
for(var y=0;y<K.length;y++){var a=K[y].v;if(!W.X.MG(a))continue;if(x.length!=0&&x.indexOf(y)==-1)continue;
var j=a.keyOriginType.v,e=E;if(_<0&&j==2){var d=W.X.SZ(a),I=0;I=d[0];d[0]=d[1];d[1]=I;I=d[2];d[2]=d[3];
d[3]=I;W.X.YI(a,d);var v=W.X.MI(a,"keyOriginBoxCorners"),n=W.p.hp(v),C=n.x+n.b/2,T=new iQ;T.translate(-C,0);
T.scale(-1,1);T.translate(C,0);e=W.K.hH(e,W.K.y5(T))}var o=["keyOriginPolyTrueRectCorners","keyOriginBoxCorners"];
for(var s=0;s<o.length;s++){var v=W.X.MI(a,o[s]);if(v==null)continue;W.K.u(e,v);W.X.Vf(a,o[s],v);var n=W.p.hp(v);
W.X.z2(a,[n.x,n.y,n.x+n.b,n.y+n.n]);var Q=new iQ;Q.rotate(-W.X.ed(v));var B={classID:"Trnf"};a.Trnf={t:"Objc",v:B};
var M="xx xy yx yy tx ty".split(" "),S=[Q.Cc,Q.k,Q.o0,Q.Ga,Q.qW,Q.Ju];for(var f=0;f<6;f++)B[M[f]]={t:"doub",v:S[f]}}if(j==2&&c){var d=W.X.SZ(a);
for(var s=0;s<4;s++)d[s]=Math.round(d[s]*E[0]);W.X.YI(a,d)}var v=W.X.MI(a,"keyOriginBoxCorners"),F=v[2]-v[0],G=v[3]-v[1],D=Math.sqrt(F*F+G*G);
F/=D;G/=D;var b=v[6]-v[0],H=v[7]-v[1],q=Math.sqrt(b*b+H*H);b/=q;H/=q;if(j==4){a.keyOriginLineWeight.v=q;
var O=W.X.ZG(a);W.K.u(E,O);W.X.ajA(a,O)}var w=F*b+G*H;if(Math.abs(w)>.001){W.X._D(K,y)}}};W.X.MG=function(K){var E=K.keyShapeInvalidated,x=K.keyOriginType;
return(E==null||!E.v)&&x!=null&&x.v!=9};W.X.axR=function(K){var E=K.keyOriginType.v,x=W.X.UC(K),c=x[0],J=x[1],i=x[2],P=x[3],_=new iQ,a=K.keyOriginPolyCornerRadius,v;
a=a?a.v:0;var j=W.X.MI(K,E==7||E==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),e=W.X.OS(j),d=e[2],I=e[3];
c=-d/2;i=d/2;J=-I/2;P=I/2;_.rotate(-W.X.ed(j));_.qW=e[0];_.Ju=e[1];if(E==1||E==2){var n=E==1?0:W.X.SZ(K);
v=W.r.Ic.Rect(c,J,i-c,P-J,n)}else if(E==4){var C=W.X.ZG(K),T=W.X.afJ(K);_=new iQ;if(T==null)v=W.r.Ic.yo(C[0],C[1],C[2],C[3],K.keyOriginLineWeight.v);
else v=W.r.Ic.bp(C[0],C[1],C[2],C[3],K.keyOriginLineWeight.v,T)}else if(E==5){v=W.r.Ic.DM(c,J,i-c,P-J)}else if(E==7||E==8){var o=E==7?3:K.keyOriginPolySides.v;
v=W.r.Ic.Pn(0,0,100,Math.PI/o-Math.PI/2,o,a,i,P)}W.r.it(v,_);return v};W.X.Pm=function(K,E){var x=E.i;
for(var y=0;y<K.length;y++){var c=K[y].v;if(!W.X.MG(c))continue;var J=W.X.axR(c),i=W.r.J2(x,y),P=W.r.Hz(x,y);
J[2].qX=x[i].qX;var _=x;x=x.slice(0,i);for(var a=2;a<J.length;a++)x.push(J[a]);for(var a=i+P;a<_.length;
a++)x.push(_[a])}E.i=x;E.I_=!0};W.X.AS=function(K){var E=1e9,x=-E,c=1e9,J=-c,i=[],P=K.Ox(),_=P[0],a=P[1];
for(var j=0;j<a.length;j++){var e=_[a[j]],d=e.add.vogk;if(d==null)continue;var I=e.add.vmsk.g;for(var v=0;
v<d.length;v++){var n=d[v].v,o=0;if(!W.X.MG(n))continue;if(a.length==1&&I.length!=0&&I.indexOf(v)==-1)continue;
var C=n.keyOriginType.v;if(C==9)continue;var T=W.X.UC(n);E=Math.min(E,T[0]);c=Math.min(c,T[1]);x=Math.max(x,T[2]);
J=Math.max(J,T[3]);var s=W.X.MI(n,"keyOriginBoxCorners");if(s){var Q=W.X.OS(s),X=Q[2],B=Q[3];T[2]=T[0]+X;
T[3]=T[1]+B;o=W.X.ed(s)}var M=[C,T,o];i.push(M);if(C==2)M.push(W.X.SZ(n));if(C==7||C==8)M.push(n.keyOriginPolyCornerRadius.v);
if(C==8)M.push(n.keyOriginPolySides.v)}}return i.length==1?i[0]:[0,E<x?[E,c,x,J]:null,0]};W.X.ed=function(K){var E=K[2]-K[0],x=K[3]-K[1];
return-Math.atan2(-x,E)};W.X.AB=function(K){var E=W.X.UC(K);return W.X.ed(E)};W.X.an9=function(K,E,x){var c=W.X.AS(K),J=-1;
for(var y=0;y<E.length;y++)if(JSON.stringify(E[y])!=JSON.stringify(c[y]))J=y;if(J==1||J==2){}var i=K.Ox(),P=i[0],_=i[1];
for(var a=0;a<_.length;a++){var j=P[_[a]],e=j.add.vogk;if(e==null)continue;var d=j.add.vmsk.g;for(var I=0;
I<e.length;I++){var v=e[I].v;if(!W.X.MG(v))continue;if(_.length==1&&d.length!=0&&d.indexOf(I)==-1)continue;
var n=v.keyOriginType.v;if(J==1||J==2){W.X.u(e,W.X.aus(J,v,c,E),d,!1);break}if(J==3)if(n==2)W.X.YI(v,E[3]);
else v.keyOriginPolyCornerRadius.v=E[3];if(J==4)v.keyOriginPolySides.v=E[4];if(x)W.X._D(e,I)}}};W.X.aus=function(K,E,x,c){var J=c[1],i=x[1],P=(J[2]-J[0])/(i[2]-i[0]),_=(J[3]-J[1])/(i[3]-i[1]),a=new iQ;
if(K==1){if(Math.max(Math.abs(P-1),Math.abs(_-1))>1e-8){var j=J[0],e=J[1];if(c[0]!=0){var d=W.X.MI(E,"keyOriginBoxCorners");
j=d[0];e=d[1]}a.translate(-j,-e);a.rotate(c[2]);a.scale(P,_);a.rotate(-c[2]);a.translate(j,e)}else{a.translate(-i[0],-i[1]);
a.translate(J[0],J[1])}}else{if(c[0]!=0)J=W.X.UC(E);var j=(J[0]+J[2])/2,e=(J[1]+J[3])/2;a.translate(-j,-e);
if(x[0]!=0)a.rotate(x[2]);a.rotate(-c[2]);a.translate(j,e)}return W.K.y5(a)};W.X.OS=function(K){var E=K[0],x=K[1],c=K[2],J=K[3],i=K[4],P=K[5],_=K[6],a=K[7],j=c-E,e=J-x,d=Math.sqrt(j*j+e*e),j=i-c,e=P-J,I=Math.sqrt(j*j+e*e);
return[(E+i)/2,(x+P)/2,d,I]};W.X.MI=function(K,E){var x=K[E];if(x==null)return null;var c=[];x=x.v;for(var J=0;
J<4;J++){var i=x["rectangleCorner"+["A","B","C","D"][J]].v;c.push(i.Hrzn.v,i.Vrtc.v)}return c};W.X.Vf=function(K,E,x){var c=K[E];
if(c==null)return null;c=c.v;for(var J=0;J<4;J++){var i="rectangleCorner"+["A","B","C","D"][J];c[i]={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:x[2*J]},Vrtc:{t:"doub",v:x[2*J+1]}}}}};
W.X.UC=function(K){return W.X.w0(K.keyOriginShapeBBox.v)};W.X.w0=function(K){var E=K.classID,x=K.Left.v,c=K.Rght.v,J=K.Top.v,i=K.Btom.v;
if(x.val!=null){x=x.val;c=c.val;J=J.val;i=i.val}return[x,J,c,i]};W.X.z2=function(K,E){W.X.Cz(K.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],E)};
W.X.SZ=function(K){var E=K.keyOriginRRectRadii;if(E==null)return[0,0,0,0];return W.X.lt(E.v)};W.X.lt=function(K){var E=[],x=["topLeft","topRight","bottomRight","bottomLeft"];
for(var c=0;c<4;c++)E.push(K[x[c]].v.val);return E};W.X.YI=function(K,E){W.X.Cz(K.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],E)};
W.X.Cz=function(K,E,x){var c=K.classID;if(c=="unitRect"||c=="radii"||c=="Rctn"){for(var y=0;y<4;y++)if(x[y]!=null)K[E[y]]={t:"UntF",v:{type:"#Pxl",val:x[y]}}}else{for(var y=0;
y<4;y++)if(x[y]!=null)K[E[y]]={t:"doub",v:x[y]}}};W.X.ZG=function(K){var E=K.keyOriginLineStart.v,x=K.keyOriginLineEnd.v;
return[E.Hrzn.v,E.Vrtc.v,x.Hrzn.v,x.Vrtc.v]};W.X.ajA=function(K,E){var x=K.keyOriginLineStart.v,c=K.keyOriginLineEnd.v;
x.Hrzn.v=E[0];x.Vrtc.v=E[1];c.Hrzn.v=E[2];c.Vrtc.v=E[3]};W.X.afJ=function(K){var E=[],x=["owSt","owEnd","Wdth","Lngth","Conc"];
for(var y=0;y<5;y++){var c=K["keyOriginLineArr"+x[y]];if(c==null)return null;E[y]=c.v}return E};W.X.apq=function(K,E){K.keyOriginLineArrowSt={t:"bool",v:E[0]};
K.keyOriginLineArrowEnd={t:"bool",v:E[1]};K.keyOriginLineArrWdth={t:"doub",v:E[2]};K.keyOriginLineArrLngth={t:"doub",v:E[3]};
K.keyOriginLineArrConc={t:"long",v:E[4]}};W.X.a8p=function(K){function E(S,f){return Math.abs(S-f)<.5}function x(S,f){return E(S.x,f.x)&&E(S.y,f.y)}function c(S,f,F,G,D,b,H){for(var y=0;
y<H;y++){var q=S[f+(F+y)%H],O=G[D+(b+y)%H];if(!(x(q.H,O.H)&&x(q.ri,O.ri)&&x(q.XK,O.XK)))return!1}return!0}var J=[],i=W.r.kT(K);
for(var P=0;P<i;P++){var _=null,a=W.r.J2(K,P),j=K[a];if(j.length==4||j.length==8){var e=W.r.pQ(K.slice(0,2).concat(K.slice(a,a+j.length+1)));
a=2;if(j.length==4){var d=W.r.nb(e,a+1,4),n=d.x,C=d.y,T=n+d.b,o=C+d.n;if(d.O()>4){if(W.r.GS(e.slice(a-2,a+5)))_=W.X.nA(2,[n,C,T,o],[0,0,0,0]);
else{var s=-1;for(var y=0;y<4;y++)if(E(e[a+1+y].H.y,o))s=y;if(s!=-1){var Q=W.r.Ic.DM(n,C,T-n,o-C),X=c(e,a+1,s,Q,3,0,4);
if(X)_=W.X.nA(5,[n,C,T,o])}}}}if(j.length==8){var d=W.r.nb(e,a+1,8),n=d.x,C=d.y,T=n+d.b,o=C+d.n;if(d.O()>4){var s=-1;
for(var y=0;y<8;y++)if(E(e[a+1+(y+1&7)].H.y,C)&&E(e[a+1+(y+2&7)].H.y,C))s=y;if(s!=-1){var B=Math.abs(e[a+1+s].H.y-C),M=[B,B,B,B];
if(B>.5){var Q=W.r.Ic.Rect(n,C,T-n,o-C,M),X=c(e,a+1,s,Q,3,0,8);if(X)_=W.X.nA(2,[n,C,T,o],M)}}}}}J.push(_?_:W.X.im())}return J};
W.p={};W.p.clone=function(K){return{W:K.W.slice(0),C:K.C.slice(0)}};W.p.pG=function(K){if(K.length<6)return!0;
var E=K.length-4;for(var y=0;y<E;y+=2)if(!W.p.bt(K[y],K[y+1],K[y+2],K[y+3],K[y+4],K[y+5]))return!1;if(!W.p.bt(K[E],K[E+1],K[E+2],K[E+3],K[0],K[1]))return!1;
if(!W.p.bt(K[E+2],K[E+3],K[0],K[1],K[2],K[3]))return!1;return!0};W.p.bt=function(K,E,x,c,J,i){return(E-c)*(J-x)+(x-K)*(i-c)>=0};
W.p.y4=function(K){var E={},x=null,c=0,J={M:2,L:2,Q:4,C:6},i="",P="";for(var y=0;y<K.W.length;y++){var _=K.W[y];
if(_[0]=="#")i=_;else if(_[0]=="X")i="";else if(_[0]=="O"&&_[1]=="-")P=_;else if(_=="OX")P="";else{var a=i+P;
x=E[a];if(x==null)x=E[a]={C:[],W:[]};x.W.push(_);var j=J[_];if(j==null)j=0;for(var e=0;e<j;e++)x.C.push(K.C[c+e]);
c+=j}}return E};W.p.lb=function(K,E,x){var c=K[E]-K[x-2],J=K[E+1]-K[x-1];return c*c+J*J<1e-4};W.p.uR=function(K,E,x){K=W.p._n(K);
var c=K.C,J=K.W,i=0,P="",_=0,a=0,i=0,d=null;for(var y=0;y<J.length;y++){var j=J[y];if(j=="M"){_=c[i];
a=c[i+1];i+=2;P=j}if(j=="C"){if(P=="Z"){J.splice(y,0,"M");c.splice(i,0,_,a);y--;continue}i+=6;P=j}if(j=="Z"){P=j}}var e=[];
i=0;for(var y=0;y<J.length;y++){var j=J[y];if(j=="M"){d={t0:i,L9:0,GJ:!1};e.push(d);i+=2}if(j=="C"){d.L9++;
i+=6}if(j=="Z"&&d!=null){d.GJ=!0}}var I=[];for(var y=0;y<e.length;y++)if(e[y].L9!=0)I.push(e[y]);e=I;
for(var y=0;y<e.length;y++){var v=e[y],n=v.t0,C=n+2+v.L9*6,o=0;v.Xt=W.p.hp(c,n,C);var T=W.p.lb(c,n,C);
for(var s=0;s<v.L9;s++){var Q=n+s*6,X=Q+6;o+=(c[X]-c[Q])*(c[X+1]+c[Q+1])}if(v.L9==2){var B=function(gC,r,h){var l=1-h;
return l*l*l*gC[r]+3*l*l*h*gC[r+2]+3*l*h*h*gC[r+4]+h*h*h*gC[r+6]},M=c[n],S=c[n+1],f=c[n+6],F=c[n+7],G=c[n+6],D=c[n+7],b=B(c,n,.5),H=B(c,n+1,.5),q=B(c,n+6,.5),O=B(c,n+7,.5);
o=(b-M)*(H-S)+(f-b)*(F-H)+(q-f)*(O-F)+(G-q)*(D-O)}if(!T)o+=(c[n]-c[C-2])*(c[n+1]+c[C-1]);v.PG=o<=0}for(var y=0;
y<e.length-1;y++)for(var Q=y+1;Q<e.length;Q++){var w=e[y],V=e[Q];if(V.Xt.ng(w.Xt)){e[y]=V;e[Q]=w}}var t=e.length==0?!0:e[0].PG,m=[{type:6},{type:8,all:0}];
for(var y=0;y<e.length;y++){var v=e[y],n=v.t0,C=n+2+v.L9*6,T=W.p.lb(c,n,C),g=v.GJ||T?0:3,Y=v.PG==t&&!E?1:0;
if(!E&&y!=0){if(e[y-1].Xt.ng(v.Xt)&&e[y-1].PG!=v.PG)Y=0;for(var Q=0;Q<e.length;Q++)if(Q!=y&&e[Q].Xt.ng(v.Xt))Y=0}m.push({type:g,length:v.L9+(T?0:1),qX:x?1:Y,Im:2});
for(var Q=0;Q<v.L9;Q++){var i=n+Q*6,A=new iP(c[i],c[i+1]),k=new iP(c[i+2],c[i+3]),z;if(Q==0){if(T){z=new iP(c[C-4],c[C-3]);
if(iP.B4(z,A)<1e-5)z=A.clone()}else z=A.clone()}else z=new iP(c[i-2],c[i-1]);m.push({type:g+2,ri:z,H:A,XK:k})}if(!T){var p=new iP(c[C-2],c[C-1]);
m.push({type:g+2,ri:new iP(c[C-4],c[C-3]),H:p,XK:p.clone()})}}for(var Q=0;Q<m.length;Q++){var L=m[Q];
if(L.type>5||L.type==0||L.type==3)continue;var N=L.ri.ac(L.H)||L.XK.ac(L.XK);if(!N){var w=L.ri.x*(L.H.y-L.XK.y)+L.H.x*(L.XK.y-L.ri.y)+L.XK.x*(L.ri.y-L.H.y);
if(Math.abs(w)<1e-6)N=!0}if(N)L.type--}return m};W.p.aS=function(K,E){var x=W.r.kT(K),c=[];for(var y=2;
y<K.length;y++){var J=K[y].qX;if(J!=null){if(J==2||J==0||J==3||J==-1)c.push(J)}}var i=c.length!=0;if((i||E)&&K.length<15e3&&1<x&&x<200)K=W.r.hz(K);
var P=W.p.P0(K);return{v6:P,VM:i?1:0}};W.p.P0=function(){function K(c,J,i,P){if(!P&&c.XK.ac(c.H)&&J.ri.ac(J.H)){i.C.push(J.H.x,J.H.y);
i.W.push("L")}else{var _=c.H,a=c.XK,j=J.ri,e=J.H,d=3/2*a.x-1/2*_.x,I=3/2*a.y-1/2*_.y,v=3/2*j.x-1/2*e.x,n=3/2*j.y-1/2*e.y,C=v-d,T=n-I;
if(!P&&C*C+T*T<.001){i.C.push((d+v)*.5,(I+n)*.5,e.x,e.y);i.W.push("Q")}else{i.C.push(a.x,a.y,j.x,j.y,e.x,e.y);
i.W.push("C")}}}function E(c,J,y,i,P,_){var a=J[y];c.C.push(a.H.x,a.H.y);c.W.push("M");for(var j=y;j<y+i-1;
j++)K(J[j],J[j+1],c,_);if(!P)K(J[j],J[y],c,_)}function x(c,J){c=W.r.pQ(c);if(J==null)J=!1;var i={C:[],W:[]};
for(var y=0;y<c.length;y++){if(c[y].type>5)continue;var P=c[y].length;if(P==0)continue;if(y==c.length-1)break;
var _=c[y].type==3;E(i,c,y+1,P,_,J);if(!_)i.W.push("Z");y+=P}return i}return x}();W.p.a8G=function(K){var E=K.C,x=[],c,J=0;
for(var y=0;y<K.W.length;y++){var i=K.W[y];if(i=="C"){c.push(E[J++],E[J++],E[J++],E[J++],E[J++],E[J++])}else if(i=="Z"){}else{c=[];
if(i!="M"){c.push(i);y++}c.push(E[J++],E[J++]);x.push(c)}}return x};W.p.fq=function(K,E,x,c){if(c==null)c=1e9;
var J=1e9,i=0;for(var y=0;y<K.length;y+=2){var P=E-K[y],_=x-K[y+1],a=P*P+_*_;if(a<J){J=a;i=y>>>1}}return J<c*c?i:-1};
W.p.bm=function(K,E,x,c){for(var y=0;y<K.length;y+=2){var J=K[y],i=K[y+1],P=E[y],_=E[y+1];x[y]=J+(P-J)*c;
x[y+1]=i+(_-i)*c}};W.p.u=function(K,E,x){for(var y=0;y<K.length;y+=2){var c=K[y],J=K[y+1];x[y]=c*E.Cc+J*E.o0+E.qW;
x[y+1]=c*E.k+J*E.Ga+E.Ju}};W.p.hp=function(K,E,x){if(E==null)E=0;if(x==null)x=K.length;var c=99999999999,J=-c,i=99999999999,P=-i;
for(var y=E;y<x;y+=2){var _=K[y],a=K[y+1];c=Math.min(c,_);i=Math.min(i,a);J=Math.max(J,_);P=Math.max(P,a)}return new cS(c,i,J-c,P-i)};
W.p.Wr=function(K,E){var x=Math.max(E.x,Math.min(E.x+E.b,K.x)),c=Math.max(E.y,Math.min(E.y+E.n,K.y)),J=K.x-x,i=K.y-c;
return Math.sqrt(J*J+i*i)};W.p.OC=function(K,E){var x=Math.floor,c=Math.ceil;if(E){x=Math.ceil;c=Math.floor}var J=x(K.x),i=c(K.x+K.b),P=x(K.y),_=c(K.y+K.n);
return new cS(J,P,i-J,_-P)};W.p.Uz=function(K,E){return W.p.OC(W.p.hp(K),E)};W.p.VD=function(K,E){var x=K.x,c=K.y,J=K.x+K.b,i=K.y+K.n,P=[x,c,J,c,J,i,x,i];
if(E){var _=E.clone();_.Pa();W.p.u(P,_,P)}return{W:["M","L","L","L","Z"],C:P}};W.p.concat=function(K,E,x){if(x==null)x=new iQ;
for(var y=0;y<E.C.length;y+=2){var c=E.C[y],J=E.C[y+1];K.C.push(c*x.Cc+J*x.o0+x.qW);K.C.push(c*x.k+J*x.Ga+x.Ju)}for(var y=0;
y<E.W.length;y++)K.W.push(E.W[y])};W.p.aer=function(K,E,x,c,J){function i(I,v,n){return new iP(I.x*(1-n)+v.x*n,I.y*(1-n)+v.y*n)}var P=i(K,E,J),_=i(x,c,J),a=i(E,x,J),j=i(P,a,J),e=i(a,_,J),d=i(j,e,J);
return[P,j,d,e,_]};W.p._n=function(K){var E=K.C,x=[],c=[],J=0,i=0,P=0,_=0,a=0,j=0,e=0,d=0,I=0,v=0,n=0;
for(var y=0;y<K.W.length;y++){var C=K.W[y];if(C=="M"){i=E[J];P=E[J+1];J+=2;c.push(C);x.push(i,P);v=i;
n=P}else if(C=="C"){_=E[J];a=E[J+1];j=E[J+2];e=E[J+3];d=E[J+4];I=E[J+5];J+=6;c.push(C);x.push(_,a,j,e,d,I);
i=d;P=I}else if(C=="Q"){_=E[J];a=E[J+1];j=E[J+2];e=E[J+3];J+=4;var T=_-i,o=a-P,s=j-_,Q=e-a;c.push("C");
x.push(i+2/3*T,P+2/3*o,_+1/3*s,a+1/3*Q,j,e);i=j;P=e}else if(C=="L"){_=E[J];a=E[J+1];J+=2;if(_!=i||a!=P){c.push("C");
x.push(i,P,_,a,_,a);i=_;P=a}}else{if(C=="Z"){i=v;P=n}c.push(C)}}return{W:c,C:x}};W.p.apW=function(K){var E=K.C,x=[],c=[],J=0;
for(var y=0;y<K.W.length;y++){var i=K.W[y];if(i=="Q"){var P=E[J-2],_=E[J-1],a=E[J],j=E[J+1],e=E[J+2],d=E[J+3];
J+=4;var I=a-P,v=j-_,n=e-a,C=d-j;c.push("C");x.push(P+2/3*I,_+2/3*v,a+1/3*n,j+1/3*C,e,d)}else{var T=0;
if(i=="M"||i=="L")T=2;else if(i=="C")T=6;for(var o=0;o<T;o++)x.push(E[J+o]);J+=T;c.push(i)}}return{W:c,C:x}};
W.p.nL=function(K,E){var x=K.C,c=[],J=[],i=0,P=0,_=0,a=0,j=0,e=0,d=0,I=0,v=0;for(var y=0;y<K.W.length;
y++){var n=K.W[y];if(n=="M"){P=x[i];_=x[i+1];i+=2;J.push(n);c.push(P,_)}else if(n=="C"){a=x[i];j=x[i+1];
e=x[i+2];d=x[i+3];I=x[i+4];v=x[i+5];i+=6;W.p.Lp(P,_,a,j,e,d,I,v,E,J,c,0);P=I;_=v}else J.push(n)}return{W:J,C:c}};
W.p.Lp=function(K,E,x,c,J,i,P,_,a,j,e,d){var I=Math.sqrt((P-K)*(P-K)+(_-E)*(_-E)),v=Math.sqrt((P-J)*(P-J)+(_-i)*(_-i))+Math.sqrt((J-x)*(J-x)+(i-c)*(i-c))+Math.sqrt((x-K)*(x-K)+(c-E)*(c-E)),n=(I+v)/2;
if(n<=a){j.push("C");e.push(x,c,J,i,P,_)}else{var C=0,T=0,o=0,s=0,Q=0,X=0,B=0,M=0,S=0,f=0,F=0,G=0,D=0;
T=(K+x)/2;o=(E+c)/2;s=(x+J)/2;Q=(c+i)/2;X=(J+P)/2;B=(i+_)/2;M=(T+s)/2;S=(o+Q)/2;f=(s+X)/2;F=(Q+B)/2;
G=(M+f)/2;D=(S+F)/2;W.p.Lp(K,E,T,o,M,S,G,D,a,j,e,d+1);W.p.Lp(G,D,f,F,X,B,P,_,a,j,e,d+1)}};W.p.ZJ=function(K,E,x,c,J){var i=Date.now(),P=W.p.ami(K,E,x);
if(J){console.log("trace polygons",Date.now()-i);i=Date.now()}var _=[];for(var y=0;y<P.length;y++){var a=P[y],j=a[0],e=["M"],d=K[j[1]*E+j[0]];
if(j.length>8)j=W.p.EW(j,c,a[1]);if(j.length<=4)continue;for(var I=2;I<j.length;I+=2)e.push("L");e.push("Z");
_.push({path:{C:j,W:e},color:d,parent:-1,Xt:W.p.hp(j)})}if(J){console.log("simplify polygons",Date.now()-i);
i=Date.now()}for(var y=1;y<_.length;y++){var v=_[y],n=v.path.C,C=n[0],T=n[1],o=n[2],s=n[3],Q=o-C,X=s-T,B=C+.5*Q-.001*X,M=T+.5*X+.001*Q;
for(var I=y-1;I>=0;I--){var S=_[I];if(!S.Xt.ng(v.Xt))continue;if(!iq.cQ(S.path.C,B,M))continue;v.parent=I;
break}}if(J){console.log("checking parents",Date.now()-i);i=Date.now()}return _};W.p.ami=function(K,E,x){var c=E*x,J=new Uint16Array(E*x),P=0;
for(var y=0;y<c;y++)J[y]=K[y];var i=new Uint8Array(E*x);i[1*E+1]=i[(x-1)*E+1]=i[1*E+E-1]=i[(x-1)*E+E-1]=1;
for(var _=1;_<x;_++)for(var a=1;a<E;a++){var y=_*E+a,j=J[y-E-1],e=J[y-E],d=J[y-1],I=J[y],v=j==I&&e==d&&j!=e,n=0;
if(I<d){P=I;I=d;d=P}if(d<e){P=d;d=e;e=P}if(e<j){P=e;e=j;j=P}if(I<d){P=I;I=d;d=P}if(d<e){P=d;d=e;e=P}if(I<d){P=I;
I=d;d=P}if(j!=e)n++;if(e!=d)n++;if(d!=I)n++;if(I!=j)n++;if(n>=3||v)i[y]=1}var C=[];for(var _=1;_<x;_++)for(var a=1;
a<E;a++){var y=_*E+a;if(J[y]!=J[y-1]){var T=W.p.aff(J,E,x,a,_),o=[];for(var s=0;s<T.length;s+=2)if(i[T[s+1]*E+T[s]]==1)o.push(s>>>1);
C.push([T,o]);W.p.kZ(J,E,x,a,_)}}return C};W.p.kZ=function(K,E,x,c,J){var i=[J*E+c],P=K[J*E+c];K[J*E+c]=65535;
while(i.length!=0){var y=i.pop();K[y]=0;if(K[y+E]==P){i.push(y+E);K[y+E]=65535}if(K[y-E]==P){i.push(y-E);
K[y-E]=65535}if(K[y-1]==P){i.push(y-1);K[y-1]=65535}if(K[y+1]==P){i.push(y+1);K[y+1]=65535}}};W.p.aff=function(K,E,x,c,J){var i=[0,-1,1,0,0,1,-1,0],e=1;
function P(I,v,e){var y=j*E+a,n=0;if(e==0)n=y-E;else if(e==1)n=y;else if(e==2)n=y-1;else if(e==3)n=y-E-1;
return K[n]}var _=[],a=c,j=J,d=P(a,j,e);do{_.push(a,j);a+=i[e*2];j+=i[e*2+1];if(P(a,j,e)!=d)e=e+1&3;
else if(P(a,j,e+3&3)!=d)e=e;else if(P(a,j,e+2&3)!=d)e=e+3&3}while(a!=c||j!=J);return _};W.p.EW=function(K,E,x){var c=K.length-2;
if(x&&x.length!=0){var J=x[0]*2,i=x[x.length-1]*2,P=J==0?c:J-2,_=K.slice(i);for(var y=0;y<J;y++)_.push(K[y]);
if(J==i)_.push(.9*K[J]+.1*K[P],.9*K[J+1]+.1*K[P+1]);else _.push(K[J],K[J+1]);_=W.p.cK(_,E);_.pop();_.pop();
for(var y=0;y<x.length-1;y++){var a=K.slice(x[y]*2,x[y+1]*2+2);a=W.p.cK(a,E);for(var j=0;j<a.length-2;
j++)_.push(a[j])}return _}var e=K.slice(0);e.push(.9*K[0]+.1*K[c],.9*K[1]+.1*K[c+1]);e=W.p.cK(e,E);e.pop();
e.pop();return e};W.p.cK=function(K,E){var x=K.length-2,c=K[0],J=K[1],i=K[x],P=K[x+1],_=i-c,a=P-J,j=1/Math.sqrt(_*_+a*a),e=i*J-P*c,d=-1,I=-1,v=0;
for(var y=2;y<x;y+=2){var n=K[y],C=K[y+1],T=C*C*1e6+n*n,o=Math.abs(a*n-_*C+e)*j;if(o>I||o==I&&T>v){I=o;
d=y;v=T}}if(I<E)return[c,J,i,P];var s=W.p.cK(K.slice(0,d+2),E),Q=W.p.cK(K.slice(d),E);for(var y=2;y<Q.length;
y++)s.push(Q[y]);return s};W.p.adT=function(){var K=function(c,J,i,P,_,a){return(J-P)*(_-i)+(i-c)*(a-P)>=0},E=function(c,J,i,P,_,a,j,e){var d=j-i,I=e-P,v=_-i,n=a-P,C=c-i,T=J-P,o=d*d+I*I,s=d*v+I*n,Q=d*C+I*T,X=v*v+n*n,B=v*C+n*T,M=1/(o*X-s*s),S=(X*Q-s*B)*M,f=(o*B-s*Q)*M;
return S>=0&&f>=0&&S+f<1},x=function(c){var hr=c.length>>>1,y=0;if(hr<3)return[];var J=[],i=[];for(var y=0;
y<hr;y++)i.push(y);var P=hr;while(P>3){var _=i[(y+0)%P],a=i[(y+1)%P],j=i[(y+2)%P],e=c[2*_],d=c[2*_+1],I=c[2*a],v=c[2*a+1],n=c[2*j],C=c[2*j+1],T=!1;
if(K(e,d,I,v,n,C)){T=!0;for(var o=0;o<P;o++){var s=i[o];if(s==_||s==a||s==j)continue;if(E(c[2*s],c[2*s+1],e,d,I,v,n,C)){T=!1;
break}}}if(T){J.push(_,a,j);i.splice((y+1)%P,1);P--;y=0}else if(y++>3*P)break}J.push(i[0],i[1],i[2]);
return J};return x}();W.p.avs=function(K,E){var x={},c={W:[],C:[]};for(var y=0;y<E.length;y+=3){var J=E[y]*2,i=E[y+1]*2,P=E[y+2]*2;
W.p.kx(K,J,i,c,x);W.p.kx(K,J,P,c,x);W.p.kx(K,i,P,c,x)}return c};W.p.kx=function(K,E,x,c,J){if(E>x){var i=x;
x=E;E=i}if(J[E+","+x])return;J[E+","+x]=!0;c.W.push("M","L");c.C.push(K[E],K[E+1],K[x],K[x+1])};W.p.Vc=function(K,E){var x=[],c=K.length;
for(var y=0;y<c;y+=2){var J=K[y],i=K[y+1],P=K[(y+2)%c],_=K[(y+3)%c];if(_<i){var a=i;i=_;_=a}if(i<E&&E<_){var j=(E-i)/(_-i);
x.push(J+j*(P-J))}}x.sort(function(e,d){return e-d});return x};W.p.pF=function(K,E,x,c,J,i,P){var _=K-x,a=E-c,j=J-x,e=i-c,d=1/Math.sqrt(_*_+a*a),I=1/Math.sqrt(j*j+e*e),v=_*d,n=a*d,C=j*I,T=e*I,o=n*P,s=-v*P,Q=-T*P,X=C*P,B=W.p.n2(o,s,v,n,Q,X,C,T),M=o+v*B,S=s+n*B,B=W.p.n2(0,0,v,n,M,S,-n,v),f=v*B,F=n*B;
return[Math.sqrt(f*f+F*F),v,n,C,T]};W.p.agC=function(K,E,x,c,J,i,P){var _=W.p.pF(K,E,x,c,J,i,P),a=_[0],j=_[1],e=_[2],d=_[3],I=_[4],v=Math.atan2(j*I-e*d,j*d+e*I);
if(v<0){v=v*-1}var n=Math.PI-v,C=4/3*Math.tan(n/4),T=x+a*j,o=c+a*e,s=x+a*d,Q=c+a*I,X=T+C*P*-j,B=o+C*P*-e,M=s+C*P*-d,S=Q+C*P*-I;
return[0,0,T,o,X,B,M,S,s,Q]};W.p.n2=function(K,E,x,c,J,i,P,_){var a=P*(E-i)-_*(K-J),j=_*x-P*c;if(j==0)return 0;
return a/j};W.p.aq6=function(K,E,x,c,J,i){return K*(c-i)+x*(i-E)+J*(E-c)};W.p.avM=function(K){function E(q,O,w,V,t,m,g,Y,A){var k=W.p.n2(q,O,w,V,t,m,g,Y);
A.push(q+w*k,O+V*k)}var x=[],c=K.length,J=[];for(var y=0;y<c;y+=2){var i=y==0?c-2:y-2,P=y==c-2?0:y+2,_=K[y],a=K[y+1],j=_-K[i],e=a-K[i+1],d=K[P]-_,I=K[P+1]-a,v=Math.sqrt(j*j+e*e),n=Math.sqrt(d*d+I*I);
J.push(n);var C=v/(v+n),T=_-j*.5,o=a-e*.5,s=_+d*.5,Q=a+I*.5,X=(K[P]+K[i])*.5,B=(K[P+1]+K[i+1])*.5,M=T+C*(s-T),S=o+C*(Q-o),f=_-M,F=a-S,G=(d*-j+I*-e)/(v*n),D=(C-.5)*7,b=1+D*C,H=1-D*(1-C);
x.push(T+f*b,o+F*b,s+f*H,Q+F*H)}return x};W.eT=function(){};W.eT.je=function(K,E,x,c,J){var i=x.b,P=x.n,_=i*P,a=new Int32Array(_),hr=0;
for(var y=0;y<_;y++)if(E[y]!=0){a[y]=hr;hr++}else if(K[(y<<2)+3]<200){a[y]=-2}else a[y]=-1;if(hr==0)return;
var j=new W.aC(hr,hr),e=new Array(3*hr),d=new Array(3*hr);for(var y=0;y<d.length;y++)d[y]=e[y]=0;var I=1/255,v=[-i,-1,1,i],n=[],C=[];
for(var T=0;T<P;T++)for(var o=0;o<i;o++){var s=T*i+o,Q=s<<2,y=a[s],X=y*3,B=0,M=0,S=0;if(y==-1||y==-2)continue;
for(var f=0;f<4;f++){if(f==2){M=S;n[S]=0;C[S]=y;S++}var F=s+v[f],G=F<<2,D=a[F];if(f==0&&T==0||f==1&&o==0||f==2&&o==i-1||f==3&&T==P-1||D==-2)continue;
B++;if(D==-1){e[X+0]+=K[G+0];e[X+1]+=K[G+1];e[X+2]+=K[G+2]}else{n[S]=-1;C[S]=D;S++;if(E[s]==E[F]){e[X+0]+=K[Q+0]-K[G+0];
e[X+1]+=K[Q+1]-K[G+1];e[X+2]+=K[Q+2]-K[G+2]}}}n[M]=B;j.b8(n,C,S)}for(var y=0;y<_;y++)if(a[y]!=-1){var b=y<<2,H=a[y],q=H*3;
d[q]=K[b+0];d[q+1]=K[b+1];d[q+2]=K[b+2]}var O=Date.now();j.a56(d,e,c,J);console.log(Date.now()-O);for(var y=0;
y<_;y++){var H=a[y],w=H*3,b=y<<2;if(H==-1||K[b+3]!=255)continue;K[b+0]=~~(.5+Math.max(0,Math.min(255,d[w+0])));
K[b+1]=~~(.5+Math.max(0,Math.min(255,d[w+1])));K[b+2]=~~(.5+Math.max(0,Math.min(255,d[w+2])))}};W.rect={};
W.rect.zC=function(K,E){var x=[K],c=[];for(var y=0;y<E.length;y++){var J=E[y],i=!1;for(var P=y+1;P<E.length;
P++){var _=E[P];if(_[0]<=J[0]&&_[1]<=J[1]&&J[2]<=_[2]&&J[3]<=_[3]){i=!0;break}}if(!i)c.push(J)}E=c;for(var y=0;
y<E.length;y++){var J=E[y];for(var P=0;P<x.length;P++){var _=x[P],a=Math.max(J[0],_[0]),j=Math.min(J[2],_[2]),e=Math.max(J[1],_[1]),d=Math.min(J[3],_[3]);
if(a<j&&e<d){var I=[];if(_[1]<J[1]){var v=_.slice(0);v[3]=J[1];I.push(v)}if(_[0]<J[0]){var n=_.slice(0);
n[1]=e;n[2]=J[0];I.push(n)}if(J[2]<_[2]){var C=_.slice(0);C[1]=e;C[0]=J[2];I.push(C)}if(J[3]<_[3]){var T=[a,d,j,_[3]];
I.push(T)}if(I.length!=0){x[P]=I[0];for(var o=1;o<I.length;o++)x.push(I[o])}}}x.push(J);x=W.rect.ane(x)}x.sort(function(J,_){return J[1]!=_[1]?J[1]-_[1]:J[0]-_[0]});
for(var y=1;y<x.length;y++){var J=x[y-1],_=x[y];if(J[0]==_[0]&&J[1]==_[1]&&J[2]==_[2]&&J[3]==_[3]){x.splice(J[4]==null?y-1:y,1);
y--}}return x};W.rect.ane=function(K){K=K.slice(0);for(var y=0;y<K.length;y++){var E=K[y],x=null;if(E[4]!=null)continue;
for(var c=0;c<K.length;c++){var J=K[c];if(y==c||J[4]!=null)continue;var i=E[0]==J[0],P=E[1]==J[1],_=E[2]==J[2],a=E[3]==J[3];
if(P&&a&&(E[2]==J[0]||E[0]==J[2])){x=[Math.min(E[0],J[0]),E[1],Math.max(E[2],J[2]),E[3]]}if(i&&_&&(E[3]==J[1]||E[1]==J[3])){x=[E[0],Math.min(E[1],J[1]),E[2],Math.max(E[3],J[3])]}if(x){K[y]=x;
K.splice(c,1);break}}if(x){y--}}return K};W.rect.Nf=function(K){var E=new cS;for(var y=0;y<K.length;
y++)E=E.XN(K[y]);return E};W.rect.aiB=function(K,E){var x=W.rect.Nf,c=new UnionFind(K.length),M=1e3,S=1e3;
for(var y=0;y<K.length;y++)for(var J=y+1;J<K.length;J++){if(!E)continue;var i=K[y],P=K[J],d=1e9,I=1e9;
if(i.iw(P)){c.link(y,J);continue}var _=i.x+i.b,a=i.y+i.n,j=P.x+P.b,e=P.y+P.n;if((_<P.x||j<i.x)&&(a<P.y||e<i.y))continue;
if(!(a<P.y||e<i.y))d=Math.min(Math.abs(_-P.x),Math.abs(i.x-j));if(!(_<P.x||j<i.x))I=Math.min(Math.abs(a-P.y),Math.abs(i.y-e));
var v=Math.min(d,I),n=Math.min(i.b,i.n,P.b,P.n);if(v<.3*n)c.link(y,J)}var C=[],T={};for(var y=0;y<K.length;
y++){var o=c.find(y),s=K[y];if(T[o]==null){T[o]=C.length;C.push([])}C[T[o]].push(s)}var Q=[],X=[];for(var y=0;
y<C.length;y++){Q.push(x(C[y]));var B=x(C[y]);B.Av=y;X.push(B)}X.sort(function(V,t){return Math.max(t.n,t.b)-Math.max(V.n,V.b)});
var f=new NETXUS.RectanglePacker(M,S);while(!0){var F=!1;f.reset(M,S);for(var y=0;y<X.length;y++){var G=f.findCoords(X[y].b,X[y].n);
if(G){X[y].x=G.x;X[y].y=G.y}else{M=Math.floor(M*1.1);S=Math.floor(S*1.1);F=!0;break}}if(F)continue;break}for(var y=0;
y<C.length;y++){var D=X[y],b=D.Av,H=Q[b],q=C[b],O=D.x-H.x,w=D.y-H.y;for(var J=0;J<q.length;J++)q[J].offset(O,w)}};
W.uz=function(){};W.uz.Xi=Math.floor(16*window.devicePixelRatio);W.uz.le={};W.uz.Bw=0;W.uz.ko=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
W.uz.apo=["px","in","cm","mm","%"];W.uz.KX=function(K,E,x,c){var J=[1,E,E/2.54,E/25.4,x/100][c];return K*J};
W.uz.aa0=function(K,E,x,c){var J=[1,E,E/2.54,E/25.4,x/100][c];return K/J};W.uz.Vo=function(K,E,x,c,J){var i=x.Vp.OZ,P=[1,E,E/2.54,E/25.4,c/100][i],_=[2,3,2,1,2][i];
K=K/P;var a=Math.round(K),j=i==0&&Math.abs(K-a)<1e-6?a+"":K.toFixed(_);if(J)j+=" "+W.uz.apo[i];return j};
W.uz.arJ=function(K,E,x,c){var J=x.Vp.OZ,i=[1,E,E/2.54,E/25.4,c/100][J];K=parseFloat(K)*i;return K};
W.uz.avX=function(K,E){var x=K+","+E;if(W.uz.le.clr==x)return;var c=Math.round(W.uz.Xi*.5);W.uz.Bw=c;
var J=document.createElement("canvas");J.width=J.height=c;var i=J.getContext("2d");i.font=c*1.5+"px monospace";
var P="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var y=0;y<P.length;y++){i.fillStyle="#"+W.E8(E);i.fillRect(0,0,c,c);
i.fillStyle="#"+W.E8(K);i.fillText(P[y],0,c);W.uz.le[P[y]]=i.getImageData(0,0,c,c).data}W.uz.le.clr=x};
W.uz.a1C=function(K,E,x){var c=0,J=0,i=4*W.uz.Xi;for(var y=9;y>=0;y--){var P=Math.pow(10,y);if(5*P*K<=i){c=5*P;
J=10;break}if(2*P*K<=i){c=2*P;J=4;break}if(1*P*K<=i){c=1*P;J=10;break}}if(c==0){c=1;J=10}var _=Math.ceil(c*K),a=W.Q(_*W.uz.Xi*4);
W._m(a,4278190080|x);for(var y=0;y<W.uz.Xi;y++)W.uz.mr(a,4*y*_,E);for(var y=0;y<_;y++)W.uz.mr(a,4*((W.uz.Xi-1)*_+y),E);
if(c==2)J=2;if(c==5)J=5;if(c>1||c==1&&_>20)for(var y=1;y<J;y++)W.uz.asL(a,y*(_/J),_,(y&1)==1?.8:.7,E);
return{Dr:a,step:c}};W.uz.asL=function(K,E,x,c,J){var E=Math.round(E);for(var i=Math.round(W.uz.Xi*c);
i<W.uz.Xi-1;i++)W.uz.mr(K,4*(i*x+E),J)};W.uz.mr=function(K,E,x){K[E+0]=x>>16&255;K[E+1]=x>>8&255;K[E+2]=x&255};
W.uz.amm=function(K,E,x,c,J,i,P){var _=K.E5.b,a=K.E5.n,j=W.uz.Xi,e=E&255,d=E>>8&255,I=E>>16&255;E=Math.round(e*.6)<<16|Math.round(d*.6)<<8|Math.round(I*.6);
W.uz.avX(Math.round(e*.8)<<16|Math.round(d*.8)<<8|Math.round(I*.8),x);var v=K.N,n=K.R,C=K.Zm;for(var T=0;
T<2;T++){var o=T==0?i:P;K.N=o[0];K.R=o[1];K.Zm=0;var s=this.a1C(K.N,E,x),Q=K.gg(0,0),X=K.gg(_,a),B=Math.floor(Q.x/s.step)*s.step,M=Math.ceil(X.x/s.step)*s.step,S=Math.floor(Q.y/s.step)*s.step,f=Math.ceil(X.y/s.step)*s.step,F=K.An(B,S),G=K.An(M,S),D=s.step*K.N,b=Math.ceil(D);
if(T==1){var H=s.Dr;s.Dr=W.Q(H.length*4);W.K.vS(H,s.Dr,b,j)}var q=T==0?K.UU.data:K.dl.data,O=new cS(0,0,[_,j][T],[j,a][T]),w=new cS(0,0,[b,j][T],[j,b][T]),V=new cS([0,Math.round(j*.2)][T],[Math.round(j*.08),0][T],W.uz.Bw,W.uz.Bw),t=(T==0?M-B:f-S)/s.step;
for(var y=0;y<t;y++){if(T==0)w.x=Math.round(F.x+y*D);else w.y=Math.round(F.y+y*D);W.UL(s.Dr,w,q,O,w);
var m=(T==0?B+y*s.step:Math.abs(S+y*s.step)).toString(10);for(var g=0;g<m.length;g++){if(T==0)V.x=w.x+3+g*Math.round(W.uz.Bw*.8);
else V.y=w.y+3+g*Math.round(W.uz.Bw*1.15);var Y=W.uz.le[m[g]];W.UL(Y,V,q,O,V)}}}K.N=v;K.R=n;K.Zm=C;var A=Math.floor(j*.6),k=new Uint32Array(K.UU.data.buffer),z=new Uint32Array(K.dl.data.buffer),p=e<128?4278190080:4294967295;
if(0<c&&c<_)for(var y=0;y<A;y++)k[y*_+c]=p;if(0<J&&J<a)for(var y=0;y<A;y++)z[J*j+y]=p};W.scale={};W.scale.T=document.createElement("canvas");
W.scale.gI=W.scale.T.getContext("2d");W.scale.s$=document.createElement("canvas");W.scale.Ti=W.scale.s$.getContext("2d");
W.scale.Tq=function(K,E,x){var c=W.scale.T,J=W.scale.gI;c.width=E;c.height=x;var i=new ImageData(new Uint8ClampedArray(K.buffer),E,x);
J.putImageData(i,0,0);return J.createPattern(c,"repeat")};W.scale.awK=function(K,E,x,c,J,i,P,_,a){var j=W.scale.akN(K,x,c,J,i,P,_,a).data;
if(E)W.dq(j,E);return new Uint8Array(j.buffer)};W.scale.akN=function(K,E,x,c,J,i,P,_){var a=W.scale.T,j=W.scale.gI;
a.width=E;a.height=x;j.rect(0,0,E,x);j.translate(i,P);j.scale(c,J);if(_!=null)j.rotate(-_);j.fillStyle=K;
j.fill();return j.getImageData(0,0,E,x)};W.scale.u=function(K,E,x,c,J){var i=x.k==0&&x.o0==0,P=J.b,_=J.n,a=W.p.VD(E,x).C,j=W.p.Uz(a,i).Sl(J),e=j.x,d=j.y,I=e+j.b,v=d+j.n,n=~~E.x,C=~~E.y,T=~~E.b,o=~~E.n;
if(i)for(var s=d;s<v;s++){var Q=x.Ga*(s+.5)+x.Ju-C,X=~~Q*T;for(var B=e;B<I;B++){var M=x.Cc*(B+.5)+x.qW-n;
c[s*P+B]=K[X+~~M]}}else for(var s=d;s<v;s++)for(var B=e;B<I;B++){var S=B+.5,f=s+.5,M=x.Cc*S+x.o0*f+x.qW-n,Q=x.k*S+x.Ga*f+x.Ju-C;
if(0<=M&&0<=Q&&M<T&&Q<o)c[s*P+B]=K[~~Q*T+~~M]}};W.scale.fn=function(K,E,x,c,J,i){var P=new Uint32Array(K.buffer),_=new Uint32Array(c.buffer),a=J.b,j=J.n,e=W.p.VD(E,x).C,d=i?J:W.p.Uz(e).Sl(J),I=d.x,v=d.y,n=I+d.b,C=v+d.n,T=~~E.x,o=~~E.y,s=~~E.b,Q=~~E.n;
for(var X=v;X<C;X++)for(var B=I;B<n;B++){var M=B+.5,S=X+.5,f=x.Cc*M+x.o0*S+x.qW-T,F=x.k*M+x.Ga*S+x.Ju-o;
if(i){f=((s<<10)+f)%s;F=((Q<<10)+F)%Q}if(0<=f&&0<=F&&f<s&&F<Q)_[X*a+B]=P[~~F*s+~~f]}};W.scale.$i=function(K,E,x,c,J,i,P){if(P<1)W.scale.abY(K,E,x,c,J,i,Math.round(1/P));
else W.scale.as1(K,E,x,c,J,i,P)};W.scale.Mn=function(K,E,x,c,J,i,P,_){if(_)_=_.Sl(new cS(0,0,E,x));K=new Uint32Array(K.buffer);
c=new Uint32Array(c.buffer);if(P<1)W.scale.ayd(K,E,x,c,J,i,Math.round(1/P),_);else W.scale.axn(K,E,x,c,J,i,P)};
W.scale.as1=function(K,E,x,c,J,i,P){for(var _=0;_<x;_++)for(var a=0;a<E;a++){var j=K[_*E+a],e=Math.min(P,J-a*P),d=Math.min(P,i-_*P);
for(var y=0;y<d;y++)for(var I=0;I<e;I++)c[(P*_+y)*J+P*a+I]=j}};W.scale.abY=function(K,E,x,c,J,i,P){for(var _=0;
_<i;_++)for(var a=0;a<J;a++){var j=0,e=Math.min(P,E-a*P),d=Math.min(P,x-_*P);for(var y=0;y<d;y++)for(var I=0;
I<e;I++)j+=K[(P*_+y)*E+(P*a+I)];c[_*J+a]=Math.round(j/(e*d))}};W.scale.axn=function(K,E,x,c,J,i,P){for(var _=0;
_<x;_++)for(var a=0;a<E;a++){var j=K[_*E+a],e=Math.min(P,J-a*P),d=Math.min(P,i-_*P);for(var y=0;y<d;
y++)for(var I=0;I<e;I++)c[(P*_+y)*J+P*a+I]=j}};W.scale.anE=function(K,E,x){return(K>>>x&255)+(E>>>x&255)>>>1};
W.scale.f0=function(K,E){var x=W.scale.anE;return x(K,E,24)<<24|x(K,E,16)<<16|x(K,E,8)<<8|x(K,E,0)};
W.scale.age=function(K,E,x,c,J,i){var P=new Uint32Array(K.buffer),_=new Uint32Array(c.buffer);for(var a=0;
a<x;a++){for(var j=0;j<E;j++){var e=a*E+j,d=P[e],I=d,v=d,n=d;if(j<E-1)I=W.scale.f0(d,P[e+1]);if(a<x-1)v=W.scale.f0(d,P[e+E]);
if(j<E-1&&a<x-1)n=W.scale.f0(d,P[e+E+1]);var C=(a*J+j)*2;_[C]=d;_[C+1]=I;_[C+J]=v;_[C+J+1]=n}}if((J&1)==1)for(var a=0;
a<i;a++)_[a*J+J-1]=_[a*J+J-2];var T=J*(i-1);if((i&1)==1)for(var j=0;j<J;j++)_[T+j]=_[T-J+j]};W.scale.ayd=function(K,E,x,c,J,i,P,_){var a=0,j=J,e=0,d=i;
if(_){a=Math.floor(_.x/P);j=Math.ceil((_.x+_.b)/P);e=Math.floor(_.y/P);d=Math.ceil((_.y+_.n)/P)}for(var I=e;
I<d;I++)for(var v=a;v<j;v++){var n=0,C=0,T=0,o=0,s=Math.min(P,E-v*P),Q=Math.min(P,x-I*P);for(var y=0;
y<Q;y++)for(var X=0;X<s;X++){var B=K[(P*I+y)*E+P*v+X],M=B>>>24;n+=M;C+=M*(B>>>16&255);T+=M*(B>>>8&255);
o+=M*(B&255)}if(n!=0){var S=1/n;c[I*J+v]=n/(s*Q)<<24|C*S<<16|T*S<<8|o*S}else c[I*J+v]=0}};W.P=function(){function K(_,a,y){return(128&_[y-a-1]&_[y-a]&_[y-2]&_[y-1]&_[y+1]&_[y+a-1]&_[y+a])==0}function E(_,a,y){return(128&_[y-a-a]&_[y-a+1]&_[y+2]&_[y+a+1]&_[y+a+a])==0}function x(_,a,y){return(_[y-a]&_[y-1]&_[y+1]&_[y+a]&128)==0}function c(_,y){return(_[y]&128)!=0}function J(_,a,j,e){var y=0,d=j.b,I=j.n;
if(e)for(var v=0;v<I;v++)for(var n=0;n<d;n++){if(c(_,y)&&(n<2||v<2||n>d-3||v>I-3||((_[y-1]&128)==0||a[y-1]!=0)&&K(_,d,y)||E(_,d,y)))a[y]=255;
y++}else for(var v=0;v<I;v++)for(var n=0;n<d;n++){if(c(_,y)&&(n==0||v==0||n==d-1||v==I-1||x(_,d,y)))a[y]=255;
y++}}function i(_,a,j,e,d){var I=j.b,v=j.n,n=new Uint8Array(a.buffer),C=new Uint32Array(a.buffer);if(d)for(var T=2;
T<v-2;T++)for(var o=2;o<I-2;o++){var y=T*I+o;if(c(_,y)&&(((_[y-1]&128)==0||C[y-1]!=0)&&K(_,I,y)||E(_,I,y)))C[y]=e[(o+T&4)>>>2]}else for(var T=1;
T<v-1;T++)for(var o=1;o<I-1;o++){var y=T*I+o;if(c(_,y)&&x(_,I,y)){C[y]=e[(o+T&4)>>>2]}}}function P(_,a,j,e,d){var I=j.b,v=j.n,n=new Uint8Array(a.buffer),C=new Uint32Array(a.buffer),y=0;
if(e==1)for(var T=0;T<v;T++)for(var o=0;o<I;o++,y++){var s=_[y];C[y]=255-s>>>1<<24|255}else for(var T=0;
T<v;T++)for(var o=0;o<I;o++,y++){var s=_[y];C[y]=255<<24|(s<<16|s<<8|s)}}return{aw5:J,aud:i,a7Z:P}}();
W.Oh={};W.Oh.qm=function(K,E,x){var c,J;if(x==0){c=K.rect.clone();J=W.Oh.am4}if(x==1){c=K.rect.XN(E.rect);
J=W.Oh.XN}if(x==2){c=E.rect.clone();J=W.Oh.acv}if(x==3){c=K.rect.Sl(E.rect);J=W.Oh.Sl}if(x==4){c=K.rect.XN(E.rect);
J=W.Oh.aal}if(c.um())return null;var i=W.Q(c.O());W.XT(E.channel,E.rect,i,c);var P=W.Q(c.O());W.XT(K.channel,K.rect,P,c);
J(P,i,i);var _=W.UF(i,c);if(_.um())return null;if(!_.ac(c)){var a=W.Q(_.O());W.XT(i,c,a,_);i=a;c=_}return{channel:i,rect:c}};
W.Oh.am4=function(K,E,x){for(var y=0;y<K.length;y++)x[y]=K[y]};W.Oh.XN=function(K,E,x){for(var y=0;y<K.length;
y++)x[y]=Math.min(K[y]+E[y],255)};W.Oh.acv=function(K,E,x){for(var y=0;y<K.length;y++)x[y]=Math.max(E[y]-K[y],0)};
W.Oh.Sl=function(K,E,x){var c=1/255;for(var y=0;y<K.length;y++)x[y]=K[y]*E[y]*c};W.Oh.aal=function(K,E,x){var c=1/255;
for(var y=0;y<K.length;y++)x[y]=Math.min(K[y]+E[y],255)-K[y]*E[y]*c};W.aC=function(K,E){this.c=[];this.LI=[0];
this.fE=[];this.CD=[];this.P8=[0];this.Y_=[];this.iQ=[];this.rows=K;this.cols=E};W.aC.prototype.clone=function(){var K=this,E=K.rows,x=K.cols,c=new W.aC(E,x);
c.c=K.c.slice(0);c.LI=K.LI.slice(0);c.fE=K.fE.slice(0);c.CD=K.CD.slice(0);c.P8=K.P8.slice(0);c.Y_=K.Y_.slice(0);
c.iQ=K.iQ.slice(0);return c};W.aC.prototype.b8=function(K,E,x){var c=this.LI.length-1;for(var y=0;y<x;
y++){var J=K[y],i=E[y];this.c.push(J);this.fE.push(i);if(i==c){this.iQ.push(J==0?0:1/J)}else{this.CD.push(J);
this.Y_.push(i)}}this.LI.push(this.c.length);this.P8.push(this.CD.length)};W.aC.prototype.lo=function(K,E){var x=this,c=x.rows,J=x.c,i=x.fE;
if(E==null)E=new Array(c);for(var y=0;y<c;y++){var P=x.LI[y],_=x.LI[y+1],a=0;while((_-P&3)!=0){a+=J[P]*K[i[P]];
P++}for(var j=P;j<_;j+=4)a+=J[j]*K[i[j]]+J[j+1]*K[i[j+1]]+J[j+2]*K[i[j+2]]+J[j+3]*K[i[j+3]];E[y]=a}return E};
W.aC.prototype.multiply=function(K){return this.pp(K.vS())};W.aC.prototype.pp=function(K){var E=this,x=E.rows,c=E.cols,J=K.rows,i=new W.aC(x,J),P=E.fE,_=K.fE;
for(var y=0;y<x;y++){var a=[],j=[],e=E.LI[y],d=E.LI[y+1];for(var I=0;I<J;I++){var v=K.LI[I],n=K.LI[I+1],C=0,T=e,o=v;
while(T<d&&o<n){var s=Math.max(P[T],_[o]);while(T<d&&P[T]<s)T++;while(o<n&&_[o]<s)o++;if(T<d&&o<n&&P[T]==_[o])C+=E.c[T++]*K.c[o++]}if(C!=0){a.push(C);
j.push(I)}}i.b8(a,j,a.length)}return i};W.aC.prototype.vS=function(){var K=this.rows,E=this.cols,x=[];
for(var y=0;y<E;y++)x.push([[],[]]);var c=this.c,J=this.LI,i=this.fE;for(var y=0;y<K;y++){var P=J[y],_=J[y+1];
for(var a=P;a<_;a++){var j=x[i[a]];j[0].push(c[a]);j[1].push(y)}}var e=new W.aC(E,K);for(var y=0;y<E;
y++)e.b8(x[y][0],x[y][1],x[y][1].length);return e};W.aC.prototype.bY=function(){var K=this.rows,E=this.cols,x=new Array(K),c=this.c,J=this.LI,i=this.fE;
for(var y=0;y<K;y++){var P=x[y]=new Array(E);for(var _=0;_<E;_++)P[_]=0;var a=J[y],j=J[y+1];for(var e=a;
e<j;e++)P[i[e]]=c[e]}return x};W.aC.prototype.XQ=function(K,E,x,c,J){function i(S,E,f,F){var G=S.length;
for(var y=0;y<G;y++)F[y]=S[y]-E[y]*f}function P(S,E,f,F){var G=S.length,D=0;while((G-D&3)!=0){F[D]=S[D]+E[D]*f;
D++}for(var y=D;y<G;y+=4){F[y]=S[y]+E[y]*f;F[y+1]=S[y+1]+E[y+1]*f;F[y+2]=S[y+2]+E[y+2]*f;F[y+3]=S[y+3]+E[y+3]*f}}function _(S,E,f){var F=S.length;
for(var y=0;y<F;y++)f[y]=S[y]*E[y]}function a(S,E){var f=S.length,F=0,G=0;while((f-F&3)!=0){G+=S[F]*E[F];
F++}for(var y=F;y<f;y+=4)G+=S[y]*E[y]+S[y+1]*E[y+1]+S[y+2]*E[y+2]+S[y+3]*E[y+3];return G}var j=c!=null?2:1,e=Date.now(),d=0,I=this,v=K.slice(0),n=K.slice(0);
I.lo(K,n);i(E,n,1,v);var C=this.iQ;if(j==0){C=v.slice(0);C.fill(1)}var T=v.slice(0);_(C,v,T);var o=T.slice(0),s=a(v,T);
while(!0){I.lo(o,n);var Q=s/a(o,n);P(K,o,Q,K);i(v,n,Q,v);if((d&7)==0&&Math.sqrt(a(v,v))<x)break;if(j<=1)_(C,v,T);
else{var X=v.slice(0);c.az3(X,v);J.agb(T,X)}var B=a(v,T),M=B/s;P(T,o,M,o);s=B;d++}};W.aC.prototype.amD=function(K,E,x,c){var J=Date.now(),i=1.96,_=0;
if(x==null)x=5e-6;if(c==null)c=1e9;var P=1-i,hr=this.rows,a=this.CD,j=this.P8,e=this.Y_,d=this.iQ;while(!0){var I=0;
for(var y=0;y<hr;y++){var v=E[y],n=j[y],C=j[y+1];if(C-n==4)v-=a[n]*K[e[n]]+a[n+1]*K[e[n+1]]+a[n+2]*K[e[n+2]]+a[n+3]*K[e[n+3]];
else for(var T=n;T<C;T++)v-=a[T]*K[e[T]];var o=K[y]*P+d[y]*v*i,s=o-K[y];I+=s*s;K[y]=o}if(I/hr<x||Date.now()>J+c)break}};
W.aC.prototype.a56=function(K,E,x,c){var J=Date.now(),i=1.96,_=0;if(x==null)x=5e-5;if(c==null)c=1e9;
var P=1-i,hr=this.rows,a=this.CD,j=this.P8,e=this.Y_,d=this.iQ;while(!0){var I=0;for(var y=0;y<hr;y++){var v=y*3,n=E[v],C=E[v+1],T=E[v+2],o=j[y],s=j[y+1];
for(var Q=o;Q<s;Q++){var X=a[Q],B=e[Q]*3;n-=X*K[B+0];C-=X*K[B+1];T-=X*K[B+2]}var M=d[y]*i,S=K[v+0]*P+n*M,f=K[v+1]*P+C*M,F=K[v+2]*P+T*M,G=S-K[v+0],D=f-K[v+1],b=F-K[v+2];
I+=.4*G*G+.5*D*D+.1*b*b;K[v+0]=S;K[v+1]=f;K[v+2]=F}if(I/hr<x||Date.now()>J+c)break}};W.r9={};W.r9.w7=function(K,E,x){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:K},Vrtc:{t:"doub",v:E},Cnty:{t:"bool",v:x}}}};
W.r9.u=function(K,E){for(var y=0;y<K.length;y++){var x=K[y].v,c=E.iR(new iP(x.Hrzn.v,x.Vrtc.v));x.Hrzn.v=Math.round(c.x);
x.Vrtc.v=Math.round(c.y)}};W.r9.eR=function(K,E,x){var hr=K.length-1,c=W.rS.ML(hr+1,hr+2);for(var y=1;
y<hr;y++){c[y][y-1]=1/(K[y]-K[y-1]);c[y][y]=2*(1/(K[y]-K[y-1])+1/(K[y+1]-K[y]));c[y][y+1]=1/(K[y+1]-K[y]);
c[y][hr+1]=3*((E[y]-E[y-1])/((K[y]-K[y-1])*(K[y]-K[y-1]))+(E[y+1]-E[y])/((K[y+1]-K[y])*(K[y+1]-K[y])))}c[0][0]=2/(K[1]-K[0]);
c[0][1]=1/(K[1]-K[0]);c[0][hr+1]=3*(E[1]-E[0])/((K[1]-K[0])*(K[1]-K[0]));c[hr][hr-1]=1/(K[hr]-K[hr-1]);
c[hr][hr]=2/(K[hr]-K[hr-1]);c[hr][hr+1]=3*(E[hr]-E[hr-1])/((K[hr]-K[hr-1])*(K[hr]-K[hr-1]));W.rS.tS(c,x)};
W.r9.a5X=function(K,E,x,c){if(K<=E[0])return x[0];if(K>=E[E.length-1])return x[E.length-1];var y=1;while(E[y]<K)y++;
var J=E[y],i=E[y-1],P=x[y],_=x[y-1],a=(K-i)/(J-i),j=c[y-1]*(J-i)-(P-_),e=-c[y]*(J-i)+(P-_),d=(1-a)*_+a*P+a*(1-a)*(j*(1-a)+e*a);
return d};W.r9.on=function(K,E,x,c){var J={tV:[K[0]],XP:[E[0]],Dm:[]};c[0]=J;for(var y=1;y<K.length-1;
y++){J.tV.push(K[y]);J.XP.push(E[y]);if(x[y]==!1){W.r9.eR(J.tV,J.XP,J.Dm);J={tV:[K[y]],XP:[E[y]],Dm:[]}}c[y]=J}J.tV.push(K[y]);
J.XP.push(E[y]);W.r9.eR(J.tV,J.XP,J.Dm);c[y]=J};W.r9.Lw=function(K,E,x,c){if(K<=E[0])return x[0];if(K>=E[E.length-1])return x[E.length-1];
var y=1;while(E[y]<K)y++;var J=c[y-1];return W.r9.a5X(K,J.tV,J.XP,J.Dm)};W.r9.zS=function(K){var E={tV:[],XP:[],w3:[]};
for(var y=0;y<K.length;y++){E.tV[y]=K[y].v.Hrzn.v;E.XP[y]=K[y].v.Vrtc.v;E.w3[y]=K[y].v.Cnty?K[y].v.Cnty.v:!0}return E};
W.r9.ew=function(K,hr,E){var x=0,c=255;if(E){x=-1e9;c=1e9}var J=W.r9.zS(K),i=[];W.r9.on(J.tV,J.XP,J.w3,i);
var P=[];for(var y=0;y<hr;y++)P[y]=1/255*Math.max(x,Math.min(c,W.r9.Lw(y*(255/(hr-1)),J.tV,J.XP,i)));
return P};W.r9.a77=function(K,hr,E){var x=Math.round(K.length/20),c=hr-K.length,J=E?(K[x]-K[0])/x:0,i=E?K[0]-c*J:K[K.length-1],P=[];
for(var y=0;y<c;y++)P.push(i+y*J);return E?P.concat(K):K.concat(P)};W.r9.Qw=function(K,hr,E){var x=W.r9.zS(K),c=[];
W.r9.on(x.tV,x.XP,x.w3,c);var J=new Uint8Array(hr),i=hr/256;for(var y=0;y<hr;y++)J[y]=Math.max(0,Math.min(hr-1,W.r9.Lw(y*i,x.tV,x.XP,c)));
if(E){J[0]=0;if(J[1]>100)J[1]=.4*J[1];if(J[2]>150)J[1]=.7*J[2]}return J};W.r9.eI=function(K,E){var x=new Uint8Array(K.length);
for(var y=0;y<K.length;y++)x[y]=E[K[y]];return x};W.r9.yi=function(K,E,x){var c=document.createElement("canvas");
c.width=E;c.height=x;var J=c.getContext("2d"),i=W.r9.Qw(K,256);J.scale(E/255,x/255);J.fillStyle="#fff";
J.fillRect(0,0,255,255);J.fillStyle="#333";J.beginPath();J.moveTo(0,255);for(var y=0;y<i.length;y++)J.lineTo(y,255-i[y]);
J.lineTo(255,255);J.closePath();J.fill();return c.toDataURL()};W.style={};W.style.stroke=function(K,E,x,c){var J=x.b,i=x.n,P=new Float64Array(J*i);
W.style.Rm(K,P,J,i);W.style.kv(E,x,P,x,c)};W.style.kv=function(K,E,x,c,J){var i=E.Sl(c),P=i.b,_=i.n;
J+=.5;var a=i.x-E.x,j=i.y-E.y,e=E.b,d=i.x-c.x,I=i.y-c.y,v=c.b;for(var n=0;n<_;n++){var C=(n+I)*v+d,T=(n+j)*e+a;
for(var o=0;o<P;o++){var s=Math.max(0,Math.min(1,J-x[C+o]));K[T+o]=Math.round(s*255)}}};W.style.arn=function(K,E,x,c){for(var J=0;
J<x;J++)for(var i=0;i<E;i++){var P=J*E+i,_=0,a=0,j=K[P];if(i==0||J==0){_=K[P+1]-j;a=K[P+E]-j}else if(i==x-1||J==E-1){_=j-K[P-1];
a=j-K[P-E]}else{_=K[P+1]-K[P-1];a=K[P+E]-K[P-E]}if(_!=0||a!=0){var e=1/Math.sqrt(_*_+a*a);_*=e;a*=e}c[P+P]=_;
c[P+P+1]=a}};W.style.Rm=function(K,E,x,c){var J=0,i=x*c;for(var y=0;y<i;y++)J|=K[y];if(J==0){E.fill(1e9);
return}var P=W.style.PV(K,x,c);for(var _=0;_<c;_++)for(var a=0;a<x;a++){var y=_*x+a,j=P[y*2],e=P[y*2+1],d=(_+e)*x+a+j;
if(j==0&&e==0){E[y]=0;continue}var I=Math.sqrt(j*j+e*e),v=K[d]*(1/255),n=1/I,C=Math.abs(j)*n,T=Math.abs(e)*n;
if(T>C){var o=T;T=C;C=o}E[y]=I+W.style.acc(C,T,v)}};W.style.acc=function(K,E,x){return(.5-x)*K};W.style.PV=function(K,E,x,c){var J=new Int16Array(E*x*2);
W.style.alg(K,J,E,x,128);return J};W.style.alg=function(K,E,x,c,J){var i=new Int32Array(x*c);W.style.aw_(K,i,x,c,J);
W.style.auT(i,E,x,c)};W.style.aw_=function(K,E,x,c,J){var i=new Int32Array(c);for(var P=0;P<x;P++){var _=x+c;
for(var a=c-1;a>=0;a--){if(K[a*x+P]>J)_=0;else _++;i[a]=_}_=x+c;for(var a=0;a<c;a++){if(K[a*x+P]>J)_=0;
else _++;E[a*x+P]=_<i[a]?-_:i[a]}}};W.style.auT=function(K,E,x,c){var J=(x+c)*(x+c),i=new Float64Array(x),P=new Uint16Array(x);
for(var _=0;_<c;_++){var a=_*x,j=0;P[0]=0;i[0]=-J;i[1]=+J;for(var e=1;e<x;e++){var d=K[e+a]*K[e+a]+e*e,I=(d-(K[P[j]+a]*K[P[j]+a]+P[j]*P[j]))/(2*e-2*P[j]);
while(I<=i[j]){j--;I=(d-(K[P[j]+a]*K[P[j]+a]+P[j]*P[j]))/(2*e-2*P[j])}j++;P[j]=e;i[j]=I;i[j+1]=J}j=0;
for(var e=0;e<x;e++){while(i[j+1]<e)j++;var v=P[j]-e,n=K[P[j]+a],y=_*x+e<<1;E[y]=v;E[y+1]=n}}};W.style._V=function(K,E,x){if(x)for(var y=0;
y<K.length;y++){var c=K[y];if(c>0)K[y]=Math.max(0,Math.min(255,c+E*2*(W.style.WJ(y)-128)))}else for(var y=0;
y<K.length;y++){var c=K[y];if(c>0)K[y]=Math.max(0,Math.min(255,c+Math.min(c*3,E*2*(W.style.WJ(y)-128))))}};
W.style.WJ=function(K){K=K^61^K>>16;K=K+(K<<3);K=K^K>>4;K=K*668265261;K=K^K>>15;return K&255};W.CP={};
W.CP.ra=function(K,E,x){var c=K.canvas;if(c.width!=E||c.height!=x){c.width=E;c.height=x}};W.CP.Bz=function(K,E,x,c,J,i){W.CP.ra(K,E,x);
if(i==null)i=!1;var P=J.channel,_=J.rect,a=!J.isEnabled;if(E*x==0)return;var j=K.createImageData(E,x),e=j.data,d=1/E,I=1/x;
for(var y=0;y<x;y++)for(var v=0;v<E;v++){var n=y*E+v,C=n*4,T=Math.round(c.x+v*d*c.b),o=Math.round(c.y+y*I*c.n),s=0;
if(T<_.x||T>=_.x+_.b||o<_.y||o>=_.y+_.n)s=J.color;else s=P[(o-_.y)*_.b+(T-_.x)];s=255*(255-J.Kq)+s*J.Kq>>>8;
if(i)s=170+Math.round(.4*(s-170));e[C]=s;e[C+1]=s;e[C+2]=s;e[C+3]=255}K.putImageData(j,0,0);if(a)W.CP.L_(K,E,x)};
W.CP.HG=[];W.CP.agz=function(K,E,x,c){var J,i,P;J=Math.ceil(Math.max(E,x)*.35);i=E-J;P=x-J;var _=W.CP.HG[J];
if(_==null){var a=W.G3(J,J);a.fillStyle="#eeeeee";a.fillRect(0,0,J,J);var j=Math.round(J*.27),e=a.lineWidth=Math.max(1,Math.round(J*.12)),d=e/2;
a.strokeRect(1+d,1+d,J-e-2,J-e-2);a.strokeRect(j+d,j+d,J-j-j-e,J-j-j-e);_=W.CP.HG[J]=a.getImageData(0,0,J,J)}K.putImageData(_,i,P)};
W.CP.RP=[];W.CP.amp=function(K,E,x){var c,J,i;c=Math.ceil(Math.max(E,x)*.35);J=E-c;i=x-c;var P=W.CP.RP[c];
if(P==null){var _=W.G3(c,c);_.fillStyle="#eeeeee";_.fillRect(0,0,c,c);_.lineWidth=1;_.strokeRect(2.5,2.5,c-5,c-5);
var a=_.createImageData(3,3);W._m(a.data,4278190080);a.data[4*4]=a.data[4*4+1]=a.data[4*4+2]=238;_.putImageData(a,1,1);
_.putImageData(a,c-4,1);_.putImageData(a,1,c-4);_.putImageData(a,c-4,c-4);P=W.CP.RP[c]=_.getImageData(0,0,c,c)}K.putImageData(P,J,i)};
W.CP.a2E=function(K,E,x,c,J){W.CP.ra(K,E,x);var i=E/c.b;if(E*x==0)return;K.fillStyle="#999999";K.setTransform(1,0,0,1,0,0);
K.clearRect(0,0,E,x);var P=W.CP._3;if(P==null){P=W.CP._3=JSON.parse(JSON.stringify(dz.Ae.default));P.strokeEnabled.v=!0}P.strokeStyleLineWidth.v.val=1/i;
K.fillStyle="#ffffff";K.scale(i,i);W.r.Wh(J.i,K,0,0);W.r.Wh(J.i,K,0,0,P)};W.CP.NH=null;W.CP.Tc=function(K,E,x,c,J,i,P,_,a){W.CP.ra(K,E,x);
if(E*x==0)return;var j=Math.max(E,x),e=W.CP.NH;if(e==null||e.width<j||e.height<j){W.CP.NH=e=K.createImageData(j,j)}j=e.width;
var d=e.data,I=c.b/E,v=c.n/x,n=i.x,C=i.x+i.b,T=i.y,o=i.y+i.n;for(var y=0;y<x;y++)for(var s=0;s<E;s++){var Q=y*j+s,X=Q*4,B=~~(c.x+s*I),M=~~(c.y+y*v),S=W.Ej(y,s,2);
if(B<n||B>=C||M<T||M>=o||a){d[X]=S;d[X+1]=S;d[X+2]=S;d[X+3]=255}else{var f=(M-i.y)*i.b+(B-i.x)<<2,F=J[f+3]*(1/255);
d[X]=J[f+0]*F+S*(1-F);d[X+1]=J[f+1]*F+S*(1-F);d[X+2]=J[f+2]*F+S*(1-F);d[X+3]=255}}if(_!=null)for(var y=0;
y<d.length;y+=4)d[y]=d[y+1]=d[y+2]=d[y+_];K.putImageData(e,0,0);if(P)W.CP.L_(K,E,x)};W.CP.a34=function(K,E,x,c){W.CP.ra(K,E,x);
K.fillStyle=W.CP.Et(c.Clr.v);K.fillRect(0,0,E,x);W.CP._9(K,E,x)};W.CP.Gz=null;W.CP.a8c=function(K,E,x,c){W.CP.ra(K,E,x);
var J=K.canvas.width,i=K.canvas.height,P=W.CP.Gz;if(P==null||P.width!=J||P.height!=i){K.fillStyle="#ffffff";
K.fillRect(0,0,E,x);K.fillStyle="#000000";K.font=""+x*.7+"px serif";K.fillText("T",(E-x*.43)/2,x*.75);
K.fillText("T",(E-x*.43)/2,x*.75);W.CP.Gz=K.getImageData(0,0,J,i)}else K.putImageData(P,0,0)};W.CP.as$=function(K,E,x){W.CP.ra(K,E,x);
K.clearRect(0,0,E,x);K.font=x*.7+"px serif";K.fillText(":(",(E-x*.43)/2,x*.7)};W.CP.ajK=function(K,E,x,c){W.CP.ra(K,E,x);
var J=c2.get(c),i=K.canvas.width,P=W.CP.uN[i+J];if(P==null){var _=PIMG["adj/"+J],a=gr.ek(_),j=UPNG.decode(a.buffer),e=new Uint8Array(UPNG.toRGBA8(j)[0]),d=new cS(0,0,160,160),I=0,v=i-I*2,n=$.Xq.iH([e,d],new iQ(v/160,0,0,v/160,0,0)),C=new cS(0,0,i,i),T=W.Q(C.O()*4);
W.h.Nh("norm",n.buffer,n.rect,T,C,n.rect,1);P=W.CP.uN[i+J]=new ImageData(new Uint8ClampedArray(T.buffer),i,i)}K.putImageData(P,0,0)};
W.CP.uN={};W.CP.a3W=function(K,E,x,c){W.CP.ra(K,E,x);var J=K.canvas.width,i=K.canvas.height,P=K.getImageData(0,0,J,i);
W.M.iS(c.Grad.v,new Uint8Array(P.data.buffer),new cS(0,0,J,i),[1/J,0,0,1/i],J/2,i/2,!1,0,16711680,65280);
K.putImageData(P,0,0);W.CP._9(K,E,x)};W.CP.avr=function(K,E,x,c,J){W.CP.ra(K,E,x);var i=K,P=bd.I6(c.Ptrn.v,J.add.Patt);
if(P==null)return;var _=P.gW[1];W.CP.Tc(K,E,x,_,P.gW[0],_,!1);W.CP._9(i,E,x)};W.CP.L_=function(K,E,x){K.strokeStyle="#bb0000";
K.lineWidth=3;K.beginPath();K.moveTo(E*.15,x*.15);K.lineTo(E*.85,x*.85);K.moveTo(E*.85,x*.15);K.lineTo(E*.15,x*.85);
K.closePath();K.stroke()};W.CP._9=function(K,E,x){K.fillStyle="#eeeeee";K.fillRect(0,x*.75,E,x*.25);
K.beginPath();K.moveTo(0,x*.75);K.lineTo(E,x*.75);K.moveTo(E*.1,x*.875);K.lineTo(E*.9,x*.875);K.moveTo(E*.65,x*.825);
K.lineTo(E*.65,x*.95);K.closePath();K.stroke()};W.CP.Et=function(K){var E=W.M.Et(K),x=Math.round(E.o)<<16|Math.round(E.J)<<8|Math.round(E.k);
return"#"+W.E8(x)};W.r={};W.r.Wk=function(K,E,x){var c=[],J=-1;for(var y=0;y<K.length;y++){var i=K[y];
if((i.type==0||i.type==3)&&i.qX!=-1)J++;if(i.type>5||i.type==0||i.type==3)continue;if(E!=null&&E.indexOf(J)==-1)continue;
if(x!=null&&x.indexOf(y)==-1)continue;c.push(i.ri.x);c.push(i.ri.y);c.push(i.H.x);c.push(i.H.y);c.push(i.XK.x);
c.push(i.XK.y)}return c};W.r.Ai=function(K,E,x,c){var J=0,i=-1;for(var y=0;y<E.length;y++){var P=E[y];
if((P.type==0||P.type==3)&&P.qX!=-1)i++;if(P.type>5||P.type==0||P.type==3)continue;if(x!=null&&x.indexOf(i)==-1)continue;
if(c!=null&&c.indexOf(y)==-1)continue;P.ri.tn(K[J],K[J+1]);P.H.tn(K[J+2],K[J+3]);P.XK.tn(K[J+4],K[J+5]);
J+=6}};W.r.it=function(K,E,x,c){var J=W.r.Wk(K,x,c);W.p.u(J,E,J);W.r.Ai(J,K,x,c)};W.r.ahC=function(K,E,x,c){var J=W.r.Wk(K,x,c);
W.K.u(E,J);W.r.Ai(J,K,x,c)};W.r.aew=function(K,E,x,c){if(c==null){var J=W.r.akW(K,40,x);for(var y=0;
y<J.length;y++)K[y]=J[y]}var i=W.r.Wk(K,x,c);W.HN.u(E,i,W.p.hp(i));W.r.Ai(i,K,x,c)};W.r.akW=function(K,E,x){var c=[],J=-1;
for(var y=0;y<K.length;y++){var i=K[y],P=i.length;if(i.type>5){c.push(JSON.parse(JSON.stringify(i)));
continue}i=JSON.parse(JSON.stringify(i));c.push(i);if(i.qX!=-1)J++;if(x&&x.indexOf(J)==-1){c=c.concat(K.slice(y+1,y+1+P))}else{var _=W.r.adg(K,y+1,P);
_=W.p.nL(_,E);var a=W.r.a0V(_);i.length=a.length;for(var j=0;j<a.length;j++)c.push(a[j])}y+=P}return c};
W.r.adg=function(K,E,x){var c={W:["M"],C:[]},J=K[E],i=K[E+x-1];c.C.push(J.H.x,J.H.y);for(var y=1;y<x;
y++){var P=K[E+y-1],_=K[E+y];c.W.push("C");c.C.push(P.XK.x,P.XK.y,_.ri.x,_.ri.y,_.H.x,_.H.y)}c.W.push("C");
c.C.push(i.XK.x,i.XK.y,J.ri.x,J.ri.y,J.H.x,J.H.y);return c};W.r.a0V=function(K){var E=[],x=K.W,c=K.C,J=0,hr=c.length;
E.push({type:2,ri:new iP(c[hr-4],c[hr-3]),H:new iP(c[0],c[1]),XK:new iP(c[2],c[3])});for(var y=0;y<x.length-2;
y++){var i=y*6+4;E.push({type:2,ri:new iP(c[i],c[i+1]),H:new iP(c[i+2],c[i+3]),XK:new iP(c[i+4],c[i+5])})}return E};
W.r.atM=function(K){for(var y=0;y<K.length;y++){if(K[y].type>5)continue;var E=K[y].length;if(!(E==4||E==6||E==8)){y+=E;
continue}for(var x=0;x<E;x++){var c=K[y+1+x],J=K[y+1+(x+1)%E],i=Math.min(c.H.x,J.H.x),P=Math.min(c.H.y,J.H.y),_=0,a=0;
if(c.H.x<J.H.x){_=c.H.y-P;a=_-(J.H.x-i)}else{_=J.H.y-P;a=_-(c.H.x-i)}if(Math.abs(a)<.2*_)return _}}return-1};
W.r.a3=function(K,E,x){function c(I,v){var n=Math.min(I.x,v.x),C=Math.min(I.y,v.y),T=Math.max(I.x+I.b,v.x+v.b),o=Math.max(I.y+I.n,v.y+v.n);
return new cS(n,C,T-n,o-C)}var J=null,i=-1,P=!W.r.LZ(K);for(var y=0;y<K.length;y++){var _=K[y];if(_.type>5)continue;
if((_.type==0||_.type==3)&&_.qX!=-1)i++;if(E!=null&&E.indexOf(i)==-1)continue;if(y==K.length-1)break;
var a=_.type==3,j=_.length,e=_.qX,d=W.r.nb(K,y+1,j,a);if(J==null)J=d;else if(x)J=c(J,d);else if(P){if(E!=null||e==0||e==-1||e==2)J=c(J,d);
else if(e==1)J=J;else if(e==3){J=d;P=!1}}else{if(E!=null||e==0||e==-1||e==1)J=c(J,d);else if(e==2)J=J;
else if(e==3)J=J.Sl(d)}y+=j}if(J==null||J.b<0||J.n<0)J=new cS(0,0,0,0);return J};W.r.ayc=new Float64Array(4);
W.r.nb=function(K,y,E,x){var c=W.r.ayc;c[0]=1e30;c[1]=1e30;c[2]=-1e30;c[3]=-1e30;var J=K[y+E-1];if(!x)W.r.T0(J.H.x,J.H.y,J.XK.x,J.XK.y,K[y].ri.x,K[y].ri.y,K[y].H.x,K[y].H.y,c);
for(var i=y;i<y+E-1;i++){var P=K[i],_=K[i+1];W.r.T0(P.H.x,P.H.y,P.XK.x,P.XK.y,_.ri.x,_.ri.y,_.H.x,_.H.y,c)}return new cS(c[0],c[1],c[2]-c[0],c[3]-c[1])};
W.r.T0=function(K,E,x,c,J,i,P,_,a){if(K==x&&E==c&&J==P&&i==_){a[0]=Math.min(a[0],Math.min(K,P));a[1]=Math.min(a[1],Math.min(E,_));
a[2]=Math.max(a[2],Math.max(K,P));a[3]=Math.max(a[3],Math.max(E,_));return}var j=K,e=E,d=K,I=E,v=40,n=1/(v-1);
for(var C=0;C<v;C++){var T=C*n,o=1-T,s=o*o*o,Q=3*o*o*T,X=3*o*T*T,B=T*T*T,M=s*K+Q*x+X*J+B*P,S=s*E+Q*c+X*i+B*_;
if(M<j)j=M;else if(M>d)d=M;if(S<e)e=S;else if(S>I)I=S}if(j<a[0])a[0]=j;if(e<a[1])a[1]=e;if(d>a[2])a[2]=d;
if(I>a[3])a[3]=I};W.r.AQ=function(K,E){var x=K.length-3,c=E%x,J=Math.floor(c);if(E<0||J>=x)return null;
var i=K[3+J],P=K[3+(J+1)%x],_=i.H,a=i.XK,j=P.ri,e=P.H,d=c-J,I=1-d,v=I*I*I*_.x+3*I*I*d*a.x+3*I*d*d*j.x+d*d*d*e.x,n=I*I*I*_.y+3*I*I*d*a.y+3*I*d*d*j.y+d*d*d*e.y;
return new iP(v,n)};W.r.nQ=function(K,E){var x=W.p.aS(K),c=x.v6;x.v6=Typr.U.pathToSVG({crds:c.C,cmds:c.W},E==null?2:E);
return x};W.r.hz=function(K){W.r.cC();var E,x=W.r.mC(K),c=[];for(var y=0;y<x.length;y++){var J=x[y][0],i=x[y][1];
if(Math.abs(J.area)<1e-5)c.push(J);else if(E==null)E=J;else{if(!J.closed)J.closed=!0;E=E[i](J);E.remove()}}if(E==null)E=new paper.CompoundPath(c);
else{if(E.segments)E=new paper.CompoundPath(E);for(var y=0;y<c.length;y++){E.addChild(c[y])}}var P=K.slice(0,2);
P=P.concat(W.r.oK(E));if(P[2])P[2].qX=1;for(var y=3;y<P.length;y++)if(P[y].qX!=null)P[y].qX=-1;return P};
W.r.cC=function(){if(W.r.ak7==null){var K=document.createElement("canvas");paper.setup(K);W.r.ak7=!0}};
W.r.ahZ=function(K,E){W.r.cC();var x=[],c=W.r.mC(K),J=new paper.Path.Rectangle(new paper.Rectangle(E.x,E.y,E.b,E.n));
J.remove();J.fillColor=new paper.Color(1,0,0);for(var y=0;y<c.length;y++){if(J.intersects(c[y][0])||J.contains(c[y][0].children[0].segments[0].point))x.push(y)}return x};
W.r.ds=function(K,E,x,c){W.r.cC();var J=x?{curves:!0,tolerance:c}:null,i=new paper.Point(E.x,E.y),P=W.r.mC(K);
for(var y=P.length-1;y>=0;y--){var _=P[y][0],a=_.hitTest(i,J);if(a!=null)return{JD:y,KS:x?a.location.index:null,hP:x?a.location.time:0}}return{JD:-1}};
W.r.EU=function(K,E,x){var c=[[],[],[]];for(var y=0;y<K.length;y++){var J=K[y];if(J.type>5||J.type==0||J.type==3)continue;
var i=x==null?!0:x.indexOf(y)!=-1;if(E.YO(J.H))c[0].push(y);if(E.YO(J.ri)&&i)c[1].push(y);if(E.YO(J.XK)&&i)c[2].push(y)}return c};
W.r.aj3=function(K,E,x){var c=K[E];for(var J=E+1;J<x;J++)K[J-1]=K[J];K[x-1]=c};W.r.afY=function(K,E,x,c){var y,J,i,P=0;
K=K.slice(0);E.sort(function(n,C){return n-C});i=-1;for(y=2;y<K.length;){var _=K[y],a=_.length;if(_.qX!=-1)i++;
var j=P;while(j<E.length&&E[j]<y+1+a)j++;if(P!=j){var e=E.slice(P,j);P=j;for(J=0;J<a;J++)if(e.indexOf(y+1+J)!=-1)K[y+1+J]=null;
if(_.type==0){var d=e[0]-(y+1);while(d!=0){W.r.aj3(K,y+1,y+1+a);d--}}var I=_;I.length=0;J=0;while(J<a&&K[y+1+J]==null)J++;
while(J<a){var v=K[y+1+J];if(v!=null)I.length++;else if(J<a+1&&K[y+1+J+1]){I=K[y+1+J]={type:0,qX:-1,length:0,At:0,Tw:0,Im:1}}J++}if(c)for(J=-1;
J<a;J++)if(K[y+1+J]&&K[y+1+J].type<3)K[y+1+J].type+=3;W.X._D(x,i)}y+=1+a}for(y=0;y<K.length;y++)if(K[y]==null){K.splice(y,1);
y--}i=0;for(y=2;y<K.length;y++){var _=K[y];if(_.length==0){if(K[y+1]&&K[y+1].qX==-1)K[y+1].qX=_.qX;else if(_.qX!=-1)x.splice(i,1);
K.splice(y,1);y--}else if(_.length!=null&&_.qX!=-1)i++}return K};W.r.agJ=function(K,E){var x=K.slice(0,2),c=-1;
for(var y=2;y<K.length;y++){if((K[y].type==0||K[y].type==3)&&K[y].qX!=-1)c++;if(E.indexOf(c)==-1)x.push(K[y])}return x};
W.r.ae7=function(K,E){var x=K.slice(0,2),c=-1;for(var y=2;y<K.length;y++){if((K[y].type==0||K[y].type==3)&&K[y].qX!=-1)c++;
if(E.indexOf(c)!=-1)x.push(K[y])}return x};W.r.asw=function(K){var E=0;for(var y=0;y<K.length;y++)if(K[y].type==0||K[y].type==3)E=y;
return K[E]};W.r.kT=function(K){var E=-1;for(var y=0;y<K.length;y++)if((K[y].type==0||K[y].type==3)&&K[y].qX!=-1)E++;
return E+1};W.r.J2=function(K,E,x){var c=-1;for(var y=0;y<K.length;y++)if((K[y].type==0||K[y].type==3)&&(x||K[y].qX!=-1)){c++;
if(c==E)return y}return-1};W.r._y=function(K,E,x){var c=-1;for(var y=0;y<K.length;y++)if((K[y].type==0||K[y].type==3)&&(x||K[y].qX!=-1)){if(y>=E)return c;
c++}return c};W.r.Hz=function(K,E){var x=-1,c=0;for(var y=0;y<K.length;y++){if((K[y].type==0||K[y].type==3)&&K[y].qX!=-1)x++;
if(x==E)c++}return c};W.r.awz=function(K){var E=180;for(var y=0;y<K.length;y++){if(K[y].type!=0&&K[y].type!=3)continue;
var x=K[y].length;if(x<3)continue;for(var c=0;c<x;c++){var J=K[y+1+(c-1+x)%x],i=K[y+1+c],P=K[y+1+(c+1)%x],_=i.H,a=i.ri.ac(_)?J.XK:i.ri,j=i.XK.ac(_)?P.ri:i.XK;
if(_.ac(a)||_.ac(j))continue;var e=a.x-_.x,d=a.y-_.y,I=j.x-_.x,v=j.y-_.y,a=Math.atan2(a.y-_.y,a.x-_.x)*180/Math.PI,j=Math.atan2(j.y-_.y,j.x-_.x)*180/Math.PI,n=Math.abs(j-a)%360,C=n>180?360-n:n;
if(C<E)E=C}}return E*Math.PI/180};W.r.oK=function(K){var E=K.segments?[K]:K.children,x=[];for(var y=0;
y<E.length;y++){var c=E[y],J=c.segments,i=c.closed?0:3,P=x.length,_=null;if(J.length<=1)continue;x.push({type:i,length:J.length,qX:0,Im:2});
for(var a=0;a<J.length;a++){var j=J[a],e=new iP(j.handleIn.x,j.handleIn.y),d=new iP(j.handleOut.x,j.handleOut.y),I=new iP(j.point.x,j.point.y),v={type:i+1,ri:I.add(e),H:I,XK:I.add(d)};
if(_==null)_=v;x.push(v);if(a+1==J.length&&iP.B4(_.H,v.H)<1e-5){x.pop();x[P].length--;_.ri=v.ri;if(i==3)for(var n=P;
n<x.length;n++)x[n].type-=3}}}return x};W.r.mC=function(K){W.r.cC();var E=[],x,c=new paper.Color(1,0,0);
function J(v,_){v.remove();v.closed=!_;v.fillRule="evenodd"}for(var y=0;y<K.length;y++){if(K[y].type>5)continue;
var i=K[y].length,P;if(y==K.length-1)break;var _=K[y].type==3;if(y==2){if(!W.r.zG(K))P="subtract";else P="unite"}else{if(K[y].qX==0)P="exclude";
if(K[y].qX==1)P="unite";if(K[y].qX==2)P="subtract";if(K[y].qX==3)P="intersect"}if(K[y].qX!=-1){x=new paper.CompoundPath;
E.push([x,P]);x.fillRule="evenodd";x.fillColor=c}var a=[];for(var j=0;j<i;j++){var e=K[y+1+j],d=e.ri.aZ(e.H),I=e.XK.aZ(e.H);
a.push([[e.H.x,e.H.y],[d.x,d.y],[I.x,I.y]])}var v=new paper.Path(a);J(v,_);x.addChild(v);y+=i}return E};
W.r.ya=function(K){for(var y=0;y<K.length;y++){var E=K[y];if(E.H==null)continue;if(!E.H.ac(E.ri)||!E.H.ac(E.XK))return!1}return!0};
W.r.adE=function(K){if(K.length<=5)return 0;var E=0,x=K.length-3-1;for(var y=0;y<x;y++){var c=K[3+y],J=K[3+y+1];
if(c.type==0||J.type==0)return 0;E+=(J.H.x-c.H.x)*(c.H.y+J.H.y)}E+=(K[3].H.x-K[3+x].H.x)*(K[3+x].H.y+K[3+1].H.y);
return-E*.5};W.r.LZ=function(K){var E=K[2],x=!1;if(K.length==2)x=K[1].all==0;else if(K[1].all==1){if(E.qX==1||E.qX==3)x=!0;
else x=!1}else{if(E.qX==1||E.qX==3||E.qX==0)x=!0;else x=!1}return x};W.r.zG=function(K){var E=W.r.LZ(K);
for(var y=3;y<K.length;y++)if(K[y].qX==3)E=!0;return E};W.r.as3=0;W.r.pf=0;W.r.aj2=0;W.r.a3D=function(K,E,x,c){if(x.um())return;
var J=x.O(),o=16384;W.r.as3+=J;if(J>W.r.pf){W.r.pf=J}var i=x.b,P=x.n;if(c==null&&W.r.ya(K)&&K[2]&&K[2].qX!=2){var _=!0;
for(var y=2;y<K.length;)if(K[y].length==2)y+=3;else{_=!1;break}if(_){return}if(W.r.GS(K)){E.fill(255);
var a=W.r.a3(K);if(a.O()!=J){var j=1-(a.x-x.x),e=1-(a.y-x.y),d=1-(x.x+x.b-(a.x+a.b)),I=1-(x.x+x.n-(a.x+a.n)),v=~~(j*255),n=~~(d*255),C=~~(e*255),T=~~(I*255);
E.fill(C,0,i);E[0]=~~(j*e*255);E[i-1]=~~(d*e*255);for(var y=i;y<J;y+=i){E[y]=v;E[y+i-1]=n}E.fill(T,(P-1)*i,P*i);
E[J-i]=~~(j*I*255);E[J-1]=~~(d*I*255)}return}}var s=Math.ceil(i/o),Q=Math.ceil(P/o),X=Math.ceil(i/s),B=Math.ceil(P/Q),M=Date.now();
for(var S=0;S<Q;S++)for(var f=0;f<s;f++){var F=f*X,G=S*B,D=X,b=B,H=W.G3(D,b);if(!W.r.LZ(K))H.fillRect(0,0,D,b);
W.r.Wh(K,H,-x.x-F,-x.y-G,c);var q=new Uint8Array(H.getImageData(0,0,D,b).data.buffer);if(D==i&&b==P)W.Bp(q,E,3);
else W.Jx(q,new cS(F,G,D,b),E,new cS(0,0,i,P))}};W.r.anJ=function(K){var E=!1,x=!1,c=0,J=!1;for(var y=0;
y<K.length;y++){var i=K[y].qX;if(i!=null){c++;if(i==-1)E=!0;if(i==1||i==2||i==3)x=!0;if(K[y].type==0)J=!0}}if(!E&&c<20&&J&&x)K=W.r.hz(K);
return K};W.r.Wh=function(K,E,x,c,J,i){if(J!=null){K=W.r.anJ(K)}for(var y=0;y<K.length;y++){if(K[y].type>5)continue;
var P=K[y].length;if(P==0)continue;if(y==K.length-1)break;var _=K[y].type==3,a=K[y].qX;if(a!=-1&&J==null){var j=["xor","source-over","destination-out","source-in"][a];
E.globalCompositeOperation=j}if(K[y].qX!=-1){E.beginPath();if(J){W.r.LB(J,E)}}W.r.a0H(E,K,y+1,P,x,c,_);
if(_){}else E.closePath();if(K[y+1+P]==null||K[y+1+P].qX!=-1){if(J){if(i)E.clip();E.stroke()}else E.fill(a==-1?"nonzero":"evenodd")}y+=P}E.globalCompositeOperation="source-over"};
W.r.LB=function(K,E,x){if(x==null)x=1;var c=K.strokeStyleLineWidth.v.val*x,J=K.strokeStyleLineAlignment.v.strokeStyleLineAlignment,i=K.strokeStyleLineCapType.v.strokeStyleLineCapType,P=K.strokeStyleLineJoinType.v.strokeStyleLineJoinType,_=K.strokeStyleMiterLimit.v,a=[],j=K.strokeStyleLineDashSet.v;
for(var e=0;e<j.length;e++)a.push(j[e].v.val*c);E.setLineDash(a);E.lineCap=["butt","round","square"][dz.Ae.cG.indexOf(i)];
E.lineJoin=["miter","round","bevel"][dz.Ae.join.indexOf(P)];E.lineWidth=dz.Ae.Zi.indexOf(J)==1?c:c*2;
E.miterLimit=_};W.r.a0H=function(K,E,y,x,c,J,i){var P=E[y],_=null;K.moveTo(P.H.x+c,P.H.y+J);for(var a=y;
a<y+x-1;a++){P=E[a];_=E[a+1];K.bezierCurveTo(P.XK.x+c,P.XK.y+J,_.ri.x+c,_.ri.y+J,_.H.x+c,_.H.y+J)}if(!i){P=E[a];
_=E[y];K.bezierCurveTo(P.XK.x+c,P.XK.y+J,_.ri.x+c,_.ri.y+J,_.H.x+c,_.H.y+J)}};W.r.avf=function(K,E){var x=[],c=E?4:1;
for(var y=0;y<K.length;y+=2){var J=new iP(K[y],K[y+1]);x.push({type:c,ri:J.clone(),H:J.clone(),XK:J.clone()})}return x};
W.r.XZ=function(K,E,x){var c=W.p.hp(K),J=Math.sqrt(Math.sqrt(c.O()))*.2,i=.2;K=K.slice(0);var P=K.length,_=E?0:2;
for(var a=0;a<5;a++)for(var y=_;y<K.length-_;y+=2){var j=(y-2+P)%P,e=(y+2)%P,d=K[y],I=K[y+1],v=(K[j]+K[e])*.5,n=(K[j+1]+K[e+1])*.5;
K[y]=d+(v-d)*i;K[y+1]=I+(n-I)*i}if(x)return W.r.Ic.y0(K,null,!E);W.r.cC();var C=new paper.Path;C.remove();
C.closed=E;for(var y=0;y<K.length;y+=2)C.add(new paper.Point(K[y],K[y+1]));C.simplify(J);var T=[{type:6},{type:8,all:0}];
T=T.concat(W.r.oK(C));return T};W.r.ON=function(K,E,x){var c=K[E].length,J=K[E].type,i=0,P=K.slice(E+1,E+1+c);
for(var y=0;y<c;y++){var _=x[(y-1+c)%c],a=x[(y+1+c)%c],j=x[y];if(j!=0){var e=P[(y-1+c)%c].H,d=P[(y+0+c)%c].H,I=P[(y+1+c)%c].H,v=iP.B4(d,e),n=iP.B4(d,I),C=W.p.pF(e.x,e.y,d.x,d.y,I.x,I.y,j)[0],T=Math.min(C,_==0?v:v/2,a==0?n:n/2);
j*=T/C;var o=W.p.agC(e.x,e.y,d.x,d.y,I.x,I.y,j),s={type:J+1,ri:new iP(o[2],o[3]),H:new iP(o[2],o[3]),XK:new iP(o[4],o[5])},Q={type:J+1,ri:new iP(o[6],o[7]),H:new iP(o[8],o[9]),XK:new iP(o[8],o[9])};
K.splice(E+i+1,1,s,Q);i++;K[E].length++}i++}};W.r.ya=function(K){for(var y=0;y<K.length;y++){var E=K[y],x=E.type;
if(x==1||x==2||x==4||x==5)if(!E.H.ac(E.ri)||!E.H.ac(E.XK))return!1}return!0};W.r.GS=function(K){if(K.length!=7||K[2].length!=4||!W.r.ya(K))return!1;
for(var y=0;y<4;y++){var E=!0;for(var x=0;x<4;x++){var c=K[3+(y+x&3)],J=K[3+(y+x+1&3)];if(c.H.x!=J.H.x&&c.H.y!=J.H.y)E=!1}if(E)return!0}return!1};
W.r.a86=function(K){if(K.length<6)return 0;var E=K.length-2,x=0;for(var y=0;y<E;y+=2)x+=(K[y+2]-K[y])*(K[y+1]+K[y+3]);
x+=(K[0]-K[E])*(K[E+1]+K[1]);return-x*.5};W.r.pQ=function(K){K=Z.Wf.Z8(K);var E=W.r.kT(K);for(var x=0;
x<E;x++){var c=W.r.J2(K,x)+1,J=K[c-1].length,i=[];for(var y=0;y<J;y++){var P=K[c+y].H;i.push(P.x,P.y)}var _=W.r.a86(i);
if(_<0)W.r.abp(K,c-1)}return K};W.r.abp=function(K,E){var x=E+1,c=K[E].length,J=[];for(var y=0;y<c;y++){var i=K[x+y],P=i.ri;
i.ri=i.XK;i.XK=P;J.push(i)}for(var y=0;y<c;y++)K[x+y]=J[c-1-y]};W.r.Ic={};W.r.Ic.y0=function(K,E,x){var c=[{type:6},{type:8,all:0}],J=null;
c.push({type:x?3:0,qX:1,length:0,At:0,Tw:0,Im:1});if(E==0||E==null)J=null;else if(E instanceof Array)J=E;
else{J=[];for(var y=0;y<K.length;y+=2)J.push(E)}c=c.concat(W.r.avf(K,x));c[2].length=c.length-3;if(J)W.r.ON(c,2,J);
return c};W.r.Ic.aec=function(K,E,x,c,J){var i=[],P=[],_=.553,a=1,j=-1;i.push({type:1,ri:new iP(0,_),H:new iP(0,0),XK:new iP(0,-_)});
J+=2;for(var y=0;y<J;y++){var e={type:1};if(y==0){e.H=new iP(1,-1);e.ri=new iP(1-_,-1);e.XK=new iP(1+_,-1)}else{var d=-(y+2)*Math.PI/2,I=1+((y&1)==1?y-1:y),v=Math.sin(d),n=Math.cos(d);
a+=I*(v-n);j+=I*(n+v);e.H=new iP(a,j);e.ri=new iP(a+I*n*_,j-I*v*_);if((y&1)==1)I+=2;e.XK=new iP(a-I*n*_,j+I*v*_)}var C={type:1,ri:new iP(-e.XK.x,-e.XK.y),H:new iP(-e.H.x,-e.H.y),XK:new iP(-e.ri.x,-e.ri.y)};
i.push(e);if(y<J-2)P.push(C)}P.reverse();i=i.concat(P);var T=[{type:6},{type:8,all:0}];T.push({type:0,qX:1,length:i.length,At:0,Tw:0,Im:1});
T=T.concat(i);var o=new iQ(x/J,0,0,x/J,0,0);o.rotate(c);o.translate(K,E);W.r.it(T,o);return T};W.r.Ic.Rect=function(K,E,x,c,J){var i=[K,E,K+x,E,K+x,E+c,K,E+c];
return W.r.Ic.y0(i,J)};W.r.Ic.Pn=function(K,E,x,c,J,i,P,_){var a=[],j=2*Math.PI/J;for(var y=0;y<J;y++)a.push(Math.cos(y*j-c),Math.sin(y*j-c));
if(P!=null){var e=W.p.hp(a),d=e.b,I=e.n,v=P/(d/2),n=_/(I/2);for(var y=0;y<a.length;y+=2){a[y]=(a[y]-(e.x+d/2))*v;
a[y+1]=(a[y+1]-(e.y+I/2))*n}x=1}var C=new iQ(x,0,0,x,0,0);C.translate(K,E);W.p.u(a,C,a);return W.r.Ic.y0(a,i)};
W.r.Ic.lQ=function(K,E,x,c,J,i,P){var _=[],a=Math.PI/J;for(var y=0;y<J*2;y++){var j=(y&1)==0?1:P;_.push(j*Math.cos(y*a),j*Math.sin(y*a))}var e=new iQ(x,0,0,x,0,0);
e.rotate(c);e.translate(K,E);W.p.u(_,e,_);return W.r.Ic.y0(_,i)};W.r.Ic.yo=function(K,E,x,c,J){return W.r.Ic.lk(0,K,E,x,c,J)};
W.r.Ic.aps=function(K,E,x,c,J,i){return W.r.Ic.lk(1,K,E,x,c,J,i)};W.r.Ic.bp=function(K,E,x,c,J,i){return W.r.Ic.lk(2,K,E,x,c,J,i)};
W.r.Ic.lk=function(K,E,x,c,J,i,P){var _=Math.sqrt((c-E)*(c-E)+(J-x)*(J-x)),a;i/=2;if(K==0)a=[-i,0,i,0,i,_,-i,_];
if(K==1){var j=i*2*P*1.3/1.5,e=i*P;a=[-i,0,i,0,i,_-j,e,_-j,0,_,-e,_-j,-i,_-j]}if(K==2){var j=P[3],e=P[2]/2,d=j*(2/3)*P[4]/100,I=j-d,v=j;
a=[];if(P[0])a.push(-i,I,-e,v,0,0,e,v,i,I);else a.push(-i,0,i,0);if(P[1])a.push(i,_-I,e,_-v,0,_,-e,_-v,-i,_-I);
else a.push(i,_,-i,_)}var n=new iQ(1,0,0,1,0,0);n.rotate(Math.atan2(-J+x,c-E)+Math.PI/2);n.translate(E,x);
W.p.u(a,n,a);return W.r.Ic.y0(a,0)};W.r.Ic.DM=function(K,E,x,c){var J=[{type:6},{type:8,all:0}],d=.553;
J.push({type:0,qX:1,length:4,At:0,Tw:0,Im:1});var i=K,P=E,_=K+x,a=E+c,K=(i+_)/2,E=(P+a)/2,j=(i-_)/2,e=(P-a)/2;
J.push({type:1,ri:new iP(K-d*j,E-e),H:new iP(K,E-e),XK:new iP(K+d*j,E-e)});J.push({type:1,ri:new iP(K+j,E-d*e),H:new iP(K+j,E),XK:new iP(K+j,E+d*e)});
J.push({type:1,ri:new iP(K+d*j,E+e),H:new iP(K,E+e),XK:new iP(K-d*j,E+e)});J.push({type:1,ri:new iP(K-j,E+d*e),H:new iP(K-j,E),XK:new iP(K-j,E-d*e)});
return J};W.r.Ic.a5t=function(K,E,x,c,J){var i=[{type:6},{type:8,all:0}];i.push({type:3,qX:1,length:5,At:0,Tw:0,Im:1});
var P=(J-c)/4;for(var y=0;y<5;y++){var _=y*P,a=Math.cos(_),j=Math.sin(_),e=.553*(P/(Math.PI/2)),d=j*e,I=-a*e,v=new iP(a,j);
i.push({type:4,ri:y==0?v.clone():new iP(a+d,j+I),H:v,XK:y==4?v.clone():new iP(a-d,j-I)})}var n=new iQ;
n.rotate(-c);n.scale(x,x);n.translate(K,E);W.r.it(i,n);return i};W.HA={};W.HA.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15]};
W.HA.eS=function(K){var E=K.warpStyle.v.warpStyle;if(E=="warpNone")return!0;else if(E=="warpCustom"){var x=!1,c=K.customEnvelopeWarp.v.meshPoints.v.arr,J=c[0].arr,i=c[1].arr;
for(var y=0;y<4;y++)for(var P=0;P<4;P++){if(Math.abs(J[y]-J[P*4+y])>1||Math.abs(i[y*4]-i[y*4+P])>1)x=!0}return!x}else return K.warpValue.v==0&&K.warpPerspective.v==0&&K.warpPerspectiveOther.v==0};
W.HA.Q=function(K){var E={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(K){E.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:K.y}},Left:{t:"UntF",v:{type:"#Pxl",val:K.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:K.y+K.n}},Rght:{t:"UntF",v:{type:"#Pxl",val:K.x+K.b}}}};
E.uOrder={t:"long",v:4};E.vOrder={t:"long",v:4}}return E};W.HA.a6P=function(K,E,x,c){for(var y=0;y<K.length;
y+=2){var J=K[y],i=K[y+1],P=(J-E.x)/E.b,_=(i-E.y)/E.n,a=(1-x)/2,j=1-a,e=a+P*(j-a);_=.5+(_-.5)*e*2;var d=(1-c)/2,I=1-d,v=d+_*(I-d);
P=.5+(P-.5)*v*2;J=E.x+P*E.b;i=E.y+_*E.n;K[y]=J;K[y+1]=i}};W.HA.xh=function(K,E){var x=[],c=[];for(var y=0;
y<K.length;y+=2){x.push(K[y]);c.push(K[y+1])}var J=[];J.push({id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:x});
J.push({id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:c});E.warpStyle.v.warpStyle="warpCustom";E.customEnvelopeWarp={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:J}}}}};
W.HA.q5=function(K,E){if(E==null){var x=K.bounds.v,c=x.Left.v.val,J=x.Rght.v.val,i=x.Top.v.val,P=x.Btom.v.val;
if(c==null){c=x.Left.v,J=x.Rght.v;i=x.Top.v,P=x.Btom.v}E=new cS(c,i,J-c,P-i)}if(E.um())E.b=E.n=1;var _=[],a=K.warpStyle.v.warpStyle;
if(a=="warpCustom"){var j=K.customEnvelopeWarp.v.meshPoints.v.arr,e=j[0].arr,d=j[1].arr;for(var y=0;
y<16;y++)_.push(e[y],d[y])}else _=W.HA.HA(E,a,K.warpRotate.v.Ornt=="Hrzn",K.warpValue.v/100,K.warpPerspective.v/100,K.warpPerspectiveOther.v/100);
return _};W.HA.HA=function(K,E,x,c,J,i){var P=W.HN.Q(K.x,K.y,K.b,K.n);if(E=="warpNone")return P;var _=JSON.parse(JSON.stringify(K)),a=new iQ;
if(!x){a.translate(-K.x,-K.y);a.rotate(-Math.PI/2);a.translate(K.n,0);W.p.u(P,a,P);K=new cS(0,0,K.n,K.b);
P=W.HN.J_(P,!1)}W.HA.alb(P,K,E,c,J,i);if(!x){P=W.HN.J_(P,!0);K=_;a.Pa();W.p.u(P,a,P)}if(c==0)W.HA.a6P(P,K,J,i);
else{var a=new iQ(1/K.b,0,0,1/K.n,-K.x,-K.y);a.translate(-.5,-.5);W.p.u(P,a,P);W.HA.a8H(P,i,J);a.Pa();
W.p.u(P,a,P)}return P};W.HA.alb=function(K,E,x,c,J,i){for(var y=0;y<4;y++){for(var P=0;P<4;P++){var _=2*(4*y+P),a=K[_]-E.x,j=K[_+1]-E.y,e=a,d=j;
if(c!=0){var I=E.b/2,v=E.n/2;e-=I;d-=v;var n=e,C=e,T=-v,o=v,s=Math.abs(c),Q=Math.tan((1-s)*Math.PI/2),X=Math.sqrt(Q*Q+1),B=Math.atan2(1,Q),M=e/I*B,S=I*X,f=I*X+E.n,F=Math.cos(B),G=Math.sin(B),D=W.HA.abS(F,G),b=W.HA.a8w(F,G),H=-Q*I+D*S;
if(x=="warpArc"){n=Math.sin(M)*f;T=Q*I-Math.cos(B)*f+v;C=Math.sin(M)*S;o=Q*I-Math.cos(B)*S+v;if(P==1||P==2){n=P==1?-b*f:b*f;
C=P==1?-b*S:b*S;T=Q*I+v-D*f;o=Q*I+v-D*S}if(c<0){var q=n;n=C;C=q;q=T;T=-o;o=-q}}if(x=="warpArcLower"){if(P==1||P==2){C=P==1?-b*S:b*S;
o=c<0?v-H:v+H}}if(x=="warpArcUpper"||x=="warpArch"||x=="warpBulge"){if(P==1||P==2){n=P==1?-b*S:b*S;T=c<0?-v+H:-v-H}if(x=="warpArch"){C=n;
o=T+2*v}if(x=="warpBulge"){C=n;o=-T}}if(x=="warpFish"||x=="warpFlag"||x=="warpWave"){var O=P;if(x=="warpFlag")O=3-P;
if(O==1){T-=c*4*v;o+=c*4*v}if(O==2){T+=c*4*v;o-=c*4*v}if(x=="warpFlag"||x=="warpWave")T=o-2*v}if(x=="warpRise"){if(P<2)T=-v+c*v*4;
o=T+2*v}var w=(d+v)/E.n;e=n+w*(C-n);d=T+w*(o-T);if(x=="warpWave"){if(y==0)d=-v;if(y==3)d=v;if(y==1||y==2)d=2*v*(y/3-.5)*(1/3)+d*(2/3)}if(x=="warpFisheye"){if((y==1||y==2)&&(P==1||P==2)){e=e+4*e*c;
d=d+4*d*c}}if(x=="warpInflate"){var V=2/3;if((y==1||y==2)&&(P==1||P==2)){e=e+.5*e*c;d=d+.5*d*c}else if(y==1||y==2)e=e+V*e*c;
else if(P==1||P==2)d=d+V*d*c}if(x=="warpSqueeze"){var V=2/3;if((y==1||y==2)&&(P==1||P==2)){if(c>0)e=e-V*e*c;
else d=d+V*d*c}else if(y==1||y==2)e=e-V*e*c;else if(P==1||P==2)d=d+V*d*c}if(x=="warpTwist"){if((y==1||y==2)&&(P==1||P==2)){var t=c*Math.PI/2,X=1+Math.abs(c)*2,m=e*Math.cos(t)-d*Math.sin(t),g=e*Math.sin(t)+d*Math.cos(t);
e=m*X;d=g*X}}if(x=="warpShellLower"||x=="warpShellUpper"){if(x=="warpShellUpper"){y=3-y;d=-d}if(y>2||y==2&&(P==0||P==3)){if(c>0){var Y=S+y/3*2*v;
e=Math.sin(M)*Y;d=-Q*I-v+Math.cos(M)*Y;if(P==1||P==2){e=P==1?-b*Y:b*Y;d=-Q*I-v+D*Y}}else{if((P==1||P==2)&&y==3){e=P==1?-b*S:b*S;
d=Q*I-D*S+v}else if(y==2){d=v-v*(2/3)*Math.cos(M);e=e+v*(2/3)*Math.sin(M)}}}if(x=="warpShellUpper"){y=3-y;
d=-d}}e+=I;d+=v}a=e,j=d;K[_]=a+E.x;K[_+1]=j+E.y}}};W.HA.a8H=function(K,E,x){var c=[];for(var J=0;J<4;
J++)c.push(1-x+J/3*2*x);var i=[];for(var J=0;J<4;J++)i.push(1-E+J/3*2*E);var P=[0,0,0,0],_=[0,0,0,0];
for(var y=0;y<4;y++)for(var J=0;J<4;J++){var a=2*(4*y+J),j=K[a],e=K[a+1];P[J]+=j/4;_[J]+=e/4}for(var y=0;
y<4;y++)for(var J=0;J<4;J++){var d=c[J],a=2*(4*y+J),j=K[a],e=K[a+1],I=P[J],v=_[J];K[a]=I+d*(j-I);K[a+1]=v+d*(e-v)}var n=K.slice(0);
for(var y=0;y<4;y++)for(var J=1;J<3;J++){var a=2*(4*y+J),j=K[a],e=K[a+1],C=a+(J==1?-2:2),T=K[C],o=K[C+1];
K[a]=j-T;K[a+1]=e-o}var s=K[0],Q=K[1],X=K[8],B=K[9],M=K[16],S=K[17],f=K[24],F=K[25],G=K[6],D=K[7],b=K[14],H=K[15],q=K[22],O=K[23],w=K[30],V=K[31],t=G-s,m=D-Q,g=b-X,Y=H-B,A=q-M,k=O-S,z=w-f,p=V-F;
for(var y=0;y<4;y++){var L=2*y*4,N=0,gC=0,r=y==1?.33:.66,h=1-r;if(y==0){N=t;gC=m}if(y==1){N=h*t+r*-z;
gC=h*m+r*-p}if(y==2){N=h*t+r*-z;gC=h*m+r*-p}if(y==3){N=-z;gC=-p}K[L]=K[L]+N/2;K[L+1]=K[L+1]+gC/2;K[L+6]=K[L+6]-N/2;
K[L+7]=K[L+7]-gC/2}for(var y=0;y<4;y++)for(var J=1;J<3;J++){var a=2*(4*y+J),j=K[a],e=K[a+1],C=a+(J==1?-2:2),T=K[C],o=K[C+1],d=2*y/3;
K[a]=T+d*j;K[a+1]=o+d*e}for(var y=1;y<3;y++)for(var J=1;J<3;J++){var a=2*(4*y+J),j=K[a],e=K[a+1],l=y==1?-8:-16,g5=y==1?16:8,fm=K[a+l],dC=K[a+l+1],ex=K[a+g5],cR=K[a+g5+1],d=y/3;
j=(1-d)*fm+d*ex;e=(1-d)*dC+d*cR;K[a]=j;K[a+1]=e}W.p.bm(n,K,K,E)};W.HA.abS=function(K,E){return(4-K)*(1/3)};
W.HA.a8w=function(K,E){return(1-K)*(3-K)/(3*E)};W.ss={};W.ss.abe=function(K,E,x,c,J,i,P,_,a,j){for(var e=0;
e<_;e++)for(var d=0;d<P;d++){var I=3*(e*P+d),v=e+i,n=d+J,C=K[v*E+n];c[I]=C;c[I+1]=C;c[I+2]=C}};W.ss.$i=function(K,E,x,c,J,i,P,_,a,j){var e=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],d=1/a,I=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],v=new Uint32Array(6);
for(var n=0;n<_;n++){for(var C=0;C<P;C++){var T=3*(n*P+C),o=n+i,s=C+J;v[0]=0;v[1]=0;v[2]=0;v[3]=0;v[4]=0;
v[5]=0;for(var y=0;y<16;y+=2){var Q=s+I[y],X=o+I[y+1],B=Q-a*~~(Q*d),M=X-a*~~(X*d),S=j[M*a+B];v[S]+=K[X*E+Q];
v[S+3]++}var Q=s,X=o,B=Q-a*~~(Q*d),M=X-a*~~(X*d),S=j[M*a+B];v[S]=K[o*E+s];v[S+3]=1;c[T]=v[0]*e[v[3]];
c[T+1]=v[1]*e[v[4]];c[T+2]=v[2]*e[v[5]]}}};W.ss.En=function(K,E,x){for(var y=0;y<x;y+=2)K[E+y]=K[E+y+1];
E=E+x;for(var y=0;y<x;y+=2)K[E+y+1]=K[E+y]};W.ss.Kw=function(K,E,x,c){for(var y=0;y<c;y+=2){var J=E+y*x;
K[J]=K[J+x];K[J+x+1]=K[J+1]}};W.ss.ow=function(K,E,x,c,J,i){var P=c[J],_=c[J+1],a=c[i],j=c[i+1],e=_+a>>>1;
K[E]=K[E+3]=K[x]=K[x+3]=P;K[E+1]=e;K[E+4]=_;K[x+1]=a;K[x+4]=e;K[E+2]=K[E+5]=K[x+2]=K[x+5]=j};W.ss.a1G=function(K,E,x,c,J,i){var P=i*3;
for(var y=0;y<i;y+=2){var _=E+y,a=J+y*3;W.ss.ow(c,a,a+P,K,_,_+x)}};W.ss.av5=function(K,E,x,c,J,i,P){var _=i*3;
for(var y=0;y<P;y+=2){var a=E+y*x,j=J+y*i*3;W.ss.ow(c,j,j+_,K,a,a+x)}};W.ss.Mo=function(K,y,E){var x=K[y-E-E],c=K[y-E],J=K[y-2],i=K[y-1],P=K[y],_=K[y+1],a=K[y+2],j=K[y+E],e=K[y+E+E],d=Math.abs(c-j),I=Math.abs(i-_),v=Math.abs(P-x)*2+d,n=Math.abs(P-a)*2+I,C=Math.abs(P-J)*2+I,T=Math.abs(P-e)*2+d,o=Math.min(v,Math.min(n,Math.min(C,T)));
if(o==v)return c*3+j+P-x>>2;if(o==n)return _*3+i+P-a>>2;if(o==C)return i*3+_+P-J>>2;return j*3+c+P-e>>2};
W.ss.Hi=function(K,E,x,c,J){if(K<E&&E<x||K>E&&E>x)return~~(.5+c+(J-c)*(E-K)/(x-K));else return(c+J>>1)+(E+E-K-x>>2)};
W.ss.f9=function(K,E,y,x){var c=E[y-x-1],J=E[y-x+1],i=E[y],P=E[y+x-1],_=E[y+x+1],a=K[y-x-1],j=K[y-x+1],e=K[y],d=K[y+x-1],I=K[y+x+1],v=Math.abs(j-d)+Math.abs(K[y-x-x+2]-e)+Math.abs(e-K[y+x+x-2])+Math.abs(J-i)+Math.abs(i-P),n=Math.abs(a-I)+Math.abs(K[y-x-x-2]-e)+Math.abs(e-K[y+x+x+2])+Math.abs(c-i)+Math.abs(i-_);
if(v<n)return W.ss.Hi(J,i,P,j,d);else return W.ss.Hi(c,i,_,a,I)};W.ss.ZH=function(K,E,x,c,J,i){K[E+0]=x[J];
K[E+1]=c[J];K[E+2]=W.ss.f9(x,c,J,i)};W.ss.cD=function(K,E,x,c,J,i){var P=c[J];K[E+0]=W.ss.Hi(c[J-1],P,c[J+1],x[J-1],x[J+1]);
K[E+1]=P;K[E+2]=W.ss.Hi(c[J-i],P,c[J+i],x[J-i],x[J+i])};W.ss.qI=function(K,E,x,c,J,i){var P=c[J];K[E+0]=W.ss.Hi(c[J-i],P,c[J+i],x[J-i],x[J+i]);
K[E+1]=P;K[E+2]=W.ss.Hi(c[J-1],P,c[J+1],x[J-1],x[J+1])};W.ss.M9=function(K,E,x,c,J,i){K[E+0]=W.ss.f9(x,c,J,i);
K[E+1]=c[J];K[E+2]=x[J]};W.ss.afK=function(K,E,x,c,J,i,P,_,a){var j=Date.now(),e=2,d=E-2,I=2;if((J&1)==1){e++;
d--}var v=x-2;if((i&1)==1){I++;v--}if(a==1||a==3){e++;d--}var n=K.slice(0);W.ss.En(n,0,E);W.ss.Kw(n,0,E,x);
W.ss.Kw(n,E-2,E,x);W.ss.En(n,(x-2)*E,E);for(var C=I;C<v;C+=2)for(var T=e;T<d;T+=2){var y=C*E+T,o=W.ss.Mo(n,y,E),s=W.ss.Mo(n,y+E+1,E);
n[y]=Math.max(0,o);n[y+E+1]=Math.max(0,s)}var Q=P,X=_;if(i+_==x){X-=2;W.ss.a1G(K,(x-2)*E+J,E,c,(_-2)*P*3,P)}if(J+P==E){Q-=2;
W.ss.av5(K,i*E+J+P-2,E,c,(P-2)*3,P,_)}if(a==0)for(var C=0;C<X;C+=2)for(var T=0;T<Q;T+=2){var B=(C+i)*E+T+J,M=(C*P+T)*3;
W.ss.ZH(c,M,K,n,B,E);W.ss.cD(c,M+3,K,n,B+1,E);B+=E;M+=3*P;W.ss.qI(c,M,K,n,B,E);W.ss.M9(c,M+3,K,n,B+1,E)}else if(a==1)for(var C=0;
C<X;C+=2)for(var T=0;T<Q;T+=2){var B=(C+i)*E+T+J,M=(C*P+T)*3;W.ss.cD(c,M,K,n,B,E);W.ss.ZH(c,M+3,K,n,B+1,E);
B+=E;M+=3*P;W.ss.M9(c,M,K,n,B,E);W.ss.qI(c,M+3,K,n,B+1,E)}else if(a==2)for(var C=0;C<X;C+=2)for(var T=0;
T<Q;T+=2){var B=(C+i)*E+T+J,M=(C*P+T)*3;W.ss.M9(c,M,K,n,B,E);W.ss.qI(c,M+3,K,n,B+1,E);B+=E;M+=3*P;W.ss.cD(c,M,K,n,B,E);
W.ss.ZH(c,M+3,K,n,B+1,E)}else if(a==3)for(var C=0;C<X;C+=2)for(var T=0;T<Q;T+=2){var B=(C+i)*E+T+J,M=(C*P+T)*3;
W.ss.qI(c,M,K,n,B,E);W.ss.M9(c,M+3,K,n,B+1,E);B+=E;M+=3*P;W.ss.ZH(c,M,K,n,B,E);W.ss.cD(c,M+3,K,n,B+1,E)}};
W.raw={};W.raw.atU=function(K){var E=Date.now(),x=K.width,c=K.height,J=0,i=0,P=x,_=c;if(K.t50829){var a=K.t50829;
J=a[1];i=a[0];P=a[3];_=a[2]}if(K.t50719){var j=K.t50719;J+=j[0]>>1<<1;i+=j[1]>>1<<1}if(K.t50720){var e=K.t50720;
P=J+e[0];_=i+e[1]}var d=P-J,I=_-i,v=W.raw.am_(K),n=K.t33422,C=K.t33421;if(C){var e=C[0],T=n.slice(0);
for(var o=0;o<e;o++)for(var s=0;s<e;s++){var Q=(s+(J&1))%e,X=(o+(i&1))%e;T[o*e+s]=n[X*e+Q]}n=T}if(K.t277[0]==1&&n)W.raw.a0n(v,x,c,K,n);
W.raw.Pe(2,K,v,x,c);var B=new Float32Array(d*I*3);if(K.t277[0]==1){if(C==null){W.ss.abe(v,x,c,B,J,i,d,I)}else if(C.length!=2||C[0]!=2||C[1]!=2){console.log("Unknown CFA pattern size",C);
W.ss.$i(v,x,c,B,J,i,d,I,C[0],n)}else{var M=K.t33422.join(","),S=0;if(M=="0,1,1,2")S=0;else if(M=="1,0,2,1")S=1;
else if(M=="2,1,1,0")S=2;else if(M=="1,2,0,1")S=3;else throw"Unknown CFA pattern "+M;if((d&1)!=0||(I&1)!=0)throw"e";
W.ss.afK(v,x,c,B,J,i,d,I,S)}}else{for(var o=0;o<I;o++)for(var s=0;s<d;s++){var f=((o+i)*x+s+J)*3,F=(o*d+s)*3;
B[F+0]=v[f+0];B[F+1]=v[f+1];B[F+2]=v[f+2]}}var G=B,D=B.length,b=W.raw.tY(K),H=1/b;for(var y=0;y<D;y+=3){B[y]=G[y]*H;
B[y+1]=G[y+1]*H;B[y+2]=G[y+2]*H}W.raw.Pe(3,K,B,d,I);var q=K.JX,O=d,w=I;if(q==1||q==9){}else{var V=W.raw.tR(q,d,I),F=0;
O=V[0];w=V[1];var t=B.slice(0);for(var o=0;o<w;o++)for(var s=0;s<O;s++){var m=V[2]*s+V[3]*o+V[4],g=V[5]*s+V[6]*o+V[7],f=(g*d+m)*3;
B[F]=t[f];B[F+1]=t[f+1];B[F+2]=t[f+2];F+=3}}return{Ly:B,rp:O,Gh:w}};W.raw.tR=function(K,E,x){var c=E,J=x;
if(!1){}else if(K==2)return[E,x,-1,0,E-1,0,1,0];else if(K==3)return[E,x,-1,0,E-1,0,-1,x-1];else if(K==4)return[E,x,1,0,0,0,-1,x-1];
else if(K==5)return[x,E,0,1,0,1,0,0];else if(K==6)return[x,E,0,1,0,-1,0,x-1];else if(K==7)return[x,E,0,-1,E-1,-1,0,x-1];
else if(K==8)return[x,E,0,-1,E-1,1,0,0];else throw"unknown orientation "+K};W.raw.a0n=function(K,E,x,c,J){var i=Date.now(),H=0,w=0;
if(W.raw.tY(c)>4e4){for(var y=0;y<K.length;y++)K[y]>>=1;var P=["t50714","t50715","t50712","t50717"];
for(var y=0;y<P.length;y++){var _=c[P[y]];if(_)for(var a=0;a<_.length;a++)_[a]>>>=1}console.log("remapping to lower bit depth")}var j=~~Math.sqrt(J.length),e=[-1,-1,0,-1,0,1,-1,0,0,0,1,0,-1,1,0,1,1,1],d=[];
for(var I=0;I<j;I++)for(var v=0;v<j;v++){var y=I*j+v,n=J[y],C=4,T=4,o=8,s=0,Q=0;for(var a=0;a<18;a+=2){var X=(j+v+e[a])%j,B=(j+I+e[a+1])%j,M=J[B*j+X];
if(M==n){}else if(C==4){C=M;s=a}else if(T==4&&M!=C){T=M;Q=a;break}}if(T<C){var S=T;T=C;C=S;S=Q;Q=s;s=S}if(C<n){var S=C;
C=n;n=S;S=s;s=o;o=S}if(T<C){var S=T;T=C;C=S;S=Q;Q=s;s=S}d[y*3]=e[o+1]*E+e[o];d[y*3+1]=e[s+1]*E+e[s];
d[y*3+2]=e[Q+1]*E+e[Q]}var f=~~(.996*W.raw.tY(c)),F=~~(.992*W.raw.tY(c)),G=c.t50728;if(G==null||G[0]==0)G=[1,1,1];
var D=[],b=[0,0,0];for(var I=1;I<x-1;I++)for(var v=1;v<E-1;v++){var y=I*E+v,q=I%j*j+v%j,n=K[y+d[q*3+0]],C=K[y+d[q*3+1]],T=K[y+d[q*3+2]],O=Math.max(n,C,T);
if(O>f)D.push(y);else if(O>F){b[0]+=n;b[1]+=C;b[2]+=T;H++}}if(D.length==0)return;if(H/(E*x)<1e-5){console.log("not enough semi-saturated pixels",H);
b=G}if(b[1]<b[w])w=1;if(b[2]<b[w])w=2;var V=[b[0]/b[w],b[1]/b[w],b[2]/b[w]],t=K.slice(0);for(var m=0;
m<D.length;m++){var y=D[m],I=~~(y/E),v=y-I*E,q=I%j*j+v%j,g=Math.min(65535,~~(K[y+d[q*3+w]]*V[J[q]]));
if(g>t[y])t[y]=g}K.set(t)};W.raw.MN=function(K,E,x,c){var J=Math.round(K.length/3),i=eG.hi(c[0],c[1]),P=W.raw.a7D(x,i),_=W.Kh.multiply(W.Kh.pd,P),a=Math.pow(2,x.t50730?x.t50730[0]:0);
_=W.Kh.multiply(_,W.Kh.Nu(a,a,a));var j=W.raw.MN.avk;if(j==null){j=W.raw.MN.avk=new Float64Array(8e3);
for(var y=0;y<8e3;y++)j[y]=W.hW(y*(1/1e3))}for(var y=0;y<J;y++){var e=y<<2,d=e-y,I=K[d],v=K[d+1],n=K[d+2],C=_[0]*I+_[1]*v+_[2]*n,T=_[4]*I+_[5]*v+_[6]*n,o=_[8]*I+_[9]*v+_[10]*n;
if(C<0)C=0;if(T<0)T=0;if(o<0)o=0;E[d]=j[~~(C*1e3)];E[d+1]=j[~~(T*1e3)];E[d+2]=j[~~(o*1e3)]}};W.raw.am_=function(K){var E=K.width,x=K.height,c=E*x*K.t277,J=new Uint16Array(c),i=null,P=0;
W.raw.aq5(K,J);W.raw.Pe(1,K,J,E,x);if(K.t50712){i=K.t50712;P=i.length-1;if(i[P]>65535)throw"too big values"}var _=W.raw.i5(K),a=W.raw.b2(K);
if(i==null)for(var y=0;y<c;y++)J[y]=Math.max(0,J[y]-_);else for(var y=0;y<c;y++){var j=J[y];if(j>P)j=P;
j=i[j];J[y]=Math.max(0,j-_)}return J};W.raw.i5=function(K){var E=K.t50714,x=E?E[0]:0,c=K.t50715,J=K.t50716;
if(c)x+=c[0][0]/c[0][1];if(J)x+=J[0][0]/J[0][1];return Math.round(x)};W.raw.b2=function(K){var E=null,x=0;
if(K.t50712){E=K.t50712;x=E.length-1}var c=K.t50717?K.t50717[0]:(1<<K.t258[0])-1;if(E)c=Math.min(c,E[x]);
return c};W.raw.tY=function(K){var E=W.raw.i5(K),x=W.raw.b2(K);return x-E};W.raw.aq5=function(K,E){var x=E.length,c=K.data,J=K.t258[0];
if(J!=16&&J!=14&&J!=12&&J!=10&&J!=8)throw"Unsupported Bits Per Sample:"+J;J=Math.round(c.length*8/x);
if(J==16&&K.isLE){W.dq(c,E);return}for(var y=0;y<x;y+=2){var i=0,P=0,_=0;if(J==16){i=y<<1;P=c[i]<<8|c[i+1];
_=c[i+2]<<8|c[i+3]}else if(J==14){var a=y*14,j=a>>>3,e=c[j]<<24|c[j+1]<<16|c[j+2]<<8|c[j+3];if((a&7)==0){P=e>>>18;
_=e>>>4&16383}else{P=e>>>14&16383;_=e&16383}}else if(J==12){i=y+(y>>>1);P=c[i]<<4|c[i+1]>>4;_=(c[i+1]&15)<<8|c[i+2]}else if(J==10){var a=y*10,j=a>>>3;
if((a&7)==0){P=(c[j]<<2|c[j+1]>>6)&1023;_=(c[j+1]<<4|c[j+2]>>4)&1023}else{P=(c[j]<<6|c[j+1]>>2)&1023;
_=(c[j+1]<<8|c[j+2]>>0)&1023}}else if(J==8){i=y;P=c[i];_=c[i+1]}E[y]=P;E[y+1]=_}};W.raw.a1b=function(K,E,x,c,J,i,P){var _=K-.499999,a=E-.499999,j=~~_,e=~~a,d=_-j,I=a-e,v=(1-I)*(1-d),n=(1-I)*d,C=I*(1-d),T=I*d,o=(e*c+j)*3,s=((e+1)*c+j)*3,Q=v*x[o]+n*x[o+3]+C*x[s]+T*x[s+3],X=v*x[o+1]+n*x[o+4]+C*x[s+1]+T*x[s+4],B=v*x[o+2]+n*x[o+5]+C*x[s+2]+T*x[s+5];
i[P]=Q;i[P+1]=X;i[P+2]=B};W.raw.Pe=function(K,E,x,c,J){var i=E["t"+[51008,51009,51022][K-1]],e=0;if(i==null)return;
var P=c*J,_=R.s,a=R.sz,j=new Uint8Array(i),cy=R.s(j,e);e+=4;for(var d=0;d<cy;d++){var I=_(j,e);e+=4;
var v=_(j,e);e+=4;var n=_(j,e);e+=4;var C=_(j,e);e+=4;if(!1){}else if(I==1&&K==3){var T=e,o=_(j,T);T+=4;
var s=a(j,T);T+=8;var Q=a(j,T);T+=8;var X=a(j,T);T+=8;var B=a(j,T);T+=8;var M=a(j,T);T+=8;var S=a(j,T);
T+=8;T+=(o-1)*8*6;var f=a(j,T);T+=8;var F=a(j,T);T+=8;var G=f*c,D=F*J,b=Math.max(G,c-G),H=Math.max(D,J-D),q=Math.sqrt(b*b+H*H),O=1/q,w=x.slice(0);
for(var V=0;V<J;V++)for(var t=0;t<c;t++){var m=(t+.5-G)*O,g=(V+.5-D)*O,Y=m*m+g*g,A=s+Q*Y+X*(Y*Y)+B*(Y*Y)*Y,k=M*(2*m*g)+S*(Y+2*m*m),z=S*(2*m*g)+M*(Y+2*g*g),p=Math.min(G+q*(A*m+k),c-1),L=Math.min(D+q*(A*g+z),J-1),N=(V*c+t)*3;
W.raw.a1b(p,L,w,c,J,x,N)}}else if(I==3&&K==3){var T=e,gC=a(j,T);T+=8;var r=a(j,T);T+=8;var h=a(j,T);
T+=8;var l=a(j,T);T+=8;var g5=a(j,T);T+=8;var f=a(j,T);T+=8;var F=a(j,T);T+=8;var G=f*c,D=F*J,b=Math.max(G,c-G),H=Math.max(D,J-D),q=Math.sqrt(b*b+H*H),O=1/q;
for(var V=0;V<J;V++)for(var t=0;t<c;t++){var m=(t+.5-G)*O,g=(V+.5-D)*O,Y=m*m+g*g,fm=1+(gC+(r+(h+(l+g5*Y)*Y)*Y)*Y)*Y,N=(V*c+t)*3;
x[N]=fm*x[N];x[N+1]=fm*x[N+1];x[N+2]=fm*x[N+2]}}else if(I==4&&K==1){var T=e,dC=_(j,T);T+=4;var ex=_(j,T);
T+=4;for(var y=0;y<P;y++)if(x[y]==dC)x[y]=x[y-2]+x[y+2]>>1}else if(I==5&&K==1){var T=e,cR=_(j,T);T+=4;
var d0=_(j,T);T+=4;var hN=_(j,T);T+=4;for(var y=0;y<d0;y++){var ey=_(j,T);T+=4;var cr=_(j,T);T+=4;var y=ey*c+cr;
x[y]=x[y-2]+x[y+2]>>1}}else if(I==7&&K==1){var T=e,ik=R.nj(j,T);T+=16;var hd=_(j,T);T+=4;var df=_(j,T);
T+=4;var bQ=_(j,T),is=_(j,T+4);T+=8;var bi=_(j,T);T+=4;var jX=new Uint16Array(bi);for(var y=0;y<bi;y++)jX[y]=R.Xl(j,T+2*y);
var eS=ik.b,bN=ik.n;for(var V=0;V<bN;V+=bQ)for(var t=0;t<eS;t+=is){var y=(ik.y+V)*c+(ik.x+t);x[y]=jX[x[y]]}}else if(I==8&&K==2){var T=e,ik=R.nj(j,T);
T+=16;var hd=_(j,T);T+=4;var df=_(j,T);T+=4;var bQ=_(j,T),is=_(j,T+4);T+=8;var h9=_(j,T);T+=4;var bz=[];
for(var y=0;y<=h9;y++)bz[y]=R.sz(j,T+y*8);var i0=ik.x,hp=ik.x+ik.b,hY=ik.y,ji=ik.y+ik.n,aM=E.t50717[0],a1=1/aM;
for(var fi=0;fi<df;fi++)for(var V=hY;V<ji;V+=bQ){var N=3*V*c+hd+fi;for(var t=i0;t<hp;t+=is){var y=N+3*t,jJ=x[y]*a1,gg=bz[h9];
for(var iN=h9;iN>0;iN--)gg=gg*jJ+bz[iN-1];x[y]=Math.max(0,Math.min(65535,~~(gg*aM)))}}}else if(I==9&&K==2){var T=e,ik=R.nj(j,T),g8=!0;
T+=16;var hd=_(j,T);T+=4;var df=_(j,T);T+=4;var bQ=_(j,T),is=_(j,T+4);T+=8;var ad=_(j,T),h6=_(j,T+4);
T+=8;var iY=a(j,T),kh=a(j,T+8);T+=16;var gN=a(j,T),aT=a(j,T+8);T+=16;var iv=_(j,T);T+=4;if(iv!=1)throw"more than one map plane";
var fs=ad*h6,gm=new Float32Array(fs);for(var iN=0;iN<fs;iN++)gm[iN]=R.JU(j,T+iN*4);for(var iN=0;iN<fs;
iN++)if(gm[iN]!=1)g8=!1;if(!g8){var eS=ik.b,bN=ik.n,b_=.9999*(h6-1)/eS,ko=.9999*(ad-1)/bN;for(var V=0;
V<bN;V+=bQ)for(var t=0;t<eS;t+=is){var y=(ik.y+V)*c+(ik.x+t),gk=t*b_,bx=V*ko,ai=Math.floor(gk),hf=Math.floor(bx),aa=gk-ai,iS=bx-hf,N=hf*h6+ai,hl=gm[N]*(1-aa)+gm[N+1]*aa,jR=gm[N+h6]*(1-aa)+gm[N+1+h6]*aa,jC=hl*(1-iS)+jR*iS;
x[y]=Math.max(0,Math.min(65535,~~(x[y]*jC+.5)))}}}else console.log("Unknown opcode "+I+" in OpcodeList"+K+". Length: "+C);
e+=C}};W.raw.a7D=function(K,E){var x=eG.bl(E),c=W.raw.zV(K,E),J=W.Kh.Pa(c),i=eG.rq(x,eG.bl(eG.asq)),P=W.Kh.multiply(i,J);
return P};W.raw.aoc=function(K){var E=K.t50728,J=1;if(E==null||E[0]==0)E=[1,1,1];var x=E.slice(0);x.push(0);
var c={x:.34567,y:.3585};do{var i=W.Kh.Pa(W.raw.zV(K,c)),P=W.Kh.rK(i,x),_=eG.ava(P);J=Math.abs(c.x-_.x)+Math.abs(c.y-_.y);
c=_}while(J>1e-7);return c};W.raw.zV=function(K,E){var x=eG.Jk(E),c=W.raw.af3,J=K.t50778?K.t50778[0]:0,i=K.t50779?K.t50779[0]:0,P=K.t50723,_=K.t50724;
if(P&&P.length==3)P=null;if(_&&_.length==3)_=null;var a=c(K.t50721,K.t50722,J,i,x.Gk),j=c(P,_,J,i,x.Gk);
a=a||[1,0,0,0,1,0,0,0,1];j=j||[1,0,0,0,1,0,0,0,1];var e=K.t50727?[K.t50727[0],0,0,0,K.t50727[1],0,0,0,K.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return W.Kh.multiply(W.Kh.Z6(e),W.Kh.multiply(W.Kh.Z6(j),W.Kh.Z6(a)))};W.raw.af3=function(K,E,x,c,J){if(!K&&!E){return null}else if(K&&!E){return K}else if(J<x){return K}else if(J>c){return E}else{var i=(1/J-1/c)/(1/x-1/c),P=1-i,_=[];
for(var y=0;y<9;y++)_[y]=K[y]*i+E[y]*P;return _}};var eG={};eG.asq={x:.34567,y:.3585};eG.Gs=[{o:0,_i:.18006,W8:.26352,kt:-.24341},{o:10,_i:.18066,W8:.26589,kt:-.25479},{o:20,_i:.18133,W8:.26846,kt:-.26876},{o:30,_i:.18208,W8:.27119,kt:-.28539},{o:40,_i:.18293,W8:.27407,kt:-.3047},{o:50,_i:.18388,W8:.27709,kt:-.32675},{o:60,_i:.18494,W8:.28021,kt:-.35156},{o:70,_i:.18611,W8:.28342,kt:-.37915},{o:80,_i:.1874,W8:.28668,kt:-.40955},{o:90,_i:.1888,W8:.28997,kt:-.44278},{o:100,_i:.19032,W8:.29326,kt:-.47888},{o:125,_i:.19462,W8:.30141,kt:-.58204},{o:150,_i:.19962,W8:.30921,kt:-.70471},{o:175,_i:.20525,W8:.31647,kt:-.84901},{o:200,_i:.21142,W8:.32312,kt:-1.0182},{o:225,_i:.21807,W8:.32909,kt:-1.2168},{o:250,_i:.22511,W8:.33439,kt:-1.4512},{o:275,_i:.23247,W8:.33904,kt:-1.7298},{o:300,_i:.2401,W8:.34308,kt:-2.0637},{o:325,_i:.24792,W8:.34655,kt:-2.4681},{o:350,_i:.25591,W8:.34951,kt:-2.9641},{o:375,_i:.264,W8:.352,kt:-3.5814},{o:400,_i:.27218,W8:.35407,kt:-4.3633},{o:425,_i:.28039,W8:.35577,kt:-5.3762},{o:450,_i:.28863,W8:.35714,kt:-6.7262},{o:475,_i:.29685,W8:.35823,kt:-8.5955},{o:500,_i:.30505,W8:.35907,kt:-11.324},{o:525,_i:.3132,W8:.35968,kt:-15.628},{o:550,_i:.32129,W8:.36011,kt:-23.325},{o:575,_i:.32931,W8:.36038,kt:-40.77},{o:600,_i:.33724,W8:.36051,kt:-116.45}];
eG.Jk=function(K){var E=eG.Gs,x=2*K.x/(1.5-K.x+6*K.y),c=3*K.y/(1.5-K.x+6*K.y),J=0,i=0,P=0;for(;P<31;
P++){J=c-E[P].W8-E[P].kt*(x-E[P]._i);if(P>0&&J<0){break}i=J}while(P>=E.length)P--;J/=Math.sqrt(1+E[P].kt*E[P].kt);
i/=Math.sqrt(1+E[P-1].kt*E[P-1].kt);var _=i/(i-J),a=1e6/((E[P].o-E[P-1].o)*_+E[P-1].o),j=x-((E[P]._i-E[P-1]._i)*_+E[P-1]._i),e=c-((E[P].W8-E[P-1].W8)*_+E[P-1].W8),d=Math.sqrt(1+E[P].kt*E[P].kt),I=1/d,v=E[P].kt/d,n=Math.sqrt(1+E[P-1].kt*E[P-1].kt),C=1/n,T=E[P-1].kt/n,o=(I-C)*_+C,s=(v-T)*_+T,Q=Math.sqrt(o*o+s*s);
o/=Q;s/=Q;var X=(j*o+e*s)*-3e3;return{Gk:a,dr:X}};eG.hi=function(K,E){var x=eG.Gs,c=1e6/K,J=1;for(;J<31;
J++){if(c<x[J].o){break}}var i=(x[J].o-c)/(x[J].o-x[J-1].o),P=(x[J-1]._i-x[J]._i)*i+x[J]._i,_=(x[J-1].W8-x[J].W8)*i+x[J].W8,a=Math.sqrt(1+x[J].kt*x[J].kt),j=1/a,e=x[J].kt/a,d=Math.sqrt(1+x[J-1].kt*x[J-1].kt),I=1/d,v=x[J-1].kt/d,n=(I-j)*i+j,C=(v-e)*i+e,T=Math.sqrt(n*n+C*C);
n/=T;C/=T;P+=n*E/-3e3;_+=C*E/-3e3;return{x:1.5*P/(P-4*_+2),y:_/(P-4*_+2)}};eG.ava=function(K){var E=K[0]+K[1]+K[2];
return{x:K[0]/E,y:K[1]/E}};eG.bl=function(K){return{x:K.x/K.y,y:1,EB:(1-K.x-K.y)/K.y}};eG.rq=function(K,E){var x=W.Kh.Z6([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),c=[K.x,K.y,K.EB,0],J=[E.x,E.y,E.EB,0];
c=W.Kh.rK(x,c);J=W.Kh.rK(x,J);var i=J[0]/c[0],P=J[1]/c[1],_=J[2]/c[2],a=W.Kh.Z6([i,0,0,0,P,0,0,0,_]),j=W.Kh.Pa(x);
return W.Kh.multiply(W.Kh.multiply(j,a),x)};W.raw.Pq={};W.raw.Zo=function(K){K*=8;var E=[8,10,12,14,16];
for(var x in CAMS){var c=CAMS[x];if(c.length==4)continue;var J=c[4],i=c[5];for(var y=0;y<E.length;y++)if(J*i*E[y]==K)return[x,E[y]]}var P=[[4e3,3e3]];
for(var y=0;y<P.length;y++){var c=P[y],J=c[0],i=c[1];for(var y=0;y<E.length;y++)if(J*i*E[y]==K)return[c,E[y]]}return null};
W.raw.axX=function(K){var K=new Uint8Array(K);for(var y=0;y<K.length;y+=2){var E=K[y];K[y]=K[y+1];K[y+1]=E}var x=W.raw.Zo(K.length),c=CAMS[x[0]];
if(c==null)c=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,x[0][0],x[0][1]];var J=c[4],i=c[5],P=Math.max(c[2],116),_={data:K,JX:1,width:J,height:i,t256:[J],t257:[i],t258:[x[1]],t277:[1],t33421:[2,2],t33422:W.raw.aP[c[1]],t50706:[1,2,0,0],t50714:[P,P,P,P],t50717:[c[3]],t50721:c[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var y=0;y<9;y++)_.t50721[y]/=1e4;return _};W.raw.kf=function(K){if(K==null||K.length==0||typeof K[0]=="number")return K;
var E=[];for(var y=0;y<K.length;y++)E[y]=K[y][1]==0?0:K[y][0]/K[y][1];return E};W.raw.aP=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
W.raw.normalize=function(K,E){if(K.t50706!=null||K.t271[0].startsWith("Hasselblad")){var x=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var y=0;y<x.length;y++)if(K["t"+x[y]]!=null)K["t"+x[y]]=W.raw.kf(K["t"+x[y]]);if(K.t271&&K.t271[0].startsWith("Hasselblad")){K.t50706=[1,2,0,0];
K.t33422=W.raw.aP[1];K.t50723=[1,0,0,0,1,0,0,0,1];K.t50778=[17];if(!K.isLE)for(var y=0;y<K.data.length;
y+=2){var c=K.data[y];K.data[y]=K.data[y+1];K.data[y+1]=c}}if(K.t272&&K.t272[0]=="HERO10 Black"){K.t50728=[.469725,1,.739884];
if(!K.t305[0].startsWith("Adobe")){var J=new Uint16Array(K.data.buffer);for(var y=0;y<J.length;y++)J[y]>>>=2}}return}var i=K.t258[0],P=K.exifIFD,E=new Uint8Array(E);
K.t50706=[1,2,0,0];var _=K.t272[0].trim();if(_.indexOf(" ")==-1)_=K.t271[0].trim()+" "+_;if(K.t50708==null)K.t50708=[_];
var a=_.toLowerCase(),j=CAMS,e=j[a];if(e==null)for(var d in j)if(a.startsWith(d))e=j[d];if(e==null)alert("Unknown camera:"+_);
else{var I=e[2];K.t50714=[I,I,I,I];if(K.t272=="Canon EOS REBEL T3")e[3]=13584;K.t50717=[e[3]];K.t50721=e[0].slice(0);
for(var y=0;y<9;y++)K.t50721[y]=K.t50721[y]*(1/1e4)}K.t50723=[1,0,0,0,1,0,0,0,1];if(K.t50728==null)K.t50728=[.35,1,.6];
K.t50778=[17];if(K.t271[0].startsWith("SONY")){var v=UTIF["_bin"+(K.isLE?"LE":"BE")],n=K.t28688,B;if(JSON.stringify(n)!="[8000,10400,12900,14100]")console.log(n);
if(n){var C=[0,0,0,0,0,4095],T=new Uint16Array(16385);for(var y=0;y<4;y++){var o=n[y]>>>2;C[y+1]=o;if(o>4095)throw"e"}for(var y=0;
y<16385;y++)T[y]=y;for(var y=0;y<5;y++)for(var s=C[y]+1;s<=C[y+1];s++)T[s]=T[s-1]+(1<<y);var Q=E.length*8<K.width*K.height*i;
if(Q)K.t50712=T}else console.log("no curve");var X=K.dngPrvt;if(X){var M=X.t29184[0],S=X.t29185[0],f=(K.isLE?R.Pc:R.s)(X.t29217,0),F=new Uint32Array(E.slice(M,M+(S&4294967292)).buffer),G=new Uint32Array(S>>>2);
W.raw.a60(F,G,S>>>2,f);var D=new Uint8Array(M+S);D.set(new Uint8Array(G.buffer),M);var b=[];UTIF._readIFD(v,D,M,b,0,!1);
var H=b.pop(),q=H.t29458;K.t50728=[q[1]/q[0],1,q[1]/q[3]];K.t50730=[.5];var O=H.t29891;K.t50829=[O[1],O[0],O[3],O[2]]}else if(P.makerNote&&P.makerNote.t8208){var B=P.makerNote,w=B.t8208,V=w.length,t=0,m=new Uint8Array(256);
for(var y=249;y<256;y++)m[y]=y;for(var y=0;y<249;y++)m[y*y*y%249]=y;for(var y=0;y<V;y++)w[y]=m[w[y]];
if(V==6604)t=612;else throw"e";var q=[];for(var y=0;y<3;y++)q.push(R.Hd(w,t+y*2));console.log(q);K.t50728=[q[1]/q[0],1,q[1]/q[2]]}else console.log("no white balance");
if(K.width*K.height*1.5==K.t279[0]){I=I>>>2;K.t50714=[I,I,I,I];K.t50717=[e[3]>>>2]}}else if(K.t271[0].startsWith("Canon")){var E=K.data,g=E.slice(0),Y=K.t50752,A=[],z=0;
if(Y==null||Y[0]==0&&Y[1]==0)A.push(K.width);else{for(var y=0;y<Y[0];y++)A.push(Y[1]);A.push(Y[2])}var k=K.width*2,p=K.t50885&&K.t50885[0]==4;
if(!p)for(var L=0;L<A.length;L++){var N=A[L],gC=2*z,r=2*N;for(var h=0;h<K.height;h+=2){var l=h*k+gC,g5=K.height*gC+h*r;
for(var y=0;y<r;y++){E[l+y]=g[g5+y];E[l+y+k]=g[g5+y+r]}}z+=N}else{for(var L=0;L<A.length;L++){var N=A[L]/((Y[0]*Y[1]+Y[2])/K.width);
for(var h=0;h<K.height;h++){var l=(h*K.width+z)*6,g5=(K.height*z+h*N)*6;for(var y=0;y<N*6;y++)E[l+y]=g[g5+y]}z+=N}var fm=new Uint16Array(E.buffer),dC=new Uint16Array(1),ex=new Int16Array(dC.buffer);
for(var y=0;y<fm.length;y+=3){var cR=fm[y],d0=fm[y+1],hN=fm[y+2];dC[0]=d0<<2;d0=ex[0]>>2;dC[0]=hN<<2;
hN=ex[0]>>2;fm[y+0]=Math.max(0,hN+cR);fm[y+1]=Math.max(0,(cR<<12)-d0*778-(hN<<11)>>12);fm[y+2]=Math.max(0,d0+cR)}}var B=P.makerNote;
if(B.t16385){var ey=B.t224,bQ=0;if(ey){var M=K.t50719=[ey[5],ey[6]],cr=K.t50720=[ey[7]+1-ey[5],ey[8]+1-ey[6]],ik=B.t154;
if(ik){M[0]+=ik[3];M[1]+=ik[4];cr[0]=ik[1];cr[1]=ik[2]}}var hd=B.t16385,df=hd.length;if(df==582)bQ=1;
else if(df==653)bQ=2;else if(df==796)bQ=3;else if([692,674,702,1227,1250,1251,1337,1338,1346].indexOf(df)!=-1)bQ=4;
else if(df==5120){bQ=5;hd=new Int16Array(hd.slice(0).buffer)}else if(df==1273||df==1275)bQ=6;else if([1312,1313,1316,1506].indexOf(df)!=-1)bQ=7;
else if([1560,1592,1353,1602].indexOf(df)!=-1)bQ=8;else throw"e"+df;var is=hd[0],bi=[null,[25,166],[34,286],[63,196],[63],[71,is==-4?333:264],[63,251],[63,is==10?504:728],[63,326]],t=bi[bQ][0],jX=bi[bQ][1];
if(bQ==4){if(hd[0]==2)jX=231;else if(hd[0]==3)jX=231;else if(hd[0]==4)jX=231;else if(hd[0]==5)jX=231;
else if(hd[0]==6)jX=231;else if(hd[0]==7)jX=231;else if(hd[0]==9)jX=231;else throw"e"}K.t50728=[hd[t+1]/hd[t],1,hd[t+1]/hd[t+3]];
var I=jX==null?1024:hd[jX];if(bQ!=4)K.t50714=[I,I,I,I]}else{K.t50728=[.4,1,.6]}if(p){K.t277=[3];K.t50728=[1,1,1];
K.t50714=[0,0,0,0]}}else if(K.t271[0].startsWith("NIKON")){var B=P.makerNote,eS=K.isLE?R.Hd:R.ZM,hY=0,ji=0,jJ,gN=0;
if(B.t61){var bN=B.t61,h9=[];for(var y=0;y<4;y++)h9[y]=bN[y]/Math.pow(2,14-i);K.t50714=h9}if(B.t3585){var bz=B.t3585,y=0,M=22;
while(M<bz.length&&y!=-4){var i0=R.Pc(bz,M);M+=4;M+=14;y=R.Pc(bz,M)-4;M+=4;if(i0==1990472198){if(bz[M]!=0)throw"Flip"}if(i0==1990472199){var hp=R.Hd(bz,M);
if(hp==0)K.JX=1;else if(hp==270)K.JX=8;else throw"e "+hp}M+=y}}if(B.t183){var aM=B.t183,cr=[];for(var y=0;
y<6;y++)cr.push(eS(aM,16+y*2));hY=cr[0];ji=cr[1]}if(B.t3614){var a1=B.t3614;hY=R.Pc(a1,8);ji=R.Pc(a1,12)}if(hY!=0&&Math.max(hY,ji)<Math.max(K.width,K.height)){if(hY<ji){var c=hY;
hY=ji;ji=c}var z=K.width-hY>>>1,h=K.height-ji>>>1;K.t50829=[h,z,h+ji,z+hY]}else K.t50829=[8,8,K.height-8,K.width-56];
var fi=B.t69;if(fi)K.t50829=[fi[1],fi[0],fi[1]+fi[3],fi[0]+fi[2]];if(B.t12){var gg=W.raw.kf(B.t12);jJ=[1/gg[0],1,1/gg[1]]}else if(B.t151){var iN=W.raw.a0W(B,151),ad=iN[0],b0=iN[1],h6=iN[2];
if(ad=="0100"&&b0>=80)throw"e";else if(ad=="0102"){var iY=[];for(var y=0;y<4;y++)iY.push(eS(h6,6+y*2));
jJ=[iY[1]/iY[0],1,iY[1]/iY[3]]}else if(ad=="0103"&&b0>=26){var iY=[];for(var y=0;y<4;y++)iY.push(eS(h6,16+y*2));
jJ=[iY[1]/iY[0],1,iY[3]/iY[2]]}else if(ad=="0204"&&b0>=564||ad=="0205"&&b0>=284){var M=ad=="0204"?6:14,iY=[];
for(var y=0;y<4;y++)iY.push(eS(h6,M+y*2));jJ=[iY[1]/iY[0],1,iY[1]/iY[3]]}else throw"e"}else console.log("no white balance info");
if(_=="NIKON D1")jJ=[1,1,1];if(jJ)K.t50728=jJ;var kh=B.t150?B.t150:B.t140;if(kh){var aT=kh[gN++],iv=kh[gN++],g8;
if(aT==73||iv==88)gN+=2110;gN+=8;var fs=1<<i&32767,gm=eS(kh,gN);gN+=2;var T=[];if(gm>1)g8=Math.floor(fs/(gm-1));
if(aT==68&&iv==32&&g8>0){for(y=0;y<gm;y++){T[y*g8]=eS(kh,gN);gN+=2}for(y=0;y<fs;y++)T[y]=Math.floor((T[y-y%g8]*(g8-y%g8)+T[y-y%g8+g8]*(y%g8))/g8)}else if(aT!=70&&gm<=16385){fs=gm;
for(var y=0;y<gm;y++)T[y]=eS(kh,gN+2*y);gN+=2*gm}var b_=K.t272[0];if(T.length!=0)K.t50712=new Uint16Array(T);
if(K.t258[0]==14&&K.t50717[0]<1e4){console.log("fixing white");K.t50717[0]*=4}}}else if(_.startsWith("FujiFilm")){}else if(_.startsWith("Panasonic")){if(K.t277==null)K.t277=[1]}else alert("Unknown camera "+_)};
W.raw.a60=function(K,E,x,c){if(0==x)return;var J=new Uint32Array(128),i=new Uint8Array(J.buffer),P=127,_=0,a=0;
for(var P=0;P<4;P++)J[P]=c=(c*15625>>>0)*3125+1>>>0;J[3]=J[3]<<1|(J[0]^J[2])>>>31;for(var P=4;P<127;
P++)J[P]=(J[P-4]^J[P-2])<<1|(J[P-3]^J[P-1])>>>31;for(var P=0;P<127;P++)J[P]=R.s(i,P*4);for(;x>0;x--){J[P&127]=J[P+1&127]^J[P+1+64&127];
var j=J[P&127],e=K[_];e^=j;E[a]=e;_++;a++;P++}};W.raw.ajD=function(K,E){var x=R.pr(E,0,4),c=W.raw.a80;
for(var y=0;y<c.length;y++)if(c[y][0]==K&&x.startsWith(c[y][1])&&(c[y][2]==0||c[y][2]==E.length))return c[y];
throw"e"};W.raw.asW=function(K){if(K.t29==null)return[];var E=W.raw.akF,x=W.raw.af0,c=K.t29[0],J=0,P=0;
for(var y=0;y<c.length;y++){var i=c.charCodeAt(y);J=J*10+(48<=i&&i<=57?i-48:i%10)}var b0=K.t167[0];for(var y=0;
y<4;y++)P^=b0>>>(y<<3)&255;var _=E[J&255],a=x[P&255];return[_,a,96]};W.raw.a0W=function(K,E){var x=K["t"+E],b0=x.length,c=W.raw.ajD(E,x),J=R.pr(x,0,4),i,P=c[4];
if(P==null)i=x.slice(4);else{i=new Uint8Array(b0-P);var _=W.raw.asW(K),a=_[0],j=_[1],e=_[2];for(var y=0;
y<i.length;y++){j=j+a*e++&255;i[y]=x[P++]^j}}return[J,b0,i]};W.raw.a80=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
W.raw.akF=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
W.raw.af0=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
W.g6={};W.g6.g6=function(K,E,x,c,J){if(c==null)c=3;if(J==null)J=!0;var i=K.b,P=K.n,_=1/i,a=i*P,j=Date.now(),e=!1,d=W.g6.te(x,i,P,255,128),I=W.g6.te(x,i,P,0,128),r=0;
if(e)console.log("extract contours",Date.now()-j);j=Date.now();var v=function(gg,iN){var ad=gg<<2,h6=iN<<2;
return E[ad]+E[ad+1]+E[ad+2]-(E[h6]+E[h6+1]+E[h6+2])};d.sort(v);I.sort(v);var n=W.Q(a),C=W.Q(a),T=[],o=new Uint32Array(i*P);
o.fill(4294967295);for(var y=0;y<a;y++)if(x[y]==0)C[y]=255;else if(x[y]==255)n[y]=255;else{o[y]=T.length;
T.push(y)}var s=d.length,Q=I.length,X=T.length;function B(gg,iN,ad,h6){var iY=gg.length,kh=new Array(iY*2);
for(var y=0;y<iY;y++){var V=gg[y],t=~~(V*h6),m=V-t*ad,a1=V<<2;kh[y*2]=m<<16|t;kh[y*2+1]=iN[a1]<<16|iN[a1+1]<<8|iN[a1+2]}return kh}var M=B(d,E,i,_),S=B(I,E,i,_),f=B(T,E,i,_);
if(e)console.log("Itemize",Date.now()-j,"Unknown:",X,s,Q);j=Date.now();var F=W.style.PV(n,i,P,!0),G=W.style.PV(C,i,P,!0),D=new Array(X),b=new Array(X),H=new Array(X),q=new Array(X),O=new Array(X);
if(e)console.log("Dist transform",Date.now()-j);j=Date.now();var w=W.g6.am;for(var y=0;y<X;y++){var V=T[y],t=~~(V*_),m=V-t*i,g=F[V<<1],Y=F[(V<<1)+1],A=Math.sqrt(g*g+Y*Y),k=G[V<<1],z=G[(V<<1)+1],p=Math.sqrt(k*k+z*z);
D[y]=1/A;b[y]=1/p;var L=Math.floor(W.h.WJ(V*17)*s),N=Math.floor(W.h.WJ(V*19)*Q);H[y]=L;q[y]=N;O[y]=w(f[y*2],f[y*2+1],M[L*2],M[L*2+1],S[N*2],S[N*2+1],D[y],b[y],1e9)}var gC=[-i-1,-i,-i+1,-1,1,i-1,i,i+1];
while(Math.floor(Math.max(s,Q)*Math.pow(.5,r))>1)r++;for(var h=0;h<c;h++){var l=0;for(var y=0;y<X;y++){var V=T[y],t=~~(V*_),m=V-t*i,g5=D[y],fm=b[y],dC=f[y*2],ex=f[y*2+1],cR=O[y],L=H[y],N=q[y],hd=1;
if(t!=0&&m!=0&&m!=i-1&&t!=P-1)for(var d0=0;d0<8;d0++){var hN=o[V+gC[d0]];if(hN==4294967295)continue;
var ey=H[hN],cr=q[hN];if(ey==L&&cr==N)continue;var ik=w(dC,ex,M[ey*2],M[ey*2+1],S[cr*2],S[cr*2+1],g5,fm,cR);
if(ik<cR){cR=ik;L=ey;N=cr}}for(var df=0;df<r;df++){var bQ=~~(s*hd),is=~~(Q*hd);hd*=.5;var bi=W.h.WJ(V+h*17+df*31),jX=W.h.WJ(V+h*29+df*63),eS=Math.max(0,L-bQ),bN=Math.min(L+bQ,s-1),h9=Math.max(0,N-is),bz=Math.min(N+is,Q-1),ey=eS+~~(bi*(bN-eS)),cr=h9+~~(jX*(bz-h9)),ik=w(dC,ex,M[ey*2],M[ey*2+1],S[cr*2],S[cr*2+1],g5,fm,cR);
if(ik<cR){cR=ik;L=ey;N=cr}}O[y]=cR;H[y]=L;q[y]=N;l+=cR}}if(e)console.log(l);if(e)console.log("iterations",Date.now()-j);
j=Date.now();var i0=x.slice(0);for(var y=0;y<X;y++){var hY=W.g6.alpha(f[y*2+1],M[H[y]*2+1],S[q[y]*2+1]);
i0[T[y]]=~~(.5+255*hY)}i0=W.bh.asY(i0,E,new cS(0,0,i,P),16,.01*.01);if(e)console.log("guided filter",Date.now()-j);
j=Date.now();if(J)for(var y=0;y<a;y++)if(x[y]==255||x[y]==0)i0[y]=x[y];var ji=E.slice(0);for(var y=0;
y<X;y++){var aM=T[y],L=d[H[y]],cR=O[y],a1=aM<<2,fi=i0[aM],jJ=(fi>=250?aM:L)<<2;ji[a1]=E[jJ];ji[a1+1]=E[jJ+1];
ji[a1+2]=E[jJ+2]}W.Mz(i0,ji,3);if(e)console.log(Date.now()-j);j=Date.now();return ji};W.g6.am=function(K,E,x,c,J,i,P,_,a){var j=K>>>16,e=K&65535,d=j-(x>>>16),I=e-(x&65535),v=j-(J>>>16),n=e-(J&65535),C=Math.sqrt(d*d+I*I)*P,T=Math.sqrt(v*v+n*n)*_;
if(C+T>=a)return 1e9;var o=W.g6.at1(E,c,i);return o+C+T};W.g6.at1=function(K,E,x){var c=K>>>16,J=K>>>8&255,i=K&255,P=E>>>16,_=E>>>8&255,a=E&255,j=x>>>16,e=x>>>8&255,d=x&255,I=W.g6.alpha(K,E,x),v=c-(I*P+(1-I)*j),C=J-(I*_+(1-I)*e),T=i-(I*a+(1-I)*d);
return Math.sqrt(v*v+C*C+T*T)};W.g6.alpha=function(K,E,x){var c=K>>>16,J=K>>>8&255,i=K&255,P=E>>>16,_=E>>>8&255,a=E&255,j=x>>>16,e=x>>>8&255,d=x&255,I=P-j,v=_-e,n=a-d,C=c-j,T=J-e,o=i-d,s=I*I+v*v+n*n,Q=s==0?.5:(C*I+T*v+o*n)/s;
return Math.max(0,Math.min(1,Q))};W.g6.aak=function(K){};W.g6.te=function(K,E,x,c,J){var i=[],P=E-1,_=x-1;
for(var a=1;a<_;a++)for(var j=1;j<P;j++){var y=a*E+j;if(K[y]==c&&(K[y-E-1]==J||K[y-E]==J||K[y-E+1]==J||(K[y-1]==J||K[y+1]==J)||(K[y+E-1]==J||K[y+E]==J||K[y+E+1]==J)))i.push(y)}return i};
W.bh={};W.bh.ao9=function(K,E,x,c,J){var i=x.b,P=x.n,_=i*P,a=W.bh.ZK,j=W.Q(_*4),e;W._m(j,4294967295);
var d=x,I=K,v=E,n=c;W.Mz(K,j,0);e=W.D1(j,x);e=W.D1(e.Ly,e.rect);d=e.rect;n=c>>>2;console.log(d,n);I=W.Q(d.O());
W.Bp(e.Ly,I,0);W.Mz(E,j,0);e=W.D1(j,x);e=W.D1(e.Ly,e.rect);v=W.Q(d.O());W.Bp(e.Ly,v,0);var C=W.bh.aqh(I,v,d,n,J),T=C[0],o=C[1],s=new cS(0,0,d.b*2,d.n*2);
T=a(T,d,s,!0);T=a(T,s,x,!0);o=a(o,d,s,!0);o=a(o,s,x,!0);var Q=W.Q(_);for(var y=0;y<_;y++)Q[y]=Math.max(0,Math.min(255,Math.floor(.5+(T[y]*E[y]+255*o[y]))));
return Q};W.bh.ZK=function(K,E,x,c){var J=x.b,i=x.n,P=E.b,_=E.n,a=W.bh.BD,j=new Float32Array(J*i);for(var e=0;
e<_;e++){var d=(e+e)*J;for(var I=0;I<P;I++){if(!0||I==0||e==0||I==P-1||e==_-1)j[d]=j[d+1]=j[d+J]=j[d+J+1]=K[e*P+I];
else{j[d]=a(I+.25,e+.25,K,P,_);j[d+1]=a(I+.75,e+.25,K,P,_);j[d+J]=a(I+.25,e+.75,K,P,_);j[d+J+1]=a(I+.75,e+.75,K,P,_)}d+=2}}return j};
W.bh.BD=function(K,E,x,c,J){K-=.499999;E-=.499999;var i=Math.floor(K),P=Math.floor(E),_=P*c+i,a=K-i,j=E-P,e=(1-j)*(1-a),d=(1-j)*a,I=j*(1-a),v=j*a;
if(x[_]==null||x[_+c+1]==null){console.log(K,E,c,J);throw"e"}return e*x[_+0]+d*x[_+1]+I*x[_+c+0]+v*x[_+c+1]};
W.bh.aqh=function(K,E,x,c,J){var i=x.b,P=x.n,_=i*P,a=W.bh.Ui,j=W.bh.Q,e=W.HL.cB,d=W.bh.jf,E=a(E),K=a(K),I=j(_);
e(E,I,x,c);var v=j(_);e(K,v,x,c);var n=j(_);d(E,E,n);e(n,n,x,c);var C=j(_);d(E,K,C);e(C,C,x,c);var T=j(_),o=j(_);
for(var y=0;y<_;y++){var s=I[y],Q=v[y],X=n[y]-s*s,B=C[y]-s*Q,M=B/(X+J),S=Q-M*s;T[y]=M;o[y]=S}var f=j(_);
e(T,f,x,c);var F=j(_);e(o,F,x,c);return[f,F]};W.bh.asY=function(K,E,x,c,J){var i=x.b,P=x.n,_=i*P,a=W.bh.ZK,j=Date.now(),e=!1,d=x,I=K,v=E,n=c;
d=new cS(0,0,i>>>2,P>>>2);n=c>>>2;I=W.bh.ajM(K,i,P);v=W.bh.a1F(E,i,P);if(e)console.log(Date.now()-j);
j=Date.now();var C=W.bh.at_(I,v,d,n,J),T=C[0],o=C[1],s=C[2],Q=C[3];if(e)console.log(Date.now()-j);j=Date.now();
var X=W.Q(_);for(var B=0;B<P;B++)for(var M=0;M<i;M++){var y=B*i+M,S=(B>>>2)*(i>>>2)+(M>>>2),f=y<<2,F=T[S]*E[f]+o[S]*E[f+1]+s[S]*E[f+2]+Q[S]*255;
X[y]=Math.max(0,Math.min(255,~~(.5+F)))}if(e)console.log(Date.now()-j);j=Date.now();return X};W.bh.ajM=function(K,E,x){var c=E>>>2,J=x>>>2,i=W.Q(E*x);
for(var P=0;P<J;P++)for(var _=0;_<c;_++)i[P*c+_]=K[P*E+_<<2];return i};W.bh.a1F=function(K,E,x){var c=E>>>2,J=x>>>2,i=W.Q(E*x*4);
for(var P=0;P<J;P++)for(var _=0;_<c;_++){var a=P*c+_<<2,j=P*E+_<<4;i[a]=K[j];i[a+1]=K[j+1];i[a+2]=K[j+2];
i[a+3]=K[j+3]}return i};W.bh.at_=function(K,E,x,c,J){var i=x.b,P=x.n,_=i*P,a=W.bh.Ui,j=W.bh.Q,e=W.HL.cB,d=W.bh.jf,K=a(K),I=new W.oA(i*P);
W.bT(E,I);var E=[a(I.o),a(I.J),a(I.k)],v=W.bh.aur(K,E,x,c,J),n=j(_);e(K,n,x,c);var C=j(_);d(E[0],K,C);
e(C,C,x,c);var T=j(_);d(E[1],K,T);e(T,T,x,c);var o=j(_);d(E[2],K,o);e(o,o,x,c);var s=j(_),Q=j(_),X=j(_),B=j(_);
for(var y=0;y<_;y++){var M=n[y],S=v.J0[y],f=v.zk[y],F=v.Sy[y],G=C[y]-S*M,D=T[y]-f*M,b=o[y]-F*M;s[y]=v.a4d[y]*G+v.D6[y]*D+v.PT[y]*b;
Q[y]=v.D6[y]*G+v.auF[y]*D+v.mZ[y]*b;X[y]=v.PT[y]*G+v.mZ[y]*D+v.a4z[y]*b;B[y]=M-s[y]*S-Q[y]*f-X[y]*F}e(s,s,x,c);
e(Q,Q,x,c);e(X,X,x,c);e(B,B,x,c);return[s,Q,X,B]};W.bh.aur=function(K,E,x,c,J){var i=x.b,P=x.n,_=i*P,a=W.bh.Q,j=W.HL.cB,e=W.bh.jf,d={};
d.J0=a(_);j(E[0],d.J0,x,c);d.zk=a(_);j(E[1],d.zk,x,c);d.Sy=a(_);j(E[2],d.Sy,x,c);var I=a(_);e(E[0],E[0],I);
j(I,I,x,c);var v=a(_);e(E[0],E[1],v);j(v,v,x,c);var n=a(_);e(E[0],E[2],n);j(n,n,x,c);var C=a(_);e(E[1],E[1],C);
j(C,C,x,c);var T=a(_);e(E[1],E[2],T);j(T,T,x,c);var o=a(_);e(E[2],E[2],o);j(o,o,x,c);d.a4d=I;d.D6=v;
d.PT=n;d.auF=C;d.mZ=T;d.a4z=o;for(var y=0;y<_;y++){var s=d.J0[y],Q=d.zk[y],X=d.Sy[y],B=I[y]-s*s+J,M=v[y]-s*Q,S=n[y]-s*X,f=C[y]-Q*Q+J,F=T[y]-Q*X,G=o[y]-X*X+J,D=f*G-F*F,b=F*S-M*G,H=M*F-f*S,q=B*G-S*S,O=S*M-B*F,w=B*f-M*M,V=D*B+b*M+H*S,t=1/V;
d.a4d[y]=D*t;d.D6[y]=b*t;d.PT[y]=H*t;d.auF[y]=q*t;d.mZ[y]=O*t;d.a4z[y]=w*t}return d};W.bh.Q=function(K){return new Float32Array(K)};
W.bh.Ui=function(K){var E=K.length,x=new Float32Array(E);for(var y=0;y<E;y++)x[y]=K[y]*(1/255);return x};
W.bh.jf=function(K,E,x){for(var y=0;y<K.length;y++)x[y]=K[y]*E[y]};W.iy={};W.iy.wB=function(K,E,x,c){var J=K[E]-x[c],i=K[E+1]-x[c+1],P=K[E+2]-x[c+2];
return Math.sqrt(J*J+i*i+P*P)*(1/441.7)};W.iy.getSelection=function(K,E,x){var c=E*x,J=W.Q(c),i=!1,P=Math.round(x*.7),_=1,a=new Uint32Array(12),j=W.Q(12);
for(var e=0;e<P;e++)for(var d=0;d<E;d++){if(d<_||e<_||d>E-_-1||e>x-_-1){var y=e*E+d,I=y<<2,v=0;if(e<_)v=4;
else if(d>E-_-1)v=8;a[v]+=K[I];a[v+1]+=K[I+1];a[v+2]+=K[I+2];a[v+3]++;J[y]=255}}for(var y=0;y<12;y+=4)for(var n=0;
n<3;n++)j[y+n]=a[y+n]/a[y+3];var C=new Float32Array(c);for(var y=0;y<c;y++){var I=y*4,T=W.iy.wB(K,I,j,0),o=W.iy.wB(K,I,j,4),s=W.iy.wB(K,I,j,8),Q=Math.max(T,Math.max(o,s));
C[y]=T+o+s-Q}W.iy.SW(C);var X=Date.now(),B=new Float32Array(c),M=[],S=W.Q(c);for(var y=0;y<3;y++){W.Bp(K,S,y);
var f=new Uint16Array(c);M.push(f);W.iy.avW(S,J,E,x,f)}if(i)console.log("MBD",Date.now()-X);X=Date.now();
for(var y=0;y<c;y++)B[y]=M[0][y]+M[1][y]+M[2][y];W.iy.SW(B);for(var y=0;y<c;y++)B[y]+=.4*C[y];var F=E>>>1,P=x>>>1,G=1/Math.sqrt(F*F+P*P);
for(var e=0;e<x;e++)for(var d=0;d<E;d++){var D=d-F,b=e-P,H=1-Math.sqrt(D*D+b*b)*G;B[e*E+d]*=H}if(i)console.log("Centeredness",Date.now()-X);
X=Date.now();for(var y=0;y<c;y++)J[y]=B[y]*255;var q=Math.round(E/120),O=Math.round(q*.8);if(i)console.log(q,O);
W.WD.h5(J,S,E,x,q,W.WD.pW,[]);J.set(S);if(i)console.log("erosion",Date.now()-X);X=Date.now();for(var y=0;
y<c;y++)B[y]=J[y];W.iy.SW(B);var w=W.Q(256);for(var y=0;y<256;y++)w[y]=256/(1+Math.exp(-20*(y/255-.5)));
for(var y=0;y<c;y++){var V=~~(B[y]*255+.5);J[y]=w[V]}if(i)console.log("Simoid",Date.now()-X);X=Date.now();
return J};W.iy.SW=function(K){var E=K.length,x=0;for(var y=0;y<E;y++)x=Math.max(x,K[y]);var c=1/x;for(var y=0;
y<E;y++)K[y]=K[y]*c};W.iy.avW=function(K,E,x,c,J){var i=x*c,P=K.slice(0),_=K.slice(0);for(var y=0;y<i;
y++)J[y]=E[y]==255?0:65535;W.iy.Tu(K,_,P,J,x,c);W.iy.MM(K,_,P,J,x,c);W.iy.Tu(K,_,P,J,x,c);W.iy.MM(K,_,P,J,x,c);
return J};W.iy.Tu=function(K,E,x,c,J,i){for(var P=1;P<J;P++)W.iy.ku(P,-1,K,E,x,c);for(var _=1;_<i;_++){W.iy.ku(_*J,-J,K,E,x,c);
for(var P=1;P<J;P++){var y=_*J+P;W.iy.ku(y,-1,K,E,x,c);W.iy.ku(y,-J,K,E,x,c)}}};W.iy.MM=function(K,E,x,c,J,i){for(var P=J-2;
P>=0;P--)W.iy.ku(J*i-J+P,1,K,E,x,c);for(var _=i-2;_>=0;_--){W.iy.ku(_*J+J-1,J,K,E,x,c);for(var P=J-2;
P>=0;P--){var y=_*J+P;W.iy.ku(y,1,K,E,x,c);W.iy.ku(y,J,K,E,x,c)}}};W.iy.ku=function(y,K,E,x,c,J){var i=y+K,P=E[y],_=x[i],a=c[i];
if(_<P)_=P;else if(P<a)a=P;var j=_-a;if(J[i]!=65535&&j<J[y]){J[y]=j;x[y]=_;c[y]=a}};W.zH={};W.zH.filter=function(K,E,x,c){var J=E.b,i=E.n,P=J*i,_=c[0],a=c[1],j=c[2],e=c[3],d=c[4],I=c[5],v=c[6],n=Date.now(),C=new Float32Array(J*i*4);
W.zH.axe(K,J,i,C);var T=Math.ceil(_*Math.sqrt(-2*Math.log(.1))),o=new ArrayBuffer(P*4),s=new Float32Array(o),Q=new Float32Array(P),X=new Float32Array(P);
for(var y=0;y<P;y++){var B=y*4;s[y]=C[B];Q[y]=C[B+1];X[y]=C[B+2]}W.HL.u$(s,s,E,T*1/2.4,2);W.HL.u$(Q,Q,E,T*1/2.4,2);
W.HL.u$(X,X,E,T*1/2.4,2);for(var y=0;y<P;y++){var B=y*4;C[B]=s[y];C[B+1]=Q[y];C[B+2]=X[y]}var M=new Uint8Array(o);
for(var y=0;y<P;y++){var B=y*4,S=y*4,s=C[B],Q=C[B+1],X=C[B+2],f=Math.sqrt((s-X)*(s-X)+4*Q*Q),F=(s+X+f)*.5,G=(s+X-f)*.5,D=G-X,b=Q,H=D*D+b*b;
if(H!=0){var q=Math.sqrt(H),O=1/q;D*=O;b*=O}M[S]=128+127*D;M[S+1]=128+127*b}var w=1.3*a+2,V=e*(2/10),t=K.slice();
if(f4.Eg){var m=new Float32Array([1/J,1/i]),g=f4.nT(0,J,i);g.set(t);var Y=f4.nT(1,J,i);Y.set(M);f4.rA(g,E);
if(d){g.N0(E);f4.filter.wN({type:f4.filter.a2y,P9:m,a7d:1/j,auj:V},g.DV)}g.N0(E);f4.filter.wN({type:f4.filter.RQ,LY:Y.Iz,P9:m,abt:w,a6E:2},g.DV);
if(d){g.N0(E);f4.filter.wN({type:f4.filter.adX,P9:m,akP:new Float32Array(v),a5G:I},g.DV)}g.get(x)}else{if(d)W.zH._V(1/j,V,t,J,i);
W.zH.RQ(t,x,M,J,i,w);if(d)W.zH.axF(J,i,x,v,I)}var A=P*4;for(var y=3;y<A;y+=4)x[y]=K[y]};W.zH.RQ=function(K,E,x,c,J,i){var P=Math.ceil(2*i),_=-1/(2*i*i),a=[],j=1;
for(var y=0;y<P+20;y++)a[y]=Math.exp(y*y*_);var e=[0,0,0,0];for(var d=0;d<J;d++){for(var I=0;I<c;I++){var v=d*c+I,n=v*4,C=1,T=K[n],o=K[n+1],s=K[n+2],Q=K[n+3],X=(x[n]-128)*(1/127),B=(x[n+1]-128)*(1/127),M=X,S=B,f=I==0?.51:.49,F=d==0?.51:.49;
for(var y=0;y<2;y++){var G=I+f,D=d+F,b=0;while(b<P){if(G<.5||c-.5<G||D<.5||J-.5<D)break;var H=~~G,q=~~D,O=q*c+H,w=O*4,V=(x[w]-128)*(1/127),t=(x[w+1]-128)*(1/127);
if(V*M+t*S<0){V=-V;t=-t}M=V;S=t;G+=j*V;D+=j*t;if(G<.5||c-.5<G||D<.5||J-.5<D)break;var m=~~G,g=~~D,Y=g*c+m<<2;
b+=j;var A=a[~~b];W.K.Md(G,D,K,c,J,e);T+=e[0]*A;o+=e[1]*A;s+=e[2]*A;Q+=e[3]*A;C+=A}M=-X;S=-B}var k=1/C;
E[n]=~~(.5+T*k);E[n+1]=~~(.5+o*k);E[n+2]=~~(.5+s*k);E[n+3]=~~(.5+Q*k)}}};W.zH.axF=function(K,E,x,c,J){for(var i=0;
i<E;i++)for(var P=0;P<K;P++){var _=i*K+P<<2,a=1+W.zH.a5D(P,i,x,K,E,c)*J;x[_]=Math.max(0,Math.min(255,x[_]*a));
x[_+1]=Math.max(0,Math.min(255,x[_+1]*a));x[_+2]=Math.max(0,Math.min(255,x[_+2]*a))}};W.zH.a5D=function(K,E,x,c,J,i){var P=x[(E*c+Math.max(0,K-1))*4+3],_=x[(E*c+Math.min(c-1,K+1))*4+3],a=x[(Math.max(0,E-1)*c+K)*4+3],j=x[(Math.min(J-1,E+1)*c+K)*4+3],e=.7,d=(_-P)*(1/255),I=.7,v=(j-a)*(1/255),n=-d*I,C=-e*v,T=e*I,o=Math.sqrt(n*n+C*C+T*T),s=1/o,Q=n*s,X=C*s,B=T*s,M=i[0]*Q+i[1]*X+i[2]*B;
return M};W.zH._V=function(K,E,x,c,J){function i(_,j,e){return Math.max(j,Math.min(e,_))}for(var P=0;
P<J;P++)for(var _=0;_<c;_++){var a=W.zH.a7n(_+.5,P+.5,K,E);x[(P*c+_)*4+3]=Math.max(0,Math.min(255,a*255))}};
W.zH.a7n=function(K,E,x,c){function J(S,f,F){return(1-F)*S+F*f}var i=(K+613)*x,P=(E+117)*x,_=~~i,a=~~P,j=i-_,e=P-a,d=Math.sin(11),I=Math.cos(_)*d,v=Math.cos(_+1)*d,n=Math.cos(a)*d,C=Math.cos(a+1)*d,hr=W.zH.hash(I,n),T=W.zH.hash(v,n),o=W.zH.hash(I,C),s=W.zH.hash(v,C),Q=J(hr,T,j),X=J(o,s,j),B=J(Q,X,e);
B=B<.5?0:1;var M=B+c*W.zH.hash(Math.cos(i)*d,Math.cos(P)*d);return M*(1/3)};W.zH.hash=function(K,E){var x=Math.sin(K*11.697096+E*73.32456)*12157.47691;
return x-Math.floor(x)};W.zH.axe=function(K,E,x,c){var J=[-1,0,1,-2,0,2,-1,0,1],i=[-1,-2,-1,0,0,0,1,2,1],P=E-1,_=x-1,a=E*4;
for(var j=1;j<_;j++)for(var e=1;e<P;e++){var y=j*E+e,d=y*4,I=W.zH.Pz(K,d,a,J),v=W.zH.Pz(K,d,a,i),n=W.zH.Pz(K,d+1,a,J),C=W.zH.Pz(K,d+1,a,i),T=W.zH.Pz(K,d+2,a,J),o=W.zH.Pz(K,d+2,a,i);
c[d]=I*I+n*n+T*T;c[d+1]=I*v+n*C+T*o;c[d+2]=v*v+C*C+o*o}W.zH.ayn(c,E,x)};W.zH.Pz=function(K,E,x,c){return K[E-x-4]*c[0]+K[E-x]*c[1]+K[E-x+4]*c[2]+K[E-4]*c[3]+K[E]*c[4]+K[E+4]*c[5]+K[E+x-4]*c[6]+K[E+x]*c[7]+K[E+x+4]*c[8]};
W.zH.ayn=function(K,E,x){function c(a,y,j){var e=y*4,d=j*4;a[d]=a[e];a[d+1]=a[e+1];a[d+2]=a[e+2]}var J=E-1,i=x-1;
c(K,E+1,0);c(K,2*E-2,E-1);for(var P=1;P<J;P++)c(K,E+P,P);for(var _=1;_<i;_++){c(K,_*E+1,_*E);c(K,_*E+E-2,_*E+E-1)}for(var P=1;
P<J;P++)c(K,(x-2)*E+P,(x-1)*E+P);c(K,(_-2)*E+1,(_-1)*E);c(K,(_-1)*E-2,_*E-1)};W.$N=function(){function K(j,e,d,I){var v=new Float32Array(j*j),n=j/2;
for(var C=0;C<j;C++)for(var T=0;T<j;T++){var o=T+d-n,s=C+I-n;v[C*j+T]=Math.max(0,Math.min(1,e+.5-Math.sqrt(o*o+s*s)))}return v}var E=[],c=null;
function x(j,e,d,I){var v=Math.floor(e*10),n=E[v],C=j*8,T=C>>>1;if(n==null){n=E[v]=[];var o=new cS(0,0,C,C),s=j/2/(1+.2*e),Q=Math.floor(j*v*.1);
for(var X=0;X<2;X++)for(var B=0;B<2;B++){var M=K(C,s,.25+B*.5,.25+X*.5),S=0;W.HL.u$(M,M,o,Q);while(M[C*T+S]<.005)S++;
if(S!=0)S--;var f=2*(T-S),F=new cS(S,S,f,f),G=new Float32Array(f*f);for(var D=0;D<f;D++)for(var b=0;
b<f;b++)G[D*f+b]=M[(S+D)*C+S+b];n.push([G,F])}}var H=Math.floor(d),q=Math.floor(I),O=d-H,w=I-q,V=O<.5?1:0,t=w<.5?1:0;
n=n[t*2+V];var F=n[1].clone();F.x+=H-T;F.y+=q-T;return[n[0],F]}function J(j,e,d){if(c==null){c=new Uint8Array(4e4);
for(var y=0;y<4e4;y++)c[y]=Math.min(255,~~(.5+255*W.l$(y*(1/255))))}var I=j.length;for(var y=0;y<I;y++){var v=j[y],n=~~(255*v);
e[y]=c[n]<<24|d}}function i(j,e,d,I,v){var n=e.Sl(I),C=Math.max(0,n.x-e.x),T=Math.max(0,n.x-I.x),o=Math.max(0,n.y-e.y),s=Math.max(0,n.y-I.y),Q=n.b,X=n.n;
for(var y=0;y<X;y++){var B=(o+y)*e.b+C,M=(s+y)*I.b+T;for(var S=0;S<Q;S++){d[M+S]+=v*j[B+S]}}}var P=-1;
function _(j,e,d,I,v){var n=Math.round(I[1]*e*d*.01),C=I[2],T=I[3],o=I[4],s=I[5],Q=I[6],X=I[7],B=I[8],M=I[9],S=I[10]?I[10]:1,A=!1;
if(C!=P){E=[];P=C}var f=Date.now(),F=new cS(0,0,e,d),G=new a(I[0]);if(v)j.fill(0);var D=new Float32Array(v?j.buffer:e*d);
for(var y=0;y<n;y++){var b=G.get()*e,H=G.get()*d,q=G.get()*T,O=G.get()*C*4,w=(G.get()+Q)*Math.PI*2,V=G.get()*C*4,t=(G.get()+2*Q)*Math.PI*2;
b+=M*(O*Math.cos(w)+V*Math.cos(t));H+=M*(O*Math.sin(w)+V*Math.sin(t));if(B)H=H+Q*d*S;var m=x(C,q,b,H%d),g=o,Y=G.get();
if(X)g=.5+.5*o*(.5+.5*Math.sin((2*Q+Y)*2*Math.PI));i(m[0],m[1],D,F,g)}if(A)console.log(Date.now()-f,"add floats");
f=Date.now();var k=new Uint8Array(D.buffer);J(D,new Uint32Array(k.buffer),s.k<<16|s.J<<8|s.o);if(A)console.log(Date.now()-f,"toInt");
f=Date.now();if(!v){W.h.Nh("scrn",k,F,j,F,F,1);if(A)console.log(Date.now()-f,"blendOver")}}function a(j){this.Oz=123456789;
this.li=987654321;this.z=4294967295;this.Vh(j)}a.prototype.Vh=function(y){this.Oz=123456789+y&this.z;
this.li=987654321-y&this.z};a.prototype.get=function(){this.li=36969*(this.li&65535)+(this.li>>16)&this.z;
this.Oz=18e3*(this.Oz&65535)+(this.Oz>>16)&this.z;var j=(this.li<<16)+(this.Oz&65535)>>>0;j/=4294967296;
return j};return{Wi:_}}();W.pq={};W.pq._z=function(K,E,x,c){var J=K[E*2],i=K[E*2+1],P=K[x*2],_=K[x*2+1],a=K[c*2],j=K[c*2+1];
return J*_+P*j+a*i-a*_-P*i-J*j};W.pq.vU=function(K,E){var x=[],c=[],J=[],i={};for(var y=0;y<E.length;
y+=3){var P=~~(y*(1/3)),_=E[y+0],j=E[y+1],e=E[y+2],d=W.pq._z(K,_,j,e);if(d>0){var I=j;j=e;e=I}var v=i[e+"-"+j],n=i[j+"-"+_],C=i[_+"-"+e],T=[e,v,P,null],o=[j,n,P,T],s=[_,C,P,o];
T[3]=s;if(v)v[1]=T;if(n)n[1]=o;if(C)C[1]=s;i[e+"-"+_]=s;i[_+"-"+j]=o;i[j+"-"+e]=T;x[_]=o;J[y]=o;x[j]=T;
J[y+1]=T;x[e]=s;J[y+2]=s;c[P]=o}return{Cj:x,wz:c,c3:J}};W.pq.afW=function(K){var E=[],x=K.wz;for(var y=0;
y<x.length;y++){var c=x[y];E.push(c[0]);c=c[3];E.push(c[0]);c=c[3];E.push(c[0])}return E};W.pq.akb=function(K,E,x,c){var J=K[E*2],i=K[E*2+1],P=K[x*2],_=K[x*2+1],a=K[c*2],j=K[c*2+1],e=P-J,d=_-i,I=a-J,v=j-i,n=e*(J+P)+d*(i+_),C=I*(J+a)+v*(i+j),T=2*(e*(j-_)-d*(a-P));
if(Math.abs(T)<1e-5){var o=Math.min(J,P,a),s=Math.min(i,_,j),Q=(Math.max(J,P,a)-o)*.5,X=(Math.max(i,_,j)-s)*.5;
return[o+Q,s+X,Q*Q+X*X,1]}var B=(v*n-d*C)/T,M=(e*C-I*n)/T,Q=B-J,X=M-i;return[B,M,Q*Q+X*X,0]};W.pq.al0=function(K,E,x){var c=x[1],J=x[3],i=J[3],P=c[3],_=P[3],a=x[2],j=c[2],e=x[0],d=c[0],I=J[0],v=P[0],n=W.pq.akb(K,d,v,I),C=K[e*2]-n[0],T=K[e*2+1]-n[1],o=C*C+T*T>n[2]&&n[3]==0&&W.pq._z(K,v,e,I)<0&&W.pq._z(K,I,d,v)<0;
if(o){x[0]=I;c[0]=v;x[3]=i;i[3]=P;P[3]=x;c[3]=_;_[3]=J;J[3]=c;J[2]=j;P[2]=a;E.wz[j]=_;E.wz[a]=i;E.Cj[d]=P;
E.Cj[e]=J}return o};W.pq.app=function(K,E,x){var c=K[E*2]-K[x*2],J=K[E*2+1]-K[x*2+1];return Math.sqrt(c*c+J*J)};
W.pq.a2u=function(K,E,x){var c=x[1],J=x[3],i=J[3],P,_,a=x[2],j,e=x[0],d=i[0],I=J[0],v;if(c){P=c[3];_=P[3];
j=c[2];v=P[0]}var n=K.length>>>1;K[2*n]=(K[2*d]+K[2*e])*.5;K[2*n+1]=(K[2*d+1]+K[2*e+1])*.5;if(!0){var C=a,T=x,o=E.wz.length,s=[n,null,C,T],Q=[I,s,o,i];
s[1]=Q;var X=[n,null,o,Q];J[3]=s;i[3]=X;i[2]=o;E.wz[C]=J;E.wz[o]=X;E.Cj[e]=J;E.Cj[I]=i;E.c3.push(s,Q,X)}if(c){var B=j,M=c,S=o+1;
X[1]=M,M[1]=X;var f=[n,null,B,M],F=[v,f,S,_];f[1]=F;var G=[n,T,S,F];T[1]=G;P[3]=f;_[3]=G;_[2]=S;E.wz[B]=P;
E.wz[S]=_;E.Cj[d]=P;E.Cj[v]=_;E.c3.push(f,F,G)}E.Cj[n]=T};W.pq.Le=function(K,E){var x=0;while(!0){var c=x;
for(var y=0;y<E.c3.length;y++){var J=E.c3[y];if(J[1]==null)continue;var i=W.pq.al0(K,E,J);if(i){x++;
break}}if(c==x)break}return x!=0};W.pq.a8i=function(K,E,x,c){var J=0;for(var y=0;y<c;y++){var i=null,P=0;
for(var _=0;_<E.c3.length;_++){var a=E.c3[_],j=W.pq.app(K,a[0],a[3][3][0])*(a[1]?1:2);if(j>P){i=a;P=j}}if(P>x){W.pq.a2u(K,E,i);
J++}}return J!=0};W.pq.atr=function(K,E){var x=[],I=0;for(var y=0;y<K.length;y++)x.push(0);for(var y=0;
y<E.c3.length;y++){var c=E.c3[y],J=c[0],i=c[3][3][0],P=K[J*2],_=K[J*2+1],a=K[i*2],j=K[i*2+1],e=P-a,d=_-j;
x[J*2]+=-e;x[J*2+1]+=-d;x[i*2]+=e;x[i*2+1]+=d}for(var y=0;y<K.length;y+=2){var v=y>>>1,n=E.Cj[v],c=n,C=!0;
do{if(c[1]==null){C=!1;break}c=c[1][3]}while(c!=n);if(C){var T=.02;K[y]+=T*x[y];K[y+1]+=T*x[y+1];I+=T*(x[y]*x[y]+x[y+1]*x[y+1])}}return I};
W.pq.atg=function(K,E,x){var c=W.p.hp(K),J=W.pq.vU(K,E);W.pq.Le(K,J);for(var i=0;i<300;i++){var P=!1,_=!1;
P=W.pq.a8i(K,J,x,5);if(P)_=W.pq.Le(K,J);var a=W.pq.atr(K,J);if(!P&&!_&&a<1e-4){break}}return W.pq.afW(J)};
W.d2={};W.d2._b=function(K){var E=K.T1,x=K.zo,c=K.yf,J=K.Wm,i=K.WI,P=K.kR,_=K.$M,a=W.rS.lo,s,Q,X=0;function j(hr){var l=new Array(hr);
for(var y=0;y<hr;y++)l[y]=0;return l}var e=x.length>>>1,d=j(E.r2*2),I=j(E.r2),v=j(E.r2),n=Date.now();
for(var y=0;y<K.D9.length;y++){var C=E.ai$+y,T=E.pz*(P[y*2]+_[y*2]),o=E.pz*(P[y*2+1]+_[y*2+1]);d[C*2]=T;
d[C*2+1]=o;I[C]=T;v[C]=o}E.aij.XQ(J,E.aey.lo(d),.01,s,Q);for(var y=0;y<E.aeS.c3.length;y++){var B=E.aeS.c3[y],M=B[3][3][0],S=B[0],f=B[3][0],F=B[1]?B[1][3][0]:f;
if(B[1]&&M>S)continue;var G=x[M*2],D=x[M*2+1],b=x[S*2],H=x[S*2+1],q=J[M*2],O=J[M*2+1],w=J[S*2],V=J[S*2+1],t=J[f*2],m=J[f*2+1],g=J[F*2],Y=J[F*2+1],A=[q,O,w,V,t,m];
if(B[1])A.push(g,Y);var k=a(E.ahz[X],A),z=k[0],p=k[1],L=1/Math.sqrt(z*z+p*p);z*=L;p*=L;var N=b-G,gC=H-D;
I[X]=z*N+p*gC;v[X]=-p*N+z*gC;X++}var r=new Array(e),h=new Array(e);for(var y=0;y<e;y++){r[y]=i[y*2];
h[y]=i[y*2+1]}E.a3i.XQ(r,E.ahP.lo(I),.5);E.a3i.XQ(h,E.ahP.lo(v),.5);for(var y=0;y<e;y++){i[y*2]=r[y];
i[y*2+1]=h[y]}};W.d2.OO=function(K){var E=K.zo,x=K.yf,c=K.D9,J=W.rS.multiply,i=Date.now(),P=W.pq.vU(E,x),_=E.length>>>1,a=0,n=0,p=1e3;
for(var y=0;y<P.c3.length;y++)a+=P.c3[y][1]?.5:1;var j=a+c.length,e=[],d=new W.aC(j*2,_*2),I=new W.aC(j,_),v=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],C=[],T=[];
for(var y=0;y<P.c3.length;y++){var o=P.c3[y],s=o[3][3][0],Q=o[0],X=o[3][0],B=o[1]?o[1][3][0]:X;if(o[1]&&s>Q)continue;
var M=E[s*2],S=E[s*2+1],f=E[Q*2],F=E[Q*2+1],G=E[X*2],D=E[X*2+1],b=E[B*2],H=E[B*2+1],q=[[M,S,1,0],[S,-M,0,1],[f,F,1,0],[F,-f,0,1],[G,D,1,0],[D,-G,0,1]];
if(o[1])q.push([b,H,1,0],[H,-b,0,1]);var O=W.rS.vS(q),w=J(linear.invert(J(O,q)),O);w.pop();w.pop();e.push(w);
var V=f-M,t=F-S,m=v[o[1]?1:0];m=W.rS.aZ(m,J([[V,t],[t,-V]],w));var g=[s*2,s*2+1,Q*2,Q*2+1,X*2,X*2+1,B*2,B*2+1],Y=o[1]?8:6,A=[];
for(var k=0;k<Y;k++)A.push([g[k],m[0][k],m[1][k]]);A.sort(function(l,g5){return l[0]-g5[0]});for(var z=0;
z<2;z++){for(var k=0;k<Y;k++){C[k]=A[k][0];T[k]=A[k][1+z]}d.b8(T,C,Y)}if(s<Q)I.b8([-1,1],[s,Q],2);else I.b8([1,-1],[Q,s],2);
n++}for(var y=0;y<c.length;y++){var L=c[y];d.b8([p],[L*2],1);d.b8([p],[L*2+1],1);I.b8([p],[L],1)}var N=d.vS(),gC=N.pp(N),r=I.vS(),h=r.pp(r);
return{ai$:a,r2:j,aey:N,aij:gC,ahP:r,a3i:h,aeS:P,ahz:e,pz:p}};W.d2.awe=function(K,E,x,c,J){var i=new cS(0,0,E,x),P=W.Q(i.O());
W.Bp(K,P,3);W.round(P,70);var _=W.UF(P,i),a=[.1,.065,.035][c]*Math.max(_.b,_.n),j=J+1,e=E+j*2,d=x+j*2,I=new cS(-j,-j,e,d),v=W.Q(I.O());
W.XT(P,i,v,I);var n=v.slice(0);for(var C=0;C<J;C++){for(var T=1;T<d-1;T++){for(var o=1;o<e-1;o++){var y=T*e+o;
n[y]=v[y-e]|v[y-1]|v[y]|v[y+1]|v[y+e]}}var s=n;n=v;v=s}var Q=iq.dg(v,e,d,Math.round(_.O()*5e-4)),X=iq.Ox(Q),B=new iQ(1,0,0,1,-j,-j);
for(var y=0;y<X.length;y++){var M=X[y];W.p.u(M.path.C,B,M.path.C);M.zo=W.d2.ayX(M.path);M.yf=W.p.adT(M.zo);
M.yf=W.pq.atg(M.zo,M.yf,a)}return X};W.d2.ayX=function(K){var E=[],x=K.C,c=K.W.length-1,J=0,i=0;for(var P=0;
P<c;P++){var y=P*6,_=x[y+6]-x[y+0],a=x[y+7]-x[y+1],j=Math.ceil(Math.sqrt(_*_+a*a));for(var e=0;e<j;e++){var d=e/j,I=1-d,v=I*I*I*x[y+0]+3*I*I*d*x[y+2]+3*I*d*d*x[y+4]+d*d*d*x[y+6],n=I*I*I*x[y+1]+3*I*I*d*x[y+3]+3*I*d*d*x[y+5]+d*d*d*x[y+7];
E.push(v,n);J=v;i=n}}E=W.p.EW(E,1);var C=[],T=E.length;for(var y=0;y<T;y+=2){var n=E.pop(),v=E.pop();
C.push(v,n)}return C};W.d2.aa1=function(K,E,x,c){function J(f,F,G,D,b){var H=b[f*2]-b[F*2],q=b[f*2+1]-b[F*2+1],O=Math.sqrt(H*H+q*q);
if(G[f].indexOf(F)==-1){G[f].push(F);D[f].push(O)}if(G[F].indexOf(f)==-1){G[F].push(f);D[F].push(O)}}var i=K.length>>>1,P=new Array(i);
if(x.length==0){P.fill(0);return P}var _=new Array(i),a=new Array(i);for(var y=0;y<i;y++){_[y]=[];a[y]=[]}for(var y=0;
y<E.length;y+=3){J(E[y],E[y+1],_,a,K);J(E[y],E[y+2],_,a,K);J(E[y+1],E[y+2],_,a,K)}var j=new Float64Array(i*2),e=new Uint32Array(i*2);
j.fill(1e9);var d=new Uint8Array(i);for(var I=0;I<x.length;I++){d.fill(0);var v=["---",[0,x[I]]];while(v.length!=1){var n=W.ED.Vt(v),C=n[0],T=n[1];
if(d[T]==1)continue;var o=T<<1;if(C<j[o]){j[o+1]=j[o];e[o+1]=e[o];j[o]=C;e[o]=I}else if(C<j[o+1]){j[o+1]=C;
e[o+1]=I}d[T]=1;var s=_[T],Q=a[T];for(var y=0;y<s.length;y++){var X=s[y];if(d[X]!=1){W.ED.fo(v,[C+Q[y],X])}}}}for(var y=0;
y<i;y++){var o=y<<1,B=j[o],M=j[o+1],S=1/(B+M);P[y]=(1-B*S)*c[e[o]]+(1-M*S)*c[e[o+1]]}return P};W.d2.aw0=function(K){var E={W:[],C:[]},x=[K];
while(x.length!=0){var c=x.pop(),J=c.Xt;if(c.als instanceof Array||c.a43 instanceof Array){E.W.push("M","L","L","L","Z");
E.C.push(J[0],J[1],J[2],J[1],J[2],J[3],J[0],J[3])}else x.push(c.als,c.a43)}return E};W.d2.mE=function(K,E,x,c,J,i,P,_,a,j){var e=Math.round(j.length/3),d=new Array(e);
for(var y=0;y<e;y++)d[y]=y;d.sort(function(v,n){return a[j[v*3]]-a[j[n*3]]});for(var y=0;y<e;y++){var I=d[y]*3;
W.d2.aye(j[I]*2,j[I+1]*2,j[I+2]*2,P,_,K,E,x,c,J,i)}};W.d2.aye=function(K,E,x,c,J,i,P,_,a,j,e){var d=W.d2.vl,I=[K,E,x,1.2,1.2,1.2,0],v=[0,0,0,0],n=J[K],C=J[K+1],T=J[E],o=J[E+1],s=J[x],Q=J[x+1],X=Math.max(0,Math.min(P-1,c[K])),B=Math.max(0,Math.min(P-1,c[E])),M=Math.max(0,Math.min(P-1,c[x])),S=Math.max(0,Math.min(_-1,c[K+1])),f=Math.max(0,Math.min(_-1,c[E+1])),F=Math.max(0,Math.min(_-1,c[x+1])),G=T-n,D=o-C,b=s-n,H=Q-C,q=1/(G*H-b*D+1e-9),O=Math.max(0,Math.floor(Math.min(n,T,s))),w=Math.min(j,Math.ceil(Math.max(n,T,s))),V=Math.max(0,Math.floor(Math.min(C,o,Q))),t=Math.min(e,Math.ceil(Math.max(C,o,Q)));
for(var m=V;m<t;m++)for(var g=O;g<w;g++){var Y=g+.5-n,A=m+.5-C,k=(Y*H-b*A)*q,z=(G*A-Y*D)*q;if(k>=0&&z>=0&&k+z<=1){var p=1-k-z,L=X*p+B*k+M*z,N=S*p+f*k+F*z;
W.K.Md(L,N,i,P,_,v);W.d2.a7P(v,a,m*j+g<<2)}}};W.d2.a7P=function(K,E,x){var c=E[x],J=E[x+1],i=E[x+2],P=E[x+3],_=1-K[3]*(1/255);
E[x]=~~(.5+K[0]+c*_);E[x+1]=~~(.5+K[1]+J*_);E[x+2]=~~(.5+K[2]+i*_);E[x+3]=~~(.5+K[3]+P*_)};W.d2.vl=function(){var K=function(x,c,J,i){var P=i[0],_=i[1],a=i[2],j=x[P+0],e=x[P+1],d=x[_+0],I=x[_+1],v=x[a+0],n=x[a+1],C=d-j,T=I-e,o=v-j,s=n-e,Q=c-j,X=J-e,B=C*s-o*T,M=1/(B+1e-9),S=(Q*s-o*X)*M,f=(C*X-Q*T)*M;
if(S>=0&&f>=0&&S+f<=1){i[3]=1-S-f;i[4]=S;i[5]=f;return 1}return 0},E=function(x,c,J,i){var P=[0,0,0,0,0,0];
for(var y=0;y<c.length;y+=3){P[0]=c[y]*2;P[1]=c[y+1]*2;P[2]=c[y+2]*2;if(K(x,J,i,P)==1)return!0}return!1};
return{ap9:K,ab4:E}}();W.mY={};W.mY.a3f=function(K,E,x){var c=W.Q(E*x*4),J=!1;W.K.$i(K,E,x,c,[x,E,0,1,0,1,0,0]);
return[W.mY.jr(K,E,x,J),W.mY.jr(c,x,E,J)]};W.mY.u=function(K,E){var x=!1,c=K[0],J=K[1],i=c[1],P=c[2],_=c[3],a=E.b,j=E.n;
if(P==a&&_==j)i=i.slice(0);else if(_!=j){var e=W.Q(P*j*4);W.mY.yl(J,j,e,x);i=W.Q(P*j*4);W.K.$i(e,j,P,i,[P,j,0,1,0,1,0,0]);
if(P!=a){c=W.mY.jr(i,P,j,x);i=W.Q(a*j*4);W.mY.yl(c,a,i,x)}}else if(P!=a){i=W.Q(a*_*4);W.mY.yl(c,a,i,x)}return i};
W.mY.jr=function(K,E,x,c){var J=Date.now(),i=new Uint16Array(E*x),P=1;W.mY.a1H(K,E,x,i);var _=Math.ceil(E/P),a=new Uint32Array(P),j=new Uint32Array(P),_=Math.floor(E/P);
for(var e=0;e<P;e++)j[e]=e<P-1?_:E-(P-1)*_;for(var d=0;d<x;d++){var y=d*E;for(var e=0;e<P;e++){var _=j[e];
for(var I=0;I<_;I++)a[e]+=i[y+I];y+=_}}if(c){console.log(Date.now()-J,"cost");J=Date.now()}var v=new Uint32Array(E),n=new Uint32Array(E),C=new Uint32Array(E*x);
for(var I=0;I<E;I++){C[(x-1)*E+I]=i[(x-1)*E+I]}for(var d=x-2;d>=0;d--){var T=d*E;for(var e=0;e<P;e++){var _=j[e];
C[T]=i[T]+Math.min(C[T+E],C[T+E+1]);for(var I=1;I<_-1;I++){var y=T+I;C[y]=i[y]+Math.min(C[y+E-1],Math.min(C[y+E],C[y+E+1]))}T+=_-1;
C[T]=i[T]+Math.min(C[T+E-1],C[T+E]);T++}}if(c){console.log(Date.now()-J,"Building M");J=Date.now()}function o(D,b){return D<b?D:b}function s(y,D){var b=n[y],H=C[D],q=~~(b*H*1e-4);
return q}var Q=new Uint8Array(E*x),X=new Uint32Array(E);for(var y=0;y<E;y++){v[y]=y;n[y]=i[y]}for(var d=1;
d<x;d++){var B=0,T=d*E;for(var e=0;e<P;e++){var _=j[e],y=T;X[B]=s(B,y);var M=X[B]+s(B+1,y+1),S=s(B,y+1)+s(B+1,y);
X[B+1]=o(M,S);for(var I=2;I<_;I++){var y=T+I,f=X[B+I-1]+s(B+I-1,y-1),F=X[B+I-2]+s(B+I-1,y-2)+s(B+I-2,y-1);
X[B+I]=o(f,F)}var I=_-1;while(I>=2){var y=T+I,f=X[B+I-1]+s(B+I-1,y-1),F=X[B+I-2]+s(B+I-1,y-2)+s(B+I-2,y-1);
if(X[B+I]==f){Q[y-E]=1;I-=1}else{Q[y-E]=0;Q[y-E-1]=2;I-=2}}var y=T;if(I==0){Q[y-E]=1}else{if(X[B+1]==M){Q[y+1-E]=1;
Q[y-E]=1}else{Q[y+1-E]=0;Q[y-E]=2}}T+=_;B+=_}W.mY.ao2(d,E,Q,i,v,n,!0,J)}if(c){console.log(Date.now()-J,"Matching");
J=Date.now()}var G=i;return[UZIP.adler(K,0,K.length),K,E,x,P,j,a,v,n,Q,G]};W.mY.yl=function(K,E,x,c){var J=K.slice(0),i=J.shift(),P=J.shift(),_=J.shift(),a=J.shift(),j=J.shift(),e=J.shift(),d=J.shift(),I=J.shift(),v=J.shift().slice(0),n=J.shift(),C=J.shift(),T=Date.now(),o=Math.abs(_-E),s=Math.floor(o/j),Q=new Uint32Array(j),B=0,M=1e9,f=0,F=0,G=0;
for(var X=0;X<j;X++)Q[X]=X<j-1?s:o-(j-1)*s;C.fill(0);for(var S=0;S<_;S++){B=Math.max(B,v[S]);M=Math.min(M,v[S])}for(var X=0;
X<j;X++){var D=e[X],s=Q[X];for(var b=0;b<s;b++){var H=0,q=1e9;for(var S=0;S<D;S++)if(v[F+S]<q){q=v[F+S];
H=F+S}if(E<_)v[H]=1e9;else v[H]*=1.2;if(G<_/3)f+=q;var O=I[H],w=C[O],V=w<65280?65280:w+1;if(V<65280)throw"e";
for(var t=0;t<a;t++){var y=t*_+O;C[y]=V;O+=n[y]-1}G++}F+=D}if(c){console.log(Date.now()-T,"Removing best seams");
T=Date.now()}function m(y,Y){var A=y<<2,k=Y<<2;x[A]=P[k];x[A+1]=P[k+1];x[A+2]=P[k+2];x[A+3]=P[k+3]}for(var t=0;
t<a;t++){var g=0,y=t*_;for(var S=0;S<E;S++,g++){if(E<_){while(C[y+g]==65280)g++;m(t*E+S,t*_+g)}else{m(t*E+S,t*_+g);
while(C[y+g]>=65280){C[y+g]--;S++;m(t*E+S,t*_+g)}}}}if(c){console.log(Date.now()-T,"Shifting image pixels");
T=Date.now()}};W.mY.ao2=function(K,E,x,c,J,i){var P=0,y=K*E;while(P<E){if(x[y-E]==1){i[P]=i[P]+c[y];
P++;y++}else{var _=J[P];J[P]=J[P+1];J[P+1]=_;var a=i[P];i[P]=i[P+1]+c[y];i[P+1]=a+c[y+1];P+=2;y+=2}}};
W.mY.a1H=function(K,E,x,c){function J(K,y,a){var d=y<<2,I=a<<2,v=K[d]-K[I],n=K[d+1]-K[I+1],C=K[d+2]-K[I+2];
return Math.abs(v)+Math.abs(n)+Math.abs(C)}for(var i=1;i<E;i++){var P=J(K,i,i-1);c[i-1]+=P;c[i]+=P}for(var _=1;
_<x;_++){var a=_*E,P=J(K,a,a-E);c[a]+=P;c[a-E]+=P;for(var i=1;i<E;i++){var y=_*E+i,j=J(K,y,y-1),e=J(K,y,y-E);
c[y-E]+=e;c[y-1]+=j;c[y]+=e+j}}for(var _=0;_<x;_++){c[_*E]*=2;c[_*E+E-1]*=2}for(var y=0;y<c.length;y++)if(c[y]==0)c[y]=1};
W.rx=function(){function K(){return 1953e6+Math.floor(Math.random()*999999)}function E(O,w){var V=w[0]-O[0],t=w[1]-O[1];
return V*V+t*t}function x(O,w,V,t,m,g,Y,A){var k=V-O,z=t-w,p=W.p.n2(O,w,k,z,m,g,Y-m,A-g),L=[O+p*k,w+p*z],N=p>0?[[[O,w],L,!1,0,1],[[m,g],L,!1,0,5]]:[[[V,t],L,!1,0,1],[[Y,A],L,!1,0,5]];
return N}function c(O){O=O.map(Math.round);var w=x(O[0],O[1],O[2],O[3],O[6],O[7],O[4],O[5]),V=x(O[0],O[1],O[6],O[7],O[2],O[3],O[4],O[5]),t=[w,V],m=[w[0][1],V[0][1]];
for(var y=0;y<2;y++){var g=m[1-y],Y=t[y];if(E(Y[0][0],g)<E(Y[1][0],g)){var A=Y[0];Y[0]=Y[1];Y[1]=A}}var k=[K(),0,-1,0,[0,0],w[0],w[1],V[0],V[1]];
return k}function J(O){var w=O[5],V=O[6],t=O[7],m=O[8],g=w[0],Y=V[0],A=m[0],k=t[1],z=w[1],p=A[0],L=A[1],N=k[0]-p,gC=k[1]-L,r=W.p.n2(p,L,N,gC,Y[0],Y[1],z[0]-Y[0],z[1]-Y[1]);
return[p+r*N,L+r*gC,p,L,g[0],g[1],Y[0],Y[1]]}function i(O,w){return O[0]==w[0]&&O[1]==w[1]}function P(O,w,V){var t=O[1],m=O[0][0]-t[0],g=O[0][1]-t[1],Y=Math.sqrt(m*m+g*g);
m/=Y;g/=Y;for(var A=0;A<V.length;A++){var k=V[A];if(k[0]!=w[1]&&k[1]!=w[0])continue;for(var y=0;y<4;
y++){var z=k[5+y],p=z[0];if(!i(t,z[1]))continue;var L=p[0]-t[0],N=p[1]-t[1];Y=Math.sqrt(L*L+N*N);L/=Y;
N/=Y;var s=L*m+N*g;if(Math.abs(s-1)<1e-7)return!0}}return!1}function _(O,w){W.K.u(O,w);return w}function a(O){var w=[];
for(var V=0;V<O.length;V++){var t=O[V],m=t[1];for(var g=0;g<m.length;g++){var Y=m[g],A=[],k=W.K.AS(J(Y),new cS(0,0,1,1));
for(var y=0;y<4;y++){A[y]=P(Y[5+y],Y,m)}if(!A[0]){w.push([_(k,[1,.5]),V,g,0,0]);if(!A[2])w.push([_(k,[1,1]),V,g,0,1])}if(!A[1]){w.push([_(k,[0,.5]),V,g,1,0]);
if(!A[3])w.push([_(k,[0,0]),V,g,1,1])}if(!A[2]){w.push([_(k,[.5,1]),V,g,2,0]);if(!A[1])w.push([_(k,[0,1]),V,g,2,1])}if(!A[3]){w.push([_(k,[.5,0]),V,g,3,0]);
if(!A[0])w.push([_(k,[1,0]),V,g,3,1])}}}return w}function j(O,w,V){var t=V[0],m=V[1],g=w.x-O[0],Y=w.y-O[1],A=W.p.n2(O[0],O[1],g,Y,m[0],m[1],t[0]-m[0],t[1]-m[1]);
return[O[0]+A*g,O[1]+A*Y]}function e(O,w,V){O=JSON.parse(JSON.stringify(O));var t=O[w[1]][1][w[2]],m=w[3],g=w[4];
if(g==1)return O;if(m==0||m==2){var Y=t[5+m],A=t[5+2-m],k=t[5+(m==0?3:1)],z=Y[1];Y[0]=A[0]=j(z,V,A);
k[0]=j(z,V,k)}else{var k=t[5+m],z=k[1],Y=t[5+(m==3?0:2)];k[0]=j(z,V,Y)}return O}function d(O,w,V){var t=w[0]-O[0],m=w[1]-O[1],g=W.p.n2(V[0],V[1],-m,t,O[0],O[1],t,m);
return[V[0]-m*g,V[1]+t*g]}function I(O,w,V){var t=V[0],m=V[1],_=d(O,w,V),g=_[0],Y=_[1],A=d(O,V,w),k=W.p.n2(g,Y,t-g,m-Y,w[0],w[1],A[0]-w[0],A[1]-w[1]);
return[g+(t-g)*k,Y+(m-Y)*k]}function v(O,w,V){O=JSON.parse(JSON.stringify(O));var t=O[w[1]][1][w[2]],m=w[3],g=w[4];
if(g==1)return O;var Y=t[5][1],A=t[7][1],k=I(Y,A,V),z=JSON.parse(JSON.stringify(t));O[w[1]][1].push(z);
z[0]=K();z[1]=t[0];if(m==0||m==1){z[7][1]=z[8][1]=k;if(m==1){z[5][0]=z[7][0]=t[6][0];z[8][0]=J(t).slice(0,2)}}else{z[5][1]=z[6][1]=k;
if(m==3){z[5][0]=z[7][0]=t[8][0];z[6][0]=J(t).slice(0,2)}}return O}function n(O,w,V){var hr=O.length>>1,t,m=O[2*hr-3]-V,g=O[2*hr-2]-w,Y=O[2*hr-1]-V,A=!1,k=0;
for(var y=0;y<hr;y++){t=g;m=Y;g=O[2*y]-w;Y=O[2*y+1]-V;if(m==Y)continue;A=Y>m}for(var y=0;y<hr;y++){t=g;
m=Y;g=O[2*y]-w;Y=O[2*y+1]-V;if(m<0&&Y<0)continue;if(m>0&&Y>0)continue;if(t<0&&g<0)continue;if(m==Y&&Math.min(t,g)<=0)return!0;
if(m==Y)continue;var z=t+(g-t)*-m/(Y-m);if(z==0)return!0;if(z>0)k++;if(m==0&&A&&Y>m)k--;if(m==0&&!A&&Y<m)k--;
A=Y>m}return(k&1)==1}function C(O,w,V){for(var t=0;t<O.length;t++){var m=O[t][1];for(var g=0;g<m.length;
g++){var Y=J(m[g]);if(n(Y,w,V))return[t,g]}}}function T(O,w){for(var V=0;V<O.length;V++){var t=O[V][1],m=w[V];
if(m.length==0)continue;var g=o(t,m);for(var Y=0;Y<t.length;Y++){if(g.indexOf(t[Y][0])!=-1){t.splice(Y,1);
Y--}}}for(var V=0;V<O.length;V++)if(O[V][1].length==0){O.splice(V,1);V--}return O}function o(O,w){var V=[];
for(var y=0;y<10;y++)for(var t=0;t<O.length;t++){var m=O[t];if(w.indexOf(t)!=-1||V.indexOf(m[1])!=-1)if(V.indexOf(m[0])==-1)V.push(m[0])}return V}function s(O,w){return O[0]*w[0]+O[1]*w[1]+O[2]*w[2]}function Q(O,w,V,t){return s(G(O,w),V)/s(G(O,w),t)}function X(O,w){return[O[0]*w,O[1]*w,O[2]*w,1]}function B(O,w){return[O[0]-w[0],O[1]-w[1],O[2]-w[2],1]}function M(O,w){return[O[0]+w[0],O[1]+w[1],O[2]+w[2],1]}function S(O){var w=O[0],V=O[1],t=O[2];
return Math.sqrt(w*w+V*V+t*t)}function f(O){return X(O,1/S(O))}function F(O,w,V,t){var m=B(w,O),g=B(t,V),Y=B(V,O),A=s(G(Y,g),G(m,g))/(S(G(m,g))*S(G(m,g)));
return M(O,X(B(w,O),A))}function G(O,w){return[O[1]*w[2]-O[2]*w[1],O[2]*w[0]-O[0]*w[2],O[0]*w[1]-O[1]*w[0],1]}function D(O,w){return Math.acos(s(O,w)/(S(O)*S(w)))}function b(O,w){if(w==null)w=1;
var V=1,t,m,g,Y=X(f([O[0],O[1],1]),w),A=f([O[2],O[3],1]),k=f([O[4],O[5],1]),z=f([O[6],O[7],1]);m=-Q(A,z,Y,k);
t=Q(k,z,Y,A);g=Q(A,k,Y,z);var p=X(Y,V),L=X(A,t),N=X(k,m),gC=X(z,g);return[p,L,N,gC]}function H(O,w){var V=b(O,w),t=V[0],m=V[1],g=V[2],Y=V[3],A=X(t,1/t[2]),k=[O[2],O[3],1,1],z=S(B(A,k)),p=f(B(m,t)),L=f(B(Y,t)),N=G(p,L),_=[p[0],L[0],N[0],t[0],p[1],L[1],N[1],t[1],p[2],L[2],N[2],t[2],0,0,0,1],gC=W.Kh.rK(_,[1,0,0,1]),r=F([0,0,0,1],k,gC,M(gC,t)),h=M(t,B(r,gC)),l=S(h)/S(t);
for(var y=0;y<3;y++)_[y*4+3]*=l;return _}function q(O){var w=R.pr(O,0,O.length),V=w.split("\n").slice(1);
function t(){return parseFloat(V.shift())}function m(){var ey=[t(),t()];g(1);return ey}function g(hr){for(var y=0;
y<hr;y++)V.shift()}var Y=[],A=t();for(var k=0;k<A;k++){var z=t(),p=t(),L=[];Y.push([z,L]);for(var N=0;
N<p;N++){var gC=t(),r=t(),h=t(),l=t(),g5=m(),fm=[gC,r,h,l,g5];L.push(fm);for(var y=0;y<4;y++){var dC=m(),ex=m(),cR=t()==1,d0=t(),hN=t();
fm.push([dC,ex,cR,d0,hN])}}}return Y}return{Sg:q,alU:J,a2B:c,iU:a,akY:e,asc:function(O,w){return w&&w[4]==1&&O[w[1]][1].length==1},a1x:function(O,w){return w&&w[4]==0},aq9:v,ahn:T,Ll:o,afE:C,adk:b,a4W:H}}();
W.RL=function(){var K=0,E=0,c=15,i=256;function x(e,d,I,v,n,C){var T=(n-1)*d,o=C*d;return e[o+v]-e[o+I-1]-e[T+v]+e[T+I-1]}var J=Math.round(c/8),P=[];
function _(e,d){for(var I=0;I<d.length;I++){var v=d[I],n=0,C=0,T=e[v.ne],o=T.Mv,s=T.pz,Q=T.o4;for(var X=-c;
X<=c;X++)for(var B=-c;B<=c;B++){var M=B+v.al3,S=X+v.avi;if(B*B+X*X>c*c||M<0||S<0||M>=s||S>=s)continue;
var f=o[S*s+M];n+=B*f;C+=X*f}v.EK=Math.atan2(C,n)}}function a(e,d,I,v,n){var C=~~(e+.5),T=~~(d+.5);return x(I,v,C-J,C+J,T-J,T+J)}function j(e,d,I,v,n){K=v;
E=n;if(P.length==0){var C=new W.h.EF(16200817),Q=8,X=0;function T(l){var G=l[0]-l[2],D=l[1]-l[3];return G*G+D*D}function o(){var l=0,g5=0;
while(l===0)l=C.get();while(g5===0)g5=C.get();return Math.sqrt(-2*Math.log(l))*Math.cos(2*Math.PI*g5)}var s=o,B=[];
while(X!=i){var M=Math.max(-c,Math.min(c,s()*Q)),S=Math.max(-c,Math.min(c,s()*Q)),f=Math.max(-c,Math.min(c,s()*Q)),F=Math.max(-c,Math.min(c,s()*Q)),G=M-f,D=S-F,b=Math.sqrt(G*G+D*D);
if(b<3||b>12)continue;P.push(M,S,f,F);X++}}var H=20;for(var q=0;q<d.length;q++){var O=d[q],w=e[O.ne],V=w.M5,I=w.Mv,v=w.pz,n=w.o4,t=O.al3,m=O.avi,g=O.EK,Y=Math.cos(g),A=Math.sin(g),k=new Uint8Array(i>>>3);
O.Ks=k;for(var y=0;y<i;y++){var z=y*4,M=P[z+0],S=P[z+1],f=P[z+2],F=P[z+3],p=Y*M-A*S,L=A*M+Y*S,N=Y*f-A*F,gC=A*f+Y*F,r=a(t+p,m+L,V,v,n),h=a(t+N,m+gC,V,v,n);
k[y>>>3]|=(r<h?0:1)<<(y&7)}}}return{aot:_,aqZ:j}}();W.anA=function(){function K(E,x){var c=[[9]],J=Date.now(),i=[];
for(var P=0;P<E.length;P++){var _=E[P],a=_.M5,j=_.pz,e=_.o4,v=9,Q=1,O=24;if(a==null)continue;var d=new Float32Array(j*e),I=new Uint8Array(j*e),n=v>>>1,C=n>>>1,T=Math.round(v/3);
if(T!=v/3)throw"e";var o=1/(v*v),s=1.2*(v/9);for(var X=n+1;X<e-n;X+=Q)for(var B=n+1;B<j-n;B+=Q){var M=W.Rt(a,j,B-C,B+C,X-n,X+n)-3*W.Rt(a,j,B-C,B+C,X-n+T,X+n-T),S=W.Rt(a,j,B-n,B+n,X-C,X+C)-3*W.Rt(a,j,B-n+T,B+n-T,X-C,X+C),f=B-n+1,F=B+n-1,G=X-n+1,D=X+n-1,b=W.Rt(a,j,f,B-1,G,X-1)+W.Rt(a,j,B+1,F,X+1,D)-W.Rt(a,j,B+1,F,G,X-1)-W.Rt(a,j,f,B-1,X+1,D),H=(S*M-.9*b*(.9*b))*(o*o);
d[X*j+B]=Math.abs(H);I[X*j+B]=H<0?0:1}var q=j*Q;for(var X=O;X<e-O;X+=Q)for(var B=O;B<j-O;B+=Q){var y=X*j+B,w=d[y];
if(w<16)continue;if(d[y-Q]>=w||d[y+Q]>=w)continue;if(d[y-q-Q]>=w||d[y-q]>=w||d[y-q+Q]>=w)continue;if(d[y+q-Q]>=w||d[y+q]>=w||d[y+q+Q]>=w)continue;
i.push({x:~~(B*_.LA+.5),y:~~(X*_.LA+.5),al3:B,avi:X,ne:P,Z:w,axk:I[y],hV:s})}}if(x!=null){i.sort(function(z,p){return p.Z-z.Z});
i=i.slice(0,x)}return i;var V=[];for(var y=0;y<i.length;y++){var t=!0,m=i[y];for(var g=0;g<i.length;
g++){var Y=i[g];if(g!=y&&Y.Z>m.Z&&(Y.ne==m.ne+1||Y.ne==m.ne-1)){var A=m.x-Y.x,k=m.y-Y.y;if(A*A+k*k<5){t=!1;
break}}}if(t)V.push(m)}console.log(i.length,V.length);return V}return{aaE:K}}();W.c5={};W.c5.akX=function(K){var E=K.length,x=W.c5.l7(K,!1),J=0,i=1;
throw"e";var c=[];for(var y=0;y<E;y++)c[y]=W.c5.zK(x[y]);var P=K[0][1],_=W.c5.match(x[J],x[i],c[i]);
console.log(_.length);var a=Math.max(Math.min(_.length,40),_.length*.54);a=Math.min(a,200);var j=_.slice(0,a),e=W.yr.auI(x[J],x[i],j,P.b,P.n),d=W.yr.a6G(e,[0,0,0],1),I=P.b/2,v=P.n/2,n=1/Math.max(I,v);
for(var y=0;y<1;y++){var C=j[y],T=x[J][C[0]],o=x[i][C[1]],s=W.yr.a7y(d,n*(T.x-I),n*(T.y-v),n*(o.x-I),n*(o.y-v))}var Q=W.yr.anq(e,P),X=[];
for(var y=0;y<2;y++){var B=Q[y],M=[B[0][0],B[0][1],B[0][2],B[1][0],B[1][1],B[1][2],B[2][0],B[2][1]],S=$.Xq.K7(K[y],null,M);
X.push([S.buffer,S.rect])}return[W.c5.abT(X[0],X[1],x[J],x[i],j,e,Q,P)]};W.c5.Mc=function(K,E){var x=K.length,c=!1,J=Date.now(),i=W.c5.l7(K,!1,1e4);
if(c)console.log("Descriptors ready",Date.now()-J);J=Date.now();for(var y=0;y<x;y++){var P=K[y][1];for(var _=0;
_<i[y].length;_++){i[y][_].x+=P.x;i[y][_].y+=P.y}}if(c)console.log("shifted",Date.now()-J);J=Date.now();
var a=[];for(var y=0;y<x;y++)a[y]=W.c5.zK(i[y]);if(c)console.log("trees built",Date.now()-J);J=Date.now();
var j=[];for(var y=0;y<x-1;y++)for(var _=y+1;_<x;_++){var e=W.c5.match(i[y],i[_],a[_]);if(c)console.log("Matches found",y,_,e.length);
e=e.slice(0,e.length>>>1);if(e.length<10)return null;var d=W.c5.aj8(i[y],i[_],e,2);j.push([y,_,e,d])}j.sort(function(F,G){return G[2].length-F[2].length});
if(c)console.log("Matches found",Date.now()-J);J=Date.now();var I=[],v=new UnionFind(x);for(var y=0;
y<j.length;y++){var n=j[y],C=v.find(n[0]),T=v.find(n[1]);if(C!=T){I.push(n);v.link(C,T)}}var o=[];for(var y=0;
y<x;y++)o[y]=[1,0,0,0,1,0,0,0];var s=[0],Q=new Uint8Array(x);Q[s[0]]=1;while(s.length!=0){var T=s.pop(),d=o[T],X=[];
for(var y=0;y<I.length;y++){var n=I[y],B=n[0],M=n[1];if(B==T&&Q[M]==0){o[M]=W.K.hH(d,n[3]);s.push(M);
Q[M]=1}if(M==T&&Q[B]==0){o[B]=W.K.hH(d,W.K.Pa(n[3]));s.push(B);Q[B]=1}}}if(E==null){var S=[];for(var y=0;
y<x;y++)S.push([o[y][2],y]);S.sort(function(F,G){return F[0]-G[0]});E=S[S.length>>>1][1]}var f=W.K.Pa(o[E]);
for(var y=0;y<x;y++)o[y]=W.K.hH(o[y],f);if(c)console.log("Transforms reordered",Date.now()-J);J=Date.now();
return o};W.c5.l7=function(K,E,x){var c=[],J=!1;for(var y=0;y<K.length;y++){var i=K[y][0],P=K[y][1],_=P.b,a=P.n,j=W.Q(P.O());
W.KZ(i,j);var e=Date.now(),d=W.c5.alK(j,P,!0);if(J)console.log("Pyramid built ---------------",Date.now()-e);
e=Date.now();var I=W.anA.aaE(d,x);if(J)console.log("SURF Generation",Date.now()-e);e=Date.now();if(!E){W.RL.aot(d,I);
if(J)console.log("ORB Orientations",Date.now()-e);e=Date.now();W.RL.aqZ(d,I,j,_,a);if(J)console.log("ORB Descriptors",Date.now()-e);
e=Date.now()}c.push(I)}return c};W.c5.alK=function(K,E,x){var c=[],J=[K,E];W.Oi(J);if(x){var i=W.rj(K,E),P=i.rect,_=[i.Ly,P];
W.Oi(_)}for(var y=0;y<J.length;y++){var a=J[2*y],j=J[2*y+1],e=j.b,d=j.n,I=Math.min(e,d);if(I<30)break;
if(I<1600)c.push({Mv:a,pz:e,o4:d,LA:1<<y,M5:W.Qa(a,e,d)});if(!x)continue;var a=_[2*y],j=_[2*y+1],e=j.b,d=j.n,I=Math.min(e,d);
if(I<30)break;if(I<1600)c.push({Mv:a,pz:e,o4:d,LA:(1<<y)*3/2,M5:W.Qa(a,e,d)})}return c};W.c5.aj8=function(K,E,x,c){var J=Date.now(),i,P=0,_=0,a=x.length,j=new Float64Array(2);
for(var e=0;e<3e3;e++){var d=~~(Math.random()*a),I=~~(Math.random()*a),v=~~(Math.random()*a),n=~~(Math.random()*a),q=0,O=0;
if(d==I||d==v||d==n||I==v||I==n||v==n)continue;var C=x[d],T=x[I],o=x[v],s=x[n],Q=K[C[0]],X=E[C[1]],B=K[T[0]],M=E[T[1]],S=K[o[0]],f=E[o[1]],F=K[s[0]],G=E[s[1]],D=[Q.x,Q.y,B.x,B.y,S.x,S.y,F.x,F.y],b=[X.x,X.y,M.x,M.y,f.x,f.y,G.x,G.y],H=W.K.D4(D,b);
if(H[0]==0&&H[1]==0&&H[3]==0&&H[4]==0)continue;var w=a-P+2;for(var y=0;y<a&&y-q<w;y++){var V=K[x[y][0]],t=E[x[y][1]];
W.K.wv(t.x,t.y,H,j);var m=j[0]-V.x,g=j[1]-V.y,Y=m*m+g*g;if(Y<c){q++;O+=Y}}if(q>P||q==P&&O<_){i=H;P=q;
_=O}}return i};var cy=new Uint8Array(256);for(var y=0;y<256;y++){var b0=0,hr=y;while(hr!=0){hr=hr&hr-1;
b0++}cy[y]=b0}W.c5.aoe=function(K,E,x){var c=0,J=K.length;for(var y=0;y<J&&c<x;y++)c+=cy[K[y]^E[y]];
return c};W.c5.azI=function(K,E,x,top,c){if(c[x]==1)return;var J=W.c5.aoe(K.Ks,E.Ks,top[0]);if(J<top[0]){if(J<top[2]){top[0]=top[2];
top[1]=top[3];top[2]=J;top[3]=x}else{top[0]=J;top[1]=x}}c[x]=1};W.c5.zK=function(K){var E=[],x=[],c=[[],[]],J=4;
for(var y=0;y<K.length;y++)(K[y].axk==0?E:x).push(y);for(var i=0;i<2;i++){var P=new Array(J),_=[],a=i==0?E:x,j=a.length/256,e=[];
for(var d=0;d<32;d++){var I=new Array(256),C=0;for(var v=0;v<256;v++)I[v]=[];for(var v=0;v<a.length;
v++){var n=a[v];I[K[n].Ks[d]].push(n)}for(var v=0;v<256;v++)C+=Math.abs(I[v].length-j);e.push([C,d,I])}e.sort(function(T,o){return T[0]-o[0]});
var _=[],P=[];c[i]=[_,P];for(var y=0;y<J;y++){_.push(e[y][1]);P.push(e[y][2])}}return c};W.c5.match=function(K,E,x){var c=[],J=new Uint16Array(E.length);
J.fill(65535);var i=new Uint8Array(E.length),top=new Uint32Array(4),P=[];for(var _=0;_<K.length;_++){var a=K[_],j=a.Ks;
top.fill(1e6);i.fill(0);var e=x[a.axk];for(var d=0;d<e[1].length;d++){var I=e[1][d][j[e[0][d]]];for(var v=0;
v<I.length;v++){var n=I[v];W.c5.azI(a,E[n],n,top,i)}}if(top[2]<50&&top[2]<top[0]*.5){var C=J[top[3]];
if(C==65535){J[top[3]]=c.length;c.push([_,top[3],top[2]])}else if(top[2]<c[C][2]){c[C]=[_,top[3],top[2]]}}}c.sort(function(T,o){return T[2]-o[2]});
return c};W.c5.amx=function(K){var E=new cS;for(var y=0;y<K.length;y++)E=E.XN(K[y][1]);var x=W.Q(E.O()*4);
for(var y=0;y<K.length;y++)W.h.Nh("norm",K[y][0],K[y][1],x,E,E,1);return[x,E]};W.c5.abT=function(K,E,x,c,J,i,P,_){var a=K[1].clone(),j=a.clone();
a.x=a.y=0;var e=E[1].clone(),d=e.clone();e.x=e.y=0;e.x=a.b;var I=a.XN(e),v=d.y-j.y,n=W.Q(I.O()*4);W.UL(K[0],a,n,I);
W.UL(E[0],new cS(e.x,e.y+v,e.b,e.n),n,I);var C=document.createElement("canvas");C.width=I.b;C.height=I.n;
var T=C.getContext("2d");T.lineWidth=.5;T.putImageData(new ImageData(new Uint8ClampedArray(n.buffer),I.b,I.n),0,0);
if(i){var o=i[0],s=W.rS.vS(o),Q=a.b,X=_.b;for(var y=0;y<J.length;y++){var B=J[y],K=x[B[0]],E=c[B[1]];
T.strokeStyle="#"+"ff0000";T.beginPath();var M=W.yr.alI(s,P[0],E,0,X),S=W.yr.alI(o,P[1],K,0,X);T.moveTo(-j.x+M[0],-j.y+M[1]);
T.lineTo(-j.x+M[2],-j.y+M[3]);T.moveTo(Q-d.x+S[0],-d.y+v+S[1]);T.lineTo(Q-d.x+S[2],-d.y+v+S[3]);T.stroke()}}if(J){var f=J.length;
for(var y=0;y<f;y++){var B=J[y],K=x[B[0]],E=c[B[1]];T.strokeStyle="#"+"ffff00"}}var F=new Uint8Array(T.getImageData(0,0,I.b,I.n).data.buffer);
if(!1){for(var G=0;G<2;G++){var D=G==0?x:c,b=G*a.b;for(var y=0;y<D.length;y++){var H=D[y],q=~~H.x,O=~~H.y,w=(O*I.b+q+b)*4;
F[w+1]=F[w+2]=H.a2j*60;F[w+0]=0;F[w+3]=255}}}return[F,I]};W.stack={};W.stack.stack=function(K,E,x){var c=K.length,J=E.length;
if(c==1){E.set(K[0]);return}if(x=="avrg"||x=="stdv"||x=="summ"||x=="vari"){var i=1/c;for(var y=0;y<J;
y++){var P=0;for(var _=0;_<c;_++)P+=K[_][y];var a=~~(P*i+.5);if(x=="avrg"||(y&3)==3)E[y]=a;else if(x=="summ")E[y]=255*Math.pow(Math.min(255,P)*(1/255),1/2.4);
else{var j=0;for(var _=0;_<c;_++){var e=K[_][y]-a;j+=e*e}var d=Math.sqrt(j*i)*(1/255);if(x=="stdv")E[y]=255*Math.pow(d,1/2.4);
else E[y]=255*Math.pow(d*d,1/2.4)}}}else if(x=="maxx"){for(var y=0;y<J;y++){var I=0;for(var _=0;_<c;
_++)I=Math.max(I,K[_][y]);E[y]=I}}else if(x=="minn"){for(var y=0;y<J;y++){var I=255;for(var _=0;_<c;
_++)I=Math.min(I,K[_][y]);E[y]=I}}else if(x=="medn"||x=="rang"){var v=function(o,s){return o-s},n=new Array(c),C=0,T=0;
if((c&1)==0){T=c>>>1;C=T-1}else{C=T=c>>>1}for(var y=0;y<J;y++){for(var _=0;_<c;_++)n[_]=K[_][y];n.sort(v);
if(x=="medn")E[y]=n[C]+n[T]>>>1;else E[y]=(y&3)==3?n[c-1]:n[c-1]-n[0]}}else console.log(x)};W.qe={};
W.qe.ae3=function(K,E,x,c){var J=Date.now(),i=new Uint32Array(E*x),P=new Uint8Array(E*x);while(!0){P.fill(0);
i.fill(0);var _=[],a=0;for(var j=0;j<x;j++){for(var e=0;e<E;e++){var y=j*E+e;if(P[y]==0){var d=_.length,I=W.qe.kZ(K,E,x,e,j,P,i,d);
_.push([d,e,j,I[0],I[1],K[y]]);if(I[0]<c)a++}}}if(a==0)break;var v=_.length,n=new UnionFind(v),C=[];
for(var y=0;y<v;y++)C.push([]);for(var y=0;y<v;y++){var I=_[y],T=I[4],o=0,s=0;if(I[3]>=c)continue;var d=I[0];
for(var Q=0;Q<T.length;Q+=2){var X=i[T[Q+1]*E+T[Q]],B=_[X];if(B[3]>s){s=B[3];o=X}}if(n.find(d)!=n.find(o)){n.link(d,o);
C[d].push(o);C[o].push(d)}}var M=new Uint32Array(v);M.fill(4294967295);var S=new Uint32Array(v);for(var y=0;
y<v;y++){if(M[y]!=4294967295||C[y].length==0)continue;var f=[y],F=[y],G=y,D=_[y][3];while(F.length!=0){var b=F.pop(),H=C[b];
for(var Q=0;Q<H.length;Q++){var q=H[Q];if(f.indexOf(q)==-1){f.push(q);F.push(q);var O=_[q];if(O[3]>D){D=O[3];
G=q}}}}for(var Q=0;Q<f.length;Q++){M[f[Q]]=G;var w=_[G];S[f[Q]]=K[w[2]*E+w[1]]}}for(var j=0;j<x;j++)for(var e=0;
e<E;e++){var y=j*E+e,V=M[i[y]];if(V!=4294967295)K[y]=S[V]}}};W.qe.kZ=function(K,E,x,c,J,i,P,_){var a=[c,J],j=K[J*E+c],e=0,d=[];
i[J*E+c]=1;while(a.length!=0){var I=a.pop(),v=a.pop(),y=I*E+v;P[y]=_;e++;if(I!=x-1)if(K[y+E]==j){if(i[y+E]==0){a.push(v,I+1);
i[y+E]=1}}else d.push(v,I+1);if(I!=0)if(K[y-E]==j){if(i[y-E]==0){a.push(v,I-1);i[y-E]=1}}else d.push(v,I-1);
if(v!=E-1)if(K[y+1]==j){if(i[y+1]==0){a.push(v+1,I);i[y+1]=1}}else d.push(v+1,I);if(v!=0)if(K[y-1]==j){if(i[y-1]==0){a.push(v-1,I);
i[y-1]=1}}else d.push(v-1,I)}return[e,d]};W.qe.arP=function(K,E,x,c,J){var i=W.qe.VU(K.buffer,E,x).YN,P=Date.now(),_=[];
for(var y=0;y<i.length;y++){var a=i[y],j=1;for(var e=0;e<j;e++)_.push(a.o0)}var d=new Uint32Array(_),I=UPNG.quantize.getKDtree(new Uint8Array(d.buffer),c),v=[E,1,-E,-1,E+1,-E+1,-E-1,E-1,E+E,2,-E-E,-2,E+E-1,E+E+1,E+2,-E+2,-E-E+1,-E-E-1,-E-2,E-2,E+E+2,-E-E+2-E-E-2,E+E-2],n=new Uint8Array(E*x),C=K;
for(var T=0;T<x;T++)for(var o=0;o<E;o++){var y=T*E+o<<2,s=C[y]*(1/255),Q=C[y+1]*(1/255),X=C[y+2]*(1/255),B=C[y+3]*(1/255),M=W.qe.wd(I,s,Q,X,B,J);
if(M==null){var S=[],f=0;while(f<20){var F=T*E+o+v[f]<<2,G=C[F]*(1/255),D=C[F+1]*(1/255),b=C[F+2]*(1/255),H=C[F+3]*(1/255),q=W.qe.wd(I,G,D,b,H,.005);
if(q!=null){if(S.indexOf(q)==-1){S.push(q);q.fL=1}else q.fL++}f++}S.sort(function(B,X){return X.fL-B.fL});
while(S.length!=0&&S[S.length-1].fL<3)S.pop();if(S.length==0)M=W.qe.wd(I,s,Q,X,B,100);else if(S.length==1)M=S[0];
else if(S.length==2){var O=S[0],w=S[1],V=O.est.q,t=w.est.q,m=t[0]-V[0],g=t[1]-V[1],Y=t[2]-V[2],A=t[3]-V[3],k=s-V[0],z=Q-V[1],p=X-V[2],L=B-V[3],N=m*m+g*g+Y*Y+A*A,gC=k*k+z*z+p*p+L*L,r=(k*m+z*g+p*Y+L*A)/N,h=gC-r*r*N;
if(h<.5)M=r<.5?O:w;else{M=W.qe.wd(I,s,Q,X,B,100)}}else{var O=S[0],w=S[1],l=S[2],V=O.est.q,t=w.est.q,g5=l.est.q,fm=V[0]-g5[0],dC=V[1]-g5[1],ex=V[2]-g5[2],cR=V[3]-g5[3],d0=t[0]-g5[0],hN=t[1]-g5[1],ey=t[2]-g5[2],cr=t[3]-g5[3],ik=g5[0]-s,hd=g5[1]-Q,df=g5[2]-X,bQ=g5[3]-B,is=fm*fm+dC*dC+ex*ex+cR*cR,bi=fm*d0+dC*hN+ex*ey+cR*cr,jX=ik*fm+hd*dC+df*ex+bQ*cR,eS=fm*d0+dC*hN+ex*ey+cR*cr,bN=d0*d0+hN*hN+ey*ey+cr*cr,h9=ik*d0+hd*hN+df*ey+bQ*cr,bz=1/(bi*eS-is*bN),r=(bN*jX-h9*bi)*bz,i0=(h9*is-jX*eS)*bz,hp=1-r-i0,hY=Math.max(r,i0,hp);
if(hY==r)M=O;else if(hY==i0)M=w;else M=l}}n[y>>2]=M.ind}return{yf:n,YN:I[1]}};W.qe.VU=function(K,E,x){var c=[],J={},i=E-1,P=x-1,_=0,a=new Uint32Array(K),j=[-E-1,-E,-E+1,-1,1,E-1,E,E+1,E+E,2,-E-E,-2,E+E-1,E+E+1,E+2,-E+2,-E-E+1,-E-E-1,-E-2,E-2,E+E+2,-E-E+2-E-E-2,E+E-2];
for(var e=1;e<P;e++)for(var d=1;d<i;d++){var I=e*E+d,v=a[I],n=!0;for(var y=0;y<8;y++)n=n&&a[I+j[y]]==v;
if(n){_++;var C=J[v];if(C==null){J[v]=c.length;c.push({o0:v,KA:1})}else c[C].KA++}}return{YN:c,apV:_}};
W.qe.wd=function(K,E,x,c,J,i){var P=UPNG.quantize.getNearest(K[0],E,x,c,J);return W.qe.ag9(P,E,x,c,J)<i?P:null};
W.qe.ag9=function(K,E,x,c,J){var i=K.est.q,P=E-i[0],_=x-i[1],a=c-i[2],j=J-i[3];return P*P+_*_+a*a+j*j};
W.qe.eZ=function(){function K(o,s,Q,X,B,M){var S=[],f=M,F=M,G=M>>>2;for(var D=0;D<B;D++)for(var b=0;
b<X;b++){var H=~~((b+.5)*f),q=~~((D+.5)*F),O=1e9,w=Math.max(0,H-G),V=Math.min(s,H+G+1),t=Math.max(0,q-G),m=Math.min(Q,q+G+1);
for(var g=t;g<m;g++)for(var Y=w;Y<V;Y++){var A=E(o,s,Y,g);if(A<O){H=Y;q=g;O=A}}var k=(q*s+H)*4;S.push(H,q)}return S}function E(o,s,Q,X){var B=(X*s+Q)*4,M=s*4,S=x(o,B-4,B)+x(o,B,B+4),f=x(o,B-M,B)+x(o,B,B+M);
return S+f}function x(o,s,Q){var X=o[s]-o[Q],B=o[s+1]-o[Q+1],M=o[s+2]-o[Q+2];return X*X+B*B+M*M}var c=0,J=0;
function i(o,s,Q,X){J++;if(X<c)c=X;o[X].push(s,Q)}function P(o){J--;while(o[c].length==0)c++}function _(o,s,Q,X,B){c=0;
J=0;var M=s*Q,S=Math.round(Math.min(s,Q)/(X?X:50)),w=0,V=16;if(S==0)S=1;var f=(B?B:30)/S,F=Math.floor(s/S),G=Math.floor(Q/S),D=new Uint16Array(M);
for(var y=0;y<M;y++)D[y]=65535;var b=K(o,s,Q,F,G,S),H=b.length>>>1;if(H>65535)throw H;var q=[];for(var y=0;
y<1e3+Q;y++)q.push([]);var O=[0,1,0,-1,-1,0,1,0],t=Math.min(G,5),m=new Uint32Array(H*6);for(var g=0;
g<G;g+=t){var Y=Math.min(g+t+1,G);for(var A=g;A<Y;A++)for(var k=0;k<F;k++){var y=A*F+k,z=y*2,p=b[z+1]<<16|b[z];
i(q,p,y,b[z+1]>>>V)}var L=Math.min(Q,Y*S);if(g+t>=G)L=Q;while(J!=0){P(q);var N=q[c].pop(),gC=q[c].pop(),r=gC>>>16,h=gC&65535,y=r*s+h;
if(D[y]==65535){var l=N*6,g5=y<<2;D[y]=N;m[l]+=o[g5];m[l+1]+=o[g5+1];m[l+2]+=o[g5+2];m[l+3]+=h;m[l+4]+=r;
m[l+5]++;var fm=r>>>V;if(r!=L-1&&D[y+s]==65535)i(q,r+1<<16|h,N,a(o,s,f,h,r+1,m,l)+fm);if(r!=0&&D[y-s]==65535)i(q,r-1<<16|h,N,a(o,s,f,h,r-1,m,l)+fm);
if(h!=0&&D[y-1]==65535)i(q,r<<16|h-1,N,a(o,s,f,h-1,r,m,l)+fm);if(h!=s-1&&D[y+1]==65535)i(q,r<<16|h+1,N,a(o,s,f,h+1,r,m,l)+fm)}}if(L!=r){var dC=(g+t)*F;
m.fill(0,dC*6,(dC+F)*6);for(var r=(g+t-2)*S;r<L;r++)for(var h=0;h<s;h++){var y=r*s+h;if(D[y]>=dC){D[y]=65535}}}}return{yf:D,ms:H,CR:m}}W.qe.XZ=function(o,s,Q,X,B){var M=o.ms,S=s*Q,f=o.CR,F=o.yf,G=v(X,F,M,S),D=new UnionFind(M),V=0;
for(var b=1;b<Q;b++)for(var H=1;H<s;H++){var y=b*s+H,q=F[y],O=0;if((O=F[y-1])!=q&&G[O]==G[q]&&j(f,0,q*6,O*6)<B)D.link(q,O);
if((O=F[y-s])!=q&&G[O]==G[q]&&j(f,0,q*6,O*6)<B)D.link(q,O)}var w=new Uint16Array(M);w.fill(65535);var t=new Uint16Array(M);
for(var y=0;y<M;y++){var m=D.find(y);if(w[m]==65535)w[m]=V++;t[y]=w[m]}var g=new Uint16Array(S);for(var y=0;
y<S;y++)g[y]=t[F[y]];return{yf:g,ms:V}};W.qe.ahq=function(o,s,Q,X){var B=W.Q(Q),M=s.length,S=0;for(var y=0;
y<M&&S!=3;y++){var f=X[y];if(f==0||f==255){var F=s[y],G=2-(f>>>7);B[F]=S=B[F]|G}}return S!=3};function a(o,s,Q,X,B,M,S){var f=(B*s+X)*4,F=M[S+5],G=1/F,D=o[f]*F-M[S],b=o[f+1]*F-M[S+1],H=o[f+2]*F-M[S+2],q=X*F-M[S+3],O=B*F-M[S+4],w=Math.sqrt(D*D+b*b+H*H),V=Math.sqrt(q*q+O*O);
return~~((w+Q*V)*G+.5)}function j(o,s,Q,X){var B=1/o[Q+5],M=1/o[X+5],S=o[Q]*B-o[X]*M,f=o[Q+1]*B-o[X+1]*M,F=o[Q+2]*B-o[X+2]*M,G=o[Q+3]*B-o[X+3]*M,D=o[Q+4]*B-o[X+4]*M,b=Math.sqrt(S*S+f*f+F*F),H=Math.sqrt(G*G+D*D);
return~~(b+s*H+.5)}function e(o,s,Q){var X=W.tI(o,new cS(0,0,s,Q)),B=X.rect.b,M=X.rect.n,S=_(X.Ly,B,M),f=S.yf,F=Date.now(),G=new Uint16Array(s*Q);
G.fill(65535);for(var D=0;D<M;D++){for(var b=0;b<B;b++){var H=D*B+b,y=(D<<1)*s+(b<<1),q=f[H];if(f[H-B]!=q||f[H-1]!=q||f[H+1]!=q||f[H+B]!=q)q=65535;
G[y]=q;G[y+1]=q;G[y+s]=q;G[y+s+1]=q}}S.yf=G;return S}function d(o,s){var y=0,Q=o.length;while(y!=Q&&o[y]!=s)y+=2;
return y==Q?-1:y}function I(o,y){if(y==o.length-2){o.pop();o.pop()}else{o[y+1]=o.pop();o[y]=o.pop()}}W.qe.auC=function(o,s,Q,X,B){var M=new Uint32Array(B*4400),E=[];
for(var y=0;y<B;y++)E.push([]);for(var S=0;S<Q;S++)for(var f=0;f<s;f++){var y=S*s+f,F=y<<2,G=X[y],D=0,b=o[F]>>>4,H=o[F+1]>>>4,q=o[F+2]>>>4;
M[G*4400+(b<<8|H<<4|q)]++;M[G*4400+4096]++;M[G*4400+4100+(b<<4|H)]++;M[G*4400+4360+b]++;if(f!=0&&(D=X[y-1])!=G&&d(E[G],D)==-1){E[G].push(D,0);
E[D].push(G,0)}if(S!=0&&(D=X[y-s])!=G&&d(E[G],D)==-1){E[G].push(D,0);E[D].push(G,0)}}for(var y=0;y<B;
y++){var q=E[y];for(var O=0;O<q.length;O+=2)q[O+1]=T(M,y,q[O])}return[M,E]};function v(o,s,Q,X){var B=W.Q(Q);
for(var y=0;y<X;y++){var M=o[y];if(M==0||M==255)B[s[y]]=2-(M>>>7)}return B}W.qe.aoC=function(o,s,Q,X,B,M,S){var f=s*Q,F=S[0],E=S[1],G=new UnionFind(X),D=v(B,o,X,f),b=-1,H=!0,q=0;
for(var y=0;y<X;y++)if(D[y]==1){if(b==-1)b=y;else G.link(y,b)}if(b==-1){for(var y=0;y<f;y++)M[y]=B[y]==255?255:0;
return}while(H){while(H){H=!1;for(var y=0;y<X;y++){if(D[y]==0){var O=n(E[y]);if(D[O]==1){D[y]=D[O];H=!0;
G.link(y,O)}}}}H=!0;q=0;while(H){H=!1;for(var y=0;y<X;y++){if(D[y]==0){var O=n(E[y]);if(D[O]==0){var w=y*4400,V=O*4400;
for(var t=0;t<4400;t+=2){F[w+t]+=F[V+t];F[w+t+1]+=F[V+t+1]}C(E,F,y,O);q++;D[O]=3;H=!0;G.link(y,O)}}}}H=q!=0}var m=G.find(b);
for(var y=0;y<X;y++)D[y]=G.find(y)==m?255:0;for(var y=0;y<f;y++){M[y]=D[o[y]]}for(var y=0;y<f;y++){var O=B[y];
if(O==0||O==255)M[y]=O}};function n(o){var s=0,Q=0,X=o.length;for(var B=0;B<X;B+=2){var M=o[B+1];if(M>Q){Q=M;
s=B}}return o[s]}function C(E,o,s,Q){var X=E[s],B=E[Q];I(X,d(X,Q));I(B,d(B,s));for(var y=0;y<B.length;
y+=2){var M=B[y],S=E[M];I(S,d(S,Q));if(d(S,s)==-1){S.push(s,0);X.push(M,0)}}for(var y=0;y<X.length;y+=2){var M=X[y],S=E[M],f=T(o,s,M);
X[y+1]=f;S[d(S,s)+1]=f}}function T(o,s,Q){var X=0,B=4096,M=s*4400,S=Q*4400;for(var f=0;f<16;f++){if(o[M+4360+f]==0||o[S+4360+f]==0)continue;
for(var F=0;F<16;F++){var G=f<<4|F;if(o[M+4100+G]==0||o[S+4100+G]==0)continue;var D=M+(G<<4),b=S+(G<<4);
for(var y=0;y<16;y++)X+=Math.sqrt(o[D+y]*o[b+y])}}var H=X/Math.sqrt(o[M+B]*o[S+B]);return~~(999.99999*H)}return _}();
W.ia={};W.ia.agx=function(){var K=11,E=7,x=K>>>1,hr=E>>>1,c=2,J=2e3/c,i=[],_=null,a="";function P(e,d,I){var v=(e[d+0]-e[I+0])*(1/255),n=(e[d+1]-e[I+1])*(1/255),C=(e[d+2]-e[I+2])*(1/255),T=(e[d+3]-e[I+3])*(1/255),o=v*v*.125+n*n*.25+C*C*.5+T*T;
return i[~~(o*J)]}function j(e,d,I,v,n,C){var T=Date.now(),o=W.Q(d*I);W.KZ(e,o);var s=UZIP.adler(o,0,d*I);
if(s!=a){var Q=W.Qa(o,d,I);_=W.Q(d*I*4);a=s;var X=[1,1/9,1/25,1/49,1/81];for(var B=0;B<I;B++)for(var M=0;
M<d;M++)for(var y=0;y<4;y++){var S=Math.max(1,M-y),f=Math.min(d-1,M+y),F=Math.max(1,B-y),G=Math.min(I-1,B+y),D=W.Rt(Q,d,S,f,F,G);
if(isNaN(D))throw M+","+B+","+y+","+D;_[(B*d+M)*4+y]=D*X[y]}}if(f4.Eg){var b=f4.nT(0,d,I);b.set(e);var H=f4.nT(1,d,I);
H.set(_);var q=f4.nT(2,d,I);f4.rA(q);f4.filter.wN({type:f4.filter.avE,P9:new Float32Array([1/d,1/I]),aqS:H.Iz,awC:n,a4r:C},b.Iz);
q.get(v)}else{for(var y=0;y<2e3;y++)i[y]=Math.exp(-(y/2e3)*c*(100+(1-n)*(1-n)*1e4));var O=hr+2;for(var B=O;
B<I-O;B++)for(var M=O;M<d-O;M++){var w=0,V=0,t=0,m=0;for(var g=0;g<K;g++)for(var Y=0;Y<K;Y++){var A=M+Y-x,k=B+g-x;
if(A==M&&k==B||A<O||k<O||A>=d-O||k>=I-O)continue;var z=P(_,(B*d+M)*4,(k*d+A)*4),p=k*d+A<<2;w+=z*e[p+0];
V+=z*e[p+1];t+=z*e[p+2];m+=z}if(m==0){continue}var L=1/m,N=(B*d+M)*4;v[N+0]=~~((1-C)*L*w+C*v[N+0]);v[N+1]=~~((1-C)*L*V+C*v[N+1]);
v[N+2]=~~((1-C)*L*t+C*v[N+2])}}}return j}();W.a7a=function(){var K=6,E=K>>>1,x=[[-.0662912607,-.0855816496],[.1104854346,-.0855816496],[.6629126074,.1711632992],[.6629126074,.1711632992],[.1104854346,-.0855816496],[-.0662912607,-.0855816496],[0,0],[0,0]],c=[[-.0662912607,.0855816496],[-.1104854346,-.0855816496],[.6629126074,-.1711632992],[-.6629126074,.1711632992],[.1104854346,.0855816496],[.0662912607,-.0855816496],[0,0],[0,0]];
function J(C,T){var o=!1,s=C.length,Q=T[0],S=5,F=0,G=0;for(var y=1;y<s;y++)Q=Q.XN(T[y]);if((Q.b&1)!=0)Q.b++;
if((Q.n&1)!=0)Q.n++;var X=Q.b,B=Q.n,M=Math.max(X,B);while(M>>>S>8&&S<10)S++;var f=1<<S;if(X%f!=0)F=f-X%f;
if(B%f!=0)G=f-B%f;Q.r1(F>>>1,G>>>1);X=Q.b;B=Q.n;if(X%f!=0||B%f!=0)throw"e";var D=Date.now(),b=[],H=W.Q(Q.O()),q=[],O=X*B,w=new Float32Array(X*B*2);
for(var y=0;y<s;y++){var V=T[y],t=W.Q(V.O());W.KZ(C[y],t);H.fill(0);W.XT(t,V,H,Q);b.push(H.slice(0));
var m=V.x-Q.x,g=V.y-Q.y,Y=m+V.b-2,A=g+V.n;for(var k=0;k<V.n;k++){var z=(k+g)*X;for(var p=0;p<m;p++)H[z+p]=H[z+m];
for(var p=Y;p<X;p++)H[z+p]=H[z+Y-1]}for(var p=0;p<X;p++){for(var k=0;k<g;k++)H[k*X+p]=H[g*X+p];for(var k=A;
k<B;k++)H[k*X+p]=H[(A-1)*X+p]}var L=new Float32Array(X*B*2);q.push(L);for(var N=0;N<O;N++)L[N*2]=H[N]*(1/255);
a(L,w,X,B,S);i(L,X,B,S)}if(o)console.log("to gray, decompose",Date.now()-D);D=Date.now();var gC=W.Q(X*B);
for(var k=0;k<B;k++)for(var p=0;p<X;p++){var r=0,h=0,l=k*X+p<<1;for(var y=0;y<s;y++){var g5=q[y],fm=g5[l],dC=g5[l+1],ex=fm*fm+dC*dC;
if(ex>h){h=ex;r=y}}gC[l>>>1]=r}if(o)console.log("max abs value",Date.now()-D);D=Date.now();P(gC,X,B,S);
_(gC,X,B);if(o)console.log("denoise",Date.now()-D);D=Date.now();var cR=w.slice(0);for(var k=0;k<B;k++)for(var p=0;
p<X;p++){var y=k*X+p,l=y<<1,d0=q[gC[y]];cR[l]=d0[l];cR[l+1]=d0[l+1]}j(cR,w,X,B,S);if(o)console.log("compose",Date.now()-D);
D=Date.now();for(var N=0;N<O;N++){var ex=cR[N*2]*255,r=0,h=1e9;for(var y=0;y<s;y++){var hN=Math.abs(b[y][N]-ex);
if(hN<h){h=hN;r=y}b[y][N]=0}b[r][N]=255}if(o)console.log("toRGB",Date.now()-D);D=Date.now();return[b,Q]}function i(C,T,o,s){var Q=T>>>s,X=o>>>s,B=1e-4;
for(var M=0;M<o;M++)for(var S=0;S<T;S++){if(S<Q&&M<X)continue;var f=(M*T+S)*2,F=C[f],G=C[f+1],D=F*F+G*G;
if(D<B)F=G=0;else{var b=(D-B)/D;F*=b;G*=b}C[f]=F;C[f+1]=G}}function P(C,T,o,s){for(var Q=0;Q<s;Q++){var X=T>>>Q,B=o>>>Q,M=X>>>1,S=B>>>1;
for(var f=0;f<S;f++)for(var F=0;F<M;F++){var G=f*T+M+F,D=(f+S)*T+M+F,b=(f+S)*T+F,H=C[G],q=C[D],O=C[b];
if(H==q==O){}else if(H==q)C[b]=H;else if(q==O)C[G]=q;else if(H==O)C[D]=H}}}function _(C,T,o){for(var s=1;
s<o-1;s++)for(var Q=1;Q<T-1;Q++){var y=s*T+Q,X=C[y-T],B=C[y-1],M=C[y],S=C[y+1],f=C[y+T],F=X==B&&X==S||X==S&&S==f||S==f&&B==f||X==B&&f==B;
if(F)C[y]=X==B?X:B==S?B:X;else if(M>X&&M>B&&M>S&&M>f)C[y]=X+B+S+f>>>2;else if(M<X&&M<B&&M<S&&M<f)C[y]=X+B+S+f>>>2}}function a(C,T,o,s,Q){for(var y=0;
y<Q;y++){var X=o>>>y,B=s>>>y;e(C,T,o,s,X,B)}}function j(C,T,o,s,Q){for(var y=Q-1;y>=0;y--){var X=o>>y,B=s>>y;
d(C,T,o,s,X,B)}}function e(C,T,o,s,Q,X){v(C,T,o,s,Q,X,!0);v(T,C,o,s,Q,X,!1)}function d(C,T,o,s,Q,X){n(C,T,o,s,Q,X,!0);
n(T,C,o,s,Q,X,!1)}function I(C,T,o,s,Q,X){var B=o*s+T<<1;C[B]=Q;C[B+1]=X}function v(C,T,o,s,Q,X,B){var b0=B?Q:X,M=B?X:Q,S=M>>>1;
for(var f=0;f<b0;f++){for(var F=0;F<M;F+=2){var G=0,D=0,b=0,H=0,q=F>>>1;for(var O=0;O<6;O++){var w=F+O-3;
if(w<0)w=M+w;if(w>=M)w=w-M;var V=(B?w*o+f:f*o+w)<<1,t=C[V],m=C[V+1],g=x[O],Y=c[O];G+=t*g[0]-m*g[1];D+=m*g[0]+t*g[1];
b+=t*Y[0]-m*Y[1];H+=m*Y[0]+t*Y[1]}if(B){I(T,f,q,o,G,D);I(T,f,q+S,o,b,H)}else{I(T,q,f,o,G,D);I(T,q+S,f,o,b,H)}}}}function n(C,T,o,s,Q,X,B){var b0=B?Q:X,M=B?X:Q,S=M>>>1,f,F,G,D;
for(var b=0;b<b0;b++){for(var H=0;H<M;H++){var q=0,O=0;for(var w=H+3&1;w<6;w+=2){var V=H-w+3>>1;if(V<0)V=S+V;
if(V>=S)V=V-S;if(B){f=b;F=V;G=b;D=V+S}else{F=b;f=V;D=b;G=V+S}var t=F*o+f<<1,m=D*o+G<<1,g=C[t],Y=C[t+1],A=C[m],k=C[m+1],z=x[w],p=c[w];
q+=g*z[0]+A*p[0];q+=Y*z[1]+k*p[1];O+=Y*z[0]+k*p[0];O-=g*z[1]+A*p[1]}if(B)I(T,b,H,o,q,O);else I(T,H,b,o,q,O)}}}return{MK:J}}();
var iq=function(){function K(){this.O=0;this.L9=0;this.m0={};this.Uu=[];this.H1=1e5;this.dc=1e5;this.QW=-1;
this.FQ=-1;this.color=0}function E(hr){this.qL=hr;this.LJ=new Array(hr);this.o0=new Array(hr*6);this.aab=0;
this.ty=new Array(hr*2);this.alpha=new Array(hr);this.BV=new Array(hr);this.Ay=new Array(hr)}function x(J,i,P,_){function a(T,o,J,i){return J[i*o+T]}function j(y){var S=J.length;
while(y<S&&J[y]==0)y++;return y<S?y:-1}function e(T,o,S){for(var y=2;y<5;y++){var f=0;for(var F=-y+1;
F<=y-1;F++){f+=a(T+F,o+y-1,J,i)==S?1:-1;f+=a(T+y-1,o+F-1,J,i)==S?1:-1;f+=a(T+F-1,o-y,J,i)==S?1:-1;f+=a(T-y,o+F,J,i)==S?1:-1}if(f>0)return 1;
else if(f<0)return 0}return 0}function d(S,n){var C=new K,T=S,o=n,f=0,F=1,G;C.color=J[n*i+S];C.sign=a(S,n,J,i)==C.color?"+":"-";
while(1){C.Uu.push(T,o);if(T>C.QW)C.QW=T;if(T<C.H1)C.H1=T;if(o>C.FQ)C.FQ=o;if(o<C.dc)C.dc=o;C.L9++;T+=f;
o+=F;C.O-=T*F;if(T==S&&o==n)break;var D=a(T+(f+F-1>>1),o+(F-f-1>>1),J,i)==C.color,b=a(T+(f-F-1>>1),o+(F+f-1>>1),J,i)==C.color;
if(b&&!D){if(_.Sd=="right"||_.Sd=="black"&&C.sign=="+"||_.Sd=="white"&&C.sign=="-"||_.Sd=="majority"&&e(T,o,C.color)||_.Sd=="minority"&&!e(T,o,C.color)){G=f;
f=-F;F=G}else{G=f;f=F;F=-G}}else if(b){G=f;f=-F;F=G}else if(!D){G=f;f=F;F=-G}}return C}var I=0,v=[];
while(!0){var I=j(I);if(I==-1)break;var n=Math.floor(I/i),C=d(I-n*i,n);for(var y=0;y<C.Uu.length-2;y+=2){var T=C.Uu[y],o=C.Uu[y+1],s=o*i+T;
if(T==C.Uu[y+2]&&o+1==C.Uu[y+3]&&J[s]!=0)iq.fill(s,J,i,0)}if(C.O>_.acb)v.push(C)}for(var y=0;y<v.length;
y++)v[y].parent=-1;var Q=Date.now();for(var y=1;y<v.length;y++){var X=v[y];for(var B=y-1;B>=0;B--){var M=v[B];
if(X.H1<M.H1||X.QW>M.QW||X.dc<M.dc||X.FQ>M.FQ)continue;if(!iq.cQ(M.Uu,X.Uu[0]+.5,X.Uu[1]+.5))continue;
X.parent=B;break}}return v}function c(J,i){function P(f,F,G,D,b){this.x=f;this.y=F;this.aY=G;this.G7=D;
this.o1=b}function _(f,hr){return(hr+f)%hr}function a(f,F,G,D){return f*D-G*F}function j(f,F,G,D){return f*G+F*D}function e(f,F,G){if(f<=G)return f<=F&&F<G;
else return f<=F||F<G}function d(f,F,G){var D=0;D+=F*f[0]*F;D+=F*f[1]*G;D+=F*f[2];D+=G*f[3]*F;D+=G*f[4]*G;
D+=G*f[5];D+=f[6]*F;D+=f[7]*G;D+=f[8];return D}function I(f,F,G){return F+f*(G-F)}function v(f,F,G,D){var b=Math.sign(G-f),H=-Math.sign(D-F);
return b*(G-f)-H*(D-F)}function n(f,F){return Math.sqrt(f*f+F*F)}function C(f,F,G,D,b){var H=1-f;return H*H*H*F+3*(H*H*f)*G+3*(f*f*H)*D+f*f*f*b}function T(f,F,G,D,b,H,q,O){var w=a(f,F,q,O),V=a(G,D,q,O),t=a(b,H,q,O),m=w-2*V+t,g=-2*w+2*V,Y=w,A=g*g-4*m*Y;
if(m==0||A<0)return-1;var k=Math.sqrt(A),z=(-g+k)/(2*m),p=(-g-k)/(2*m);if(z>=0&&z<=1)return z;else if(p>=0&&p<=1)return p;
else return-1}function o(S){var y,f,F;S.m$=S.Uu[0];S.afr=S.Uu[1];S.nB=[];var G=S.nB;G.push(new P(0,0,0,0,0));
for(y=0;y<S.L9;y++){f=S.Uu[y<<1]-S.m$;F=S.Uu[(y<<1)+1]-S.afr;G.push(new P(G[y].x+f,G[y].y+F,G[y].aY+f*F,G[y].G7+f*f,G[y].o1+F*F))}}function s(S){var hr=S.L9,f=S.Uu,F,G=new Array(hr),D=new Array(hr),b=new Array(4),H,q,O,w,V,t,m,g,Y,A,k,y,z,p,L,N,gC,r,h=0;
S.sF=new Array(hr);for(y=hr-1;y>=0;y--){if(f[y<<1]!=f[h<<1]&&f[(y<<1)+1]!=f[(h<<1)+1])h=y+1;D[y]=h}for(y=hr-1;
y>=0;y--){var l=_(y+1,hr)<<1;b[0]=b[1]=b[2]=b[3]=0;F=(3+3*(f[l]-f[y<<1])+(f[l+1]-f[(y<<1)+1]))/2;b[F]++;
H=0;q=0;O=0;w=0;h=D[y];p=y;while(1){k=0;F=(3+3*Math.sign(f[h*2]-f[p*2])+Math.sign(f[h*2+1]-f[p*2+1]))/2;
b[F]++;if(b[0]&&b[1]&&b[2]&&b[3]){G[y]=p;k=1;break}Y=f[h*2]-f[y*2];A=f[h*2+1]-f[y*2+1];if(a(H,q,Y,A)<0||a(O,w,Y,A)>0){break}if(Math.abs(Y)<=1&&Math.abs(A)<=1){}else{V=Y+(A>=0&&(A>0||Y<0)?1:-1);
t=A+(Y<=0&&(Y<0||A<0)?1:-1);if(a(H,q,V,t)>=0){H=V;q=t}V=Y+(A<=0&&(A<0||Y<0)?1:-1);t=A+(Y>=0&&(Y>0||A<0)?1:-1);
if(a(O,w,V,t)<=0){O=V;w=t}}p=h;h=D[p];if(!e(h,y,p)){break}}if(k==0){m=Math.sign(f[h*2]-f[p*2]);g=Math.sign(f[h*2+1]-f[p*2+1]);
Y=f[p*2]-f[y*2];A=f[p*2+1]-f[y*2+1];L=a(H,q,Y,A);N=a(H,q,m,g);gC=a(O,w,Y,A);r=a(O,w,m,g);z=1e7;if(N<0){z=Math.floor(L/-N)}if(r>0){z=Math.min(z,Math.floor(-gC/r))}G[y]=_(p+z,hr)}}z=G[hr-1];
S.sF[hr-1]=z;for(y=hr-2;y>=0;y--){if(e(y+1,G[y],z)){z=G[y]}S.sF[y]=z}for(y=hr-1;e(_(y+1,hr),z,S.sF[y]);
y--){S.sF[y]=z}}function Q(S){function f(S,y,F){var hr=S.L9,Y=S.Uu,A=S.nB,k,z,p,L,N,D,gC,r,g,h,l,g5,fm,dC,ex=0;
if(F>=hr){F-=hr;ex=1}if(ex==0){k=A[F+1].x-A[y].x;z=A[F+1].y-A[y].y;L=A[F+1].G7-A[y].G7;p=A[F+1].aY-A[y].aY;
N=A[F+1].o1-A[y].o1;D=F+1-y}else{k=A[F+1].x-A[y].x+A[hr].x;z=A[F+1].y-A[y].y+A[hr].y;L=A[F+1].G7-A[y].G7+A[hr].G7;
p=A[F+1].aY-A[y].aY+A[hr].aY;N=A[F+1].o1-A[y].o1+A[hr].o1;D=F+1-y+hr}l=(Y[y<<1]+Y[F<<1])/2-Y[0];g5=(Y[(y<<1)+1]+Y[(F<<1)+1])/2-Y[1];
dC=Y[F<<1]-Y[y<<1];fm=-(Y[(F<<1)+1]-Y[(y<<1)+1]);gC=(L-2*k*l)/D+l*l;r=(p-k*g5-z*l)/D+l*g5;g=(N-2*z*g5)/D+g5*g5;
h=fm*fm*gC+2*fm*dC*r+dC*dC*g;return Math.sqrt(h)}var y,F,G,D,hr=S.L9,b=new Array(hr+1),H=new Array(hr+1),q=new Array(hr),O=new Array(hr+1),w=new Array(hr+1),V=new Array(hr+1),t,m,g;
for(y=0;y<hr;y++){g=_(S.sF[_(y-1,hr)]-1,hr);if(g==y){g=_(y+1,hr)}if(g<y){q[y]=hr}else{q[y]=g}}F=1;for(y=0;
y<hr;y++){while(F<=q[y]){O[F]=y;F++}}y=0;for(F=0;y<hr;F++){w[F]=y;y=q[y]}w[F]=hr;G=F;y=hr;for(F=G;F>0;
F--){V[F]=y;y=O[y]}V[0]=0;b[0]=0;for(F=1;F<=G;F++){for(y=V[F];y<=w[F];y++){m=-1;for(D=w[F-1];D>=O[y];
D--){t=f(S,D,y)+b[D];if(m<0||t<m){H[y]=D;m=t}}b[y]=m}}S.ahx=G;S.axW=new Array(G);for(y=hr,F=G-1;y>0;
F--){y=H[y];S.axW[F]=y}}function X(S){function f(S,y,t,q,O,cR){var hr=S.L9,d0=S.nB,hN=0,g;while(t>=hr){t-=hr;
hN+=1}while(y>=hr){y-=hr;hN-=1}while(t<0){t+=hr;hN-=1}while(y<0){y+=hr;hN+=1}var ey=d0[t+1].x-d0[y].x+hN*d0[hr].x,cr=d0[t+1].y-d0[y].y+hN*d0[hr].y,ik=d0[t+1].G7-d0[y].G7+hN*d0[hr].G7,hd=d0[t+1].aY-d0[y].aY+hN*d0[hr].aY,df=d0[t+1].o1-d0[y].o1+hN*d0[hr].o1,m=t+1-y+hN*hr;
q[cR]=ey/m;q[cR+1]=cr/m;var bQ=(ik-ey*ey/m)/m,is=(hd-ey*cr/m)/m,bi=(df-cr*cr/m)/m,jX=(bQ+bi+Math.sqrt((bQ-bi)*(bQ-bi)+4*is*is))/2;
bQ-=jX;bi-=jX;if(Math.abs(bQ)>=Math.abs(bi)){g=Math.sqrt(bQ*bQ+is*is);if(g!=0){O[cR]=-is/g;O[cR+1]=bQ/g}}else{g=Math.sqrt(bi*bi+is*is);
if(g!=0){O[cR]=-bi/g;O[cR+1]=is/g}}if(g==0){O[cR]=O[cR+1]=0}}var F=S.ahx,G=S.axW,hr=S.L9,D=S.Uu,b=S.m$,H=S.afr,q=new Array(F*2),O=new Array(F*2),w=new Array(F),V=new Array(3),y,t,m,g,z,p,L,N,gC,r,h;
S.m0=new E(F);for(y=0;y<F;y++){t=G[_(y+1,F)];t=_(t-G[y],hr)+G[y];q[y<<1]=0;q[(y<<1)+1]=0;O[y<<1]=0;O[(y<<1)+1]=0;
f(S,G[y],t,q,O,y<<1)}for(y=0;y<F;y++){w[y]=[0,0,0,0,0,0,0,0,0];var Y=O[y<<1]*O[y<<1]+O[(y<<1)+1]*O[(y<<1)+1],A=1/Y;
if(Y!=0){V[0]=O[(y<<1)+1];V[1]=-O[y<<1];V[2]=-V[1]*q[(y<<1)+1]-V[0]*q[y<<1];for(g=0;g<3;g++){w[y][g*3+0]=V[g]*V[0]*A;
w[y][g*3+1]=V[g]*V[1]*A;w[y][g*3+2]=V[g]*V[2]*A}}}var k=[0,0,0,0,0,0,0,0,0];for(y=0;y<F;y++){k[0]=k[1]=k[2]=k[3]=k[4]=k[5]=k[6]=k[7]=k[8]=k[9]=0;
var l=D[G[y]<<1]-b,g5=D[(G[y]<<1)+1]-H,fm=0,dC=0;t=_(y-1,F);for(g=0;g<9;g+=3){k[g+0]=w[t][g+0]+w[y][g+0];
k[g+1]=w[t][g+1]+w[y][g+1];k[g+2]=w[t][g+2]+w[y][g+2]}while(1){var ex=k[0]*k[4]-k[1]*k[3];if(ex!=0){fm=(-k[2]*k[4]+k[5]*k[0])/ex;
dC=(k[2]*k[3]-k[5]*k[0])/ex;break}if(k[0]>k[4]){V[0]=-k[1];V[1]=k[0]}else if(k[4]){V[0]=-k[4];V[1]=k[3]}else{V[0]=1;
V[1]=0}var Y=V[0]*V[0]+V[1]*V[1],A=1/Y;V[2]=-V[1]*g5-V[0]*l;for(g=0;g<3;g++){k[g*3+0]+=V[g]*V[0]*A;k[g*3+1]+=V[g]*V[1]*A;
k[g*3+2]+=V[g]*V[2]*A}}z=Math.abs(fm-l);p=Math.abs(dC-g5);if(z<=.5&&p<=.5){S.m0.ty[y<<1]=fm+b;S.m0.ty[(y<<1)+1]=dC+H;
continue}L=d(k,l,g5);gC=l;r=g5;if(k[0]!=0){for(h=0;h<2;h++){dC=g5-.5+h;fm=-(k[1]*dC+k[2])/k[0];z=Math.abs(fm-l);
N=d(k,fm,dC);if(z<=.5&&N<L){L=N;gC=fm;r=dC}}}if(k[4]!=0){for(h=0;h<2;h++){fm=l-.5+h;dC=-(k[3]*fm+k[5])/k[4];
p=Math.abs(dC-g5);N=d(k,fm,dC);if(p<=.5&&N<L){L=N;gC=fm;r=dC}}}for(g=0;g<2;g++){for(m=0;m<2;m++){fm=l-.5+g;
dC=g5-.5+m;N=d(k,fm,dC);if(N<L){L=N;gC=fm;r=dC}}}S.m0.ty[y<<1]=gC+b;S.m0.ty[(y<<1)+1]=r+H}}function B(S){var f=S.m0.qL,F=S.m0,y,G,D,b,H,q,O,w,V;
for(y=0;y<f;y++){G=_(y+1,f);D=_(y+2,f);var t=F.ty[y<<1],m=F.ty[(y<<1)+1],g=F.ty[D<<1],Y=F.ty[(D<<1)+1],A=F.ty[G<<1],k=F.ty[(G<<1)+1],z=I(.5,g,A),p=I(.5,Y,k);
H=v(t,m,g,Y);if(H!=0){b=a(A-t,k-m,g-t,Y-m)/H;b=Math.abs(b);q=b>1?1-1/b:0;q=q*(1/.75)}else{q=4/3}F.BV[G]=q;
var L=3*G<<1;if(q>=i.adP){F.LJ[G]=0;F.o0[L+0]=F.o0[L+1]=0;F.o0[L+2]=A;F.o0[L+3]=k;F.o0[L+4]=z;F.o0[L+5]=p}else{if(q<.55){q=.55}else if(q>1){q=1}var N=.5+.5*q;
F.LJ[G]=1;F.o0[L]=I(N,t,A);F.o0[L+1]=I(N,m,k);F.o0[L+2]=I(N,g,A);F.o0[L+3]=I(N,Y,k);F.o0[L+4]=z;F.o0[L+5]=p}F.alpha[G]=q;
F.Ay[G]=.5}F.adb=1}function M(S){function f(){this.Dt=0;this.FP=0;this.A2=0;this.LL=0;this.iK=0;this.kt=0;
this.hV=0;this.alpha=0}function F(S,y,t,bN,h9,gC,r){var D=S.m0.qL,bz=S.m0.o0,i0=S.m0.ty;if(y==t)return 1;
var hp=y,A=_(y+1,D),hY=_(hp+1,D),hd=i0[y<<1],df=i0[(y<<1)+1],ji=i0[A<<1],aM=i0[(A<<1)+1],a1=gC[hY];if(a1==0)return 1;
var fi=n(hd-ji,df-aM);for(hp=hY;hp!=t;hp=hY){var hY=_(hp+1,D),jJ=_(hp+2,D),gg=i0[hY<<1],iN=i0[(hY<<1)+1],ad=i0[jJ<<1],h6=i0[(jJ<<1)+1];
if(gC[hY]!=a1)return 1;if(Math.sign(a(ji-hd,aM-df,ad-gg,h6-iN))!=a1)return 1;if(j(ji-hd,aM-df,ad-gg,h6-iN)<fi*n(gg-ad,iN-h6)*-.999847695156)return 1}var iY=_(y,D)*3+2<<1,kh=_(y+1,D)<<1,gN=_(t,D)<<1,aT=_(t,D)*3+2<<1,cR=bz[iY],d0=bz[iY+1],iv=i0[kh],fs=i0[kh+1],gm=i0[gN],g8=i0[gN+1],b_=bz[aT],ko=bz[aT+1],h=i0[0],l=i0[1];
iY=t*3+2<<1;var gk=bz[iY],bx=bz[iY+1],k=r[t]-r[y];k-=a(gk-h,bx-l,gk-h,bx-l)/2;if(y>=t){k+=r[D]}var ai=iv-cR,hf=fs-d0,aa=gm-cR,iS=g8-d0,hl=b_-cR,jR=ko-d0,jC=a(ai,hf,aa,iS),h8=a(ai,hf,hl,jR),cW=a(aa,iS,hl,jR),kn=jC+cW-h8;
if(h8==jC)return 1;var N=cW/(cW-kn),L=h8/(h8-jC),fQ=h8*N/2;if(fQ==0)return 1;var i7=k/fQ,z=2-Math.sqrt(4-i7/.3);
bN.FP=I(N*z,cR,iv);bN.A2=I(N*z,d0,fs);bN.LL=I(L*z,b_,gm);bN.iK=I(L*z,ko,g8);bN.alpha=z;bN.kt=N;bN.hV=L;
iv=bN.FP;fs=bN.A2;gm=bN.LL;g8=bN.iK;bN.Dt=0;for(hp=_(y+1,D);hp!=t;hp=hY){hY=_(hp+1,D);var jq=i0[hp<<1],iJ=i0[(hp<<1)+1],gg=i0[hY<<1],iN=i0[(hY<<1)+1];
N=T(iv-cR,fs-d0,gm-iv,g8-fs,b_-gm,ko-g8,gg-jq,iN-iJ);if(N<-.5)return 1;var dR=C(N,cR,iv,gm,b_),cH=C(N,d0,fs,g8,ko),fi=n(gg-jq,iN-iJ);
if(fi==0)return 1;var c4=a(gg-jq,iN-iJ,dR-jq,cH-iJ)/fi;if(Math.abs(c4)>h9)return 1;if(j(gg-jq,iN-iJ,dR-jq,cH-iJ)<0||j(jq-gg,iJ-iN,dR-gg,cH-iN)<0){return 1}bN.Dt+=c4*c4}for(hp=y;
hp!=t;hp=hY){hY=_(hp+1,D);var iY=hp*3+2<<1,kh=hY*3+2<<1,cx=bz[iY],gp=bz[iY+1],gb=bz[kh],bg=bz[kh+1];
N=T(iv-cR,fs-d0,gm-iv,g8-fs,b_-gm,ko-g8,gb-cx,bg-gp);if(N<-.5)return 1;var dR=C(N,cR,iv,gm,b_),cH=C(N,d0,fs,g8,ko),fi=n(gb-cx,bg-gp);
if(fi==0)return 1;var c4=a(gb-cx,bg-gp,dR-cx,cH-gp)/fi,cu=a(gb-cx,bg-gp,i0[hY<<1]-cx,i0[(hY<<1)+1]-gp)/fi;
cu*=.75*S.m0.alpha[hY];if(cu<0){c4=-c4;cu=-cu}if(c4<cu-h9)return 1;if(c4<cu){bN.Dt+=(c4-cu)*(c4-cu)}}return 0}var G=S.m0,D=G.qL,b=G.ty,H=new Array(D+1),q=new Array(D+1),O=new Array(D+1),w=new Array(D+1),V,y,t,m,g=new f,Y,A,k,z,p,L,N,gC=new Array(D),r=new Array(D+1);
for(y=0;y<D;y++){if(G.LJ[y]=="CURVE"){var h=b[_(y-1,D)<<1],l=b[(_(y-1,D)<<1)+1],g5=b[y<<1],fm=b[(y<<1)+1],dC=b[_(y+1,D)<<1],ex=b[(_(y+1,D)<<1)+1];
gC[y]=Math.sign(a(g5-h,fm-l,dC-g5,ex-fm))}else{gC[y]=0}}k=0;r[0]=0;var cR=G.ty[0],d0=G.ty[1];for(y=0;
y<D;y++){A=_(y+1,D);if(G.LJ[A]=="CURVE"){z=G.alpha[A];var hN=y*3+2<<1,ey=A*3+2<<1,cr=G.o0[hN],ik=G.o0[hN+1],hd=b[A<<1],df=b[(A<<1)+1],bQ=G.o0[ey],is=G.o0[ey+1];
k+=.3*z*(4-z)*a(hd-cr,df-ik,bQ-cr,is-ik)/2;k+=a(cr-cR,ik-d0,bQ-cR,is-d0)/2}r[y+1]=k}H[0]=-1;q[0]=0;O[0]=0;
for(t=1;t<=D;t++){H[t]=t-1;q[t]=q[t-1];O[t]=O[t-1]+1;for(y=t-2;y>=0;y--){m=F(S,y,_(t,D),g,i.a6k,gC,r);
if(m){break}if(O[t]>O[y]+1||O[t]==O[y]+1&&q[t]>q[y]+g.Dt){H[t]=y;q[t]=q[y]+g.Dt;O[t]=O[y]+1;w[t]=g;g=new f}}}V=O[D];
p=new E(V);L=new Array(V);N=new Array(V);t=D;for(y=V-1;y>=0;y--){var bi=_(t,D),jX=y*3+0<<1,eS=bi*3+0<<1;
if(H[t]==t-1){p.LJ[y]=G.LJ[bi];p.o0[jX]=G.o0[eS];p.o0[jX+1]=G.o0[eS+1];p.o0[jX+2]=G.o0[eS+2];p.o0[jX+3]=G.o0[eS+3];
p.o0[jX+4]=G.o0[eS+4];p.o0[jX+5]=G.o0[eS+5];p.ty[y<<1]=G.ty[bi<<1];p.ty[(y<<1)+1]=G.ty[(bi<<1)+1];p.alpha[y]=G.alpha[bi];
p.BV[y]=G.BV[bi];p.Ay[y]=G.Ay[bi];L[y]=N[y]=1}else{p.LJ[y]="CURVE";p.o0[jX]=w[t].FP;p.o0[jX+1]=w[t].A2;
p.o0[jX+2]=w[t].LL;p.o0[jX+3]=w[t].iK;p.o0[jX+4]=G.o0[eS+4];p.o0[jX+5]=G.o0[eS+5];p.ty[y<<1]=I(w[t].hV,G.o0[eS+4],b[bi<<1]);
p.ty[(y<<1)+1]=I(w[t].hV,G.o0[eS+5],b[(bi<<1)+1]);p.alpha[y]=w[t].alpha;p.BV[y]=w[t].alpha;L[y]=w[t].hV;
N[y]=w[t].kt}t=H[t]}for(y=0;y<V;y++){A=_(y+1,V);p.Ay[y]=L[y]/(L[y]+N[A])}p.adb=1;S.m0=p}for(var y=0;
y<J.length;y++){var S=J[y];o(S);s(S);Q(S);X(S);B(S);if(i.a5s)M(S)}}return{a38:x,a9m:c}}();iq.dg=function(K,E,x,c){var J={Sd:"minority",acb:c,a5s:!0,adP:1,a6k:.2},i=iq.a38(K,E,x,J);
iq.a9m(i,J);return i};iq.Ox=function(K){var E=[];for(var y=0;y<K.length;y++){var x=K[y],c=x.m0,J=["M"],i=[c.o0[(c.qL-1)*6+4],c.o0[(c.qL-1)*6+5]];
for(var P=0;P<c.qL;P++){var _=P*6;if(c.LJ[P]==1){J.push("C");for(var a=0;a<6;a++)i.push(c.o0[_+a])}else if(c.LJ[P]==0){J.push("L");
for(var a=2;a<4;a++)i.push(c.o0[_+a])}}J.push("Z");E.push({parent:x.parent,color:x.color,path:{C:i,W:J}})}return E};
iq.cQ=function(K,E,x){var hr=K.length>>1,c,J=K[2*hr-3]-x,i=K[2*hr-2]-E,P=K[2*hr-1]-x,_=P>J,a=0;for(var y=0;
y<hr;y++){c=i;J=P;i=K[2*y]-E;P=K[2*y+1]-x;if(J==P)continue;_=P>J}for(var y=0;y<hr;y++){c=i;J=P;i=K[2*y]-E;
P=K[2*y+1]-x;if(J<0&&P<0)continue;if(J>0&&P>0)continue;if(c<0&&i<0)continue;if(J==P&&Math.min(c,i)<=0)return!0;
if(J==P)continue;var j=c+(i-c)*-J/(P-J);if(j==0)return!0;if(j>0)a++;if(J==0&&_&&P>J)a--;if(J==0&&!_&&P<J)a--;
_=P>J}return(a&1)==1};iq.fill=function(K,E,x,c){var J=E[K],i=[K],P=0;while(P<i.length){var _=i[P];P++;
E[_]=c;if(E[_-x]==J){i.push(_-x);E[_-x]=254}if(E[_-1]==J){i.push(_-1);E[_-1]=254}if(E[_+1]==J){i.push(_+1);
E[_+1]=254}if(E[_+x]==J){i.push(_+x);E[_+x]=254}}};var hU=function(){function K(_){return Math.max(0,Math.min(1,_))}function E(_,a){var j=a<0?-a:a;
if(_>1)_=.99;_=_*.99;var e=Math.pow(j/5,.16),d=Math.pow(2,j<1?j:1+(j-1)*.8);if(a<0)d=1/d;_=e*(1-Math.pow(1-_,d))+(1-e)*_;
return _}function x(_,a){var j=a/100;_=_*.99;_=j*(.5-.5*Math.cos(_*Math.PI))+(1-j)*_;return _}var c=W.Kh.alO(1,1,1,-.3),J=W.Kh.Pa(c);
function i(_,a,j,e,d,I,v){var n=_[j],C=_[j+1],T=_[j+2],o=W.Kh.rK(c,[n,C,T,1]);n=o[0];C=o[1];T=o[2];n=E(n,e);
C=E(C,e);T=E(T,e);var o=W.Kh.rK(J,[n,C,T,1]);n=o[0];C=o[1];T=o[2];n=K(n);C=K(C);T=K(T);n=x(n,d);C=x(C,d);
T=x(T,d);var s=eU.a29(n,C,T,I);n=s[0];C=s[1];T=s[2];n=K(n);C=K(C);T=K(T);if(v){var Q=new Uint8Array(4);
Q[0]=~~(.5+n*255);Q[1]=~~(.5+C*255);Q[2]=~~(.5+T*255);c2.as(v,Q,Q,new cS(0,0,1,1));n=Q[0]/255;C=Q[1]/255;
T=Q[2]/255}a[j]=n;a[j+1]=C;a[j+2]=T}function P(_,a,j,e,d,I){var v=d.Temp?d.Temp.v:0,n=d.Tint?d.Tint.v:0,C=d.Ex12?d.Ex12.v:0,T=d.Cr12?d.Cr12.v:0,o=d.Vibr?d.Vibr.v:0,s=d.Strt?d.Strt.v:0,Q=eU.AS(v,n),X=null;
C+=Q.aop;if(o!=0||s!=0)X=c2.We("vibA",{Strt:d.Strt,vibrance:d.Vibr});console.log(X);var B=Date.now();
if(I){var M=Math.pow(2,C),S=_.length;C=0;var f=new Float32Array(4e3);for(var y=0;y<4e3;y++){var F=y*(1/1e3);
F=W.l$(F);F*=M;F=W.hW(F);F=K(F);f[y]=F}for(var y=0;y<S;y+=3){e[y]=f[~~(_[y]*1e3)];e[y+1]=f[~~(_[y+1]*1e3)];
e[y+2]=f[~~(_[y+2]*1e3)]}console.log(Date.now()-B,"Exposure normalizing");B=Date.now()}else e.set(_);
if(C!=0||T!=0||v!=0||n!=0||X){var G=17,D=1/(G-1),b=G*G*G,H=new Array(b*3);for(var q=0;q<G;q++)for(var O=0;
O<G;O++)for(var w=0;w<G;w++){var y=q*G*G+O*G+w,V=y*3;H[V]=q*D;H[V+1]=O*D;H[V+2]=w*D}for(var y=0;y<b;
y++)i(H,H,y*3,C,T,Q,X);console.log(Date.now()-B,"making LUT");B=Date.now();ICC.U.applyLUTFloat(H,G,e,e);
console.log(Date.now()-B,"applying LUT");B=Date.now()}}return P}();function de(){}de.Sg=function(K){var E=new Uint8Array(K),x=0,c={qq:[],V8:[],list:[]},J=R.Xl(E,x);
x+=2;if(J<=2){return de.amJ(E)}var i=R.Xl(E,x);x+=2;var P=R.pr(E,x,8);x+=8;var _=R.s(E,x);x+=4;if(_>0)c.qq=de.HP(E,x,_,i,J);
x+=_;var a=R.pr(E,x,8);x+=8;var j=R.s(E,x);x+=4;if(j>0)c.V8=cw.rt(E,x,j);x+=j;var e=R.pr(E,x,8);x+=8;
var d=R.s(E,x);x+=4;if(d>0){var I={};gh.Y5(E,I,x+4);c.list=I.Brsh.v}x+=d;var v=c.list;for(var y=0;y<v.length;
y++){jE.Pq.check(v[y].v)}return c};de.V$=function(K,E){K.v.Nm.v=E};de.amJ=function(K){var E={qq:[],V8:[],list:[]},x=0,c=R.Xl(K,x);
x+=2;var J=R.Xl(K,x);x+=2;for(var y=0;y<J;y++){var i=R.Xl(K,x);x+=2;var P=R.s(K,x);x+=4;var _=x;if(i==2){var a={};
E.qq.push(a);var j=R.s(K,_);_+=4;var e=R.Xl(K,_);_+=2;if(c==2){var d=R.Qj(K,_);_+=4+d.length*2+2}a.id=gD.g4()+"-d71c-11e5-b1ae-a548a96e5f9f";
_++;_+=8;a.ZE=R.nj(K,_);_+=16;var I=R.Xl(K,_);_+=2;var v=K[_];_++;var n=iE.Oy(!1,I,K,a.ZE.b,a.ZE.n,_,v);
de.na(a,n);var C=jE.Ve(a.id),T=C.Brsh.v;T.Dmtr.v.val=a.ZE.b;T.Spcn.v.val=e;E.list.push({t:"Objc",v:C})}x+=P}return E};
de.by=function(K){var E=new hK,x=0,c=0;R.j2(E,x,6);x+=2;R.j2(E,x,2);x+=2;R.O1(E,x,"8BIMsamp");x+=8;x+=4;
c=x;x=de.Ke(E,x,K.qq);R.oj(E,c-4,x-c);R.O1(E,x,"8BIMpatt");x+=8;x+=4;c=x;x=cw.Ip(E,x,K.V8);R.oj(E,c-4,x-c);
var J={classID:"null",Brsh:{t:"VlLs",v:K.list}};R.O1(E,x,"8BIMdesc");x+=8;x+=4;c=x;R.oj(E,x,16);x+=4;
x+=gh.qz(E,J,x);R.oj(E,c-4,x-c);return E.data.slice(0,x).buffer};de.HP=function(K,E,x,c,J){var i=R.s,P=R.nj,_=E+x,a=[];
while(E<_){var j={};a.push(j);var e=i(K,E);E+=4;var d=E,I=R.ym(K,E);E+=I.length;j.id=I.pg;if(c==1){E+=9;
j.ZE=P(K,E);E+=16}else{E+=7;var v=i(K,E);E+=4;j.ZE=P(K,E);E+=16;var n=i(K,E);E+=4;E+=n*4;var C=i(K,E);
E+=4;var T=i(K,E);E+=4;var o=P(K,E);E+=16}var s=R.Xl(K,E);E+=2;var Q=K[E];E+=1;var X=iE.Oy(!1,s,K,j.ZE.b,j.ZE.n,E,Q);
de.na(j,X);if(e%4!=0)e+=4-e%4;E=d+e}return a};de.na=function(K,E){var x=K.ZE.clone();x.x=x.y=0;K.gW=[E,x]};
de.Ke=function(K,E,x){var c=R.oj,J=R.JO;for(var y=0;y<x.length;y++){var i=x[y],P=E+4,a=56,e=1;E+=4;R.kI(K,E,i.id);
E+=i.id.length+2;K.UY(E,1);K.data[E]=1;E+=3;c(K,E,3);E+=4;var _=E;E+=4;J(K,E,i.ZE);E+=16;c(K,E,a);E+=4;
E+=a*4;c(K,E-4,1);var j=E;E+=4;c(K,E,8);E+=4;J(K,E,i.ZE);E+=16;R.j2(K,E,8);E+=2;K.UY(E,1);K.data[E]=e;
E++;var d=i.gW[0];K.UY(E,i.ZE.O()*2);E=iE.d8(!1,d,K.data,i.ZE.b,i.ZE.n,E,e);K.UY(E,8);E+=8;var I=E-P;
c(K,P-4,I);c(K,_,I-49);c(K,j,I-305);if(I%4!=0)E+=4-I%4}return E};function hb(){}hb.Sg=function(K,E){var x=new Uint8Array(K),c=[],J=0,i=R.Xl(x,J);
J+=2;if(i!=4){throw"Unknown version of curves: "+i}var P=R.Xl(x,J);J+=2;for(var y=0;y<P;y++){var _=hb.vx(x,J);
J+=2+2*_.length;c.push(_)}if(J!=x.length){var a=R.pr(x,J,4);J+=4;var j=R.Xl(x,J);J+=2;var e=R.Xl(x,J);
J+=2;if(e!=0)throw"extra curves for channels"}var d=hb.yE(c,0);d.presetKind={t:"long",v:3};d.presetFileName={t:"TEXT",v:E.split("/").pop().split(".")[0]};
return[d]};hb.C_=function(K,E,x){var c=E,J=[],i=K[E];E+=3;var P=R.s(K,E);E+=4;for(var y=0;y<4;y++){var _=P>>>y&1;
if(_){if(i==0){var a=hb.vx(K,E);E+=2+2*a.length}else{var a=hb.a5d(K,E);E+=256}J.push(a)}else J.push(i==0?[0,0,255,255]:hb.aia())}var j=hb.yE(J,i);
return j};hb.yE=function(K,E){var x=dJ.JQ("curv");for(var y=0;y<4;y++){if(E==0){var c=K[y],J=[];for(var i=0;
i<c.length;i+=2)J.push(W.r9.w7(c[i],c[i+1],!0));hb.l2(x,y,J)}else hb.l2(x,y,K[y])}return x};hb.SC=function(K,E,x){var c=[];
for(var y=0;y<4;y++){var J=hb.GE(x,y);if(J.length==256)c.push(J);else{var i=[];for(var P=0;P<J.length;
P++)i.push(J[P].v.Hrzn.v,J[P].v.Vrtc.v);c.push(i)}}var _=E,a=c[0].length==256?1:0;K.UY(E,3);K.data[E]=a;
K.data[E+1]=0;K.data[E+2]=1;E+=3;R.oj(K,E,15);E+=4;for(var y=0;y<4;y++){var j=c[y];if(a==0){hb.axz(K,E,j);
E+=2+2*j.length}else{hb.a7m(K,E,j);E+=256}}return E-_};hb.aia=function(){var K=[];for(var y=0;y<256;
y++)K.push(y);return K};hb.l2=function(K,E,x){var c=bH.B1("CrvA",E);if(x.length<256)c.Crv={t:"VlLs",v:x};
else{c.Mpng={t:"VlLs",v:[]};for(var y=0;y<256;y++)c.Mpng.v[y]={t:"long",v:x[y]}}c={t:"Objc",v:c};var J=K.Adjs.v,i=bH.gA(J,E);
if(i==-1)J.push(c);else J[i]=c};hb.GE=function(K,E){var x=K.Adjs.v,c=bH.gA(x,E);if(c==-1){if(x.length==0||x[0].v.Crv)return[W.r9.w7(0,0,!0),W.r9.w7(255,255,!0)];
if(x[0].v.autoMachineLearning||x[0].v.AuCo)return[W.r9.w7(0,0,!0),W.r9.w7(128,160,!0),W.r9.w7(255,255,!0)];
var J=[];for(var y=0;y<256;y++)J.push(y);return J}var i=x[c].v;if(i.Crv)return i.Crv.v;if(i.Mpng){var J=[];
for(var y=0;y<256;y++)J.push(i.Mpng.v[y].v);return J}return[W.r9.w7(0,0,!0),W.r9.w7(255,255,!0)]};hb.vx=function(K,E){var x=[],c=R.Xl(K,E);
E+=2;for(var J=0;J<c;J++){var i=R.Xl(K,E);E+=2;var P=R.Xl(K,E);E+=2;x.push(P,i)}return x};hb.axz=function(K,E,x){var c=x.length/2;
R.j2(K,E,c);E+=2;for(var J=0;J<c;J++){R.j2(K,E,x[J*2+1]);E+=2;R.j2(K,E,x[J*2+0]);E+=2}};hb.a5d=function(K,E){var x=[];
for(var y=0;y<256;y++)x.push(K[E+y]);return x};hb.a7m=function(K,E,x){K.UY(E,256);for(var y=0;y<256;
y++)K.data[E+y]=x[y]};function c7(){}c7.C_=function(K,E,x){var c={},J=R.Xl(K,E);E+=2;c.eA=K[E]==1;E++;
E++;c.TW=[R.ZM(K,E),R.ZM(K,E+2),R.ZM(K,E+4)];E+=6;c.KM=[R.ZM(K,E),R.ZM(K,E+2),R.ZM(K,E+4)];E+=6;c.h0=[];
for(var y=0;y<6;y++){var i={};i.zN=[R.ZM(K,E),R.ZM(K,E+2),R.ZM(K,E+4),R.ZM(K,E+6)];E+=8;i.nR=[R.ZM(K,E),R.ZM(K,E+2),R.ZM(K,E+4)];
E+=6;c.h0.push(i)}var P=dJ.JQ("hue2"),_=c;if(P.Clrz==null)P.Clrz={t:"bool",v:!1};P.Clrz.v=_.eA;for(var y=0;
y<7;y++){var a=y==0?_.eA?_.TW:_.KM:_.h0[y-1];c7.l2(P,y,a)}return P};c7.a9K=function(K){return{classID:"Hst2",H:{t:"long",v:K[0]},Strt:{t:"long",v:K[1]},Lght:{t:"long",v:K[2]}}};
c7.gA=function(K,E){for(var y=0;y<K.length;y++){var x=K[y].v.LclR;if(E==0&&x==null||x!=null&&x.v==E)return y}return-1};
c7.l2=function(K,E,x){var c=E==0?x:x.nR,J=c7.a9K(c);if(E!=0){var i=x.zN;J.LclR={t:"long",v:E},J.BgnR={t:"long",v:i[0]};
J.BgnS={t:"long",v:i[1]};J.EndS={t:"long",v:i[2]};J.EndR={t:"long",v:i[3]}}J={t:"Objc",v:J};var P=K.Adjs.v,_=c7.gA(P,E);
if(_==-1)P.push(J);else P[_]=J};c7.GE=function(K,E){var x=K.Adjs.v,c=c7.gA(x,E);if(c==-1){if(E==0)return[0,0,0];
else return[{zN:[315,345,15,45],nR:[0,0,0]},{zN:[15,45,75,105],nR:[0,0,0]},{zN:[75,105,135,165],nR:[0,0,0]},{zN:[135,165,195,225],nR:[0,0,0]},{zN:[195,225,255,285],nR:[0,0,0]},{zN:[255,285,315,345],nR:[0,0,0]}][E-1]}var J=x[c].v,i=[J.H.v,J.Strt.v,J.Lght.v];
if(E==0)return i;return{nR:i,zN:[J.BgnR.v,J.BgnS.v,J.EndS.v,J.EndR.v]}};c7.SC=function(K,E,x){var c={eA:x.Clrz?x.Clrz.v:!1,h0:[]};
c.TW=c.KM=c7.GE(x,0);for(var y=1;y<7;y++)c.h0.push(c7.GE(x,y));var J=2+2+12+6*14,i=K.data;K.UY(E,J);
R.c$(i,E,2);E+=2;i[E]=c.eA?1:0;E++;E++;R.xL(i,E+0,c.TW[0]);R.xL(i,E+2,c.TW[1]);R.xL(i,E+4,c.TW[2]);E+=6;
R.xL(i,E+0,c.KM[0]);R.xL(i,E+2,c.KM[1]);R.xL(i,E+4,c.KM[2]);E+=6;for(var y=0;y<6;y++){var P=c.h0[y].zN,_=c.h0[y].nR;
R.xL(i,E+0,P[0]);R.xL(i,E+2,P[1]);R.xL(i,E+4,P[2]);R.xL(i,E+6,P[3]);E+=8;R.xL(i,E+0,_[0]);R.xL(i,E+2,_[1]);
R.xL(i,E+4,_[2]);E+=6}return J};function bH(){}bH.Sg=function(K){var E=new Uint8Array(K),x=2,c=[];for(var y=0;
y<29;y++){var J=[];c.push(J);for(var i=0;i<5;i++)J.push(R.Xl(E,x+y*10+i*2))}x+=29*10;if(x<E.length){var P=R.pr(E,x,4);
x+=4;var _=R.Xl(E,x);x+=2;var a=R.Xl(E,x);x+=2;var j=a-29;for(var y=0;y<j;y++){var J=[];c.push(J);for(var i=0;
i<5;i++)J.push(R.Xl(E,x+y*10+i*2))}}var e=dJ.JQ("levl");for(var y=0;y<4;y++)bH.l2(e,y,c[y]);return e};
bH.B1=function(K,y){var E=["Cmps","Rd","Grn","Bl"],x={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:E[y]}}]};
return{classID:K,Chnl:x}};bH.gA=function(K,E){var x={Cmps:0,Rd:1,Grn:2,Bl:3};for(var y=0;y<K.length;
y++){var c=K[y].v,J=x[c.Chnl.v[0].v.enum];if(J==E)return y}return-1};bH.l2=function(K,E,x){var c=bH.B1("LvlA",E);
c.Inpt={t:"VlLs",v:[{t:"long",v:x[0]},{t:"long",v:x[1]}]};c.Otpt={t:"VlLs",v:[{t:"long",v:x[2]},{t:"long",v:x[3]}]};
c.Gmm={t:"doub",v:x[4]/100};c={t:"Objc",v:c};var J=K.Adjs.v,i=bH.gA(J,E);if(i==-1)J.push(c);else J[i]=c};
bH.GE=function(K,E){var x=[0,255,0,255,100],c=K.Adjs.v,J=bH.gA(c,E);if(J==-1)return x;var i=c[J].v;if(i.Inpt){x[0]=i.Inpt.v[0].v;
x[1]=i.Inpt.v[1].v}if(i.Otpt){x[2]=i.Otpt.v[0].v;x[3]=i.Otpt.v[1].v}if(i.Gmm){x[4]=Math.round(i.Gmm.v*100)}return x};
bH.by=function(K,E){var x=[],c=0;for(var y=0;y<4;y++)x.push(bH.GE(E,y));while(x.length<29)x.push([0,255,0,255,100]);
K.UY(0,2+10*29);R.c$(K.data,c,2);c+=2;for(var y=0;y<29;y++){var J=x[y];for(var i=0;i<5;i++)R.c$(K.data,c+y*10+i*2,J[i])}c+=29*10;
if(x.length==29)return c;K.UY(c,8+10*(x.length-29));R.Dx(K.data,c,"Lvls");c+=4;R.c$(K.data,c,3);c+=2;
R.c$(K.data,c,x.length);c+=2;var P=x.length-29;for(var y=0;y<P;y++){var J=x[29+y];for(var i=0;i<5;i++)R.c$(K.data,c+y*10+i*2,J[i])}c+=10*P;
return c};function dN(){}dN.Sg=function(K){var E=new Uint8Array(K),x=2,c={gp:[],gu:[]},J=R.pr(E,x,4);
x+=4;var i=R.Xl(E,x);x+=2;var P=R.s(E,x);x+=4;c.gp=cw.rt(E,x,P);x+=P;var _=R.s(E,x);x+=4;for(var y=0;
y<_;y++){var a=R.s(E,x);x+=4;var j=x,e={Sj:{},BT:{}};c.gu.push(e);x+=4;x+=gh.Y5(E,e.Sj,x);x+=4;x+=gh.Y5(E,e.BT,x);
x=j+a;var d=e.BT.blendOptions,I=e.BT.Lefx;if(d&&Object.keys(d.v).length>1){}if(I){if(I.v.masterFXSwitch==null)I.v.masterFXSwitch={t:"bool",v:!0};
i5.Dc(I.v)}}return c};dN.V$=function(K,E){K.Sj.Nm.v=E};dN.by=function(K){var E=new hK,x=0;R.j2(E,x,2);
x+=2;R.O1(E,x,"8BSL");x+=4;R.j2(E,x,3);x+=2;var c=x;x+=4;x=cw.Ip(E,x,K.gp);R.oj(E,c,x-c-4);var J=K.gu.length;
R.oj(E,x,J);x+=4;for(var y=0;y<J;y++){x+=4;var i=x,P=K.gu[y];R.oj(E,x,16);x+=4;x+=gh.qz(E,P.Sj,x);var _=P.BT.Lefx;
if(_){P.BT.Lefx=JSON.parse(JSON.stringify(_));i5.xF(P.BT.Lefx.v)}R.oj(E,x,16);x+=4;x+=gh.qz(E,P.BT,x);
if(_)P.BT.Lefx=_;R.oj(E,i-4,x-i)}return E.data.slice(0,x).buffer};function jO(){}jO.C_=function(K,E,x){var c=R.Xl(K,E);
E+=2;var J={};J.uu=R.Xl(K,E)==1;E+=2;J.O3=[];for(var y=0;y<10;y++){var i=[];J.O3.push(i);for(var P=0;
P<4;P++)i.push(R.ZM(K,E+P*2));E+=8}var _=dJ.JQ("selc");_.Mthd.v.CrcM=J.uu?"Absl":"Rltv";for(var y=1;
y<10;y++)jO.l2(_,y-1,J.O3[y]);return _};jO.xG="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
jO.B1=function(K,y){var E=["Cmps","Rd","Grn","Bl"],x={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:E[y]}}]};
return{classID:K,Chnl:x}};jO.gA=function(K,E){var x=jO.xG;for(var y=0;y<K.length;y++){var c=K[y].v,J=x.indexOf(c.Clrs.v.Clrs);
if(J==E)return y}return-1};jO.l2=function(K,E,x){var c=["Cyn","Mgnt","Ylw","Blck"],J={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:jO.xG[E]}}};
for(var i=0;i<4;i++)J[c[i]]={t:"UntF",v:{type:"#Prc",val:x[i]}};J={t:"Objc",v:J};var P=K.ClrC.v,_=jO.gA(P,E);
if(_==-1)P.push(J);else P[_]=J};jO.GE=function(K,E){var x=[0,0,0,0],c=K.ClrC.v,J=jO.gA(c,E);if(J==-1)return x;
var i=["Cyn","Mgnt","Ylw","Blck"];for(var y=0;y<4;y++)if(c[J].v[i[y]])x[y]=c[J].v[i[y]].v.val;return x};
jO.SC=function(K,E,x){var c={uu:x.Mthd.v.CrcM=="Absl",O3:[[0,0,0,0]]};for(var y=0;y<9;y++)c.O3.push(jO.GE(x,y));
K.UY(E,84);R.c$(K.data,E,1);E+=2;R.c$(K.data,E,c.uu?1:0);E+=2;for(var y=0;y<10;y++){var J=c.O3[y];for(var i=0;
i<4;i++)R.xL(K.data,E+i*2,J[i]);E+=8}return 84};function aS(){}aS.JQ=function(){return{Xt:new cS(0,0,50,50),Sj:"",xN:"play",i:W.r.Ic.y0([.1,.1,.9,.5,.1,.9],0)}};
aS.Sg=function(K){K=new Uint8Array(K);var E=0,x=[],c=Date.now(),J=R.pr(K,0,4);E+=4;var i=R.s(K,E);E+=4;
var P=R.s(K,E);E+=4;for(var y=0;y<P;y++){var _=R.Qj(K,E);E+=_.length*2+4+2;if((_.length&1)==0)E+=2;E=aS.Fj(K,E,_,x)}return x};
aS.Fj=function(K,E,x,c){var J=R.s(K,E);E+=4;var i=R.s(K,E);E+=4;var P=E,_=R.ym(K,P).pg;P+=_.length+1;
var a=R.nj(K,P);P+=16;var j=aS.L0(K,P,i-(P-E)),e=W.r.Wk(j),d=W.p.hp(e),I=1/d.b,v=1/d.n;W.r.it(j,new iQ(I,0,0,v,-d.x*I,-d.y*v));
c.push({xN:x,Sj:_,i:j,Xt:a});E+=i;return E};aS.V$=function(K,E){K.xN=E};aS.by=function(K){var E=new hK,x=0;
R.O1(E,x,"cush");x+=4;R.oj(E,x,2);x+=4;R.oj(E,x,K.length);x+=4;for(var y=0;y<K.length;y++){var c=K[y],J=c.xN+"\0";
R.kr(E,x,J);x+=4+J.length*2;if((J.length&1)==1)x+=2;R.oj(E,x,1);x+=4;x+=4;var i=x;R.kI(E,x,c.Sj);x+=c.Sj.length+1;
R.JO(E,x,c.Xt);x+=16;E.UY(x,c.i.length*26);aS.eO(E.data,x,c.i,1,1);x+=c.i.length*26;var P=x-i;if((P&3)!=0)P+=4-(P&3);
R.oj(E,i-4,P);x=i+P}return E.data.slice(0,x).buffer};aS.a0c=function(K){var E=[];for(var y=0;y<K.length;
y++){var x=K[y],c=x.type,J={type:c};E.push(J);if(c==6){}else if(c==8)J.all=x.all;else if(c==0||c==3){J.length=x.length;
J.frule=x.qX;J.third=x.Im;J.prmA=x.At;J.prmB=x.Tw}else{J.c=[x.ri.x,x.ri.y,x.H.x,x.H.y,x.XK.x,x.XK.y]}}return E};
aS.tX=function(K){var E=[];for(var y=0;y<K.length;y++){var x=K[y],c=x.type,J={type:c};E.push(J);if(c==6){}else if(c==8)J.all=x.all;
else if(c==0||c==3){J.length=x.length;J.qX=x.frule;J.Im=x.third;J.At=x.prmA;J.Tw=x.prmB}else{var i=x.c;
J.ri=new iP(i[0],i[1]);J.H=new iP(i[2],i[3]);J.XK=new iP(i[4],i[5])}}return E};aS.L0=function(K,E,x,c,J){if(c==null)c=1;
if(J==null)J=1;function i(C,T,o){var s=R.afH(C,T)*o,Q=Math.round(s);return Math.abs(s-Q)<1e-6?Q:s}var P=R.ZM,_=[],a=Math.floor(x/26);
for(var y=0;y<a;y++){var j=E+y*26,e={},d=0;_.push(e);e.type=P(K,j);j+=2;if(e.type==6){d=24}if(e.type==8){e.all=P(K,j);
j+=2;d=22}if(e.type==0||e.type==3){e.length=P(K,j);j+=2;e.qX=P(K,j);j+=2;e.Im=P(K,j);j+=2;e.At=R.s(K,j);
j+=4;e.Tw=R.s(K,j);j+=4;d=10}if(e.type==1||e.type==2||e.type==4||e.type==5){var I,v;v=i(K,j,J);j+=4;
I=i(K,j,c);j+=4;e.ri=new iP(I,v);v=i(K,j,J);j+=4;I=i(K,j,c);j+=4;e.H=new iP(I,v);v=i(K,j,J);j+=4;I=i(K,j,c);
j+=4;e.XK=new iP(I,v);d=0}for(var n=0;n<d;n++)if(K[j+n]!=0){console.log("Unexpected non-zero byte!",e,n,K[j+n])}}return _};
aS.eO=function(K,E,x,c,J){var i=R.xL,P=R.ax0,_=x.length;for(var y=0;y<_;y++){var a=E+y*26,j=x[y];i(K,a,j.type);
a+=2;if(j.type==6){}if(j.type==8)i(K,a,j.all);if(j.type==0||j.type==3){i(K,a,j.length);a+=2;i(K,a,j.qX);
a+=2;i(K,a,j.Im);a+=2}if(j.type==1||j.type==2||j.type==4||j.type==5){P(K,a,j.ri.y/J);a+=4;P(K,a,j.ri.x/c);
a+=4;P(K,a,j.H.y/J);a+=4;P(K,a,j.H.x/c);a+=4;P(K,a,j.XK.y/J);a+=4;P(K,a,j.XK.x/c);a+=4}}};function jn(){}jn.Sg=function(K){var E=new Uint8Array(K),x=[],c=0;
if(R.pr(E,0,4)=="ASEF")x=jn.adV(E);else{c=jn.ot(E,c,x);if(c+3<E.length){x=[];c=jn.ot(E,c,x)}}return x};
jn.adV=function(K){var E=[],x=8,c=R.s(K,x),J,i=null,P,_,a,j;x+=4;for(var e=0;e<c;e++){var d=R.Xl(K,x);
x+=2;var I=R.s(K,x);x+=4;var v=x+I;if(d==49153||d==1){var n=R.Xl(K,x);x+=2;var C=R.$$(K,x,n-1);x+=n*2;
if(d==1)J=C;else i=C}if(d==1){var T=R.pr(K,x,4);x+=4;P=R.JU(K,x);x+=4;_=R.JU(K,x);x+=4;a=R.JU(K,x);x+=4;
if(T=="RGB "){}else if(T=="CMYK"){j=R.JU(K,x);x+=4;var o=UDOC.C.cmykToRgb([P,_,a,j]);P=o[0];_=o[1];a=o[2]}else alert("Unknown color space: "+T);
E.push({o:P*255,J:_*255,k:a*255,Qt:(i?i+" : ":"")+J})}x=v}return E};jn.ot=function(K,E,x){var c=R.Xl,J=R.ZM,i=c(K,E);
E+=2;var P=c(K,E);E+=2;for(var y=0;y<P;y++){var _=jn.Af(K,E);E+=10;if(i==2){_.Qt=R.Qj(K,E);E+=4+_.Qt.length*2+2}x.push(_)}return E};
jn.Af=function(K,E){var x=R.Xl,c=R.ZM,J=x(K,E),v=null;E+=2;var i=x(K,E);E+=2;var P=x(K,E);E+=2;var _=x(K,E);
E+=2;var a=x(K,E);E+=2;var j=1/65535,e=255/65535,d=100/65535,I=255/1e4;if(J==0)v={o:i*e,J:P*e,k:_*e};
else if(J==1){v=W.lx(i*j,P*j,_*j);v.o*=255;v.J*=255;v.k*=255}else if(J==2)v=W.M.Et({classID:"CMYC",Cyn:{t:"doub",v:100-i*d},Mgnt:{t:"doub",v:100-P*d},Ylw:{t:"doub",v:100-_*d},Blck:{t:"doub",v:100-a*d}});
else if(J==7){var n=W.NZ(i/100,c(K,E-6)/100,c(K,E-4)/100);v=n}else if(J==8){v={o:255-i*I,J:255-P*I,k:255-_*I}}else if(J==18){var C=255*i/16384;
v={o:C,J:C,k:C}}else{throw J}return v};jn.by=function(K){var E=new hK,x=0,c=R.j2;c(E,x,2);x+=2;c(E,x,K.length);
x+=2;for(var y=0;y<K.length;y++){var J=K[y];E.UY(x,10);jn.WN(E.data,x,J);x+=10;var i=(J.Qt?J.Qt:"")+"\0";
R.kr(E,x,i);x+=4+i.length*2}return E.data.slice(0,x).buffer};jn.V$=function(K,E){K.Qt=E};jn.WN=function(K,E,x){var c=65535/255,J=R.c$;
J(K,E,0);J(K,E+2,Math.round(x.o*c));J(K,E+4,Math.round(x.J*c));J(K,E+6,Math.round(x.k*c));J(K,E+8,0)};
function fR(){}fR.Sg=function(K){var E=new Uint8Array(K),x=4,c={};c.vZ=R.Qj(E,x);x+=4+c.vZ.length*2+2;
c.exp=E[x++]==1;c.E5=[];var J=R.s(E,x);x+=4;for(var y=0;y<J;y++){var i={};c.E5.push(i);i.JD=R.Xl(E,x);
x+=2;i.shift=E[x++]==1;i.acp=E[x++]==1;i.color=R.Xl(E,x);x+=2;i.vZ=R.Qj(E,x);x+=4+i.vZ.length*2+2;i.exp=E[x++]==1;
i.E5=[];var P=R.s(E,x);x+=4;for(var _=0;_<P;_++){var a={};i.E5.push(a);a.exp=E[x++]==1;a.q=E[x++]==1;
a.aj6=E[x++]==1;a.apc=E[x++];var j=R.pr(E,x,4);x+=4;if(j=="TEXT"){a.va=fR.zL(E,x);x+=4+a.va.length}else if(j=="long"){a.va=R.pr(E,x,4);
x+=4}else throw"e";a.Vj=fR.zL(E,x);x+=4+a.Vj.length;var e=R.Jv(E,x);x+=4;if(e==-1){a.Ks={};var d=gh.Y5(E,a.Ks,x);
x+=d}}}console.log(c);var I=new Uint8Array(fR.by(c));for(var y=0;y<I.length;y++)if(I[y]!=E[y]&&R.pr(E,y+1,4)!="None"){console.log(E.length,I.length);
var v=4*(y>>>2)-16;console.log(R.bC(E,v,64));console.log(R.bC(I,v,64));console.log(E.slice(v,v+64));
console.log(I.slice(v,v+64));throw"i"}return[c]};fR.zL=function(K,E){var x=R.s(K,E);return R.pr(K,E+4,x)};
fR.mc=function(K,E,x){R.oj(K,E,x.length);R.O1(K,E+4,x)};fR.by=function(K){var E=new hK,x=0;R.oj(E,x,16);
x+=4;R.kr(E,x,K.vZ+"\0");x+=4+K.vZ.length*2+2;E.UY(x,1);E.data[x++]=K.exp?1:0;var c=K.E5.length;R.oj(E,x,c);
x+=4;for(var y=0;y<c;y++){var J=K.E5[y];R.j2(E,x,J.JD);x+=2;E.UY(x,2);E.data[x++]=J.shift?1:0;E.data[x++]=J.acp?1:0;
R.j2(E,x,J.color);x+=2;R.kr(E,x,J.vZ+"\0");x+=4+J.vZ.length*2+2;E.UY(x,1);E.data[x++]=J.exp?1:0;var i=J.E5.length;
R.oj(E,x,i);x+=4;for(var P=0;P<i;P++){var _=J.E5[P];E.UY(x,4);E.data[x++]=_.exp?1:0;E.data[x++]=_.q?1:0;
E.data[x++]=_.aj6?1:0;E.data[x++]=_.apc;var a="LqFy Avrg GEfc PbPl Fbrs Bokh LnCr".split(" ").indexOf(_.va)!=-1;
R.O1(E,x,a?"long":"TEXT");x+=4;if(!a){fR.mc(E,x,_.va);x+=4+_.va.length}else{R.O1(E,x,_.va);x+=4}fR.mc(E,x,_.Vj);
x+=4+_.Vj.length;R.wa(E,x,_.Ks?-1:0);x+=4;if(_.Ks){var j=gh.qz(E,_.Ks,x);x+=j}}}return E.data.slice(0,x).buffer};
function bR(){}bR.Sg=function(K){var E=new Uint8Array(K),x=0,c=R.s(E,x),a;x+=4;var J=R.pr(E,x,8);x+=8;
var i=R.Pc(E,x);x+=4;var P=R.Pc(E,x);x+=4;var _=R.Pc(E,x);x+=4;if(c==2){a=new Float32Array(K,32,K.byteLength-32>>>2)}else if(c==3||c==4){a=new Float32Array(P*_*2);
var j=0,e=0,d=!0;x=c==3?32:16+8+40;while(x<E.length){var I=R.Pc(E,x);x+=4;if(d)e+=I;else{for(var y=0;
y<I;y++){a[j+e+y<<1]=R.CA(E,x);a[(j+e+y<<1)+1]=R.CA(E,x+4);x+=8}e+=I}d=!d;if(I!=0&&e==P){j+=P;e=0;d=!0;
if(j==P*_)break}}}else throw"unknown Mesh version: "+c;return{pz:P,o4:_,map:a}};bR.sP=function(K){var E=K.pz,x=K.o4,c=K.map,J=new Uint8Array(32+x*E*8+x*8),i=0,P=0;
R.T5(J,i,3);i+=4;R.Dx(J,i,"yfqLhseM");i+=8;R.qr(J,i,2);i+=4;R.qr(J,i,E);i+=4;R.qr(J,i,x);i+=4;R.qr(J,i,0);
i+=4;R.qr(J,i,1);i+=4;for(var _=0;_<x;_++){R.qr(J,i,0);i+=4;R.qr(J,i,E);i+=4;for(var a=0;a<E;a++){R.Jm(J,i,c[P]);
R.Jm(J,i+4,c[P+1]);P+=2;i+=8}}return J.buffer};function jf(){}jf.Sg=function(K){var E=new Uint8Array(K),x=0,c=R.pr(E,x,4);
x+=4;var J=R.Xl(E,x);x+=2;var i=R.s(E,x);x+=4;var P=[];for(var y=0;y<i;y++){var _=R.s(E,x);x+=4;var a={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
P.push(a);var j=R.Qj(E,x);a.Nm.v=j;x+=4+j.length*2+2;var e=R.Xl(E,x);x+=2;var d=R.Xl(E,x);x+=2;for(var I=0;
I<d;I++){var v=W.r9.w7(0,0,!0);v.v.Vrtc.v=R.Xl(E,x);x+=2;v.v.Hrzn.v=R.Xl(E,x);x+=2;a.Crv.v.push(v)}if(_==1){}else if(_==2){for(var I=0;
I<d;I++){a.Crv.v[I].v.Cnty.v=E[x]==1;x+=1}}else throw"error";var n=R.s(E,x);x+=4;var C=R.s(E,x);x+=4}return P};
jf.V$=function(K,E){K.Nm.v=E};jf.by=function(K){var E=new hK,x=0;R.O1(E,x,"8BFS");x+=4;R.j2(E,x,1);x+=2;
R.oj(E,x,K.length);x+=4;for(var y=0;y<K.length;y++){R.oj(E,x,2);x+=4;var c=K[y];R.kr(E,x,c.Nm.v+"\0");
x+=4+c.Nm.v.length*2+2;R.j2(E,x,2);x+=2;var J=c.Crv.v.length;R.j2(E,x,J);x+=2;for(var i=0;i<J;i++){var P=c.Crv.v[i];
R.j2(E,x,P.v.Vrtc.v);x+=2;R.j2(E,x,P.v.Hrzn.v);x+=2}E.UY(x,J);for(var i=0;i<J;i++){E.data[x]=c.Crv.v[i].v.Cnty.v;
x++}R.oj(E,x,0);x+=4;R.oj(E,x,0);x+=4}return E.data.slice(0,x).buffer};function cw(){}cw.Sg=function(K){var E=new Uint8Array(K),x=4,c=R.Xl(E,x);
x+=2;var J=R.s(E,x);x+=4;var i=[];for(var y=0;y<J;y++){var P={};i.push(P);x=cw.G9(E,x,P)}return i};cw.V$=function(K,E){K.name=E};
cw.by=function(K){var E=new hK,x=0;R.O1(E,x,"8BPT");x+=4;R.j2(E,x,1);x+=2;R.oj(E,x,K.length);x+=4;for(var y=0;
y<K.length;y++){x=cw.DX(E,x,K[y])}return E.data.slice(0,x).buffer};cw.rt=function(K,E,x){var c=E+x,J=[];
while(E<c){var i={},P=R.s(K,E);E+=4;var _=E;E=cw.G9(K,E,i);if(!i.gW[1].um())J.push(i);if(P%4!=0)P+=4-P%4;
E=_+P}return J};cw.Ip=function(K,E,x){for(var y=0;y<x.length;y++){var c=x[y];E+=4;var J=E;E=cw.DX(K,E,c);
var i=E-J;R.oj(K,J-4,i);if(i%4!=0)J+=4-i%4;E=J+i}return E};cw.G9=function(K,E,x){var c=R.s(K,E);E+=4;
if(c!=1)alert("Unknown version of pattern");var J=R.s(K,E);E+=4;if(J!=1&&J!=2&&J!=3)console.log("Unsupported mode of pattern: "+J);
var i=R.Xl(K,E);E+=2;var P=R.Xl(K,E);E+=2;var _=new cS(0,0,P,i);x.name=R.Qj(K,E);E+=4+2*x.name.length+2;
var a=K[E];E++;x.id=R.pr(K,E,a);E+=x.id.length;var j=-1;if(J==2){j=E;E+=3*256+4}var e=new W.oA(P*i);
E=cw.amL(K,E,e);if(J==2){for(var y=0;y<e.o.length;y++){var d=3*e.o[y];e.o[y]=K[j+d+0];e.J[y]=K[j+d+1];
e.k[y]=K[j+d+2]}}var I=W.Q(_.O()*4);W.se(e,I);x.gW=[I,_];return E};cw.DX=function(K,E,x){var c=x.gW[0],J=x.gW[1];
R.oj(K,E,1);E+=4;R.oj(K,E,3);E+=4;R.j2(K,E,J.n);E+=2;R.j2(K,E,J.b);E+=2;R.kr(K,E,x.name+"\0");E+=4+2*x.name.length+2;
R._N(K,E,x.id.length);E++;R.O1(K,E,x.id);E+=x.id.length;var i=new W.oA(J.O());W.bT(c,i);E=cw.a5_(K,E,i,J);
return E};cw.amL=function(K,E,x){var c=E,J={ZE:null,NW:[],ay1:null,VY:null},i=R.s(K,E);E+=4;var P=R.s(K,E);
E+=4;J.ZE=R.nj(K,E);E+=16;var _=R.s(K,E);E+=4;for(var y=0;y<_+2;y++){var a=R.s(K,E);E+=4;if(a==0)continue;
var j=R.s(K,E);E+=4;if(j==0)continue;var e=R.s(K,E);E+=4;var d=R.nj(K,E);E+=16;var I=R.Xl(K,E);E+=2;
var v=K[E];E++;var n=iE.Oy(!1,e,K,d.b,d.n,E,v);if(y<_)J.NW.push(n);if(y==_)J.ay1=n;if(y==_+1)J.VY=n;
E+=j-23}if(!J.ZE.um()){if(J.NW[0])x.o=J.NW[0];if(J.NW[1])x.J=J.NW[1];else x.J=J.NW[0].slice(0);if(J.NW[2])x.k=J.NW[2];
else x.k=J.NW[0].slice(0);if(J.VY)x.Cc=J.VY;else x.Cc.fill(255)}return E};cw.a5_=function(K,E,x,c){var J=E,i={ZE:c,NW:[x.o,x.J,x.k],ay1:null,VY:x.Cc};
R.oj(K,E,3);E+=4;R.oj(K,E,0);E+=4;R.JO(K,E,c);E+=16;R.oj(K,E,24);E+=4;for(var y=0;y<24+2;y++){var P=E,_=y<3||y==25?1:0;
R.oj(K,E,_);E+=4;if(_==0)continue;R.oj(K,E,0);E+=4;R.oj(K,E,8);E+=4;R.JO(K,E,c);E+=16;R.j2(K,E,8);E+=2;
R._N(K,E,1,1);E++;var a=y<3?i.NW[y]:i.VY;K.UY(E,c.O()+2);E=iE.d8(!1,a,K.data,c.b,c.n,E,1);R.oj(K,P+4,E-P-8)}R.oj(K,J+4,E-J-8);
return E};function fl(){}fl.Sg=function(K){var E=new Uint8Array(K),x=0;if(E[0]==71)return fl.ao3(E);
var c=R.pr(E,x,4);x+=4;var J=R.Xl(E,x);x+=2;var i=[];if(J<=3){var P=R.Xl(E,x);x+=2;for(var y=0;y<P;y++){var _=E[x++],a=R.pr(E,x,_);
x+=_;var j=fl.lO(E,x,a),e=j[0];x=j[1];i.push(e)}}else{var j={},d=gh.Y5(E,j,x+4),I=j.GrdL.v;for(var y=0;
y<I.length;y++)i[y]=I[y].v.Grad.v}return i};fl.V$=function(K,E){K.Nm.v=E};fl.by=function(K){var E=new hK,x=0;
R.O1(E,x,"8BGR");x+=4;R.j2(E,x,5);x+=2;R.oj(E,x,16);x+=4;var c={classID:"null",GrdL:{t:"VlLs",v:[]}},J=c.GrdL.v;
for(var y=0;y<K.length;y++)J[y]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:K[y]}}};
x+=gh.qz(E,c,x);return E.data.slice(0,x).buffer};fl.lO=function(K,E,x){var c={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:x},Trns:{t:"VlLs",v:[]}},J=R.Xl(K,E);
E+=2;if(J==0)throw"e";for(var y=0;y<J;y++){var i=R.s(K,E),P=R.s(K,E+4),_=jn.Af(K,E+8),a={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:_.o},Grn:{t:"doub",v:_.J},Bl:{t:"doub",v:_.k}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:i},Mdpn:{t:"long",v:P}}};
c.Clrs.v.push(a);E+=20}var j=R.Xl(K,E);E+=2;for(var y=0;y<j;y++){var i=R.s(K,E),P=R.s(K,E+4),e=R.Xl(K,E+8),a={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*e/255)}},Lctn:{t:"long",v:i},Mdpn:{t:"long",v:P}}};
c.Trns.v.push(a);E+=10}var d=R.Xl(K,E);E+=2;c.Intr.v=d==2?R.Xl(K,E):4096;E+=2;var I=R.Xl(K,E);E+=2;return[c,E]};
fl.ag6=function(K,E,x){var c=x.Clrs.v.length;R.j2(K,E,c);E+=2;for(var y=0;y<c;y++){var J=x.Clrs.v[y];
R.oj(K,E,J.v.Lctn.v);R.oj(K,E+4,J.v.Mdpn.v);R.j2(K,E+8,0);var i=W.M.TD(W.M.Et(J.v.Clr.v)),P=[i.Rd.v,i.Grn.v,i.Bl.v,0];
for(var _=0;_<4;_++)R.j2(K,E+10+_*2,Math.round(65535*(P[_]/255)));E+=20}var a=x.Trns.v.length;R.j2(K,E,a);
E+=2;for(var y=0;y<a;y++){var J=x.Trns.v[y];R.oj(K,E,J.v.Lctn.v);R.oj(K,E+4,J.v.Mdpn.v);R.j2(K,E+8,Math.round(255*J.v.Opct.v.val/100));
E+=10}R.j2(K,E,2);E+=2;R.j2(K,E,x.Intr.v);E+=2;R.j2(K,E,32);E+=2;return E};fl.ao3=function(K){var E=R.__(K,0,K.length).split("\n"),x=parseFloat(E[2]),c=[],J=JSON.parse(dz.hQ[dz.order.indexOf("GrFl")]).Grad.v;
J.Intr.v=0;J.Nm.v=E[1];for(var y=0;y<x;y++){var i=E[3+y].split(" ").map(parseFloat),P=i[11],_=i[12];
c.push([i[0],i.slice(3,6),i[6]]);if(_!=0){var a=W.Rv(i[3],i[4],i[5]),j=W.Rv(i[7],i[8],i[9]),e=a.o4,d=j.o4;
if(_==1&&e>d)d++;if(_==2&&e<d)e++;var I=Math.round(Math.abs(d-e)*7);if(I>1)for(var v=0;v<I;v++){var n=1-(v+1)/(I+1),C=1-n,T=W.lx(n*e+C*d,n*a.hV+C*j.hV,n*a.W8+C*j.W8);
c.push([n*i[0]+C*i[2],[T.o,T.J,T.k],n*i[6]+C*i[10]])}}c.push([i[2],i.slice(7,10),i[10]])}c.sort(function(o,s){return o[0]-s[0]});
W.M.LW(c,J);return[J]};function dH(){}dH.Sg=function(K){var E=new Uint8Array(K),x=[],c=[],J=[],i=[],P=[],_=0,a=R.pr(E,_,4);
_+=4;var j=R.s(E,_);_+=4;var e=R.s(E,_);_+=4;while(_<E.length){var d=R.pr(E,_,4);_+=4;var I=R.pr(E,_,4);
_+=4;var v=R.s(E,_);_+=4;if(I=="tppa"){c=cw.rt(E,_,v);_+=v}else if(I=="tpbd"){J=de.HP(E,_,v,1,1);_+=v}else if(I=="tptp"){var n=R.s(E,_);
_+=4;for(var y=0;y<n;y++){var C=R.Qj(E,_);_+=6+C.length*2;_+=4;var T={};_+=gh.Y5(E,T,_);x.push([C,T])}while((_&3)!=0)_++}else if(I=="tpsh"){var o=_,s=E.slice(_,_+v);
while(_<o+v){var Q=R.s(E,_);_+=4;_=aS.Fj(E,_,"Shape",i)}_=o+v}else if(I=="tpst"){var o=_;_+=4;while(_<o+v){var X=R.s(E,_);
_+=4;var B=_,M=R.s(E,_);_+=4;var T={Sj:{},BT:{}};P.push(T);_+=4;_+=gh.Y5(E,T.Sj,_);_+=4;_+=gh.Y5(E,T.BT,_);
_=B+X;var S=T.BT.Lefx;if(S){if(S.v.masterFXSwitch==null)S.v.masterFXSwitch={t:"bool",v:!0};i5.Dc(S.v)}}_=o+v}else{console.log(E.slice(_-8,_+64));
console.log(R.pr(E,_-8,64));throw I}}return{qq:J,V8:c,list:x,aiZ:i,gu:P}};dH.V$=function(K,E){K[0]=E};
dH.by=function(K){var E=new hK,x=0;R.O1(E,x,"8BTP");x+=4;R.oj(E,x,3);x+=4;R.oj(E,x,1);x+=4;var c=[K.V8,K.qq,K.list];
for(var y=0;y<3;y++){if(c[y].length==0)continue;R.O1(E,x,"8BIM");x+=4;var J=["tppa","tpbd","tptp"][y];
R.O1(E,x,J);x+=4;var i=x;x+=4;if(J=="tppa"){x=cw.Ip(E,x,K.V8)}else if(J=="tpbd"){x=de.Ke(E,x,K.qq)}else if(J=="tptp"){R.oj(E,x,K.list.length);
x+=4;for(var P=0;P<K.list.length;P++){var _=K.list[P];R.kr(E,x,_[0]+"\0");x+=6+_[0].length*2;R.oj(E,x,16);
x+=4;x+=gh.qz(E,_[1],x)}}R.oj(E,i,x-i-4);while((x&3)!=0)x++;E.UY(x,0)}return E.data.slice(0,x).buffer};
function d5(){}d5.Sg=function(K,E){var x=new Uint8Array(K),c;if(R.s(x,0)==x.length)c="icc";else if(x[0]=="<".charCodeAt(0))c="look";
else if(R.ZO(x,"LUT_3D_SIZE")!=-1)c="cube";else c="3DL";if(c!="icc"){var J=d5.a64(x,c),i=d5.azu(J[0],J[1]);
x=i}var P=[];for(var y=0;y<x.length;y++)P.push(x[y]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:E?E:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:P}}]};
d5.by=function(K){var E=K[0],x=new Uint8Array(E.profile.v);return x.buffer};d5.V$=function(K,E){K.Nm.v=E};
d5.azu=function(K,E){var x=new hK,c=128;x.UY(0,128);var J=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var y=0;y<J.length;y++)x.data[y]=J[y];var i=["desc","A2B0"],P=i.length,_=128+4+P*12;R.oj(x,c,P);
c+=4;for(var a=0;a<P;a++){var j=i[a];R.O1(x,c,j);c+=4;R.oj(x,c,_);c+=4;var e=_;if(j=="desc"){R.O1(x,e,"mluc");
e+=4;e+=4;R.oj(x,e,1);e+=4;R.oj(x,e,12);e+=4;R.O1(x,e,"enUS");e+=4;var d="ICC by Photopea\0",I=d.length*2+2;
R.oj(x,e,I);e+=4;R.oj(x,e,28);e+=4;x.UY(e,I);for(var y=0;y<d.length;y++)x.data[e+y*2+1]=d.charCodeAt(y);
e+=I}if(j=="A2B0"){R.O1(x,e,"mAB ");e+=4;e+=4;x.UY(e,4);x.data[e]=3;x.data[e+1]=3;e+=4;x.UY(e,4*5);e+=4*3;
R.oj(x,e,e+8-_);e+=4;e+=4;x.UY(e,20);x.data[e]=K;x.data[e+1]=K;x.data[e+2]=K;e+=16;x.data[e]=2;e+=4;
var v=K*K*K*3;x.UY(e,v*2);for(var y=0;y<v;y++)R.c$(x.data,e+y*2,Math.max(0,Math.min(65535,Math.round(E[y]*65535))));
e+=v*2}var n=e-_;while((n&3)!=0)n++;R.oj(x,c,n);c+=4;_+=n}R.oj(x,0,_);return x.data.slice(0,_)};d5.a64=function(K,E){E="LUTFormat"+E.toUpperCase();
var x=[],c=0,J=R.__(K,0,K.length),i="";for(var y=0;y<K.length&&i=="";y++){if(K[y]==10)i="\n";else if(K[y]==13){i="\r";
if(K[y+1]==10)i+="\n"}}if(E=="LUTFormatCUBE"){var P=J.split(i);for(var y=0;y<P.length;y++){if(P[y]==""||P[y][0]=="#")continue;
var _=P[y].split(" "),a=_[0];if(a=="LUT_3D_SIZE"){c=parseInt(_[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(a)!=-1)continue;
x.push(parseFloat(_[0]),parseFloat(_[1]),parseFloat(_[2]))}x=d5.nF(c,x)}else if(E=="LUTFormat3DL"){var P=J.split(i),j=1/4095;
for(var y=0;y<P.length;y++){var e=P[y];if(e==""||e=="3DMESH"||e.startsWith("Mesh")||e[0]=="#")continue;
var _=e.split(" "),a=_[0];if(c==0){c=_.length;continue}x.push(parseFloat(_[0])*j,parseFloat(_[1])*j,parseFloat(_[2])*j)}}else if(E=="LUTFormatLOOK"){var d=new DOMParser,I=d.parseFromString(J,"text/xml"),v=I.getElementsByTagName("LUT")[0],n=v.children[0].textContent;
c=parseInt(JSON.parse(n));var C=v.children[1].textContent;C=C.replace(/"/g,"").replace(/\s/g,"");var T=3*c*c*c,o=T*4,s=new Uint8Array(o);for(var y=0;y<o;y++){var Q=C.charCodeAt(y*2),X=C.charCodeAt(y*2+1),B=Q<58?Q-48:Q-55,M=X<58?X-48:X-55;s[y]=(B<<4)+M}for(var y=0;y<T;y++)x.push(R.CA(s,y<<2));x=d5.nF(c,x)}else throw E;return[c,x]};d5.adY=function(K,E,x){var c=["#Created by www.Photopea.com","TITLE \""+x+"\"","","#LUT size","LUT_3D_SIZE "+E,"","#data domain","DOMAIN_MIN 0.0 0.0 0.0","DOMAIN_MAX 1.0 1.0 1.0","","#LUT data points"],J=6;
for(var y=0;y<K.length;y+=3){c.push(K[y].toFixed(J)+" "+K[y+1].toFixed(J)+" "+K[y+2].toFixed(J))}c.push("");
return R.zR(c.join("\n")).buffer};d5.nF=function(K,E){var x=[],c=K*K*K;for(var y=0;y<c;y++)x.push(0,0,0);
for(var J=0;J<K;J++)for(var i=0;i<K;i++)for(var P=0;P<K;P++){var y=3*(P+i*K+J*K*K),_=3*(J+i*K+P*K*K);
x[_]=E[y];x[_+1]=E[y+1];x[_+2]=E[y+2]}return x};function gh(){}gh.Y5=function(K,E,x,c,J){var i=x,P;if(J==null)J=0;
var _=R.s(K,x);if(_==0){P="";x+=4}else{P=R.Qj(K,x);x+=4+2*P.length+2}if(P!="")E.__name=P;E.classID=gh.a6(K,x);
if(c)console.log("\t".repeat(J),"- reading descriptor",E.classID,x);x+=gh.Bl(K,x);var a=R.Jv(K,x);x+=4;
for(var y=0;y<a;y++){var j=gh.a6(K,x);x+=gh.Bl(K,x);var e=gh.kH(K,x,c,J);E[j]=e;x+=e.size;delete e.size}return x-i};
gh.qz=function(K,E,x,c){var J=x,i=E.__name;if(i==null)i="";i+="\0";R.kr(K,x,i);x+=4+2*i.length;gh.W$(K,x,E.classID);
x+=gh.Bl(K.data,x);R.wa(K,x,Object.keys(E).length-1-(E.__name==null?0:1));x+=4;for(var P in E){if(P=="classID")continue;
if(P=="__name")continue;gh.W$(K,x,P);x+=gh.Bl(K.data,x);x+=gh.yK(K,x,E[P])}return x-J};gh.kH=function(K,E,x,c){var J=E,i=R.pr(K,E,4);
E+=4;var P={size:0,t:i,v:null};if(x)console.log("\t".repeat(c),"reading key",i,J);switch(i){case"obj ":case"VlLs":P.v=[];
var _=R.s(K,E);E+=4;for(var y=0;y<_;y++){var a=gh.kH(K,E,x,c+1);E+=a.size;delete a.size;P.v.push(a)}break;
case"UntF":P.v={type:R.pr(K,E,4),val:R.sz(K,E+4)};E+=12;break;case"doub":P.v=R.sz(K,E);E+=8;break;case"bool":P.v=K[E]==1;
E+=1;break;case"long":P.v=R.Jv(K,E);E+=4;break;case"comp":P.v=R.Jv(K,E+4);E+=8;break;case"Objc":P.v={};
var j=gh.Y5(K,P.v,E,x,c+1);E+=j;break;case"TEXT":var e=R.s(K,E);if(e==0){P.v="";E+=4}else{P.v=R.Qj(K,E);
E+=4+P.v.length*2+2}break;case"enum":var d=gh.a6(K,E);E+=gh.Bl(K,E);var I=gh.a6(K,E);E+=gh.Bl(K,E);P.v={};
P.v[d]=I;break;case"tdta":var v=R.Jv(K,E);E+=4;P.v=[];for(var y=0;y<v;y++)P.v.push(K[E+y]);E+=v;break;
case"ObAr":var n=R.s(K,E);E+=4;var C=R.Qj(K,E);E+=4+2*C.length+2;if(C!="")throw C;var T=gh.a6(K,E);E+=4+Math.max(4,T.length);
P.v={classID:T,arr:[]};var o=R.s(K,E);E+=4;for(var y=0;y<o;y++){var T=gh.a6(K,E);E+=4+Math.max(4,T.length);
var d=R.pr(K,E,4);E+=4;var s=R.pr(K,E,4);E+=4;var Q={id:T,type:d,uID:s,arr:[]};P.v.arr.push(Q);var X=R.s(K,E,4);
E+=4;for(var B=0;B<X;B++){var M=R.sz(K,E);E+=8;Q.arr.push(M)}}break;case"Pth ":var S=E,v=R.s(K,E);E+=4;
var f=R.pr(K,E,4);E+=4;var F=R.Pc(K,E);E+=4;var G=R.ayi(K,E);E+=4+G.length*2;P.v={sig:f,pth:G};break;
case"Clss":case"type":case"rele":var G=R.Qj(K,E);E+=4+G.length*2+2;var D=gh.a6(K,E);E+=4+Math.max(4,D.length);
P.v={classID:D};if(G!="")P.v.__name=G;if(i=="rele"){P.v.val=R.Jv(K,E);E+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var b=gh.wT[i],G=R.Qj(K,E);
E+=4+G.length*2+2;if(G.length!=0){console.log(i,G);throw"e"}P.v={};for(var y=0;y<b.length;y++){var D=gh.a6(K,E);
E+=4+Math.max(4,D.length);P.v[b[y]]=D}if(i=="name"){var G=R.Qj(K,E);E+=4+G.length*2+2;P.v.val=G}if(i=="indx"||i=="Idnt"){P.v.val=R.s(K,E);
E+=4}break;case"alis":var v=R.s(K,E);E+=4;P.v=R.pr(K,E,v);E+=v;break;default:{console.log("unknown oskey: "+i+", "+J);
throw"e";return P}}if(x){console.log("\t".repeat(c),P.v);console.log("\t".repeat(c),"======",E)}P.size=E-J;
return P};gh.wT={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"],Idnt:["classID"]};
gh.yK=function(K,E,x){var c=E,J=x.t;x=x.v;R.O1(K,E,J);E+=4;switch(J){case"obj ":case"VlLs":R.wa(K,E,x.length);
E+=4;for(var i=0;i<x.length;i++){var P=gh.yK(K,E,x[i]);E+=P}break;case"UntF":R.O1(K,E,x.type);R.wP(K,E+4,x.val);
E+=12;break;case"doub":R.wP(K,E,x);E+=8;break;case"bool":R._N(K,E,x?1:0,1);E+=1;break;case"long":R.wa(K,E,x);
E+=4;break;case"comp":R.wa(K,E+4,x);E+=8;break;case"Objc":var P=gh.qz(K,x,E);E+=P;break;case"TEXT":R.kr(K,E,x+"\0");
E+=4+x.length*2+2;break;case"enum":var _=Object.keys(x)[0],a=x[_];gh.W$(K,E,_);E+=gh.Bl(K.data,E);gh.W$(K,E,a);
E+=gh.Bl(K.data,E);break;case"tdta":R.oj(K,E,x.length);E+=4;R.IL(K,E,x);E+=x.length;break;case"ObAr":R.oj(K,E,x.arr[0].arr.length);
E+=4;R.kr(K,E,"\0");E+=6;gh.W$(K,E,x.classID);E+=4+Math.max(4,x.classID.length);R.oj(K,E,x.arr.length);
E+=4;for(var y=0;y<x.arr.length;y++){var j=x.arr[y];gh.W$(K,E,j.id);E+=4+Math.max(4,j.id.length);R.O1(K,E,j.type);
E+=4;R.O1(K,E,j.uID);E+=4;R.oj(K,E,j.arr.length);E+=4;for(var i=0;i<j.arr.length;i++){R.wP(K,E,j.arr[i]);
E+=8}}break;case"Pth ":var e=x.pth.length*2+4+8;R.oj(K,E,e);E+=4;R.O1(K,E,x.sig);E+=4;R.gf(K,E,e);E+=4;
R.ac5(K,E,x.pth);E+=x.pth.length*2+4;break;case"Clss":case"type":case"rele":var d=x.__name;if(d==null)d="";
R.kr(K,E,d+"\0");E+=4+d.length*2+2;var I=x.classID;gh.W$(K,E,I);E+=4+Math.max(4,I.length);if(J=="rele"){R.wa(K,E,x.val);
E+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var v=gh.wT[J];R.oj(K,E,1);E+=6;for(var y=0;
y<v.length;y++){var I=x[v[y]];gh.W$(K,E,I);E+=4+Math.max(4,I.length)}if(J=="name"){R.kr(K,E,x.val+"\0");
E+=4+x.val.length*2+2}if(J=="indx"||J=="Idnt"){R.oj(K,E,x.val);E+=4}break;case"alis":var e=x.length;
R.oj(K,E,e);E+=4;R.O1(K,E,x);E+=e;break;default:console.log("unknown oskey: "+J);E=c;break}return E-c};
gh.a6=function(K,E){var x=R.Jv(K,E);if(x>1e3)throw"e";if(x==0)x=4;return R.pr(K,E+4,x).trim()};gh.Bl=function(K,E){var x=R.Jv(K,E);
return x==0?8:4+x};gh.W$=function(K,E,x){var c="warp list Comp None xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow time hold trim then else".split(" "),J=4<x.length||c.indexOf(x)!=-1;
R.wa(K,E,J?x.length:0);R.O1(K,E+4,x);if(x.length<4&&!J){var i="";for(var y=x.length;y<4;y++)i+=" ";R.O1(K,E+4+x.length,i)}};
gh.alz=function(K){var E={};for(var x in K){if(x=="classID")E[x]=K[x];else if(x=="__name")E[x]=K[x];
else E[x]=gh.QL(K[x])}return E};gh.QL=function(K){if(K.kt=="Objc")return gh.alz(K.v);else if(K.kt=="VlLs"){var E=[];
for(var y=0;y<K.v.length;y++)E.push(gh.QL(K.v[y]));return E}else if(K.kt=="UntF")return K.v.val;else return K.v};
function i5(){}i5.oQ=function(K,E,x,c,J,i){while(E<x){var P=R.pr(K,E,4);E+=4;if(P!="8BIM"&&P!="8B64"){console.log("layer information signature error! "+P,"PSB = "+J);
alert("Error in PSD file: wrong signature.");return x}var _=R.pr(K,E,4);E+=4;var a=R.s(K,E);E+=4;var j=J&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(_)!=-1;
if(j){a=a<<32|R.Jv(K,E);E+=4}var e=["lrFX","PlLd"];if(e.indexOf(_)!=-1){if(a%4!=0)a+=4-a%4;E+=a;continue}switch(_){case"iOpa":c[_]=K[E];
break;case"brst":c[_]=[1,1,1];for(var y=0;y<a;y+=4)c[_][R.s(K,E+y)]=0;break;case"knko":c[_]=K[E];break;
case"infx":c[_]=K[E];break;case"clbl":c[_]=K[E];break;case"lmgm":c[_]=K[E];break;case"vmgm":c[_]=K[E];
break;case"fcmy":c[_]=K[E];break;case"lyid":c[_]=R.s(K,E);break;case"lsct":c[_]={type:R.s(K,E)};if(a>=12)c[_].Vk=R.pr(K,E+8,4);
break;case"lsdk":c.lsct={type:R.s(K,E)};break;case"lyvr":c[_]=R.s(K,E);break;case"lnsr":var d={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};
c[_]=R.pr(K,E,4);break;case"lspf":c[_]=R.s(K,E);break;case"lclr":c[_]=R.Xl(K,E);break;case"luni":c[_]=R.HS(K,E);
break;case"fxrp":c[_]=new iP(R.sz(K,E),R.sz(K,E+8));break;case"artb":case"artd":c[_]={};gh.Y5(K,c[_],E+4);
break;case"SoCo":c[_]={};gh.Y5(K,c[_],E+4);break;case"GdFl":c[_]={};gh.Y5(K,c[_],E+4);i5.fT(c[_],_);
break;case"PtFl":c[_]={};gh.Y5(K,c[_],E+4);i5.fT(c[_],_);break;case"CgEd":c[_]={};gh.Y5(K,c[_],E+4);
break;case"brit":var I=c.brit=dJ.JQ("brit"),v={};I.Brgh.v=R.ZM(K,E);I.Cntr.v=R.ZM(K,E+2);I.useLegacy.v=!1;
break;case"levl":var n=K.buffer.slice(E,E+a);c[_]=bH.Sg(n);break;case"curv":c[_]=hb.C_(K,E,a);break;
case"expA":var C=R.Xl(K,E),T=c[_]=dJ.JQ("expA");T.Exps.v=R.JU(K,E+2);T.Ofst.v=R.JU(K,E+6);T.gammaCorrection.v=R.JU(K,E+10);
break;case"vibA":c[_]={};gh.Y5(K,c[_],E+4);break;case"hue2":c[_]=c7.C_(K,E,a);break;case"blnc":var T=c[_]=dJ.JQ(_);
T.PrsL.v=K[E+18]==1;var o=["ShdL","MdtL","HghL"];for(var y=0;y<3;y++)for(var s=0;s<3;s++)T[o[y]].v[s].v=R.ZM(K,E+y*6+s*2);
break;case"blwh":var Q={};gh.Y5(K,Q,E+4);var T=dJ.JQ(_),X="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var y=0;y<X.length;y++){T[X[y]]=Q[X[y]];delete Q[X[y]]}c[_]=T;break;case"phfl":var T=c[_]=dJ.JQ(_),B=T.Clr.v,C=R.Xl(K,E);
if(C==3){var M=[R.s(K,E+2),R.s(K,E+6),R.s(K,E+10)],S=32768,f=W.sN(M[0]/S,M[1]/S,M[2]/S);B.Lmnc.v=f.sm;
B.A.v=f.Cc;B.B.v=f.k}if(C==2){var F=R.Xl(K,E+2);if(F!=7)throw"e";B.Lmnc.v=R.ZM(K,E+4)/100;B.A.v=R.ZM(K,E+6)/100;
B.B.v=R.ZM(K,E+8)/100}var G=E+2+(C==3?12:10);T.Dnst.v=R.s(K,G);G+=4;T.PrsL.v=K[G]==1;break;case"mixr":var D={Od:R.Xl(K,E+2)==1,Z:[]};
for(var y=0;y<20;y++)D.Z.push(R.ZM(K,E+4+y*2));c[_]=c2.a79(D);break;case"clrL":case"rplc":c[_]={};gh.Y5(K,c[_],E+6);
break;case"nvrt":c[_]={};break;case"post":c[_]=dJ.JQ("post");c[_].Lvls.v=R.Xl(K,E);break;case"thrs":c[_]=dJ.JQ("thrs");
c[_].Lvl.v=R.Xl(K,E);break;case"grdm":var b=E,H=K[E+2]==1,q=K[E+3]==1;b+=4;var O=R.pr(K,b,4);if(O=="Perc"||O=="Gcls"||O=="Lnr ")b+=4;
var w=R.HS(K,b);b+=4+w.length*2;var V=fl.lO(K,b,w),t=V[0];b=V[1];var m=R.Xl(K,b);b+=2;var g=R.s(K,b);
b+=4;var Y=R.Xl(K,b)==1;b+=2;var A=R.Xl(K,b)==1;b+=2;var k=R.s(K,b);b+=4;var z=R.Xl(K,b);b+=2;var p=[],L=[];
for(var y=0;y<4;y++){p.push({t:"long",v:~~(R.Xl(K,b+y*2)*100/32768)});L.push({t:"long",v:~~(R.Xl(K,b+y*2+8)*100/32768)})}b+=16;
var N=R.Xl(K,b);b+=2;if(m==1)t={classID:"Grdn",Nm:{t:"TEXT",v:w},GrdF:{t:"enum",v:{GrdF:"ClNs"}},ShTr:{t:"bool",v:Y},VctC:{t:"bool",v:A},ClrS:{t:"enum",v:{ClrS:"RGBC"}},RndS:{t:"long",v:g},Smth:{t:"long",v:k},Mnm:{t:"VlLs",v:p},Mxm:{t:"VlLs",v:L}};
var gC=dJ.JQ("grdm");gC.Rvrs.v=H;gC.Grad.v=t;c[_]=gC;break;case"selc":c[_]=jO.C_(K,E,a);break;case"vmsk":case"vsms":var r=c.vmsk=new Z.Wf,h=R.Jv(K,E+4),l=(h>>0&1)==1;
r.B0=(h>>1&1)==0;r.isEnabled=(h>>2&1)==0;r.i=aS.L0(K,E+8,a-8,i.b,i.n);break;case"shmd":c[_]={};var g5=R.s(K,E),G=E+4;
for(var y=0;y<g5;y++){var P=R.pr(K,G,4);G+=4;var fm=R.pr(K,G,4);G+=4;var dC=K[G];G++;if(Math.max(K[G],K[G+1])!=0)throw"e";
G+=3;var ex=R.s(K,G);G+=4;if(fm=="cust"||fm=="cmls"||fm=="extn"||fm=="mlst"){var cR=R.s(K,G);if(cR!=16)G+=4;
if(R.s(K,G)==16){var Q={};gh.Y5(K,Q,G+4,!1);c[_][fm]=Q;if(fm=="cmls")$.TE.ato(c[_][fm])}}else{console.log("unknown shmd key: "+fm+", size: "+ex)}G+=ex}break;
case"shpa":var C=R.s(K,E),d0=R.s(K,E+4);if(d0!=0)console.log("some patterns present!");break;case"TySh":var hN=c[_]={},C=R.Xl(K,E);
hN.u=R.uT(K,E+2);var ey=R.Xl(K,E+2+48);hN.G8={};var cr=gh.Y5(K,hN.G8,E+56),ik=ev.ayu();for(var hd in ik)if(hN.G8[hd]==null)hN.G8[hd]=ik[hd];
hN.K_={};var df=gh.Y5(K,hN.K_,E+56+cr+6);hN.T6=R.ak4(K,E+56+cr+6+df);hN.kd=b6.Sg(hN.G8.EngineData.v);
ev.aqm(hN.kd.EngineDict.StyleRun.RunArray);if(hN.kd.ResourceDict==null)hN.kd.ResourceDict=JSON.parse(JSON.stringify(hN.kd.DocumentResources));
delete hN.G8.EngineData;break;case"lfx2":case"lmfx":case"lfxs":var bQ=R.s(K,E),is=R.s(K,E+4);c.lmfx={};
var cr=gh.Y5(K,c.lmfx,E+8);i5.Dc(c.lmfx);break;case"FMsk":c[_]=R.w$(K,E,a);break;case"Txt2":c[_]={};
c[_].raw=R.w$(K,E,a);c[_].TN=iA.Sg(c[_].raw);break;case"Patt":c[_]=cw.rt(K,E,a);break;case"SoLd":var bi=R.pr(K,E,4),jX=R.s(K,E+4),eS=R.s(K,E+8);
c[_]={};var bN=gh.Y5(K,c[_],E+12);if(c[_].nonAffineTransform==null)c[_].nonAffineTransform=JSON.parse(JSON.stringify(c[_].Trnf));
if(c[_].Impr==null)c[_].Impr={t:"Objc",v:{__name:"None",classID:"none"}};break;case"vstk":case"pths":var jX=R.s(K,E);
c[_]={};var bN=gh.Y5(K,c[_],E+4);break;case"vscg":var fm=R.pr(K,E,4),jX=R.s(K,E+4);c[fm]={};var bN=gh.Y5(K,c[fm],E+8);
i5.fT(c[fm],fm);break;case"vogk":var h9=R.s(K,E),jX=R.s(K,E+4);c[_]={};var bN=gh.Y5(K,c[_],E+8);c[_]=c[_].keyDescriptorList.v;
for(var y=0;y<c[_].length;y++){var bz=c[_][y].v;if(!W.X.MG(bz))continue;if(bz.keyOriginBoxCorners==null){var i0=W.X.UC(bz);
bz.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};var hp=[i0[0],i0[1],i0[2],i0[1],i0[2],i0[3],i0[0],i0[3]];
if(bz.keyOriginType.v==4)hp=W.X.Vm(W.X.ZG(bz),bz.keyOriginLineWeight.v);W.X.Vf(bz,"keyOriginBoxCorners",hp)}}break;
case"lnk2":case"lnkD__":case"lnk3__":c[_]=[];var b=E;while(b<E+a){var hY=new Z.ip;c[_].push(hY);var ji=R.$S(K,b);
b+=8;var aM=b;hY.type=R.pr(K,b,4);b+=4;if(hY.type!="liFD"){alert("Unknown Linked Layer type: "+hY.type);
break;throw hY.type}hY.SK=R.s(K,b);b+=4;var a1=R.ym(K,b);b+=1+a1.pg.length;hY.Vn=a1.pg;hY.sU=R.Qj(K,b);
b+=4+hY.sU.length*2+2;hY.ez=R.pr(K,b,4);b+=4;hY.PD=R.pr(K,b,4);b+=4;var fi=R.$S(K,b);b+=8;hY.open=K[b];
b+=1;if(hY.open!=0){var jJ={},cr=gh.Y5(K,jJ,b+4);if(cr%4!=0)cr+=4-cr%4;console.log(jJ);b+=cr+4}hY.open=0;
hY.raw=R.w$(K,b,fi);b=aM+ji;if(ji%4!=0)b+=4-ji%4}break;case"FEid":var b=E;c[_]=[];var gg=b+a,C=R.s(K,b);
b+=4;while(b<gg){b+=4;var ji=R.s(K,b);b+=4;var V={};c[_].push(V);V.id=R.ym(K,b).pg;b+=V.id.length+1;
var C=R.s(K,b);b+=4;b+=4;var iN=R.s(K,b);b+=4;V.rect=R.nj(K,b);b+=16;var ad=R.s(K,b);b+=4;var h6=R.s(K,b);
b+=4;var iY=new W.oA(0);for(var y=0;y<h6+2;y++){var kh=R.s(K,b);b+=4;if(kh!=0){b+=4;var gN=R.s(K,b),aT=null;
b+=4;if(y<3||y==25)aT=iE.R4(!0,ad,K,V.rect.b,V.rect.n,b,gN);if(y==0)iY.o=aT;if(y==1)iY.J=aT;if(y==2)iY.k=aT;
if(y==25)iY.Cc=aT;b+=gN}}V.buffer=W.Q(V.rect.O()*4);W.se(iY,V.buffer);W.yw(V);var iv=K[b];b++;if(iv!=0){V.z=new Z.vW;
V.z.rect=R.nj(K,b);b+=16;b+=4;var fs=R.s(K,b);b+=4;V.z.channel=iE.R4(!0,ad,K,V.z.rect.b,V.z.rect.n,b,fs);
V.z.color=255;V.z.oo();b+=fs}if(ji%4!=0)b+=4-ji%4}break;case"Lr16":iI.lz(i,K,E);break;case"Anno":c[_]=[];
var gm=E,g8=E+4,d0=R.s(K,g8);g8+=4;for(var y=0;y<d0;y++){var ji=R.s(K,g8);g8+=4;var b_=R.pr(K,g8,4);
g8+=4;if(b_!="txtA")throw b_;var ko=K[g8++],gk=K[g8++],bx=R.Xl(K,g8);g8+=2;var ai=R.nj(K,g8);g8+=16;
var hf=R.nj(K,g8);g8+=16;var B=jn.Af(K,g8);g8+=10;var aa=R.ym(K,g8);g8+=aa.length;var iS=R.ym(K,g8);
g8+=iS.length;var hl=R.ym(K,g8);g8+=hl.length;var jR=R.s(K,g8);g8+=4;var jC=R.pr(K,g8,4);g8+=4;var h8=R.s(K,g8);
g8+=4;var cW=R.$$(K,g8+2,h8-2>>1);g8+=h8;c[_].push([ai.x,ai.y,B,aa.pg,cW])}break;default:break}var kn="Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2 cinf Anno".split(" ");
if(kn.indexOf(_)==-1)if(a%4!=0)console.log("size not multiple of 4!!!",_);if(_!="luni"&&_!="TySh"&&_!="tySh"&&_!="lfx2"&&_!="iOpa")if(a%4!=0)a+=4-a%4;
E+=a}var v=c.CgEd;if(v){var I=c.brit;if(I){I.Brgh.v=v.Brgh?v.Brgh.v:0;I.Cntr.v=v.Cntr?v.Cntr.v:0;I.useLegacy.v=v.useLegacy?v.useLegacy.v:0}delete c.CgEd}var fQ=[];
for(var y=0;y<fQ.length;y++)delete c[fQ[y]];return E};i5.H7=function(K,E,x,c,J){for(var i in x)if(x[i]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+i+"\" tag was present with a null value.");delete x[i]}for(var i in x){var P=c&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(i)!=-1,a=0;
R.O1(K,E,P?"8B64":"8BIM");E+=4;var _=E;R.O1(K,E,i);E+=4;R.wa(K,E,0);E+=P?8:4;switch(i){case"iOpa":R._N(K,E,x[i],1);
a=4;break;case"brst":a=0;for(var y=0;y<3;y++)if(x[i][y]==0){R.oj(K,E+a,y);a+=4}break;case"knko":R._N(K,E,x[i],1);
a=4;break;case"infx":R._N(K,E,x[i],1);a=4;break;case"clbl":R._N(K,E,x[i],1);a=4;break;case"lmgm":R._N(K,E,x[i],1);
a=4;break;case"vmgm":R._N(K,E,x[i],1);a=4;break;case"fcmy":R._N(K,E,x[i],1);a=4;break;case"lyid":R.oj(K,E,x[i]);
a=4;break;case"lsct":R.oj(K,E,x[i].type);a=4;if(x[i].Vk){R.O1(K,E+4,"8BIM");R.O1(K,E+8,x[i].Vk);a=12}break;
case"lyvr":R.oj(K,E,x[i]);a=4;break;case"lnsr":R.O1(K,E,x[i]);a=4;break;case"lspf":R.oj(K,E,x[i]);a=4;
break;case"lclr":R.j2(K,E,x[i]);a=8;break;case"luni":R.kr(K,E,x[i]);a=4+2*x[i].length;break;case"fxrp":R.wP(K,E,x[i].x);
R.wP(K,E+8,x[i].y);a=16;break;case"artb":case"artd":R.oj(K,E,16);a=gh.qz(K,x[i],E+4)+4;break;case"SoCo":R.oj(K,E,16);
a=gh.qz(K,x[i],E+4)+4;break;case"GdFl":R.oj(K,E,16);a=gh.qz(K,x[i],E+4)+4;break;case"PtFl":R.oj(K,E,16);
a=gh.qz(K,x[i],E+4)+4;break;case"CgEd":var j={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},e=j,d=x[i];
e.Brgh.v=d.Brgh.v;e.Cntr.v=d.Cntr.v;e.useLegacy.v=d.useLegacy.v;R.oj(K,E,16);a=gh.qz(K,j,E+4)+4;break;
case"brit":K.UY(E,8);a=8;break;case"levl":var I=new hK;a=bH.by(I,x[i]);R.IL(K,E,I.data);break;case"curv":a=hb.SC(K,E,x[i]);
break;case"expA":a=14;K.UY(E,14);R.c$(K.data,E,1);R.AE(K.data,E+2,x[i].Exps?x[i].Exps.v:0);R.AE(K.data,E+6,x[i].Ofst?x[i].Ofst.v:0);
R.AE(K.data,E+10,x[i].gammaCorrection?x[i].gammaCorrection.v:1);break;case"vibA":R.oj(K,E,16);a=gh.qz(K,x[i],E+4)+4;
break;case"hue2":a=c7.SC(K,E,x[i]);break;case"blnc":a=19;K.UY(E,a);var v=["ShdL","MdtL","HghL"];for(var y=0;
y<3;y++){var n=x[i][v[y]].v;for(var C=0;C<3;C++)n.push(R.xL(K.data,E+y*6+C*2,n[C].v))}K.data[E+18]=x[i].PrsL.v?1:0;
break;case"blwh":var j={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},T="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var y=0;y<T.length;y++){j[T[y]]=x[i][T[y]]}R.oj(K,E,16);a=gh.qz(K,j,E+4)+4;break;case"phfl":R.j2(K,E,2);
var o=x[i].Clr.v;R.j2(K,E+2,7);R.j2(K,E+4,Math.round(o.Lmnc.v*100));R.j2(K,E+6,Math.round(o.A.v*100));
R.j2(K,E+8,Math.round(o.B.v*100));R.j2(K,E+10,0);var s=E+2+10;K.UY(s,5);R.T5(K.data,s,x[i].Dnst.v);s+=4;
K.data[s]=x[i].PrsL.v?1:0;s++;a=s-E;break;case"mixr":a=44;K.UY(E,a);var Q=c2.p$(x[i]);R.c$(K.data,E,1);
R.c$(K.data,E+2,Q.Od?1:0);for(var y=0;y<20;y++)R.xL(K.data,E+4+y*2,Q.Z[y]);break;case"clrL":case"rplc":R.j2(K,E,1);
R.oj(K,E+2,16);a=gh.qz(K,x[i],E+6)+6;break;case"nvrt":a=0;break;case"post":R.j2(K,E,x[i].Lvls.v);a=2;
break;case"thrs":R.j2(K,E,x[i].Lvl.v);a=2;break;case"grdm":var X=x[i].Rvrs?x[i].Rvrs.v:!1,B=!1,M=867527939,S=!1,f=!1,F=2048,G=[0,0,0,0],D=[32768,32768,32768,32768],b=x[i].Grad.v,H,q,O=b.Clrs==null?1:0;
if(O==0){H=b;q=JSON.parse(dz.zT.aei).v}else{H=dJ.JQ("grdm").Grad.v;q=b}K.UY(E,4);R.c$(K.data,E,1);K.data[E+2]=X?1:0;
K.data[E+3]=B?1:0;var w=E+4;R.kr(K,w,b.Nm.v);w+=4+b.Nm.v.length*2;w=fl.ag6(K,w,H);R.j2(K,w,O);w+=2;R.oj(K,w,q.RndS.v);
w+=4;R.j2(K,w,q.ShTr.v?1:0);w+=2;R.j2(K,w,q.VctC.v?1:0);w+=2;R.oj(K,w,q.Smth.v);w+=4;R.j2(K,w,3);w+=2;
for(var y=0;y<4;y++)R.j2(K,w+y*2,G[y]);w+=8;for(var y=0;y<4;y++)R.j2(K,w+y*2,D[y]);w+=8;w+=2;a=w-E;break;
case"selc":a=jO.SC(K,E,x[i]);break;case"FMsk":R.IL(K,E,x[i]);a=x[i].length;break;case"Txt2":var V=new hK,t=iA.sP(x[i].TN,V),m=W.Q(t,!0);
for(var y=0;y<t;y++)m[y]=V.data[y];R.IL(K,E,m);a=m.length;break;case"vmsk":var g=x[i],Y=0;R.oj(K,E,3);
if(!g.B0)Y+=1<<1;if(!g.isEnabled)Y+=1<<2;R.oj(K,E+4,Y);a=8;var A=g.i.length;K.UY(E+8,A*26);aS.eO(K.data,E+8,g.i,J.b,J.n);
a+=A*26;break;case"shmd":R.oj(K,E,Object.keys(x[i]).length);var s=E+4;for(var k in x[i]){R.O1(K,s,"8BIM");
s+=4;R.O1(K,s,k);s+=4;R.oj(K,s,0);s+=4;R.oj(K,s,0);s+=4;R.oj(K,s,16);s+=4;var z=gh.qz(K,x[i][k],s);if(z%4!=0)z+=4-z%4;
R.oj(K,s-8,z+4);s+=z}a=s-E;break;case"TySh":var s=E;R.iZ(K,s,1);s+=2;var p=x[i],V=new hK;p.kd.DocumentResources=JSON.parse(JSON.stringify(p.kd.ResourceDict));
var t=b6.sP(p.kd,V),m=W.Q(t,!0);for(var y=0;y<t;y++)m[y]=V.data[y];p.G8.EngineData={t:"tdta",v:m};var L=p.kd.EngineDict.Editor.Text;
p.G8.Txt.v=L.substring(0,L.length-1);R.a4J(K,s,p.u);s+=48;R.iZ(K,s,50);s+=2;R.oj(K,s,16);s+=4;s+=gh.qz(K,p.G8,s);
R.iZ(K,s,1);s+=2;R.oj(K,s,16);s+=4;s+=gh.qz(K,p.K_,s);R.aro(K,s,p.T6);s+=16;a=s-E;break;case"lmfx":R.oj(K,E,0);
R.oj(K,E+4,16);var j=JSON.parse(JSON.stringify(x[i])),N=!1;i5.xF(j);for(var y=0;y<dz.E9.length;y++)if(j[dz.E9[y]]!=null)N=!0;
R.O1(K,_,N?"lmfx":"lfx2");a=gh.qz(K,j,E+8)+8;break;case"Patt":var s=cw.Ip(K,E,x[i]);a=s-E;break;case"SoLd":R.O1(K,E,"soLD");
R.oj(K,E+4,4);R.oj(K,E+8,16);a=gh.qz(K,x[i],E+12)+12;break;case"vstk":case"pths":R.oj(K,E,16);a=gh.qz(K,x[i],E+4)+4;
break;case"vscg__":R.O1(K,E,x[i].key);R.oj(K,E+4,16);a=gh.qz(K,x[i].Z,E+8)+8;break;case"vogk":R.oj(K,E,1);
R.oj(K,E+4,16);W.X.aaX(x[i]);for(var y=0;y<x[i].length;y++){var gC=x[i][y].v.keyOriginResolution;if(gC)gC.v=J.B8}var r={classID:"null",keyDescriptorList:{t:"VlLs",v:x[i]}};
a=gh.qz(K,r,E+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var w=E;for(var y=0;y<x[i].length;y++){var h=x[i][y],l=w;
R.xD(K,w,0);w+=8;R.O1(K,w,h.type);w+=4;R.oj(K,w,h.SK);w+=4;K.UY(w,1);K.data[w]=h.Vn.length;w++;R.O1(K,w,h.Vn);
w+=h.Vn.length;R.kr(K,w,h.sU+"\0");w+=4+h.sU.length*2+2;R.O1(K,w,h.ez);w+=4;R.O1(K,w,h.PD);w+=4;R.xD(K,w,h.raw.length);
w+=8;K.UY(w,1);K.data[w]=h.open;w++;R.IL(K,w,h.raw);w+=h.raw.length;R.oj(K,w,1);w+=4;w+=11;var g5=w-l-8;
R.xD(K,l,g5);if(g5%4!=0){K.UY(w,4-g5%4);w+=4-g5%4}}a=w-E;break;case"FEid":var w=E;R.oj(K,w,3);w+=4;for(var fm=0;
fm<x[i].length;fm++){var dC=x[i][fm];w+=4;var ex=w;w+=4;R.kI(K,w,dC.id);w+=dC.id.length+1;R.oj(K,w,1);
w+=4;var cR=W.Q(dC.rect.O()),d0=dC.rect,hN=W.Q(d0.O());w+=4;var ey=w;w+=4;R.JO(K,w,d0);w+=16;R.oj(K,w,8);
w+=4;R.oj(K,w,24);w+=4;for(var y=0;y<24+2;y++){var cr=-1;if(y==0)cr=0;if(y==1)cr=1;if(y==2)cr=2;if(y==25)cr=3;
R.oj(K,w,cr!=-1?1:0);w+=4;if(cr!=-1){W.Bp(dC.buffer,cR,cr);W.XT(cR,dC.rect,hN,d0);w+=4;var ik=w;w+=4;
K.UY(w,d0.O()+2);w=iE.aN(!0,hN,K.data,d0.b,d0.n,w,3);R.oj(K,ik,w-(ik+4))}}R.oj(K,ey,w-(ey+4));K.UY(w,1);
K.data[w]=dC.z?1:0;w++;if(dC.z!=null){var hd=d0,df=W.Q(hd.O());df.fill(dC.z.color);W.XT(dC.z.channel,dC.z.rect,df,hd);
R.JO(K,w,hd);w+=16;w+=4;var bQ=w;w+=4;K.UY(w,hd.O()+2);w=iE.aN(!0,df,K.data,hd.b,hd.n,w,3);R.oj(K,bQ,w-(bQ+4))}var g5=w-(ex+4);
R.oj(K,ex,g5);if(g5%4!=0)w+=4-g5%4}a=w-E;break;case"Anno":var is=E,bi=x[i].length;R.j2(K,is,2);R.j2(K,is+2,1);
is+=4;R.oj(K,is,bi);is+=4;for(var y=0;y<bi;y++){var jX=x[i][y],eS=jX[0],bN=jX[1],h9=is;is+=4;R.O1(K,is,"txtA");
is+=4;K.UY(is,2);K.data[is]=1;K.data[is+1]=28;is+=2;R.j2(K,is,1);is+=2;R.JO(K,is,new cS(eS,bN,17,21));
is+=16;R.JO(K,is,new cS(eS+8,bN+10,241,141));is+=16;K.UY(is,10);jn.WN(K.data,is,jX[2]);is+=10;is+=R.kI(K,is,jX[3]);
is+=R.kI(K,is,"");is+=R.kI(K,is,"D:20211012120233+01'00'");var bz=jX[4].length*2;R.oj(K,is,12+2+bz);
is+=4;R.O1(K,is,"txtC");is+=4;R.oj(K,is,2+bz);is+=4;K.UY(is,2);K.data[is]=254;K.data[is+1]=255;is+=2;
R.acK(K,is,jX[4]);is+=bz;R.oj(K,h9,is-h9)}a=is-E;break;default:console.log("unknown layer tag: "+i+", size: "+a);
E-=12;continue}var i0=["Txt2","artd","extd","pths"];if(i0.indexOf(i)==-1)if(a%4!=0)a+=4-a%4;if(P)R.xD(K,E-8,a);
else R.oj(K,E-4,a);if(i!="luni"&&i!="TySh")if(a%4!=0)a+=4-a%4;E+=a}return E};i5.Dc=function(K){for(var y=0;
y<dz.order.length;y++){var E=dz.order[y],x=dz.E9[y];if(K[x]==null)K[x]={t:"VlLs",v:[]};if(K[E]!=null){K[x].v.push(K[E]);
delete K[E]}var c=[];for(var J=0;J<K[x].v.length;J++){var i=K[x].v[J];if(i.v.present==null||i.v.present.v==!0)c.push(i)}K[x].v=c}};
i5.xF=function(K){for(var y=0;y<dz.order.length;y++){var E=dz.order[y],x=dz.E9[y],c=K[x].v.length;if(c==0){delete K[x];
continue}if(c==1){K[E]=K[x].v[0];delete K[x];continue}}};i5.fT=function(K,E){if(E=="GdFl"){if(K.Angl==null)K.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(K.Algn==null)K.Algn={v:!0,t:"bool"};if(K.Scl==null)K.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(K.Ofst==null)K.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(K.Rvrs==null)K.Rvrs={v:!1,t:"bool"};if(K.Dthr==null)K.Dthr={v:!1,t:"bool"}}if(E=="PtFl"){if(K.Algn==null)K.Algn={v:!0,t:"bool"};
if(K.Angl==null)K.Angl={v:{type:"#Ang",val:0},t:"UntF"};if(K.Scl==null)K.Scl={v:{type:"#Prc",val:100},t:"UntF"};
if(K.phase==null)K.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};i5.clone=function(K,E){var x={};
if(K=="TySh"){x.u=E.u.clone();x.G8=JSON.parse(JSON.stringify(E.G8));x.K_=JSON.parse(JSON.stringify(E.K_));
x.T6=E.T6.clone();x.kd=JSON.parse(JSON.stringify(E.kd));if(E.add)x.add={vmsk:E.add.vmsk.clone(),vogk:JSON.parse(JSON.stringify(E.add.vogk))};
return x}else if(K=="fxrp")return E.clone();else if(K=="vmsk")return E.clone();else return JSON.parse(JSON.stringify(E))};
function i8(K,E){}i8.Sg=function(K,E,x,c){c=i8.a3q(K,E,x,c);return c};i8.sP=function(K,E,x,c,J){c=i8.a0e(K,E,x,c,J);
return c};i8.a3q=function(K,E,x,c){var J=c;K.rect=R.nj(x,c);c+=16;var i=R.Xl(x,c);c+=2;K.vG=[];var P=E.A0;
for(var y=0;y<i;y++){K.vG[y]={id:R.ZM(x,c),length:(P?R.$S:R.s)(x,c+2)};c+=P?10:6}var _=R.pr(x,c,4);c+=4;
if(_!="8BIM"){console.log("Invalid Blend mode signature: "+_);alert("Error in Photoshop file: wrong signature.");
throw"e"}K.Vk=R.pr(x,c,4);c+=4;K.opacity=x[c];c+=1;K.Z2=x[c]==1;c+=1;K.LD=x[c];c+=1;if(x[c]!=0)console.log("error in filler!");
c+=1;var a=R.s(x,c);c+=4;var j=c;c=i8.awS(K,x,c);c=i8.akJ(K,x,c);var e=R.ym(x,c);K.name=e.pg;c+=e.length;
if(e.length%4!=0)c+=4-e.length%4;c=i5.oQ(x,c,j+a,K.add,P,E);if(K.add.lsct){if(K.add.lsct.Vk)K.Vk=K.add.lsct.Vk;
K.add.lsct=K.add.lsct.type}return c};i8.a0e=function(K,E,x,c,J){var i=c;R.JO(x,c,K.rect);c+=16;var P=K.aa6();
R.j2(x,c,P.length);c+=2;var _=E.A0;J.push(c);for(var y=0;y<P.length;y++){R.iZ(x,c,P[y]);if(_)R.xD(x,c+2,0);
else R.oj(x,c+2,0);c+=_?10:6}R.O1(x,c,"8BIM");c+=4;R.O1(x,c,K.Vk);c+=4;R._N(x,c,K.opacity,1);c+=1;R._N(x,c,K.Z2?1:0,1);
c+=1;R._N(x,c,K.LD,1);c+=1;R._N(x,c,0,1);c+=1;var a=c;R.oj(x,c,0);c+=4;var j=c;c=i8.acC(K,x,c);c=i8.avU(K,x,c);
var e=R.kI(x,c,K.name.slice(0,255));c+=e;if(e%4!=0)c+=4-e%4;if(K.add.lsct){K.add.lsct={type:K.add.lsct};
if(K.Vk=="pass"){K.add.lsct.Vk="pass";K.Vk="norm"}}if(K.Vk=="pass")K.add.lsct={type:K.add.lsct,Vk:"pass"};
if(K.add.brit)K.add.CgEd=K.add.brit;c=i5.H7(x,c,K.add,_,E);delete K.add.CgEd;if(K.add.lsct){if(K.add.lsct.Vk)K.Vk=K.add.lsct.Vk;
K.add.lsct=K.add.lsct.type}var d=c-j;R.oj(x,a,d);return c};i8.awS=function(K,E,x){var c=R.s(E,x);x+=4;
if(c==0)return x;var J=x;K.z=new Z.vW;K.z.rect=R.nj(E,x);x+=16;K.z.color=E[x];x+=1;var i=i8.gB(K.z,E,x);
x+=1;if(i){var P=!1,_=255,a=0,j=255,e=0;for(var y=0;y<K.vG.length;y++)if(K.vG[y].id==-3)P=!0;if(P){K.Sc=i8.Gb(E,x);
x+=18}var d=x,I=E[x];x++;if(I>>0&1){_=E[x];x++}if(I>>1&1){a=R.sz(E,x);x+=8}if(I>>2&1){j=E[x];x++}if(I>>3&1){e=R.sz(E,x);
x+=8}if((x-d&1)==1)x++;K.Oa=[_,a,j,e]}else{if(c==20)x+=2;else{K.Sc=i8.Gb(E,x);x+=18}}return J+c};i8.acC=function(K,E,x){R.oj(E,x,0);
x+=4;if(K.z==null)return x;var c=K.FA(),J=K.add.vmsk,i=x,P=!0;R.oj(E,x,0);R.JO(E,x,K.z.rect);x+=16;R._N(E,x,K.z.color);
x+=1;i8.S2(K.z,E,x,P);x+=1;if(P){if(K.Sc){i8.au3(E,x,K.Sc);x+=18}R._N(E,x,15);x+=1;R._N(E,x,c?c.Kq:255);
x+=1;R.wP(E,x,c?c.Zs:0);x+=8;R._N(E,x,J?J.Kq:255);x+=1;R.wP(E,x,J?J.Zs:0);x+=8;x++}R.oj(E,i-4,x-i);return x};
i8.Gb=function(K,E){var x=new Z.vW;i8.gB(x,K,E);E+=1;x.color=K[E];E+=1;x.rect=R.nj(K,E);E+=16;return x};
i8.au3=function(K,E,x){i8.S2(x,K,E,!1);E+=1;R._N(K,E,x.color);E+=1;R.JO(K,E,x.rect);E+=16};i8.gB=function(K,E,x){var c=E[x];
K.B0=(c>>0&1)==0;K.isEnabled=(c>>1&1)==0;K._r=(c>>3&1)==1;return c>>4&1};i8.S2=function(K,E,x,c){var J=0;
if(!K.B0)J+=1<<0;if(!K.isEnabled)J+=1<<1;if(K._r)J+=1<<3;if(c)J+=1<<4;R._N(E,x,J)};i8.akJ=function(K,E,x){var c=R.s(E,x);
x+=4;for(var y=0;y<c;y++)K.Dg[y]=E[x+y];return x+c};i8.avU=function(K,E,x){R.oj(E,x,K.Dg.length);x+=4;
E.UY(x,40);for(var y=0;y<40;y++){E.data[x+y]=K.Dg[y]}return x+40};function iE(){}iE.Sg=function(K,E,x,c){c=iE.ac9(E,E.A0,E.Re,E.ln,K,x,c);
return c};iE.by=function(K,E,x,c,J,i){c=iE.afg(K,E,x,c,J,i);return c};iE.ac9=function(K,E,x,c,J,i,P){var _=J.vG,a={},j=P;
for(var y=0;y<_.length;y++){var e=_[y],d=e.id,I=e.length,v;if(d==-3)v=J.Sc.rect;else if(d==-2)v=J.z.rect;
else v=J.rect;var n=iE.R4(E,x,i,v.b,v.n,P,I);P+=I;if(d==-3)J.Sc.channel=n;else if(d==-2)J.z.channel=n;
else a["c"+d]=n}var C=new W.oA(0);C.Cc=null;if(c==3){C.o=a.c0;C.J=a.c1;C.k=a.c2;C.Cc=a["c-1"]}else if(c==1){C.o=a.c0;
C.J=a.c0;C.k=a.c0;C.Cc=a["c-1"]}else if(c==4){var T=K.C6.r1039,o=a.c0,s=a.c1,Q=a.c2,X=a.c3;if(T){var B=T.ayR,M=17;
if(B==null){var S=ICC.R(T.buffer);console.log(S);B=T.ayR=ICC.U.sampleLUT(S,M)}var f={o:o,J:s,k:Q,Cc:X},F=W.Q(o.length*4);
W.se(f,F);W.Pa(F);ICC.U.applyLUT4(B,M,F,F);W.bT(F,f)}else{for(var y=0;y<o.length;y++){var G=1-o[y]*(1/255),D=1-s[y]*(1/255),b=1-Q[y]*(1/255),H=1-X[y]*(1/255),q=UDOC.C.cmykToRgb([G,D,b,H]);
o[y]=q[0]*255;s[y]=q[1]*255;Q[y]=q[2]*255}}C.o=o;C.J=s;C.k=Q;C.Cc=a["c-1"]}if(C.o==null)C.o=W.Q(0);if(C.Cc==null&&C.o!=null){C.Cc=C.o.slice(0);
C.Cc.fill(255)}if(C.J==null)C.J=C.o.slice(0);if(C.k==null)C.k=C.o.slice(0);J.buffer=W.Q(Math.max(0,J.rect.O()*4));
W.se(C,J.buffer);return P};iE.afg=function(K,E,x,c,J,i){var P=E.aa6(),_=new W.oA(E.rect.O());W.bT(E.buffer,_);
for(var y=0;y<P.length;y++){var a=P[y],j,e;if(a==-3)j=E.Sc.rect;else if(a==-2)j=E.z.rect;else j=E.rect;
if(a==-3)e=E.Sc.channel;if(a==-2)e=E.z.channel;if(a==-1)e=_.Cc;if(a==0)e=_.o;if(a==1)e=_.J;if(a==2)e=_.k;
x.UY(c,j.O()*3+4);var d=c;c=iE.aN(K,e,x.data,j.b,j.n,c,i[1]?3:1);var I=c-d;if(K)R.a4H(x.data,J+y*10+2,I);
else R.T5(x.data,J+y*6+2,I)}return c};iE.R4=function(K,E,x,c,J,i,P){var _=R.Xl(x,i);i+=2;return iE.Oy(K,E,x,c,J,i,_,P-2)};
iE.aN=function(K,E,x,c,J,i,P){R.xL(x,i,P);i+=2;i=iE.d8(K,E,x,c,J,i,P);return i};iE.Oy=function(K,E,x,c,J,i,P,_){var a,j=c*J*(E>>>3),e=j&3,d=j+(e==0?0:4-e);
if(_<=0){return W.Q(d)}if(P>3){console.log("unknown compression: "+P,c,J,c*J,_);P=0}if(P==0){if(i+d<=x.length)a=x.slice(i,i+d);
else{a=W.Q(j);for(var y=0;y<j;y++)a[y]=x[i+y]}i+=j}else if(P==1){a=W.Q(j);var I=K?4:2,v=iE.Cl(x,a,c,J,i,i+I*J,I);
i+=I*J+v}else if(P==2||P==3){var n=new Uint8Array(x.buffer,i+2,_-6),C=W.Q(d);UZIP.inflateRaw(n,C);if(P==3){if(E==8)for(var T=0;
T<J;T++){var o=T*c+1,s=o+c-1,Q=C[o-1];for(var B=o;B<s;B++){Q+=C[B];C[B]=Q&255}}else for(var T=0;T<J;
T++){var o=T*c+1,s=o+c-1,Q=C[2*o-2]<<8|C[2*o-1];for(var B=o;B<s;B++){var M=B<<1;Q+=C[M]<<8|C[M+1];C[M]=Q>>>8;
C[M+1]=Q&255}}}if(C.length==d)a=C;else{a=W.Q(d);for(var y=0;y<C.length;y++)a[y]=C[y]}}if(E==16){var S=W.Q(c*J);
for(var y=0;y<j;y+=2)S[y>>>1]=a[y];a=S}return a};iE.d8=function(K,E,x,c,J,i,P){var _=c*J;if(P==0)for(var y=0;
y<_;y++)x[i++]=E[y];else if(P==1){var a=K?4:2,j=iE.gv(E,x,c,J,i,i+a*J,a);i+=a*J+j}else if(P==2||P==3){if(P==3){var e=new Uint8Array(E.length);
for(var d=0;d<J;d++){var I=d*c+1,v=I+c-1,n=E[I-1];e[I-1]=n;for(var C=I;C<v;C++){e[C]=E[C]+(256-n)&255;
n=E[C]}}E=e}x[i]=120;x[i+1]=156;i+=2;var T=pako.deflateRaw(E,{ac8:4});R.atD(x,i,T);i+=T.length+4}else console.log("Unknown compression: "+P);
return i};iE.Cl=function(K,E,x,c,J,i,P){if(!(K instanceof Uint8Array)||!(E instanceof Uint8Array))throw"e";
var _=i,a=c|0;if(P==2)for(var y=0;y<a;y++){var j=R.Xl(K,J+(y<<1));iE.yP(K,i,j,E,y*x,x);i+=j}else for(var y=0;
y<a;y++){var j=R.s(K,J+(y<<2));iE.yP(K,i,j,E,y*x,x);i+=j}return i-_};iE.gv=function(K,E,x,c,J,i,P){var _=i;
if(P==2)for(var y=0;y<c;y++){var a=iE.ky(K,y*x,x,E,i);R.c$(E,J+y*2,a);i+=a}else for(var y=0;y<c;y++){var a=iE.ky(K,y*x,x,E,i);
R.T5(E,J+y*4,a);i+=a}return i-_};iE.ky=function(K,E,hr,x,c){var J,i,P,_,a,b0,j;_=E+hr;for(P=E,i=c;hr>0;
P=J,hr-=b0){j=hr<128?hr:128;if(P<=_-3&&K[P+1]==K[P+0]&&K[P+2]==K[P+0]){for(J=P+3;J<P+j&&K[J]==K[P+0];
)++J;b0=J-P;x[i++]=1+256-b0;x[i++]=K[P+0]}else{for(J=P;J<P+j;)if(J<=_-3&&K[J+1]==K[J+0]&&K[J+2]==K[J+0])break;
else++J;b0=J-P;x[i++]=b0-1;for(var y=0;y<b0;y++)x[i+y]=K[P+y];i+=b0}}return i-c};iE.yP=function(K,E,x,c,J,i){for(var P=0;
P<x;){var hr=K[E++];if(hr>=128){var _=K[E++],a=J+(257-hr);c.fill(_,J,a);J=a;P+=2}else{for(var y=0;y<=hr;
y++)c[J+y]=K[E+y];E+=hr+1;J+=hr+1;P+=1+1+hr}}};function iI(){}iI.m6=function(K,E,x){return;var c="",J=E;
while(J!=0){var i=J%1e3+"";while(i.length<3)i="0"+i;c=(c==""?i:i+" ")+c;J=Math.floor(J/1e3)}while(c.startsWith("0")&&c!="0")c=c.slice(1);
while(c.length<11)c=" "+c;console.log("===",c,"\t".repeat(K),": "+x)};iI.ajf=function(K){var E={C6:{}},c=0,J=0,_;
E.A0=!1;E.Re=8;var x=new Uint8Array(K);J=iI.TP(E,x,c);c=J;J=iI.gr(E,x,c);c=J;var i=R.s(x,c);c+=4+i;var P=E.A0?8:4;
if(E.A0)_=R.$S(x,c);else _=R.s(x,c);c+=P+_;J=iI.y2(E,x,c);return[{yA:new cS(0,0,E.b,E.n),data:E.buffer.buffer}]};
iI.Sg=function(K,E){E.A0=!1;E.Re=8;var x=new Uint8Array(K),c=0,J=0,Y,cR=!1,d0=!0,hN=!1,ey=0,i7=0;J=iI.TP(E,x,c);
iI.m6(0,J-c,"PSD Header");c=J;J=iI.gr(E,x,c);iI.m6(0,J-c,"Color Mode Data");c=J;J=iI.arg(E,x,c);iI.m6(0,J-c,"Image Resources");
c=J;J=iI.ahV(E,x,c);iI.m6(0,J-c,"Layer And Mask Info");c=J;J=iI.y2(E,x,c);iI.m6(0,J-c,"Merged Image");
c=J;if(E.B.length==0){var i=E.EY();i.yH("Background");E.B.push(i);i.buffer=E.buffer.slice(0);i.rect=new cS(0,0,E.b,E.n)}if(E.C6.r1005){E.B8=R.afc(E.C6.r1005,0)}if(E.C6.r1026){var x=E.C6.r1026;
for(var y=0;y<x.length;y+=2){var J=E.B[y>>>1];if(J)J.DP=R.Xl(x,y)}}if(E.C6.r1072){var x=E.C6.r1072;for(var y=0;
y<x.length;y++){var J=E.B[y];if(J)J.Yg=x[y]==1}}if(E.C6.r1032){E.J$=iI.Ac(E.C6.r1032,0)}delete E.C6.r1036;
E.lR(E.C6.r1039);if(E.C6.r1050){var P=R.s,_=E.C6.r1050,a=R.s(_,0);if(a==6){var j=4,e=R.nj(_,j);j+=16;
var d=R.HS(_,j);j+=4+d.length*2;var I=P(_,j);j+=4;var v=E.ea;for(var y=0;y<I;y++){var n=$.ie.IS(),T;
v.push(n);n=n.v;n.sliceID.v=P(_,j);j+=4;n.groupID.v=P(_,j);j+=4;var C=P(_,j);j+=4;if(C==1){T=P(_,j);
j+=4}var d=R.HS(_,j);j+=4+d.length*2;var o=P(_,j);j+=4;var s=[P(_,j),P(_,j+4),P(_,j+8),P(_,j+12)];j+=16;
$.ie.AD(v,v.length-1,s);var Q=n.url.v=R.HS(_,j);j+=4+Q.length*2;var X=n.null.v=R.HS(_,j);j+=4+X.length*2;
var B=n.Msge.v=R.HS(_,j);j+=4+B.length*2;var M=n.altTag.v=R.HS(_,j);j+=4+M.length*2;n.cellTextIsHTML.v=_[j]==1;
j++;var S=n.cellText.v=R.HS(_,j);j+=4+S.length*2;var f=P(_,j);j+=4;var F=P(_,j);j+=4;var G=_.slice(j,j+4);
j+=4;if(C!=2)v.pop()}}else if(a==8){var D={};gh.Y5(_,D,8,!1);var _=E.ea=D.slices.v;for(var y=0;y<_.length;
y++){if(_[y].v.origin.v.ESliceOrigin!="userGenerated"){_.splice(y,1);y--}}}}if(E.C6.r1058){var b=E.C6.r1058,H=UTIF.decode(b.buffer,{parseMN:!1,debug:!1});
c1.Jt(H[0],E.VQ);delete E.C6.r1058}if(E.C6.r1060){var q=R.__(E.C6.r1060);c1.akC(q,E.VQ);delete E.C6.r1060}if(E.C6.r1065){var x=E.C6.r1065;
E.s8={};gh.Y5(x,E.s8,4,!1)}if(E.C6.r1069){var x=E.C6.r1069,O=[];for(var y=2;y<x.length;y+=4){var T=R.s(x,y);
for(var w=0;w<E.B.length;w++){var J=E.B[w];if(J.add.lyid==T&&J.add.lsct!=3)O.push(w)}}E.g=O}if(E.C6.r1025){var V=E.C6.r1025;
delete E.C6.r1025;var t=aS.L0(V,0,V.length,E.b,E.n),m=new Z.Wf;m.i=t;E.Qg[0]=gD.bv("Working Path",{vmsk:m})}var g=E.add.pths;
delete E.add.pths;var A=E.C6.r3000;if(A){Y={};gh.Y5(A,Y,4,!1);delete E.C6.r3000}if(g){var k=g.pathSymmetrySelectedPath;
if(k){var z=g.pathList.v[k.v].v,p=z.pathUnicodeName.v;E.W3=p.startsWith("Tile Symmetry")}}for(var L=0;
L<=997;L++){var N="r"+(2e3+L),V=E.C6[N];if(V==null)break;var t=aS.L0(V,0,V.length,E.b,E.n),p="Path "+L;
if(g){var gC=g.pathList.v[L].v;p=gC.pathUnicodeName.v;if(p=="Tile Symmetry 1")continue}var r=Y?Y.keyRootDescriptorList.v[L].v.keyDescriptorList.v:Z.yt(t),m=new Z.Wf;
m.i=t;E.Qg.push(gD.bv(p,{vmsk:m,vogk:r}));delete E.C6[N]}delete E.A0;if(E.C6.r4000){E.rx=W.rx.Sg(E.C6.r4000)}var h=E.C6.r7000,l=E.C6.r7001;
if(h){var g5=R.__(h);E.ej=iI.h3(g5)}if(l){var g5=R.__(l);E.$o=iI.ME(g5)}delete E.C6.r7000;delete E.C6.r7001;
var fm=new cS(0,0,E.b,E.n),dC=E.add.Txt2,ex=dC;if(ex){ex=ex.TN;if(ex._DocumentResources==null)ex=kt.a1B(ex)}var cr=-1;
for(var y=0;y<E.B.length;y++){var J=E.B[y],ik=J.add.lsct,hd=J.add.vmsk,df=J.FA();if(ik==fV.Xx){ey++;
J.add.lspf=0}else if(ik==fV.Bm||ik==fV.wg)ey--;if(J.name==""){J.name="Layer "+(y+1);hN=!0}if(hN&&J.wC()&&J.Vk=="norm")J.Vk="pass";
if(J.St()&&J.Xe(E).z){var bQ=J.Xe(E);bQ.z.isEnabled=J.add.SoLd.filterFX.v.filterMaskEnable.v}if(hd&&J.Au()){var is=dz.Ae.default;
if(J.add.vstk==null)J.add.vstk=JSON.parse(JSON.stringify(is));else{var bi="strokeStyleLineDashSet";if(J.add.vstk[bi]==null)J.add.vstk[bi]=JSON.parse(JSON.stringify(is[bi]))}J.add.vstk.strokeStyleResolution.v=E.B8}if(hd&&(J.add.vogk==null||W.r.kT(hd.i)!=J.add.vogk.length))J.yt();
if(!1){var jX=J.add.vogk,eS=!0;for(var bN=0;bN<jX.length;bN++){var h9=jX[bN].v.keyShapeInvalidated;if(h9==null||h9.v==!1)eS=!1}if(eS)J.yt()}if(J.add.SoLd&&J.rect.um()){console.log("redrawing smart instance");
J.mQ(E)}if(df==null&&J.z!=null){if(J.z._r==!1){J.z._r=!0;J.Sc=J.z.clone()}}df=J.FA();if(J.Oa){var is=J.Oa,m=hd;
if(df){df.Kq=is[0];df.Zs=is[1]}if(m){m.Kq=is[2];m.Zs=is[3]}J.Oa=null}if(df!=null&&hd!=null&&(df.Zs+hd.Zs!=0||df.Kq+hd.Kq!=2*255))J.DY(E);
else if(hd!=null&&!J.Au())J.DY();else if(df&&df.Kq!=255&&J.Au())J.DY(E);var bz=J.add.artb;if(bz&&bz.artboardBackgroundType==null)bz.artboardBackgroundType={t:"long",v:1};
if(bz&&ey!=0)delete J.add.artb;var i0=J.add.vstk;if(J.Au()&&(J.rect.um()||hd&&hd.Zs!=0||i0&&!i0.fillEnabled.v&&(!i0.strokeEnabled.v||i0.strokeStyleLineWidth.v.val==0)))J.if(E);
if(J.add.TySh){cR=!0;if(!J.rect.um())d0=!1}if(J.add.TySh&&ex){cr++;var hp=J.add.TySh.kd,hY=ev.Cn(hp),ji=ex._DocumentObjects._TextObjects;
if(ji.length<=cr){console.log("Txt2 incomplete");continue}var aM=ji[cr]._Model,a1=aM._StyleRun?aM._StyleRun._RunArray:[],fi=hp.EngineDict.StyleRun.RunArray;
for(var jJ=0;jJ<fi.length;jJ++){var gg=fi[jJ].StyleSheet.StyleSheetData;if(a1[jJ]==null)continue;var iN=a1[jJ]._RunData._StyleSheet._Features;
if(iN&&iN._BaselineDirection)gg.BaselineDirection=parseInt(iN._BaselineDirection.slice(1));if(iN&&iN._FillBackgroundFlag)gg._FillBackgroundFlag=iN._FillBackgroundFlag;
if(iN&&iN._FillBackgroundColor){var ad=iN._FillBackgroundColor,h6=ad._Color._Values.slice(0);for(var w=0;
w<4;w++)h6[w]=parseFloat(h6[w].slice(1));gg._FillBackgroundColor={Type:1,Values:h6}}if(iN&&iN._LineWidth)gg._LineWidth=parseFloat(iN._LineWidth.slice(1))}var iY=hp.EngineDict.ParagraphRun.RunArray,kh=aM._ParagraphRun._RunArray;
if(kh==null)kh=[];var gN=Math.min(kh.length,iY.length);for(var w=0;w<gN;w++){var aT=iY[w].ParagraphSheet.Properties,iv=ex._DocumentResources._ParagraphSheetSet._Resources,fs=kh[w]._RunData._ParagraphSheet;
if(typeof fs=="string")fs=iv[parseInt(fs.slice(1))]._Resource;var gm=fs._Parent==null?fs:iv[parseInt(fs._Parent.slice(1))]._Resource;
fs=fs._Features;gm=gm._Features;var g8=fs._ParagraphDirection;if(g8==null)g8=gm._ParagraphDirection;
if(g8)aT._Direction=parseInt(g8.slice(1));if(fs._ComposerEngine)aT._ComposerEngine=parseInt(fs._ComposerEngine.slice(1))}if(aM._AlternateGlyphRun){var kh=aM._AlternateGlyphRun._RunArray,gN=kh.length,b_=hp.EngineDict.AlternateGlyphRun=ev.a8f();
for(var w=0;w<gN;w++){var fs=kh[w],ko={},gk=fs._RunData._AlternateGlyphSheet;if(gk)ko.Glyph=parseInt(gk._Glyph.slice(1));
b_.RunArray.push(ko);b_.RunLengthArray.push(parseInt(fs._Length.slice(1)))}}var bx=ex._DocumentResources,ai=bx._TextFrameSet._Resources,hf=ai[cr]._Resource,aa=hf._Data,iS=new iQ(1,0,0,1,0,0);
if(hf._0){var hl=parseFloat(hf._0[0].slice(1)),jR=parseFloat(hf._0[1].slice(1));iS.translate(hl,jR)}if(hY){iS.translate(hY[0],hY[1]);
ev.sV(hp,[0,0,hY[2]-hY[0],hY[3]-hY[1]])}else{if(hf._Bezier&&hf._Bezier._Points){var t=hf._Bezier._Points,hl=parseFloat(t[0].slice(1)),jR=parseFloat(t[1].slice(1));
if(hl!=0||jR!=0){iS.translate(hl,jR)}}}if(hf._Data&&hf._Data._FrameMatrix){var jC=hf._Data._FrameMatrix;
jC=jC.map(function(dR){return parseFloat(dR.slice(1))});iS.concat(new iQ(jC[0],jC[1],jC[2],jC[3],jC[4],jC[5]))}iS.concat(J.add.TySh.u);
J.add.TySh.u=iS;var o=aa._Type?parseInt(aa._Type.slice(1)):0;if(o==2||o==1&&aa._PathData&&aa._PathData._Spacing=="i-3")if(hf._Bezier){var h8=function(dR){return parseFloat(dR.slice(1))},t=hf._Bezier._Points.map(h8);
if(hY)W.p.u(t,new iQ(1,0,0,1,-hY[0],-hY[1]),t);var cW=aa._PathData?aa._PathData._Reversed:!1,kn=aa._TextOnPathTRange;
if(kn==null)kn=["f-3","f-3"];hp.Curve={Points:t,TextOnPathTRange:kn.map(h8),Reversed:cW==null?!1:cW};
J.add.TySh.add={vmsk:new Z.Wf,vogk:null};ev.M6(J.add.TySh)}if(aa._LineOrientation=="i2")hp._LineOrientation=2}}$.TE.l_(E,!0);
var fQ={},jq=[];for(var y=0;y<E.B.length;y++){var iJ=E.B[y].add.lyid;if(iJ==null)continue;var i7=Math.max(i7,iJ);
if(fQ[iJ]!=null)jq.push(y);else fQ[iJ]=!0}for(var y=0;y<jq.length;y++)E.B[jq[y]].add.lyid=i7+1+y};iI.Ac=function(K,E){var x=R.s(K,E+12),c=[];
for(var y=0;y<x;y++){var J=K[E+16+y*5+4],i=R.Jv(K,E+16+y*5)/32;c.push([J,i])}return c};iI.h3=function(K){var E=new DOMParser,x=E.parseFromString(K,"text/xml").firstChild.children[0],c=x.getElementsByTagName("variables");
if(c.length==0)return[];c=c[0].children;var J=[],i="varName trait docRef placementMethod align valign clip".split(" ");
for(var P=0;P<c.length;P++){var _=c[P],a={};J.push(a);for(var j=0;j<i.length;j++){var e=i[j],d=_.getAttribute(e);
if(d==null)continue;a[e]=d}}return J};iI.ME=function(K){var E=new DOMParser,x=E.parseFromString(K,"text/xml").firstChild.children,c=[[]];
if(x==null)return c;for(var y=0;y<x.length;y++){var J=x[y],i=[];c.push(i);for(var P=0;P<J.children.length;
P++){var _=J.children[P];if(y==0)c[0].push(_.tagName);i.push(_.textContent)}}return c};iI.sP=function(K,E,x){$.TE.JY(K);
$.TE.l_(K,!1);K.A0=x[3]==!0;var c=[],J=[],n=0,T=1,M=16,hN=0;for(var y=0;y<K.B.length;y++){var i=K.B[y];
if(i.St()&&i.Xe(K).z){i.add.SoLd.filterFX.v.filterMaskEnable.v=i.Xe(K).z.isEnabled}if(i.add.TySh){var P=i.add.TySh.kd,_=ev.p1(P);
i.add.TySh.G8.TextIndex={t:"long",v:c.length};c.push(P);if(_==2)ev.Be(i.add.TySh)}var a=i.add.vstk;if(a)a.strokeStyleResolution.v=K.B8;
if(i.Au()||x[2]&&i.add.SoLd){J[y]=[i.rect,i.buffer];i.rect=new cS;i.buffer=W.Q(0);if(i.add.SoLd){var j=i.Xe(K);
if(j!=null){J[y].push(j.buffer);j.buffer=W.Q(j.buffer.length)}}}}if(c.length>0){var e=K.add.Txt2?K.add.Txt2.TN:null;
if(K.add.Txt2==null)K.add.Txt2={};K.add.Txt2.TN=iu.aqc(c,null,e)}var d=[K.add.lnk2,K.add.FEid,K.add.Patt],I=K.a8a(K.B);
K.a8Q(I);K.C6.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);R.ay9(K.C6.r1005,0,K.B8);R.ay9(K.C6.r1005,8,K.B8);
if(K.nZ()){K.C6.r1022=new Uint8Array([0,3+K.Un.length-1,0])}else delete K.C6.r1022;var v=new Uint8Array(K.B.length*2),C=new Uint8Array(K.B.length);
for(var y=0;y<K.B.length;y++){var i=K.B[y],o=i.DP,s=i.Yg?1:0;R.c$(v,y*2,o);C[y]=s;if(o>n)n=o;if(s==0)T=0}if(n>0)K.C6.r1026=v;
if(T<1)K.C6.r1072=C;var Q=K.J$,X=Q.length,B=K.C6.r1032=W.Q(16+5*X,!0);R.T5(B,0,1);R.T5(B,4,576);R.T5(B,8,576);
R.T5(B,12,X);for(var y=0;y<X;y++){R.m_(B,M,Math.round(Q[y][1]*32));B[M+4]=Q[y][0];M+=5}if(x[0]!=!0){var S=[K.buffer,new cS(0,0,K.b,K.n)],f=0;
W.gX(S);while(S[f+1].O()>200*200)f+=2;var F=gr.Zf("jpg"),G=S[f+1],D=new Uint8Array(F.bu([[S[f].buffer]],G.b,G.n)),B=K.C6.r1036=W.Q(28+D.length);
R.T5(B,0,1);R.T5(B,4,G.b);R.T5(B,8,G.n);R.T5(B,12,G.b*3);R.T5(B,16,G.O()*3);R.T5(B,20,D.length);R.c$(B,24,24);
R.c$(B,26,1);B.set(D,28)}var b=W.m4(K.buffer),H=[];if(b)H.push({name:"Transparency",Hw:{o:255,J:0,k:0},g8:100,cl:1});
H=H.concat(K.Un);delete K.C6.r1045;delete K.C6.r1006;delete K.C6.r1077;var q=new hK;M=0;var O=new Uint8Array(4+H.length*13);
O[3]=1;for(var y=0;y<H.length;y++){var w=H[y],V=w.name+"\0";R.kr(q,M,V);M+=4+V.length*2;var t=4+y*13;
jn.WN(O,t,w.Hw);O[t+11]=w.g8;O[t+12]=w.cl}K.C6.r1045=q.data.slice(0,M);K.C6.r1077=O;for(var y=0;y<K.ea.length;
y++)K.ea[K.ea.length-y-1].v.sliceID.v=2+y*3;var m={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:K.ea}},q=new hK;
R.oj(q,0,8);R.oj(q,4,16);var g=gh.qz(q,m,8);K.C6.r1050=q.data.slice(0,g+8);var q=new hK;R.oj(q,0,16);
var g=gh.qz(q,K.s8,4);K.C6.r1065=q.data.slice(0,g+4);var Y=K.g;B=K.C6.r1069=W.Q(2+Y.length*4,!0);R.c$(B,0,Y.length);
for(var y=0;y<Y.length;y++)R.T5(B,2+4*y,K.B[Y[y]].add.lyid);delete K.C6.r1058;delete K.C6.r1060;if(Object.keys(K.VQ).length!=0){var A=[{t274:[1],t282:[[72,1]],t283:[[72,1]],t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
c1.KI(K.VQ,A[0],x[0]&&x[1]);K.C6.r1058=new Uint8Array(UTIF.encode(A));var k=c1.agr(K.VQ);K.C6.r1060=R.zR(k)}var z=[],p=[],L=K.Qg.slice(0);
if(K.W3){var N=aS.tX([{type:6},{type:8,all:0},{type:3,length:5,frule:1,third:2,prmA:0,prmB:0},{type:5,c:[0,0,0,0,0,0]},{type:5,c:[20,0,20,0,20,0]},{type:5,c:[20,20,20,20,20,20]},{type:5,c:[0,20,0,20,0,20]},{type:5,c:[0,0,0,0,0,0]}]),gC=new Z.Wf;
gC.i=N;L.push(gD.bv("Tile Symmetry 1",{vmsk:gC,vogk:Z.yt(N)}))}for(var y=0;y<L.length;y++){var r=L[y],N=r.add.vmsk.i;
if(y==0&&N.length==2)continue;var h=W.Q(N.length*26);aS.eO(h,0,N,K.b,K.n);var l=y==0?1025:2e3+y-1;K.C6["r"+l]=h;
if(y!=0){var g5={classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:r.name}};if(r.name=="Tile Symmetry 1")g5.pathSymmetryClass={t:"Objc",v:{classID:"pathSymmetryClass",pathSymmetryMode:{t:"enum",v:{pathSymmetryModeEnum:"pathSymmetryModeRectangularTile"}},pathSymmetryCount:{t:"long",v:1}}};
z.push({t:"Objc",v:g5});p.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:r.add.vogk}}})}}if(z.length!=0){K.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:z}};
if(K.W3)K.add.pths.pathSymmetrySelectedPath={t:"long",v:z.length-1};p={classID:"null",keyRootDescriptorList:{t:"VlLs",v:p}};
var q=new hK;R.oj(q,0,16);var g=gh.qz(q,p,4);K.C6.r3000=q.data.slice(0,g+4)}else{delete K.add.pths;delete K.C6.r3000}if(K.ej.length!=0){var fm="<variableSets xmlns=\"http://ns.adobe.com/Variables/1.0/\">\n"+"<variableSet locked=\"none\" varSetName=\"binding1\">\n"+"<variables>";
for(var y=0;y<K.ej.length;y++){var dC=K.ej[y],ex=[];for(var l in dC)ex.push(l+"=\""+dC[l]+"\"");fm+="<variable "+ex.join(" ")+">\n</variable>\n"}fm+="</variables>\n</variableSet>\n</variableSets>";
K.C6.r7000=R.zR(fm)}if(K.$o.length!=0){var fm="<sampleDataSets psdPath=\""+K.name+"\">\n";for(var y=1;
y<K.$o.length;y++){var cR=K.$o[y];fm+="<sampleDataSet dataSetName=\"Data Set "+y+"\">\n";for(var d0=0;
d0<cR.length;d0++)fm+="<"+K.$o[0][d0]+">"+cR[d0].replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</"+K.$o[0][d0]+">\n";
fm+="</sampleDataSet>\n"}fm+="</sampleDataSets>";K.C6.r7001=R.zR(fm)}hN=iI.a2t(K,E,hN,3+H.length);hN=iI.a1A(K,E,hN);
hN=iI.a7i(K,E,hN);hN=iI.ay0(K,E,hN,x,b);hN=iI.a0t(K,E,hN,x[0],b);var ey=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,7e3,7001];
for(var y=0;y<ey.length;y++)delete K.C6["r"+ey[y]];for(var y=0;y<K.B.length;y++){var i=K.B[y];if(i.Au()||x[2]&&i.add.SoLd){i.rect=J[y][0];
i.buffer=J[y][1];if(J[y][2]){var j=i.Xe(K);J[y].push(j.buffer);j.buffer=J[y][2]}}}K.a8Q(d);$.TE.l_(K,!0);
delete K.A0;return hN};iI.TP=function(K,E,x){var c=R.pr(E,x,4);x+=4;if(c!="8BPS")alert("invalid header signature: "+c);
var J=R.Xl(E,x);x+=2;K.A0=J==2;if(J!=1&&J!=2)alert("invalid version: "+J);x+=6;K.nv=R.Xl(E,x);x+=2;K.n=R.Jv(E,x);
x+=4;K.b=R.Jv(E,x);x+=4;K.Re=R.Xl(E,x);x+=2;K.ln=R.Xl(E,x);x+=2;return x};iI.a2t=function(K,E,x,c){E.UY(0,64);
R.Dx(E.data,x,"8BPS");x+=4;R.c$(E.data,x,K.A0?2:1);x+=2;R.T5(E.data,x,0);x+=4;R.c$(E.data,x,0);x+=2;
R.c$(E.data,x,c);x+=2;R.m_(E.data,x,K.n);x+=4;R.m_(E.data,x,K.b);x+=4;R.c$(E.data,x,8);x+=2;R.c$(E.data,x,3);
x+=2;return x};iI.gr=function(K,E,x){var c=R.Jv(E,x);x+=4;if(c!=0)K.HW=E.slice(x,x+c);x+=c;return x};
iI.a1A=function(K,E,x){R.wa(E,x,0);x+=4;return x};iI.arg=function(K,E,x){var c=R.s(E,x),J=0;x+=4;var i=[];
while(J<c){var P=R.pr(E,x+J,4);J+=4;var _=R.Xl(E,x+J);J+=2;var a=R.ym(E,x+J);J+=a.length;if(P=="MeSa"&&(_==7e3||_==7001)){}else if(P!="8BIM"){i.push(_);
console.log("Unknown Image Resources signature: "+P+", ID: "+_)}var j=R.s(E,x+J);J+=4;if(K.C6["r"+_]!=null)console.log("--- two resources with same ID");
K.C6["r"+_]=R.w$(E,x+J,j);J+=j+(j&1)}for(var y=0;y<i.length;y++)delete K.C6["r"+i[y]];return x+c};iI.a7i=function(K,E,x){var c=x,P=0;
x+=4;var J=[];for(var i in K.C6){J.push(parseInt(i.slice(1)))}J.sort(function(d,I){return d-I});for(var y=0;
y<J.length;y++){var _=J[y];R.O1(E,x+P,_==7e3||_==7001?"MeSa":"8BIM");P+=4;R.j2(E,x+P,_);P+=2;var a=R.kI(E,x+P,"");
P+=a;var j=K.C6["r"+_],e=j.length;R.oj(E,x+P,e);P+=4;R.IL(E,x+P,j);P+=e;if(e%2==1)P++}R.oj(E,c,P);return x+P};
iI.ahV=function(K,E,x){var c=x,J,i,P=K.A0?8:4;if(K.A0)J=R.$S(E,x);else J=R.s(E,x);x+=P;if(J==0)return c+P;
i=iI.an5(K,E,x);iI.m6(1,i-x,"Layer Info");x=i;i=iI.a3E(K,E,x);iI.m6(1,i-x,"Global Layer Mask Info");
x=i;i=i5.oQ(E,x,c+P+J,K.add,K.A0,K);iI.m6(1,i-x,"Project Add Info");x=i;return c+P+J};iI.ay0=function(K,E,x,c,J){var i=x;
R.oj(E,x,0);x+=4;if(K.A0){R.oj(E,x,0);x+=4}x=iI.az6(K,E,x,c,J);x=iI.awd(K,E,x);x=i5.H7(E,x,K.add,K.A0,K);
if(K.A0)R.xD(E,i,x-i-8);else R.oj(E,i,x-i-4);return x};iI.an5=function(K,E,x){var c,J=K.A0?8:4;if(K.A0)c=R.$S(E,x);
else c=R.s(E,x);x+=J;if(c!=0)iI.lz(K,E,x);return x+c};iI.lz=function(K,E,x){var c=R.ZM(E,x);x+=2;var J=Math.abs(c);
for(var y=0;y<J;y++){var i=new Z;x=i8.Sg(i,K,E,x);K.B[y]=i}var P=new cS(0,0,K.b,K.n);for(var y=0;y<J;
y++){var _=K.B[y],a=_.FA(),j=iE.Sg(_,K,E,x);if(j-x>8)iI.m6(2,j-x,"Lay: "+_.getName());x=j;iI.Jr(_,P);
if(a)iI.Jr(a,P)}};iI.Jr=function(K,E){};iI.az6=function(K,E,x,c,J){var i=x,P=K.A0;x+=P?8:4;x=iI.abh(K,E,x,c,J);
var _=x-i-(P?8:4);if(_%2!=0)_++;if(P)R.xD(E,i,_);else R.oj(E,i,_);return i+_+(P?8:4)};iI.abh=function(K,E,x,c,J){var i=K.B.length;
R.iZ(E,x,J?-i:i);x+=2;var P=[];for(var y=0;y<i;y++)x=i8.sP(K.B[y],K,E,x,P);for(var y=0;y<i;y++)x=iE.by(K.A0,K.B[y],E,x,P[y],c);
return x};iI.a3E=function(K,E,x){var c=R.s(E,x);x+=4;x+=c;return x};iI.awd=function(K,E,x){var c=R.oj(E,x,0);
x+=4;return x};iI.y2=function(K,E,x){var c=K.ln,J="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),i=[1,1,1,3,4,1,1,3],P,C;
if(c!=3){if(c==1||c==2||c==4)console.log("Project will be converted from "+J[c]+" to "+J[3]+" mode.");
else{alert("Color mode "+J[c]+" is not supported yet :(")}if(c==4)K.add.fcmy=1}if(K.C6.r1045){P=[];var _=K.C6.r1045,a=0;
while(a<_.length){var j=R.Qj(_,a);P.push(j);a+=4+2+j.length*2}}var e=i[c]+(P==null||P[0]=="Transparency"?1:0),d=K.b,I=K.n,v=d*I,n=R.Xl(E,x);
x+=2;K.buffer=W.Q(v*4);W._m(K.buffer,4278190080);var T=x;for(var o=0;o<K.nv;o++){if(n==0){C=iE.Oy(K.A0,K.Re,E,d,I,x,n);
x+=v*(K.Re>>>3)}else if(n==1){C=W.Q(v);var s=K.A0?4:2;if(o==0)x+=K.nv*I*s;x+=iE.Cl(E,C,d,I,T+o*I*s,x,s)}else{console.log("unknown compression of image data: ",n);
return}if(o<e){W.Mz(C,K.buffer,o);if(K.nv==1&&o==0){W.Mz(C,K.buffer,1);W.Mz(C,K.buffer,2)}}else{var Q=new Z.vW,X=o-e,B=o-i[K.ln];
Q.name=P?P[B]:"Alpha";if(Q.name=="Quick Mask"){Q.U1=!0;K.N9.push(X)}Q.rect=new cS(0,0,d,I);Q.channel=C;
Q.color=0;Q.oo();K.Un[X]=Q;if(K.C6.r1077){var _=K.C6.r1077.slice(4+B*13);Q.Hw=jn.Af(_,0);Q.g8=_[11];
Q.cl=_[12];if(Q.cl==2)Q.U1=!0}}}K.nv=4;if(K.ln==2)for(var y=0;y<v;y++){var M=y*4,S=K.buffer[M];K.buffer[M]=K.HW[0+S];
K.buffer[M+1]=K.HW[256+S];K.buffer[M+2]=K.HW[512+S]}return x};iI.a0t=function(K,E,x,c,J){var i=1,P=16,_=K.b,a=K.n,e,d;
R.j2(E,x,i);x+=2;var j=_*a;if(!c){d=new W.oA(_*a);W.bT(K.buffer,d);var I=d.o,v=d.J,n=d.k,C=d.Cc;for(var y=0;
y<j;y++){var T=C[y]*(1/255);I[y]=~~(I[y]*T+255*(1-T));v[y]=~~(v[y]*T+255*(1-T));n[y]=~~(n[y]*T+255*(1-T))}}else e=W.Q(j);
var o=[e,e,e];if(!c)o=[d.o,d.J,d.k];if(J)o.push(c?e:d.Cc);for(var y=0;y<K.Un.length;y++){o.push(K.Un[y].zw(new cS(0,0,K.b,K.n)))}var s=x;
for(var Q=0;Q<o.length;Q++){E.UY(x,_*a+4);e=o[Q];if(i==0||i==2||i==3)x=iE.d8(K.A0,e,E.data,_,a,x,i);
else{var X=K.A0?4:2;if(Q==0)x+=o.length*a*X;var B=x;x+=iE.gv(e,E.data,_,a,s+Q*a*X,x,X)}}return x};function b6(){}b6.Sg=function(K){var E={};
b6.YP(K,E,0,0);return E};b6.sP=function(K,E){var x=0;x=b6.eq(K,E,x,0);return x};b6.YP=function(K,E,x,c){while(K[x]!="<".charCodeAt(0))x++;
x+=2;while(!0){if(K[x]=="/".charCodeAt(0)){x++;var J=R.indexOf(K," ".charCodeAt(0),x,x+50),i=R.indexOf(K,"\n".charCodeAt(0),x,x+50);
if(i==-1)i=Infinity;if(J==-1)J=Infinity;var P=Math.min(i,J),_=R.pr(K,x,P-x),a=b6.mR(K,P+1,c+1,_);E[_]=a.Z;
x=P+1;x+=a.size}else if(K[x]==">".charCodeAt(0)){x+=2;break}else{var j=K[x];if(j==10||j==9||j==32)x++;
else{console.log("unknown byte: "+j+", char: "+String.fromCharCode(j),x);x++}}}return x};b6.eq=function(K,E,x,c){R.O1(E,x,"<<\n");
x+=3;var J=b6.aeX;for(var i in K){R._N(E,x,"\t".charCodeAt(0),c+1);x+=c+1;R.O1(E,x,"/"+i);x+=1+i.length;
if(J(K[i])||K[i]instanceof Array){R.O1(E,x," ");x++}else{R.O1(E,x,"\n");x++;R._N(E,x,"\t".charCodeAt(0),c+1);
x+=c+1}x=b6.La(K[i],E,x,c+1);R.O1(E,x,"\n");x++}R._N(E,x,"\t".charCodeAt(0),c);x+=c;R.O1(E,x,">>");x+=2;
return x};b6.mR=function(K,E,x,c){var J=E,i={size:0,Z:0};while(!0){while(K[E]==" ".charCodeAt(0)||K[E]=="\t".charCodeAt(0)||K[E]=="\n".charCodeAt(0))E++;
if(K[E]=="<".charCodeAt(0)){i.Z={};E=b6.YP(K,i.Z,E,x+1);break}else if(K[E]=="(".charCodeAt(0)){E+=3;
var P=E;while(!0){if(K[P-1]!="\\".charCodeAt(0)&&K[P]==")".charCodeAt(0)&&(K[P+1]=="\n".charCodeAt(0)||K[P+1]==" ".charCodeAt(0)))break;
else P++}i.Z=R.RF(K,E,P);E=P+2;break}else if(K[E]=="[".charCodeAt(0)){E++;i.Z=[];while(K[E]==" ".charCodeAt(0)||K[E]=="\t".charCodeAt(0)||K[E]=="\n".charCodeAt(0))E++;
while(K[E]!="]".charCodeAt(0)){var _=b6.mR(K,E,x+1,c);i.Z.push(_.Z);E+=_.size;while(K[E]==" ".charCodeAt(0)||K[E]=="\t".charCodeAt(0)||K[E]=="\n".charCodeAt(0))E++}E++;
break}else{var a=R.indexOf(K," ".charCodeAt(0),E,E+50),j=R.indexOf(K,"\n".charCodeAt(0),E,E+50);if(j==-1)j=Infinity;
if(a==-1)a=Infinity;var e=R.pr(K,E,Math.min(a,j)-E).trim(),d=parseFloat(e);if(!isNaN(d)){i.Z=parseFloat(e);
E=Math.min(a,j)+1;break}else if(e=="true"||e=="false"){i.Z=e=="true";E=Math.min(a,j)+1;break}else if(e=="null"||e=="NaN"||e=="undefined"){i.Z=0;
E=Math.min(a,j)+1;break}else{console.log("unknown identifier: "+e);throw"e"}E=Math.min(a,j)+1}}i.size=E-J;
return i};b6.La=function(K,E,x,c){if(K instanceof Array){var J=K.length==0||typeof K[0]=="number";if(J){R.O1(E,x,"[ ");
x+=2;for(var y=0;y<K.length;y++){var i=K[y]+" ";R.O1(E,x,i);x+=i.length}R.O1(E,x,"]");x+=1}else{R.O1(E,x,"[\n");
x+=2;for(var y=0;y<K.length;y++){R._N(E,x,"\t".charCodeAt(0),c);x+=c;x=b6.La(K[y],E,x,c);R.O1(E,x,"\n");
x++}R._N(E,x,"\t".charCodeAt(0),c);x+=c;R.O1(E,x,"]");x+=1}}else if(K instanceof Object){x=b6.eq(K,E,x,c)}else if(typeof K=="string"){R.O1(E,x,"(");
x++;R._N(E,x,254);x++;R._N(E,x,255);x++;x=R.jl(E,x,K);R.O1(E,x,")");x+=1}else{var i=K+"";R.O1(E,x,i);
x+=i.length}return x};b6.aeX=function(K){var E=typeof K;return E=="string"||E=="number"||E=="boolean"};
function iA(){}iA.Sg=function(K){var E={};iA.bq(K,E,0,0);return E};iA.sP=function(K,E){var x=0;R.O1(E,x," ");
x++;x=iA.e$(K,E,x,0);x--;E.UY(x,2);E.data[x]=E.data[x+1]=0;x+=2;return x};iA.YP=function(K,E,x,c){while(K[x]!="<".charCodeAt(0)){x++;
console.log("\u0161ipka")}x+=2;x=iA.bq(K,E,x,c);return x};iA.eq=function(K,E,x,c){R.O1(E,x,"<< ");x+=3;
x=iA.e$(K,E,x,c);R.O1(E,x,">>");x+=2;return x};iA.oC=function(K){return K==9||K==10||K==32};iA.bq=function(K,E,x,c){while(!0){while(iA.oC(K[x])||K[x]==0)x++;
if(x>=K.length)break;if(K[x]=="/".charCodeAt(0)){x++;var J=x;while(!iA.oC(K[J]))J++;var i=R.pr(K,x,J-x);
x=J+1;var P=iA.mR(K,x,c,i);E["_"+i]=P.Z;x+=P.size}else if(K[x]==">".charCodeAt(0)){x+=2;break}else{var _=K[x];
console.log(R.pr(K,x,x+100));console.log("unknown byte: "+_+", char: "+String.fromCharCode(_)+", offset: "+x);
x++;throw"e";return-1}}return x};iA.e$=function(K,E,x,c){for(var J in K){var i=J.substring(1,J.length);
R.O1(E,x,"/"+i);x+=1+i.length;R.O1(E,x," ");x++;x=iA.La(K[J],E,x,c+1);R.O1(E,x," ");x++}return x};iA.mR=function(K,E,x,c){var J=E,i={type:"",size:0,Z:0};
while(iA.oC(K[E]))E++;if(K[E]=="<".charCodeAt(0)){i.type="Object";i.Z={};E=iA.YP(K,i.Z,E,x+1)}else if(K[E]=="(".charCodeAt(0)){i.type="String";
E++;if(K[E]==")".charCodeAt(0)){i.Z="e";E++}else{E+=2;var P=E,_=0;while(!0){if(K[P]==")".charCodeAt(0)&&K[P-1]!="\\".charCodeAt(0))break;
else P+=1}i.Z="s"+R.RF(K,E,P);E=P+2}}else if(K[E]=="[".charCodeAt(0)){E++;i.Z=[];i.type="Array";while(iA.oC(K[E]))E++;
while(K[E]!="]".charCodeAt(0)){var a=iA.mR(K,E,x+1,c);if(a==-1)return-1;i.Z.push(a.Z);E+=a.size;delete a.size;
while(iA.oC(K[E]))E++}E++}else{var j=E;while(!iA.oC(K[j]))j++;var e=R.pr(K,E,j-E),d=parseFloat(e);if(!isNaN(d)&&e.indexOf(".")!=-1){i.type="Float";
var I=parseFloat(e);i.Z="f"+I}else if(!isNaN(d)&&e.indexOf(".")==-1){i.type="Integer";i.Z="i"+parseInt(e)}else if(e=="true"||e=="false"){i.type="Boolean";
i.Z=e=="true"}else if(e.charAt(0)=="/"){i.type="BString";i.Z=e}else if(e=="NaN"||e=="undefined"){i.type="Float";
i.Z="f0"}else{console.log("unknown value",JSON.stringify(e));throw"e"}E=j+1}i.size=E-J;return i};iA.ayH=function(K){if(K==Math.round(K))return K+".0";
var E=K.toFixed(5);while(E.endsWith("0")&&E[E.length-2]!=".")E=E.slice(0,E.length-1);if(0<K&&K<1)E=E.slice(1);
if(-1<K&&K<0)E="-"+E.slice(2);return E};iA.La=function(K,E,x,c){var J=typeof K=="string"?K.charAt(0):"";
if(K instanceof Array){R.O1(E,x,"[ ");x+=2;for(var y=0;y<K.length;y++){x=iA.La(K[y],E,x,c);R.O1(E,x," ");
x++}R.O1(E,x,"]");x+=1}else if(K instanceof Object){x=iA.eq(K,E,x,c)}else if(J=="e"){R.O1(E,x,"()");
x+=2}else if(J=="s"){R.O1(E,x,"(");x++;R._N(E,x,254);x++;R._N(E,x,255);x++;x=R.jl(E,x,K.substring(1));
R.O1(E,x,")");x++}else if(J=="/"){R.O1(E,x,K);x+=K.length}else if(J=="f"){var i=parseFloat(K.substring(1)),P=iA.ayH(i);
R.O1(E,x,P);x+=P.length}else if(J=="i"){R.O1(E,x,K.substring(1));x+=K.length-1}else{var P=K+"";R.O1(E,x,P);
x+=P.length}return x};function R(){}R.a2f=function(hr){var K="";for(var y=3;y>=0;y--)K+=String.fromCharCode(hr>>y*8&255);
return K};R.awo=function(K){var hr=0;for(var y=K.length-1;y>=0;y--)hr|=K.charCodeAt(y)<<(3-y)*8;return hr};
R.indexOf=function(K,E,x,c){if(x==null)x=0;if(c==null)c=K.length;c=Math.min(c,K.length);for(var y=x;
y<c;y++)if(K[y]==E)return y;return-1};R.ZO=function(K,E,x){if(x==null)x=0;var c=E.length,J=K.length-c;
if(typeof E=="string"){var i=[];for(var y=0;y<c;y++)i.push(E.charCodeAt(y));E=i}if(E.length>0){var P=E[0];
for(var y=x;y<J;y++)if(K[y]==P){var _=!0;for(var a=1;a<c;a++)if(E[a]!=K[y+a]){_=!1;break}if(_)return y}}return-1};
R.RF=function(K,E,x){var c=[],i="";while(E<x){var J=K[E++];if(J=="\\".charCodeAt(0))c.push(K[E++]);else c.push(J)}for(var y=0;
y<c.length;y+=2)i+=String.fromCharCode(c[y]<<8|c[y+1]);return i};R.auD=function(K,E,x){var c=new Uint8Array(2);
for(var y=0;y<x.length;y++){R.c$(c,0,x.charCodeAt(y));if(c[0]==")".charCodeAt(0)||c[0]=="(".charCodeAt(0)||c[0]=="\\".charCodeAt(0)){K[E]="\\".charCodeAt(0);
E++}K[E]=c[0];E++;if(c[1]==")".charCodeAt(0)||c[1]=="(".charCodeAt(0)||c[1]=="\\".charCodeAt(0)){K[E]="\\".charCodeAt(0);
E++}K[E]=c[1];E++}return E};R.jl=function(K,E,x){K.UY(E,4*x.length);return R.auD(K.data,E,x)};R.BG=function(K,E,x){var c="";
for(var y=0;y<x;y++){var J=K[E++]|K[E++]<<8;c+=String.fromCharCode(J)}return c};R.$$=function(K,E,x){var c="";
for(var y=0;y<x;y++){var J=K[E++]<<8|K[E++];c+=String.fromCharCode(J)}return c};R.awl=function(K,E,x){for(var y=0;
y<x.length;y++){var c=x.charCodeAt(y);R.ih(K,E+2*y,c)}};R.Qo=function(K,E,x){for(var y=0;y<x.length;
y++){var c=x.charCodeAt(y);R.c$(K,E+2*y,c)}};R.acK=function(K,E,x){K.UY(E,2*x.length);R.Qo(K.data,E,x)};
R.anR=function(K,y,E){var x=[],c=0,J=0;E+=y;while(y<E){c=K[y++];if((c&128)==0)J=c;else if((c&224)==192){J=(c&31)<<6;
c=K[y++];J|=c&63}else if((c&240)==224){J=(c&15)<<12;c=K[y++];J|=(c&63)<<6;c=K[y++];J|=c&63}else if((c&248)==240){J=(c&7)<<18;
c=K[y++];J|=(c&63)<<12;c=K[y++];J|=(c&63)<<6;c=K[y++];J|=c&63}else throw"e";x.push(J)}return x};R.ao0=window.TextDecoder?new window.TextDecoder("utf8"):null;
R.__=function(K,E,x){if(E==null)E=0;if(x==null)x=K.length;if(R.ao0&&E==0&&x==K.length)return R.ao0.decode(K);
var c=R.anR(K,E,x),J=c.length;for(var y=0;y<J;y++)c[y]=String.fromCharCode(c[y]);return c.join("")};
R.a0o=window.TextEncoder?new window.TextEncoder("utf8"):null;R.zR=function(K){if(R.a0o)return R.a0o.encode(K);
var E=new Uint8Array(K.length*4),x=R.g$(K,E,0);return E.slice(0,x)};R.g$=function(K,E,x){var c=K.length,y=0;
for(var J=0;J<c;J++){var i=K.charCodeAt(J);if((i&4294967295-(1<<7)+1)==0){E[x+y]=i;y++}else if((i&4294967295-(1<<11)+1)==0){E[x+y]=192|i>>6;
E[x+y+1]=128|i>>0&63;y+=2}else if((i&4294967295-(1<<16)+1)==0){E[x+y]=224|i>>12;E[x+y+1]=128|i>>6&63;
E[x+y+2]=128|i>>0&63;y+=3}else if((i&4294967295-(1<<21)+1)==0){E[x+y]=240|i>>18;E[x+y+1]=128|i>>12&63;
E[x+y+2]=128|i>>6&63;E[x+y+3]=128|i>>0&63;y+=4}else throw"e"}return y};R.Fq=function(K,E){var x=R.s(K,E),c=R.__(K,E+4,x-1);
return{hV:c,M2:4+x}};R.ayi=function(K,E){var x=R.Pc(K,E),c=R.BG(K,E+4,x);return c};R.HS=function(K,E){var x=R.s(K,E),c=R.$$(K,E+4,x);
return c};R.Qj=function(K,E){var x=R.s(K,E),c=R.$$(K,E+4,x-1);return c};R.a9a=function(K,E,x){R.qr(K,E,x.length);
E+=4;R.awl(K,E,x)};R.a5E=function(K,E,x){R.T5(K,E,x.length);E+=4;R.Qo(K,E,x)};R.kr=function(K,E,x){K.UY(E,4+2*x.length);
R.a5E(K.data,E,x)};R.ac5=function(K,E,x){K.UY(E,4+2*x.length);R.a9a(K.data,E,x)};R.bC=function(K,E,x){var c=[];
for(var y=0;y<x;y++)c.push(String.fromCharCode(K[E+y]));return c};R.aqt=function(K,E,x){var c=!1,J=K.length-x.length;
for(var y=E;y<J;y++){for(var i=0;i<x.length;i++){if(K[y+i]!=x.charCodeAt(i))break;if(i==x.length-1)return y}}};
R.pr=function(K,E,x){var c="";for(var y=0;y<x;y++)c+=String.fromCharCode(K[E+y]);return c};R.Dx=function(K,E,x){for(var y=0;
y<x.length;y++)K[E+y]=x.charCodeAt(y)};R.O1=function(K,E,x){K.UY(E,x.length);R.Dx(K.data,E,x)};R.a0i=function(K,E,x){var c="";
for(var y=0;y<x;y++){var J=K[E+y];if(J<10)c+="  ";else if(J<100)c+=" ";c+=J+", "}return c};R.Xl=function(K,E){return K[E]<<8|K[E+1]};
R.c$=function(K,E,hr){K[E]=hr>>8&255;K[E+1]=hr&255};R.j2=function(K,E,hr){K.UY(E,4);R.c$(K.data,E,hr)};
R.afc=function(K,E){var x=R.Xl(K,E),c=R.Xl(K,E+2);return x+c*(1/65536)};R.ay9=function(K,E,hr){var x=Math.floor(hr),c=Math.floor((hr-x)*65536);
R.c$(K,E,x);R.c$(K,E+2,c)};R.K9=function(K,E){return K[E+1]<<8|K[E]};R.ih=function(K,E,hr){K[E+1]=hr>>8&255;
K[E]=hr&255};R.sX=function(K,E,hr){K.UY(E,4);R.ih(K.data,E,hr)};R.ZM=function(K,E){R.AM[0]=K[E+1];R.AM[1]=K[E];
return R.D5[0]};R.Hd=function(K,E){R.AM[0]=K[E];R.AM[1]=K[E+1];return R.D5[0]};R.xL=R.c$;R.iZ=R.j2;R.Jv=function(K,E){R.kG[0]=K[E+3];
R.kG[1]=K[E+2];R.kG[2]=K[E+1];R.kG[3]=K[E];return R.bR[0]};R.m_=function(K,E,hr){R.bR[0]=hr;K[E+3]=R.kG[0];
K[E+2]=R.kG[1];K[E+1]=R.kG[2];K[E+0]=R.kG[3]};R.wa=function(K,E,hr){K.UY(E,4);R.m_(K.data,E,hr)};R.Wv=function(K,E,x,c){x[c+0]=K[E+0];
x[c+1]=K[E+1];x[c+2]=K[E+2];x[c+3]=K[E+3]};R.Pc=function(K,E){R.Wv(K,E,R.kG,0);return R.ajV[0]};R.qr=function(K,E,hr){R.ajV[0]=hr;
R.Wv(R.kG,0,K,E)};R.gf=function(K,E,hr){K.UY(E,4);R.qr(K.data,E,hr)};R.d4=function(K,E){R.Wv(K,E,R.kG,0);
return R.bR[0]};R.amt=function(K,E,hr){R.bR[0]=hr;R.Wv(R.kG,0,K,E)};R.aux=function(K,E,hr){K.UY(E,4);
R.amt(K.data,E,hr)};R.s=function(K,E){var x=K[E]*(256*256*256)+(K[E+1]<<16|K[E+2]<<8|K[E+3]);return x};
R.T5=function(K,E,hr){K[E]=hr>>24&255;K[E+1]=hr>>16&255;K[E+2]=hr>>8&255;K[E+3]=hr>>0&255};R.oj=function(K,E,hr){K.UY(E,4);
R.T5(K.data,E,hr)};R.$S=function(K,E){return R.s(K,E)<<32|R.s(K,E+4)};R.a4H=function(K,E,hr){R.T5(K,E,hr>>16>>16);
R.T5(K,E+4,hr&4294967295)};R.xD=function(K,E,hr){K.UY(E,8);R.a4H(K.data,E,hr)};R.sz=function(K,E){var x=new Uint8Array(8);
for(var y=0;y<8;y++)x[y]=K[E+7-y];var c=new Float64Array(x.buffer);return c[0]};R.BF=function(K,E){var x=new Uint8Array(8);
for(var y=0;y<8;y++)x[y]=K[E+y];var c=new Float64Array(x.buffer);return c[0]};R.FJ=function(K,E,hr){var x=new Float64Array(1);
x[0]=hr;var c=new Uint8Array(x.buffer);for(var y=0;y<4;y++){var J=c[y];c[y]=c[7-y];c[7-y]=J}for(var y=0;
y<8;y++)K[E+y]=c[y]};R.wP=function(K,E,hr){K.UY(E,8);R.FJ(K.data,E,hr)};R.JU=function(K,E){R.kG[0]=K[E+3];
R.kG[1]=K[E+2];R.kG[2]=K[E+1];R.kG[3]=K[E+0];return R.$Y[0]};R.CA=function(K,E){R.kG[0]=K[E+0];R.kG[1]=K[E+1];
R.kG[2]=K[E+2];R.kG[3]=K[E+3];return R.$Y[0]};R.AE=function(K,E,hr){R.$Y[0]=hr;K[E+0]=R.kG[3];K[E+1]=R.kG[2];
K[E+2]=R.kG[1];K[E+3]=R.kG[0]};R.aug=function(K,E,hr){K.UY(E,4);R.AE(K.data,E,hr)};R.Jm=function(K,E,hr){R.$Y[0]=hr;
K[E+0]=R.kG[0];K[E+1]=R.kG[1];K[E+2]=R.kG[2];K[E+3]=R.kG[3]};R.ar5=function(K,E,hr){K.UY(E,4);R.Jm(K.data,E,hr)};
R.afH=function(K,E){var x=R.Jv(K,E),c=x*(1/(1<<24));return c};R.ax0=function(K,E,x){var c=Math.floor(x*(1<<24));
R.m_(K,E,c)};R.ahN=function(K,E,x){K.UY(E,4);R.ax0(K.data,E,x)};R.ym=function(K,E){var x=K[E],c=R.pr(K,E+1,x);
x+=1-x%2;return{pg:c,length:x+1}};R.apa=function(K,E,x){var c=x.length;K[E]=c;R.Dx(K,E+1,x);if(c%2==0){K[E+1+c]=0;
++c}return c+1};R.kI=function(K,E,x){K.UY(E,x.length+2);return R.apa(K.data,E,x)};R.uT=function(K,E){var x=new iQ;
x.Cc=R.sz(K,E+0*8);x.k=R.sz(K,E+1*8);x.o0=R.sz(K,E+2*8);x.Ga=R.sz(K,E+3*8);x.qW=R.sz(K,E+4*8);x.Ju=R.sz(K,E+5*8);
return x};R.uW=function(K,E,x){R.FJ(K,E+0*8,x.Cc);R.FJ(K,E+1*8,x.k);R.FJ(K,E+2*8,x.o0);R.FJ(K,E+3*8,x.Ga);
R.FJ(K,E+4*8,x.qW);R.FJ(K,E+5*8,x.Ju)};R.a4J=function(K,E,x){K.UY(E,48);R.uW(K.data,E,x)};R.ak4=function(K,E){var x=R.JU(K,E),c=R.JU(K,E+4),J=R.JU(K,E+8),i=R.JU(K,E+12);
return new cS(x,c,J-x,i-c)};R.a9N=function(K,E,x){R.AE(K,E,x.x);R.AE(K,E+4,x.y);R.AE(K,E+8,x.x+x.b);
R.AE(K,E+12,x.y+x.n)};R.aro=function(K,E,x){K.UY(E,16);R.a9N(K.data,E,x)};R.nj=function(K,E){var x=R.Jv(K,E),c=R.Jv(K,E+4),J=R.Jv(K,E+8),i=R.Jv(K,E+12);
return new cS(c,x,i-c,J-x)};R.a4$=function(K,E,x){R.m_(K,E,x.y);R.m_(K,E+4,x.x);R.m_(K,E+8,x.y+x.n);
R.m_(K,E+12,x.x+x.b)};R.JO=function(K,E,x){K.UY(E,16);R.a4$(K.data,E,x)};R.w$=function(K,E,x){var c=new Uint8Array(x);
for(var y=0;y<x;y++)c[y]=K[E+y];return c};R.atD=function(K,E,x){K.set(x,E)};R.IL=function(K,E,x){K.UY(E,x.length);
R.atD(K.data,E,x)};R.apm=function(K,E,x,hr){if(!hr)hr=1;for(var y=0;y<hr;y++)K[E+y]=x};R._N=function(K,E,x,hr){if(!hr)hr=1;
K.UY(E,hr);R.apm(K.data,E,x,hr)};R.D5=new Int16Array(1);R.AM=new Uint8Array(R.D5.buffer);R.bR=new Int32Array(1);
R.ajV=new Uint32Array(R.bR.buffer);R.kG=new Uint8Array(R.bR.buffer);R.$Y=new Float32Array(R.bR.buffer);
function kc(){}kc.Sg=function(K,E){var x=new Uint8Array(K),c=0,J=R.pr(x,c,9),_=4,a=100;c+=9;var i=R.pr(x,c,4);
c+=4;c++;E.b=R.s(x,c);c+=4;E.n=R.s(x,c);c+=4;var P=R.s(x,c);c+=4;if(P!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(i)==-1){a=R.s(x,c);c+=4;if(parseInt(i.slice(1))>=7){a=a}else alert("Unknown XCF version: "+i);
_=8}var j={};c=kc.fK(x,c,j);var e=[];c=kc.PU(x,c,e,_);var d=[];c=kc.PU(x,c,d,_);E.SO=0;for(var y=0;y<e.length;
y++)kc.akh(x,e[y],E,j,_,a);while(E.SO>0){E.B.push(E.NG());E.SO--}E.B.reverse();delete E.SO;E.buffer=W.Q(E.b*E.n*4);
if(E.B.length==0)console.log("No layers!!!");for(var y=0;y<d.length;y++){var I=kc.am$(x,d[y],j,_,a);
if(I.za[g0.ayf])E.P={channel:I.Mv,rect:new cS(0,0,E.b,E.n)}}};kc.akh=function(K,E,x,c,J,i){var P=x.EY(),_=R.s(K,E),d=0;
E+=4;var a=R.s(K,E);E+=4;P.rect=new cS(0,0,_,a);var j=R.s(K,E);E+=4;var e=R.Fq(K,E);E+=e.M2;P.yH(e.hV);
var I={};E=kc.fK(K,E,I);if(I[g0.a57]){var v=I[g0.a57];d=v.length/4-1}if(I[g0.Mj]){P.rect.x=R.Jv(I[g0.Mj],0);
P.rect.y=R.Jv(I[g0.Mj],4)}if(I[g0.a8S]){P.opacity=R.s(I[g0.a8S],0)}if(I[g0.a8b]){P.add.lsct=fV.Bm;P.LD=24}if(I[g0.a7B]){var n=R.s(I[g0.a7B],0);
P.Vk=g0.a8M[n];if(P.wC()&&P.Vk=="norm")P.Vk="pass"}if(I[g0.awM]){if(R.s(I[g0.awM],0)==0)P.LD+=2}if(I[g0.ac1]){var C=R.s(I[g0.ac1],0);
P.add.lsct=C&1==1?fV.Bm:fV.wg}if(I[g0.wH]){var T=I[g0.wH];for(var o in T){var s=T[o];if(o=="gimp-text-layer"){var Q=kc.amz(s),X=Q.text,B=Q.font,M=Q.color,S=Q["font-size"];
if(X==null&&Q.markup){var f=new DOMParser,F=f.parseFromString(Q.markup,"image/svg+xml");while(F.firstChild!=null&&F.firstChild.tagName!=null){F=F.firstChild;
var G=F.getAttribute("font"),D=F.getAttribute("foreground"),b=F.getAttribute("size");if(G!=null)B=G;
if(D!=null){D=CSS.Af(D);M=[1,D.o/255,D.J/255,D.k/255]}if(b!=null){S=""+parseFloat(b)/245}}X=F.textContent}P.add.lnsr="rend";
P.add.TySh=ev.l4(0,0);P.add.TySh.T6=new cS(0,0,100,100);P.add.TySh.u=new iQ(1,0,0,1,P.rect.x,P.rect.y);
var H=P.add.TySh.kd;ev.tW(H,0,X);var q=ev.Jw(H,0,0),O=Q.justify,w=Q["line-spacing"];if(M)q.BY.FillColor={Type:1,Values:[1,parseFloat(M[1]),parseFloat(M[2]),parseFloat(M[3])]};
if(S){S=Math.round(parseFloat(S));q.BY.FontSize=S;P.add.TySh.u.Ju+=Math.min(17,S*.17)}if(w){w=Math.round(parseFloat(w)+q.BY.FontSize*1.2);
q.BY.Leading=w;q.BY.AutoLeading=!1}if(O)q.sn.Justification=["left","right","center","fill"].indexOf(O);
if(B&&B!="Sans-serif"){var V=B.toLowerCase(),t="bold italic semi extra regular condensed light".split(" "),m=V.length;
for(var y=0;y<t.length;y++){var g=V.indexOf(t[y]);if(g!=-1&&g<m&&V[g-1]==" ")m=g}if(m!=V.length)B=B.slice(0,m-1).split(" ").join("")+"-"+B.slice(m).split(" ").join("");
ev.H8(q,B)}ev.q1(H,0,X.length,q);var Y=Q["box-width"],A=Q["box-height"],k=Y?parseFloat(Y):P.rect.b,z=A?parseFloat(A):P.rect.n;
ev.IT(H,1);ev.sV(H,[0,0,Math.ceil(k),Math.ceil(z)])}else console.log("Unknown property "+o)}}while(x.SO>d){x.B.push(x.NG());
x.SO--}x.SO=d;if(P.add.lsct==fV.Bm||P.add.lsct==fV.wg)x.SO++;var p=J==4?R.s:R.$S,L=p(K,E);E+=J;var N=p(K,E);
E+=J;if(P.Lq()){P.buffer=W.Q(P.rect.O()*4);var gC=new W.oA(P.rect.O());kc.amT(K,L,gC,c,J,i);W.se(gC,P.buffer)}if(N!=0){P.z=new Z.vW;
var r=kc.am$(K,N,c,J,i);P.z.channel=r.Mv;P.z.rect=P.rect.clone();if(I[g0.anT])P.z.isEnabled=R.s(I[g0.anT],0)==1;
P.z.color=P.z.channel[0];P.z.oo()}if(P.wC())P.rect=new cS;x.B.push(P)};kc.amz=function(K){var E="("+R.__(K,0,K.length-1)+")",x=[],c={};
kc.aki(E,1,x);kc.a6S(x,c);return c};kc.a6S=function(K,E){for(var y=0;y<K.length;y++){var x=K[y],c=x[0];
if(x.length==2)E[c]=x[1];else E[c]=x.slice(1)}};kc.aki=function(K,E,x){while(!0){if(E>=K.length)throw"e";
var c=K.charAt(E);E++;if(c=="("){var J=[];E=kc.aki(K,E,J);x.push(J)}else if(c==" "||c=="\n"||c=="\r"){}else if(c==")")return E;
else if(c=="\""){var i=E;while(!0){var P=K[E];E++;if(P=="\"")break;if(P=="\\")E++}x.push(JSON.parse(K.slice(i-1,E)))}else{var i=E-1;
while(K[E]!=" "&&K[E]!=")")E++;x.push(K.slice(i,E))}}};kc.am$=function(K,E,x,c,J){var i=R.s(K,E);E+=4;
var P=R.s(K,E);E+=4;var _=R.Fq(K,E);E+=_.M2;var a={};E=kc.fK(K,E,a);var j=new W.oA(i*P),e=c==4?R.s:R.$S,d=e(K,E);
E+=c;kc.amT(K,d,j,x,c,J);return{Mv:j.o,za:a}};kc.amT=function(K,E,x,c,J,i){var P=R.s(K,E);E+=4;var _=R.s(K,E);
E+=4;var a=R.s(K,E);E+=4;var j=J==4?R.s:R.$S,e=j(K,E);E+=J;kc.ar7(K,e,x,c,a,J,i)};kc.ar7=function(K,E,x,c,J,i,P){var _=R.s(K,E),e=0,y=0;
E+=4;var a=R.s(K,E);E+=4;var j=new cS(0,0,_,a);if(P==100||P==150)e=1;else if(P==200||P==250)e=2;else if(P==300||P==350)e=4;
else if(P==500||P==550)e=2;else if(P==600||P==650)e=4;else if(P==700||P==750)e=8;else{alert("unsupported bit depth "+P);
throw"e"}var d=J/e,e=Math.round(J/d),I=[];E=kc.PU(K,E,I,i);var v=new W.oA(64*64*e),n=new cS,C=c[g0.a48][0],T=[v.o,v.J,v.k,v.Cc];
if(d==3)v.Cc.fill(255);var o=Date.now();if(I.length!=0)for(var s=0;s<a;s+=64)for(var Q=0;Q<_;Q+=64){var X=Math.min(_-Q,64),B=Math.min(a-s,64),M=X*B;
n.tn(Q,s,X,B);kc.a5x(K,I[y++],M*e,C,d,T);if(P==100||P==150){}else if(P==250){for(var S=0;S<d;S++){var f=T[S];
for(var F=0;F<M;F++){var G=f[F]<<8|f[M+F];f[F]=Math.min(G>>>8,255)}}}else if(P==600){var D=kc.aoG(),b=new Uint32Array(1),H=new Float32Array(b.buffer);
for(var S=0;S<d;S++){var f=T[S];for(var F=0;F<M;F++){b[0]=f[F]<<24|f[M+F]<<16|f[(M<<1)+F]<<8|f[(M<<1)+M+F]<<0;
var q=H[0];if(q<0)q=0;else if(q>1)q=1;f[F]=D[~~(.5+q*1e3)]}}}else console.log("unknown data format",P);
W.LC(v,n,x,j)}};kc.aoG=function(){var K=kc.a9M;if(K!=null)return K;K=kc.a9M=new Uint8Array(1001);for(var y=0;
y<1001;y++)K[y]=~~(.49+255*W.hW(y*.001));return K};kc.a5x=function(K,E,x,c,J,i){if(c==1){for(var P=0;
P<J;P++){var _=i[P],a=0;while(a<x){var hr=K[E];E++;if(hr<127){var j=K[E];E++;hr++;for(var y=0;y<hr;y++)_[a+y]=j}else if(hr==127){var e=K[E];
E++;var d=K[E];E++;var j=K[E];E++;hr=e<<8|d;for(var y=0;y<hr;y++)_[a+y]=j}else if(hr==128){var e=K[E];
E++;var d=K[E];E++;hr=e<<8|d;for(var y=0;y<hr;y++)_[a+y]=K[E+y];E+=hr}else{hr=256-hr;for(var y=0;y<hr;
y++)_[a+y]=K[E+y];E+=hr}a+=hr}}}else if(c==2){var I=pako.inflate(K.slice(E)),v=Math.round(I.length/x);
for(var y=0;y<x;y++){var n=y*v;i[0][y]=I[n];i[1][y]=I[n+1];i[2][y]=I[n+2];i[3][y]=v==3?255:I[n+3]}}else alert("Unknown compression "+c)};
kc.PU=function(K,E,x,c){var J=c==4?R.s:R.$S;while(!0){var i=J(K,E);E+=c;if(i==0)break;else x.push(i)}return E};
kc.fK=function(K,E,x){while(!0){var c=R.s(K,E);E+=4;var J=R.s(K,E);E+=4;if(c==g0.a3M)break;else if(c==g0.wH)x[c]=kc.akQ(K,E,E+J);
else x[c]=R.w$(K,E,J);E+=J}return E};kc.akQ=function(K,E,x){var c={};while(E<x){var J=R.Fq(K,E);E+=J.M2;
var i=R.s(K,E);E+=4;if(i!=1)console.log("unknown flags",i);var P=R.s(K,E);E+=4;c[J.hV]=R.w$(K,E,P);E+=P}return c};
var g0={a3M:0,adB:1,ac4:2,avv:3,ayf:4,aqF:5,a8S:6,a7B:7,awM:8,a09:9,aqi:10,anT:11,ajP:12,aky:13,agN:14,Mj:15,aie:16,a48:17,anp:18,azD:19,auS:20,wH:21,a9h:22,ahh:23,a7f:24,a0r:25,ai5:26,a8d:27,abZ:28,a8b:29,a57:30,ac1:31,aig:32,a6q:33,a66:34,au$:35,aeC:36,aoX:37,avq:38,ana:0,ajI:1,auG:2,a6z:3,apr:1,aul:2,auq:0,ax_:1,apn:1};
g0.a8M="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
var jI=function(){var K=!1,E,x,o=0,X;function c(){var S=R.pr(E,x,4);x+=4;return S[3]+S[2]+S[1]+S[0]}function J(){var S=R.pr(E,x,4);
x+=4;return S}function i(){var S=E[x];x+=1;return S}function P(){var S=R.K9(E,x);x+=2;return S}function _(){var S=R.Pc(E,x);
x+=4;return S}function a(){var S=R.d4(E,x);x+=4;return S}function j(){var S=R.Pc(E,x);x+=8;return S}function e(){var S=R.CA(E,x);
x+=4;return S}function d(){var S=R.BF(E,x);x+=8;return S}function I(){var S=R.K9(E,x),f=R.__(E,x+2,S);
x+=2+S;return f}function v(){var S=R.Pc(E,x),f=R.__(E,x+4,S);x+=4+S;return f}function n(S){x=S;var f=[];
while(x!=0){var F=J();if(F!="#FT4"&&F!="#FT3"&&F!="#FT2")throw F;var G=j(),D=j(),b=j(),H=j(),q=j(),O=_(),w=_(),V=_(),t=P(),m=i(),g={};
f.push(g);for(var y=0;y<O;y++){var Y=_(),A=i();if(A!=0&&A!=1&&A!=2)throw A;var k=[];if(A==0||A==1){var z=j(),p=j(),L=j(),N=_(),gC=i(),r=_(),h=F!="#FT4"?0:_(),l=null;
if(F=="#FAT"||F=="#FT2"){switch(gC){case 1:gC=1;break;case 2:gC=65;break;case 3:gC=129;break;case 4:gC=193;
break;default:gC=0;break}}if(A==0)l=I();k=[z,p,L,gC,l]}g["i"+Y]=[A,k]}for(var y=0;y<t;y++){var g5=P(),fm=P(),dC=j(),ex=R.pr(E,x,g5);
x+=g5}x=G}f.reverse();for(var cR=1;cR<f.length;cR++){var g=f[cR],d0=f[cR]=JSON.parse(JSON.stringify(f[cR-1]));
for(var hN in g){var ey=g[hN];if(ey[0]==0)d0[hN]=ey;else if(ey[0]==1){ey[1][4]=d0[hN][1][4];d0[hN]=ey}else if(ey[0]==2)delete d0[hN]}}var cr=f.pop(),ik=[];
for(var hN in cr)ik.push(cr[hN][1]);ik.sort(function(hd,df){return hd[0]-df[0]});return ik}function C(S,f,F,G){while(x<E.length){var D=i(),O=null;
if(D==0){if(G){var b=i();if(b!=2){var H=c()}if(b==0)x+=4;G=!1;continue}else{break}}var q=c();if(K)console.log("  ".repeat(f),D,D&127,q,S._type);
if(D>127)O=T(D,f,F);else O=s(D,f,F);if(K)console.log("  ".repeat(f),O);S[q]=O}}function T(S,f,F){var G=[];
S=S&127;if(S==43)x+=4;var D=_();if(S==50){var b=c(),H=P();if(H!=1)throw"e";for(var y=0;y<D;y++){var q={_status:"NotShared",_type:b};
G.push(q);var O=i();if(O!=1)throw O;C(q,f+1,F)}}else if(S==41){if(D>8)throw D;for(var y=0;y<D;y++)G.push((E[x]>>>y&1)==1);
x++}else for(var y=0;y<D;y++){G.push(s(S,f,F,y!=0));if(S==42)S=2}return G}function s(S,f,F,G){var D=null;
if(S==49){D={};var b=i();if(b!=0){var H=_();if(F==null){D._id=H;D._status=["Shared","Link"][b-1]}if(F&&b==2)D=F[H];
if(b==1){if(F)F[H]=D;var q=i(),O=!1;if(q>1)throw q;D._type=c();if(K)console.log("  ".repeat(f),"new",D._type,q,x);
if(q==0){while(!0){var w=P();if(w!=0&&w!=1&&w!=2&&w!=4)throw w;if(E[x]!=0){O=!0;break}var V=P();if(V==512)break;
var t=c();if(V==256)break}}C(D,f+1,F,O)}}}else if(S==50){D={_status:"NotShared"};if(i()==1){D._type=c();
x+=2;C(D,f+1,F)}}else if(S==1)D={type:"byte",value:i()};else if(S==2)D={type:"uint16",value:P()};else if(S==3)D={type:"uint32",value:_()};
else if(S==4)D={type:"uint64",value:j()};else if(S==7)D={type:"int32",value:a()};else if(S==8)D={type:"int64",value:j()};
else if(S==9)D={type:"float32",value:e()};else if(S==10)D={type:"float64",value:d()};else if(S==21)D={type:"Vec2i",value:[_(),_()]};
else if(S==23)D={type:"Vec4i",value:[_(),_(),_(),_()]};else if(S==33)D={type:"Vec4f",value:[e(),e(),e(),e()]};
else if(S==36)D={type:"Vec2",value:[d(),d()]};else if(S==38)D={type:"Vec4",value:[d(),d(),d(),d()]};
else if(S==40)D={type:"Vec6",value:[d(),d(),d(),d(),d(),d()]};else if(S==41)D={type:"bool",value:i()!=0};
else if(S==42)D={type:"Enum",value:_()};else if(S==43)D={type:"string",value:v()};else if(S==44){if(G!=!0)o=P();
D={type:"curv16",value:[d(),o==12?[i(),i(),i(),i()]:[_(),_()]]}}else if(S==45){var m=_();D={type:"buff",value:E.slice(x,x+m)};
x+=m}else if(S==47){D={type:"uint32",value:_()}}else if(S==48){var g=[],Y=P();if(Y!=1)throw Y;while(!0){if(E[x]==135){var A=T(i(),f+1,F),k=T(i(),f+1,F),z=T(i(),f+1,F);
g.push([A,k,z])}else{var p=1;if(E[x]==3){i();p=_()}for(var y=0;y<p;y++){if(i()!=41)throw"e";var H=i();
if(H!=0&&H!=1)throw H;if(i()!=172)throw"e";var L=_(),N=P(),gC=[];g.push(gC);if(N!=18)throw N;if(L>2e3)throw L;
for(var r=0;r<L;r++)gC.push([d(),d(),i(),i()])}}if(E[x]==0){x++;break}}D={type:"curve",value:g}}else if(S==51){D={type:"EmbeddedData"};
D[c()]=v()}else if(S==52)D={type:"uint32",value:_()};else if(S==56)D={type:"Color32",value:[i(),i(),i(),i()]};
else if(S==60)D={type:"ColorGRAY",value:[e(),e()]};else if(S==68)D={type:"ColorRGBA",value:[e(),e(),e(),e()]};
else if(S==72)D={type:"ColorCMYK",value:[e(),e(),e(),e(),e()]};else{throw S}return S==49||S==50||S==51?D:D.value}function Q(S){var f=0,F=S.length;
for(var y=0;y<F;y++)S[y]=f=f+S[y]&255}function B(S){E=S;x=4;var f=_(),F=J();if(F!="nsrP")throw F;var F=J();
if(F!="#Inf")throw F;var G=j();X=j();var D=j(),b=j(),H=j(),q=_(),O=_(),F=J();if(F!="Prot")throw F;var q=_(),w=n(G),V={},t=Date.now();
for(var m=0;m<w.length;m++){var g=w[m],Y=g[3],L=null;x=g[0];var F=J();if(F!="#Fil")throw F;var A=Y>>>5&1,k=Y&3,z=Y&192;
switch(z){case 64:z=1;A=0;break;case 128:z=2;break;case 192:z=3;break;default:z=0;A=0}var p=new Uint8Array(E.buffer,x,g[2]);
if(k==0)L=p;else if(k==1)L=pako.inflate(p);else if(k==2)L=gr.KJ.Om(p,g[1]);else throw k;if(A==0){if(z==1)Q(L);
if(z==2)throw"e"}else throw A;V[g[4]]=L}return V}function M(S){var f=B(new Uint8Array(S));E=f["doc.dat"];
x=16;var F={};C(F,0,[]);return[f,F,X]}return{a6C:M}}();function hH(){}hH.Sg=function(){function K(v,n){var C=Date.now(),T=jI.a6C(v),o=T[0],s=T[1],Q=T[2],X=s.DocR,B=X.DfSz,M=X.Chld;
if(M.length!=1)throw"e";var S=M[0],f=S.SprB;M=S.Chld;n.b=~~f[2];n.n=~~f[3];n.buffer=W.Q(n.b*n.n*4);var F=[0,{}];
for(var y=0;y<M.length;y++)J(M[y],n,o,new iQ,F,0);n.yR(F[0]);console.log(Date.now()-C,"Document created");
C=Date.now()}function E(v){return new iQ(v[0],v[3],v[1],v[4],v[2],v[5])}function x(v,n){var C=n.Xfrm;
C=C?E(C):new iQ;C.concat(v);return C}function c(v){var n={0:"norm",1:"dark",2:"mul ",3:"idiv",196613:"lbrn",65538:"dkCl",4:"lite",5:"scrn",6:"div ",7:"lddg",65542:"lgCl",8:"over",9:"sLit",10:"hLit",11:"vLit",65551:"lLit",12:"pLit",13:"hMix",14:"diff",15:"smud",16:"fsub",262165:"fdiv",17:"hue ",18:"sat ",20:"colr",19:"lum "}[v];
return n?n:"norm"}function J(v,n,C,T,o,s){var Q=v._type,X=v.Chld,B=n.EY();B.yH(v.Desc==null||v.Desc==""?Q=="Grup"?"Folder":"Layer":v.Desc);
B.g7(v.Visi);B.opacity=Math.round(255*v.Opac);if(v.FOpc!=1)B.add.iOpa=Math.round(255*v.FOpc);var M=v.Blnd;
if(M!=null)B.Vk=c(M);var S=x(T,v),f=Q=="ShpN"||Q=="PCrv";if(X){n.B.push(n.NG());B.add.lsct=fV.Bm;B.Vk="pass";
B.LD=24;if(Q=="ShpN"){var F=v.ShpB;B.MZ(new cS(F[0]+S.qW,F[1]+S.Ju,F[2]-F[0],F[3]-F[1]));o[0]++;B.add.artb.Clr={t:"Objc",v:W.M.TD({o:255,J:255,k:255})}}for(var y=0;
y<X.length;y++)J(X[y],n,C,S,o,s+1)}else if(Q=="Rstr"||Q=="ImgN"||Q=="MRst"){var G=v.Bitm,D=G.Bckg,b=Date.now(),H;
if(D==null){H=j(G,C,o[1]);B.rect=H[2].clone();B.buffer=H[1].slice(0);B.rect.x+=S.qW;B.rect.y+=S.Ju}if(D||S.pA()!=1){var q,O=0,w=0;
if(D){var V=C[D.Data],t=R.ZO(V,"ataD")+4,m=R.Pc(V,t);t+=4;q=V.slice(t,t+m)}else{O=B.rect.x-S.qW;w=B.rect.y-S.Ju;
if(H[3]==null)H[3]=new Uint8Array(gr.Zf("PNG").bu([[B.buffer.buffer]],B.rect.b,B.rect.n));q=H[3].slice(0)}var g=n.EI(q,B.getName(),0,0);
g.LD=B.LD;g.opacity=B.opacity;B=g;var Y=new iQ;Y.translate(O,w);Y.concat(S);var A=B.rect.clone();A.x=A.y=0;
var k=W.p.VD(A).C;W.p.u(k,Y,k);B.add.SoLd.Trnf=$.Xq.K0(k);B.add.SoLd.nonAffineTransform=$.Xq.K0(k);B.mQ(n,!1)}}else if(Q=="TxtA"||Q=="TxtF"){B.add.lnsr="rend";
B.add.TySh=ev.l4(0,0);B.add.TySh.T6=new cS(0,0,100,100);var z=v.TxtH.FrmB,p=new iQ,r=0;p.translate(z[0],z[1]);
p.concat(S);B.add.TySh.u=p;var L=B.add.TySh.kd,N=v.StSt,gC=N.Blok;if(gC.length!=1)throw"e";for(var h=0;
h<gC.length;h++){var l=gC[h],g5=r,fm=0,dC=l.Glyp.Utf8;dC=dC.replace(/\u2028/g,"\n");dC=dC.replace(/\u2029/g,"\n");
dC=dC.slice(0,dC.length-1);ev.tW(L,r,dC);r+=dC.length;var ex=l.GAtt.Runs,cR=l.PAtt.Runs[0],d0=cR.Item.Ints[0];
for(var hN=0;hN<ex.length;hN++){var ey=ex[hN],cr=ey.Indx,ik=ey.Item,hd=ik.Objs,df=ev.Jw(L,g5,1);df.sn.Justification=d0==0?0:d0==1?2:1;
ev.H8(df,ik.DFnt.Post);df.BY.FontSize=ik.Doub[0];for(var y=0;y<hd.length;y++){var bQ=hd[y];if(bQ._type=="FDsc"){var is=bQ.FDeF;
if(is._type=="FilS"){var bi=a(is.Colr);df.BY.FillColor={Type:1,Values:[1,bi[0],bi[1],bi[2]]}}}}ev.q1(L,g5+fm,g5+Math.min(cr,dC.length),df);
fm=cr}}ev.IT(L,1);ev.sV(L,[0,0,Math.round(z[2]-z[0]),Math.round((z[3]-z[1])*1.2)]);n.zc=!0}else if(f){B.LD|=16;
var jX=B.add.vstk=JSON.parse(JSON.stringify(dz.Ae.default));jX.strokeEnabled.v=!1;var eS=B.add.vmsk=i(v);
W.r.it(eS.i,S);if(v.BFFl){var bN=v.BFFl[0].FDeF,h9=bN._type;if(h9=="FilS")B.add.SoCo={classID:"null",Clr:_(bN.Colr)};
else if(h9=="FilG"){var bz=B.add.GdFl=JSON.parse(dz.hQ[dz.order.indexOf("GrFl")]);P(bN,bz)}else if(h9=="FilN"){B.add.SoCo={classID:"null",Clr:{t:"Objc",v:W.M.TD({o:0,J:0,k:0})}};
jX.fillEnabled.v=!1}else console.log(h9)}if(v.LILn){var i0=v.LILn[0].LDeL,hp=i0.Wght;if(hp!=0){jX.strokeEnabled.v=!0;
jX.strokeStyleLineWidth.v.val=hp;var bN=v.LIFl[0].FDeF,h9=bN._type;if(h9=="FilS")jX.strokeStyleContent.v.Clr=_(bN.Colr);
else if(h9=="FilN")jX.strokeEnabled.v=!1}}B.yt();B.DY(n)}else console.log(Q);var hY=v.AdCh,ji=[];if(hY)for(var y=0;
y<hY.length;y++){var aM=hY[y],a1=aM._type;if(a1=="ShpN"||a1=="PCrv"){var eS=B.add.vmsk=i(aM),fi=x(S,aM);
W.r.it(eS.i,fi);B.yt();B.DY(n)}else if(aM.AdjP){var jJ=aM.AdjP,gg=jJ._type,iN={LevP:"levl",WhBP:"levl",SHiP:"curv",HSSP:"hue2",RecP:"hue2","B&WP":"blwh","B&CP":"brit",PosP:"post",VibP:"vibA",ExpP:"expA",ThrP:"thrs",CrvP:"curv"}[gg];
if(iN==null){console.log(jJ);continue}var ad=dJ.Ew(iN,{});ji.push(ad);var h6=ad.v.Fltr.v;if(gg=="LevP"){var kh=bH.GE(h6,0);
kh[0]=jJ.OutB*255;kh[1]=jJ.OutW*255;bH.l2(h6,0,kh)}else if(gg=="WhBP"){var kh=bH.GE(h6,2);kh[4]=100+jJ.WBTi*20;
bH.l2(h6,2,kh);var kh=bH.GE(h6,3);kh[4]=100+jJ.WBTi*200;bH.l2(h6,3,kh)}else if(gg=="HSSP"){var kh=c7.GE(h6,0);
kh[0]=Math.round(jJ.HueA*256);kh[1]=Math.round(jJ.SatA*256);kh[2]=Math.round(jJ.LumA*256);c7.l2(h6,0,kh)}else if(gg=="RecP"){h6.Clrz.v=!0;
var kh=c7.GE(h6,0);kh[0]=Math.round(jJ.RecH*100);kh[1]=Math.round(jJ.RecS*100);kh[2]=Math.round(jJ.RecL*100);
c7.l2(h6,0,kh)}else if(gg=="B&CP"){h6.Brgh.v=Math.round(jJ.Brig*100);h6.Cntr.v=Math.round(jJ.Ctrs*100-100)}else if(gg=="PosP"){h6.Lvls.v=jJ.Post}else if(gg=="VibP"){h6.vibrance.v=jJ.Vibr-100;
h6.Strt.v=Math.round(jJ.Satu*100)}else if(gg=="ExpP"){h6.Exps.v=jJ.Expo;h6.gammaCorrection.v=jJ.Gamm/2.2}else if(gg=="ThrP"){h6.Lvl.v=Math.round(jJ.Thre*255)}else if(gg=="CrvP"){var gN=jJ.Mast["Cnt "],aT=jJ.Mast.Vals,kh=hb.GE(h6,0),iv=kh[0];
for(var fs=0;fs<gN;fs++){var gm=kh[fs]=JSON.parse(JSON.stringify(iv));gm.v.Hrzn.v=Math.round(aT[fs]*255);
gm.v.Vrtc.v=Math.round(aT[4+fs]*255)}hb.l2(h6,0,kh)}}else console.log(aM)}if(ji.length!=0&&B.add.SoLd){B.add.SoLd.filterFX=dJ.RW();
n.ey({id:B.add.SoLd.placed.v,rect:new cS,buffer:W.Q(1),z:new Z.vW});B.add.SoLd.filterFX.v.filterFXList.v=ji;
B.mQ(n,!1)}var g8=v.FiEf;if(g8&&g8.length!=0){var b_=B.add.lmfx=JSON.parse(dz.default);for(var y=0;y<dz.order.length;
y++)b_[dz.E9[y]]={t:"VlLs",v:[]};for(var ko=0;ko<g8.length;ko++){var gk=g8[ko],bx=gk._type,ai={ColO:"SoFi",GrdO:"GrFl",Shad:"DrSh",InnS:"IrSh",OutG:"OrGl",InnG:"IrGl",Strk:"FrFX",PhgB:"ebbl",BevE:"ebbl"}[bx],bz=ai?JSON.parse(dz.hQ[dz.order.indexOf(ai)]):null;
if(bx=="ColO"){bz.Clr=_(gk.Colr)}else if(bx=="GrdO"){P(gk.GrFl.FDeF,bz)}else if(bx=="Shad"||bx=="InnS"||bx=="OutG"||bx=="InnG"){bz.Clr=_(gk.Colr);
bz.blur.v.val=Math.round(gk.Radi/2.4);if(gk.Offs!=null){bz.Dstn.v.val=gk.Offs;bz.lagl.v.val=Math.round(180-gk.Angl*180/Math.PI);
bz.uglg.v=!1}}else if(bx=="Strk"){bz.Clr=_(gk.Colr);bz.Sz.v.val=Math.round(gk.Radi)}else if(bx=="PhgB"||bx=="BevE"){bz.blur.v.val=Math.round(gk.Radi);
if(bx=="BevE")bz.bvlS.v.BESl="PlEb"}else if(bx=="Gaus"){if(f&&gk.Enab){B.add.vmsk.Zs=gk.Radi/2.4;B.add.vmsk.I_=!0;
B.yt();B.DY(n)}}if(ai){bz.enab.v=gk.Enab;if(bz.Md&&gk.BlnM!=null)bz.Md.v.BlnM=db.zJ(c(gk.BlnM));if(bz.Opct&&gk.Opac!=null)bz.Opct.v.val=Math.round(gk.Opac*100);
var hf=dz.E9[dz.order.indexOf(ai)];b_[hf].v.unshift({t:"Objc",v:bz})}}}n.B.push(B)}function i(v){var n=new Z.Wf,C=v._type;
if(C=="PCrv"){var T=v.Crvs.Data,o=[],s=[];for(var y=0;y<T.length;y++){var Q=T[y],X=Q.length%3;if(X!=1){Q=X==2?Q[0][2]!=0?Q.slice(0,Q.length-1):Q.slice(1):Q.slice(1,Q.length-1)}for(var B=0;
B<Q.length;B++){var M=Q[B],S=M[2];if(S!=0)o.push(B==0?"M":"C");s.push(M[0],M[1])}}n.i=W.p.uR({C:s,W:o},!0)}else{var f=v.ShpB,F=v.Shpe,G=F._type,D=f[2]-f[0];
if(G=="ShpE"){n.i=W.r.Ic.DM(f[0],f[1],f[2]-f[0],f[3]-f[1])}else if(G=="ShNR"){var b=[0,0,0,0];if(F.CTyp){b=F.ShCR.slice(0);
for(var y=0;y<4;y++)b[y]*=f[2]-f[0]}n.i=W.r.Ic.Rect(f[0],f[1],f[2]-f[0],f[3]-f[1],b)}else if(G=="ShpT"){n.i=W.p.uR({W:["M","L","L","Z"],C:[f[0],f[3],f[2],f[3],f[0]+D*.5,f[1]]},!0)}else if(G=="ShTz"){n.i=W.p.uR({W:["M","L","L","L","Z"],C:[f[0]+D*F.PosL,f[1],f[0]+D*F.PosR,f[1],f[2],f[3],f[0],f[3]]},!0)}else{console.log("--",G);
n.i=W.r.Ic.Rect(f[0],f[1],f[2]-f[0],f[3]-f[1],[0,0,0,0])}}return n}function P(v,n){var C=v.Grad,T=C.Cols;
n.Type.v.GrdT=v.Type==0?"Lnr":"Rdl";var o=[];for(var y=0;y<T.length;y++){var s=a(T[y]);o.push([C.Posn[y][0],s])}n.Grad.v.Intr.v=0;
W.M.LW(o,n.Grad.v);var Q=C.Posn,X=new iP(Q[0][0],Q[0][1]),B=new iP(Q[1][0],Q[1][1]);if(v.Type==0)X=new iP((X.x+B.x)/2,(X.y+B.y)/2);
W.M.Cs(X,B,new cS(0,0,1,1),n)}function _(v){var n=a(v);return{t:"Objc",v:W.M.TD({o:n[0]*255,J:n[1]*255,k:n[2]*255})}}function a(v){var n=v._col,C=v._type;
if(C=="HSLA"){var T=W.cc(n[0],n[1],n[2]);return[T.o,T.J,T.k,n[3]]}else if(C=="RGBA")return n;else if(C=="CMYK"){var o=1-n[3];
return[(1-n[0])*o,(1-n[1])*o,(1-n[2])*o]}else if(C=="GRAY")return[n[0],n[1],n[2]];else{console.log(n);
throw C}}function j(v,n,C){var T=v.Frmt,D="";if(T!=0&&T!=4&&T!=6)throw T;var o=v.BmpW,s=v.BmpH,Q=T==4?5:T==0?4:1,X=Math.ceil(o/256),B=Math.ceil(s/256),M=new cS(0,0,X,B),S=new cS;
for(var y=0;y<Q;y++){var f=new Uint8Array(v["Sta"+(y+1)]),F=W.UF(f,M);S=S.XN(F)}var G=[];for(var y=0;
y<Q;y++){var f=new Uint8Array(v["Sta"+(y+1)]),b=W.Q(S.O());W.XT(f,M,b,S);G[y]=[];for(var H=0;H<b.length;
H++)G[y][H]=b[H];D+=JSON.stringify(G[y])+","+JSON.stringify(v["Idx"+(y+1)])+","}if(C[D]==null){var q=S.b*256,O=S.n*256,w=new Array(Q);
for(var y=0;y<Q;y++){var f=w[y]=new Uint8Array(q*O);e(f,v["Idx"+(y+1)],G[y],n,q,O)}var V=W.Q(q*O*4);
if(T==0)W.se({o:w[0],J:w[1],k:w[2],Cc:w[3]},V);else if(T==4){for(var y=0;y<w[0].length;y++){var t=y*4,m=w[0][y]*(1/255),g=w[1][y]*(1/255),Y=w[2][y]*(1/255),A=w[3][y]*(1/255),k=UDOC.C.cmykToRgb([m,g,Y,A]);
V[t]=k[0]*255;V[t+1]=k[1]*255;V[t+2]=k[2]*255;V[t+3]=w[4][y]}}else{V.fill(255);W.eE(w[0],V)}var z=new cS(0,0,q,O),p={buffer:V,rect:z};
W.yw(p);C[D]=[p.rect,p.buffer]}var F=C[D][2]=C[D][0].clone();F.x+=S.x*256;F.y+=S.y*256;return C[D]}function e(v,n,C,T,o,s){var Q=0,X=o>>>8,B=s>>>8;
for(var M=0;M<B;M++)for(var S=0;S<X;S++){var f=S*256,F=M*256,G=M*X+S,D=F*o+f,b=C[G];if(b<=1)d(v,D,0,o,256,256);
else if(b==2)d(v,D,4294967295,o,256,256);else if(b==4){var H=n[Q];Q++;var q=T[H.Data.DatI],O=H.Rect;
if(O==null)O=[0,0,256,256];d(v,D,0,o,256,256);I(v,(F+O[1])*o+f+O[0],q,O[1]*256+O[0],o,256,O[2]-O[0],O[3]-O[1])}else console.log(b)}}function d(v,n,C,T,o,s){var Q=n+T*s;
for(;n<Q;n+=T){var X=n+o;for(var B=n;B<X;B++){v[B]=C}}}function I(v,n,C,T,o,s,Q,X){var B=n+o*X,M=T+s*X;
for(;n<B&&T<M;n+=o,T+=s){for(var y=0;y<Q;y++)v[n+y]=C[T+y]}}return K}();function bv(){}bv.Sg=function(K,E){var x=bv,c=bY.parse(K),i=0;
if(c.pages.length>1)console.log(c.pages.length,"pages");var J=[],P=new cS;for(var _=0;_<c.pages.length;
_++){var a=c.pages[_],j=a.layers,e=x.hp(j,_),I=!1;if(e.O()>8e3*8e3||e.b>3e4||e.n>3e4){x.a9d(j,!0);var d=x.hp(j,_);
if(d.O()>=e.O())x.a9d(j,!1)}e=x.hp(j,_);for(var v=0;v<j.length;v++){var n=j[v];if(x.oa(n)=="artboard")I=!0}if(!I){console.log("no artboard");
var C={};for(var T in a)C[T]=a[T];C._class="group";a.layers=[C]}J.push(e.clone());if(e.um())continue;
e.x=0;e.y=i;i+=e.n+200;P=P.XN(e)}var o={};if(c.foreignSymbols)for(var y=0;y<c.foreignSymbols.length;
y++){var s=c.foreignSymbols[y].symbolMaster;o[s.symbolID]={L3:s}}x.aeD(c.pages,o,E);for(var Q in o){var n=o[Q].L3,X=x.a40(n.layers)}var B=bv.Kj(P,8192*8192);
E.zc=!0;E.b=Math.round(P.b/B);E.n=Math.round(P.n/B);E.buffer=W.Q(E.b*E.n*4);E.yR(c.pages[0].layers.length);
E.xY={};E.DZ=[];i=0;for(var _=0;_<c.pages.length;_++){var M=c.pages[_],e=J[_],S=new iQ(B,0,0,B,e.x,e.y-i);
x.ox(M.layers,E,S,c,o,{},[]);i+=e.n+200}delete E.xY;delete E.DZ;if(B!=1)alert("File scaled down "+B+"x");
E.avb()};bv.a2k=0;bv.oa=function(K){return K._class?K._class:K.$class};bv.Kj=function(K,E){var x=1;while(Math.round(K.b/x)*Math.round(K.n/x)>E||Math.max(Math.round(K.b/x),Math.round(K.n/x))>3e4)x++;
if(x!=1&&!window.confirm("Your image is quite large ("+K.b+" x "+K.n+" px).\n"+"Press OK to scale it down "+x+"x, or Cancel to keep the size."))x=1;
return x};bv.hp=function(K,E){var x=[],c=bv;for(var J=0;J<K.length;J++){var i=K[J],P=c.nj(i.frame);if(E==0||c.oa(i)=="artboard")x.push(P)}return W.rect.Nf(x)};
bv.a9d=function(K,E){var x=[],c=bv;for(var J=0;J<K.length;J++){var i=K[J],P=c.nj(i.frame);P.b+=150;P.n+=150;
x.push(P)}var _=W.rect.Nf(x);W.rect.aiB(x,E);var a=W.rect.Nf(x);if(a.O()*1.5<_.O()||_.b>3e4&&a.b<=3e4||_.n>3e4&&a.n<=3e4){alert("Re-arranging artboards");
for(var J=0;J<K.length;J++){var j=x[J],i=K[J],e=i.frame;e.x=j.x;e.y=j.y}}};bv.aeD=function(K,E,x){var c=bv;
for(var J=0;J<K.length;J++){var i=K[J],P=c.oa(i);if(["page","artboard","group"].indexOf(P)!=-1)c.aeD(i.layers,E,x);
else if(P=="symbolMaster")E[i.symbolID]={L3:i}}};bv.a40=function(K){var E=bv;for(var x=0;x<K.length;
x++){var c=K[x],J=E.oa(c),i=null;if(["page","artboard","group"].indexOf(J)!=-1)i=E.a40(c.layers);if(J=="symbolMaster"||J=="symbolInstance")i=c;
if(i!=null)return i}return null};bv.ox=function(K,E,x,c,J,i,P){var _=bv,a=[];for(var j=0;j<K.length;
j++){var e=K[j],d=e.frame?_.nj(e.frame):null,I=e.style,o="",S=null,f=!1;if(I==null){console.log("no styles")}var v=_.a6m(e,x),n=_.oa(e),C=n=="shapeGroup"||n=="shapePath"||n=="rectangle"||n=="oval"||n=="triangle"||n=="polygon",T=["page","artboard","group"].indexOf(n)!=-1;
if(n=="shapeGroup"){for(var y=0;y<e.layers.length;y++)if(_.oa(e.layers[y])=="shapeGroup")T=!0}var s=e.exportOptions;
if(s){var Q=s.exportFormats;if(Q==null)Q=s.sizes;if(n!="artboard"&&(Q&&Q.length!=0)){var X=Q[0].scale}}var B=E.EY();
B.g7(e.isVisible);var M=e.name;if(!(typeof M=="string"))M=n;B.yH(o+M.slice(0,250));if(I!=null)S=_.ahd(c,E,I,d,v,B.getName(),C||n=="artboard"||T);
if(n=="rectangle"&&I&&I.fills&&I.fills[0]){var F=I.fills[0];if(F.fillType==4&&F.patternFillType>1&&F.image!=null)f=!0}if(e.shouldBreakMaskChain){while(a.length!=0)_.abq(a.pop(),E)}if(T){B.add.lsct=e.layerListExpandedType==2?fV.Bm:fV.wg;
B.Vk="pass";B.LD=24;B.g7(e.isVisible);E.B.push(E.NG());if(n=="artboard"){var G=d.clone(),D=v.pA();G.x=-Math.floor(v.qW/D);
G.y=-Math.floor(v.Ju/D);G.b=Math.floor(G.b/D);G.n=Math.floor(G.n/D);B.MZ(G);var b=e.backgroundColor,H=b?{o:255*b.red,J:255*b.green,k:255*b.blue}:{o:255,J:255,k:255};
B.add.artb.Clr={t:"Objc",v:W.M.TD(H)};B.add.artb.artboardBackgroundType={t:"long",v:4}}_.ox(e.layers,E,v,c,J,i,P)}else if(C&&!f){B.add.vmsk=new Z.Wf;
B.add.vstk=JSON.parse(JSON.stringify(dz.Ae.default));B.add.vstk.strokeEnabled.v=!1;var q=S!=null&&S.frameFXMulti.v.length==1,O=I?I.fills:null,w=I?_.a0L(c,O,d,v,B.getName(),E,_.LT(P,e.do_objectID+"_image")):[];
if(w.length==0){if(q)B.add.vstk.fillEnabled.v=!1;else B.add.iOpa=0;B.add.SoCo={classID:"null",Clr:{t:"Objc",v:W.M.TD({o:0,J:0,k:0})}}}else{var V=w[0],t=null,m=null;
if(V.type=="SoFi"){t="SoCo";m=dz.zg}if(V.type=="GrFl"){t="GdFl";m=dz.Ab}if(V.type=="patternFill"){t="PtFl";
m=dz.Tk}if(t!=null){B.add[t]={classID:"null"};for(var y=0;y<m.length;y++){var g=m[y];B.add[t][g]=V.Z.v[g]}var Y=V.Z.v.Opct.v.val;
if(q&&Y==0)B.add.vstk.fillEnabled.v=!1;else B.add.iOpa=Math.round(255*Y/100)}}B.LD|=16;B.add.vmsk.i=_.SF(e.layers?e.layers:[e],e.layers?v:x);
var A=I?I.blur:null;if(A&&A.isEnabled&&A.type<=1)B.add.vmsk.Zs=A.radius;if(B.add.vmsk.i.length==2){console.log("shape with no content:",B.getName())}if(q){var k=S.frameFXMulti.v[0].v,z=B.add.vstk,p=I.borders[0];
S.frameFXMulti.v=[];bd.acI(k,z);var L=I.borderOptions,N=I.miterLimit;if(L){var gC=L.dashPattern;z.strokeStyleLineCapType.v.strokeStyleLineCapType=dz.Ae.cG[L.lineCapStyle];
z.strokeStyleLineJoinType.v.strokeStyleLineJoinType=dz.Ae.join[L.lineJoinStyle];if(gC)z.strokeStyleLineDashSet.v=bd.jP(gC,1/k.Sz.v.val);
if(N!=null)z.strokeStyleMiterLimit.v=N}}B.yt();B.DY(E)}else if(n=="bitmap"||f){if(!f&&e.image==null)continue;
var r=f?I.fills[0]:null,h=f?r.image.bdata:e.image.bdata,l=E.EI(h,B.getName(),0,0);l.LD=B.LD;B=l;var A=I?I.blur:null,g5=I?I.colorControls:null;
if(A||g5){B.add.SoLd.filterFX=dJ.RW();E.ey({id:B.add.SoLd.placed.v,rect:new cS,buffer:W.Q(1),z:new Z.vW});
var O=B.add.SoLd.filterFX.v.filterFXList.v;if(A){var fm=dJ.Ew("GsnB",{});fm.v.enab.v=A.isEnabled;fm.v.Fltr.v.Rds.v.val=A.radius;
O.push(fm)}if(g5){var dC=g5.brightness,ex=g5.contrast,cR=g5.hue,d0=g5.saturation;if(cR!=0||d0!=1){var fm=dJ.Ew("hue2",{});
fm.v.enab.v=g5.isEnabled;c7.l2(fm.v.Fltr.v,0,[Math.round(cR*180/Math.PI),Math.round((d0-1)*100),0]);
O.push(fm)}if(dC!=0||ex!=1){var fm=dJ.Ew("brit",{});fm.v.enab.v=g5.isEnabled;ex=ex-1;if(ex>0)ex/=2;var hN=fm.v.Fltr.v;
hN.Brgh.v=Math.round(dC*255);hN.Cntr.v=Math.round(ex*255);hN.useLegacy.v=!0;O.push(fm)}}}if(f){var ey=r.patternFillType;
if(ey==3){var cr=B.rect.b/B.rect.n,ik=d.b/d.n;if(cr<ik){v.translate(-(d.b*(1-cr/ik))/2,0);v.scale(ik/cr,1)}else{v.translate(0,-(d.n*(1-ik/cr))/2);
v.scale(1,cr/ik)}}}d.x=d.y=0;var hd=W.p.VD(d).C;v.Pa();W.p.u(hd,v,hd);B.add.SoLd.Trnf=$.Xq.K0(hd);B.add.SoLd.nonAffineTransform=$.Xq.K0(hd);
B.mQ(E,!1)}else if(n=="text"){if(e.attributedString==null)continue;var df=v.clone(),bQ,is,h9=0;df.Pa();
df.Cc=df.Ga=Math.min(df.Cc,df.Ga);B.add.lnsr="rend";B.add.TySh=ev.l4(0,0);B.add.TySh.T6=new cS(0,0,d.b,d.n);
B.add.TySh.u=df;var bi=e.attributedString;if(bi.archivedAttributedString)bi=bi.archivedAttributedString;
var jX=bi.NSString;if(jX==null)jX=bi.string;if(jX==null)jX="";if(jX["NS.string"])jX=jX["NS.string"];
if(i[e.do_objectID]!=null)jX=i[e.do_objectID];var eS=_.LT(P,e.do_objectID+"_stringValue");if(eS)jX=eS.value;
if(bi.attributes!=null){bQ=[];is=[];var bN=bi.attributes;for(var y=0;y<bN.length;y++){bQ.push(bN[y].length,y);
is.push(bN[y].attributes)}}else if(bi.NSAttributeInfo==null){bQ=[jX.length,0];is=[bi.NSAttributes]}else{bQ=bi.NSAttributeInfo["NS.data"];
is=bi.NSAttributes;bQ=bv.a9o(bQ,is)}for(var y=0;y<bQ.length;y+=2)h9+=bQ[y];if(h9!=jX.length){while(h9>jX.length){bQ[bQ.length-2]--;
h9--;if(bQ[bQ.length-2]==0){bQ.pop();bQ.pop()}}bQ[bQ.length-2]+=jX.length-h9}jX=jX.replace(/\u2028/g,"\n");
jX=jX.replace(/\u2029/g,"\n");jX=jX.replace(/\r/g,"\n");var bz=B.add.TySh.kd;ev.tW(bz,0,jX);if(jX!=""){var i0=e.textBehaviour,hp=I.textStyle,hY=hp?hp.verticalAlignment:0,ji=_.az8(bz,bQ,is,jX),D=df.pA(),aM=ev.Jw(bz,0,1),jJ=0;
if(aM.BY.Font){var a1=aM.Ho[aM.BY.Font].Name;if(a1=="FontAwesome"||a1=="Ionicons")ji*=.87}var fi=aM.BY.AutoLeading?0:aM.BY.Leading*.6,gg=Math.max(ji,fi)*D,iN=d.b,h6=d.n;
if(i0==0){ev.IT(bz,0);var iY=ev.Xy(aM.sn);if(iY==1)jJ=iN*D;if(iY==2)jJ=iN*D*.5;if(hY==0)gg*=1;else gg*=.9}else{ev.IT(bz,1);
ev.sV(bz,[0,0,Math.round(iN),Math.round(h6)]);if(i0==2&&hY==0)gg=gg*.2;else if(i0==2&&hY==1){gg=D*.5*(h6-aM.BY.FontSize)}else if(i0==1&&hY==0)gg=gg*.2;
else gg=gg*.35}B.add.TySh.u.translate(jJ,gg)}}else if(n=="symbolInstance"||n=="symbolMaster"){var kh=e.symbolID;
if(i[e.do_objectID])kh=i[e.do_objectID].symbolID;var aT=_.LT(P,e.do_objectID+"_symbolID");if(aT)kh=aT.value;
if(kh=="")continue;var fs={};for(var g in i)fs[g]=i[g];if(e.overrides)for(var g in e.overrides)fs[g]=e.overrides[g];
var gm=P.slice(0);if(e.overrideValues)gm=gm.concat(e.overrideValues);var g8=J[kh];if(g8==null){console.log("Unknown master master",e.symbolID);
continue}var b_=bv.nj(g8.L3.frame),ko=b_.b/d.b,gk=b_.n/d.n,bx=v.clone();bx.scale(ko,gk);B.add.lsct=fV.wg;
B.Vk="pass";B.LD=24;B.g7(e.isVisible);E.B.push(E.NG());var ai=g8.L3;if(E.DZ.indexOf(ai)==-1){E.DZ.push(ai);
_.ox(ai.layers,E,bx,c,J,fs,gm);E.DZ.pop()}}else if(n=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+n,e);continue}if(I&&I.contextSettings){var hf=I.contextSettings,aa=hf.blendMode;
if(aa<_.$W.length){B.Vk=db.bV[db.ws.indexOf(_.$W[aa])];if(T&&B.Vk=="norm")B.Vk="pass"}B.opacity=Math.round(B.opacity*hf.opacity)}if(S!=null){B.add.lmfx=S}E.B.push(B);
if(e.hasClippingMask&&K.length>1){a.push(B);E.B.push(E.NG())}}while(a.length!=0)_.abq(a.pop(),E)};bv.LT=function(K,E){for(var y=0;
y<K.length;y++)if(K[y].overrideName.startsWith(E))return K[y]};bv.a9o=function(K,E){var x=0,c=[];while(x+1<K.length){var J=K[x];
x++;if(J>127){J+=128*(K[x]-1);x++;if(K[x-1]>127){J+=128*(K[x]-1);x++}}var i=K[x];x++;c.push(J,i)}return c};
bv.az8=function(K,E,x,c){var J=bv,i=0,e=0,d=0;for(var y=0;y<c.length;y++){var P=c.charCodeAt(y),_=1473<=P&&P<=1479||1488<=P&&P<=1514||1520<=P&&P<=1524,a=1569<=P&&P<=1594||1600<=P&&P<=1749;
if(_||a)i++}var j=i>c.length/2;for(var y=0;y<E.length;y+=2){var I=E[y],B=14,M="DejaVuSans";if(I==0)continue;
var v=E[y+1],n=x[v],C=ev.Jw(K,e,e+I-1),T=n.NSColor;if(T==null){var T=n.MSAttributedStringColorDictionaryAttribute;
if(T==null)T=n.MSAttributedStringColorAttribute;if(T==null)T="0 0 0";else T=[T.red,T.green,T.blue].join(" ")}else if(J.oa(T)=="MSArchivedColor")T=T.dr+" "+T.dg+" "+T.db;
else if(T.NSRGB){T=T.NSRGB;T=R.pr(T,0,T.length-1)}else if(T.NSCMYK){T=T.NSCMYK;T=R.pr(T,0,T.length-1);
T=T.split(" ").map(parseFloat);var o=1-T[0],s=1-T[1],Q=1-T[2],X=1-T[3];T=o*X+" "+s*X+" "+Q*X}else if(T.NSWhite){T="1 1 1"}T=T.split(" ");
C.BY.FillColor={Type:1,Values:[1,parseFloat(T[0]),parseFloat(T[1]),parseFloat(T[2])]};var S=n.MSAttributedStringFontAttribute;
if(n.NSFont){B=n.NSFont.NSSize;M=n.NSFont.NSName}else if(S){if(S.attributes){S=S.attributes;B=S.size;
M=S.name}else{var f=S.NSFontDescriptorAttributes;if(f==null)f=S.UIFontDescriptorAttributes;S=f;B=S.NSFontSizeAttribute;
M=S.NSFontNameAttribute}if(M==null)M="DejaVuSans"}var d=Math.max(d,B);C.BY.FontSize=Math.round(B);ev.H8(C,M);
var F=n.NSKern;if(F==null)F=n.kerning;if(F!=null)C.BY.Tracking=Math.round(1e3*F/B);if(n.NSUnderline!=null)C.BY.Underline=n.NSUnderline>0;
var G=n.NSStrikethrough;if(G==null)G=n.strikethroughStyle;if(G!=null)C.BY.Strikethrough=G>0;if(n.MSAttributedStringTextTransformAttribute==1)C.BY.FontCaps=2;
var D=n.NSParagraphStyle;if(D==null)D=n.paragraphStyle;if(D){var b=D.paragraphSpacing;if(b!=null){C.sn.SpaceAfter=b}var H=D.NSAlignment;
if(H==null)H=D.alignment;if(H!=null){var q=0;if(!1){}else if(H==1)q=1;else if(H==2)q=2;else if(H==4)q=0;
else{q=H;console.log("unknown align",H)}if(j&&q<2)q=1-q;C.sn.Justification=q}var O=D.NSMinLineHeight;
if(O==null)O=D.minimumLineHeight;if(O!=null){C.BY.AutoLeading=!1;C.BY.Leading=O}}C.sn._Direction=j?1:0;
ev.q1(K,e,e+I,C);e+=I}return d};bv.ahd=function(K,E,x,c,J,i,P){var _=bv,a=JSON.parse(dz.default),j=!1;
for(var y=0;y<dz.order.length;y++)a[dz.E9[y]]={t:"VlLs",v:[]};var e=x.fills,d=_.a0L(K,e,c,J,i,E);for(var I=0;
I<2;I++){var v=x[["shadows","innerShadows"][I]];if(v==null)continue;var n=["DrSh","IrSh"][I],C=dz.E9[dz.order.indexOf(n)];
for(var y=0;y<v.length;y++){var T=v[y];if(!T.isEnabled)continue;if(T.contextSettings.opacity==0||T.color.alpha==0)continue;
var o=JSON.parse(dz.hQ[dz.order.indexOf(n)]);a[C].v.unshift({t:"Objc",v:o});j=!0;o.Clr.v=_.Af(T.color);
o.blur.v.val=Math.round(T.blurRadius/J.pA());var s=J.clone();s.qW=s.Ju=0;s.Pa();var Q=s.iR(new iP(T.offsetX,T.offsetY)),X=Math.sqrt(Q.x*Q.x+Q.y*Q.y);
o.Dstn.v.val=Math.round(X);o.lagl.v.val=Math.round(Math.atan2(Q.y,-Q.x)*(180/Math.PI));if(o.layerConceals)o.layerConceals.v=d.length!=0;
_.Hs(T,o)}}var B=x.borders;if(B!=null&&(d.length==0||x.blur==null||!x.blur.isEnabled))for(var y=0;y<B.length;
y++){var M=B[y];if(!M.isEnabled)continue;var o=JSON.parse(dz.hQ[dz.order.indexOf("FrFX")]),C=dz.E9[dz.order.indexOf("FrFX")];
a[C].v.unshift({t:"Objc",v:o});j=!0;o.Clr.v=_.Af(M.color);if(M.fillType!=0&&M.gradient){var S=_.sB(M.gradient,c,J,i),f=["Type","Angl","Ofst","Scl"];
for(var y=0;y<f.length;y++)o[f[y]]=S[f[y]];o.Grad.v=S.Grad.v;o.PntT.v.FrFl="GrFl"}o.Sz.v.val=Math.round(M.thickness/J.pA());
o.Styl.v.FStl=["CtrF","InsF","OutF"][M.position];_.Hs(M,o)}for(var y=P?1:0;y<d.length;y++){var F=d[y],C=dz.E9[dz.order.indexOf(F.type)];
a[C].v.unshift(F.Z);j=!0}return j?a:null};bv.a0L=function(K,E,x,c,J,i,P){if(E==null)return[];var _=bv,a=[];
for(var y=0;y<E.length;y++)if(E[y].isEnabled)a.push(E[y]);E=a;var j=[];for(var y=0;y<E.length;y++){var e=E[y],d=null,I=null;
if(e.fillType==0){d="SoFi";var v=JSON.parse(dz.hQ[dz.order.indexOf("SoFi")]);I={t:"Objc",v:v};I.v.Clr.v=_.Af(e.color)}else if(e.fillType==1){d="GrFl";
I={t:"Objc",v:_.sB(e.gradient,x,c,J)}}else if(e.fillType==4&&e.image!=null){var n=e.image;if(P)n=P.value;
var C=gr.lX(n.bdata.buffer);if(C!=null&&C!="pdf"&&C!="eps"){var T,M=0,S=0,f=0;if(i.xY[n.key])T=i.xY[n.key];
else{var o=gr.Zf(C).TJ(n.bdata)[0],s=o.yA.clone();T={};T.id=gD.g4()+"-d71c-11e5-b1ae-a548a96e5f9f";T.name="someImage";
T.gW=[new Uint8Array(o.data),s];i.Wu(T);i.xY[n.key]=T}var Q=T.gW[1],v=JSON.parse(dz.hQ[dz.order.indexOf("patternFill")]);
d="patternFill";I={t:"Objc",v:v};var X=e.patternFillType,B=e.patternTileScale;v.Algn.v=!0;v.Ptrn.v.Idnt.v=T.id;
if(X==0){M=B*Q.b/Math.min(Q.b,Q.n);S=-c.qW;f=-c.Ju}else{M=Math.max(x.b/Q.b,x.n/Q.n);S=-c.qW-(Q.b*M-x.b)/2;
f=-c.Ju-(Q.n*M-x.n)/2}v.Scl.v.val=100*M*(1/c.pA());v.phase.v.Hrzn.v=Math.round(S/c.pA());v.phase.v.Vrtc.v=Math.round(f/c.pA())}}else if(e.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",e.fillType);
if(d!=null){_.Hs(e,I.v);j.push({type:d,Z:I})}}return j};bv.a1W=function(K){var E=bv,x=new cS(0,0,1,1);
K=K.slice(0);while(!0){var c=!1;for(var y=0;y<K.length-1;y++){var J=K[y],i=K[y+1],P=null,_=J.contextSettings;
if(J.fillType==0&&(_==null||_.opacity==1&&_.blendMode==0)&&J.color.alpha==1){var a="norm",j=1,_=i.contextSettings;
if(_){j=_.opacity;a=db.qw(E.$W[_.blendMode])}if(i.fillType==0){P=JSON.parse(JSON.stringify(i));E.axw(P.color,J.color,P.color,x,a,j)}if(i.fillType==1){P=JSON.parse(JSON.stringify(i));
var e=P.gradient.stops;for(var d=0;d<e.length;d++)E.axw(e[d].color,J.color,e[d].color,x,a,j)}if(P!=null&&P.contextSettings){var _=P.contextSettings;
_.opacity=1;_.blendMode=0}}if(P!=null){K.splice(y,0,P);c=!0;break}}if(!c||K.length<2)break}return K};
bv.axw=function(K,E,x,c,J,i){var P=bv,_=W.Q(4);P.asA(K,_);var a=W.Q(4);P.asA(E,a);W.h.Nh(J,_,c,a,c,c,i);
P.aaA(a,x)};bv.asA=function(K,E){E[0]=255*K.red;E[1]=255*K.green;E[2]=255*K.blue;E[3]=255*K.alpha};bv.aaA=function(K,E){E.red=K[0]/255;
E.green=K[1]/255;E.blue=K[2]/255;E.alpha=K[3]/255};bv.abq=function(K,E){K=K.clone();K.LD=24;K.yH("Mask by "+K.getName());
E.B.push(K);K.add.lsct=fV.Bm;K.add.lyid=E.Xc();delete K.add.lmfx;delete K.add.SoCo;delete K.add.GdFl;
delete K.add.PtFl;delete K.add.iOpa;if(K.add.vmsk)K.add.vmsk.I_=!0;K.yt();K.DY(E);if((K.LD&16)==16)K.LD-=16;
if((K.LD&2)==2)K.LD-=2;K.Vk="pass";K.opacity=255};bv.$W="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
bv.sB=function(K,E,x,c){x=x.clone();x.Pa();x.qW=x.Ju=0;var J=x.pA(),I=0,v=0;x.scale(1/J,1/J);var i=bv,P=JSON.parse(dz.hQ[dz.order.indexOf("GrFl")]),_=P.Grad.v;
_.Intr.v=0;if(K==null)return P;var a=K.gradientType,j=i.RT(K.from),e=i.RT(K.to);j.offset(-.5,-.5);e.offset(-.5,-.5);
j=x.iR(j);e=x.iR(e);var d=Math.atan2(-(e.y-j.y),e.x-j.x);P.Type.v.GrdT=["Lnr","Rdl","Angl"][a];P.Scl.v.val=100*iP.B4(j,e);
if(a==0){P.Angl.v.val=180/Math.PI*d;P.Scl.v.val=100*iP.B4(j,e);I=(j.x+e.x)/2;v=(j.y+e.y)/2}if(a==1){P.Scl.v.val=200*iP.B4(j,e);
I=j.x;v=j.y}if(a==2){P.Angl.v.val=180/Math.PI*(d-Math.PI/2)}var n=P.Ofst.v;n.Hrzn.v.val=I*100;n.Vrtc.v.val=v*100;
var C=[];for(var y=0;y<K.stops.length;y++){var T=K.stops[y],o=T.color;C.push([T.position,o?[o.red,o.green,o.blue]:[0,0,0],o.alpha])}W.M.LW(C,_);
return P};bv.Hs=function(K,E){var x=bv,c=1,J=K.contextSettings;if(J!=null){E.Md.v.BlnM=x.$W[J.blendMode];
c*=J.opacity}else E.Md.v.BlnM=x.$W[0];E.enab.v=K.isEnabled;if(E.uglg!=null)E.uglg.v=!1;if(K.color!=null)c*=K.color.alpha;
E.Opct.v.val=Math.round(c*100)};bv.Af=function(K){return W.M.TD(K?{o:K.red*255,J:K.green*255,k:K.blue*255}:{o:0,J:0,k:0})};
bv.SF=function(K,E){var x=bv,c=[{type:6},{type:8,all:0}];for(var J=0;J<K.length;J++){var i=K[J],P=i.booleanOperation,_=0,a=i._class,n=!1;
if(a=="group"||a=="text"||a=="symbolInstance"||a=="slice"){console.log(a+" inside ShapeGroup");continue}if(P==-1)_=0;
else if(P==0)_=1;else if(P==1)_=2;else if(P==2)_=3;else if(P==3)_=0;if(J==0)_=1;var j=bv.nj(i.frame),e=x.a6m(i,E),d=i.path?i.path:i,I=[{type:0,length:0,qX:_,Im:2,At:0,Tw:0}],v=d.points;
for(var y=0;y<v.length;y++){var C=v[y],T=x.RT(C.curveTo),o=x.RT(C.point),s=x.RT(C.curveFrom);n=n||C.hasCurveFrom&&!s.ac(o)||C.hasCurveTo&&!T.ac(o)}var Q=[];
if(!n){var X=[],hr=v.length;if(hr==0)continue;for(var y=0;y<hr;y++){Q[y]=v[y].cornerRadius;var C=x.RT(v[y].point);
X.push(C.x,C.y)}e.scale(1/j.b,1/j.n);e.Pa();W.p.u(X,e,X);I=W.r.Ic.y0(X,Q).slice(2);I[0].qX=_}else{var B=v.length;
I[0].length=B;for(var y=0;y<B;y++){var C=v[y],M=C.curveMode,S=x.RT(C.point);I[1+y]={type:M==2||M==4?1:2,ri:C.hasCurveTo?x.RT(C.curveTo):S.clone(),H:S,XK:C.hasCurveFrom?x.RT(C.curveFrom):S.clone()}}e.scale(1/j.b,1/j.n);
e.Pa();W.r.it(I,e);var Q=[];for(var y=0;y<B;y++){var C=v[y],M=C.curveMode,f=C.cornerRadius;if(M==1&&f!=0)Q.push(f);
else Q.push(0)}}if(!d.isClosed)for(var y=0;y<I.length;y++)I[y].type+=3;c=c.concat(I);var F=x.oa(i);if(e.k==0&&e.o0==0){var G=e.qW,D=e.Ju,b=G+e.Cc,H=D+e.Ga,q=[G,D,b,H]}}return c};
bv.a6m=function(K,E){var x=E.clone(),c=K.frame?bv.nj(K.frame):null;if(c)x.translate(-c.x-c.b/2,-c.y-c.n/2);
if(K.isFlippedHorizontal)x.scale(-1,1);if(K.isFlippedVertical)x.scale(1,-1);x.rotate(-K.rotation*(Math.PI/180));
if(c)x.translate(c.b/2,c.n/2);return x};bv.RT=function(K){K=K.slice(1,K.length-1).split(",");return new iP(parseFloat(K[0]),parseFloat(K[1]))};
bv.nj=function(K){return new cS(K.x,K.y,K.width,K.height)};bv.a4$=function(K){return{_class:"rect",constrainProportions:!1,x:K.x,y:K.y,width:K.b,height:K.n}};
function f3(){}f3.Sg=function(K,E){var x=Date.now(),c=f3,J=UZIP.parse(K),i=JSON.parse(R.__(J.manifest)),P=JSON.parse(R.__(J["resources/graphics/graphicContent.agc"])).resources,_=[],a=[],j=i.children;
for(var y=0;y<j.length;y++){var e=j[y];if(e.name=="artwork"){var d=e.children;for(var I=0;I<d.length;
I++){var v=d[I],n=JSON.parse(R.__(J["artwork/"+v.path+"/graphics/graphicContent.agc"])),C=n.children;
if(C.length==0){}else if(C.length==1){if(v["uxdesign#bounds"]){v._node=C[0];_.push(v)}}else{var T=C[0],o=T.transform,s=T.shape;
if(s==null)s={x:0,y:0,width:1e3,height:1e3};if(s.type=="path"){var Q=W.p.Uz(Typr.U.SVGToPath(s.path).crds);
s={x:Q.x,y:Q.y,width:Q.b,height:Q.n}}s=JSON.parse(JSON.stringify(s));if(o){s.x+=o.tx;s.y+=o.ty}v["uxdesign#bounds"]=s;
v._node={type:"artboard",artboard:{children:C}};a.push(v)}}}}if(_.length==0)_=a;var X=[],B=new cS;for(var y=0;
y<_.length;y++){var v=_[y],M=bv.nj(v["uxdesign#bounds"]);X.push(M);B=B.XN(M)}var S=bv.Kj(B,8192*8192);
E.zc=!0;E.b=Math.round(B.b/S);E.n=Math.round(B.n/S);E.buffer=W.Q(E.b*E.n*4);E.yR(_.length);var f=new iQ(S,0,0,S,B.x,B.y);
E.xY={};for(var y=0;y<_.length;y++){var v=_[y],M=bv.nj(v["uxdesign#bounds"]),F=v._node,G=f.clone(),D=M.clone(),b=G.pA();
G.translate(-M.x,-M.y);D.x=-Math.floor(G.qW/b);D.y=-Math.floor(G.Ju/b);D.b=Math.floor(D.b/b);D.n=Math.floor(D.n/b);
G.translate(M.x,M.y);f3.P1(F,E,G,P,J,D);var H=E.B[E.B.length-1];H.yH(v.name);H.MZ(D);if(y!=_.length-1)H.add.lsct=fV.wg}delete E.xY};
f3.uT=function(K){if(K==null)return new iQ;return new iQ(K.a,K.b,K.c,K.d,K.tx,K.ty)};f3.P1=function(K,E,x,c,J,i){var P=f3,_=K.type,a=K[_],j=K.style,e=P.uT(K.transform),n,C="none",T,o="none",s,Q;
e.Pa();var d=x.clone();d.concat(e);var I=E.EY(),v=K.name;I.yH(v?v.slice(0,250):"Layer");if(K.visible!=null)I.g7(K.visible);
if(j){n=j.stroke;C=n?n.type:"none";T=j.fill;o=T?T.type:"none";s=j.filters;Q=j.clipPath;if(Q&&c.clipPaths[Q.ref])Q=c.clipPaths[Q.ref].children;
else Q=null;if(j.opacity!=null)I.opacity=Math.round(255*j.opacity);if(o=="solid"&&T.color.alpha)I.opacity=Math.round(I.opacity*T.color.alpha);
if(s){I.add.lmfx=P.azq(s);for(var y=0;y<s.length;y++)if(s[y].type=="uxdesign#blur"){var X=s[y],B=X.params,M=B.brightnessAmount;
if(M==null)M=0;M=Math.abs(M/100);if((X.visible==null||X.visible==!0)&&B.backgroundEffect)I.opacity=Math.round(I.opacity*(M+(1-M)*B.fillOpacity))}}if(o=="pattern"&&T.pattern.meta.ux.uid=="")o="none"}if(Q==null&&K.meta&&K.meta.ux&&K.meta.ux.clipPathResources)Q=K.meta.ux.clipPathResources.children;
if(_=="artboard"||_=="group"){if(Q){var S=Q[0],f=S.shape,F=f!=null&&f.type=="rect"&&f.width*f.height>1e6;
if(S.type!="text"&&!F){if(f){var e=P.uT(S.transform);e.Pa();var G=d.clone();G.concat(e);I.add.vmsk=new Z.Wf;
I.add.vmsk.i=P.SF(f);G=G.clone();G.Pa();W.r.it(I.add.vmsk.i,G);I.yt();I.DY(E)}}else if(!F)alert("Clipping by text has been ignored")}I.add.lsct=fV.Bm;
I.Vk="pass";I.LD=24;if(K.visible!=null)I.g7(K.visible);E.B.push(E.NG());var D=a.children,b=T;if(b)b=b.color;
if(b)b=b.value;if(T){if(_=="artboard"&&o=="solid"){I.MZ(new cS(0,0,10,10));I.add.artb.Clr={t:"Objc",v:W.M.TD({o:b.r,J:b.g,k:b.b})};
I.add.artb.artboardBackgroundType={t:"long",v:4}}else{var H=E.EY();H.yH("BACKGROUND");H.LD|=16;H.add.vstk=JSON.parse(JSON.stringify(dz.Ae.default));
H.add.vmsk=new Z.Wf;H.add.vmsk.i=P.SF({type:"rect",x:i.x,y:i.y,width:i.b,height:i.n});P.uK(T,o,d,i,i,H,E,c,J);
H.yt();H.DY(E);E.B.push(H)}}for(var y=0;y<D.length;y++){f3.P1(D[y],E,d,c,J,i)}}else if(_=="shape"&&(a.type=="rect"&&(a.r==null||a.r==0)||a.type=="path"&&UDOC.G.isBox(Typr.U.SVGToPath(a.path)))&&o=="pattern"&&(Math.abs(a.width/a.height-T.pattern.width/T.pattern.height)<.01||j.fill.pattern.meta.ux.scaleBehavior=="fill")){var q=T.pattern,O=q.meta.ux,w=O.uid,V=J["resources/"+w];
if(V==null){console.log(q);return}var t=E.EI(V,I.getName(),0,0);t.LD=I.LD;t.opacity=I.opacity;I=t;var m=W.r.a3(P.SF(a),null),g=W.p.VD(new cS(0,0,q.width,q.height)).C,Y=new iQ;
Y.scale(q.width/m.b,q.height/m.n);if(O.offsetX)Y.translate(-O.offsetX*q.width,0);if(O.offsetY)Y.translate(0,-O.offsetY*q.height);
d.concat(Y);d.Pa();W.p.u(g,d,g);I.add.SoLd.Trnf=$.Xq.K0(g);I.add.SoLd.nonAffineTransform=$.Xq.K0(g);
I.mQ(E,!1)}else if(_=="shape"){I.LD|=16;I.add.vstk=JSON.parse(JSON.stringify(dz.Ae.default));I.add.vmsk=new Z.Wf;
I.add.vmsk.i=P.SF(a);var m=W.r.a3(I.add.vmsk.i,null),G=d.clone();G.Pa();W.r.it(I.add.vmsk.i,G);var A=W.r.a3(I.add.vmsk.i,null);
if(C=="none"){}else{var k=n.color.value,z,p;z="SoFi";var L=JSON.parse(dz.hQ[dz.order.indexOf("SoFi")]);
p={t:"Objc",v:L};p.v.Clr.v=W.M.TD({o:k.r,J:k.g,k:k.b});var N=n.align,gC=n.cap;if(N==null)N="center";
var r=I.add.vstk;r.strokeEnabled.v=!0;r.strokeStyleLineWidth.v.val=n.width;if(N)r.strokeStyleLineAlignment.v.strokeStyleLineAlignment=dz.Ae.Zi[["inside","center","outside"].indexOf(N)];
if(gC)r.strokeStyleLineCapType.v.strokeStyleLineCapType=dz.Ae.cG[["butt","round","square"].indexOf(gC)];
var h=["SoFi","GrFl","patternFill"].indexOf(z),l=[dz.zg,dz.Ab,dz.Tk][h];r.strokeStyleContent.v={classID:dz.Ae.Iy[0]};
var g5=r.strokeStyleContent.v={classID:dz.Ae.Iy[h]};for(var y=0;y<l.length;y++)g5[l[y]]=p.v[l[y]]}if(s)for(var y=0;
y<s.length;y++)if(s[y].type=="uxdesign#blur"&&s[y].visible){var fm=s[y];I.add.vmsk.Zs=fm.params.blurAmount}P.uK(T,o,d,m,A,I,E,c,J);
I.yt();I.DY(E)}else if(_=="text"&&K.text){var dC=K.text,ex=dC.frame,cR=j.font,d0=j.textAttributes,e=d.clone(),df=0;
e.Pa();I.add.lnsr="rend";I.add.TySh=ev.l4(0,0);I.add.TySh.T6=new cS(0,0,100,100);I.add.TySh.u=e;var hN=I.add.TySh.kd,ey=dC.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
ev.tW(hN,0,ey);if(ey!=""){var cr=ev.Jw(hN,0,1),ik=cR.postscriptName;if(ik==null)ik=cR.family;ev.H8(cr,ik);
cr.BY.FontSize=Math.round(cR.size);if(T){var k=T.color.value;cr.BY.FillColor={Type:1,Values:[1,k.r/255,k.g/255,k.b/255]}}if(d0){if(d0.paragraphAlign)cr.sn.Justification=["left","right","center"].indexOf(d0.paragraphAlign);
if(d0.letterSpacing)cr.BY.Tracking=Math.round(d0.letterSpacing);if(d0.lineHeight){cr.BY.AutoLeading=!1;
cr.BY.Leading=Math.round(d0.lineHeight)}}ev.q1(hN,0,ey.length,cr)}var hd=K.meta.ux.rangedStyles;if(hd)for(var y=0;
y<hd.length;y++){var a=hd[y],bQ=Math.min(a.length,ey.length-df);if(y==hd.length-1)bQ=ey.length-df;var cr=ev.Jw(hN,df,df+bQ),ik=a.postscriptName;
if(ik==null)ik=a.family;if(ik!=null)ev.H8(cr,ik);var is=a.textScript,bi=a.underline,jX=a.fontSize,X=a.fill,eS=a.textTransform;
if(is&&is!="none")cr.BY.FontBaseline=is=="superscript"?1:2;if(bi!=null)cr.BY.Underline=bi;if(jX!=null)cr.BY.FontSize=Math.round(jX);
if(eS!=null)cr.BY.FontCaps=eS=="uppercase"?2:0;if(eS=="lowercase"){ev.rf(hN,df,df+bQ);ev.tW(hN,df,ey.slice(df,df+bQ).toLowerCase())}if(X!=null){var bN=X.value;
cr.BY.FillColor={Type:1,Values:[1,(bN>>>16&255)/255,(bN>>>8&255)/255,(bN>>>0&255)/255]}}ev.q1(hN,df,df+bQ,cr);
df+=bQ}if(ex.type=="area"||ex.type=="autoHeight"){var h9=ex.width,bz=ex.height;ev.IT(hN,1);ev.sV(hN,[0,0,h9,bz!=null?bz:h9*2])}}else if(_=="syncRef"){var i0=K.syncSourceGuid,hY=c.meta.ux.symbols,ji=P.OX(hY,i0);
if(ji){var a1=d.clone();a1.concat(P.uT(ji.transform));f3.P1(ji,E,a1,c,J,i)}return}else console.log(_,K);
E.B.push(I)};f3.OX=function(K,E){for(var y=0;y<K.length;y++){var x=K[y],c=x.group;if(x.id==E)return x;
if(c){var J=f3.OX(c.children,E);if(J)return J}}return null};f3.SF=function(K){var E=K.type,x=[{type:6},{type:8,all:0}];
if(E=="rect"){var c=K.r,J=K.x,i=K.y,P=K.width,_=K.height;x=W.r.Ic.Rect(J,i,P,_,c?c:0)}else if(E=="circle"){var c=K.r;
x=W.r.Ic.DM(K.cx-c,K.cy-c,2*c,2*c)}else if(E=="ellipse"){var a=K.rx,j=K.ry;x=W.r.Ic.DM(K.cx-a,K.cy-j,2*a,2*j)}else if(E=="path"||E=="compound"){var e=Typr.U.SVGToPath(K.path);
x=W.p.uR({W:e.cmds,C:e.crds},!1)}else if(E=="line"){var d=K.x1,I=K.x2,v=K.y1,n=K.y2;x=W.r.Ic.y0([d,v,I,n],0,!0)}else if(E=="polygon"){var C=K.points,T=[];
for(var y=0;y<C.length;y++)T.push(C[y].x,C[y].y);x=x.concat(W.r.Ic.y0(T,0,!1).slice(2))}else console.log(E,K);
return x};f3.azq=function(K){var E=JSON.parse(dz.default);for(var y=0;y<dz.order.length;y++)E[dz.E9[y]]={t:"VlLs",v:[]};
for(var y=0;y<K.length;y++){var x=K[y],c=x.type,J=x.params,i=x.visible;if(c=="dropShadow"){var P=dz.E9[dz.order.indexOf("DrSh")],_=JSON.parse(dz.hQ[dz.order.indexOf("DrSh")]);
E[P].v.unshift({t:"Objc",v:_});var a=J.dropShadows;if(a.length!=1)throw"e";var j=a[y],e=j.color,d=e.value,I=j.dx,v=j.dy;
_.Clr.v=W.M.TD({o:d.r,J:d.g,k:d.b});_.Opct.v.val=Math.round((e.alpha!=null?e.alpha:1)*100);_.uglg.v=!1;
_.enab.v=i!=null?i:!0;_.lagl.v.val=Math.round(180/Math.PI*Math.atan2(v,-I));_.Dstn.v.val=Math.round(Math.sqrt(I*I+v*v));
_.blur.v.val=Math.round(j.r*2.3)}}return E};f3.uK=function(K,E,x,c,J,i,P,_,a){var j=f3;if(E=="none"){i.add.vstk.fillEnabled.v=!1;
i.add.SoCo={classID:"null",Clr:{t:"Objc",v:W.M.TD({o:0,J:0,k:0})}}}else{var e,d,I;if(E=="solid"){var v=K.color.value;
e="SoCo";d=dz.zg;var n=JSON.parse(dz.hQ[dz.order.indexOf("SoFi")]);I={t:"Objc",v:n};I.v.Clr.v=W.M.TD({o:v.r,J:v.g,k:v.b})}else if(E=="gradient"){e="GdFl";
d=dz.Ab;var n=JSON.parse(dz.hQ[dz.order.indexOf("GrFl")]),C=n.Grad.v,X,B,M;C.Intr.v=0;var T=K[E],o=T.ref?_.gradients[T.ref]:T.meta.ux.gradientResources,s=["linear","radial","angular"].indexOf(o.type),Q=o.stops;
n.Type.v.GrdT=["Lnr","Rdl","Angl"][s];if(s==0){var X=new iP(T.x1,T.y1),B=new iP(T.x2,T.y2);X.x=B.x+.5*(X.x-B.x);
X.y=B.y+.5*(X.y-B.y)}else{var X=new iP(T.cx,T.cy),B=new iP(T.cx+T.r,T.cy)}M=J;if(T.units=="objectBoundingBox"){var S=new iQ(c.b,0,0,c.n,c.x,c.y);
X=S.iR(X);B=S.iR(B)}var S=j.uT(T.transform);X=S.iR(X);B=S.iR(B);S=x.clone();S.Pa();X=S.iR(X);B=S.iR(B);
W.M.Cs(X,B,M,n);var f=[];for(var y=0;y<Q.length;y++){var F=Q[y],G=F.color,v=G.value,D=G.alpha;if(D==null)D=1;
f.push([F.offset,[v.r/255,v.g/255,v.b/255],D])}W.M.LW(f,C);I={t:"Objc",v:n}}else if(E=="pattern"){e="PtFl";
d=dz.Tk;var n=JSON.parse(dz.hQ[dz.order.indexOf("patternFill")]),g;I={t:"Objc",v:n};var b=K[E],H=b.meta.ux,q=H.uid,O=a["resources/"+q].buffer,w=H.flipX,V=H.flipY,t=q+w+V,m=gr.lX(O);
if(P.xY[t])g=P.xY[t];else{var Y=new cS(0,0,b.width,b.height),A;if(Y.um()||m==null){Y=new cS(0,0,1,1);
A=new ArrayBuffer(4)}else{var k=gr.Zf(m);if(k.pC){var z=new gD;k.TJ(O,z);A=z.S7().buffer}else{try{var p=k.TJ(O)[0];
A=p.data;Y=p.yA}catch(hg){A=new ArrayBuffer(Y.O()*4)}}}g={};g.id=gD.g4()+"-d71c-11e5-b1ae-a548a96e5f9f";
g.name="someImage";g.gW=[new Uint8Array(A),Y];if(w)W.K.v5(g.gW[0].slice(0),g.gW[0],Y.b,Y.n);if(V)W.K.alQ(g.gW[0].slice(0),g.gW[0],Y.b,Y.n);
P.Wu(g);P.xY[t]=g}var L=x.clone();L.Pa();L.translate(c.x,c.y);var N=c.b,gC=c.n,r=g.gW[1].b,h=g.gW[1].n,l=Math.max(N/r,gC/h);
if(H.scale)l*=H.scale;var g5=new iQ;g5.translate(-r/2,-h/2);g5.scale(1/r,1/h);if(H.offsetX!=null)g5.translate(H.offsetX,H.offsetY);
g5.scale(r,h);g5.scale(l,l);g5.translate(N/2,gC/2);g5.concat(L);bd.a5R(g,n,0,0,1e3,g5)}else console.log(E);
if(e!=null){i.add[e]={classID:"null"};for(var y=0;y<d.length;y++){var fm=d[y];i.add[e][fm]=I.v[fm]}}}};
function gi(){}gi.Sg=function(K,E,x){if(x&&x[0]==null)x=null;K=new Uint8Array(K);var c,v=1;if(K[0]==255&&K[1]==254)c=R.BG(K,2,(K.length>>>1)-1);
else c=R.__(K,0,K.length);var J=new DOMParser,i=J.parseFromString(c,"image/svg+xml"),P=i.getElementsByTagName("style")[0];
if(P)P=Typr.U.SVG.cssMap(P.textContent);else P={};var _=i.firstChild;while(_.tagName!="svg")_=_.nextSibling;
var a=new cS(0,0,100,100),j=_.getAttribute("viewBox"),e=_.getAttribute("width"),d=_.getAttribute("height");
if(j){var I=gi.aq$(j);a.x=I[0];a.y=I[1];a.b=I[2];a.n=I[3]}else if(e!=null||d!=null){a.b=e!=null?parseFloat(e):parseFloat(d);
a.n=d!=null?parseFloat(d):parseFloat(e)}a=W.p.OC(a);while(x&&Math.max(a.b*v,a.n*v)<Math.max(x[0],x[1]))v++;
while(x==null&&Math.max(a.b,a.n)*v>8192)v*=.5;E.zc=!0;E.b=~~(a.b*v);E.n=~~(a.n*v);E.buffer=W.Q(E.b*E.n*4);
var n=new iQ(v,0,0,v,-a.x*v,-a.y*v),C={BT:gi.TX(_),abX:P,aO:0};gi.lz(i,_.children,E,n,C,new iQ,0);if(E.B.length==0){var T=E.EY();
T.yH("Layer");E.B.push(T)}};gi.aq$=function(K){var E=" ";if(K.indexOf(",")!=-1)E=",";return K.split(E).map(parseFloat)};
gi.lz=function(K,E,x,c,J,i,P,_){var a=gi,j=["display","opacity","fill-opacity","filter","clip-path"],e=0;
for(var d=0;d<E.length;d++){var I=E[d],v=I.tagName,n=I.getAttribute("id"),o=13,M=1,F="clip-path",G=null,m=0;
if(n==null)n=I.getAttribute("data-name");var C=a.TX(I,J.abX);for(var T in J.BT)if(j.indexOf(T)==-1&&C[T]==null)C[T]=J.BT[T];
if(C["font-size"])o=a.k$(C["font-size"],o);if(I.getAttribute("dx"))c.qW+=a.k$(I.getAttribute("dx"),o);
if(I.getAttribute("dy"))c.Ju+=a.k$(I.getAttribute("dy"),o);var s=a.M_(I);s.concat(c);var Q=I.getAttribute("visibility"),X=C.display,B=x.EY();
if(Q=="hidden"||X=="none")B.g7(!1);B.yH(n!=null?n.split(":::")[0]:"Layer");if(C.opacity)M*=parseFloat(C.opacity);
if(C["fill-opacity"]){var S=parseFloat(C["fill-opacity"]);if(S!=0)M*=S}B.opacity=Math.round(255*M);if(C["mix-blend-mode"]){var f=db.HU.indexOf(C["mix-blend-mode"]);
if(f!=-1)B.Vk=db.bV[f]}if(I.getAttribute(F)==null)F="mask";if(I.getAttribute(F)!=null||C["clip-path"]){var D=I.getAttribute(F);
if(D==null)D=C["clip-path"];D=D.slice(4,D.length-1);var b=K.getElementById(D.slice(1));if(b){var H=b.children;
G=x.EY();G.yH("Clip-Path"+(n?": "+n:""));G.add.lsct=P<2?fV.Bm:fV.wg;G.Vk="pass";G.LD=24;var q=G.add.vmsk=new Z.Wf;
x.B.push(x.NG());var O=[];if(b.getAttribute(F)){var D=b.getAttribute(F);D=D.slice(4,D.length-1);O=K.getElementById(D.slice(1)).children}for(var y=0;
y<H.length;y++){var w=a.M_(H[y]);w.concat(s);var V=a.SF(x,K,H[y],!1).slice(2);W.r.it(V,w);q.i=q.i.concat(V)}for(var y=0;
y<O.length;y++){var w=a.M_(H[y]);w.concat(s);var V=a.SF(x,K,O[y],!1).slice(2);for(var t=0;t<V.length;
t++)if(V[y].qX!=null)V[y].qX=3;W.r.it(V,w);q.i=q.i.concat(V)}G.yt();G.DY();P++}}if(C.filter&&C.filter!="none"){var g=C.filter,A,k,z,L=!1,N=!1,gC=!1;
g=g.slice(5,g.length-1);var Y=K.getElementById(g),p=[0,0,0,.5],r=s.pA();if(Y)for(var y=0;y<Y.children.length;
y++){var h=Y.children[y];if(h.tagName=="feGaussianBlur"){L=!0;A=parseFloat(h.getAttribute("stdDeviation"))*r}if(h.tagName=="feColorMatrix"){var l=h.getAttribute("values");
if(l){l=l.split(" ").map(parseFloat);p=[l[4],l[9],l[14],l[18]]}}if(h.tagName=="feComposite"){gC=!0}if(h.tagName=="feOffset"){N=!0;
var g5=h.getAttribute("dx"),fm=h.getAttribute("dy");k=parseFloat(g5?g5:0)*r;z=parseFloat(fm?fm:0)*r}}if(L&&(gC||N)){var dC=gC?"IrSh":"DrSh";
if(dC=="IrSh"){B.add.iOpa=0}var ex=JSON.parse(dz.hQ[dz.order.indexOf(dC)]);ex.blur.v.val=Math.round(A*2.4);
var cR=Math.sqrt(k*k+z*z);ex.uglg.v=!1;ex.Dstn.v.val=Math.round(cR);ex.lagl.v.val=Math.round(Math.atan2(z,-k)*(180/Math.PI));
ex.Clr.v=W.M.TD({o:p[0]*255,J:p[1]*255,k:p[2]*255});ex.Opct.v.val=Math.round(p[3]*100);a.a81(B,dz.E9[dz.order.indexOf(dC)],ex)}else if(L)m=A}if(v=="g"||v=="a"||v=="svg"||v=="switch"||(v=="text"||v=="textPath")&&I.children.length>0||v=="symbol"&&_){if(v=="text")i=a.Zh(I,i);
var d0=I.getAttribute("viewBox"),hN=I.getAttribute("width"),ey=I.getAttribute("height");if(d0&&hN&&ey){var cr=gi.aq$(d0),ik=a.Zh(I),hd=new iQ;
hd.translate(-cr[0],-cr[1]);hd.scale(parseFloat(hN)/cr[2],parseFloat(ey)/cr[3]);hd.translate(ik.qW,ik.Ju);
hd.concat(s);s=hd}var df=I.children.length,bQ=J.BT;J.BT=C;var is=J.aO;J.aO=Math.max(J.aO,m);var bi=v!="text"&&v!="textPath"||df>1;
if(bi){var jX=B.bL();B.add.lsct=P<2&&jX&&(n==null||!n.endsWith(":::"))?fV.Bm:fV.wg;B.Vk="pass";B.LD=24;
B.g7(jX);x.B.push(x.NG())}a.lz(K,I.children,x,s,J,i,P+1);if(bi)x.B.push(B);else{var eS=x.B[x.B.length-1];
eS.opacity=B.opacity;eS.Vk=B.Vk}J.aO=is;J.BT=bQ}else if(v=="use"){var hd=a.Zh(I);hd.concat(s);var bN=a.Gc(I),h9=K.getElementById(bN.slice(1));
if(h9){var bQ=J.BT;J.BT=C;if(C.filter)h9.setAttribute("filter",C.filter);a.lz(K,[h9],x,hd,J,i,P+1,!0);
J.BT=bQ}}else if(v=="path"||v=="rect"||v=="circle"||v=="ellipse"||v=="polygon"||v=="polyline"||v=="line"){B.LD|=16;
B.add.vmsk=new Z.Wf;B.add.vstk=JSON.parse(JSON.stringify(dz.Ae.default));B.add.vstk.strokeEnabled.v=!1;
var bz=B.add.vstk,q=B.add.vmsk,i0=C.fill,hp=i0=="none"||C["fill-opacity"]&&parseFloat(C["fill-opacity"])==0;
q.i=a.SF(x,K,I,C["fill-rule"]=="evenodd",hp);W.r.it(q.i,s);var hY=W.r.a3(q.i),ji=C.stroke,a1=C["stroke-width"],fi=C["stroke-dasharray"],jJ=C["stroke-linejoin"],gg=C["stroke-linecap"],iN=C["paint-order"];
if(ji==null||ji=="none"||ji=="null"){}else{var ad=a.ayQ(K,ji,s,hY,x),h6=["SoFi","GrFl","patternFill"].indexOf(ad.type),iY=ad.Z.v.Opct.v,aT=1;
if(iY.val!=100){B.opacity=Math.round(B.opacity*iY.val/100);iY.val=100}var kh=[dz.zg,dz.Ab,dz.Tk][h6],gN=bz.strokeStyleContent.v={classID:dz.Ae.Iy[h6]};
for(var y=0;y<kh.length;y++)gN[kh[y]]=ad.Z.v[kh[y]];a1=a1?parseFloat(a1):1;if(iN&&iN.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){aT=2;
a1/=2}bz.strokeEnabled.v=!0;if(jJ)bz.strokeStyleLineJoinType.v.strokeStyleLineJoinType=dz.Ae.join[["miter","round","bevel"].indexOf(jJ)];
if(gg)bz.strokeStyleLineCapType.v.strokeStyleLineCapType=dz.Ae.cG[["butt","round","square"].indexOf(gg)];
bz.strokeStyleLineWidth.v.val=a1*s.pA();bz.strokeStyleLineAlignment.v.strokeStyleLineAlignment=dz.Ae.Zi[aT];
bz.strokeStyleOpacity.v.val=100*(C["stroke-opacity"]?parseFloat(C["stroke-opacity"]):1);if(fi!=null&&fi!="none")bz.strokeStyleLineDashSet.v=bd.jP(fi.split(",").map(parseFloat),1/a1)}if(hp){B.add.vstk.fillEnabled.v=!1;
B.add.SoCo={classID:"null",Clr:{t:"Objc",v:W.M.TD({o:0,J:0,k:0})}}}else{var ad=a.ayQ(K,i0,s,hY,x),iv=null,fs=null;
if(ad.type=="SoFi"){iv="SoCo";fs=dz.zg}if(ad.type=="GrFl"){iv="GdFl";fs=dz.Ab}if(ad.type=="patternFill"){iv="PtFl";
fs=dz.Tk}if(iv!=null){var iY=ad.Z.v.Opct.v;if(iY.val!=100){B.opacity=Math.round(B.opacity*iY.val/100);
iY.val=100}B.add[iv]={classID:"null"};for(var y=0;y<fs.length;y++){var T=fs[y];B.add[iv][T]=ad.Z.v[T]}}}var gm=Math.max(m,J.aO);
if(gm!=0)B.add.vmsk.Zs=gm;B.yt();B.DY(x);x.B.push(B)}else if((v=="text"||v=="tspan")&&I.textContent!=""){i=a.Zh(I,i);
var hd=i.clone(),z=0;hd.concat(s);hd.translate(e,0);if(I.children.length>0){var g8=a.TX(I.children[0],J.abX);
for(var T in g8)if(j.indexOf(T)==-1)C[T]=g8[T]}var b_=C["xml:space"],ko=I.textContent;if(b_=="preserve")ko=ko.replace(/\t/g," ").replace(/\n/g," ");
if(n==null)B.yH(ko);B.add.lnsr="rend";B.add.TySh=ev.l4(0,0);B.add.TySh.T6=new cS(0,0,100,100);B.add.TySh.u=hd.clone();
var gk=B.add.TySh.kd;ev.tW(gk,0,ko);if(v=="tspan")e+=o*ko.length*.5*hd.pA();var i0=C.fill,bx=C["font-weight"],ai=C["font-family"],hf=C["text-decoration"],ji=C.stroke,a1=C["stroke-width"],aa=C["dominant-baseline"];
if(aa=="text-before-edge")z=o;else if(aa=="middle")z=o/2;else if(aa=="hanging")z=o;if(z!=0)B.add.TySh.u.translate(0,z);
var iS=ev.Jw(gk,0,1);if(i0&&i0!="none"){var p=CSS.Af(i0);iS.BY.FillColor={Type:1,Values:[1,p.o/255,p.J/255,p.k/255]}}if(hf=="underline")iS.BY.Underline=!0;
iS.BY.FontSize=Math.round(o);ev.H8(iS,"LiberationSans");if(bx=="bold")ev.H8(iS,"LiberationSans-Bold");
if(ai){ai=ai.split(",")[0].trim();if(ai[0]=="\"")ai=ai.slice(1);if(ai[ai.length-1]=="\"")ai=ai.slice(0,ai.length-1);
var hl=ai+":"+(bx?bx:"normal"),jR={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"};
if(jR[hl])ev.H8(iS,jR[hl]);else ev.H8(iS,ai)}if(C["text-anchor"])iS.sn.Justification=["start","end","middle"].indexOf(C["text-anchor"]);
ev.q1(gk,0,ko.length,iS);if(ji==null||ji=="none"){}else{var ex=JSON.parse(dz.hQ[dz.order.indexOf("FrFX")]);
ex.Clr.v=W.M.TD(CSS.Af(ji));ex.Sz.v.val=Math.round(parseFloat(a1)*hd.pA());a.a81(B,"frameFXMulti",ex)}x.B.push(B)}else if(v=="image"){var bN=a.Gc(I);
if(bN&&bN.slice(0,4)=="data"){var jC=gr.ek(bN),h8=jC,cW=x.EI(h8,B.getName(),0,0);cW.LD=B.LD;B=cW;var kn=B.rect.clone();
kn.x=kn.y=0;var fQ=I.getAttribute("width"),i7=I.getAttribute("height");if(fQ)kn.b=parseFloat(fQ);if(i7)kn.n=parseFloat(i7);
var jq=a.Zh(I);jq.concat(s);var iJ=W.p.VD(kn).C;W.p.u(iJ,jq,iJ);B.add.SoLd.Trnf=$.Xq.K0(iJ);B.add.SoLd.nonAffineTransform=$.Xq.K0(iJ);
B.mQ(x,!1);x.B.push(B)}}else console.log("unknown tag: "+v,I.children.length,I.textContent.length);if(G!=null){x.B.push(G);
P--}}};gi.a81=function(K,E,x){var c=K.add.lmfx;if(c==null){var c=K.add.lmfx=JSON.parse(dz.default);for(var y=0;
y<dz.order.length;y++)c[dz.E9[y]]={t:"VlLs",v:[]}}c[E].v.push({t:"Objc",v:x})};gi.SF=function(K,E,x,c,J){var i=gi,P=[{type:6},{type:8,all:0}],_=x.tagName;
if(_=="use"){var a=i.Gc(x),j=E.getElementById(a.slice(1)),e=new iQ;if(j.tagName!="rect")e=i.Zh(j);e.concat(i.M_(j));
P=i.SF(K,E,j,c,J);W.r.it(P,e)}else if(_=="path"){var d=x.getAttribute("d");if(d==null)return P;var I=Typr.U.SVGToPath(d);
P=W.p.uR({C:I.crds,W:I.cmds},c,J)}else if(_=="rect"){var v=x.getAttribute("rx"),n=i.Zh(x),C=new iP(0,0);
i.af("width",x,K,C,!0);i.af("height",x,K,C,!1);P=W.r.Ic.Rect(n.qW,n.Ju,C.x,C.y,v?parseFloat(v):0)}else if(_=="circle"||_=="ellipse"){var T=[0,0,0,0],o=["cx","cy","rx","ry","r"];
for(var y=0;y<5;y++){var s=x.getAttribute(o[y]);if(s){s=parseFloat(s);if(y<4)T[y]=s;else T[2]=T[3]=s}}P=W.r.Ic.DM(T[0]-T[2],T[1]-T[3],2*T[2],2*T[3])}else if(_=="polygon"||_=="polyline"||_=="line"){var Q;
if(_=="line")Q=[x.getAttribute("x1"),x.getAttribute("y1"),x.getAttribute("x2"),x.getAttribute("y2")].map(parseFloat);
else Q=x.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
P=W.r.Ic.y0(Q,0,_!="polygon")}return P};gi.k$=function(K,E){if(K.charAt(K.length-1)=="m")return E*parseFloat(K.slice(0,K.length-2));
else return parseFloat(K)};gi.ayQ=function(K,E,x,c,J){var i,P,_=gi,a=JSON.parse(dz.hQ[dz.order.indexOf("SoFi")]),j=E!=null?E.indexOf("("):-1;
if(j!=-1){var e=E.indexOf(")"),d=E.slice(0,j).trim(),I=E.slice(j+1,e).trim();if(I.charAt(0)=="'")I=I.slice(1,I.length-1);
if(d=="url"){if(I.charAt(0)=="#"){var v=K.getElementById(I.slice(1));if(v&&v.tagName.toLowerCase().endsWith("gradient")){var n=_.sB(K,v,x,c);
i="GrFl";P={t:"Objc",v:n}}else if(v&&v.tagName.toLowerCase()=="pattern"&&v.children[0]&&v.children[0].tagName=="use"){i="SoFi";
P={t:"Objc",v:a};var C=v.children[0],T=_.M_(C),o=_.Gc(C),s=K.getElementById(o.slice(1)),Q=gr.ek(_.Gc(s)).buffer,X=gr.Zf(gr.lX(Q)),B=X.TJ(Q)[0],M={};
M.id=gD.g4()+"-d71c-11e5-b1ae-a548a96e5f9f";M.name="someImage";M.gW=[new Uint8Array(B.data),B.yA];J.Wu(M);
var a=JSON.parse(dz.hQ[dz.order.indexOf("patternFill")]);a.Scl.v.val=Math.round(100*c.b*T.Cc);var S=a.phase.v;
S.Hrzn.v=Math.round(c.x+T.qW*c.b);S.Vrtc.v=Math.round(c.y+T.Ju*c.n);a.Ptrn.v.Idnt.v=M.id;i="patternFill";
P={t:"Objc",v:a}}else{i="SoFi";P={t:"Objc",v:a}}}else console.log("unknown url",I)}else if(d=="rgb"||d=="rgba"){i="SoFi";
P={t:"Objc",v:a};P.v.Clr.v=W.M.TD(CSS.Af(E));if(d=="rgba")P.v.Opct.v.val=Math.round(100*parseFloat(E.split(",").pop()))}else console.log("unknown fill",E)}else{i="SoFi";
P={t:"Objc",v:a};var f=CSS.Af(E);P.v.Clr.v=W.M.TD(f);if(f.Cc!=null)P.v.Opct.v.val=Math.round(100*f.Cc/255)}return{type:i,Z:P}};
gi.M_=function(K){var E=new iQ,x=K.getAttribute("transform");if(x)E=gi.kL(x);var c=K.getAttribute("style");
if(c!=null){var J={};gi.sg(J,c,["transform"]);c=J.transform;if(c)E.concat(gi.kL(c))}return E};gi.Zh=function(K,E){var x=new iQ,c=K.getAttribute("x"),J=K.getAttribute("y");
if(c)x.qW=parseFloat(c);else if(E)x.qW=E.qW;if(J)x.Ju=parseFloat(J);else if(E)x.Ju=E.Ju;return x};gi.kL=function(K){var E=Typr.U.SVG.readTrnf(K);
return new iQ(E[0],E[1],E[2],E[3],E[4],E[5])};gi.TX=function(K,E){var x={},c="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order clip-path mix-blend-mode xml:space".split(" ");
for(var y=0;y<c.length;y++){var J=K.getAttribute(c[y]);if(J!=null&&J!="inherit")x[c[y]]=J}var i=K.getAttribute("class");
if(E!=null&&i!=null&&E["."+i]!=null)gi.sg(x,E["."+i],c);var P=K.getAttribute("id");if(E!=null&&P!=null&&E["#"+P]!=null)gi.sg(x,E["#"+P],c);
var _=K.getAttribute("style");if(_!=null)gi.sg(x,_,c);return x};gi.sg=function(K,E,x){E=E.trim().split(";");
for(var y=0;y<E.length;y++){var c=E[y].split(":"),J=c[0]?c[0].trim():"",i=c[1]?c[1].trim():"";for(var P=0;
P<x.length;P++)if(J==x[P]&&i!="inherit")K[x[P]]=i}};gi.Gc=function(K){var E=K.getAttribute("xlink:href");
if(E==null)E=K.getAttribute("href");if(E==null)E=K.getAttribute("xl:href");return E};gi.af=function(K,E,x,c,J){var i=E.getAttribute(K);
if(i==null)return;var P=parseFloat(i);if(i.endsWith("%"))P*=(J?x.b:x.n)/100;if(J)c.x=P;else c.y=P};gi.sB=function(K,E,x,c){var J=gi,i=J.af,P=new iQ,_=E.getAttribute("gradientTransform"),v=!1;
if(_)P=J.kL(_);P.concat(x);var a=JSON.parse(dz.hQ[dz.order.indexOf("GrFl")]),j=a.Grad.v;j.Intr.v=0;var e=E.tagName,d=new iP(0,0),I=new iP(c.b,0);
if(e=="linearGradient"){a.Type.v.GrdT="Lnr";i("x1",E,c,d,!0);i("y1",E,c,d,!1);i("x2",E,c,I,!0);i("y2",E,c,I,!1);
d.x=I.x+.5*(d.x-I.x);d.y=I.y+.5*(d.y-I.y)}if(e=="radialGradient"){a.Type.v.GrdT="Rdl";if(E.getAttribute("cx"))d.x=parseFloat(E.getAttribute("cx"));
if(E.getAttribute("cy"))d.y=parseFloat(E.getAttribute("cy"));I.tn(d.x,d.y);if(E.getAttribute("r"))I.x+=parseFloat(E.getAttribute("r"))}var n=E;
while(!0){if(n.getAttribute("gradientUnits")=="userSpaceOnUse")v=!0;var C=J.Gc(n);if(C==null)break;n=K.getElementById(C.slice(1))}if(v){d=P.iR(d);
I=P.iR(I)}else{d.x=c.x+d.x*c.b;d.y=c.y+d.y*c.n;I.x=c.x+I.x*c.b;I.y=c.y+I.y*c.n}W.M.Cs(d,I,c,a);var T=E.children;
if(T.length==0){var o=J.Gc(E);if(o==null)throw"gradient has no stops";var s=K.getElementById(o.slice(1));
if(s==null){console.log(o.slice(1))}else{var Q=J.sB(K,s,P,c);a.Grad=Q.Grad}}else{var X=[];for(var y=0;
y<T.length;y++){var B=T[y],M=J.TX(B),S=M["stop-color"],f=M["stop-opacity"],F=B.getAttribute("offset");
if(S==null)S="#000000";f=f==null?1:parseFloat(f);var G=F?parseFloat(F):0;if(F&&F.endsWith("%"))G/=100;
S=CSS.Af(S);if(S.Cc!=null)f*=S.Cc/255;X.push([G,[S.o/255,S.J/255,S.k/255],parseFloat(f)])}W.M.LW(X,j)}return a};
gi.by=function(){var K=null,E=null,x="",c="";function J(S,f,F){var G=[],q=" { ",O=" } ",w=!1;E=f;c=f.ob?"":"\t";
x=f.ob?"":" ";var D=f.a7l,b=f.azr;G.push("<svg version=\"1.2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+S.b+" "+S.n+"\" width=\""+D+"\" height=\""+b+"\">");
if(!f.ob)G.push(i(1)+"<title>"+s(S.name.split(".")[0])+"</title>");var H={XS:[],E5:[],p3:0,QG:0,eB:0,Dj:{},GV:{},Sw:0,gu:{},axc:{},xt:0,ir:[]};
n(S,H,S.root.children,1,f,F);if(H.XS.length!=0){G.push(i(1)+"<defs>");G=G.concat(H.XS);G.push(i(1)+"</defs>")}G.push(i(1)+"<style>");
if(f.ob){q="{";O="}"}for(var y=0;y<S.B.length;y++)if(S.B[y].add.TySh)w=!0;if(w&&!f.a15&&!f.auo)G.push(i(2)+"tspan"+q+"white-space:pre"+O);
for(var V in H.gu)G.push(i(2)+"."+V+q+H.gu[V]+O);G.push(i(1)+"</style>");G=G.concat(H.E5);G.push("</svg>");
G=G.join(f.ob?"":"\n");return R.zR(G)}function i(hr){var S="";for(var y=0;y<hr;y++)S+=c;return S}function P(hr,S){if(S==null)S=1;
var f=""+parseFloat(hr.toFixed(S));if(f.startsWith("0."))f=f.slice(1);return f}function _(S,f){var F=S.add.lmfx;
if(F)F=F[f].v[0];if(F)F=F.v;if(F&&!F.enab.v)F=null;return F}function a(S,f){var F=_(S,"frameFXMulti");
if(F){var G=F.Sz.v.val;if(F.Styl.v.FStl=="OutF"){f.push("paint-order:stroke fill markers");G*=2}v(f,CSS.b_(F.Clr.v),1);
if(G!=1)f.push("stroke-width: "+G);f.push("stroke-linejoin: round;")}}var j="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
function e(S){var f=j.length,F="";for(var G=1;G<10;G++){var D=(f-10)*~~Math.pow(f,G-1);if(S<D){for(var y=0;
y<G;y++){var b=y==G-1?10:0,H=f-b,q=S%H;F=j[q+b]+F;S=Math.floor((S-q)/H)}break}S-=D}return F}function d(S,f,F,G){if(S.length!=0){if(G==null)G="s";
var D=S.join(";"),b=f.axc[D];if(b==null){b=E.ob?e(f.xt):G+f.xt;f.xt++;f.axc[D]=b;f.gu[b]=D}if(F)F.push(b);
return b}}function I(S){if(E.ob&&S.length==7&&S[0]=="#"){if(S[1]==S[2]&&S[3]==S[4]&&S[5]==S[6])S="#"+S[1]+S[3]+S[5]}return S}function v(S,f,F){f=I(f);
if(f!="#000"||F==1)S.push((F==0?"fill:":"stroke:")+x+f)}function n(S,f,F,G,D,b){var H=!1;for(var q=0;
q<F.length;q++){var O=F[q].j,w=O.add.lsct;if(!O.Z2&&F[q+1]&&F[q+1].j.Z2&&O.Au()&&O.add.vmsk){var V=[];
X(O,O.add.vmsk,f,V);f.E5.push(i(G)+"<g "+V[0]+">");G++;H=!0}else if(!O.Z2&&F[q-1]&&F[q-1].j.Z2&&H){G--;
f.E5.push(i(G)+"</g>");H=!1}var t=O.add.vmsk,m=O.add.vogk,g=O.add.vstk,Y=O.add.TySh;if(t&&!t.isEnabled)t=g=null;
var A=[];if(!D.hidden&&!O.bL())continue;var k=O.opacity/255,z=O.add.iOpa?O.add.iOpa/255:1;if(O.wC()){k*=z;
z=1}if(k!=1)A.push("opacity:"+x+P(k));if(z!=1)A.push("fill-opacity:"+x+P(z));if(O.Vk!="norm"){var p=db.HU[db.bV.indexOf(O.Vk)];
if(p!=null)A.push("mix-blend-mode:"+x+p)}if(!O.bL())A.push("display:"+x+"none");var V=[],L=[],N=O.getName(),gC=N.indexOf(" .");
if(!D.ob)V.push("id=\""+s(N)+"\"");var r=bd.Z5(O.add.lmfx,O.add),h=r[0],l=r[1];if(O.wC()){var g5=F[q].children;
if(!(g5.length==1&&g5[0].j.add.SoLd&&!D.TO)){if(K&&O.getName().split("-").length==3){K.push({mg:O.getName(),L9:0,D7:[]})}X(O,t,f,V);
if(A.length!=0)V.push("style=\""+A.join(";")+"\"");var fm=o(V,L),dC=D.ob&&fm=="";if(!dC)f.E5.push(i(G)+"<g"+(fm==""?"":" "+fm)+">");
n(S,f,g5,G+1,D,b);if(!dC)f.E5.push(i(G)+"</g>")}}else if(O.Au()&&t==null){var ex=new cS(0,0,S.b,S.n);
B(S,A,O.add,f,ex,D);if(A.length!=0)V.push("style=\""+A.join(";")+"\"");f.E5.push(i(G)+"<rect width=\""+S.b+"\" height=\""+S.n+"\" "+o(V,L)+"/>")}else if(t&&O.add.SoLd==null){var ex=W.r.a3(t.i,null,!0),cR,d0=null,hN=0,ey;
B(S,A,O.add,f,ex,D);d(A,f,L);if(m.length!=0){cR=m[0].v;d0=cR.keyOriginType;if(d0)d0=d0.v;if(d0==2){var cr=W.X.SZ(cR);
hN=cr[0];for(var y=0;y<3;y++)if(hN!=cr[y+1])d0=null}}if(m.length==1&&d0==5&&Math.abs(W.X.AB(cR))<1e-4){var ex=W.X.UC(cR),ik=(ex[0]+ex[2])/2,hd=(ex[1]+ex[3])/2,df=ik-ex[0],bQ=hd-ex[1],is=Math.abs(df-bQ)<.01,bi=is?"r=\""+P(df)+"\"":"rx=\""+P(df)+"\" ry=\""+P(bQ)+"\"";
ey="<"+(is?"circle":"ellipse")+" "+o(V,L)+" cx=\""+P(ik)+"\" cy=\""+P(hd)+"\" "+bi+"/>"}else if(m.length==1&&d0==2&&hN!=0&&Math.abs(W.X.AB(cR))<1e-4){var ex=W.X.UC(cR),jX=ex[0],eS=ex[1],bN=ex[2]-ex[0],h9=ex[3]-ex[1],bz="";
if(jX!=0)bz+=" x=\""+P(jX)+"\"";if(eS!=0)bz+=" y=\""+P(eS)+"\"";bz+=" width=\""+P(bN)+"\"";bz+=" height=\""+P(h9)+"\"";
bz+=" rx=\""+P(hN)+"\"";ey="<rect "+o(V,L)+bz+"></rect>"}else{var i0=W.r.nQ(t.i,1);if(i0.VM!=0){V.push("fill-rule=\"evenodd\"")}ey="<path "+o(V,L)+" d=\""+i0.v6+"\"/>"}f.E5.push(i(G)+ey);
if(K&&K[K.length-1]){var hp=W.p.P0(t.i);hp.C=hp.C.map(Math.round);var hY=K[K.length-1];hY.L9+=JSON.stringify(hp).length;
hY.D7.push([A[0].split("#").pop(),hp])}}else if(Y&&D.a15){x=D.ob?"":" ";var ji=Y.kd,a1=new dQ(ji,b),fi=null;
if(h)fi=CSS.b_(h.Clr.v);if(l){var ex=O.rect.clone();M(l,f,ex,D);fi="url(#g"+f.p3+")"}if(fi)A.push("fill:"+x+fi);
a(O,A);var jJ=cl.Ol(a1,Y),gg=W.p.y4(jJ);for(var iN in gg){var ad=A.slice(0),h6=L.slice(0),iY=V.slice(0);
if(fi==null){v(ad,iN.slice(0,7),0);if(iN.length>7){var kh=iN.slice(7).split("-");console.log(kh);v(ad,kh[1],1);
if(kh[2]!="1")ad.push("stroke-width:"+x+kh[2])}}d(ad,f,h6);var gN=gg[iN],kh=Typr.U.pathToSVG({crds:gN.C,cmds:gN.W},1);
f.E5.push(i(G)+"<path "+o(iY,h6)+(D.ob?"":" "+T(Y))+" d=\""+kh+"\"/>")}}else if(Y&&!D.auo){var ji=Y.kd,aT=Y.u.clone(),fi=null;
A.push("transform:"+x+Q(aT));var iv=ev.w1(ji),a1=new dQ(ji,b);a(O,A);if(A.length!=0)V.push("style=\""+A.join(";")+"\"");
f.E5.push(i(G)+"<text "+o(V,L)+" >");if(h)fi=CSS.b_(h.Clr.v);if(l){var ex=O.rect.clone();ex.x-=aT.qW;
ex.y-=aT.Ju;M(l,f,ex,D);fi=" url(#g"+f.p3+")"}for(var y=0;y<a1.sn.length;y++){var fs=a1.sn[y];if(fs.YW.length==1&&fs.YW[0].UB)continue;
for(var gm=0;gm<fs.R$.length;gm++){var g8=fs.R$[gm],hd=fs.Th.y+g8.Th.y,b_=fs.YW[g8.start].start,ko=fs.YW[g8.end-1].end,gk=ev.at5(ji,b_,ko),bx="";
for(var ai=0;ai<gk.length;ai++){var hf=a1.Za(b_),aa=gk[ai],iS=ev.Jw(ji,b_,b_),hl=iS.Ho[iS.BY.Font].Name,iN=ev.Et(iS.BY.FillColor),jR=Math.round(iS.BY.FontSize),jC=iv.slice(b_,b_+aa);
if(iS.BY.FontCaps==2)jC=jC.toUpperCase();var h8=new iQ;h8.translate(hf.ZE.x,-hd);var cW=[];CSS.a51(cW,iS,null,!0,!0,fi);
var kn=d(cW,f,null,"t");kn=kn?" class=\""+kn+"\"":"";var ik=hf.ZE.x,fQ=C(iS,jC);bx+="<tspan "+(ai==0?"x=\""+P(hf.ZE.x)+"\"":"")+" y=\""+P(hd)+"\""+kn+fQ+">"+s(jC)+"</tspan>";
b_+=aa}f.E5.push(i(G+1)+bx)}}f.E5.push(i(G)+"</text>")}else if(O.add.SoLd&&D.TO&&h==null){var i7=O.add.SoLd,jq=i7.Idnt.v,iJ=0,dR=i7.Crop?i7.Crop.v:null;
if(f.GV[jq]!=null)iJ=f.GV[jq];else{f.Sw++;iJ=f.Sw;f.GV[jq]=f.Sw;var cH=S.KW(jq,dR),gp="";if(cH==null)return;
var c4=cH.WG,cx=gr.lX(cH.raw.buffer);if(cx=="pdf"){var gb=new gD("h");gr.Zf("PDF").TJ(cH.raw.buffer,gb);
gb.p7();gb.Iv();gb.U();gb.DJ();if(i7.Crop&&i7.Crop.v==1){$.$a.cJ(gb,gb.root.ZS(gb,!0))}var bg=gr.Zf("SVG").bu(gb,gb.b,gb.n,null,{ir:b});
gp="data:image/svg+xml;base64,"+gr.bS(bg)}else if(cx=="jpg"||cx=="png"||cx=="gif"||cx=="svg"){var cu={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
gp="data:"+cu[cx]+";base64,"+gr.bS(cH.raw.buffer)}else{gp=gr.NO(c4[0].buffer,c4[1].b,c4[1].n)}f.XS.push(i(2)+"<image width=\""+c4[1].b+"\" height=\""+c4[1].n+"\" id=\"img"+iJ+"\" href=\""+gp+"\"/>")}var jP=W.K.Ur(i7),k4=[];
X(O,t,f,k4);if(k4.length!=0)f.E5.push(i(G)+"<g "+o(k4,L)+">");if(A.length!=0)V.push("style=\""+A.join(";")+"\"");
var kg=o(V,L);f.E5.push(i(G)+"<use "+kg+" href=\"#img"+iJ+"\" transform=\""+Q(jP)+"\"/>");if(k4.length!=0)f.E5.push(i(G)+"</g>")}else if(!O.rect.um()&&(D.TO||Y)){if(A.length!=0)V.push("style=\""+A.join(";")+"\"");
var kg=o(V,L),ek=O.buffer;if(h)ek=bd.a8s(ek,h,O.rect);var i_=O.rect;f.Sw++;var gp=gr.NO(ek.buffer,i_.b,i_.n,"png",null,!0);
f.XS.push(i(2)+"<image "+T(Y)+" width=\""+O.rect.b+"\" height=\""+O.rect.n+"\" id=\"img"+f.Sw+"\" href=\""+gp+"\"/>");
f.E5.push(i(G)+"<use "+kg+" href=\"#img"+f.Sw+"\" x=\""+i_.x+"\" y=\""+i_.y+"\"/>")}}if(H){G--;f.E5.push(i(G)+"</g>");
H=!1}}function C(S,f){var F=S.BY.Tracking,G="";if(F!=null&&F!=0){F=Math.round(F*S.BY.FontSize/1e3);G=" dx=\"0";
for(var D=1;D<f.length;D++)G+=" "+F;G+="\" "}return G}function T(S){if(S==null)return"";var f=S.kd,F=ev.w1(f);
F=s(F.slice(0,F.length-1));return"aria-label=\""+F+"\" "}function o(S,f){if(f.length!=0)S.push("class=\""+f.join(" ")+"\"");
return S.join(" ")}function s(S){return String(S).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")}function Q(S){var f=[S.Cc,S.k,S.o0,S.Ga,S.qW,S.Ju];
for(var y=0;y<6;y++)f[y]=P(f[y],3);return"matrix("+f.join(",")+")"}function X(S,f,F,G){if(f||S.add.artb){var D;
if(f)D=W.r.nQ(f.i).v6;else{var b=S.IZ(),H=W.p.VD(b);D=Typr.U.pathToSVG({crds:H.C,cmds:H.W},1)}F.eB++;
G.push("clip-path=\"url(#cp"+F.eB+")\"");F.XS.push(i(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+F.eB+"\">");
F.XS.push(i(3)+"<path d=\""+D+"\"/>");F.XS.push(i(2)+"</clipPath>")}}function B(S,f,F,G,D,b){var H=F.vstk,q=F.vmsk,O=F.lmfx,w=[];
if(q&&q.Zs!=0){var V=P(q.Zs);if(G.Dj[V]==null){G.QG++;G.Dj[V]=G.QG;G.XS.push(i(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+G.QG+"\"> <feGaussianBlur stdDeviation=\""+V+"\"/> </filter>")}w.push("url(#f"+G.Dj[V]+")")}if(O)for(var y=0;
y<dz.order.length;y++){var t=dz.order[y],m=dz.E9[y],g=O[m].v;for(var Y=0;Y<g.length;Y++){var A=g[Y].v,k=A.classID;
if(!A.enab.v)continue;if(k=="OrGl"||k=="DrSh"){G.QG++;w.push("url(#f"+G.QG+")");var z=0,p=0,L=A.blur.v.val/2.4,N=A.Opct.v.val/100;
if(k=="DrSh"){var gC=A.uglg&&A.uglg.v?S.XI():A.lagl.v.val;gC=gC*(Math.PI/180);var r=A.Dstn.v.val;z=-Math.cos(gC)*r;
p=Math.sin(gC)*r}if(k=="OrGl")N/=A.Inpr.v.val/100;var h="<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+G.QG+"\" >";
h+="<feDropShadow dx=\""+z+"\" dy=\""+p+"\" stdDeviation=\""+L+"\" flood-color=\""+CSS.b_(A.Clr.v)+"\" flood-opacity=\""+P(N)+"\"/>";
h+="</filter>";G.XS.push(i(2)+h)}}}if(w.length!=0)f.push("filter:"+x+w.join(" "));var l=bd.Z5(O,F),g5=l[0],fm=l[1];
if(H&&!H.fillEnabled.v)f.push("fill:"+x+"none");else if(g5){var dC=CSS.b_(g5.Clr.v);v(f,dC,0)}else if(fm){M(fm,G,D,b);
v(f,"url(#g"+G.p3+")",0)}if(H==null||!H.strokeEnabled.v)H=bd.KF(O);if(H&&H.strokeEnabled.v){var ex=H.strokeStyleContent.v,cR=ex.classID;
if(cR=="solidColorLayer")v(f,CSS.b_(ex.Clr.v),1);else{M(ex,G,D,b);v(f,"url(#g"+G.p3+")",1)}var d0=dz.Ae.cG.indexOf(H.strokeStyleLineCapType.v.strokeStyleLineCapType),hN=dz.Ae.join.indexOf(H.strokeStyleLineJoinType.v.strokeStyleLineJoinType),ey=H.strokeStyleOpacity.v.val/100,cr=H.strokeStyleLineWidth.v.val,ik=dz.Ae.Zi.indexOf(H.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(ik==2){cr*=2;f.push("paint-order:stroke fill markers")}var hd=H.strokeStyleLineDashSet.v,df=[];for(var y=0;
y<hd.length;y++)df.push(Math.round(hd[y].v.val*cr));if(d0!=0)f.push("stroke-linecap:"+x+["butt","round","square"][d0]);
if(hN!=0)f.push("stroke-linejoin:"+x+["miter","round","bevel"][hN]);if(ey!=1)f.push("stroke-opacity:"+x+P(ey));
if(cr!=1)f.push("stroke-width:"+x+P(cr));if(df.length!=0)f.push("stroke-dasharray:"+x+df.join(","))}}function M(S,f,F,G){f.p3++;
var D=S.Grad.v,b=JSON.parse(JSON.stringify(D.Clrs.v)),H=JSON.parse(JSON.stringify(D.Trns.v)),q=S.Ofst.v,O=S.Type.v.GrdT,w=O=="Rdl"||O=="Dmnd"?1:0,V=(w==1?"radial":"linear")+"Gradient",t=W.M.hC(S,F),g="";
if(w==0){t[0].x=t[1].x+2*(t[0].x-t[1].x);t[0].y=t[1].y+2*(t[0].y-t[1].y)}var m=i(2)+"<"+V+" id=\"g"+f.p3+"\"";
if(G.ob){if(f.p3==1)f.XS.push("<linearGradient id=\"P\" gradientUnits=\"userSpaceOnUse\"/>");g=" href=\"#P\""}else g=" gradientUnits=\"userSpaceOnUse\"";
if(w==0)f.XS.push(m+" x1=\""+P(t[0].x)+"\" y1=\""+P(t[0].y)+"\" x2=\""+P(t[1].x)+"\" y2=\""+P(t[1].y)+"\""+g+">");
if(w==1)f.XS.push(m+" cx=\""+P(t[0].x)+"\" cy=\""+P(t[0].y)+"\" r=\""+P(iP.B4(t[0],t[1]))+"\""+g+">");
var Y=S.Rvrs.v,A=W.M.Ha(D,Y);for(var y=0;y<A.length;y++){var k=A[y],z=k[0],p=k[1],L=k[2];L=L==1?"":" stop-opacity=\""+P(L)+"\"";
var N=z==0&&G.ob?"":" offset=\""+P(z)+"\"",gC=CSS.WN({o:p[0]*255,J:p[1]*255,k:p[2]*255});gC=G.ob&&gC=="#000000"?"":" stop-color=\""+I(gC)+"\"";
f.XS.push(i(3)+"<stop"+N+gC+L+"/>")}f.XS.push(i(2)+"</"+V+">")}gi.uW=Q;return J}();gi.Ic=function(K,E,x,c,J){var i=[],P=gi.Ic,_=!1,a={pz:K,o4:E,Kn:[!0,!0,!0],MT:!1,Vh:x,a75:0};
a.m3=Math.round(Math.max(K,E)*(.02+P.Hv(a)*.03));a.gN=P.axZ(a);a.nc=P.auL(a.gN,(P.Hv(a)<.5?-1:1)*(.2+P.Hv(a)*.3));
if(P.Hv(a)<.5){var j=a.gN;a.gN=a.nc;a.nc=j}a.ads=P.Hv(a)<.4&&P.al8(a.nc,{o:1,J:1,k:1})>.3;a.amS=P.Hv(a)<.5?0:1;
i.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+K+" "+E+"\" width=\""+K+"\" height=\""+E+"\">");
a.Zd=c[Math.floor(P.wV(a)*c.length)];a.sh=c[Math.floor(P.wV(a)*c.length)];i.push("<style>");i.push("@font-face {  font-family: "+a.Zd[2]+";  src: url(rsrc/fonts/"+a.Zd[5]+");  }");
i.push("@font-face {  font-family: "+a.sh[2]+";  src: url(rsrc/fonts/"+a.sh[5]+");  }");i.push("</style>");
var e=[0,0,K,E],d=e;if(J==null)i.push("<path style=\"fill: "+P.Hp(a.gN)+"\" d=\""+P.Rect(e[0],e[1],e[2]-e[0],e[3]-e[1])+"\" id=\"Background\" />");
else{a.MT=!0;P.ai6(a,e,i,J)}if(P.Hv(a)<.25&&!a.MT){a.Kn[0]=a.Kn[2]=!1;P.a9t(e,a,i);d=e}else if(P.Hv(a)<.25||a.MT)d=e;
else{var I=.52+P.Hv(a)*.2;if(P.Hv(a)<.5)I=1-I;var v=e.slice(0),n=e.slice(0);if(P.Hv(a)<.5)v[2]=n[0]=Math.round(I*K);
else v[3]=n[1]=Math.round(I*E);if(P.Hv(a)<.5){var j=v;v=n;n=j}d=v;P.aqD(a,n,i,J)}P.a8j(a,d,i);i.push("</svg>");
i=i.join("\n");var C=W.Q(Math.round(i.length*1.5)),T=R.g$(i,C,0);return[C.buffer.slice(0,T),a.Dr]};gi.Ic.a9t=function(K,E,x){var c=gi.Ic,J=K[2]-K[0],i=K[3]-K[1];
if(c.Hv(E)<.5){x.push("<path id=\"Border\" style=\"fill: "+c.Hp(E.nc)+"\" d=\""+c.atP(K[0],K[1],K[2]-K[0],K[3]-K[1],E.m3)+"\" />")}else if(c.Hv(E)<-.4){c.acP(E,K,x)}else{var P=c.Hv(E)<.5?0:1,_=(P==0?i:J)/4,a=c.K2(E,P,K,x,_,!0),a=c.K2(E,P+2,K,x,_,!0,a)}};
gi.Ic.a8j=function(K,E,x){var c=gi.Ic,J="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-"),i=2*Math.floor(c.Hv(K)*J.length/2),P=E[2]-E[0],_=E[3]-E[1],j=0,d=0;
K.ni=(K.pz+P)*.5*(.04+c.Hv(K)*.05);K.ni=Math.min(K.ni,_*.4,P*.12);K.ni=Math.round(K.ni);var a=Math.min(K.ni*J[i].length*(.35+.3*c.Hv(K)),P*.9),e=(E[1]+E[3])/2,I=W.Rs(K.gN)<.85?{o:1,J:1,k:1}:{o:.1,J:.1,k:.1};
if(c.Hv(K)<.25&&K.Kn[0]){d=0;j=E[0]+K.m3}else if(c.Hv(K)<.33&&K.Kn[2]){d=2;j=E[2]-K.m3}else{d=1;j=(E[0]+E[2])/2}var v=I.o==1?"0,0,0":"255,255,255",n=K.MT&&c.Hv(K)<1;
if(n){var C=E[0],T=P,o=e-K.ni*1.1,s=K.ni*2.2,Q=.7;if(d==1&&c.Hv(K)<.5){C=o=.2*Math.min(P,_);T=P-2*o;
s=_-o-o}else if(c.Hv(K)<.7){C=o=0;T=P;s=_;Q=.25}x.push("<path id=\"Strip\" style=\"fill: rgb("+v+"); opacity: "+Q+"\" d=\""+c.Rect(C,o,T,s)+"\" />")}if(c.Hv(K)<.4){var X=K.ni*.07;
X*=1.5+c.Hv(K)*1;if(d==-1&&P/_<3&&!n){x.push("<path id=\"Bar-bottom\" style=\"fill: "+c.Hp(I)+"\" d=\""+c.Rect(j-a/2,e+K.ni*1.1-X/2,a,X)+"\" />");
x.push("<path id=\"Bar-top\"    style=\"fill: "+c.Hp(I)+"\" d=\""+c.Rect(j-a/2,e-K.ni*1.1-X/2,a,X)+"\" />")}if(d!=1){x.push("<path id=\"Bar\" style=\"fill: "+c.Hp(I)+"\" d=\""+c.Rect(j-X/2,e-K.ni*.8,X,K.ni*.8*2)+"\" />");
j+=(d==0?1:-1)*K.ni/3}}var B=K.ni*.4;x.push(c.ab0(J[i+1],j,e+B*1.6,B,I,d,K.sh));x.push(c.ab0(J[i],j,e+K.ni*.04,K.ni,I,d,K.Zd))};
gi.Ic.aqD=function(K,E,x,c){var J=E[2]-E[0],i=E[3]-E[1],P=Math.max(J,i),_=Math.min(J,i),a=gi.Ic;if(P/_<5&&!K.MT&&!1){a.ai6(K,E,x,c)}else if(a.Hv(K)<0)x.push("<path style=\"fill: "+a.Hp(K.nc)+"\" d=\""+a.Rect(E[0],E[1],J,i)+"\" />");
else{var j=0;if(E[3]!=K.o4)j=0;if(E[2]!=K.pz)j=3;if(E[0]!=0)j=1;if(E[1]!=0)j=2;var e=j+2&3;if(P/_<3){var d=a.a72(e),I=d[Math.round(a.Hv(K)*(d.length-1))],v=I.mg.slice(0,4),n=v.indexOf(1);
I=JSON.parse(JSON.stringify(I));var C=-1;if(v!="0000"){var T=new iQ;if(I.mg[5]=="0"){if(n==3&&j==1){C=1;
T.scale(-1,1)}else C=n}else{var o=e;while(o==e)o=Math.floor(a.Hv(K)*4)&3;T.rotate((-n+o)*Math.PI/2)}a.u(I,T)}var s=a.hp(I),Q=J-2*K.m3,X=i-2*K.m3;
if(C!=-1){if((C&1)==0)X-=K.m3;else Q-=K.m3}var B=Math.min(Q/s.b,X/s.n),M=new iQ;M.translate(-s.x,-s.y);
M.scale(B,B);var S=(J-s.b*B)/2,f=(i-s.n*B)/2;if(C!=-1){if(C==3)S=0;if(C==0)f=0;if(C==1)S=J-s.b*B;if(C==2)f=i-s.n*B}M.translate(E[0]+S,E[1]+f);
a.SM(K,I,M,K.nc,x)}else{a.K2(K,j,E,x,1e9)}}};gi.Ic.ai6=function(K,E,x,c){var J=E[2]-E[0],i=E[3]-E[1],P=Math.max(J,i),_=Math.min(J,i),a=gi.Ic,j=a.wV(K),e,d,I,v=c[0]instanceof ArrayBuffer;
if(v){e="data:image/jpg;base64,"+hP.FE(c[0]);d=c[1];I=c[2]}else{var n=Math.floor(j*c.length),C=c[n];
K.Dr=C;e=C.webformatURL;d=C.webformatWidth;I=C.webformatHeight}var T=E[0],o=E[1],s=J,Q=i;if(J/i>d/I){Q=s*I/d;
o=o-(Q-i)/2}else{s=Q*d/I;T=T-(s-J)/2}if(v){x.push("<defs>");x.push("<image width=\""+d+"\" height=\""+I+"\" id=\"Background\" href=\""+e+"\" />");
x.push("</defs>");var X=s/d;x.push("<use href=\"#Background\" transform=\""+gi.uW(new iQ(X,0,0,X,T,o))+"\" />")}else{var B="cp"+Math.random();
x.push("<clipPath id=\""+B+"\">");x.push("<path style=\"fill: "+a.Hp(K.nc)+"\" d=\""+a.Rect(E[0],E[1],J,i)+"\" />");
x.push("</clipPath>");x.push("<image  clip-path=\"url(#"+B+")\" xlink:href=\""+e+"\" x=\""+T+"\" y=\""+o+"\" width=\""+s+"\" height=\""+Q+"\" />")}};
gi.Ic.ab0=function(K,E,x,c,J,i,P){var _=gi.Ic;return"<text x=\""+E+"\" y=\""+x+"\" style=\"fill:"+_.Hp(J)+"; font-size:"+c+"px; text-anchor:"+["start","middle","end"][i]+"; font-family:"+P[2]+";\"><tspan>"+K+"</tspan></text>"};
gi.Ic.SM=function(K,E,x,c,J){var i=gi.Ic,P=[];for(var y=0;y<E.D7.length;y++){P.push(c);if(K.ads){c=(y&1)==K.amS?{o:1,J:1,k:1}:P[0]}}J.push("<g id=\""+E.mg.split("-")[2]+":::\" style=\"transform: "+gi.uW(x)+";\" >");
for(var y=0;y<E.D7.length;y++){var _=E.D7[y];c=P.pop();J.push("<path style=\"fill: "+(c?i.Hp(c):"#"+_[0])+"\" d=\""+Typr.U.pathToSVG({crds:_[1].C,cmds:_[1].W})+"\" />")}J.push("</g>")};
gi.Ic.acP=function(K,E,x){var c=gi.Ic,J=gi.Ic.jo,i=[];for(var y=0;y<J.length;y++){var P=J[y],_=P.mg.slice(0,4);
if(_!="1001")continue;i.push(P)}var P=i[Math.floor(c.Hv(K)*i.length)];if(c.Hv(K)<.5)c.u(P,new iQ(0,1,1,0,0,0));
var a=E[3]-E[1],j=E[2]-E[0],e=c.hp(P),d=.7*Math.min(j,a,.5*Math.max(j,a))/Math.max(e.b,e.n),I=new iQ;
I.scale(d,d);if(c.Hv(K)<.5){I.scale(1,-1);I.translate(0,a)}c.SM(K,P,I,K.nc,x);I.rotate(Math.PI);I.translate(j,a);
c.SM(K,P,I,K.nc,x)};gi.Ic.a72=function(K){var E=gi.Ic.jo,x=[];for(var y=0;y<E.length;y++){var c=E[y],J=c.mg.slice(0,4);
if(J=="0000"){x.push(c);continue}if(["1000","0100","0010","0001"].indexOf(J)==-1)continue;var i=J.indexOf("1");
if(c.mg[5]=="0"&&K==i&&i!=3)continue;x.push(c)}return x};gi.Ic.K2=function(K,E,x,c,J,i,P){var _=gi.Ic.jo,a=gi.Ic,j=[],s,Q;
for(var y=0;y<_.length;y++){var e=_[y],d=e.mg.slice(0,4);if(["1110","1101","1011","0111"].indexOf(d)==-1)continue;
var I=d.indexOf("0")+2&3;if(e.mg[5]=="0")if(i==!0||E!=I&&!(E==1&&I==3))continue;j.push(e)}var v=P!=null?P:Math.floor(a.Hv(K)*j.length),e=j[v],e=JSON.parse(JSON.stringify(e)),d=e.mg.slice(0,4),I=d.indexOf("0")+2&3;
if(I==3&&E==1)W.u(e,new iQ(1,0,0,-1,0,1e3));var n=new iQ;n.translate(-500,-500);n.rotate(-I*Math.PI/2);
n.translate(500,500);a.u(e,n);var C=x[3]-x[1],T=x[2]-x[0],o=a.hp(e);if(o.y<0){o.n+=o.y;o.y=0}if(o.y>0){o.n+=o.y;
o.y=0}if((E&1)==0){Q=C;s=T}else{s=C;Q=T}var X=Math.min(Math.min(.5+.5*a.Hv(K))*Math.min(T,C),J)/o.n,B=Math.ceil(s/(1e3*X)),M=new iQ,S=new iQ;
S.scale(X,X);if(E==0||E==2){S.translate(-(T/2),-(C/2));S.rotate(-E*Math.PI/2);S.translate(T/2+x[0],C/2+x[1])}else{S.rotate(Math.PI/2);
S.scale(1,-1);S.translate(x[0],x[1]);if(E==1){S.scale(-1,1);S.translate(T,0)}}c.push("<g id=\"Border-"+["top","right","bottom","left"][E]+":::\">");
for(var y=0;y<B;y++){var f=M.clone();f.concat(S);a.SM(K,e,f,K.nc,c);M.translate(1e3-2,0)}c.push("</g>");
return v};gi.Ic.Rect=function(K,E,x,c){return Typr.U.pathToSVG({crds:[K,E,K+x,E,K+x,E+c,K,E+c],cmds:["M","L","L","L","Z"]})};
gi.Ic.atP=function(K,E,x,c,J){var i=[K,E,K+x,E,K+x,E+c,K,E+c];K+=J;E+=J;x-=2*J;c-=2*J;i.push(K,E,K,E+c,K+x,E+c,K+x,E);
return Typr.U.pathToSVG({crds:i,cmds:"M L L L Z M L L L Z".split(" ")})};gi.Ic.auL=function(K,E){var x=W.g2(K.o,K.J,K.k);
x.M2=Math.max(.1,Math.min(.9,x.M2+E));return W.cc(x.o4,x.hV,x.M2)};gi.Ic.a6J=function(K,E){var x=W.g2(K.o,K.J,K.k);
x.o4+=E;return W.cc(x.o4,x.hV,x.M2)};gi.Ic.ak2=function(K){var E=W.g2(K.o,K.J,K.k);E.M2=1-E.M2;return W.cc(E.o4,E.hV,E.M2)};
gi.Ic.al8=function(K,E){var x=K.o-E.o,c=K.J-E.J,J=K.k-E.k;return Math.sqrt(x*x+c*c+J*J)};gi.Ic.axZ=function(K){var E=gi.Ic;
return{o:E.Hv(K),J:E.Hv(K),k:E.Hv(K)}};gi.Ic.Hp=function(K){return CSS.WN({o:K.o*255,J:K.J*255,k:K.k*255})};
gi.Ic.hp=function(K){var E=K.D7,x=new cS;for(var y=0;y<E.length;y++)x=x.XN(W.p.hp(E[y][1].C));return x};
gi.Ic.u=function(K,E){var x=K.D7;for(var y=0;y<x.length;y++)W.p.u(x[y][1].C,E,x[y][1].C)};gi.Ic.Hv=function(K){K.a75++;
var E=K.a75&3;if(E==0)K.Vh=gi.Ic.cp(K.Vh);var x=K.Vh>>>8*E&255;return x*(.99999999/255)};gi.Ic.wV=function(K){var E=gi.Ic.cp(K.Vh);
K.Vh=gi.Ic.cp(E);return E*(1/4294967295)};gi.Ic.cp=function(K){K=(K^61^K>>>16)>>>0;K=K+(K<<3)>>>0;K=(K^K>>>4)>>>0;
K=K*668265261>>>0;K=(K^K>>>15)>>>0;return K};gi.Ic.jo=[{mg:"0001-0-bird",D7:[["4b3c34",{W:"M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),C:[208,16,253,5,247,86,228,104,218,108,253,60,235,12,211,18,210,18,209,17,208,16,208,16,187,140,238,125,326,133,319,189,318,198,307,210,299,207,297,205,307,208,316,195,317,188,320,126,208,137,174,149,187,140,137,75,156,79,177,94,164,157,173,147,177,101,165,79,142,75,137,75,368,59,165,59,182,233,0,210,0,225,161,250,194,61,364,63,367,61,368,59,368,59,368,59]}],["3c7040",{W:"M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),C:[345,123,324,113,331,70,284,80,287,79,310,89,314,103,314,104,306,90,284,82,281,81,270,85,268,86,274,117,335,119,345,123,345,123,270,0,283,29,282,58,244,66,258,62,265,40,269,27,265,37,256,56,249,58,242,31,263,18,270,0,270,0,89,100,81,136,47,182,101,196,90,189,92,157,91,145,94,160,93,191,109,195,148,158,96,129,89,100,89,100,230,187,201,240,160,226,133,198,150,191,172,197,187,198,166,193,153,190,134,193,159,162,207,194,230,187,230,187,126,177,131,159,129,150,119,139,122,122,145,112,147,97,166,128,164,155,134,168,139,154,146,142,145,131,143,145,133,159,126,177,126,177,209,86,195,86,166,91,173,109,177,102,181,97,191,96,180,99,174,113,175,113,194,114,200,96,209,86,209,86,278,175,254,167,235,168,231,143,245,143,248,151,256,158,252,147,243,144,240,142,276,147,265,171,278,175]}],["b588c1",{W:"M C C C C C C C C C C C C L Z".split(" "),C:[189,40,188,42,186,44,184,47,184,52,183,55,181,59,175,70,160,78,147,79,142,79,131,78,127,75,118,74,95,71,93,70,89,70,88,70,69,72,74,66,82,68,93,65,78,64,83,62,95,59,128,50,128,33,155,29,162,16,180,13,189,31,193,31,196,34,198,37,197,37,193,39,189,40,189,40]}]]},{mg:"0001-0-bird2",D7:[["ff7f2a",{W:"M L L L Z M L L L Z".split(" "),C:[296,0,296,62,335,62,296,0,357,0,357,62,318,62,357,0]}],["b588c1",{W:"M C C C C C C C C C C C L Z".split(" "),C:[321,48,344,48,379,67,396,121,408,176,396,230,337,255,303,265,265,268,217,235,191,217,170,188,186,180,195,177,199,187,205,192,203,185,199,178,207,172,217,165,224,178,225,182,227,196,231,203,250,206,273,205,290,196,292,165,289,133,269,118,268,101,267,77,288,49,321,48,321,48]}],["74439e",{W:"M C C C C C C L Z M C C Z".split(" "),C:[337,187,329,202,317,204,304,204,293,204,284,205,293,224,286,216,278,209,268,214,257,220,262,237,269,243,284,258,310,256,323,243,337,227,339,208,337,187,337,187,340,77,310,78,287,81,315,96,269,83,309,75,340,77]}],["000000",{W:"M L L L Z M L L L Z".split(" "),C:[326,258,334,315,323,316,326,258,298,262,296,318,286,317,298,262]}],["4b3c34",{W:"M L C C C C C C C C L Z".split(" "),C:[0,272,0,336,63,296,119,296,175,320,205,330,229,339,278,338,322,337,354,322,405,325,443,329,482,332,501,377,501,366,502,348,474,328,464,320,440,312,384,309,296,309,300,333,186,293,118,264,54,250,0,272,0,272]}],["3c7040",{W:"M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),C:[58,260,44,247,27,239,20,208,15,188,32,182,43,198,59,227,56,242,58,260,181,323,167,336,150,345,143,375,138,396,155,401,166,385,182,356,179,342,181,323,60,260,79,249,100,243,113,214,122,194,102,186,86,200,62,227,65,242,60,260,60,260,499,378,479,377,462,372,435,388,417,399,425,415,444,411,476,403,484,390,499,378,499,378,501,379,494,397,482,411,488,442,491,463,511,461,514,442,520,410,508,397,501,379,501,379,503,378,513,390,516,402,531,413,546,421,557,412,548,401,534,382,519,379,503,378]}]]},{mg:"0000-1-flower",D7:[["7a59a2",{W:"M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),C:[468,470,411,473,371,480,351,495,332,509,322,536,325,581,325,601,328,621,325,637,346,634,371,638,397,637,427,636,456,626,465,611,478,596,485,553,489,490,477,489,470,483,468,470,445,563,435,583,425,591,415,590,401,588,401,572,410,549,388,558,375,557,369,546,366,533,374,524,390,517,416,506,441,498,465,495,463,519,455,542,445,563,445,563,489,450,486,392,480,352,465,332,451,313,425,302,380,305,360,305,340,307,324,304,327,324,322,350,323,376,323,406,332,435,347,444,362,457,405,465,468,470,469,458,476,451,489,450,489,450,395,424,376,415,368,405,369,394,371,380,387,380,410,390,402,368,403,355,414,349,427,346,436,355,443,370,454,397,460,422,463,446,439,443,417,435,395,424,395,424,508,470,566,468,606,462,626,447,645,433,656,407,654,362,654,342,652,322,655,306,634,309,609,304,583,305,553,305,524,314,514,329,501,344,493,387,488,449,500,451,507,457,508,470,508,470,534,377,544,357,554,350,564,351,578,353,578,369,568,392,590,384,604,385,609,396,612,409,603,418,588,425,561,435,536,442,512,445,515,421,523,399,534,377,534,377,488,490,492,547,499,587,514,607,528,626,554,636,600,633,619,632,640,630,656,633,652,612,656,587,655,560,655,531,645,502,629,493,614,480,571,473,508,469,507,481,501,488,488,490,488,490,582,513,602,523,610,533,609,543,607,557,591,557,568,548,577,570,576,583,565,589,552,592,542,584,535,568,524,542,517,517,514,493,538,495,560,503,582,513,582,513]}]]},{mg:"0000-1-flower",D7:[["d13777",{W:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),C:[474,503,457,528,452,530,450,528,450,523,469,498,464,493,388,522,332,552,314,585,297,628,322,660,372,639,361,698,421,709,450,665,467,649,477,596,482,505,474,503,474,503,439,563,431,563,424,556,424,548,424,539,431,532,439,532,447,532,454,539,454,548,454,556,447,563,439,563,462,475,432,467,429,463,430,460,435,458,465,469,468,463,417,399,371,356,335,348,288,345,265,379,300,420,241,428,249,488,301,503,321,513,374,507,462,483,462,475,462,475,394,460,391,452,396,444,404,441,412,438,420,443,423,451,426,459,421,467,413,470,405,473,396,468,394,460,484,455,483,424,486,419,489,420,492,424,492,456,498,457,543,389,570,332,566,294,554,249,515,238,487,284,461,231,406,256,408,310,405,333,427,381,477,458,484,455,484,455,477,385,484,380,494,382,499,389,504,396,502,405,496,410,489,415,479,414,474,407,469,400,471,390,477,385,511,470,539,459,545,461,545,463,542,467,512,477,513,483,592,505,654,513,688,497,728,472,726,432,674,419,717,378,675,334,625,353,602,356,563,393,506,464,511,470,511,470,575,442,581,447,583,456,578,463,573,470,563,472,557,467,550,462,548,452,553,445,558,438,568,437,575,442,505,499,524,523,524,529,521,531,517,529,498,503,492,506,496,588,508,650,533,677,570,707,607,693,603,639,656,667,685,614,651,572,641,551,594,525,509,493,505,499,505,499,551,552,548,560,540,564,532,561,524,559,519,550,522,542,524,534,533,530,541,532,549,535,554,543,551,552]}]]},{mg:"0000-1-flower",D7:[["ffac42",{W:"M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),C:[646,471,646,446,626,426,601,426,599,426,597,426,595,427,596,426,598,424,599,423,616,406,616,378,599,360,581,343,553,343,536,360,534,361,533,363,532,364,532,363,532,361,532,359,532,335,512,315,488,315,463,315,443,335,443,359,443,361,443,363,443,365,442,364,441,363,440,362,422,344,394,344,377,362,359,379,359,407,377,425,378,426,380,427,381,429,379,428,378,428,376,428,351,428,331,448,331,473,331,498,351,518,376,518,378,518,380,517,382,517,381,518,379,519,378,521,361,538,361,566,378,584,396,601,424,601,441,584,443,582,444,581,445,579,445,581,445,583,445,584,445,609,465,629,490,629,514,629,534,609,534,584,534,582,534,580,534,579,535,580,536,581,537,582,555,600,583,600,600,582,618,565,618,537,600,519,599,518,597,516,596,515,598,515,599,516,601,516,626,516,646,496,646,471,489,552,444,552,409,516,409,472,409,428,444,392,489,392,533,392,569,428,569,472,569,516,533,552,489,552]}]]},{mg:"0000-1-flower",D7:[["d04040",{W:"M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),C:[691,424,690,369,680,330,660,303,634,320,601,361,568,406,568,406,568,327,578,326,585,317,585,306,585,294,576,284,564,284,552,284,542,294,542,306,542,317,550,326,560,327,560,406,559,406,540,359,522,311,501,291,475,319,453,360,433,407,431,406,431,327,441,326,448,317,448,306,448,294,439,284,427,284,415,284,405,294,405,306,405,317,412,326,423,327,423,404,390,363,360,326,341,308,296,401,299,489,360,567,396,613,443,639,500,638,624,636,694,524,692,424,691,424,389,543,370,514,379,498,399,504,439,518,470,564,488,613,455,600,414,580,389,543,481,480,488,445,505,441,515,459,533,497,524,552,501,599,487,567,472,523,481,480,481,480,624,523,610,563,565,595,515,613,528,580,548,538,585,514,614,494,629,503,624,523,624,523]}]]},{mg:"0000-1-flower",D7:[["ec7272",{W:"M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),C:[447,475,452,450,452,438,437,423,422,407,407,412,390,383,398,418,421,415,433,434,445,453,446,474,447,475,495,446,520,439,529,433,535,412,542,390,529,380,546,351,520,376,533,394,523,414,513,434,495,445,495,446,545,473,564,490,574,495,595,490,617,485,620,469,653,468,619,459,610,479,587,480,565,482,546,472,545,473,545,473,549,533,543,558,543,569,559,585,574,601,589,596,606,624,597,590,575,592,563,573,551,555,550,534,549,533,549,533,504,562,480,570,470,575,464,596,458,618,470,628,454,657,479,632,466,614,476,594,486,575,504,563,504,562,459,536,440,519,430,513,409,518,387,524,384,539,351,540,385,549,394,529,417,528,439,527,457,536,459,536,459,536]}],["333333",{W:"M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),C:[534,455,584,415,579,358,577,335,574,315,585,304,585,304,585,304,568,308,561,312,554,316,520,333,500,363,479,392,493,437,486,456,479,476,452,485,452,485,452,485,471,474,475,454,479,434,460,402,482,365,505,328,565,292,597,294,612,295,591,298,587,316,583,333,593,373,584,404,574,440,533,456,534,455,534,455,559,506,619,530,666,497,685,483,701,471,716,475,716,475,716,475,704,463,697,459,690,454,657,434,622,431,587,428,554,462,534,465,513,469,492,451,492,451,492,451,511,461,530,455,549,448,568,416,611,417,654,418,716,452,730,481,737,495,724,478,706,483,689,489,660,516,628,524,592,534,558,506,559,506,559,506,524,552,534,615,586,640,607,649,625,657,629,672,629,672,629,672,634,655,634,647,634,639,636,601,621,569,606,537,560,525,547,509,534,494,539,466,539,466,539,466,539,488,554,501,569,514,607,514,627,552,648,590,650,660,632,687,623,700,631,680,617,667,605,656,566,644,543,621,517,594,524,551,524,552,524,552,467,546,417,585,421,643,424,665,426,686,415,697,415,697,415,697,432,693,439,689,446,684,481,667,501,638,521,609,508,563,515,544,522,524,548,515,548,515,548,515,530,527,526,546,522,566,540,598,518,635,496,672,436,709,404,706,388,705,409,702,413,684,417,667,408,628,417,596,426,561,467,544,467,546,467,546,442,495,383,472,336,504,317,518,301,530,286,526,286,526,286,526,298,539,305,543,312,547,344,568,380,571,415,574,448,539,468,536,488,532,510,551,510,551,510,551,490,540,471,547,452,553,434,585,391,584,348,583,286,550,272,521,265,507,278,524,296,518,313,513,342,485,373,477,409,468,444,495,442,495,442,495,476,449,467,386,415,361,394,352,375,344,371,329,371,329,371,329,366,346,366,354,366,362,364,400,379,433,394,465,440,476,453,492,467,508,462,535,462,535,462,535,461,513,446,500,431,487,394,487,373,449,352,411,350,341,368,314,377,301,369,321,383,334,396,345,434,357,457,380,483,407,477,450,476,449,476,449]}]]},{mg:"0000-0-hearts",D7:[["d17070",{W:"M C C C C C C C C C L Z".split(" "),C:[415,584,413,585,411,586,409,587,392,596,389,620,395,633,401,647,414,663,450,668,485,674,487,681,494,690,491,679,487,673,507,643,527,613,524,593,518,579,512,566,493,552,475,558,467,561,451,566,448,586,435,578,423,581,415,584,415,584]}],["6bcc6b",{W:"M C C C C C C C C C L Z".split(" "),C:[595,451,593,449,590,448,588,448,563,439,537,457,529,475,521,493,516,520,542,560,568,601,563,609,559,623,568,611,571,602,618,595,666,589,684,567,692,550,700,532,697,501,674,488,665,482,645,472,622,486,619,465,606,456,595,451,595,451]}],["5c5cc2",{W:"M C C C C C C C C C L Z".split(" "),C:[341,362,338,364,335,366,332,368,304,385,301,424,312,446,323,468,345,494,405,501,465,508,468,520,480,534,475,516,468,506,499,455,531,404,524,370,514,348,503,325,470,304,440,315,427,320,401,331,397,364,374,351,355,356,341,362,341,362]}]]},{mg:"0000-0-anchor",D7:[["2a3b66",{W:"M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),C:[495,315,490,315,488,318,489,323,491,328,502,326,502,320,502,317,501,316,497,315,496,315,496,315,495,315,495,315,496,303,509,303,521,320,514,327,511,330,513,345,517,348,519,350,531,352,546,354,570,357,572,357,578,354,588,347,592,351,592,369,592,385,588,390,580,385,576,383,570,383,552,384,524,387,519,389,517,397,515,404,517,515,520,554,522,583,525,599,530,606,534,610,555,617,565,617,584,616,607,602,635,572,639,568,641,566,644,563,633,559,616,557,616,557,675,533,675,533,671,605,669,609,667,611,664,591,658,577,657,579,657,580,656,582,628,638,603,660,565,664,545,666,521,672,514,675,512,677,507,682,504,688,501,693,497,698,496,698,494,698,490,693,487,688,484,682,480,677,477,675,471,672,447,666,427,664,391,660,367,640,340,591,335,604,332,621,331,619,329,615,325,544,325,544,384,568,384,568,368,569,357,573,385,602,408,616,426,617,437,617,458,610,461,606,466,599,470,583,472,554,474,515,476,404,475,397,473,389,468,387,440,384,422,383,416,383,412,385,403,390,400,385,400,369,400,351,403,347,414,354,419,357,421,357,446,354,460,352,473,350,475,348,478,345,481,330,478,327,470,320,483,303,496,303,496,303]}]]},{mg:"0000-1-leaf",D7:[["fbb600",{W:"M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),C:[642,726,633,723,632,707,591,631,570,582,526,521,537,547,535,579,517,598,501,619,486,602,414,634,412,606,379,609,346,611,394,557,406,547,401,539,386,532,319,519,337,508,332,493,320,478,326,464,302,450,287,436,303,436,324,441,330,432,346,434,359,434,359,415,377,428,397,431,417,432,442,440,437,418,417,416,406,372,401,370,395,367,389,355,417,363,408,339,406,323,416,312,427,303,417,276,433,295,444,297,452,294,479,321,490,313,496,294,503,322,510,329,517,338,522,353,530,371,530,379,546,402,551,389,555,378,578,333,606,333,628,304,652,280,646,306,644,327,657,329,649,356,658,374,679,384,666,392,656,415,645,432,627,457,653,451,661,457,692,460,698,473,715,481,697,485,678,488,669,509,656,523,655,533,666,539,659,537,659,542,643,531,630,535,613,543,608,539,598,535,594,542,590,553,590,566,594,564,596,569,568,575,551,543,531,519,575,577,597,628,639,708,642,726]}]]},{mg:"0000-1-acorn",D7:[["a05a2c",{W:"M C C C C C C C L Z".split(" "),C:[506,453,450,426,413,422,398,444,374,480,374,533,384,573,391,602,407,625,430,645,451,658,487,654,509,647,554,633,587,605,612,565,635,527,591,500,565,482,557,476,515,457,506,453,506,453]}],["502d16",{W:"M C C C C C C C C C C C Z".split(" "),C:[640,524,639,539,623,540,623,540,627,522,607,504,583,488,547,465,507,445,470,434,439,426,412,417,400,437,400,437,391,424,400,414,434,370,498,356,551,376,555,349,583,317,597,321,612,326,621,346,620,350,619,354,594,352,584,368,580,375,577,382,575,387,619,412,649,460,640,524]}]]},{mg:"0000-0-skull",D7:[["808080",{W:"M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),C:[396,410,398,415,398,420,398,424,420,437,433,404,465,382,501,382,538,382,569,404,582,435,602,424,602,419,603,415,604,410,604,410,609,392,622,379,633,382,643,384,648,402,643,420,643,421,642,421,642,422,643,422,643,422,644,422,662,427,675,440,672,450,669,461,652,465,633,460,628,459,624,457,620,455,589,473,588,491,582,507,572,520,607,540,611,538,615,536,620,535,639,530,656,535,659,545,662,556,649,568,630,573,630,574,629,574,629,574,629,574,629,575,629,575,634,594,630,611,619,614,609,617,596,604,591,585,590,580,589,576,589,571,565,557,564,592,536,619,501,619,466,619,438,591,437,557,412,572,411,576,411,580,410,585,410,585,405,604,392,617,381,614,371,611,366,593,371,575,371,574,371,574,372,574,371,573,371,573,370,573,352,568,339,556,342,545,345,534,362,530,381,535,385,536,390,538,394,540,430,519,421,507,415,491,414,475,380,455,376,457,372,459,367,460,367,460,349,465,331,461,328,450,326,440,338,427,357,422,357,422,358,422,358,422,358,421,358,421,358,420,353,402,357,384,368,381,379,379,391,391,396,410,463,439,445,439,431,453,431,470,431,488,445,502,463,502,480,502,494,488,494,470,494,453,480,439,463,439,540,439,522,439,508,453,508,470,508,488,522,502,540,502,557,502,571,488,571,470,571,453,557,439,540,439,483,528,518,528,500,503,483,528]}]]},{mg:"0000-0-ghost",D7:[["e6e6e6",{W:"M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),C:[653,486,653,574,689,597,689,638,689,661,640,644,620,656,601,666,609,682,583,692,563,700,538,666,512,666,490,666,451,695,433,686,415,677,416,646,388,644,367,641,313,671,313,648,313,619,346,588,346,486,346,388,415,308,500,308,584,308,653,388,653,486,653,486,449,396,428,396,412,415,412,439,412,462,428,482,449,482,465,482,478,470,484,454,489,470,503,482,519,482,539,482,556,462,556,439,556,415,539,396,519,396,503,396,489,407,484,423,478,407,465,396,449,396,482,505,441,505,465,560,482,560,503,560,524,505,482,505]}],["000000",{W:"M C C C C Z M C C C C Z".split(" "),C:[526,446,526,455,519,462,510,462,501,462,494,455,494,446,494,437,501,430,510,430,519,430,526,437,526,446,475,446,475,455,468,462,459,462,450,462,442,455,442,446,442,437,450,430,459,430,468,430,475,437,475,446]}]]},{mg:"1001-1-rose",D7:[["9e1460",{W:"M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),C:[568,83,558,83,548,88,539,96,538,98,536,99,535,101,522,115,513,134,517,149,522,172,561,200,592,207,604,210,611,215,615,221,622,234,611,258,611,258,613,260,615,264,618,264,627,266,638,241,640,236,660,188,614,83,568,83,526,125,527,97,567,68,593,75,616,81,642,121,649,152,651,165,656,172,662,176,675,183,698,173,698,173,698,173,698,173,698,173,704,176,705,179,705,180,706,189,681,199,678,200,678,200,677,201,677,201,627,220,524,170,526,125]}],["020304",{W:"M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),C:[60,151,60,151,37,125,60,98,83,72,95,91,115,66,134,42,117,26,120,30,123,34,146,83,132,114,114,154,60,151,60,151,280,70,280,70,258,97,283,122,308,147,318,127,339,150,361,173,344,190,347,186,350,182,370,132,354,101,333,62,280,70,280,70,61,150,61,150,27,143,30,108,33,73,54,81,55,50,57,19,33,16,38,17,43,19,91,44,98,78,107,121,61,150,61,150,-27,185,184,158,222,43,352,32,444,24,538,97,538,97,538,97,453,45,354,48,241,51,185,170,-27,185]}]]},{mg:"1001-1-curls",D7:[["53a7ab",{W:"M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),C:[68,114,121,103,159,110,183,135,212,169,211,204,189,237,162,277,124,291,86,276,52,263,38,236,47,202,55,168,79,151,121,156,147,162,165,177,160,205,155,228,135,241,113,237,97,234,92,221,96,205,98,195,105,194,115,200,124,205,133,204,135,197,139,183,122,167,95,171,68,176,54,193,68,220,84,252,131,261,165,238,201,202,199,164,158,136,118,113,52,122,-23,151,2,134,33,122,68,114,68,114,71,83,119,75,163,79,198,107,226,129,247,174,271,207,291,229,316,241,342,232,370,222,394,206,418,209,443,212,461,238,485,258,500,272,522,276,543,271,543,271,524,279,518,281,500,287,483,277,466,256,453,243,441,230,427,223,413,217,392,220,372,229,372,230,371,230,370,230,354,241,337,251,315,250,283,248,253,222,229,172,209,133,178,106,137,94,103,84,52,94,-30,133,-3,108,30,91,71,83,71,83,83,54,122,46,166,49,195,67,219,82,250,122,290,168,308,186,330,194,355,192,393,183,400,145,383,118,372,101,355,91,328,91,313,92,303,98,300,109,298,116,299,125,304,131,315,147,327,152,340,149,349,149,354,132,343,131,330,131,326,129,328,120,332,97,355,100,365,114,381,137,367,165,343,168,321,170,289,150,288,117,290,77,319,58,352,64,388,74,405,104,404,141,403,177,382,202,345,207,312,211,284,191,260,161,245,141,229,122,213,106,196,84,166,73,129,67,80,62,28,79,-26,108,10,79,46,63,83,54,83,54]}],["bbdc54",{W:"M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),C:[321,315,287,324,252,312,211,219,217,284,239,326,279,341,324,352,362,329,398,291,316,305,258,269,217,196,238,284,274,319,321,315,321,315,211,261,223,300,234,345,252,374,220,378,194,367,193,324,194,306,198,288,206,270,197,315,204,340,221,351,206,327,202,297,211,261,211,261,206,246,193,301,170,317,138,297,162,281,184,254,205,222,201,246,191,267,174,283,186,279,197,267,206,246,206,246,378,233,370,286,337,299,294,270,312,277,330,276,347,267,294,278,259,252,234,203,280,259,327,278,378,233,378,233,626,217,604,273,555,313,511,315,484,316,438,289,432,232,450,253,488,296,511,291,532,286,551,277,566,261,527,269,498,263,480,243,478,241,478,237,480,235,486,230,504,220,519,226,537,233,551,242,567,241,591,236,611,228,626,217,626,217,411,192,432,183,439,166,420,136,443,144,460,158,466,182,470,165,456,149,430,133,459,136,485,145,505,165,503,143,463,133,434,128,486,127,526,124,539,118,505,123,470,124,435,122,461,111,483,96,500,76,475,95,450,110,424,118,450,96,465,72,466,48,458,75,440,98,419,112,424,106,428,99,428,91,429,68,413,57,393,51,419,70,426,92,411,110,408,77,385,58,343,52,383,26,422,25,445,62,458,47,465,29,467,8,477,27,479,51,475,76,497,64,515,49,528,29,524,57,515,82,496,103,521,113,549,111,579,99,560,122,535,136,502,137,518,149,521,173,514,205,505,181,492,166,476,158,483,188,470,205,447,216,456,183,451,166,438,157,444,193,426,211,379,207,403,193,416,172,416,140,434,156,428,173,411,192,411,192]}]]},{mg:"0111-0-pines",D7:[["e9e9e9",{W:"M C C C C C C C C L L L Z".split(" "),C:[0,946,0,946,54,960,99,944,149,927,182,954,205,956,245,960,298,940,382,974,435,995,478,957,538,956,571,955,597,969,631,968,663,967,701,938,749,944,805,950,851,960,893,946,950,928,1e3,946,1e3,946,1e3,1e3,0,1e3,0,946]}],["437a26",{W:"M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),C:[119,801,120,801,148,859,148,859,137,853,137,853,155,890,155,891,156,892,138,887,140,888,141,888,171,925,171,925,126,924,125,943,125,943,105,944,106,944,107,944,106,924,106,924,61,925,93,886,77,891,100,854,89,860,89,860,119,801,119,801,286,871,286,871,303,905,303,905,296,902,296,902,307,924,307,924,307,925,297,922,297,922,298,922,316,944,316,944,289,944,289,955,289,955,277,956,278,956,278,956,278,944,278,944,251,944,270,921,260,924,274,902,268,906,268,906,285,871,286,871,526,863,526,863,546,903,546,903,538,899,538,899,550,924,550,925,550,926,539,922,540,922,540,922,561,948,561,948,530,947,529,960,529,960,516,961,517,961,518,961,517,947,517,947,486,948,508,921,497,925,513,899,505,903,505,903,526,863,526,863,731,841,731,841,752,883,752,883,744,879,744,879,757,907,757,908,758,908,745,905,746,905,747,905,769,932,769,932,736,932,735,946,735,946,721,946,721,946,722,947,721,932,721,932,688,932,712,903,700,908,717,880,709,884,709,884,731,841,731,841,889,826,889,826,914,876,914,876,904,871,904,871,920,904,920,905,920,906,906,901,907,902,908,902,934,934,934,934,894,933,894,950,894,950,877,951,878,951,879,951,878,933,878,933,838,934,866,900,852,905,872,872,862,877,862,877,889,826,889,826]}]]},{mg:"0111-0-flowers",D7:[["8cae40",{W:"M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),C:[182,866,160,879,146,903,135,929,135,844,177,842,228,831,230,796,231,770,207,765,182,779,160,792,146,816,135,843,135,713,135,711,134,710,132,710,130,710,128,711,128,713,128,841,117,815,103,791,82,779,57,764,33,769,34,795,36,830,86,841,128,844,128,930,117,903,103,880,82,867,57,853,33,858,34,884,36,919,86,930,128,932,128,1009,128,1010,130,1012,132,1012,134,1012,135,1010,135,1009,135,931,177,928,228,918,230,882,231,856,207,851,182,866,182,866,447,904,430,898,412,904,394,916,394,861,413,873,431,879,447,873,458,868,458,852,447,848,430,841,412,848,394,859,394,788,394,787,393,786,391,786,389,786,388,787,388,788,388,859,370,847,352,841,336,848,325,852,325,868,336,873,352,879,370,873,388,862,388,915,370,904,352,898,336,904,325,909,325,925,336,929,352,936,370,930,388,918,388,1009,388,1010,389,1011,391,1011,393,1011,394,1010,394,1009,394,918,413,930,431,936,447,929,458,925,458,909,447,904,447,904,662,943,650,954,641,972,634,993,634,914,659,907,680,895,692,873,707,846,686,836,662,859,650,870,641,888,634,909,634,818,634,816,632,815,631,815,629,815,628,816,628,818,628,908,621,887,612,870,600,859,576,836,555,846,570,873,582,895,603,907,628,914,628,992,621,971,612,954,600,943,576,920,555,930,570,957,582,978,603,990,628,998,628,1009,628,1010,629,1011,631,1011,632,1011,634,1010,634,1009,634,998,659,991,680,978,692,957,707,930,686,920,662,943,662,943,892,842,875,857,862,882,850,912,850,822,874,817,896,805,908,778,919,755,896,751,877,769,866,779,857,796,850,815,850,737,850,736,848,735,847,735,845,735,844,736,844,737,844,815,836,795,828,779,817,769,798,751,775,755,785,777,797,804,820,817,844,822,844,912,832,882,818,857,801,842,772,816,737,822,753,854,772,894,806,911,844,918,844,1009,844,1010,845,1011,847,1011,848,1011,850,1010,850,1009,850,918,887,911,922,894,941,854,957,822,922,816,892,842,892,842]}],["d13777",{W:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),C:[125,603,115,617,112,619,110,618,111,615,122,600,119,597,75,614,43,631,32,650,22,675,36,694,65,682,59,716,94,722,111,696,120,687,126,657,129,604,125,603,125,603,104,638,99,638,95,634,95,629,95,624,99,620,104,620,109,620,113,624,113,629,113,634,109,638,104,638,117,587,100,582,98,579,99,578,102,577,119,583,121,580,92,543,65,517,44,513,17,512,4,531,24,555,-10,560,-6,594,24,603,36,609,67,605,118,591,118,587,117,587,78,578,77,573,79,568,84,567,88,565,93,568,95,573,96,577,94,582,89,584,85,585,80,583,78,578,130,575,130,557,131,554,133,555,135,557,135,575,138,576,164,537,180,504,177,482,171,456,148,449,132,476,117,445,85,460,86,491,84,504,97,532,126,577,130,575,130,575,126,535,130,532,136,533,139,537,142,541,141,546,137,549,133,552,127,551,125,547,122,543,122,538,126,535,146,584,162,577,165,578,166,580,164,582,146,588,147,591,193,604,229,609,249,600,271,585,271,562,240,554,265,530,241,505,212,516,199,518,176,539,143,580,146,584,146,584,183,567,187,570,187,576,185,580,182,584,176,585,172,582,168,579,167,573,170,569,173,565,179,565,183,567,142,601,153,615,153,618,152,619,149,618,138,603,135,605,137,652,144,688,159,704,180,721,202,713,199,681,230,698,246,667,227,643,221,631,194,616,145,597,142,601,142,601,169,631,167,636,162,638,158,637,153,635,151,630,152,625,154,621,159,618,163,620,168,621,170,626,169,631,376,691,343,693,320,697,309,706,297,714,291,729,294,756,294,767,295,779,294,788,305,786,320,788,335,788,353,787,369,782,375,773,382,764,386,739,388,703,381,702,377,699,376,691,363,745,357,757,351,761,345,761,337,760,337,751,343,737,330,742,322,742,319,735,317,728,322,723,331,718,346,712,360,708,374,706,373,720,369,733,363,745,363,745,388,680,387,646,383,623,375,612,366,600,351,594,325,596,314,596,302,597,293,595,295,607,292,622,292,637,292,654,298,671,306,676,315,684,340,689,376,692,377,684,381,680,388,680,388,680,334,665,323,659,318,654,319,648,320,639,329,640,343,645,338,632,339,625,345,621,352,620,358,625,362,634,368,649,372,664,373,677,360,676,347,671,334,665,334,665,399,691,433,690,456,686,467,678,479,670,485,655,484,629,484,617,482,606,484,597,472,598,458,595,442,596,425,596,409,601,403,610,395,618,391,643,388,679,395,680,399,684,399,691,399,691,414,638,420,626,426,622,432,622,440,624,440,633,434,646,447,641,455,642,458,648,459,656,454,661,445,665,430,671,416,675,402,677,403,663,408,650,414,638,414,638,388,703,390,736,394,759,403,770,411,782,426,788,452,785,464,785,475,784,485,785,483,774,485,759,485,744,484,726,479,710,470,704,461,697,436,693,400,691,399,698,395,702,388,703,388,703,442,716,453,722,458,728,458,734,456,742,447,742,434,736,439,749,438,757,432,760,425,762,419,757,415,748,409,733,404,719,403,705,416,706,429,710,442,716,442,716,722,716,722,701,710,690,696,690,695,690,694,690,693,690,693,689,694,689,695,688,705,678,705,662,695,651,685,641,668,641,658,651,658,652,657,653,656,654,656,653,656,652,656,651,656,637,645,625,630,625,616,625,605,637,605,651,605,652,605,653,605,654,604,654,604,653,603,652,593,642,576,642,566,652,556,662,556,679,566,689,567,690,568,690,569,691,568,691,567,691,566,691,552,691,540,702,540,717,540,731,552,743,566,743,567,743,568,743,569,742,569,743,568,744,567,744,557,754,557,771,567,781,577,791,594,791,604,781,605,780,605,779,606,778,606,779,606,780,606,781,606,795,617,807,632,807,646,807,657,795,657,781,657,780,657,779,657,778,658,779,658,779,659,780,669,790,686,790,696,780,706,770,706,754,696,743,695,743,694,742,693,741,694,741,695,741,696,741,710,741,722,730,722,716,631,762,605,762,585,742,585,716,585,691,605,670,631,670,657,670,677,691,677,716,677,742,657,762,631,762,958,602,957,570,951,547,940,532,925,541,905,565,887,591,886,591,886,546,892,545,897,540,897,533,897,527,891,521,884,521,877,521,872,527,872,533,872,540,876,545,882,546,882,591,882,591,870,564,860,536,848,525,833,541,820,565,808,592,807,592,807,546,813,545,817,540,817,533,817,527,812,521,805,521,798,521,792,527,792,533,792,540,797,545,802,546,802,590,784,567,766,545,755,534,729,588,731,639,766,684,787,711,814,726,847,725,919,724,960,659,958,602,958,602,783,671,772,653,777,645,789,648,812,656,830,682,840,711,821,704,797,692,783,671,836,634,840,614,850,612,856,622,867,644,861,676,848,703,840,684,831,659,836,634,836,634,919,659,911,682,885,701,856,711,863,692,875,668,896,654,913,642,922,647,919,659,919,659]}]]},{mg:"1101-1-confetti",D7:[["e789ff",{W:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),C:[170,439,169,438,59,370,108,300,152,238,298,276,318,337,338,398,265,380,285,358,312,328,185,247,121,307,72,353,171,440,170,439,318,338,336,399,262,408,184,346,138,309,73,237,112,174,167,88,345,115,377,222,393,276,296,260,335,236,375,212,236,111,155,183,73,254,265,380,285,358,312,328,318,338,318,338,377,222,394,276,318,288,243,236,187,197,146,120,201,56,254,-5,365,26,407,68,407,68,414,94,378,71,344,50,258,31,221,89,178,154,297,260,336,235,374,211,377,222,377,222,406,70,452,115,432,189,324,115,214,39,323,-85,322,-85,320,-85,229,38,331,100,439,166,413,95,377,72,343,51,364,28,406,70,346,405,369,418,356,441,333,428,346,405,513,298,536,311,523,334,500,321,513,298,891,91,914,104,901,127,878,114,891,91,24,123,47,136,34,159,11,146,24,123,664,33,687,46,674,69,651,56,664,33,910,482,933,495,920,518,897,505,910,482]}],["666666",{W:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),C:[919,442,917,443,802,510,764,432,730,364,837,250,901,261,965,272,913,329,903,301,889,262,755,338,777,424,794,490,920,442,919,442,901,261,964,274,936,345,842,386,787,410,690,435,654,370,604,279,716,132,827,153,883,164,821,244,819,197,817,150,659,228,682,335,706,443,913,329,903,301,889,262,901,261,901,261,827,153,884,163,857,238,774,281,711,313,622,313,593,233,564,157,647,71,705,54,705,54,732,60,694,82,658,102,599,170,632,231,669,301,822,244,819,197,816,150,827,153,827,153,706,54,769,34,825,87,706,149,583,213,527,56,526,57,526,59,590,200,696,137,807,70,732,60,694,82,658,102,648,73,706,54,362,328,383,340,371,361,350,349,362,328,52,189,73,201,61,222,40,210,52,189,509,119,530,131,517,152,496,140,509,119,912,16,933,28,921,49,900,37,912,16,629,380,650,392,638,413,617,401,629,380,77,414,98,426,86,447,65,435,77,414,240,76,261,88,249,109,228,97,240,76]}]]},{mg:"1101-1-branch",D7:[["7f500b",{W:"M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),C:[144,-14,144,-14,149,-12,150,-12,150,-12,106,22,86,75,63,137,93,193,69,238,64,236,89,174,53,146,80,72,99,19,144,-14,144,-14,280,-18,281,-18,276,-20,276,-20,276,-20,282,23,264,64,244,113,196,129,185,168,189,170,209,120,244,123,269,66,288,25,280,-18,280,-18,429,-5,429,-5,434,-4,434,-4,435,-4,405,28,396,72,386,124,415,164,402,203,398,202,410,150,379,132,391,70,399,26,429,-5,429,-5,514,-7,514,-7,519,-12,519,-12,520,-12,532,50,577,96,630,151,703,150,738,197,733,201,681,144,635,166,571,101,526,54,514,-7,514,-7,666,-67,666,-68,663,-65,662,-64,662,-64,704,-52,734,-18,768,22,763,72,793,99,796,96,760,57,778,26,737,-22,708,-56,666,-67,666,-67,936,-8,936,-8,932,-9,931,-9,931,-9,947,32,938,76,927,127,884,154,881,194,886,195,895,142,930,138,943,76,952,32,936,-8,936,-8]}],["5c7f0b",{W:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),C:[119,6,121,16,113,31,81,33,58,34,27,27,27,27,27,27,53,5,70,-1,93,-9,117,-4,119,6,124,8,132,1,151,12,165,33,179,54,180,87,180,87,180,87,153,75,139,60,122,41,115,14,124,8,78,74,82,83,76,97,48,103,27,108,-2,105,-2,105,-2,105,19,81,33,74,53,64,75,65,78,74,83,75,90,68,108,76,124,93,139,110,144,140,144,140,144,140,117,132,104,121,85,105,76,83,83,75,72,152,75,159,72,172,48,179,30,185,6,185,6,185,6,185,22,163,33,156,49,145,68,145,72,152,76,153,81,146,98,151,112,165,126,178,133,203,133,203,133,203,110,199,97,190,80,178,70,160,76,153,73,206,75,213,71,224,49,228,34,232,12,230,12,230,12,230,28,212,39,206,53,199,70,200,73,206,76,207,81,202,95,207,107,220,118,233,122,255,122,255,122,255,102,250,92,241,78,230,71,213,76,207,70,232,78,236,76,252,66,269,56,286,33,297,33,297,33,297,33,274,39,260,46,241,62,228,70,232,285,3,278,8,274,21,291,39,304,52,325,63,325,63,325,63,323,36,316,24,308,7,291,-2,285,3,281,1,280,-7,263,-10,244,-5,224,1,205,20,205,20,205,20,228,27,244,25,264,22,283,10,281,1,270,65,264,69,259,80,272,99,281,112,299,125,299,125,299,125,300,100,296,88,290,72,277,61,270,65,267,64,267,56,252,51,234,53,216,56,197,71,197,71,197,71,216,80,230,80,249,80,267,72,267,64,231,116,225,119,220,128,230,145,237,157,251,170,251,170,251,170,254,148,251,138,248,123,237,113,231,116,228,114,229,108,217,102,201,103,186,103,168,115,168,115,168,115,184,124,196,126,212,127,228,121,228,114,201,148,196,151,192,160,202,174,209,184,222,194,222,194,222,194,223,175,220,166,216,154,206,145,201,148,198,147,198,141,187,137,174,139,160,141,145,152,145,152,145,152,160,159,171,159,185,160,198,153,198,147,188,165,182,163,173,174,170,190,167,205,173,224,173,224,173,224,186,210,191,198,197,183,195,166,188,165,415,10,417,18,413,31,389,36,371,39,347,37,347,37,347,37,364,16,377,9,393,0,412,2,415,10,418,11,424,4,440,11,453,27,466,43,470,69,470,69,470,69,448,62,436,52,420,38,412,17,418,11,391,69,394,76,392,89,371,96,355,102,333,103,333,103,333,103,346,81,357,74,371,64,388,63,391,69,395,70,399,63,414,68,428,80,441,92,448,116,448,116,448,116,427,113,415,105,400,94,390,77,395,70,395,133,398,139,397,150,379,158,367,164,348,167,348,167,348,167,358,148,366,140,377,130,391,128,395,133,398,134,401,128,414,130,427,140,439,149,447,169,447,169,447,169,429,167,418,162,404,154,394,140,398,134,401,177,404,182,402,192,386,198,374,202,358,203,358,203,358,203,368,187,375,181,386,173,399,172,401,177,404,178,408,173,419,176,429,185,439,194,445,212,445,212,445,212,429,210,420,204,408,196,401,183,404,178,402,198,408,201,409,214,403,229,397,244,381,255,381,255,381,255,378,236,381,224,385,208,396,196,402,198,519,23,531,26,543,42,528,75,518,99,495,125,495,125,495,125,485,87,487,67,490,40,508,19,519,23,523,19,521,7,542,-6,571,-8,600,-10,636,6,636,6,636,6,609,27,586,32,557,39,526,32,523,19,570,100,581,102,594,115,585,147,579,170,562,197,562,197,562,197,548,163,547,145,547,120,560,98,570,100,574,97,570,86,587,72,613,66,639,60,673,71,673,71,673,71,652,93,632,101,607,110,578,107,574,97,649,149,659,150,670,160,666,188,662,208,650,232,650,232,650,232,635,205,633,189,631,168,640,149,649,149,652,146,648,137,662,123,683,116,705,109,734,116,734,116,734,116,718,137,702,145,681,155,657,155,652,146,707,178,715,179,724,189,718,213,714,230,701,250,701,250,701,250,690,225,690,211,689,193,699,177,707,178,710,175,707,167,720,156,739,151,759,147,784,155,784,155,784,155,768,172,753,177,734,185,713,183,710,175,732,194,740,189,757,199,770,218,782,237,783,266,783,266,783,266,758,254,746,240,730,223,724,199,732,194,687,-62,688,-54,699,-45,722,-53,739,-59,759,-73,759,-73,759,-73,733,-82,719,-82,701,-81,685,-71,687,-62,684,-60,676,-62,666,-48,662,-28,659,-9,669,17,669,17,669,17,684,-1,689,-16,696,-35,692,-57,684,-60,737,-23,738,-15,746,-5,768,-9,784,-12,804,-23,804,-23,804,-23,782,-34,769,-36,752,-38,736,-30,737,-23,734,-20,727,-24,716,-13,711,5,705,22,711,46,711,46,711,46,727,33,734,20,742,3,742,-17,734,-20,766,35,766,41,772,50,792,48,806,47,823,40,823,40,823,40,805,28,795,26,780,23,766,28,766,35,763,37,758,33,747,42,741,56,735,70,738,91,738,91,738,91,753,81,760,71,768,57,769,40,763,37,782,76,783,82,789,89,806,86,818,84,832,76,832,76,832,76,816,67,806,66,794,65,782,70,782,76,780,78,775,75,766,84,762,97,758,110,762,128,762,128,762,128,775,118,779,108,786,95,785,80,780,78,792,94,788,100,794,112,807,122,819,131,839,133,839,133,839,133,832,116,823,107,812,95,796,89,792,94,945,11,939,18,938,31,959,45,974,55,997,62,997,62,997,62,989,36,980,25,968,11,950,5,945,11,941,11,938,3,921,3,903,13,885,22,871,45,871,45,871,45,894,47,909,42,929,35,944,19,941,11,944,75,938,80,935,93,952,108,964,119,984,128,984,128,984,128,980,104,974,93,965,78,949,70,944,75,940,75,938,67,923,65,906,71,889,77,873,96,873,96,873,96,894,101,908,99,926,95,942,82,940,75,916,133,911,137,907,147,920,162,930,172,946,182,946,182,946,182,944,160,940,151,933,137,921,129,916,133,913,132,912,125,899,123,884,127,869,130,854,145,854,145,854,145,871,151,883,150,899,148,913,139,913,132,893,171,888,175,887,184,899,196,908,204,923,211,923,211,923,211,920,193,915,184,909,173,897,167,893,171,890,170,889,165,877,163,864,168,851,172,839,187,839,187,839,187,855,190,865,188,879,186,891,176,890,170,884,190,877,190,871,202,871,218,871,234,881,251,881,251,881,251,891,234,893,222,896,206,890,190,884,190]}]]},{mg:"1101-1-sticks",D7:[["ec7272",{W:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),C:[260,148,297,180,286,192,249,160,260,148,114,31,161,47,155,63,109,47,114,31,931,91,902,52,915,42,945,81,931,91,711,19,746,-15,758,-3,723,31,711,19,812,161,782,122,795,112,825,151,812,161,389,34,424,0,436,12,401,46,389,34,431,209,465,175,477,186,442,221,431,209,282,90,282,41,299,41,299,90,282,90,58,233,29,194,42,184,72,223,58,233,574,58,621,74,615,90,569,74,574,58]}],["0000ff",{W:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),C:[722,208,733,161,717,157,706,205,722,208,843,12,797,28,802,44,849,28,843,12,31,74,60,35,47,25,18,64,31,74,220,21,185,-13,173,-1,208,33,220,21,140,166,170,127,157,117,127,156,140,166,558,148,523,114,511,126,546,160,558,148,562,9,516,25,521,41,568,25,562,9,697,105,726,66,713,56,684,95,697,105,961,180,990,141,977,131,948,170,961,180,399,97,353,113,358,129,405,113,399,97]}]]},{mg:"1101-1-dots",D7:[["ec7272",{W:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),C:[154,47,144,47,136,39,136,29,136,19,144,11,154,11,164,11,172,19,172,29,172,39,164,47,154,47,272,164,262,164,254,156,254,146,254,136,262,128,272,128,282,128,290,136,290,146,290,156,282,164,272,164,529,48,519,48,511,40,511,30,511,20,519,12,529,12,539,12,547,20,547,30,547,40,539,48,529,48,696,101,686,101,678,93,678,83,678,73,686,65,696,65,706,65,714,73,714,83,714,93,706,101,696,101,929,91,919,91,911,83,911,73,911,63,919,55,929,55,939,55,947,63,947,73,947,83,939,91,929,91]}],["0000ff",{W:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),C:[66,122,56,122,48,114,48,104,48,94,56,86,66,86,76,86,84,94,84,104,84,114,76,122,66,122,309,55,299,55,291,47,291,37,291,27,299,19,309,19,319,19,327,27,327,37,327,47,319,55,309,55,785,180,775,180,767,172,767,162,767,152,775,144,785,144,795,144,803,152,803,162,803,172,795,180,785,180,459,147,449,147,441,139,441,129,441,119,449,111,459,111,469,111,477,119,477,129,477,139,469,147,459,147,811,48,801,48,793,40,793,30,793,20,801,12,811,12,821,12,829,20,829,30,829,40,821,48,811,48]}],["88a500",{W:["M","C","C","Z"],C:[389,224,389,224,410,230,410,230,410,230,389,224,389,224]}]]},{mg:"1101-1-strips",D7:[["ffc88c",{W:"M L L L L Z M L L L L Z M L L L L Z".split(" "),C:[-40,0,44,0,137,99,53,99,-40,0,296,0,380,0,473,99,389,99,296,0,632,0,716,0,809,99,725,99,632,0]}],["88a500",{W:"M L L L L Z M L L L L Z M L L L L Z".split(" "),C:[128,0,212,0,305,99,221,99,128,0,464,0,548,0,641,99,557,99,464,0,800,0,884,0,977,99,893,99,800,0]}],["88a500",{W:["M","C","C","Z"],C:[407,217,407,217,428,223,428,223,428,223,407,217,407,217]}]]},{mg:"1101-1-circs",D7:[["ec7272",{W:"M C C C C Z M C C C C Z".split(" "),C:[61,209,27,209,0,181,0,147,0,113,27,86,61,86,96,86,123,113,123,147,123,181,96,209,61,209,551,209,517,209,489,181,489,147,489,113,517,86,551,86,585,86,612,113,612,147,612,181,585,209,551,209]}],["217995",{W:"M C C C C Z M C C C C Z".split(" "),C:[303,209,269,209,241,181,241,147,241,113,269,86,303,86,337,86,364,113,364,147,364,181,337,209,303,209,799,209,765,209,738,181,738,147,738,113,765,86,799,86,834,86,861,113,861,147,861,181,834,209,799,209]}],["88a500",{W:["M","C","C","Z"],C:[530,273,530,273,551,279,551,279,551,279,530,273,530,273]}]]},{mg:"1101-1-squares",D7:[["014ea7",{W:"M L L L L Z M L L L L Z".split(" "),C:[0,120,124,120,124,244,0,244,0,120,497,120,621,120,621,244,497,244,497,120]}],["fc54ff",{W:"M L L L L Z M L L L L Z".split(" "),C:[249,120,373,120,373,244,249,244,249,120,746,120,870,120,870,244,746,244,746,120]}],["88a500",{W:["M","C","C","Z"],C:[389,354,389,354,410,360,410,360,410,360,389,354,389,354]}]]},{mg:"1101-0-christmas",D7:[["014ea7",{W:"M C C C C Z M C C C C Z M L L L L Z".split(" "),C:[255,480,178,480,116,418,116,341,116,264,178,202,255,202,332,202,394,264,394,341,394,418,332,480,255,480,255,232,236,232,221,217,221,198,221,179,236,164,255,164,274,164,289,179,289,198,289,217,274,232,255,232,251,-152,260,-152,260,248,251,248,251,-152]}],["ff9518",{W:"M C C C C Z M C C C C Z M L L L L Z".split(" "),C:[746,623,669,623,607,561,607,484,607,407,669,345,746,345,823,345,885,407,885,484,885,561,823,623,746,623,747,376,728,376,713,361,713,342,713,323,728,308,747,308,766,308,781,323,781,342,781,361,766,376,747,376,742,-8,751,-8,751,392,742,392,742,-8]}]]}];
var bY={};bY.parse=function(K){var E=new Uint8Array(K),x=null;if(E[0]==80&&E[1]==75){var c=Date.now(),J=UZIP.parse(E.buffer),x=J["document.json"];
x=JSON.parse(R.__(x,0,x.length));bY.NE(x,J)}else{var i=a7.parse(K);x=bY.aqB(i[2][0][1])}return x};bY.NE=function(K,E){var x=typeof K;
if(x=="string"||x=="number"||x=="boolean")return K;if(K instanceof Array){for(var y=0;y<K.length;y++)K[y]=bY.NE(K[y],E);
return K}var c=K._class;if(c==null)return K;if(c=="MSJSONFileReference"){var J=K._ref;if(!1){}else if(E[J+".json"]!=null){var i=E[J+".json"],P=i.length;
for(var y=0;y<P;y++)if(i[y]==11||i[y]==3)i[y]=32;var _=R.__(i,0,P);K=JSON.parse(_)}else if(E[J+".png"]!=null)return{key:J.split("/").pop(),bdata:E[J+".png"]};
else if(E[J+".jpg"]!=null)return{key:J.split("/").pop(),bdata:E[J+".jpg"]};else if(E[J+".pdf"]!=null)return{key:J.split("/").pop(),bdata:E[J+".pdf"]};
else if(E[J]!=null)return{key:J.split("/").pop(),bdata:E[J]};else{console.log(K,E);return}}else if(c=="MSAttributedString"){var _=atob(K.archivedAttributedString._archive),a=_.length-1,j=new Uint8Array(a);
for(var y=0;y<a;y++)j[y]=_.charCodeAt(y);K.archivedAttributedString=bY.aqB(j)}for(var e in K)K[e]=bY.NE(K[e],E);
return K};bY.anz=function(K,E,x,c){if(K instanceof Uint8Array)return null;if(c.indexOf(K)!=-1)return null;
c.push(K);if(K==E)return x;for(var J in K){x.push(J);var i=bY.anz(K[J],E,x,c);if(i){console.log(K,i);
throw"e"}x.pop()}};bY.aqB=function(K){var E=kw.parse(K,0),x=E.$objects,c=new Uint8Array(x.length),J=bY.UQ(x,c,E.$top.root);
for(var y=0;y<x.length;y++)if(c[y]==0&&y!=0){console.log(y,x[y]);bY.anz(J,y,[],[])}for(var y=0;y<x.length;
y++){var i=x[y];if(i._class&&(i._class=="bitmap"||i._class=="fill"&&i.fillType==4&&(i.image||i.imageSHA))){var P=i.image,_=i.imageSHA,a=null,j=null;
if(P=="$null")P=null;if(_=="$null")_=null;if(P&&P.data){j=P.sha1["NS.bytes"];j=btoa(R.pr(j,0,j.length));
a=P.data instanceof Uint8Array?P.data:P.data["NS.bytes"]}else if(P==null&&_==null){var e=gr.Zf("PNG").bu([[W.Q(4).buffer]],1,1);
a=new Uint8Array(e)}else{var d=(J.assets?J.assets.imageCollection:J.images).images;if(_)j=_ instanceof Uint8Array?_:_["NS.bytes"];
else j=P.sha1["NS.bytes"];j=btoa(R.pr(j,0,j.length));var a=d[j].data;if(a["NS.bytes"])a=a["NS.bytes"]}a=new Uint8Array(a.buffer.slice(a.byteOffset,a.byteOffset+a.length));
delete i.imageSHA;i.image={key:j,bdata:a}}}return J};bY.azh=function(K){return K.slice(0,11)=="MSImmutable"?"MS"+K.slice(11):K};
bY.UQ=function(K,E,x){var c=K[x];if(E[x]==1){return c}E[x]=1;if(typeof c=="string")return c;if(typeof c=="number")return c;
if(typeof c=="boolean")return c;if(c instanceof Array)return c;if(c instanceof Uint8Array){return c}if(K[c.$class]==null){if(c.$class==null&&c["NS.data"]!=null)return c;
console.log(x,c);throw"e"}var J=K[c.$class],i=bY.azh(J.$classname);E[c.$class]=1;c.$class=i;if(bY.ac2[i]){delete c.$class;
c._class=bY.ac2[i]}var P=bY.UQ;if(i=="NSMutableArray"||i=="NSArray"){var _=[];if(c["NS.objects"]!=null)for(var y=0;
y<c["NS.objects"].length;y++)_.push(P(K,E,c["NS.objects"][y]));else for(var y=0;c["NS.object."+y]!=null;
y++)_.push(P(K,E,c["NS.object."+y]));K[x]=_;return _}if(i=="NSDictionary"||i=="NSMutableDictionary"){var a={$class:i};
if(c["NS.keys"]!=null)for(var y=0;y<c["NS.keys"].length;y++){var j=P(K,E,c["NS.keys"][y]);if(j instanceof Uint8Array)j=btoa(bY.GC.pr(j,0,j.length));
else if(typeof j!="string"&&typeof j!="number")j=btoa(bY.GC.pr(j["NS.bytes"],0,j["NS.bytes"].length));
a[j]=P(K,E,c["NS.objects"][y])}else for(var y=0;c["NS.key."+y]!=null;y++){var j=P(K,E,c["NS.key."+y]);
if(j instanceof Uint8Array)j=btoa(bY.GC.pr(j,0,j.length));else if(typeof j!="string"&&typeof j!="number")j=btoa(bY.GC.pr(j["NS.bytes"],0,j["NS.bytes"].length));
a[j]=P(K,E,c["NS.object."+y])}for(var e in c)delete c[e];for(var e in a)c[e]=a[e];return c}if(i=="NSURL")return{$class:i,base:P(K,E,c["NS.base"]),relative:P(K,E,c["NS.relative"])};
if(bY.ack.indexOf(i)!=-1){K[x]=P(K,E,c.array_do);return K[x]}if(c.do_objectID!=null)c.do_objectID=P(K,E,c.do_objectID);
if(bY.aeU.indexOf(i)!=-1)return c;var d=bY.aa7[i];if(d==null){console.log(K,c);throw"unknown class "+i}for(var y=0;
y<d.length;y++)if(c[d[y]]!=null)c[d[y]]=P(K,E,c[d[y]]);if(i=="MSTextLayer"){var I=c,v,n,C,T;if(I.attributedString)v=I.attributedString.archivedAttributedString;
else v=I.storage;T=v.NSString;if(typeof T!="string")T=R.__(T["NS.bytes"],0,T["NS.bytes"].length);if(v.NSAttributeInfo)n=v.NSAttributeInfo["NS.bytes"];
else{var o=T.length,s=[];while(o>0){var Q=Math.min(100,o);s.push(Q,0);o-=Q}n=new Uint8Array(s)}C=v.NSAttributes instanceof Array?v.NSAttributes:[v.NSAttributes];
var X={$class:"NSAttributedString",NSString:T,NSAttributes:C};I.attributedString={_class:"MSAttributedString",archivedAttributedString:X};
X.NSAttributeInfo={$class:"NSMutableData","NS.data":n};delete I.storage}return c};bY.GC={Xl:function(K,E){return K[E+1]<<8|K[E]},s:function(K,E){return K[E+3]<<24|K[E+2]<<16|K[E+1]<<8|K[E]},pr:function(K,E,x){var c="";
for(var y=0;y<x;y++)c+=String.fromCharCode(K[E+y]);return c}};bY.ac2={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
bY.ack=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
bY.aeU="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
bY.aa7={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var kw={};kw.parse=function(K,E){var x=R.pr(K,E,8);E+=8;var c=kw.parse.awZ(K,K.length-31),J=[];if(c.Lh==1){var E=K.length-31-c.Lh*c.dY;
for(var y=0;y<c.dY;y++)J.push(K[E+y])}else if(c.Lh==2){var E=K.length-31-c.Lh*c.dY;for(var y=0;y<c.dY;
y++)J.push(R.Xl(K,E+y*2))}else if(c.Lh==4){var E=K.length-31-c.Lh*c.dY;for(var y=0;y<c.dY;y++)J.push(R.s(K,E+y*4))}else{throw"e"}var i=kw.parse.UQ(K,J,c.root,c);
return i};kw.parse.UQ=function(K,E,x,c){var J=kw.GC,i=c.a0M,P=i==4?J.s:i==2?J.Xl:J.ap0,_=kw.parse,a=E[x],j=K[a],e=j>>4,d=j&15,v=null;
a+=1;if([4,5,6,10,12,13].indexOf(e)!=-1&&d==15){var I=_.Jv(K,a);a+=I.L9;d=I.Z}if(!1){}else if(e==0)v=d==8?!1:d==9?!0:null;
else if(e==1)v=_.Jv(K,a-1).Z;else if(e==2)v=1<<d==4?R.JU(K,a):R.sz(K,a);else if(e==3)v=R.sz(K,a);else if(e==4)v=new Uint8Array(K.buffer,a,d);
else if(e==5)v=R.pr(K,a,d);else if(e==6)v=R.$$(K,a,d);else if(e==8){v=0;for(var y=0;y<d+1;y++)v=v<<8|K[a+y]}else if(e==10){v=[];
for(var y=0;y<d;y++)v.push(_.UQ(K,E,P(K,a+i*y),c))}else if(e==12){v=[];for(var y=0;y<d;y++)v.push(_.UQ(K,E,P(K,a+i*y),c))}else if(e==13){v={};
for(var y=0;y<d;y++){var n=_.UQ(K,E,P(K,a+i*y),c),C=_.UQ(K,E,P(K,a+i*(d+y)),c);v[n]=C}}else throw"unknown mask "+e;
return v};kw.parse.Jv=function(K,E){var x=1<<(K[E]&15),c=0;for(var y=0;y<x;y++)c=c<<8|K[E+1+y];return{Z:c,L9:x+1}};
kw.parse.awZ=function(K,E){var x={};E+=6;x.Lh=K[E];E++;x.a0M=K[E];E++;E+=4;x.dY=R.s(K,E);E+=4;E+=4;x.root=R.s(K,E);
E+=4;E+=4;x.azg=R.s(K,E);E+=4;return x};kw.GC={ap0:function(K,E){return K[E]},Xl:function(K,E){return K[E]<<8|K[E+1]},s:function(K,E){return K[E]<<24|K[E+1]<<16|K[E+2]<<8|K[E+3]},pr:function(K,E,x){var c="";
for(var y=0;y<x;y++)c+=String.fromCharCode(K[E+y]);return c}};var a7={parse:function(K){var E=new Uint8Array(K),x=a7.TP(E),c=[],J=new Uint8Array(E.length),i=[];
c.push(i);a7.Qu(E,x,1,J,i);for(var y=0;y<i.length;y++){var P=[];c.push(P);a7.Qu(E,x,i[y][3],J,P);i[y][3]=y+1}return c},Qu:function(K,E,x,c,J){x--;
var i=x*E.U6+(x==0?100:0),P=K[i],_=a7.Xl(K,i+1);if(_!=0)throw"free block in a page";var a=a7.Xl(K,i+3),j=a7.Xl(K,i+5);
if(j==0)j=65536;var e=K[i+7],d=a7.Xl(K,i+8);if(P==2||P==5)i+=4;else d=0;for(var I=0;I<a;I++){var v=x*E.U6+a7.Xl(K,i+8+2*I),n=-1,C=0,T=0,o=0;
if(P==2||P==5){n=a7.s(K,v);v+=4}if(P==2||P==10||P==13){C=a7.oP(K,v);v+=C.L9}if(P==5||P==13){T=a7.oP(K,v);
v+=T.L9}if(P==5){a7.Qu(K,E,n,c,J);continue}var s=E.U6-(x==0?100:0),Q=C.W8,X=P==13?s-35:Math.floor((s-12)*64/255)-23,B=Math.floor((s-12)*32/255)-23,M=B+(Q-B)%(s-4);
if(Q<=X){a7.dq(K,v,c,0,Q)}else{var S=M<=X?M:B,f=0;a7.dq(K,v,c,0,S);f+=S;o=a7.s(K,v+S);while(o!=0){var F=(o-1)*E.U6;
o=a7.s(K,F);var G=Math.min(E.U6-4,Q-f);a7.dq(K,F+4,c,f,G);f+=G}}J.push(a7.ays(c,Q))}},ays:function(K,E){var x=0,c=a7.oP(K,x);
x+=c.L9;var J=[],i=[];while(x<c.W8){var P=a7.oP(K,x);x+=P.L9;J.push(P.W8)}if(x!=c.W8)throw"e";for(var y=0;
y<J.length;y++){var P=J[y];if(!1){}else if(P==0)i.push(null);else if(P==1){i.push(a7.af6(K,x));x+=1}else if(P==2){i.push(a7.ZM(K,x));
x+=2}else if(P==3){i.push(a7.af2(K,x));x+=3}else if(P==4){i.push(a7.Jv(K,x));x+=4}else if(P==7){i.push(a7.a7M(K,x));
x+=16}else if(P==8)i.push(0);else if(P==9)i.push(1);else if(P>=12&&(P&1)==0){var _=P-13>>1,a=new Uint8Array(_);
a7.dq(K,x,a,0,_);i.push(a);x+=_}else if(P>=13&&(P&1)==1){var _=P-12>>1;i.push(a7.__(K,x,_));x+=_}else throw"unknonw type "+P}return i},TP:function(K){if(!(K[18]==1&&K[19]==1&&K[20]==0&&K[21]==64&&K[22]==32&&K[23]==32))throw"unexpected SQL3 header";
var E={jv:a7.pr(K,0,15),U6:a7.Xl(K,16),ale:a7.s(K,24),size:a7.s(K,28),azw:a7.s(K,32),al_:a7.s(K,36),agV:a7.s(K,40),ae_:a7.s(K,44),a63:a7.s(K,48),ade:a7.s(K,52),acH:a7.s(K,56),atB:a7.s(K,60),afD:a7.s(K,64)!=0,a4I:a7.s(K,68),a5V:a7.s(K,92),afd:a7.s(K,96)};
if(E.U6==1)E.U6=65536;if(E.acH!=1)throw"unsupported text encoding "+E.acH;return E},aaa:function(K,E){return K[E]<<16|K[E+1]<<8|K[E+2]},af2:function(K,E){var x=a7.aaa(K,E),c=x&8388608;
return c?-(16777215-x+1):x},af6:function(K,E){a7.oL[0]=K[E];return a7.al$[0]},Jv:function(K,E){var x=a7.oL;
for(var y=0;y<4;y++)x[y]=K[E+3-y];return a7.awN[0]},ZM:function(K,E){var x=a7.oL;x[0]=K[E+1];x[1]=K[E];
return a7.axo[0]},Xl:function(K,E){return K[E]<<8|K[E+1]},s:function(K,E){return K[E]<<24|K[E+1]<<16|K[E+2]<<8|K[E+3]},a7M:function(K,E){var x=a7.oL;
for(var y=0;y<8;y++)x[y]=K[E+7-y];return a7.apx[0]},oP:function(K,E){var x=E,hr=0;while(!0){var c=K[E];
E++;hr=hr*128+(c&127);if(c<128)break}return{W8:hr,L9:E-x}},pr:function(K,E,x){var c="";for(var y=0;y<x;
y++)c+=String.fromCharCode(K[E+y]);return c},__:function(K,E,x){var c="";for(var y=0;y<x;y++)c+="%"+a7.axm(K[E+y].toString(16));
return decodeURIComponent(c)},dq:function(K,E,x,c,J){if(K[E+J-1]==null||x[c+J-1]==null){console.log(E,c,J);
throw"e"}for(var y=0;y<J;y++)x[c+y]=K[E+y]},axm:function(hr){return hr.length<2?"0"+hr:hr}};a7.oL=new Uint8Array(8);
a7.al$=new Int8Array(a7.oL.buffer);a7.axo=new Int16Array(a7.oL.buffer);a7.awN=new Int32Array(a7.oL.buffer);
a7.apx=new Float64Array(a7.oL.buffer);function a0(K,E,x){this.tD=K;this.pT=E;this.aaM=x;this.l9=new iP(0,0);
this.os=-1;this.e4=0;this.XG=0;this.DA=new cS;this.Qs=[];this.o9=null;this.a3t=null;this.vI=null;this.ud=null;
this.xq=null;this.a4y=null}a0.prototype.StartPage=function(K,E,x,c,J){var i=this.pT,P=i.pA(),_=1,a=(x-K)*(c-E);
if(J!=null)a=J;while(a*P*P/(_*_)>2*8192*8192)_++;i.scale(1/_,1/_);this.a3t=[K,E,x,c];var _=i.pA();K=Math.round(K*_);
E=Math.round(E*_);x=Math.round(x*_);c=Math.round(c*_);var j=this.tD,e=this.vI;if(e==null){i.qW=-K}else{var d=e[2]-e[0]+30,I=Math.round(x-K)+30;
if(this.l9.x+d+I>8192){i.qW=-K;this.l9.x=0;this.l9.y+=this.XG+120;this.XG=0}else{i.qW+=d;this.l9.x+=d}}i.Ju=this.l9.y+(this.aaM?c:-E);
this.XG=Math.max(this.XG,Math.round(c-E));this.vI=[K,E,x,c];this.ag$=[];j.B.push(j.NG())};a0.prototype.StartTGroup=function(K){this.OL();
var E=this.tD;E.B.push(E.NG());var x=a0.d6[K.bmode];if(x==null)x="norm";var c=E.EY();c.yH("<Group>");
c.add.lsct=fV.Bm;c.Vk=x=="norm"?"pass":x;c.LD=24;c.opacity=Math.round(255*K.ca);this.ag$.push(c)};a0.prototype.EndTGroup=function(){this.tD.B.push(this.ag$.pop())};
a0.prototype.aqG=function(){var K=this.tD,E=K.B[K.B.length-1];return E};a0.prototype.ahi=function(){var K=JSON.parse(JSON.stringify(dz.Ae.default));
K.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";K.strokeEnabled.v=!1;
K.fillEnabled.v=!1;return K};a0.prototype.a7C=function(){var K=this.tD,E=K.EY();E.yH("Path "+K.B.length);
this.tD.B.push(E);E.LD|=16;E.add.SoCo={classID:"null",Clr:{t:"Objc",v:W.M.TD({o:0,J:0,k:0})}};E.add.vmsk=new Z.Wf;
E.add.vstk=this.ahi();return E};a0.prototype.P5=function(K){var E={C:K.crds,W:K.cmds},x=W.p.uR(E,!1);
W.r.it(x,this.pT);return x};a0.a1l=function(K,E){for(var y=0;y<K.length;y++)if(K[y].qX!=null)K[y].qX=E};
a0.ayb=function(K){return Math.sqrt(Math.abs(K[0]*K[3]-K[1]*K[2]))};a0.cq=function(K){return W.M.TD({o:K[0]*255,J:K[1]*255,k:K[2]*255})};
a0.a$=function(K){return new iQ(K[0],K[1],K[2],K[3],K[4],K[5])};a0.prototype.Stroke=function(K){if(this.os!=-1&&this.os!=this.e4)return;
if(K.pth.cmds.length<=1)return;var E=this.P5(K.pth);if(E.length<=2)return;this.np(K);a0.a1l(E,-1);E[2].qX=1;
var x=a0.cq(K.COLR),c=this.aqG(),J=this.ahi();a0.LB(J,K,this.pT.pA(),x);var i=c!=null&&c.add.vmsk!=null&&!c.wC(),P=i&&!c.add.vstk.strokeEnabled.v&&Z.Wf.asv(c.add.vmsk.i,E,!0),_=i&&!c.add.vstk.fillEnabled.v&&JSON.stringify(J)==JSON.stringify(c.add.vstk);
if(_){c.add.vmsk.i=c.add.vmsk.i.concat(E.slice(2))}else if(P){c.add.vstk=J;J.fillEnabled.v=!0}else{c=this.a7C();
c.add.vmsk.i=E;c.add.vstk=J}};a0.LB=function(K,E,x,c){K.strokeEnabled.v=!0;K.strokeStyleMiterLimit.v=E.mlimit;
K.strokeStyleLineDashSet.v=bd.jP(E.dash,1/E.lwidth);K.strokeStyleLineDashOffset.v.val=E.doff;K.strokeStyleLineJoinType.v.strokeStyleLineJoinType=dz.Ae.join[E.ljoin];
K.strokeStyleLineCapType.v.strokeStyleLineCapType=dz.Ae.cG[E.lcap];K.strokeStyleLineWidth.v.val=Math.max(.4,E.lwidth*a0.ayb(E.ctm)*x);
K.strokeStyleContent.v.Clr.v=c};a0.prototype.Fill=function(K,E){if(this.os!=-1&&this.os!=this.e4)return;
if(K.ca==0)return;var x=K.pth.cmds;if(x.length==0)return;if(x.length==2&&JSON.stringify(x)=="[\"M\",\"L\"]")return;
var c=W.p.hp(K.pth.crds),J=W.p.hp(K.cpth.crds);if(c.Sl(J).um())return;var i=K.pth,P=UDOC.G.isBox(i,[c.x,c.y,c.x+c.b,c.y+c.n]),_=K.cpth,a=UDOC.G.isBox(_,[J.x,J.y,J.x+J.b,J.y+J.n]);
if(P&&a&&c.O()>J.O()*2){var j=c.Sl(J),e=j.x,d=j.y,I=e+j.b,v=d+j.n;i={cmds:["M","L","L","L","Z"],crds:[e,d,I,d,I,v,e,v]};
c=j}else if(this.ud==null&&UDOC.G.isBox(i,[c.x,c.y,c.x+c.b,c.y+c.n])&&c.ng(J)){i=_;c=J}else this.np(K);
var n=this.P5(i),C=W.p.VD(c);W.p.u(C.C,this.pT,C.C);c=W.p.hp(C.C);var T=a0.axQ(K.colr,this.pT,c),o=this.aqG(),s=o!=null&&o.opacity==Math.round(255*K.ca)&&o.add.vstk!=null&&!o.add.vstk.strokeEnabled.v&&o.add.SoCo&&T.type=="SoFi"&&JSON.stringify(o.add.SoCo.Clr.v)==JSON.stringify(T.Z.v.Clr.v);
if(s){var Q=!1;for(var y=0;y<n.length;y++){if(n[y].qX==0||n[y].qX==2)Q=!0}if(Q){var X=W.p.hp(W.r.Wk(o.add.vmsk.i)),B=W.p.hp(W.r.Wk(n));
s=X.Sl(B).um()}}if(s){var M=o.add.vmsk.i;for(var y=2;y<n.length;y++)M.push(n[y])}else{o=this.a7C();delete o.add.SoCo;
o.add.vmsk.i=Z.Wf.Z8(n);a0.uK(K.colr,o,this.pT,c);a0.a9i(K,o)}};a0.uK=function(K,E,x,c){var J=a0.axQ(K,x,c),i=null,P=null;
E.add.vstk.fillEnabled.v=!0;if(J.type=="SoFi"){i="SoCo";P=dz.zg}if(J.type=="GrFl"){i="GdFl";P=dz.Ab}if(J.type=="patternFill"){i="PtFl";
P=dz.Tk}if(i!=null){E.add[i]={classID:"null"};for(var y=0;y<P.length;y++){var _=P[y];E.add[i][_]=J.Z.v[_]}}};
a0.prototype.np=function(K){var E=this.tD,x=K.cpth,c=x.cmds.join(""),J=x.crds,i=c+" "+J.join(","),P=UDOC.G.isBox(x,this.a3t);
if(P&&this.ud==null)return;if(i==this.ud)return;this.OL();if(!P){this.ud=i;E.B.push(E.NG());var _=E.EY();
_.yH("Mask");_.add.lsct=fV.wg;_.Vk="pass";_.LD=24;var a=_.add.vmsk=new Z.Wf;a.i=this.P5(K.cpth);if(UDOC.G.isBox(x)){this.xq=W.r.a3(a.i);
this.xq.r1(3,3)}else this.xq=null;this.a4y=_}};a0.prototype.OL=function(){var K=this.tD;if(this.ud!=null){var E=K.B.length-1,y=E,x=!1;
while(y>=0&&K.B[y].add.lsct!=fV.Xx)y--;var c=this.xq;if(c){var J=new cS,i=E;while(i>y){J=K.B[i].ES(this.tD,!1,!0);
i--}x=c.ng(J)}if(x){this.Qs.splice(y,1);K.B.splice(y,1)}else{K.B.push(this.a4y)}this.ud=null}};a0.axQ=function(K,E,x){var c,J;
if(K.length!=null){c="SoFi";var i=JSON.parse(dz.hQ[dz.order.indexOf("SoFi")]);J={t:"Objc",v:i};J.v.Clr.v=a0.cq(K)}else{var P=a0.avG(K,E,x);
c="GrFl";J={t:"Objc",v:P}}return{type:c,Z:J}};a0.avG=function(K,E,x){var c=JSON.parse(dz.hQ[dz.order.indexOf("GrFl")]),J=c.Grad.v;
J.Intr.v=0;var i=a0.a$(K.mat);i.concat(E);var P=new iP(0,0),_=new iP(x.b,0),a=K.crds;if(K.typ=="rad"){c.Type.v.GrdT="Rdl";
var j=.7;P.x=(1-j)*a[0]+j*a[3];P.y=(1-j)*a[1]+j*a[4];_.x=P.x;_.y=P.y;_.x+=Math.max(a[2],a[5])}else{c.Type.v.GrdT="Lnr";
P.x=a[0];P.y=a[1];_.x=a[2];_.y=a[3];P.x=_.x+.5*(P.x-_.x);P.y=_.y+.5*(P.y-_.y)}P=i.iR(P);_=i.iR(_);W.M.Cs(P,_,x,c);
var e=K.grad;W.M.LW(e,J);return c};a0.prototype.PutText=function(K,E,x,c){var J=E.charCodeAt(0),v=null;
if(this.os!=-1&&this.os!=this.e4)return;if(E.length==0||E.length==1&&(J==0||J==8203))return;this.np(K);
var i=this.tD,P=K.font,_=Math.round(255*K.ca);if(K.font.Tmode==3)_=0;var a=a0.a$(K.ctm);a.concat(this.pT);
var j=a0.a$(P.Tm);j.concat(a);var e=j.pA(),d=new iQ(1/e,0,0,-1/e,0,0);d.concat(j);var I=P.Tfs*e,n=i.B.length-1;
while(n>=0&&i.B[n].add.TySh==null)n--;if(d.k*d.k+d.o0*d.o0<.001&&c==null&&n>=0&&i.B[n].add.TySh&&i.B[n].opacity==_){var C=i.B[n],T=this.Qs[n],o=C.add.TySh.u,s=(o.qW+T.Rr-d.qW)/I,Q=Math.abs(s),X=E.indexOf(" ")==-1,B=o.Cc==d.Cc&&o.k==d.k&&o.o0==d.o0&&o.Ga==d.Ga,M=B&&Math.abs(T.Gf-d.Ju)<1e-5&&Q<.6,S=d.Ju-T.Gf;
if(M){v=C;T.Rr=d.qW-o.qW;if(s>.2&&X&&[".",",","?",":","!"].indexOf(E)==-1)E=" "+E}else if(B&&Math.abs(d.qW-o.qW)<1e-5&&0<S&&S<I*1.7&&T.a6t==I){v=C;
this.ahp(T);T.Gf=d.Ju;E="\n"+E}}if(v==null){n=i.B.length;this.Qs[n]={_f:[],Rr:0,Gf:d.Ju,_W:"",a6t:I};
v=i.EY();i.B.push(v);v.add.lnsr="rend";v.add.TySh=ev.l4(0,0);v.add.TySh.u=d}var T=this.Qs[n];T.Rr+=x*I;
T._W+=E;var f=v.add.TySh.kd,F=ev.w1(f);if(c){ev.IT(f,1);var G=[0,0,Math.ceil(c[0]*e),Math.ceil(c[1]*e)];
ev.sV(f,G)}var D=F.length-1,b=D+E.length;ev.tW(f,D,E);if(this.o9==null)this.o9=ev.Jw(f,D,D);var H=this.o9;
H.BY.FontSize=Math.round(I);H.BY.Tracking=Math.round(P.Tc*100);H.BY.Underline=P.Tun==1;H.BY.FillColor={Type:1,Values:[1,K.colr[0],K.colr[1],K.colr[2]]};
if(P.Tal!=null)H.sn.Justification=P.Tal;if(T._f.length!=0){H.BY.AutoLeading=!1;H.BY.Leading=T.Gf-T._f[T._f.length-1].y}var q=P.Tf;
q=q.replace(/#2B/g,"+");q=q.replace(/#2C/g,"-");q=q.split("+").pop();var O={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(O[q])q=O[q];ev.H8(H,q);ev.q1(f,D,b-1,H);v.Te();v.opacity=_};a0.prototype.ahp=function(K){K._f.push({pz:K.Rr,kt:K._W.slice(K._f.length==0?0:1)+"\n",y:K.Gf,hV:K.a6t});
K.Rr=0;K._W=""};a0.prototype.av=function(K,E,x){return new Uint8Array(gr.Zf("PNG").bu([[K.buffer,0]],E,x))};
a0.prototype.PutImage=function(K,E,x,c,J,i,P){if(this.os!=-1&&this.os!=this.e4)return;var _=this.tD,a=K.font.Tmode;
if(a==7&&_.B[_.B.length-1].add.TySh){return}this.np(K);var j=a0.a$(K.ctm);j.concat(this.pT);var e=new iQ(1/x,0,0,-1/c,0,1);
e.concat(j);j=e;E=a0.a1L(E,x,c,i,!1);if(J)J=a0.a1L(J,x,c,P,!0);if(J==null){if(E.length==x*c*4)E=this.av(E,x,c)}else{E=this.av_(E,x,c,i,!1);
J=this.av_(J,x,c,P,!0);var d=W.Q(x*c);W.Bp(J,d,0);W.Mz(d,E,3);E=this.av(E,x,c)}var I=_.EI(E,"Bitmap",0,0),v=I.rect.clone();
v.x=v.y=0;var n=W.p.VD(v).C;W.p.u(n,j,n);I.add.SoLd.Trnf=$.Xq.K0(n);I.add.SoLd.nonAffineTransform=$.Xq.K0(n);
I.mQ(_,!1);a0.a9i(K,I);_.B.push(I)};a0.a9i=function(K,E){E.opacity=Math.round(255*K.ca);var x=a0.d6[K.bmode];
if(x==null)console.log("Unknown blend mode",x);else E.Vk=x};a0.d6={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
a0.auU=function(K){if(K=="pass")K="norm";for(var E in a0.d6)if(a0.d6[E]==K)return E};a0.a1L=function(K,E,x,c,J){var i=gr.lX(K.buffer);
if(i=="jpg"){try{K=new Uint8Array(gr.Zf("JPG").ayP(K.buffer))}catch(hg){K=new Uint8Array(E*x*4)}}else if(i=="jb2"){K=new Uint8Array(gr.Zf("JPG").TJ(K.buffer,c,J)[0].data)}else if(K.length!=E*x*4){var P=new Uint8Array(E*x*4),_=Math.ceil(E/8),a=new Uint8Array(x*_);
UTIF.decode._decodeG4(K,0,K.length,a,0,E,1);var j=a[0]==(J?255:0);for(var e=0;e<x;e++){var d=_*e;for(var I=0;
I<E;I++){var y=e*E+I,v=y*4,n=(a[d+(I>>3)]>>7-(I&7)&1)*255;if(j)n=255-n;P[v]=n;P[v+1]=n;P[v+2]=n;P[v+3]=255}}K=P}return K};
a0.prototype.av_=function(K,E,x,c,J){if(K.length!=E*x*4){var i=gr.lX(K.buffer);if(i=="jb2")throw"e";
var P=gr.Zf(i);if(P==null||i=="tga")P=gr.Zf("jpg");K=new Uint8Array(P.TJ(K,c,J)[0].data)}return K};a0.prototype.ShowPage=function(){var K=this.tD;
this.e4++;var E=this.vI;this.OL();var x=K.EY();K.B.push(x);var c=new cS(Math.round(this.l9.x),Math.round(this.l9.y),Math.round(E[2]-E[0]),Math.round(E[3]-E[1]));
if(c.um())c.b=c.n=2e3;this.DA=this.DA.XN(c);x.MZ(c);x.add.artb.artboardBackgroundType.v=1;x.yH("Page "+this.e4);
x.add.lsct=fV.wg;x.Vk="pass";x.LD=24};a0.prototype.Print=function(K){console.log("Print:",K)};a0.prototype.Done=function(){var K=this.tD;
if(this.e4==1)K.B[K.B.length-1].add.lsct=fV.Bm;K.yR(this.e4);for(var y=0;y<K.B.length;y++){var E=K.B[y],x=E.add.vmsk,c=E.add.TySh,J=this.Qs[y];
E.yt();if(x){var i=!1;for(var P=0;P<x.i.length;P++){var _=x.i[P];if((_.type==0||_.type==3)&&_.length>32767)i=!0}if(i){K.B.splice(y,1);
y--;continue}}E.DY(K);if(c&&J&&J._f.length!=0){this.ahp(J);var a=c.kd,j=J._f.length,e=J._f[0],d=0,I=0;
for(var P=0;P<j;P++)d=Math.max(d,J._f[P].pz);ev.IT(a,1);c.u.Ju-=e.hV*.7;ev.sV(a,[0,0,Math.ceil(d*1.1),Math.ceil(J._f[j-1].y-e.y+e.hV*2)])}if(c){var a=c.kd;
ev.arf(a);var v=ev.w1(a).split("\n");for(var P=0;P<v.length-1;P++){var n=v[P],C=0;for(var T=0;T<n.length;
T++){var o=n.charCodeAt(T);if(1473<=o&&o<=1524)C++}if(C>n.length/2){v[P]=n.split("").reverse().join("");
var s=a.EngineDict.ParagraphRun.RunArray[P].ParagraphSheet.Properties;s._Direction=1;s.Justification=ev.Xy(s)}}ev.Ig(a,v.join("\n"))}}K.zc=!0;
K.b=this.DA.b;K.n=this.DA.n;K.buffer=W.Q(this.DA.O()*4)};var ao={};ao.ml=null;ao.by=function(K,E,x,c,J,i){if(J==null)J=K.b;
if(i==null)i=K.n;ao.ml=K;var P=!1,_=[K.root],a=K.root.children;if(K.add.artd){P=!0;for(var y=0;y<a.length;
y++)if(a[y].j.add.artb==null)P=!1;if(P)_=a}var j=new cS(0,0,K.b,K.n),e=E[0];e=e.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();
e=e.split(" ");var d=[];for(var y=0;y<e.length;y++){var I=e[y];if(I=="-"){var v=d.pop(),n=parseInt(e[y+1]);
while(v<n){d.push(v);v++}}else d.push(parseInt(I))}e=d;for(var y=0;y<e.length;y++)if(isNaN(e[y])||e[y]<1||e[y]>_.length){e.splice(y,1);
y--}var C=J/K.b,T=i/K.n,o=C*72/K.B8,s=T*72/K.B8,Q=E[5];if(Q==null)Q=0;var X=72*Q,B=72*Q;for(var M=0;
M<_.length;M++){var y=M;if(E[2])y=_.length-1-M;if(e.length!=0&&e.indexOf(y+1)==-1)continue;var S=_[y],f=P?S.j.IZ():j;
if(!S.j.bL())continue;var F=Math.round(f.b*o+2*X),G=Math.round(f.n*s+2*B);x.StartPage(0,0,F,G);var D=UDOC.getState(),b=new iQ;
b.translate(-f.x,-f.y-f.n);b.scale(o,-s);b.translate(X,B);if(P){var H=S.j.add.artb,q=H.artboardBackgroundType.v;
if(q!=1&&q!=3){var O=S.j.Po(),w=X*o,V=B*s,t=w+f.b*o,m=V+f.n*s;D.colr=[(O>>>0&255)/255,(O>>>8&255)/255,(O>>>16&255)/255];
D.pth={cmds:["M","L","L","L","Z"],crds:[w,V,t,V,t,m,w,m]};x.Fill(D)}}if(E[3]){var g=K.S7();if(!j.ac(f)){g=W.Q(f.O()*4);
W.UL(K.S7(),j,g,f)}var Y=K.VE();if(Y)ICC.U.applyLUT(Y[K.add.fcmy==1?5:3],Y[2],g,g);if(E[1]!=100){var A=gr.Zf("JPG").bu([[g.buffer]],f.b,f.n,[E[1]]);
g=new Uint8Array(A)}var k=new iQ;k.translate(f.x,f.y);ao.PB(D,x,g,f,k,b)}else{ao.ayp(K,S,D,x,b,E,c);
if(X!=0){var w=X,V=B,t=w+f.b,m=V+f.n,z=t+X,p=m+X;D.ca=1;D.colr=[1,1,1];D.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[0,0,0,p,z,p,z,0,w,V,t,V,t,m,w,m]};
x.Fill(D)}}x.ShowPage()}x.Done();ao.ml=null};ao.OU=function(K){K=W.M.Et(K);return[K.o/255,K.J/255,K.k/255]};
ao.ayp=function(K,E,x,c,J,i,P){var _=E.j,a=_.add.lsct,j=_.add.lmfx,e=_.add.vmsk,d=_.add.vstk,I=_.add.TySh,o,s,D;
if(!_.bL())return;var v=_.opacity/255,n=_.add.iOpa!=null?_.add.iOpa/255:1;x.bmode=a0.auU(_.Vk);var C=x.ca;
x.ca=x.CA=v*n;var T=j;if(T)T=T.solidFillMulti.v[0];if(T)T=T.v;if(T&&!T.enab.v)T=null;var Q=_.rect;if(_.$y()&&(!_.wC()||_.vJ&&_.vJ.U7)){if(_.wC()){o=_.vJ.U7;
Q=_.vJ.abI}else{o=W.Q(_.rect.O());W.Bp(_.buffer,o,3)}s=bd.dm(j,_.add.fxrp,o,Q,K,Q).type;var X=["DrSh","OrGl"];
if(n!=1||d&&!d.fillEnabled.v){var B=o.slice(0);W.Pa(B);for(var y=0;y<X.length;y++){var M=s[X[y]];for(var S=0;
S<M.length;S++){var f=M[S],F=f.ha.clone();F.x+=Q.x;F.y+=Q.y;W.x9(B,Q,f.Ly,F)}}}}if(s)ao.axp(_,o,Q,s,x,c,J,i,!0);
var G=bd.axd(_,!1);if(G){c.StartTGroup(x);D=x;x=UDOC.getState()}var b=e&&!_.Au();if(b){var H=W.p.aS(e.i,!1),q=H.v6;
W.p.u(q.C,J,q.C);x.cpth={cmds:q.W,crds:q.C}}if(_.wC()){for(var y=0;y<E.children.length;y++)ao.ayp(K,E.children[y],x,c,J,i,P)}else if(e&&_.Au()&&_.add.PtFl==null){var O=e.i,w=W.r.a3(O),V=!1;
if(d.fillEnabled.v){var t=bd.Z5(j,_.add),m=t[0],g=t[1];x.colr=ao.st(m?m:g,J,w);V=!0}var Y=bd.KF(j);if(!d.strokeEnabled.v&&Y)d=Y;
var H=W.p.aS(O,d.strokeEnabled.v),q=H.v6;W.p.u(q.C,J,q.C);x.pth={cmds:q.W,crds:q.C};ao.apT(c,x,V,d,J,w,H.VM!=0)}else if(I&&i[4]){var A=I.kd,k=new dQ(A,P),q=cl.Ol(k,I),z=W.p.y4(q),p=bd.KF(j);
for(var L in z){var N=parseInt(L.slice(1,7),16),gC=0;x.colr=T?ao.OU(T.Clr.v):ao.ayx(N);var r=z[L];W.p.u(r.C,J,r.C);
r=W.p.apW(r);x.pth={cmds:r.W,crds:r.C};var d=p;if(L.length>7){d=JSON.parse(JSON.stringify(dz.Ae.default));
var h=L.slice(7).split("-"),N=parseInt(h[1].slice(1),16),l=ao.ayx(N);d.strokeEnabled.v=!0;d.strokeStyleLineWidth.v.val=parseFloat(h[2]);
d.strokeStyleContent.v.Clr.v=T?T.Clr.v:W.M.TD({o:l[0]*255,J:l[1]*255,k:l[2]*255});d.strokeStyleMiterLimit.v=parseFloat(h[2])}ao.apT(c,x,!0,d,J,null,!1)}}else if(I){var A=JSON.parse(JSON.stringify(I.kd));
ev.arf(A);var g5=I.u.clone(),fm=new iQ(1,0,0,-1,0,0);fm.concat(g5);fm.concat(J);var dC=ev.w1(A),k=new dQ(A,P);
for(var y=0;y<k.sn.length;y++){var ex=k.sn[y];if(ex.YW.length==1&&ex.YW[0].UB)continue;for(var S=0;S<ex.R$.length;
S++){var cR=ex.R$[S],d0=ex.Th.y+cR.Th.y,hN=ex.YW[cR.start].start,ey=ex.YW[cR.end-1].end,cr=ev.at5(A,hN,ey);
for(var ik=0;ik<cr.length;ik++){var hd=k.Za(hN),df=cr[ik],bQ=ev.Jw(A,hN,hN),is=bQ.Ho[bQ.BY.Font].Name;
x.font.Tf=is;var L=ev.Et(bQ.BY.FillColor);x.colr=T?ao.OU(T.Clr.v):[L.o/255,L.J/255,L.k/255];var bi=x.font.Tfs=Math.round(bQ.BY.FontSize),jX=dC.slice(hN,hN+df);
if(bQ.BY.FontCaps==2)jX=jX.toUpperCase();var eS=new iQ;eS.translate(hd.ZE.x,-d0);eS.concat(fm);x.ctm=[eS.Cc,eS.k,eS.o0,eS.Ga,eS.qW,eS.Ju];
c.PutText(x,jX,0);for(var bN=0;bN<2;bN++){var h9=bQ.BY[bN==0?"Strikethrough":"Underline"];if(!h9)continue;
var bz=k.Za(hN+df-1),i0=bN==0?.27:-.2,hp=bi*i0,hY=bi*(i0+.07),gC=bz.ZE.x+bz.ZE.b-hd.ZE.x,ji=[0,hp,gC,hp,gC,hY,0,hY];
W.p.u(ji,eS,ji);x.pth={cmds:["M","L","L","L","Z"],crds:ji};c.Fill(x)}x.ctm=[1,0,0,1,0,0];hN+=df}}}}else if(!_.rect.um()){var a1,jJ,gg=!1,iN=new iQ,ad=_.add.SoLd,h6=!0;
if(ad)h6=W.K.u5(W.K.AS($.Xq.t9(ad.Trnf)));var iY=K.VE();if(ad&&h6&&iY==null){var kh=ad.Idnt.v,gN=K.KW(kh,ad.Crop?ad.Crop.v:null),gm="";
if(gN==null)return;var aT=gN.WG,fs=gr.lX(gN.raw.buffer);if(i[6].indexOf(fs)!=-1){a1=gN.raw;gg=!0}else a1=aT[0];
jJ=aT[1];iN=W.K.Ur(ad)}else{a1=_.buffer;jJ=_.rect;iN.translate(jJ.x,jJ.y);if(iY){a1=a1.slice(0);ICC.U.applyLUT(iY[K.add.fcmy==1?5:3],iY[2],a1,a1)}}if(T&&!gg)a1=bd.a8s(a1,T,jJ);
ao.PB(x,c,a1,jJ,iN,J);if(T&&gg){var ji=[0,0,jJ.b,0,jJ.b,jJ.n,0,jJ.n];W.p.u(ji,iN,ji);W.p.u(ji,J,ji);
var g8=JSON.parse(JSON.stringify(x));g8.ca=T.Opct.v.val/100;g8.pth={cmds:["M","L","L","L","Z"],crds:ji};
g8.colr=ao.OU(T.Clr.v);c.Fill(g8)}}if(b)x.cpth=null;if(G){c.EndTGroup();x=D}x.ca=x.CA=C;if(s)ao.axp(_,o,Q,s,x,c,J,i,!1)};
ao.apT=function(K,E,x,c,J,i,P){var _=!1,a=0,j=0;if(c&&c.strokeEnabled.v){var e=c.strokeStyleContent.v,I=c.strokeStyleLineDashSet.v;
a=dz.Ae.Zi.indexOf(c.strokeStyleLineAlignment.v.strokeStyleLineAlignment);E.COLR=ao.st(e,J,i);j=c.strokeStyleLineWidth.v.val*J.pA();
E.mlimit=c.strokeStyleMiterLimit.v*J.pA();E.doff=c.strokeStyleLineDashOffset.v.val;E.ljoin=dz.Ae.join.indexOf(c.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
E.lcap=dz.Ae.cG.indexOf(c.strokeStyleLineCapType.v.strokeStyleLineCapType);E.dash=[];for(var y=0;y<I.length;
y++)E.dash.push(I[y].v.val*j);if(E.dash.length==1&&E.dash[0]==0)E.dash=[];_=!0}var v=a==2;if(x&&!v)K.Fill(E,P);
if(_){E.lwidth=j*(a==2?2:1);K.Stroke(E)}if(x&&v)K.Fill(E,P)};ao.al6=function(K){var E=ao.ml;if(E==null)return K;
var x=E.VE();if(x&&E.add.fcmy){var c=new Uint8Array(4);c[0]=.5+K[0]*255;c[1]=.5+K[1]*255;c[2]=.5+K[2]*255;
ICC.U.applyLUT(x[E.add.fcmy==1?5:3],x[2],c,c);K=[c[0]/255,c[1]/255,c[2]/255]}return K};ao.OU=function(K){K=W.M.Et(K);
return ao.al6([K.o/255,K.J/255,K.k/255])};ao.ayx=function(K){return ao.al6([(K>>>16&255)/255,(K>>>8&255)/255,(K&255)/255])};
ao.st=function(K,E,x){if(K.Clr)return ao.OU(K.Clr.v);var c=K,J=c.Rvrs?c.Rvrs.v:!1,i=c.Type.v.GrdT,P,_=i=="Rdl"||i=="Dmnd"?"rad":"lin",a=W.M.hC(c,x),j=E.iR(a[0]),e=E.iR(a[1]);
if(_=="rad")P=[j.x,j.y,0,j.x,j.y,iP.B4(j,e)];else{j.tn(e.x+(j.x-e.x)*2,e.y+(j.y-e.y)*2);P=[j.x,j.y,e.x,e.y]}var d=W.M.Ha(c.Grad.v,J);
return{typ:_,mat:[1,0,0,1,0,0],grad:d,crds:P}};ao.axp=function(K,E,x,c,J,i,P,_,a){var j=x.clone(),e=E;
if(K.add.TySh&&!_[3]&&!_[4])return;var d=J.ca,I=J.bmode;for(var y=dz.order.length-1;y>=0;y--){var v=dz.order[y];
if(v=="GrFl"||v=="SoFi")continue;if((K.add.vmsk||K.add.TySh)&&v=="FrFX")continue;var n=c[v],C=y>7||v=="FrFX";
if(C!=a)continue;for(var T=0;T<n.length;T++){var o=n[T];if(o.ha==null)o=o.tw?o.tw:o.Fs;var s=o.ha.clone();
s.offset(j.x,j.y);if(!C){if(!j.ng(s)){var Q=j.XN(s),X=W.Q(Q.O());W.XT(e,j,X,Q);e=X;j=Q}W.x9(e,j,o.Ly,s)}if(C&&v=="FrFX"&&o.mU)W.x9(o.mU,s,o.Ly,s);
var B=new iQ;B.translate(s.x,s.y);J.ca=o.Uv;J.bmode=a0.auU(o.i0);ao.PB(J,i,o.Ly,s,B,P)}}J.ca=d;J.bmode=I};
ao.PB=function(K,E,x,c,J,i){var P=new iQ;P.scale(c.b,-c.n);P.translate(0,c.n);P.concat(J);P.concat(i);
K.ctm=[P.Cc,P.k,P.o0,P.Ga,P.qW,P.Ju];E.PutImage(K,x,c.b,c.n);K.ctm=[1,0,0,1,0,0]};var dv={};dv.Sg=function(K){var E=new Uint8Array(K);
return dv.sY(E,0)};dv.sY=function(K,E){var x=R.s,c=R.pr,J={Vn:c(K,E,4),R:E+8,size:x(K,E+4)},i=J.Vn=="FORM"||J.Vn=="LIST"||J.Vn=="CAT ";
if(i)J.Iy=c(K,E+8,4);if(J.size<0||J.R+J.size>K.length)throw"e";if(i){J.sub=[];E+=12;var P=J.R+J.size;
while(E<P){var _=dv.sY(K,E);J.sub.push(_);E+=8+_.size+(_.size&1)}}return J};var gj={};gj.Sg=function(K,E){var x=new Uint8Array(K);
return gj.sY(x,0,E)};gj.sY=function(K,E,x){var c=R.Pc,J=R.pr,i={Vn:J(K,E,4),R:E+8,size:c(K,E+4)};if(x&&x[i.size]!=null)i.size=x[i.size];
if(i.Vn=="RIFF"||i.Vn=="LIST"){i.Iy=J(K,E+8,4)}if(i.size<0||i.R+i.size>K.length)throw"e";if(i.Vn=="RIFF"||i.Vn=="LIST"&&(i.Iy!="cmpr"&&i.Iy!="stlt")){i.sub=[];
E+=12;var P=i.R+i.size;while(E<P){var _=gj.sY(K,E,x);i.sub.push(_);E+=8+_.size+(_.size&1)}}return i};
var dg=function(){function K(p,L){var N=null;if(p.sub==null)return N;for(var y=0;y<p.sub.length;y++){var gC=p.sub[y];
if(gC.Vn==L||gC.Iy==L)N=gC}return N}function E(p){if(p==32)return 300;else if(p<49)return 0;else if(p<58)return 100*(p-48);
else if(p<65)return 0;return 100*(p-55)}var x;function c(p,L){var N=new Uint8Array(p);L.zc=!0;x={};var gC=R.pr(N,0,2);
if(gC=="WL"){alert("Unsupported CDR version")}else{var r,h,l,dC,df=300,bi=0;if(gC=="PK"){h=UZIP.parse(N);
N=h["content/root.dat"];l=R.__(h["content/dataFileList.dat"]).split("\n")}r=gj.Sg(N.buffer);console.log(r);
var g5=E(N[11]),fm={data:N,R:0,nY:g5};fm.$Q=fm.nY<600?16:32;S(N,fm,l,h,r.sub,0);var ex=[];if(h){dC=K(r,"doc ");
J(dC);var cR=r.sub;for(var y=0;y<cR.length;y++)if(cR[y].Iy=="page")ex.push(cR[y]);ex=ex.slice(1)}else if(K(r,"cmpr")==null){dC=K(r,"page");
ex.push(dC)}else{var d0=K(r,"cmpr").sub;dC=d0[0];ex=[d0.slice(1)[1]];J(dC)}var hN=K(dC,"mcfg").Z,ey=hN.a9e,cr=ey.x*.1,ik=ey.x*ex.length+cr*(ex.length-1),hd=ey.y;
df/=bv.Kj(new cS(0,0,Math.round(ik*df),Math.round(hd*df)),8192*8192);var bQ=Math.round(ik*df),is=Math.round(hd*df);
L.b=bQ;L.n=is;L.buffer=W.Q(L.b*L.n*4);for(var y=0;y<ex.length;y++){var jX=new iQ(df,0,0,-df,ey.x*df/2+bi,ey.y*df/2);
i(ex[y],dC,L,jX);var eS=L.B[L.B.length-1];eS.MZ(new cS(Math.round(bi),0,Math.round(ey.x*df),Math.round(ey.y*df)));
eS.yH("Page "+(y+1));bi+=ey.x*df+cr*df}L.yR(ex.length)}}function J(p){var L=K(p,"filt").sub,N=K(p,"otlt").sub,gC=K(p,"fntt");
if(gC)gC=gC.sub;p.ys={};for(var y=0;y<L.length;y++)p.ys[L[y].sub[0].Z.id]=L[y].sub[0].Z;p.R3={};for(var y=0;
y<N.length;y++)p.R3[N[y].Z.id]=N[y].Z;if(gC){p.fonts={};for(var y=0;y<gC.length;y++)p.fonts[gC[y].Z.id]=gC[y].Z}}function i(p,L,N,gC){var r=p.Iy?p.Iy:p.Vn,h=K(p,"lgob"),l=K(p,"txsm"),g5=null,fm=null;
if(h){g5=K(h,"trfl");fm=K(h,"loda")}else if(K(p,"lobj"))fm=K(p,"lobj");var dC=g5?g5.sub[0].rS.clone():new iQ;
dC.concat(gC);var ex=N.EY();if(r=="page"||r=="layr"||r=="grp "){ex.yH((r=="page"?"Page":"Group")+" "+N.B.length);
ex.add.lsct=fV.Bm;ex.Vk="pass";ex.LD=24;var cR=[];if(r=="page")cR=K(p,"gobj").sub;if(r=="layr")cR=p.sub.slice(2);
if(r=="grp ")cR=p.sub.slice(4);if(cR.length==0)return;N.B.push(N.NG());for(var y=cR.length-1;y>=0;y--)i(cR[y],L,N,gC)}else if(r=="obj "&&fm.Z&&fm.Z.path){var d0,hN;
if(L.ys){d0=L.ys[fm.Z.azZ];hN=L.R3[fm.Z.a0_]}if(d0==null)d0=fm.Z.asQ;if(hN==null)hN=fm.Z.a7L;ex=P(N,fm.Z.path,gC,dC,d0,hN)}else if(r=="obj "&&l){var ey=fm.Z.auw,cr=fm.Z.abz,df="";
ex.add.TySh=ev.l4(0,0);var ik=dC.pA();ex.add.TySh.u.translate(dC.qW,dC.Ju);var hd=ex.add.TySh.kd,bQ=l.Z.$N;
if(bQ==null)return;for(var y=0;y<bQ.length;y++){var is=bQ[y],bi=df.length;df+=is.text+"\n";ev.tW(hd,bi,is.text+"\n");
if(is.text=="")continue;var jX=_(is.axU,L),eS=jX.akV,bN=L.fonts[eS.arU],h9=ev.Jw(hd,bi,df.length);if(jX.align==3)h9.sn.Justification=1;
else if(jX.align==2)h9.sn.Justification=2;else h9.sn.Justification=0;var bz=jX.fill.Z;if(bN.ts)ev.H8(h9,bN.ts);
h9.BY.FillColor={Type:1,Values:[1,bz[0],bz[1],bz[2]]};h9.BY.FontSize=Math.round(eS.fontSize*gC.pA());
ev.q1(hd,bi,df.length-1,h9)}if(cr){ev.IT(hd,0)}else{ev.IT(hd,1);ev.sV(hd,[0,0,Math.round(ey.x*dC.Cc),Math.round(-ey.y*dC.Ga)])}ex.yH(df.slice(0,10))}else{ex=null}if(ex)N.B.push(ex)}function P(p,L,N,gC,r,h){var l=p.EY();
l.yH("Object "+p.B.length);l.LD|=16;l.add.vstk=JSON.parse(JSON.stringify(dz.Ae.default));var g5=l.add.vstk;
g5.strokeEnabled.v=!1;l.add.vmsk=new Z.Wf;l.add.vmsk.i=W.p.uR(L,!1);W.r.it(l.add.vmsk.i,gC);var fm=r&&r.type!=0,dC=fm&&r.Z!=null?r.Z:[0,0,0];
a0.uK(dC,l,gC,W.r.a3(l.add.vmsk.i));g5.fillEnabled.v=fm;if(h&&h.azA!=1){g5.strokeEnabled.v=!0;g5.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
var ex=g5.strokeStyleLineWidth.v.val=h.lineWidth*N.pA(),cR=h.color;g5.strokeStyleContent.v.Clr.v=W.M.TD({o:cR[0]*255,J:cR[1]*255,k:cR[2]*255});
if(h.n9.length!=0)g5.strokeStyleLineDashSet.v=bd.jP(h.n9,4/ex);var d0=h.aoD,hN=h.a8g;if(hN!=0){var ey=L.C,y=ey.length-4,cr=ey[y],ik=ey[y+1],hd=ey[y+2],df=ey[y+3],bQ=new iQ;
bQ.scale(.15,.15);bQ.rotate(-Math.PI/2+Math.atan2(df-ik,-(hd-cr)));bQ.translate(hd,df);bQ.concat(gC);
var is=P(p,x[hN],N,bQ,cR,null);p.B.push(is)}}l.yt();l.DY(p);return l}function _(p,L){var N=K(L,"stlt").Z,gC=JSON.parse(JSON.stringify(N.n1[p]));
if(gC.Ru!=0){var r=N.n1[gC.Ru];for(var h in r)if(gC[h]==null||gC[h]==0)gC[h]=r[h];delete gC.Ru}gC.align=N.ayv[gC.aqd];
gC.fill=L.ys[N.a5K[gC.aua]];gC.aoT=L.R3[N.a3p[gC.a3H]];gC.akV=N.a7k[gC.aso];return gC}function a(y){var hr=y.data[y.R];
y.R+=1;return hr}function j(y){var hr=R.K9(y.data,y.R);y.R+=2;return hr}function e(y){var hr=R.Pc(y.data,y.R);
y.R+=4;return hr}function d(y){var hr=R.Pc(y.data,y.R);y.R+=8;return hr}function I(y){var hr=R.Hd(y.data,y.R);
y.R+=2;return hr}function v(y){var hr=R.d4(y.data,y.R);y.R+=4;return hr}function n(y){var hr=R.BF(y.data,y.R);
y.R+=8;return hr}function C(y){if(y.R>=y.data.length)throw"e";var p=0;while(y.data[y.R+p]!=0)p++;var L=R.pr(y.data,y.R,p);
y.R+=p+1;return L}function T(y){var p="";while(!0){var L=j(y);if(L==0)break;p+=String.fromCharCode(L)}return p}function o(p){var L=e(p),N=(L&4294901760)>>>16,gC=(L&65535)/65535;
return N+gC}function s(p){if(p.nY<600)return Math.PI*I(p)/1800;return Math.PI*v(p)/18e7}function Q(p){if(p.nY<1500)return X(p);
else return n(p)/254e3}function X(p){if(p.nY<600)return I(p)/1e3;else return v(p)/254e3}function B(p){if(p.nY<600)return j(p);
else return e(p)}function M(p){if(p.nY<600)return I(p);else return v(p)}function S(p,L,N,gC,r,h){var l,g5,fm;
for(var dC=0;dC<r.length;dC++){var ex=L.nY,cR=r[dC];L.data=p;L.R=cR.R+(cR.Vn=="LIST"?4:0);if(gC&&cR.sub==null){l=e(L);
g5=e(L);fm=e(L);var d0=j(L);if(d0!=0)throw"e";var hN=j(L);if(hN>32)throw"e";L.R-=16;if(l!=4294967295){L.data=gC["content/data/"+N[l]];
L.R=fm}}if(cR.Vn=="vrsn"){if(cR.size==16)L.R+=8;var ey=j(L);L.nY=ey;console.log("Version",ey);L.$Q=ey<600?16:32}else if(cR.Vn=="DISP"){}else if(cR.Vn=="LIST"&&cR.Iy=="cmpr"){var cr=e(L),ik=e(L),hd=e(L),df=e(L),bQ=new Uint8Array(L.data.buffer,L.R+8+2,cr-6-8),is=pako.inflateRaw(bQ),bN=0;
L.R+=cr;bQ=new Uint8Array(L.data.buffer,L.R+8+2);var bi=pako.inflateRaw(bQ),jX=[];for(var eS=0;eS<bi.length;
eS+=4)jX.push(R.Pc(bi,eS));cR.sub=[];while(bN<is.length){var h9=gj.sY(is,bN,jX);bN=h9.R+h9.size;cR.sub.push(h9)}var bz={data:is,R:0,nY:ex,$Q:L.$Q};
S(is,bz,N,gC,cR.sub,h+1)}else if(cR.Vn=="LIST"&&cR.Iy=="stlt"||cR.Vn=="stlt"){if(l==4294967295)return;
var i0=L.R,aT=32;cR.Z={};var hp=e(L);if(hp==0)return;cR.Z.a5K=O(L,ex>=1300);cR.Z.a3p=O(L);cR.Z.a7k={};
var hY=e(L);for(var y=0;y<hY;y++){var ji=e(L);L.R+=ex<1e3?12:20;var aM=j(L),a1=j(L);L.R+=8;var fi=X(L);
L.R+=ex<1e3?12:20;cR.Z.a7k[ji]={arU:aM,avS:a1,fontSize:fi}}cR.Z.ayv=O(L);var jJ=e(L);L.R+=52*jJ;var gg=e(L);
L.R+=152*gg;var iN=e(L);L.R+=784*iN;var ad=e(L);for(var y=0;y<ad;y++){L.R+=40;if(ex>1300)L.R+=4;if(ex>=1300){if(e(L))L.R+=68;
else L.R+=12}else{L.R+=20;if(ex>=1e3)L.R+=8;if(e(L))L.R+=8;L.R+=8}}var h6=e(L);cR.Z.acr={};for(var y=0;
y<h6;y++){var iY=e(L),kh={};L.R+=12;kh.right=X(L);kh.ay$=X(L);kh.left=X(L);cR.Z.acr[iY]=kh}var gN=e(L);
if(ex>=1300)aT+=4;L.R+=aT*gN;var iv=e(L);L.R+=28*iv;if(ex>800){var fs=e(L);L.R+=12*fs}cR.Z.n1={};for(var y=0;
y<hp;y++){var gm=e(L),g8=e(L),b_={};b_.Ru=e(L);L.R+=8;var ko=e(L);if(ex>=1200)ko*=2;L.R+=ko;b_.aua=e(L);
b_.a3H=e(L);if(gm>1){b_.aso=e(L);b_.aqd=e(L);b_.aeO=e(L);b_.a2d=e(L);if(ex>800)b_.a1n=e(L)}if(gm>2){b_.anZ=e(L);
b_.al7=e(L);b_.aq2=e(L);b_.aoY=e(L);b_.as7=e(L)}cR.Z.n1[g8]=b_}}else if(cR.Vn=="LIST")S(p,L,N,gC,cR.sub,h+1);
else if(cR.Vn=="txsm"){cR.Z={};if(ex<600)throw"e";if(ex<700)throw"e";if(ex>=1600){cR.Z=q(L);return}if(ex>=1500)L.R+=37;
else L.R+=36;if(e(L)){if(ex<800)L.R+=32}if(ex<800)L.R+=4;cR.Z.asu=e(L);cR.Z.$N=[];L.R+=48;if(ex>=800){if(e(L)){L.R+=32;
if(ex>=1300)L.R+=8}}if(ex>=1500)L.R+=12;var gm=e(L),gk=1,bx=!1;if(!gm){if(ex>=800)L.R+=4;if(ex>800)L.R+=2;
if(ex>=1400)L.R+=2;L.R+=24;if(ex<800)L.R+=8;gk=e(L)}for(var eS=0;eS<gk;eS++){var ai=e(L),y=0;if(ex>=1300&&gm)L.R++;
L.R++;var hp=e(L),hf=[];for(y=0;y<hp;y++){var aa=a(L),hl=0;a(L);var iS=a(L);if(ex>=800)hl=a(L);var b_={};
if(iS&1){b_.arU=j(L);var jR=j(L);if(jR)b_.aag=jR}if(iS&2)L.R+=4;if(iS&4)b_.ayk=X(L);if(iS&8)L.R+=4;if(iS&16)L.R+=4;
if(iS&32)L.R+=4;if(iS&64){b_.aua=e(L);if(ex>=1500)L.R+=48}if(iS&128){b_.a3H=e(L)}if(hl&8){if(ex>=1300){var jC=e(L);
if(L.R+jC*2>=L.data.length){bx=!0;break}L.R+=jC*2}else L.R+=4}if(hl&32){var h8=a(L);if(h8)L.R+=52}if(aa==2)if(ex>=1300)L.R+=48;
hf.push(b_)}if(bx){break}var cW=e(L);if(L.R+cW*4>L.data.length)break;var kn=[];for(y=0;y<cW;y++){var fQ=0;
if(ex>=1200)fQ=d(L)&4294967295;else fQ=e(L);kn[y]=fQ>>16|fQ&1}var i7=cW;if(ex>=1200)i7=e(L);var jq=C(L);
cR.Z.$N.push({axU:ai,text:jq,n1:hf})}}else if(cR.Vn=="arrw")cR.Z=f(L);else if(cR.Vn=="font"){var iJ=L.R,dR=j(L),cH=j(L),c4="";
L.R+=14;if(L.nY>=1200)c4=T(L);else c4=C(L);cR.Z={id:dR,a7z:cH,name:c4};if(gC){var cx=iJ+g5;while(L.data[L.R]==0)L.R++;
L.R+=2;var gp=T(L);while(L.data[L.R]==0)L.R++;while(L.data[L.R]<=2)L.R+=4;cR.Z.ts=T(L)}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(cR.Vn)!=-1){}else if(cR.Vn=="flgs")cR.Z=e(L);
else if(cR.Vn=="bbox"){var gb=X(L),bg=X(L),cu=X(L),jP=X(L);cR.Z=new cS(gb,bg,cu-gb,jP-bg)}else if(cR.Vn=="fild"){var k4=e(L),ek;
if(ex>=1300)L.R+=8;var kg=j(L);if(kg==0){}else if(kg==1){L.R+=ex>=1300?13:2;ek=k(L)}else if(kg==2){L.R+=ex>=1300?8:2;
var i_=a(L),gX=0;if(ex>=1300){L.R+=17;gX=I(L)}else if(ex>=600){L.R+=19;gX=v(L)}else{L.R+=11;gX=I(L)}var eE=s(L),dP=.5+M(L),ie=.5+M(L)-.5;
if(ex>=600)L.R+=2;var d7=B(L)&255,bT=a(L)/100;L.R++;var bu=B(L)&65535;if(ex>=1300)L.R+=3;var ig=[];for(var y=0;
y<bu;y++){var jz=k(L);if(ex>=1400)L.R+=26;else if(ex>=1300)L.R+=5;var gO=(B(L)&65535)/100;if(ex>=1300)L.R+=3;
ig.push([gO,jz])}ek={typ:i_==1?"lin":"rad",crds:[dP-Math.cos(eE)/2,ie-Math.sin(eE)/2,dP,ie],grad:ig,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",kg);
cR.Z={id:k4,type:kg,Z:ek}}else if(cR.Vn=="outl"){var gK=e(L);if(ex>=1300){var hS=0,ch=0;while(hS!=1){L.R+=ch;
hS=e(L);ch=e(L)}}var h3=j(L),iG=j(L),hi=j(L);if(ex<1300&&ex>=600)L.R+=2;var gU=X(L),aD=j(L)/100;if(ex>=600)L.R+=2;
var fk=s(L);if(ex>=1300)L.R+=46;else if(ex>=600)L.R+=52;var ek=k(L);if(ex<600)L.R+=10;else L.R+=16;var a9=j(L),ab=L.R,cv=[];
for(var y=0;y<a9;++y)cv.push(j(L));if(ex<600)L.R=ab+20;else L.R=ab+22;var ds=e(L),iU=e(L);cR.Z={id:gK,azA:h3,a2R:iG,a74:hi,lineWidth:gU,color:ek,n9:cv,aoD:ds,a8g:iU}}else if(cR.Vn=="mcfg"){if(1300<=ex)L.R+=12;
else if(900<=ex)L.R+=4;else if(600<=ex&&ex<700)L.R+=28;var fU=0,fS=0;if(ex<400){L.R+=2;var gb=X(L),bg=X(L),cu=X(L),jP=X(L);
fU=Math.abs(cu-gb);fS=Math.abs(jP-bg)}else{fU=X(L);fS=X(L)}cR.Z={a9e:new iP(fU,fS)}}else if(cR.Vn=="loda"||cR.Vn=="lobj"){var i0=L.R,fA=B(L),dS=B(L),a$=B(L),bw=B(L),hV=B(L),bG=[],it=[],y=0,dF=null;
L.R=i0+a$;while(y<dS)bG[y++]=B(L);L.R=i0+bw;while(y>0)it[--y]=B(L);cR.Z={};for(y=0;y<dS;y++){L.R=i0+bG[y];
var ba=it[y];if(ba==30){if(ex>=400&&hV==1||ex<400&&hV==0){cR.Z.path=H(L)}else if(ex>=400&&hV==2||ex<400&&hV==1){cR.Z.path=b(L)}else if(ex>=400&&hV==3||ex<400&&hV==2){cR.Z.path=m(L)}else if(hV==37){cR.Z.path=t(L)}else if(ex>=400&&hV==4||ex<400&&hV==3){cR.Z.abz=w(L)}else if(ex>=400&&hV==6||ex<400&&hV==5){cR.Z.auw=V(L)}else console.log(hV)}else if(ba==20){if(ex<400)cR.Z.asQ=G(L);
else cR.Z.azZ=e(L)}else if(ba==10){if(ex<400)cR.Z.a7L=D(L);else cR.Z.a0_=e(L)}else if(ba==200)cR.Z.afO=B(L);
else if(ba==100){if(ex<400)dF=F(L)}}if(dF&&cR.Z.path)W.p.u(cR.Z.path.C,dF,cR.Z.path.C)}else if(cR.Vn=="trfd"){var i0=L.R,fA=B(L),dS=B(L),a$=B(L);
L.R=i0+a$;var bG=[];for(var y=0;y<dS;y++)bG[y]=B(L);for(var y=0;y<dS;y++){L.R=i0+bG[y];if(ex>=1300)L.R+=8;
var b4=j(L);if(b4==8){var dr,hk,gb,ho,gT,bg;if(ex>=600)L.R+=6;if(ex>=500){dr=n(L);hk=n(L);gb=n(L)/(ex<600?1e3:254e3);
ho=n(L);gT=n(L);bg=n(L)/(ex<600?1e3:254e3)}else throw"e";cR.rS=new iQ(dr,ho,hk,gT,gb,bg)}else console.log(b4)}}else if(!1){console.log(cR);
var ec=Math.min(cR.size,32);console.log(R.bC(p,cR.R,ec));console.log(R.a0i(p,cR.R,ec))}}}function f(p){var L=e(p);
p.R+=4;var N=j(p);p.R+=4;var gC=[];for(var r=0;r<N;r++)gC.push(a(p));p.R+=1;var h=[];for(var l=0;l<N;
l++){var g5=[];g5[1]=X(p);g5[0]=X(p);h.push(g5)}var fm=Y(h,gC);x[L]=fm}function F(p){var L=0,N=0,gC=0,r=0,h=0,l=0;
if(p.nY>=300){var g5=p.R;p.R+=10;var fm=B(p);p.R=g5+fm;L=o(p);N=o(p);gC=v(p)/1e3;r=o(p);h=o(p);l=v(p)/1e3}else{gC=X(p);
l=X(p);L=o(p);N=o(p);gC+=o(p)/1e3;r=o(p);h=o(p);l+=o(p)/1e3}return new iQ(L,N,r,h,gC,l)}function G(p){var L=a(p);
if(L==0)return null;else if(L==1)return k(p);else console.log(L)}function D(p){var L=a(p);L<<=1;var N=X(p),gC=j(p)/100,r=s(p),h=k(p);
return{azA:L,lineWidth:N,color:h,n9:[],aoD:0,a8g:0}}function b(p){var L=X(p),N=X(p),gC=s(p),r=s(p),h=W.p.P0(W.r.Ic.DM(0,0,L,N));
return h}function H(p){var L=p.nY,N=Q(p),gC=Q(p),r=0,h=0,l=0,g5=0,fm=0,dC=1,ex=1;if(L<1500){g5=Q(p);
l=L<900?g5:Q(p);h=L<900?g5:Q(p);r=L<900?g5:Q(p)}else{var cR=n(p);if(cR!=0)dC=cR;cR=n(p);if(cR!=0)ex=cR;
var d0=a(p);p.R+=7;if(d0==0){g5=n(p);fm=a(p);p.R+=15;l=n(p);p.R+=16;h=n(p);p.R+=16;r=n(p);var hN=Math.abs(N*dC/2),ey=Math.abs(gC*ex/2);
g5*=hN<ey?hN:ey;l*=hN<ey?hN:ey;h*=hN<ey?hN:ey;r*=hN<ey?hN:ey}else{g5=Q(p);fm=a(p);p.R+=15;l=Q(p);p.R+=16;
h=Q(p);p.R+=16;r=Q(p)}}return W.p.P0(W.r.Ic.Rect(0,0,N,gC,[r,h,l,g5]))}function q(p){var L=e(p),gC=0;
p.R+=37;var N=e(p);for(var y=0;y<N;y++){var r=e(p);gC=r;p.R+=48;var h=e(p);if(h==1)p.R+=12*4;else p.R+=8;
if(!L){p.R+=16;var l=e(p);if(p.nY>1600)p.R+=l;else p.R+=l*2}}var g5={asu:gC,$N:[]},fm=e(p);for(var dC=0;
dC<fm;dC++){var ex=e(p),eS="";p.R+=1;if(L)p.R+=1;var cR=e(p);if(p.nY<1700)cR*=2;var d0=R.pr(p.data,p.R,cR);
p.R+=cR;var hN=e(p);for(var y=0;y<hN;y++){p.R+=2;var ey=j(p),cr=j(p);if(cr&4){var ik=e(p);ik*=2;p.R+=ik}if(ey||cr&4){var hd=e(p);
if(p.nY<1700)hd*=2;var df=R.pr(p.data,p.R,hd);p.R+=hd}}var bQ=e(p),is=[];for(var y=0;y<bQ;y++){var bi=d(p)&4294967295;
is[y]=bi>>16|bi&1}var jX=e(p);for(var y=0;y<bQ;y++){var bN=is[y],h9=0;if(bN==0||bN==2||bN==4||bN==6)h9=p.data[p.R++];
else if(bN==1||bN==3)h9=p.data[p.R++]+p.data[p.R++]*256;else throw bN;eS+=String.fromCharCode(h9)}var bz=eS.split("\r");
for(var y=0;y<bz.length;y++)g5.$N.push({text:bz[y],axU:ex,n1:[]})}return g5}function O(p,L){var N={},gC=e(p);
for(var y=0;y<gC;y++){var r=e(p);p.R+=4;var h=e(p);N[r]=h;if(L)p.R+=48}return N}function w(p){var L=X(p),N=X(p);
return new iP(L,N)}function V(p){p.R+=4;var L=X(p),N=X(p);return new iP(L,N)}function t(p){p.R+=4;var L=j(p)+j(p);
p.R+=16;var N=g(p,L);return N}function m(p){var L=j(p);p.R+=2;return g(p,L)}function g(p,L){var N=[],gC=[];
for(var y=0;y<L;y++)N.push([X(p),X(p)]);for(var y=0;y<L;y++)gC.push(a(p));return Y(N,gC)}function Y(p,L){var N={C:[],W:[]},gC=0,r=0,h=0;
for(var y=0;y<p.length;y++){var gC=p[y][0],r=p[y][1],l=L[y];if(!(l&64)&&!(l&128)){N.C.push(gC,r);N.W.push("M");
h+=2}else if(l&64&&!(l&128)){N.C.push(gC,r);N.W.push("L");h+=2}else if(!(l&64)&&l&128){N.C.push(gC,r);
N.W.push("C");h+=6}else if(l&64&&l&128){N.C.push(gC,r)}}if(h!=N.C.length)throw"e";return N}function A(p,L){var N=R.Pc;
L+=8;var gC=N(p,L);L+=4;var r=N(p,L);L+=4;L+=4*7;var h=L,l=W.Q(gC*r*4);L+=1024;for(var g5=0;g5<r;g5++)for(var fm=0;
fm<gC;fm++){var y=g5*gC+fm,dC=(r-g5-1)*gC+fm,ex=p[L+y]<<2,cR=dC<<2;l[cR+0]=p[h+ex+2];l[cR+1]=p[h+ex+1];
l[cR+2]=p[h+ex+0];l[cR+3]=255}return{Ly:l,rect:new cS(0,0,gC,r)}}function k(p){var L=p.nY,N=0,gC=0,r=0;
if(L>=500){N=j(p);if(N==1&&L>=1300)N=25;if(N==30){N=25;gC=30}else{gC=j(p);p.R+=4}r=e(p)}else if(L>=400)throw"e";
else{N=a(p);r=e(p)}return z(N,gC,r)}function z(p,L,N){var gC=[0,0,0];if(p==2||p==3||p==9||p==17){var r=[N>>>0&255,N>>>8&255,N>>>16&255,N>>>24&255];
if(p==2)for(var y=0;y<4;y++)r[y]=Math.round(255*r[y]/100);for(var y=0;y<4;y++)r[y]/=255;gC=UDOC.C.cmykToRgb(r)}else if(p==1||p==5){gC=[N>>>0&255,N>>>8&255,N>>>16&255];
for(var y=0;y<3;y++)gC[y]=gC[y]/255;if(p==5)gC.reverse()}else console.log("Unknown color model "+p,N,N.toString(16));
return gC}return{Sg:c}}(),cp=function(){var K,E,x=new ArrayBuffer(4),c=new Uint8Array(x),J=new Uint32Array(x),i=new Float32Array(x);
function P(I,v){for(var n=0;n<I.length;n++)if(I[n][0]==v)return I[n]}function _(){var I=0,v=0,n=0;do{n=K[E++];
I|=(n&127)<<v;v+=7}while(n&128&&v<35);return I>>>0}function a(I,v,n,C,T){K=I;E=v;var o=C[0]=="mesg",s=C[2],Q={},X=1,B=o?1e9:s.length;
while(X<=B){var M=X;if(o){M=_();if(M==0)break}var S=P(s,M),f=S[2],F=S[1]==1,G=F?_():1,D=new Array(G);
if(f==3){if(!F)throw"e";D=K.slice(E,E+G);E+=G}else for(var y=0;y<G;y++){var b;if((f&1)==1){if(f==1)b=K[E++]==1;
else if(f==3)b=K[E++];else if(f==5){var H=_();b=H&1?~(H>>>1):H>>>1}else if(f==7)b=_();else if(f==9){if(K[E]==0){b=0;
E++}else{c[0]=K[E];c[1]=K[E+1];c[2]=K[E+2];c[3]=K[E+3];var q=J[0];J[0]=q<<23|q>>>9;b=i[0];E+=4}}else if(f==11){var O=j(K,E);
b=O[0];E+=O[1]+1}else throw f}else{var w=n[f>>>1];if(w[0]=="enum"){var V=K[E++];if(V>127)throw"e";b=w[2][V]}else{var t=a(K,E,n,w,T+1);
b=t[0];E=t[1]}}D[y]=b}Q[S[3]]=F?D:D[0];X++}return[Q,E]}function j(I,v){var n=v;while(I[n]!=0)n++;return[R.__(I,v,n-v),n-v]}function e(I,v){var n=v;
while(I[n]!=0)n++;for(var y=v;y<n;y++)if(I[y]>127)throw"e";return R.pr(I,v,n-v)}function d(I){K=I;E=1;
var v=[];while(E<I.length){var n=E,C=v.length,T=e(I,E);E+=T.length+1;var o=_();if(o>2)throw"e";var s=_(),Q=[];
for(var y=0;y<s;y++){var X=e(I,E);E+=X.length+1;var B=_(),M=_(),S=_();Q.push(o==0?X:[S,M,B,X])}v.push([["enum","strc","mesg"][o],T,Q])}return v}return{af9:d,ap4:a}}();
function kk(){}kk.Sg=function(K,E){var x=new Uint8Array(K),c=8,J=R.Pc(x,c),j=0,w=0;c+=4;var i=[];while(c<x.length){var P=R.Pc(x,c);
c+=4;var _=x.slice(c,c+P);if(x[c]==137&&x[c+1]==80){}else _=UZIP.inflateRaw(_);i.push(_);c+=P}var a=cp.af9(i[0]);
for(var y=0;y<a.length;y++)if(a[y][1]=="Message")j=y;var e=cp.ap4(i[1],0,a,a[j],0)[0],d={KS:{},E1:{},a8X:{}},I=e.nodeChanges;
for(var v=0;v<I.length;v++){var n=I[v],C=n.guid;d.E1[C.sessionID+","+C.localID]=n}for(var v=0;v<I.length;
v++){var n=I[v],C=n.parentIndex;if(C){var T=kk.OX(d.E1,C.guid);if(T.children==null)T.children=[];T.children.push(n)}}var o=I[0],s=o.children,Q=new cS,X=[],B=[];
for(var C=0;C<s.length;C++){var M=s[C],S=M.children;if(M.name=="Internal Only Canvas"||S==null)continue;
var f=new cS;for(var y=0;y<S.length;y++){var F=S[y],G=F.transform,D=F.size;if(G.m00==1&&G.m10==0&&G.m01==0&&G.m11==1){var b=new cS(G.m02,G.m12,D.x,D.y);
f=f.XN(b)}}var H=Q.n==0?0:Q.n+100,q=f.clone();q.x=0;q.y=H;Q=Q.XN(q);X[C]=f;B[C]=H}var O=bv.Kj(new cS(0,0,Q.b,Q.n),8192*8192);
E.b=Math.round(Q.b/O);E.n=Math.round(Q.n/O);E.buffer=W.Q(E.b*E.n*4);for(var C=0;C<s.length;C++){var M=s[C],S=M.children;
if(M.name=="Internal Only Canvas"||S==null)continue;S.sort(kk.arw);var V=new iQ(1,0,0,1,-X[C].x,B[C]-X[C].y);
V.scale(1/O,1/O);for(var y=0;y<S.length;y++){var F=S[y];kk.P1(F,[],V,e.blobs,E,0,d);w++}}E.yR(w);E.zc=!0;
if(O!=1)alert("File scaled down "+O+"x")};kk.P1=function(K,E,x,c,J,i,P){var _=kk,G=!1,D,q,O,w;E=JSON.parse(JSON.stringify(E));
var a=K.overrideKey?K.overrideKey:K.guid;for(var y=0;y<E.length;y++){var j=E[y],e=j.guidPath.guids;if(_.atT(e[0],a)){if(e.length==1){var d={};
for(var I in K)d[I]=j[I]!=null?j[I]:K[I];K=d}else j.guidPath.guids=e.slice(1)}}var v=K.type,n=K.children,C=K.size,T=K.effects,o=J.EY();
o.yH(K.name);o.g7(K.visible);o.opacity=Math.round(K.opacity*255);var s=_.uT(K.transform),Q=s.clone();
Q.concat(x);if(C==null)C={x:0,y:0};var X=new cS(Math.round(Q.qW),Math.round(Q.Ju),Math.round(C.x*Q.pA()),Math.round(C.y*Q.pA()));
if(X.b==0||isNaN(X.b))X.b=100;if(X.n==0||isNaN(X.n))X.n=100;var B=K.fillPaints,M=K.inheritFillStyleID;
if(M){var d=_.OX(P.E1,M);if(d)B=d.fillPaints}if(B==null)B=[];var B=_.aai(B),S=B[0],f=K.strokePaints,M=K.inheritFillStyleIDForStroke;
if(M){var d=_.OX(P.E1,M);if(d)f=d.fillPaints}if(f==null)f=[];var f=_.aai(f),F="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON STAR".split(" ").indexOf(v)!=-1;
if(F||v=="FRAME"){D=new Z.Wf;_.a6V(K,c,D);G=W.r.GS(D.i);W.r.it(D.i,Q);var b=W.p.OC(W.r.a3(D.i));if(!b.um())X=b;
if(P.KS.uA&&S){var H=Z.Wf.Z8(P.KS.uA.i);for(var y=2;y<H.length;y++)if(H[y].qX!=null)H[y].qX=3;D.i=D.i.concat(H.slice(2))}}if(S&&S.type=="IMAGE"){w=S.imageScaleMode;
q=_.S7(c,S.image.dataBlob);var V=q.yA.b/q.yA.n,t=C.x/C.y;O=Math.abs(V-t)}if(v=="FRAME"){}else if(F&&G&&q&&(w=="FIT"||w=="FILL"&&O<=.05)){var m=c[S.image.dataBlob].bytes,g=J.EI(m,o.getName(),0,0);
g.LD=o.LD;g.opacity=o.opacity;o=g;var Y=new cS(0,0,C.x,C.y);if(w=="FIT"){var A=q.yA.b,k=q.yA.n,z=Math.min(C.x/A,C.y/k),p=A*z,L=k*z;
Y=new cS(Y.x+(Y.b-p)/2,Y.y+(Y.n-L)/2,p,L)}var N=W.p.VD(Y).C;W.p.u(N,Q,N);o.add.SoLd.Trnf=$.Xq.K0(N);
o.add.SoLd.nonAffineTransform=$.Xq.K0(N);var gC=[],T=K.effects,r=S.paintFilter;if(T)for(var y=0;y<T.length;
y++)if(T[y].type=="FOREGROUND_BLUR"){var h=T[y],l=dJ.Ew("GsnB",{});gC.push(l);l.v.enab.v=h.visible;l.v.Fltr.v.Rds.v.val=h.radius/2.4}if(r&&r.exposure!=0){var l=dJ.Ew("brit",{});
gC.push(l);l.v.Fltr.v.Brgh.v=Math.round(r.exposure*160);l.v.Fltr.v.useLegacy.v=!0}if(r&&r.vibrance!=0){var l=dJ.Ew("vibA",{});
gC.push(l);console.log(l);l.v.Fltr.v.Strt.v=Math.round(Math.round(r.vibrance*100))}if(gC.length!=0){o.add.SoLd.filterFX=dJ.RW();
J.ey({id:o.add.SoLd.placed.v,rect:new cS,buffer:W.Q(1),z:new Z.vW});o.add.SoLd.filterFX.v.filterFXList.v=gC}o.mQ(J,!1);
_.afe(P,o,J)}else if(F){_.aah(o,D,K,S,f,Q,X,c,J,P);if(T)for(var y=0;y<T.length;y++){var h=T[y];if(h.type!="FOREGROUND_BLUR")continue;
D.Zs=h.radius/2.4}o.yt();o.DY(J)}else if(v=="TEXT"){var g5=K.textData,fm=g5.layoutSize,dC=["LEFT","RIGHT","CENTER"].indexOf(K.textAlignHorizontal);
o.add.lnsr="rend";o.add.TySh=ev.l4(0,0);o.add.TySh.T6=new cS(0,0,100,100);var ex=Q.clone();o.add.TySh.u=ex;
var cR=o.add.TySh.kd,d0=g5.characters;if(K.textCase=="TITLE"){for(var y=0;y<d0.length;y++)if(y==0||d0[y-1]==" "){var hN=d0.slice(0,y),ey=d0.slice(y+1);
d0=hN+d0[y].toUpperCase()+ey}}d0=d0.replace(/\u2028/g,"\n");d0=d0.replace(/\u2029/g,"\n");d0=d0.replace(/\r\n/g," \n");
ev.tW(cR,0,d0);var cr=K.textAutoResize,ik=g5.baselines;if(cr=="WIDTH_AND_HEIGHT"){var hd=dC==0?0:dC==1?fm.x:fm.x/2,df=ik?ik[0].position.y:0;
ex.translate(hd*Q.pA(),df*Q.pA());ev.IT(cR,0)}else if(cr=="HEIGHT"||cr=="NONE"||cr==null){var df=ik?ik[0].position.y-K.fontSize*.7:0;
ex.translate(0,df*Q.pA());ev.IT(cR,1);ev.sV(cR,[0,0,Math.round(fm.x),Math.round((cr=="NONE"?1.8:1)*fm.y)])}else throw cr;
if(d0!=""){var bQ=ev.Jw(cR,0,1);_.alv(K,Q,C,bQ,o,c,J,P);ev.q1(cR,0,d0.length,bQ);var is=g5.characterStyleIDs,bi=g5.styleOverrideTable;
if(is){is=is.slice(0);for(var y=0;y<is.length;y++)if(d0[y]=="\n")is[y]=-y-1;var jX=[0],eS=0,bN=0;for(var y=0;
y<is.length;y++){bN++;var h9=is[y];if(y==0||h9==is[y-1]){}else{jX.push(bN-1,y);bN=1}}jX.push(bN);for(var y=0;
y<jX.length;y+=2){var bz=jX[y],i0=jX[y+1];if(d0[bz]=="\n")continue;var h9=is[bz];if(h9!=0){var hp;for(var hY=0;
hY<bi.length;hY++)if(bi[hY].styleID==h9)hp=bi[hY];var bQ=ev.Jw(cR,bz,bz+1);_.alv(hp,Q,C,bQ,o,c,J,P);
ev.q1(cR,bz,bz+i0-1,bQ)}}}}}else if(v=="SYMBOL"){}else if(v=="INSTANCE"){var ji=K.symbolData,aM=ji.symbolOverrides,d=_.OX(P.E1,ji.symbolID);
if(d)n=d.children;else console.log(K.name,"symbol not found",ji.symbolID);E=E.slice(0);for(var y=0;y<aM.length;
y++)E.push(aM[y])}else console.log(v);if(!1){}else if(n&&!F){J.B.push(J.NG());var a1=!1,fi=i==0&&v!="SYMBOL"&&v!="INSTANCE";
if(fi){if(X.um())console.log(X);o.MZ(X)}S=B[B.length-1];if(fi&&S&&S.type=="SOLID"){var jJ=S.color;o.add.artb.artboardBackgroundType.v=4;
o.add.artb.Clr=_.Af(jJ)}else if((S||f[0])&&D){var gg=J.EY();gg.yH("Background");_.aah(gg,D,K,S,f,Q,X,c,J,P);
gg.yt();gg.DY(J);J.B.push(gg);a1=!0}n.sort(_.arw);var iN=P.KS;P.KS={};for(var ad=0;ad<n.length;ad++)_.P1(n[ad],E,Q,c,J,i+1,P);
P.KS=iN;o.add.lsct=!1?fV.Bm:fV.wg;o.Vk="pass";var h6=o.bL();o.LD=24;o.g7(h6);var iY=i!=0&&B.length!=0&&!K.frameMaskDisabled&&K.containerSupportsFillStrokeAndCorners;
if(!a1&&iY&&D){o.add.vmsk=D;o.yt();o.DY(J)}else _.afe(P,o,J);J.B.push(o)}else if(K.mask){if(D){P.KS.uA=D}}else{var kh=[],b_=1;
if(T)for(var gN=0;gN<T.length;gN++){var h=T[gN],aT=h.color,iv=h.type,fs=["DROP_SHADOW","INNER_SHADOW"].indexOf(iv);
if(fs!=-1){var gm=["DrSh","IrSh"][fs],g8=JSON.parse(dz.hQ[dz.order.indexOf(gm)]);kh.push([gm,g8]);g8.enab.v=h.visible;
g8.Md.v.BlnM=db.zJ(_.apH(h.blendMode));g8.Opct.v.val=Math.round(100*aT.a);g8.blur.v.val=Math.round(h.radius*Q.pA());
g8.Clr=_.Af(aT);var hd=h.offset.x,df=h.offset.y;g8.uglg.v=!1;g8.lagl.v.val=Math.round(180/Math.PI*Math.atan2(df,-hd));
g8.Dstn.v.val=Math.round(Math.sqrt(hd*hd+df*df)*Q.pA())}}if(v=="TEXT"&&B[0]&&B[0].type!="SOLID")b_=0;
for(var y=b_;y<B.length;y++){var ko=B[y],gk=_.kc(K,ko,Q,X,c,J,P);if(gk[0]=="GdFl")kh.push(["GrFl",gk[1]]);
else if(gk[0]=="SoCo")kh.push(["SoFi",gk[1]]);else if(gk[0]=="PtFl")kh.push(["patternFill",gk[1]]);else if(gk[0]=="None"){}else throw gk}if(!F)for(var y=0;
y<f.length;y++){var ko=f[y],gk=_.kc(K,ko,Q,X,c,J,P);if(gk[0]=="SoCo"){var g8=JSON.parse(dz.hQ[dz.order.indexOf("FrFX")]);
kh.push(["FrFX",g8]);g8.enab=gk[1].enab;g8.Opct=gk[1].Opct;g8.Md=gk[1].Md;g8.Clr=gk[1].Clr;g8.Sz.v.val=K.strokeWeight}}if(kh.length!=0){var bx=JSON.parse(dz.default);
for(var y=0;y<dz.order.length;y++)bx[dz.E9[y]]={t:"VlLs",v:[]};for(var y=0;y<kh.length;y++){var ai=kh[y],gm=dz.E9[dz.order.indexOf(ai[0])];
bx[gm].v.unshift({t:"Objc",v:ai[1]})}if(n==null)o.add.lmfx=bx}J.B.push(o)}};kk.aah=function(K,E,x,c,J,i,P,_,a,j){var e=kk;
K.LD|=16;K.add.vmsk=E;var d=K.add.vstk=JSON.parse(JSON.stringify(dz.Ae.default)),I=e.kc(x,c,i,P,_,a,j);
if(I[0]=="None"){d.fillEnabled.v=!1;K.add.SoCo=I[1]}else{e.kl(I,K);K.add[I[0]]=I[1]}var I=e.kc(x,J[0],i,P,_,a,j);
if(I[0]!="None"){var d=K.add.vstk;d.strokeEnabled.v=!0;d.strokeStyleLineWidth.v.val=x.strokeWeight*i.pA();
d.strokeStyleLineAlignment.v.strokeStyleLineAlignment=dz.Ae.Zi[["INSIDE","CENTER","OUTSIDE"].indexOf(x.strokeAlign)];
var v={SoCo:"SoFi",GdFl:"GrFl",PtFl:"patternFill"}[I[0]],n=["SoFi","GrFl","patternFill"].indexOf(v),C=[dz.zg,dz.Ab,dz.Tk][n];
d.strokeStyleContent.v={classID:dz.Ae.Iy[0]};var T=x.dashPattern;if(T)d.strokeStyleLineDashSet.v=bd.jP(T,1/x.strokeWeight);
var o=d.strokeStyleContent.v={classID:dz.Ae.Iy[n]};for(var y=0;y<C.length;y++)o[C[y]]=I[1][C[y]];if(!d.fillEnabled.v)e.kl(I,K)}};
kk.kl=function(K,E){var x=K[1].Opct.v.val;if(x!=100)E.opacity=Math.round(E.opacity/255*(x/100)*255)};
kk.arw=function(K,E){var x=K.parentIndex.position,c=E.parentIndex.position;return x>c?1:-1};kk.aai=function(K){for(var y=1;
y<K.length;y++){var E=K[y];if(E.type=="IMAGE"&&E.opacity==1){K=K.slice(y);break}}for(var y=0;y<K.length;
y++){var E=K[y],x=E.imageThumbnail;if(E.type=="IMAGE"&&(E.image==null||E.image.dataBlob==null)&&x&&x.dataBlob)E.image=x;
if(!E.visible||E.type=="IMAGE"&&E.image.dataBlob==null){K.splice(y,1);y--}}return K};kk.afe=function(K,E,x){if(K.KS.uA){E.add.vmsk=K.KS.uA.clone();
E.yt();E.DY(x)}};kk.alv=function(K,E,x,c,J,i,P,_){var a=K.fontSize,j=K.lineHeight,e=K.fontName,d=K.textAlignHorizontal,I=K.textTracking,v=K.textCase,n=K.textDecoration;
if(a==null)a=c.BY.FontSize;if(e)ev.H8(c,e.postscript);if(a!=null)c.BY.FontSize=Math.round(a);if(n=="UNDERLINE")c.BY.Underline=!0;
if(I)c.BY.Tracking=Math.round(I*1e3);if(v)c.BY.FontCaps=v=="UPPER"?2:0;if(j&&(j.units!="PERCENT"||j.value!=100)){if(a==null)a=15;
var C=j.value;if(j.units=="PERCENT")C=1*a*C/100;if(j.units=="RAW")C=1*a*C;c.BY.AutoLeading=!1;c.BY.Leading=Math.round(C)}if(d)c.sn.Justification=["LEFT","RIGHT","CENTER"].indexOf(d);
var T=K.fillPaints,o=K.inheritFillStyleID;if(o){var s=kk.OX(_.E1,o);if(s)T=s.fillPaints}if(T&&T[0]){var Q=kk.kc(K,T[0],E,x,i,P,_);
if(Q[0]=="SoCo"){var X=W.M.Et(Q[1].Clr.v);c.BY.FillColor={Type:1,Values:[1,X.o/255,X.J/255,X.k/255]};
kk.kl(Q,J)}}};kk.kc=function(K,E,x,c,J,i,P){var _=kk,a,j,e=K.size;if(E){var d=E.type,I=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(d);
if(d=="SOLID"){a="SoCo";var v=E.color;j=JSON.parse(dz.hQ[dz.order.indexOf("SoFi")]);j.Clr=_.Af(v)}else if(I!=-1){var n=JSON.parse(dz.hQ[dz.order.indexOf("GrFl")]),C=n.Grad.v;
C.Intr.v=0;n.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][I];var T=[],o=E.stops;for(var y=0;y<o.length;y++){var s=o[y],Q=s.color;
T.push([s.position,[Q.r,Q.g,Q.b],Q.a])}W.M.LW(T,C);var X=_.uT(E.transform);X.Pa();var B=X.clone();if(e)B.scale(e.x,e.y);
B.concat(x);var M=new iP(0,.5),S=new iP(1,.5);M=B.iR(M);S=B.iR(S);if(!0){M.x=S.x+.5*(M.x-S.x);M.y=S.y+.5*(M.y-S.y)}W.M.Cs(M,S,c,n);
if(I==3){if(B.Cc*B.Ga-B.k*B.o0<0)n.Rvrs.v=!n.Rvrs.v}a="GdFl";j=n}else if(d=="IMAGE"){var n=JSON.parse(dz.hQ[dz.order.indexOf("patternFill")]),X=_.uT(E.transform);
X.Pa();var f=E.image.dataBlob,F=P.a8X[f];if(F==null){var G=_.S7(J,f);F=P.a8X[f]={};F.id=gD.g4()+"-d71c-11e5-b1ae-a548a96e5f9f";
F.gW=[new Uint8Array(G.data),G.yA];if(X.Cc<0){var D=F.gW[0].slice(0);W.K.v5(D,F.gW[0],G.yA.b,G.yA.n)}F.name="someImage";
i.Wu(F)}if(X.Cc<0)X.Cc=-X.Cc;var b=["FILL","FIT","STRETCH","TILE"].indexOf(E.imageScaleMode),H=b==3?E.scale:1;
bd.a5R(F,n,e.x,e.y,b,x,X,H);a="PtFl";j=n}else throw d;if(j)j.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(E.opacity*100)}}}if(a==null||E.opacity<.001){a="None";
j={classID:"null",Clr:{t:"Objc",v:W.M.TD({o:0,J:0,k:0})}}}return[a,j]};kk.S7=function(K,E){var x=K[E];
if(x.rslt)return x.rslt;var c=x.bytes.buffer,J=gr.lX(c),i=gr.Zf(J);try{x.rslt=i.TJ(c)[0]}catch(hg){x.rslt={data:W.Q(4),yA:new cS(0,0,1,1)}}return x.rslt};
kk.a6V=function(K,E,x){var c=K.type,J=K.size,i=K.cornerRadius,j;if(i==null)i=0;var P=J.x,_=J.y,a=[i,i,i,i],e=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var y=0;y<4;y++)if(K[e[y]]!=null)a[y]=K[e[y]];if(c=="RECTANGLE"||c=="ROUNDED_RECTANGLE"||c=="FRAME"){j=W.r.Ic.Rect(0,0,P,_,a)}else if(c=="ELLIPSE"){var d=K.arcData,I=d?d.startingAngle:0,v=d?d.endingAngle:2*Math.PI,n=d?d.innerRadius:0;
if(I==0&&v>1.999*Math.PI)j=W.r.Ic.DM(0,0,P,_,0);else j=W.r.Ic.a5t(P/2,_/2,_/2,I,v);if(n!=0&&n!=1){var C=Z.Wf.Z8(j).slice(3);
C.reverse();for(var y=0;y<C.length;y++){var T=C[y],o=T.ri;T.ri=T.XK;T.XK=o}var s=new iQ;s.translate(-P/2,-_/2);
s.scale(n,n);s.translate(P/2,_/2);W.r.it(C,s);j=j.concat(C);j[2].length*=2}}else if(c=="LINE"){j=W.r.Ic.Rect(0,0,P,_,0);
j.pop();j.pop();j[2].length=2}else if(c=="STAR"){j=W.r.Ic.lQ(P/2,_/2,P/2,2*Math.PI*(1/4),5,0,K.starInnerScale)}else if(c=="REGULAR_POLYGON"){j=W.r.Ic.Pn(.5,.5,.5,Math.PI/2,K.count,0);
var Q=new iQ;Q.scale(P,_);W.r.it(j,Q)}else if(c=="BOOLEAN_OPERATION"){j=[{type:6},{type:8,all:0}];var X=K.children,B=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(K.booleanOperation);
if(B==-1)throw K;if(X==null)X=[];for(var y=0;y<X.length;y++){var M=X[y],S=new Z.Wf,f=kk.a6V(M,E,S);if(S.i==null)continue;
W.r.it(S.i,kk.uT(M.transform));j=j.concat(S.i.slice(2))}for(var y=3;y<j.length;y++)if(j[y].qX!=null)j[y].qX=B}else if(c=="VECTOR"){var F,G,Y=3;
if(!0){var D=K.vectorData;if(D==null)return;F=D.normalizedSize;G=D.vectorNetworkBlob}var b=E[G].bytes,H=new Uint32Array(b.buffer),q=new Float32Array(b.buffer),O=H[0],w=H[1],V=H[2],t=[],m=[],g=[],A=Y+O*3,k=A+w*7;
for(var y=0;y<O;y++){var z=Y+y*3,p=new iP(q[z+1],q[z+2]);t.push(p)}for(var y=0;y<w;y++){var L=A+y*7;
m.push([H[L+0],H[L+1],q[L+2],q[L+3],H[L+4],q[L+5],q[L+6]])}for(var y=0;y<V;y++){var N=H[k+1],gC=g[y]=[];
k+=2;for(var r=0;r<N;r++){var h=H[k++],l=gC[r]=[];for(var g5=0;g5<h;g5++)l[g5]=H[k+g5];k+=h}}if(k!=H.length)throw"e";
if(V==0){var fm=-1;for(var y=0;y<w;y++){if(fm==-1){}else{var dC=-1;for(var r=y;r<w;r++)if(m[r][4]==fm)dC=r;
for(var r=y;r<w;r++)if(m[r][1]==fm)dC=r;if(dC!=-1){var ex=0,o=m[dC];m[dC]=m[y];m[y]=o;if(o[1]!=fm){ex=o[1];
o[1]=o[4];o[4]=ex;ex=o[2];o[2]=o[5];o[5]=ex;ex=o[3];o[3]=o[6];o[6]=ex}}}fm=m[y][4]}g.push([[]]);for(var y=0;
y<w;y++)g[0][0].push(y)}var cR=[],d0=[];for(var hN=0;hN<g.length;hN++){for(var ey=0;ey<g[hN].length;
ey++){var cr=g[hN][ey],ik=0;if(cr.length>1){var hd=m[cr[0]],df=m[cr[1]];ik=hd[4]==df[1]?1:0}for(var y=0;
y<cr.length;y++){var bQ=m[cr[y]],bi=1,jX=4;if(ik==0){bi=4;jX=1}var eS=t[bQ[bi]],bN=t[bQ[jX]];if(y==0){d0.push("M");
cR.push(eS.x,eS.y)}d0.push("C");cR.push(eS.x+bQ[bi+1],eS.y+bQ[bi+2],bN.x+bQ[jX+1],bN.y+bQ[jX+2],bN.x,bN.y)}}}j=W.p.uR({C:cR,W:d0},!1);
if(i!=0){var a=[],h9=j[2].length;for(var y=0;y<h9;y++)a.push(i);if(W.r.ya(j))W.r.ON(j,2,a)}var bz=new iQ;
bz.scale(F.x==0?1:J.x/F.x,F.y==0?1:J.y/F.y);W.r.it(j,bz)}x.i=j};kk.OX=function(K,E){return K[E.sessionID+","+E.localID]};
kk.atT=function(K,E){return K.sessionID==E.sessionID&&K.localID==E.localID};kk.apH=function(K){var E={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn",COLOR_DODGE:"div ",COLOR_BURN:"idiv",HARD_LIGHT:"hLit",DARKEN:"dark",LUMINOSITY:"lum ",OVERLAY:"over"}[K];
if(E==null)throw K;return E};kk.Af=function(K){return{t:"Objc",v:W.M.TD({o:K.r*255,J:K.g*255,k:K.b*255})}};
kk.uT=function(K){var E=[K.m00,K.m10,K.m01,K.m11,K.m02,K.m12];for(var y=0;y<6;y++)if(Math.abs(E[y])<1e-20)E[y]=0;
return new iQ(E[0],E[1],E[2],E[3],E[4],E[5])};function ff(){}ff.Sg=function(){var K=R.pr;function E(v,n,C,T){var o=T?[]:{};
while(n<v.length-1&&v[n]!=125){var s=K(v,n,3),Q=K(v,n+3,1),X;n+=4;n++;if(Q=="v"){var B=E(v,n,C+1,s=="ELM"||s=="TIL");
X=B.Z;n=B.R}else if(Q=="i"||Q=="f"){var M=n;while(v[M]!=125)M++;var S=K(v,n,M-n);X=Q=="i"?parseInt(S,16):parseFloat(S);
n=M+1}else if(Q=="s"){var f=R.Xl(v,n),S="";n+=2;for(var y=0;y<f;y++)S+=String.fromCharCode(v[n+2*y+1]);
X=S;n=n+2*f+1}else if(Q=="b"){X=v[n]==49;n=n+2}else throw"e";if(T)o.push([s,X]);else if(o[s]==null)o[s]=X;
else{if(!(o[s]instanceof Array))o[s]=[o[s]];o[s].push(X)}}n++;return{Z:o,R:n}}function x(v,n){var C=c(v).slice(1),v=n.Clr.v;
v.Rd.v=C[0]*255;v.Grn.v=C[1]*255;v.Bl.v=C[2]*255}function c(v){return[(v>>>24&255)/255,(v>>>16&255)/255,(v>>>8&255)/255,(v>>>0&255)/255]}function J(v,n){var C=n&4278190080|(n&255)<<16|(n>>>8&255)<<8|n>>>16&255;
new Uint32Array(v.buffer).fill(C)}function i(v,n){var C=v.TSZ,T=v.WPX,o=v.HPX,s=v.TIL,Q=new cS(0,0,T,o),X=W.Q(T*o*4),B=0;
for(var M=0;M<o;M+=C)for(var S=0;S<T;S+=C){var f=new cS(S,M,C,C),F,G=s[B];if(G[0]=="TMC"){F=W.Q(f.O()*4);
J(F,G[1])}else if(G[0]=="TID"){F=n[G[1]]}W.UL(F,f,X,Q);B++}return[X,Q]}function P(v,n){v=new Uint8Array(v);
var C=8,T,o={},w=0;while(C<v.length){var s=R.s(v,C);C+=4;var Q=K(v,C,4);C+=4;if(Q=="mkTS"){var X=pako.inflate(v.slice(C,C+s)),B=E(X,0,0);
T=B.Z}else if(Q=="mkBT"){var M=R.s(v,C+4),S=R.s(v,C+8),X=pako.inflate(v.slice(C+76,C+s));if(S==0)for(var y=0;
y<X.length;y+=4){var f=X[y],F=X[y+1],G=X[y+2],D=X[y+3];X[y+3]=f;X[y+2]=D;X[y+1]=G;X[y]=F}else{var b=W.Q(X.length*4);
b.fill(255);W.eE(X,b);X=b}o[M]=X}C+=s+4}var H=T.PDC,q=H?H instanceof Array?H:[H]:[T.MKB],O=new cS;for(var y=0;
y<q.length;y++){var V=q[y];O=O.XN(new cS(0,w,V.WID,V.HIT));w+=V.HIT+100}n.b=O.b;n.n=O.n;n.buffer=W.Q(O.O()*4);
n.yR(q.length);w=0;for(var t=0;t<q.length;t++){n.B.push(n.NG());var V=q[t],m=V.WID,g=V.HIT,Y=V.BGC,A=(V.LYL?V:T).LYL.LAY,p=3;
for(var y=0;y<A.length;y++)a(A[y],n,null,o,new iQ(1,0,0,1,-V.XLC,-V.YLC+w));var k=n.EY();n.B.push(k);
var z=new cS(0,w,m,g);w+=g+100;k.MZ(z);if(Y>>>24!=0){var L=W.M.TD({o:Y>>>16&255,J:Y>>>8&255,k:Y>>>0&255});
k.add.artb.Clr={t:"Objc",v:L};p=4}k.add.artb.artboardBackgroundType.v=p;k.yH(V.PGN?V.PGN:"Page "+(t+1));
k.add.lsct=fV.wg;k.Vk="pass";k.LD=24}}function _(v,n,C){var T=v[n];return T instanceof Array?T[C]:T}function a(v,n,C,T,o){var s=n.EY();
if(v.VIS!=null)s.g7(v.VIS);if(v.VIF!=null)s.g7(v.VIF.VIS);if(v.OPA!=null)s.opacity=Math.round(255*v.OPA/1e3);
s.Vk=v.CLL||C=="GRP"?"pass":"norm";if(v.BLD!=null){var Q=v.BLD,X={"0":"norm","2":"mul ","4":"over","5":"scrn","7":"diss","9":"dark","10":"lite","37":"idiv","30":"norm","39":"lbrn","41":"vLit"}[Q+""];
if(X==null)console.log(v.OBN,Q);else s.Vk=X;if(Q==30)s.opacity>>>=1}if(v.CLL){s.yH(v.LNM);n.B.push(n.NG());
var B=v.CLL.CEL;if(B.length==null)B=[B];for(var M=B.length-1;M>=0;M--){var S=B[M].ELM;for(var y=S.length-1;
y>=0;y--)a(S[y][1],n,S[y][0],T,o)}s.add.lsct=v.DIS?fV.Bm:fV.wg;s.LD|=24}else if(C=="GRP"){var f=s.add.lmfx=e(v.EFL),F;
n.B.push(n.NG());var S=v.ELM;if(v.MNA){F=S[0][1];S=S.slice(1)}s.yH("Group: "+S.length+" objects");for(var y=S.length-1;
y>=0;y--)a(S[y][1],n,S[y][0],T,o);if(F){if(v.MRX){var G=i(F,T),D=s.z=new Z.vW;D.rect=G[1].clone();D.rect.x=F.XLC;
D.rect.y=F.YLC+o.Ju;D.channel=W.Q(D.rect.O());W.Bp(G[0],D.channel,0);W.Pa(D.channel)}else{j(s,F,o);s.yt();
s.DY(n)}}s.add.lsct=fV.wg;s.LD|=24}else if(C=="IMG"){s.yH(v.OBN?v.OBN:"Bitmap");var G=i(v,T);s.rect=G[1].clone();
s.rect.x=v.XLC;s.rect.y=v.YLC+o.Ju;s.buffer=G[0]}else if(C=="TXT"){var b=v.TFS,H=b.TRN instanceof Array?b.TRN.length:1,V="",t="Arial",m=20,g=0;
s.add.lnsr="rend";s.add.TySh=ev.l4(0,0);s.add.TySh.T6=new cS(0,0,100,100);var q=new iQ(1,0,0,1,v.LFT,v.TOP);
if(v.MTX){var O=v.MTX,D=new iQ(O.M00,O.M01,O.M10,O.M11,O.M20,O.M21);q.concat(D)}q.concat(o);s.add.TySh.u=q;
var w=s.add.TySh.kd;for(var y=0;y<H;y++){var Y=_(b,"TRN",y);if(Y==null)continue;Y=Y.replaceAll("\x18","'").replaceAll("\x19","'").replaceAll("\x1C","'").replaceAll("\x1D","'");
Y=Y.replaceAll("\x03","\n").replaceAll("\r","\n");ev.tW(w,V.length,Y);var A=ev.Jw(w,0,1),k=_(b,"FON",y);
if(k)t=k;ev.H8(A,t);var z=_(b,"PTS",y);if(z!=null)m=z;A.BY.FontSize=Math.round(m);var p=_(b,"LED",y);
if(p!=null){A.BY.Leading=p*m;A.BY.AutoLeading=!1}var L=_(b,"UND",y);if(L!=null){A.BY.Underline=L}var N=_(b,"ITL",y);
if(N!=null){A.BY.FauxItalic=N}var gC=_(b,"FCL",y);if(gC!=null)g=gC;A.BY.FillColor={Type:1,Values:c(g)};
var r=_(b,"JST",y);if(r!=null)A.sn.Justification=[0,2,1,3,5,4,6,7,8][r];ev.q1(w,V.length,V.length+Y.length,A);
V+=Y}s.yH(V.slice(0,255));var h=v.RIT-v.LFT,l=v.BOT-v.TOP;if(v.IMG){a(v.IMG,n,"IMG",T,o);var g5=n.B.pop();
s.buffer=g5.buffer;s.rect=g5.rect.clone()}ev.IT(w,1);ev.sV(w,[0,0,h,l])}else if(C=="PTH"){s.yH(v.OBN?v.OBN:"Path");
s.LD|=16;var fm=!1;j(s,v,o);var dC=s.add.vmsk,ex=s.add.vstk,cR=W.r.a3(dC.i),d0=v.PAT,hN=d0.BPL,ey=d0.FPL,cr=d0.TXF;
if(ey&&ey.FEF)dC.Zs+=ey.FEF/2.4;if(hN){var ik=hN.CAT;ex.strokeEnabled.v=!0;ex.strokeStyleLineWidth.v.val=hN.BDI;
ex.strokeStyleLineAlignment.v.strokeStyleLineAlignment=dz.Ae.Zi[v.BRP];x(d0.BCL,ex.strokeStyleContent.v);
if(ik!="bc_Basic"&&ik!="bc_Pencil")fm=!0}if(ey==null){ex.fillEnabled.v=!1;s.add.SoCo=JSON.parse(dz.hQ[dz.order.indexOf("SoFi")]);
x(0,s.add.SoCo)}else if(ey.CAT=="fc_Solid"){s.add.SoCo=JSON.parse(dz.hQ[dz.order.indexOf("SoFi")]);x(v.PAT.FCL,s.add.SoCo)}else if(ey.CAT=="fc_Linear"||ey.CAT=="fc_Circular"||ey.CAT=="fc_Elliptical"){var hd=ey.CAT=="fc_Linear",df=s.add.GdFl=JSON.parse(dz.hQ[dz.order.indexOf("GrFl")]),bQ=df.Grad.v,is=[],bi=ey.FGL,jX,eS=[];
if(bi.FGY){var bN=bi.FGY,jX=bN.FG0.FGI,eS=bN.FG1.FGI}else jX=bi.FGV.FGI;for(var y=0;y<jX.length;y++){var h9=jX[y],bz=c(h9.FGC),i0=1;
if(eS.length==jX.length)i0=c(eS[y].FGC)[0];is.push([h9.FGP,bz.slice(1),i0])}df.Type.v.GrdT=hd?"Lnr":"Rdl";
W.M.LW(is,bQ);bQ.Intr.v=0;var hp=v.PRI?v.PRI:v,hY=new iP(hp.PSX,hp.PSY),ji=new iP(hp.PEX,hp.PEY);if(ey.CAT=="fc_Elliptical"&&hp.PFX!=null){var aM=new iP(hp.PFX,hp.PFY),a1=iP.B4(hY,ji),fi=iP.B4(hY,aM);
if(fi<a1){var jJ=a1;a1=fi;fi=jJ}ji=new iP(hY.x+(a1+fi)/2,hY.y);if(a1/fi<.5)fm=!0}if(hd){hY.x=(hY.x+ji.x)/2;
hY.y=(hY.y+ji.y)/2}W.M.Cs(hY,ji,cR,df)}else console.log(ey.CAT);var f=s.add.lmfx=e(v.EFL,dC);if(ey&&ey.FTB!=0&&cr){var G=i(cr.MSK,T),gg={};
gg.id=gD.g4()+"-d71c-11e5-b1ae-a548a96e5f9f";gg.name="someImage";gg.gW=G;n.Wu(gg);var iN=G[0];for(var y=0;
y<iN.length;y+=4){iN[y+3]=255-iN[y];iN[y]=iN[y+1]=iN[y+2]=255}var df=JSON.parse(dz.hQ[dz.order.indexOf("patternFill")]);
df.Opct.v.val=Math.round(ey.FTB/10);df.Algn.v=!0;df.Ptrn.v.Idnt.v=gg.id;f.patternFillMulti.v.unshift({t:"Objc",v:df})}if(fm&&v.IMG){a(v.IMG,n,"IMG",T,o);
var ad=n.B[n.B.length-1];ad.opacity=s.opacity;return}s.yt();s.DY(n)}else if(C=="URL")return;else{console.log("unknown layer type",C,v);
s.yH("Layer")}n.B.push(s)}function j(v,n,C){if(n.PBL==null)return;var T=v.add.vmsk=new Z.Wf,o=v.add.vstk=JSON.parse(JSON.stringify(dz.Ae.default)),s=n.PBL.PBP;
if(!(s instanceof Array))s=[s];for(var Q=0;Q<s.length;Q++){var X=s[Q].PBT;if(X==null)continue;if(!(X instanceof Array))X=[X];
var B=s[Q].ISC?0:3;T.i.push({type:B,length:X.length,qX:0,Im:2,At:0,Tw:0});for(var y=0;y<X.length;y++){var M=X[y],S=M.XLC,f=M.YLC,F=[S,f,S,f,S,f],G="XPC YPC XLC YLC XSC YSC".split(" ");
for(var D=0;D<6;D++){var b=G[D],H=M[b];if(H!=null)F[D]=H}T.i.push({type:B+2,H:new iP(S,f),ri:new iP(F[0],F[1]),XK:new iP(F[4],F[5])})}}W.r.it(T.i,C)}function e(v,n){var C=JSON.parse(dz.default);
for(var y=0;y<dz.order.length;y++)C[dz.E9[y]]={t:"VlLs",v:[]};if(v==null)return C;var T=v.EPS;if(!(T instanceof Array))T=[T];
for(var y=0;y<T.length;y++){var o=T[y].DCE,s={};for(var Q=0;Q<o.length;Q++)s[o[Q].DCK]=o[Q].DCV;if(s.EffectIsVisible=="false")continue;
var X=s.mkbFile_WriteOnly_TemporaryEffectUiName;if(X=="Gaussian Blur..."&&n){n.Zs+=parseFloat(s.gaussian_blur_radius);
continue}var B=["Drop Shadow","Inner Bevel","Inner Glow","Glow"].indexOf(X);if(B==-1){continue}var M=["DrSh","ebbl","IrGl","OrGl"][B],S=dz.E9[dz.order.indexOf(M)],f=JSON.parse(dz.hQ[dz.order.indexOf(M)]);
C[S].v.unshift({t:"Objc",v:f});if(M=="DrSh"){f.uglg.v=!1;d(s,"ShadowDistance",f,"Dstn");d(s,"ShadowBlur",f,"blur");
d(s,"ShadowAngle",f,"lagl",180);f.Opct.v.val=100;I(s,"ShadowColor",f,"Clr")}if(M=="IrGl"){f.Md.v.BlnM="Nrml";
var F=s.MaskSoftness,G=s.GlowWidth;if(F&&G){F=parseInt(F);G=parseInt(G);f.blur.v.val=G+F;f.Ckmt.v.val=Math.round(100*G/(G+F))}d(s,"BevelContrast",f,"Opct");
I(s,"OuterBevelColor",f,"Clr")}if(M=="OrGl"){f.Md.v.BlnM="Nrml";var F=s.MaskSoftness,G=s.GlowWidth;if(F&&G){F=parseInt(F);
G=parseInt(G);f.blur.v.val=G+F}d(s,"BevelContrast",f,"Opct");I(s,"OuterBevelColor",f,"Clr")}if(M=="ebbl"){f.uglg.v=!1;
d(s,"BevelWidth",f,"blur");d(s,"AngleSoftness",f,"Sftn");d(s,"BevelContrast",f,"srgR");d(s,"LightAngle",f,"lagl")}}return C}function d(v,n,C,T,o){var s=v[n];
if(o==null)o=0;if(s)C[T].v.val=parseInt(s)+o}function I(v,n,C,T){var o=v[n];if(o){o=o.slice(1);if(o.length==6)o=o+"ff";
if(o.length!=8)throw"e";var s=c(parseInt(o,16)),Q=C[T].v;Q.Rd.v=s[0]*255;Q.Grn.v=s[1]*255;Q.Bl.v=s[2]*255;
C.Opct.v.val=Math.round(C.Opct.v.val/100*s[3]*100)}}return P}();function fe(){}fe.Sg=function(){function K(H,q,O){var w=!1,V=Date.now(),t=B(H,w);
if(w)console.log("part found",Date.now()-V);V=Date.now();var m=X(t),g=m.Layer,Y=m.Header;if(w)console.log(m);
var A=g[0];A=m.Layer[0];if(w)console.log("document parsed",Date.now()-V);V=Date.now();m.Setup.Gradient=Q(m.Setup.Gradient,t);
if(w)console.log("grads loaded",Date.now()-V);V=Date.now();m.Setup.Pattern=s(m.Setup.Pattern,t);if(w)console.log("patts loaded",Date.now()-V);
V=Date.now();m.Setup.DocumentData=o(m.Setup.DocumentData,t).pop();if(w)console.log("docdata loaded",Date.now()-V);
V=Date.now();m.Setup.SVGFilter=o(m.Setup.SVGFilter,t);if(w)console.log("svgfilter loaded",Date.now()-V);
V=Date.now();var k=Y.Cropmarks,z=Y.BoundingBox.split(" ").map(parseFloat),p=Y.ArtSize?Y.ArtSize.split(" ").map(parseFloat):[z[2]-z[0],z[3]-z[1]];
q.b=Math.round(p[0]);q.n=Math.round(p[1]);var L=[1,0,0,1,-z[0]+(q.b-(z[2]-z[0]))/2,-z[1]+(q.n-(z[3]-z[1]))/2];
L[3]=-1;L[5]=q.n-L[5];if(k){k=k.split(" ").map(parseFloat);q.b=Math.round(k[2]-k[0]);q.n=Math.round(k[3]-k[1]);
L=[1,0,0,-1,-k[0],q.n+k[1]]}var N=m.Setup.DocumentData;if(N&&N[0]&&N[0].ArtboardArray){var gC=N[0].ArtboardArray;
if(gC.length!=1)console.log(gC.length,"artboards");var r=new cS,h=[];for(var y=0;y<gC.length;y++){var l=gC[y],g5=l.PositionPoint1,fm=l.PositionPoint2,dC=g5[0],ex=Math.min(g5[1],fm[1]),cR=fm[0],d0=Math.max(g5[1],fm[1]),hN=new cS(dC,ex,cR-dC,d0-ex);
h.push(hN);r=r.XN(hN)}q.b=Math.round(r.b);q.n=Math.round(r.n);L[4]=-r.x;L[5]=r.y+q.n;if(gC.length!=1){q.B.push(q.NG());
for(var y=0;y<h.length;y++){var l=gC[y],hN=h[y],ey=q.EY();ey.yH(l.Name);q.B.push(ey);ey.add.SoCo=JSON.parse(dz.hQ[dz.order.indexOf("SoFi")]);
var cr=ey.add.SoCo.Clr.v;j(cr,[1,1,1]);var dC=hN.x,ex=hN.y,cR=dC+hN.b,d0=ex+hN.n,ik=[dC,ex,cR,ex,cR,d0,dC,d0];
W.p.u(ik,d(L),ik);v(ey,{cmds:["M","L","L","L","Z"],crds:ik},q);ey.add.vstk=JSON.parse(JSON.stringify(dz.Ae.default))}var ey=q.EY();
ey.yH("_Artboards_");ey.add.lsct=fV.wg;ey.Vk="pass";ey.LD=24;q.B.push(ey)}}if(N&&N[0]&&N[0]["#document"]){var hd=N[0]["#document"],df=hd["xmlnode-children"][0];
if(df&&df["xmlnode-children"])df=df["xmlnode-children"][0];if(df["xmlnode-nodename"]=="variableSets"){var bQ=df["xmlnode-children"][0]["xmlnode-children"],is=bQ[0],bi=bQ[1],jX=b(is);
q.ej=iI.h3("<variableSets><variableSet>"+jX+"</variableSet></variableSets>");if(bi){var eS=b(bi),bN=q.$o=iI.ME(eS);
for(var y=0;y<bN.length;y++)for(var h9=0;h9<bN[y].length;h9++)bN[y][h9]=bN[y][h9].trim()}}}var bz=1/bv.Kj(new cS(0,0,q.b,q.n),8192*8192);
while(q.b*q.n*bz*bz<800*800)bz*=2;while(O&&Math.max(q.b*bz,q.n*bz)<Math.max(O[0],O[1]))bz++;q.b=Math.round(q.b*bz);
q.n=Math.round(q.n*bz);q.B8=Math.round(72*bz);q.buffer=W.Q(q.b*q.n*4);for(var y=0;y<6;y++)L[y]*=bz;x=[0,0,0];
c=[0,0,0];J="SoCo";for(var i0=0;i0<g.length;i0++){var hp=g[i0];hp.Raster=E(hp,"Raster");hp.Place=E(hp,"Place");
var hY=C(t,hp);i(q,hY,L,m,hp,t)}if(w)console.log("layers created",Date.now()-V);V=Date.now()}function E(H,q){var O=H.Layer,w=H[q];
if(w==null)w=[];if(O){for(var y=0;y<O.length;y++){var V=O[y],t=V[q]=E(V,q);w=w.concat(t)}w.sort(function(m,g){return m._begin-g._begin})}return w}var x,c,J;
function i(H,q,O,w,V,t){var m="",g=0,Y="",A=!1,k={},z=UDOC.G,p=UDOC.getState(),L="norm",N=1,gC=!1,r=0,l=null,g5=!1,fm=0,dC=null,ex,cR,d0=0,hN=0,ey=0,hd=0,df=!1;
p.ctm=O;var h=[],cr=[],ik=[];for(var bQ=0;bQ<q.length;bQ++){var is=q[bQ],bN=1e9;if(is[0]=="%"){if(is=="%_/ArtDictionary :"&&fm==0)l=[is.slice(2)];
else if(l!=null){if(is=="%_"&&fm==0){var bi=f(l)[0],jX=bi.AI10_ArtUID;if(jX&&!jX.startsWith("XMLID"))H.B[H.B.length-1].yH(G(jX));
l=null}else{l.push(is.slice(g5?1:2));if(is=="%_X=")fm++;if(is=="%_X+")fm--;if(is=="%_/Binary : /ASCII85Decode ,")g5=!0;
if(g5&&is.endsWith("~>"))g5=!1}}else if(dC){ex+=(ex==""?"":" ")+is.slice(2);if(ex.endsWith("X#")){dC.push(ex.slice(0,ex.length-3));
ex=""}}continue}else if(is=="/Mesh X!"){dC=[];ex="";continue}else if(is=="/End X!"){P(dC,p,H);dC=null;
continue}var eS="Xa XR m l c f U u *U w J j M d".split(" "),h9=-1,bz=is.indexOf("(")!=-1;for(var y=0;
y<eS.length;y++){var i0=is.indexOf(" "+eS[y]+" ");if(i0!=-1&&i0<bN&&!bz){bN=i0;h9=y}}if(h9!=-1){A=!0;
var hp=bN+1+eS[h9].length;q[bQ]=is.slice(0,hp);var hY=q[bQ+1];if(hY==null||hY[0]=="%"||h9>9)q.splice(bQ+1,0,is.slice(hp));
else q[bQ+1]=(is.slice(hp)+" "+hY).replace(/\s\s+/g," ");bQ--;continue}is=is.trim();var ji=is.split(" "),aM=ji[ji.length-1],a1=aM.toLowerCase(),fi=ji.map(parseFloat);
if(aM=="m")z.moveTo(p,fi[0],fi[1]);else if(aM=="L"||aM=="l")z.lineTo(p,fi[0],fi[1]);else if(aM=="V"||aM=="v"){var jJ=p.pth.crds,gg=p.cpos[0],iN=p.cpos[1];
z.curveTo(p,gg,iN,fi[0],fi[1],fi[2],fi[3]);var ad=jJ.length;jJ[ad-6]=gg;jJ[ad-5]=iN}else if(aM=="Y"||aM=="y")z.curveTo(p,fi[0],fi[1],fi[2],fi[3],fi[2],fi[3]);
else if(aM=="C"||aM=="c")z.curveTo(p,fi[0],fi[1],fi[2],fi[3],fi[4],fi[5]);else if(aM=="H"||aM=="h"){if(aM==a1)z.closePath(p);
h.push(JSON.parse(JSON.stringify(p.pth)))}else if(aM=="Xy"){L=["norm","mul ","scrn","over","sLit",null,"div "][fi[0]];
N=fi[1];if(L==null){L="norm";console.log("unknown blend mode",fi[0])}}else if(aM=="Xd"){var h6=H.B[H.B.length-1];
h6.opacity=Math.round(255*N);h6.Vk=h6.wC()&&L=="norm"?"pass":L}else if(aM=="AE")d0=fi[0];else if(aM=="Ae")hN=fi[0];
else if(aM=="Xw")ey=fi[0];else if(aM=="*"){var iY=p.pth.crds,kh=p.ctm,i0=iY[0]==iY[2]?0:1;H.J$.push([i0,iY[i0]]);
z.newPath(p)}else if(aM=="XN")cR=is.split(" ")[0];else if(aM=="XI"){var gN=V.Raster,aT,iv;if(gN==null||gN.length==0){console.log("no Raster");
continue}if(is!="XI"){continue}else{if(gN[g].Data==null){continue}var fs=gN[g++].Data,gm=fs._begin,g8=fs._end;
while(t[gm]!=88)gm++;gm+=3;aT=t.slice(gm,g8);iv=q[bQ-2].split(" ").map(parseFloat)}var b_=iv.slice(8),ko=b_[2],gk=b_[3],bx=ko*gk,ai=W.Q(bx*4);
ai.fill(255);var hf=b_[7],aa=b_[8],iS=b_[6],hl=Math.ceil(ko*hf*iS/8);if(hf==1){if(iS==8)for(var y=0;
y<bx;y++)for(var jR=0;jR<3;jR++)ai[4*y+jR]=aT[y];else if(iS==1)for(var jC=0;jC<gk;jC++)for(var h8=0;
h8<ko;h8++)for(var jR=0;jR<3;jR++)ai[4*(jC*ko+h8)+jR]=255*(aT[jC*hl+(h8>>>3)]>>>7-(h8&7)&1);else throw iS}else if(hf==3)for(var y=0;
y<bx;y++)for(var jR=0;jR<3;jR++)ai[4*y+jR]=aT[3*y+jR];else if(hf==4||hf==5)for(var y=0;y<bx;y++){var cW=I([aT[hf*y+0]/255,aT[hf*y+1]/255,aT[hf*y+2]/255,aT[hf*y+3]/255]);
ai[4*y+0]=cW[0]*255;ai[4*y+1]=cW[1]*255;ai[4*y+2]=cW[2]*255}else if(hf==7)for(var y=0;y<bx;y++){ai[4*y+0]=aT[hf*y+0];
ai[4*y+1]=aT[hf*y+1];ai[4*y+2]=aT[hf*y+2]}else console.log("unknown number of channels",hf);if(aa==1){var kn=gk*hl;
for(var y=0;y<bx;y++)ai[4*y+3]=aT[kn+y]}var fQ=W.xE(ai,ko,gk)?"JPG":"PNG";if(ko*gk<700*700)fQ="PNG";
var i7=gr.Zf(fQ).bu([[ai.buffer]],ko,gk),jq=H.EI(new Uint8Array(i7),"<Image>",0,0);H.B.push(jq);jq.Vk=L;
jq.opacity=Math.round(255*N);jq.g7(ey==0);var O=new iQ;O.scale(1,-1);O.concat(d(iv.slice(1)));O.concat(d(p.ctm));
var iJ=jq.rect.clone();iJ.x=iJ.y=0;var ji=W.p.VD(iJ).C;W.p.u(ji,O,ji);jq.add.SoLd.Trnf=$.Xq.K0(ji);jq.add.SoLd.nonAffineTransform=$.Xq.K0(ji);
jq.mQ(H,!1)}else if(aM=="Ln"){m=a(is)}else if(aM=="u"||aM=="q"||aM=="Lb"){cr.push(hN==1);ik.push((aM=="Lb"?1-fi[0]:ey)==0);
if(gC)continue;H.B.push(H.NG())}else if(aM=="U"||aM=="Q"||aM=="LB"){if(cr.length==0||ik.length==0)throw bQ;
var dR=cr.pop(),cH=ik.pop();if(aM=="LB")dR=d0==1;if(gC)continue;var jq=H.EY();jq.yH((aM=="U"?"<Group>":"<Clip Group>")+Y);
if(aM=="LB")jq.yH(m);if(aM=="Q"&&h.length!=0){var c4=h.pop(),cx=UDOC.G.isBox(c4,[0,0,H.b,H.n]);if(!cx)v(jq,c4,H)}jq.add.lsct=dR?fV.Bm:fV.wg;
jq.Vk="pass";jq.LD=24;jq.g7(cH);H.B.push(jq);if(df){if(H.B[H.B.length-3].getName()=="</Layer group>"){H.B.pop();
H.B.splice(H.B.length-2,1)}df=!1}}else if(aM=="Bb"||aM=="Bh"||aM=="BB"){}else if(aM=="Bg"){var gp=w.Setup.Gradient,gb=gp[a(is)];
if(gb==null){console.log("gradient not found");for(var bg in gp){gb=gp[bg];break}}J="GdFl";x=_(gb.cl,gb.aat)}else if(aM=="Bm"||aM=="Xm"){var cu=x.Type.v.GrdT;
if(cu=="Lnr"&&aM!="Xm"||cu=="Rdl"&&aM!="Bm")continue;var jP=new iP(0,0),k4=new iP(1,0),kg=new iQ;kg.concat(d(fi));
kg.concat(d(p.ctm));jP=kg.iR(jP);k4=kg.iR(k4);var ek=W.p.hp(p.pth.crds);if(ek.um())ek=W.p.hp([jP.x,jP.y,k4.x,k4.y]);
if(cu=="Lnr"){jP.x=(jP.x+k4.x)/2;jP.y=(jP.y+k4.y)/2}W.M.Cs(jP,k4,ek,x)}else if(aM=="p"){var i_=a(is),gX=w.Setup.Pattern[i_];
if(gX.raw==null){var ek=gX.Xt,ko=Math.round(ek[2]-ek[0]),gk=Math.round(ek[3]-ek[1]),bi=new gD;bi.b=ko;
bi.n=gk;bi.buffer=W.Q(ko*gk*4);i(bi,gX._f,[1,0,0,-1,-gX.Xt[0],gk+gX.Xt[1]],w,V,t);gX.raw=new Uint8Array(gr.Zf("PSD").bu(bi))}var eE=is.slice(is.indexOf(")")+2),dP=eE.slice(0,eE.indexOf("[")-1).split(" ").map(parseFloat),ie=eE.slice(eE.indexOf("[")+1,eE.indexOf("]")).split(" ").map(parseFloat);
J="patt";x=[i_,dP,ie]}else if(aM=="J"||aM=="j"||aM=="w"||aM=="M"||aM=="d"){for(var y=1;y<ji.length;y++){var d7=ji[y],bT=fi[y-1];
if(d7=="w")p.lwidth=bT;if(d7=="j")p.ljoin=bT;if(d7=="J")p.lcap=bT;if(d7=="d"){var bu=is.slice(is.indexOf("[")+1,is.indexOf("]")).trim();
if(bu.length!=0){var ig=bu.split(" ").map(parseFloat);p.dash=ig}else if(bu=="")p.dash=[]}}}else if(a1=="xa"||a1=="xx"){var jz=fi[4]==null?fi.slice(0,3):[fi[4],fi[5],fi[6]];
if(a1=="xx"&&fi[fi.length-2]==2)jz=I(fi);J="SoCo";if(aM=="Xa"||aM=="Xx")x=jz;else c=jz}else if(a1=="xk"){var jz,gO=fi[fi.length-2],gK=fi[fi.length-3];
if(gO==0)jz=I(fi);else if(gO==1){jz=[fi[4],fi[5],fi[6]];for(var y=0;y<3;y++)jz[y]=gK*1+(1-gK)*jz[y]}else throw is;
J="SoCo";if(aM=="Xk")x=jz;else c=jz}else if(a1=="k"||a1=="x"){if(a1=="x"){fi.pop();var hS=1-fi.pop();
for(var y=0;y<4;y++)fi[y]*=hS}var jz=I(fi);J="SoCo";if(aM==a1)x=jz;else c=jz}else if(a1=="g"){var jz=[fi[0],fi[0],fi[0]];
J="SoCo";if(aM==a1)x=jz;else c=jz}else if(a1=="n"){if(!gC)z.newPath(p)}else if(aM=="*u"){gC=!0;r=0}else if(aM=="*U"||a1=="s"||a1=="f"||a1=="b"){if(aM!="*U"&&gC){if(a1=="f"||a1=="b")r|=1;
if(a1=="s"||a1=="b")r|=2;continue}if(aM==a1)z.closePath(p);if(aM=="*U"){gC=!1}var jq;if(J=="patt"){var gX=w.Setup.Pattern[x[0]];
jq=H.EI(gX.raw,"<Pattern>",0,0);var iJ=jq.rect.clone();iJ.x=iJ.y=0;var ji=W.p.VD(iJ).C,ie=d(x[2]);ie.qW=ie.Ju=0;
W.p.u(ji,ie,ji);jq.add.SoLd.Trnf=$.Xq.K0(ji);jq.add.SoLd.nonAffineTransform=$.Xq.K0(ji);jq.mQ(H,!1)}else{jq=H.EY();
jq.LD|=16;var ch=jq.add.vstk=JSON.parse(JSON.stringify(dz.Ae.default));ch.strokeEnabled.v=ch.fillEnabled.v=!1;
if(J=="SoCo"){jq.add.SoCo=JSON.parse(dz.hQ[dz.order.indexOf("SoFi")]);var h3=jq.add.SoCo.Clr.v;j(h3,x)}if(J=="GdFl")jq.add.GdFl=x;
if(a1=="f"||a1=="b"||aM=="*U"&&r&1)ch.fillEnabled.v=!0;if(a1=="s"||a1=="b"||aM=="*U"&&r&2)a0.LB(ch,p,1,a0.cq(c))}jq.yH("<"+(aM=="*U"?"Compound ":"")+"Path>"+Y);
jq.Vk=L;jq.opacity=Math.round(255*N);jq.g7(ey==0);v(jq,p.pth,H);H.B.push(jq);z.newPath(p)}else if(aM==","&&ji[0]=="/XMLUID"){var h6=H.B[H.B.length-1];
for(var y=0;y<H.ej.length;y++)if("("+H.ej[y].docRef+")"==ji[2])H.ej[y].docRef="id('"+h6.add.lyid+"')"}else if(aM==","&&ji[1]=="/FreeUndo"){hd=fi[0]}else if(aM==","&&ji[1]=="/StoryIndex"){var iG=w.Setup.TextDocument,ds=null;
if(!(iG instanceof Array))iG=w.Setup.TextDocument=T(iG,t);var hi=iG[0],gU=iG[2];if(hi._DocumentResources)hi=iG[0]=kt.aj_(hi);
else kt.a1B(hi);var jq=H.EY();jq.add.lnsr="rend";jq.add.TySh=ev.l4(0,0);var aD=fi[0];if(hd==1){for(var y=1;
y<60;y++){var hY=q[bQ+y];if(hY.endsWith("/StoryIndex ,")){aD=parseFloat(hY.slice(2,hY.indexOf(" ")));
df=!0;break}}hd=0}var fk=iu.ai9(hi),a9=jq.add.TySh.kd=fk[aD];if(a9==null){console.log("text not found");
df=!1;continue}jq.yH(ev.w1(a9).slice(0,50));jq.Vk=L;jq.opacity=Math.round(255*N);jq.g7(ey==0);var hS=hi._1._1[aD]._1._0[0]._0;
hS=parseInt(hS.slice(1));var ab=hi._0._8._0,cv=ab[hS]._0;if(cv._0)ds=e(cv._0);else if(cv._1)ds=e(cv._1._0);
else ds=e(cv._2._2).slice(3);if(ds.length!=2){var ek=W.p.hp(ds);ds=[ek.x,ek.y];if(ek.O()!=0){ev.IT(a9,1);
ev.sV(a9,[0,0,Math.round(ek.b),Math.round(ek.n)])}}var iU=new iQ,fS=new iQ(1,0,0,1,ds[0],ds[1]),fA=new iQ(1,0,0,1,-gU[0],-gU[1]),dS=d(p.ctm),a$=new iQ;
if(cv._2&&cv._2._2){var O=e(cv._2._2);a$=new iQ(O[0],O[1],O[2],O[3],O[4],O[5])}iU.concat(fS);iU.concat(a$);
iU.concat(fA);iU.scale(1,-1);iU.concat(dS);jq.add.TySh.u=iU;H.B.push(jq);H.zc=!0}else if(aM=="Tp"){k.rS=d(fi)}else if(aM=="Tf"){k.font=ji[0].slice(2)}else if(aM=="Tk"){var jq=H.EY();
jq.add.lnsr="rend";var bw=jq.add.TySh=ev.l4(0,0),a9=bw.kd,kg=k.rS.clone(),hV=kg.pA();kg.concat(d(p.ctm));
var bG=new iQ(1/hV,0,0,-1/hV,0,0);bG.concat(kg);bw.u=bG;var it=a(is);jq.yH(it);ev.tW(a9,0,it);var dF=ev.Jw(a9,0,it.length);
dF.BY.FontSize=hV;dF.BY.FillColor={Type:1,Values:[1,x[0],x[1],x[2]]};ev.H8(dF,k.font);ev.q1(a9,0,it.length,dF);
H.B.push(jq);H.zc=!0}else if(A&&fi.length>3){var ba=!1;for(var y=0;y<fi.length;y++)if(isNaN(fi[y]))ba=!0;
if(!ba)q[bQ+1]=(is+" "+q[bQ+1]).replace(/\s\s+/g," ")}}}function P(H,q,O){var w=UDOC.G,V=[],t=[],m="/DeviceGray",g=1,Y=[],A=1;
for(var k=0;k<H.length;k++){var z=H[k];if(z.endsWith(" /CS")){var p=z.indexOf("/NChannel"),L=z.indexOf("/Process");
if(z.startsWith("/DeviceRGB")){m="/DeviceRGB";g=3}else if(z.startsWith("/DeviceGray")){m="/DeviceGray";
g=1}else if(z.startsWith("/DeviceCMYK")){m="/DeviceCMYK";g=4;Y=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}else if(p!=-1){m="/DeviceCMYK";
g=parseInt(z.slice(p-2,p-1));var N=1;for(var y=0;y<g;y++){N=z.indexOf("[",N);Y[g-1-y]=z.slice(N+1,N+8).split(" ").map(parseFloat);
N++}}else if(L){m="/DeviceGray";g=1}else throw z}else if(z[0]=="["){var gC=z.indexOf("]"),r=z.slice(1,gC).split(" ").map(parseFloat),h=z.slice(gC+2),l,g5,fm,dC,ex,cR;
if(h=="/Size"||h=="/P"||h=="/R")continue;if(h=="/S"||h=="/A"){l=r[0];g5=r[1];fm=r[2];dC=r[3];ex=r[4];
cR=r[5]}else if(h=="/N"){var d0=g+(A==1?0:1),hN;l=r[d0+0];g5=r[d0+1];fm=r[d0+2];dC=r[d0+3];ex=r[d0+5];
cR=r[d0+6];if(m=="/DeviceRGB")hN=r.slice(0,3);else if(m=="/DeviceGray")hN=[r[0],r[0],r[0]];else if(m=="/DeviceCMYK"){var ey=[0,0,0,0];
for(var y=0;y<g;y++){var cr=r[y],ik=Y[y];ey[0]+=cr*ik[0];ey[1]+=cr*ik[1];ey[2]+=cr*ik[2];ey[3]+=cr*ik[3]}hN=I(ey)}else throw hN;
hN.push(r[g]);t.push([hN,l,g5])}else throw h;V.push([h,ex,cR,l,g5,fm,dC])}else if(z=="/E"){var hd=V.slice(0),df=0;
for(var y=0;y<V.length;y++){var bQ=V[y][0];if(bQ=="/N"){df++;continue}var is=y,bi=y+1;while(V[bi][0]!="/N"&&bi<V.length)bi++;
if(df==0||df==3){for(var jX=0;jX<bi-is;jX++)hd[is+jX]=V[bi-1-jX]}else for(var jX=is;jX<bi;jX++){var eS=hd[jX],bN=eS[1];
eS[1]=eS[5];eS[5]=bN;bN=eS[2];eS[2]=eS[6];eS[6]=bN}y=bi-1}V=[];for(var y=0;y<hd.length;y++){var eS=hd[y];
V.push(eS[1],eS[2],eS[3],eS[4],eS[5],eS[6])}var h9=V.length;w.moveTo(q,V[2],V[3]);for(var y=0;y<h9;y+=6){var fm=V[(y+4)%h9],dC=V[(y+5)%h9],ex=V[(y+6)%h9],cR=V[(y+7)%h9],l=V[(y+8)%h9],g5=V[(y+9)%h9];
w.curveTo(q,fm,dC,ex,cR,l,g5)}w.closePath(q);V=[]}else if(z.endsWith("/Version"))A=parseFloat(z[0])}var bz=O.EY();
bz.LD|=16;bz.yH("<Mesh>");var i0=bz.add.vstk=JSON.parse(JSON.stringify(dz.Ae.default));i0.strokeEnabled.v=!1;
if(t.length>=2){var hp=0,hY=0,ji=0;for(var y=0;y<t.length;y++)for(var jX=y+1;jX<t.length;jX++){var aM=t[y][0],a1=t[jX][0],fi=aM[0]-a1[0],jJ=aM[1]-a1[1],gg=aM[2]-a1[2],iN=Math.sqrt(fi*fi+jJ*jJ+gg*gg);
if(iN>ji){ji=iN;hp=y;hY=jX}}var ad=t[hp],h6=t[hY],iY=bz.add.GdFl=_(0,[[0,ad[0]],[1,h6[0]]]),kh=d(q.ctm),gN=kh.iR(new iP(ad[1],ad[2])),aT=kh.iR(new iP(h6[1],h6[2])),iv=W.p.hp(q.pth.crds);
gN.x=(gN.x+aT.x)/2;gN.y=(gN.y+aT.y)/2;W.M.Cs(gN,aT,iv,iY)}v(bz,q.pth,O);O.B.push(bz);w.newPath(q)}function _(H,q){var x=JSON.parse(dz.hQ[dz.order.indexOf("GrFl")]),O=x.Grad.v;
O.Intr.v=0;x.Type.v.GrdT=["Lnr","Rdl"][H];W.M.LW(q,O);return x}function a(H){var q=H.indexOf(")");while(H[q-1]=="\\")q=H.indexOf(")",q+1);
return H.slice(H.indexOf("(")+1,q).replaceAll("\\","")}function j(H,x){H.Rd.v=x[0]*255;H.Grn.v=x[1]*255;
H.Bl.v=x[2]*255}function e(H){var q=[];for(var y=0;y<H.length;y++)q[y]=parseFloat(H[y].slice(1));return q}function d(H){return new iQ(H[0],H[1],H[2],H[3],H[4],H[5])}function I(H){return W.gZ(H)}function v(H,q,O){H.add.vmsk=new Z.Wf;
if(q.crds.length!=0)H.add.vmsk.i=n(q);H.yt();H.DY(O)}function n(H){var q={C:H.crds,W:H.cmds},O=W.p.uR(q,!1);
return O}function C(H,q){var O=[],A=0,L=0;for(var w=0;w<2;w++){var V=q[["Raster","Place"][w]];if(V){for(var y=0;
y<V.length;y++){var t=V[y][["Data","PlacedObjectPreview"][w]];if(t==null)continue;var m=t._begin,g=t._end;
if(m>g)m=g;O.push([m,g])}}}O.sort(function(gC,r){return gC[0]-r[0]});var Y=[q._begin];for(var y=0;y<O.length;
y++){var k=O[y],m=k[0]+32;Y.push(m,k[1]);A+=k[1]-m}Y.push(q._end);var z=q._end-q._begin,p=new Uint8Array(z-A);
for(var y=0;y<Y.length;y+=2){var m=Y[y],N=Y[y+1]-m;p.set(new Uint8Array(H.buffer,m,N),L);L+=N}return R.__(p).split(/\r\n|\r|\n/)}function T(H,q){if(H==null)return[];
var O=C(q,H),w="",V="",t=0,m;for(var y=2;y<O.length;y++){var g=O[y];if(g[0]=="%"){if(t==0)w+=g.slice(1);
else V+=g.slice(1)}else if(g==";")t++;else if(g.endsWith("/RulerOrigin ,"))m=g.split(" ").slice(0,2).map(parseFloat)}var Y=[w,V],A=[];
for(var y=0;y<2;y++){var k=Y[y],z=new Uint8Array(k.length);R.Dx(z,0,k);var p=FromPS.F.ASCII85Decode({buff:z,off:0}),L=iA.Sg(p);
A.push(L)}A.push(m);return A}function o(H,q){if(H==null)return[];var O=C(q,H);O=O.slice(1);for(var y=0;
y<O.length;y++){var w=O[y];if(w[0]=="%")O[y]=w.slice(w[1]=="_"?2:1)}var V=f(O);return V}function s(H,q){var O={};
if(H==null)return O;for(var y=0;y<H.length;y++){var w=C(q,H[y]),V=w[1],t=a(V),m=V.slice(V.indexOf(")")+2).split(" ").map(parseFloat),g=[];
for(var Y=2;Y<w.length;Y++)g.push(w[Y].slice(2));O[t]={Xt:m,_f:g}}return O}function Q(H,q){var O={},w,V;
if(H==null)return O;var t=[];for(var y=0;y<H.length;y++){var m=C(q,H[y]);for(var g=0;g<m.length;g++){var Y=m[g];
if(Y.endsWith("%_Bs")){var A=Y.slice(0,Y.length-4);if(!A.endsWith(" "))A+=" ";Y=A+"%_BS"}if(Y[0]=="("){w=a(Y);
var k=Y.split(")"),z=k[1].split(" ");V=parseInt(z[1])}else if(Y.endsWith("%_BS")){var k=Y.split(" "),gC,r=1;
k.pop();k=k.map(parseFloat);var p=k.pop(),L=k.pop(),N=k.pop();if(N==0)gC=[k[0],k[0],k[0]];else if(N==2||N==4)gC=[k[4],k[5],k[6]];
else if(N==1||N==3)gC=I(k);else if(N==6){if(k.length==3)gC=[k[0],k[0],k[0]];else gC=I(k);r=k.pop()}else{throw N}t.push([p/100,gC,r,L/100])}else if(Y=="BD"){for(var h=0;
h<t.length-1;h++)t[h][3]=t[h+1][3];t.sort(function(l,g5){return l[0]-g5[0]});O[w]={cl:V,aat:t};t=[]}}}return O}function X(H){var q="Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place Rider".split(" "),O=Date.now(),w=0,V=[],t={Header:{}},m=[t],g=H.length;
while(w<g){var Y=w;while(Y!=g&&H[Y]!=13&&H[Y]!=10){Y++}if(H[w]==37&&H[w+1]==95&&H[w+2]==37)w+=2;if(H[w]==37&&(H[w+1]==37||H[w+1]==65)){var A=R.pr(H,w,Y-w);
if(A=="%%EOF")break;if(A=="%%EndComments"||A=="%EndComments"||A=="%AI5_Begin_NonPrinting"||A=="%AI5_End_NonPrinting--"||A.startsWith("%AI17_Begin_Content_if_version_gt")||A=="%AI17_End_Versioned_Content"){}else{var k=A.indexOf("Begin"),z=Math.max(A.indexOf("_End"),A.indexOf("%End"));
if(k!=-1&&A[k-1]!="%"&&A[k-1]!="_")k=-1;if(k!=-1){var p=A.slice(k+5).split(":")[0],L={_begin:w,_end:w},N=m[m.length-1];
if(q.indexOf(p)!=-1){if(N[p]==null)N[p]=[];N[p].push(L)}else{if(N[p]!=null){console.log(m);throw A}N[p]=L}m.push(L);
if(A.startsWith("%%BeginData")){Y=R.ZO(H,"%%EndData",w)}else if(A=="%AI9_BeginDocumentData")Y=R.ZO(H,"%AI9_EndDocumentData",Y);
else if(A=="%AI11_BeginTextDocument")Y=R.ZO(H,"%AI11_EndTextDocument",Y)}else if(z!=-1){if(m.length>1)m.pop()._end=w}else if(m.length==1&&(A.startsWith("%AI")||A.startsWith("%%")&&A.indexOf(" ")!=-1)){var gC=1;
if(A.startsWith("%AI"))while(A[gC]!="_"&&gC<A.length)gC++;var r=A.indexOf(":");if(r==-1)r=A.indexOf(" ");
var h=A.slice(gC+1,r),l=A.slice(r+1).trim();t.Header[h]=l}}}w=Y;if(H[w]==13)w++;if(H[w]==10)w++}return t}function B(H,q){var O=Date.now(),w=new Uint8Array(H),V,t=w[2]==68;
if(q)console.log(!t?"EPS":"PDF");if(t){var m=R.ZO(w,"/AIMetaData "),dC=!1,ex=!1;while(w[m]!=60)m--;m--;
var g=R.ZO(w,">>",m),Y=R.pr(w,m+2,g-m-2).split("/"),A=[];for(var y=0;y<Y.length;y++){var k=Y[y],z=k.startsWith("AIPrivateData"),p=k.startsWith("AIPDFPrivateData");
if(!z&&!p)continue;var L=k.trim().split(/\s+/),N=parseInt(L[1]),gC=parseInt(L[0].slice(z?13:16));A.push([gC,N])}if(q)console.log("--- map made",Date.now()-O);
O=Date.now();var r=FromPDF.indexOfXref(w),h=[],l=FromPDF.readXrefTrail(w,r,h),g5={buff:w,off:0},fm=new Array(A.length),cR=m;
for(var y=0;y<A.length;y++){var gC=A[y][0],N=A[y][1],d0=FromPDF.getIndirect(N,0,g5,h),hN=d0.buff,ey=d0["/Filter"],cr=0;
if(ey!=null&&typeof ey=="string")ey=[ey];var ik=R.pr(hN,cr,cr+20);if(ik=="%AI12_CompressedData"){cr+=20;
dC=!0}else if(ik=="%AI24_ZStandard_Data"){cr+=20;ex=!0}hN=new Uint8Array(hN.buffer,hN.byteOffset+cr,hN.length-cr);
if(ey)for(var hd=0;hd<ey.length;hd++){var df=ey[hd];if(df=="/FlateDecode")hN=pako.inflate(hN);else if(df=="/ASCIIHexDecode")hN=FromPS.F.HexDecode({buff:hN,off:0});
else if(df=="/ASCII85Decode")hN=FromPS.F.ASCII85Decode({buff:hN,off:0});else throw df}fm[gC-1]=hN}if(q)console.log("--- arrays found",Date.now()-O);
O=Date.now();var bQ=R.pr(fm[0],0,13);if(bQ=="%%BoundingBox"||bQ=="%AI7_Thumbnai")fm=fm.slice(1);if(bQ=="%AI24_ZStanda"){fm[0]=fm[0].slice(20);
ex=!0}if(R.pr(fm[0],0,13)=="%AI12_Compres"){fm[0]=fm[0].slice(20);dC=!0}V=M(fm);if(q)console.log("--- concatenated",Date.now()-O);
O=Date.now();if(dC)V=UZIP.inflate(V);if(ex)V=gr.KJ.Om(V);if(q)console.log("--- inflated",Date.now()-O);
O=Date.now()}else{var is=R.__(w);if(is.indexOf("%AI5_BeginLayer")!=-1){V=w}else{var bi=is.split(/[\n\r]+/),jX=[],eS=!1;
for(var bN=0;bN<bi.length;bN++){var h9=bi[bN].trim();if(h9=="%AI9_PrivateDataEnd"){eS=!1;break}else if(h9=="%AI9_DataStream"||h9=="%AI24_DataStream"){eS=!0}else if(eS)jX.push(h9.slice(1))}var bz=R.zR(jX.join("")),i0=FromPS.F.ASCII85Decode({buff:bz,off:0});
if(i0[0]==120&&i0[1]==156)V=UZIP.inflate(i0);else V=gr.KJ.Om(i0)}}return V}function M(H){var q=0,w=0;
for(var y=0;y<H.length;y++)q+=H[y].length;var O=new Uint8Array(q);for(var y=0;y<H.length;y++){var V=H[y];
O.set(V,w);w+=V.length}return O}function S(H,q){for(var y=0;y<q.length;y++)if(H.startsWith(q[y]))return!0;
return!1}function f(H){var q=[],O=[],top=-1,w,V=null,t=null,m=null,g=0;for(var Y=0;Y<H.length;Y++){var A=H[Y];
if(w){A=w+A;w=null}var k="\t".repeat(q.length);if(V!=null){V.push(A);if(A.endsWith("~>")){var z=R.zR(V.join("")),p=FromPS.F.ASCII85Decode({off:0,buff:z});
q.push(p);O.push(!1);top++;V=null}}else if(m!=null){if(A=="X+"){if(g==1){q.push(m);O.push(!1);top++;
m=null}else g--}else if(A=="X=")g++;else m.push(A)}else if(t!=null){if(A=="/Def ; "){q.push(t);O.push(!1);
top++;t=null}else t.push(A)}else if(A=="/Binary : /ASCII85Decode ,"){V=[]}else if(A=="X="){m=[];g++}else if(A=="/FillStyle : 0 O"){t=["0 O"]}else if(A=="/SVGFilter :"||A=="; /Def ;")continue;
else if(A.startsWith("/XMLUIDREF :")){var L=F(A);q[top][L[4]]=L[2]}else if(A.startsWith("/")&&A[1].toUpperCase()!=A[1].toLowerCase()){if(A.startsWith("/XMLUID")){var L=F(A);
if(O[top])throw"e";q[top][L[4]]=L[2]}if(A.startsWith("/GObjRef")){var L=F(A);if(L.length==7){if(O[top])throw"e";
q[top][L[5]]=L[2]}else{if(!O[top])throw"e";q[top].push(L[2])}}else{var N=A.startsWith("/Array")||A.startsWith("/Document");
q.push(N?[]:{});O.push(N);top++}}else if(A.endsWith(",")){var gC,r,L=F(A);L.pop();if(L[0]==";"||L.length==1||A==" ,"){r=q.pop();
O.pop();top--;gC=O[top]?null:L.pop()}else{gC=O[top]?null:L.pop();var h=L.pop(),l=L[0];if(h=="/Int")r=parseInt(l);
else if(h=="/Real")r=parseFloat(l);else if(h=="/Bool")r=l=="1";else if(h=="/String"||h=="/UnicodeString")r=L.join("");
else if(h=="/RealMatrix"||h=="/RealPoint"||h=="/RealPointRelToROrigin")r=L.map(parseFloat);else throw h}if(O[top])q[top].push(r);
else q[top][gC]=r}else if(A==";"){}else if(A==""){}else{if(A.indexOf("/RealPoint")!=-1){}else if(A.startsWith("(")&&A.endsWith(")")){}else if(A.endsWith("/RealMatrix")){}else throw A;
w=w?w+A:A}}return q}function F(H){var q=0,O=[];while(q<H.length){var w=H[q],V=w.charCodeAt(0);if(w==" ")q++;
else if(w==","||w==";"||w==":"){O.push(w);q++}else if(w=="("){var t=q+1;while(!(H[t]==")"&&H[t-1]!="\\"))t++;
var m=H.slice(q+1,t);O.push(m);q=t+1}else if(w=="/"||w=="-"||48<=V&&V<=57){var t=q;while(H[t]!=" ")t++;
O.push(H.slice(q,t));q=t}else throw w}return O}function G(H){var q="";for(var y=0;y<H.length;y++){if(H[y]=="_"&&H[y+1]=="x"){var hr=parseInt(H.slice(y+2,y+4),16);
q+=String.fromCharCode(hr);y+=4}else if(H[y]=="_")q+=" ";else q+=H[y]}return q}function D(H){var q="xmlnode-nodename",O="xmlnode-nodevalue",w="xmlnode-attributes",V="xmlnode-children",t=H[q],m=H[w],g=H[V],Y={_nam:t};
for(var A in m){var k=m[A];if(Object.keys(k[w]).length!=0||k[V].length!=0)throw"e";if(k[q]!=A)throw"e";
Y[A]=k[O]}if(g.length==0)return Y;var z=Y.cln=[];for(var y=0;y<g.length;y++)z.push(D(g[y]));return Y}function b(H){var q="xmlnode-nodename",O="xmlnode-nodevalue",w="xmlnode-attributes",V="xmlnode-children",t=H[q].split(":").pop().replace("#",""),m=H[w],g=H[V],Y="<"+t;
for(var A in m)if(A!="xmlns"&&A!="xmlns:v")Y+=" "+A.split(":").pop()+"=\""+m[A][O]+"\"";Y+=">"+(g.length==0?"":"\n");
for(var y=0;y<g.length;y++)Y+=b(g[y]);if(H[O])Y+=H[O];return Y+"</"+t+">\n"}return K}();function jc(){}jc.Sg=function(){var K,E,x,c,J,o,s,Q;
function i(w){return R.BF(K,w)}function P(w){return R.K9(K,w)}function _(w){return R.Pc(K,w)}function a(w){return R.d4(K,w)}function j(w,V){var t=[];
for(var y=0;y<V;y++)t.push(_(w+y*4));return t}function e(w,V){var t=[];for(var y=0;y<V;y++)t.push(i(w+y*8));
return t}function d(w){return _((w+1)*4096-12)}function I(w){return _((w+1)*4096-8)}function v(w,E,V,t){if(c[w]==null)c[w]=[];
c[w].push([t,new Uint8Array(K.buffer,E,V)])}function n(w,V,t,m){var g=x[w],E=g*4096;E=E+_(E+4096-24-12-V*4);
var Y=P(E),A=K[E+2],k=K[E+3];if(V!=A)throw A;if(k==0)v(m,E+4,t,9);else{var z=P(E+6),p=_(E+8);v(m,E+12,Y-12,9);
n(p,z,t-(Y-12),m)}}function C(){var w=_(352),V=_(w*4096+128),t=_(936);x=[];c={};J={};for(var y=0;y<1e9;
y++){var m=_(t*4096+128+y*4);if(m==0)break;var g=j(m*4096+128,4096-128-12>>>2);x=x.concat(g)}for(var Y=0;
Y<x.length;Y++){var A=x[Y],k=d(A);if(k!=6)continue;var E=A*4096,z=_(E);E+=4;for(var y=0;y<z;y++){var p=_(E);
E+=4;var L=_(E);E+=4;var N=_(E);E+=4;var gC=_(E);E+=4;if(p==0)J[L]=N;else{var r=N&65535,h=N>>>16;if(h==0)v(L,gC*4096,r,8);
else n(gC,h,r,L)}}}var o={};for(var l in c){var g5=c[l],fm=g5.length;if(fm==1)o[l]=g5[0][1];else{var dC=0,E=0;
for(var y=0;y<fm;y++)dC+=g5[y][1].length;var ex=o[l]=new Uint8Array(dC);for(var y=0;y<fm;y++){ex.set(g5[y][1],E);
E+=g5[y][1].length}}}return o}function T(E,w){var V=w?_(E):P(E),t="";E+=w?4:2;while(t.length<V){var m=K[E++],g=K[E++],Y=0,A="";
m+=(g&15)*256;g=g&240;for(var y=0;y<m;y++){if(g==64)Y=K[E++];else if(g==128)Y=K[E++]|K[E++]<<8;else throw g;
A+=String.fromCharCode(Y)}t+=A}return[t,E]}function X(E,w,V){var t=j(E,w);for(var y=0;y<w;y++){V.push(y);
if(t[y]>s)throw"e";t[y]=M(t[y],V);V.pop()}return t}var B={};function M(w,V){if(Q.indexOf(w)!=-1)return o[w];
if(w==0)return null;if(o[w]==null)return null;if(!(o[w]instanceof Uint8Array))return o[w];var t=K,E=0;
K=o[w];Q.push(w);var m=J[w].toString(16),g=o[w]={_type:O[m]?O[m]+":"+m:"typ-"+m,_eid:w};while(E+8<K.length){var Y=_(E);
E+=4;var A=Y.toString(16),k=_(E);E+=4;var z=E+k;if(E+k>K.length){g._bin=K;break}S(A,D,g,E,k,V);E=z}K=t;
Q.pop();return g}function S(w,V,t,E,m,g){var Y=V[w+":"+t._type];if(Y==null)Y=V[w];g.push(Y?Y[0]==""?w:Y[0]:w);
if(Y){var A=Y[0],k=null,z=Y[1];if(A=="")A=z+"-"+w;if(H[z]&&m!=H[z]){console.log(z);console.log(w,Y);
console.log(K.slice(E,E+m));throw"e"}if(z=="mat")k=e(E,6);else if(z=="mmat")k=[M(_(E),g),e(E+6,6)];else if(z=="rect")k=e(E,4);
else if(z=="mrct"){k=e(E,4);k.push(P(E+32))}else if(z=="doub")k=i(E);else if(z=="pointArr"){var p=P(E);
k=j(E+2,p*2)}else if(z=="usrt")k=P(E);else if(z=="uint")k=_(E);else if(z=="pntr"||z=="ptr6"){k=M(_(E),g)}else if(z=="bool2"){if(P(E)!=0&&P(E)!=1)throw P(E);
k=P(E)==1}else if(z=="bool4"){if(_(E)!=0&&_(E)!=1)throw w+","+_(E);k=_(E)==1}else if(z=="color"){if(m!=38&&m!=30)throw m;
var L=_(E),N=P(E+4);k=[L];for(var y=0;y<N;y++)k.push(i(E+6+y*8))}else if(z=="path"){var gC=E+m;k=[];
var r=_(E);E+=4;for(var y=0;y<r;y++){var h=[[]];k.push(h);var l=_(E);E+=4;for(var g5=0;g5<l;g5++){var L=_(E);
E+=4;if(L<2){h[0].push([L,i(E),i(E+8),i(E+16),i(E+24),i(E+32),i(E+40)]);E+=48}else if(L==2){h[0].push([L,i(E),i(E+8)]);
E+=16}else throw L}h.push(P(E));E+=2}}else if(z=="ptrAndList"){var fm=_(E),dC=_(E+4);k=X(E+8,dC,g);k.unshift(M(fm,g))}else if(z=="ptrArray"||z=="ptrArrayX"){var ex=m>>2;
if(z=="ptrArray"){ex=_(E);E+=4;if(m!=4+ex*4)throw m}k=X(E,ex,g)}else if(z=="ptrArray2"){var ex=_(E);
E+=4;k=X(E,ex,g);E+=ex*4;ex=_(E);E+=4;k.push(X(E,ex,g))}else if(z=="cldrn"){var cR=_(E),d0=_(E+4),ex=_(E+8);
k={c:M(cR,g),wf:M(d0,g),nk:X(E+12,ex,g)};if(m!=12+ex*4){console.log(w,sa);throw"e"}if(cR==0)throw cR}else if(z=="aprnc"){var ex=_(E);
E+=4;k={};for(var y=0;y<ex;y++){var hN=_(E),ey=P(E+4),cr=P(E+6);E+=8;var ik=q[hN.toString(16)];if(ik==null)ik="prm-"+hN.toString(16);
else ik=G(ik);k[ik]=[];for(var g5=0;g5<cr;g5++){var hd=_(E),df=P(E+4),bQ=null;E+=6;if(hd==28264)bQ=i(E);
else if(hd==28263)bQ=_(E);else if(hd==279)bQ=M(_(E),g);else if(hd==28261)bQ=P(E)==1;else if(hd==28265)bQ=[i(E),i(E+4)];
else if(hd==83231)bQ=T(E+3)[0];else if(hd==28259||hd==28260||hd==23094||hd==67679){bQ=K.slice(E,E+df)}else throw hd.toString(16);
k[ik].push(bQ);E+=df}}}else if(z=="lopts"){k={a2o:P(E+0)==1,show:P(E+2)==1,acM:P(E+4)==1,M$:_(E+10),name:T(E+21)[0]}}else if(z=="origin"){var gC=E+m;
if(K[E++]!=1)throw"e";var p=_(E);E+=4;var is=R.pr(K,E,p);E+=p;if(K[E++]!=1)throw"e";var bi=K[E++];if(bi!=1&&bi!=53)throw bi;
var jX=P(E);E+=2;if(jX!=0&&jX!=1)throw jX;var eS=_(E);E+=4;if(eS!=0&&eS!=1)throw eS;var bN=_(E);E+=4;
if(bN!=0&&bN!=2&&bN!=3)throw bN;var h9=_(E);E+=4;var bz=T(E,!0);E=bz[1];bz=bz[0];var i0=_(E),hp=_(E+4);
E+=8;var hY=_(E);E+=4;if(hY!=0)throw hY;var ji=_(E);E+=4;E+=3;var aM=T(E)[0];E+=2+2+aM.length;k={file:is,id:bz,fC:aM}}else if(z=="string")k=T(E+3)[0];
else if(z=="relEnt"){var a1=P(E);E+=2;k=[];for(var y=0;y<a1;y++)k.push([_(E+y*8),M(_(E+y*8+4),g)])}else if(z=="textData"){var gC=E+m,fi=_(E);
E+=4;var hN=_(E);E+=4;var N=P(E);E+=2;var jJ=[];for(var y=0;y<N;y++){var gg=_(E);E+=4;if(fi==514)jJ.push(T(E,!0)[0]);
else if(fi==515){var iN=_(E),w=_(E+4),ad=f(E+8,g);jJ.push([iN,M(w,g),ad])}else if(fi==516){var iN=_(E),w=_(E+4),h6=P(E+8),ad=f(E+8,g);
jJ.push([iN,M(w,g),ad])}else jJ.push(K.slice(E,E+gg));E+=gg}if(gC-E!=12)throw gC-E;k=jJ}else if(z=="storyProps"){var iY=_(E);
if(P(E+4)>1)throw"e";var kh=M(_(E+6),g),N=_(E+10),gN=M(_(E+14+N*4),g);k={a17:iY,ax1:kh,nk:X(E+14,N,g),ais:gN,a5a:j(E+14+N*4+4,4)}}else if(z=="styleProps")k=f(E,g);
else if(z=="bounds"){var aT=E,a1=_(E);E+=4;k=[];for(var y=0;y<a1;y++){var iv=[];k.push(iv);for(var g5=0;
g5<4;g5++)iv.push(i(E+g5*8));E+=32;iv.push(K[E]);E++}if(E!=aT+m)throw"e"}else if(z=="columnPos"){var a1=_(E);
E+=4;k=[e(E,a1),i(E+a1*8)];E+=a1*8+8}else if(z=="StyleName"){k=[_(E+4)]}else if(z=="fontName"){var gC=E+m;
k=[P(E)];E+=2;for(var y=0;y<2;y++){var is=T(E+3);E=is[1];k.push(is[0])}k.push(_(E));E+=4;var fs=P(E);
E+=2;k.push(fs);var gm=P(E);E+=2;var g8=[];k.push(g8);for(var b_=0;b_<gm;b_++){var ko=[];g8.push(ko);
var is=T(E+3);E=is[1];ko.push(is[0]);var gk=P(E);E+=2;var is=R.pr(K,E,gk);E+=gk;ko.push(is);for(var y=0;
y<3;y++){var is=T(E+3);E=is[1];ko.push(is[0])}ko.push(_(E));E+=4;var is=T(E,!0);E=is[1];ko.push(is[0])}if(E+4!=gC)throw"e";
k.push(_(E))}else throw z;if(t[A]!=null){console.log(A,t[A],k);console.log(g.slice(0));console.log(eid,w,E,t[A],Y,k);
throw"e"}t[A]=k}else{var bx=K.slice(E,E+m);t["prop-"+w]=bx}g.pop()}function f(E,w){var V=P(E);E+=2;var t={};
for(var y=0;y<V;y++){var m=_(E);E+=4;var g=m.toString(16),Y=P(E);E+=2;var A=P(E);E+=2;for(var k=0;k<A;
k++){var z=_(E);E+=4;var p=P(E);E+=2;S(g,b,t,E,p,w);E+=p}}return t}function F(w){K=new Uint8Array(w);
o=C();var V=o[2147483649];V=R.__(V,4,V.length-4);delete o[2147483649];s=0;for(var t in o)s=Math.max(s,parseInt(t));
Q=[];var m={};for(var t in o)m[t]=o[t];for(var t in o)M(parseInt(t),[]);return o}function G(w){w=w.split(" ").join("");
return w[0].toLowerCase()+w.slice(1)}var D={"2d2":["","bool2"],"1623":["","bool2"],"2c32":["visible","bool2"],cd1f:["","bool2"],"1b8":["","bool4"],"2c2d":["locked","bool4"],"118":["","uint"],"119":["bitmap","uint"],"117":["","uint"],"117:Page:50f":["color","pntr"],"117:Fill:1f05":["parentFill","pntr"],"56c":["","uint"],bf31:["","uint"],ca58:["","uint"],cade:["","uint"],"313":["","pntr"],a6b:["trapPreset","pntr"],e02:["","pntr"],"170d":["bitmapFill","pntr"],"1b916":["","pntr"],"205":["columns","ptrAndList"],"220":["obj228","ptrAndList"],"2ab":["story","ptrArrayX"],"302":["layer","ptr6"],"21f":["rect","rect"],"27e":["","rect"],"2d6":["rect","rect"],"565":["rect","rect"],"5dd":["rect","rect"],"1633":["rect","rect"],"51a":["margins","mrct"],"151":["transform","mat"],"2de":["transform","mat"],"40d":["transform","mat"],"56e":["transform","mat"],"5cc":["transform","mat"],"140f":["mTransform","mmat"],"14527":["transform","mat"],"528":["columnPos","columnPos"],"261":["relEnt","relEnt"],"262":["textData","textData"],"15b":["children","cldrn"],"2c8":["children","cldrn"],"303":["children","cldrn"],"503":["children","cldrn"],"28dc":["children","cldrn"],"104e5":["children","cldrn"],"1b95a":["children","cldrn"],"1f01":["color","color"],"162b":["path","path"],"6e03":["appearance","aprnc"],"304":["lopts","lopts"],"2c10":["name","string"],"8c92":["origin","origin"],"3e05":["name","fontName"],"20f":["","ptrArrayX"],"210":["","ptrArrayX"],"211":["","ptrArrayX"],"222":["stories","ptrArray2"],"223":["stoProps","storyProps"],"23f":["styProps","styleProps"],"2c6b":["bounds","bounds"],"230":["name","StyleName"],"301":["layers","ptrArray"],"501":["spreads","ptrArray"],"4c01":["sections","ptrArray"],"1401":["masterSpreads","ptrArray"],a67:["","ptrArray"],"1f05":["colors","ptrArray"],"1f0c":["","ptrArray"],"1f60":["","ptrArray"],"1f61":["","ptrArray"],"288a":["","ptrArray"],"377c":["textFrames","ptrArray"],"3e06":["","ptrArray"],"1081d":["","ptrArray"]},b={"1b01":["fillColor","pntr"],"1b02":["fontStyle","string"],"1b03":["FontSize","doub"],"1b11":["FontCaps","usrt"],"1b16":["StartIndent","doub"],"1b17":["EndIndent","doub"],"1b18":["FirstLineIndent","doub"],"1b1b":["leading","doub"],"1b26":["SpaceBefore","doub"],"1b27":["SpaceAfter","doub"],"1b2a":["Underline","bool2"],"1b2b":["font","pntr"],"1b3c":["FontBaseline","usrt"],"1b3d":["Strikethrough","bool2"],"1b7e":["align","usrt"]},H={mmat:54,mat:48,mrct:34,rect:32,doub:8,ptr6:6,uint:4,pntr:4,bool4:4,bool2:2,usrt:2},q={"10816":"Object Opacity","10891":"Stroke Opacity","10892":"Stroke Blending Mode","10893":"Stroke Knockout Group","10894":"Stroke Isolate Blending","108d8":"Fill Opacity","108d9":"Fill Blending Mode","108da":"Fill Knockout Group","108db":"Fill Isolate Blending","10817":"Object Blending Mode","10818":"Object Knockout Group","10819":"Object Isolate Blending","6e64":"Stroke Swatch","6e65":"Stroke Weight","6e66":"Stroke Tint","6e6e":"Stroke Type","6e68":"Fill Swatch","6e69":"Fill Tint","6e6b":"Stroke Cap","6e6c":"Stroke Join","6e6d":"Stroke Mitre Limit","6e8c":"Stroke Align Stroke","6e71":"Stroke Start Arrrowhead","6e72":"Stroke End Arrrowhead","6e89":"Stroke Gap Color Swatch","6e8a":"Stroke Gap Tint","6e84":"Stroke Arrowhead Align","6e95":"Stroke Start Arrowhead Scale","6e96":"Stroke End Arrowhead Scale","6e8f":"Corner 1 Shape","6e6f":"Corner 2 Shape","6e90":"Corner 3 Shape","6e91":"Corner 4 Shape","6e70":"Corner 1 Size","6e92":"Corner 2 Size","6e93":"Corner 3 Size","6e94":"Corner 4 Size","1081a":"Object Drop Shadow","1081f":"Object Drop Shadow Blending Mode","10837":"Object Drop Shadow Color","10895":"Stroke Drop Shadow","10899":"Stroke Drop Shadow Blending Mode","1084d":"Object Inner Shadow","1084f":"Object Inner Shadow Blending Mode","1eb8f":"GradientFeatherSetting GradientStart","1eb8e":"GradientFeatherSetting Length","14534":"name"},O={e01:"Document","301":"RESpread","236":"REParStyle","302":"Layer","401":"Group","501":"Spread","50f":"Page","227":"Column","201":"Story","205":"Style","263":"TextFrame",a32:"Trapping","1f05":"Fill","3e03":"Font","6201":"Path",ca18:"StoryText"};
return F}();function fK(){}fK.Sg=function(){var K=0;function E(j,e){var d=jc.Sg(j),G=1;K=0;var I=d[1],v=I.spreads,n=[],C=new cS;
for(var T=0;T<v.length;T++){var o=v[T],s=o.children.nk,Q=c(o),X=s[0].children.nk,B=new cS;for(var M=0;
M<X.length;M++){var S=X[M],f=c(S);f.concat(Q);var F=x(S);F.offset(f.qW,f.Ju);F=W.p.OC(F);B=B.XN(F)}n.push(B);
C=C.XN(B)}while(Math.sqrt(C.O())*G<1e3)G++;e.b=C.b*G;e.n=C.n*G;e.buffer=new Uint8Array(4*e.b*e.n);e.zc=!0;
e.yR(v.length);for(var T=0;T<v.length;T++){var o=v[T],s=o.children.nk,D=e.EY();D.LD=24;D.add.lsct=fV.Bm;
D.yH("Artboard "+(T+1));var b=n[T].clone();b.offset(-C.x,-C.y);b.x*=G;b.y*=G;b.b*=G;b.n*=G;b=W.p.OC(b);
D.MZ(b);D.Vk="pass";e.B.push(e.NG());var Q=c(o);Q.translate(-C.x,-C.y);Q.scale(G,G);var H={};for(var q=0;
q<s.length-1;q++){var O=s[q],w=O.children.nk,V=e.EY(),t=O.layer.lopts;if(t.name=="Internal_pages_layer_name"||H[t.name])continue;
H[t.name]=!0;V.LD=24;V.add.lsct=fV.Bm;V.yH(t.name);V.g7(t.show);if(t.a2o)V.add.lspf=1<<31;V.Vk="pass";
e.B.push(e.NG());for(var y=0;y<w.length;y++)P(w[y],e,Q,d);e.B.push(V)}e.B.push(D)}}function x(j){var e=j.rect;
return new cS(e[0],e[1],e[2]-e[0],e[3]-e[1])}function c(j){var e=j.transform;return new iQ(e[0],e[1],e[2],e[3],e[4],e[5])}function J(j){var e=j.color,d=j.parentFill,v;
if(e==null&&d)e=d.color;if(e==null){console.log("strange color",j);return[0,0,0]}var I=e[0];if(I==5)v=e.slice(1);
else if(I==6)v=UDOC.C.cmykToRgb(e.slice(1));else if(I==7){var n=W.NZ(e[1],e[2],e[3]);v=[n.o/255,n.J/255,n.k/255]}else{console.log(e);
throw I}return v}function i(j,e){var y=0,d=0;while(d+j[y][0]<=e){d+=j[y][0];y++}j=j[y][1].textData;y=0;
while(d+j[y][0]<=e){d+=j[y][0];y++}return j[y]}function P(j,e,d,I){var v=j.transform?c(j):new iQ;v.concat(d);
d=v;var n=j.path,C=j.appearance,T=j.visible,o=j.children?j.children.nk:null,s=e.EY();if(T!=null)s.g7(T);
var Q=o&&o.length==1&&o[0].bitmapFill,X=j["bool2-1623"]&&o&&o.length==1&&o[0].rect&&o[0]._type.startsWith("TextFrame");
if(Q){s.yH("bitmap");var B=o[0],M=x(B),S=c(B);S.concat(d);var f=B.bitmapFill.bitmap;f=I[f]._bin;if(f.length!=f.buffer.byteLength)f=f.slice(0);
var F=e.EI(f,"img.jpg",0,0);F.LD=s.LD;s=F;var G=[0,0,M.b,0,M.b,M.n,0,M.n];W.p.u(G,S,G);s.add.SoLd.Trnf=$.Xq.K0(G);
s.add.SoLd.nonAffineTransform=$.Xq.K0(G);s.mQ(e,!1);var D=B.path;if(D&&D.length!=0)s.add.vmsk=a(D,S,C);
else if(n&&n.length!=0)s.add.vmsk=a(n,d,C);s.yt();s.DY(e)}else if(X){if(C&&C.strokeSwatch){var b=e.EY();
_(b,e,C,n,d);e.B.push(b)}var H=o[0],M=x(H),S=c(H),h=0;S.concat(d);var q=H.children.nk[0],O=q.obj228,w=O[0].story[1],V=w.stoProps.ax1.relEnt,t=w.stoProps.nk[0].relEnt,m=w.stoProps.nk[1]["ptrArrayX-210"][0].textData,g=I[V[0][1].textData[0][1].name[0]],Y=g?g.styProps:{};
m=m.join("").replace(/\r/g,"\n");var A=-1;while((A=m.indexOf("\uFFFC"))!=-1){m=m.slice(0,A)+(m[A-1]=="\n"?" ":" ")+m.slice(A+1)}s.yH(m.slice(0,255));
s.add.lnsr="rend";s.add.TySh=ev.l4(0,0);s.add.TySh.T6=M;s.add.TySh.u=S;var k=s.add.TySh.kd;ev.tW(k,0,m);
var z=ev.Jw(k,0,m.length);z.BY.FontSize=10;ev.q1(k,0,m.length,z);var p=[];if(m.length!=0){var L=i(V,0),N=i(t,0),gC=1;
for(var y=1;y<m.length;y++){var n=i(V,y),r=i(t,y);if(n!=L||r!=N){p.push(gC);gC=0}L=n;N=r;gC++}if(gC!=0)p.push(gC)}for(var y=0;
y<p.length;y++){var l=i(t,h),g5=p[y],fm=Math.min(h+g5,m.length-1),dC=l[2],ex=l[1].styProps;if(ex==null)ex={};
var cR=i(V,h),d0=cR[1].styProps,hN=cR[2],ey={};for(var cr in Y)ey[cr]=Y[cr];for(var cr in d0)ey[cr]=d0[cr];
for(var cr in hN)ey[cr]=hN[cr];for(var cr in ex)ey[cr]=ex[cr];for(var cr in dC)ey[cr]=dC[cr];var z=ev.Jw(k,h,fm),ik=["FontSize","FontCaps","Underline","Strikethrough","FontBaseline"],hd=ik.concat(["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"]);
for(var df=0;df<hd.length;df++){var cr=hd[df],bQ=df<ik.length?z.BY:z.sn;if(ey[cr]!=null)bQ[cr]=ey[cr]}if(ey.fillColor){var is=J(ey.fillColor);
z.BY.FillColor={Type:1,Values:[1].concat(is)}}if(ey.font){var bi=ey.font.name[5],jX=ey.fontStyle;if(jX==null)jX="Regular";
for(var eS=0;eS<bi.length;eS++)if(bi[eS][0]==jX)ev.H8(z,bi[eS][1])}if(ey.leading!=null&&ey.leading>1){z.BY.Leading=ey.leading;
z.BY.AutoLeading=!1}if(ey.align!=null)z.sn.Justification=[0,2,1,6,3,5,4,0,0,0][ey.align];ev.q1(k,h,fm,z);
h+=g5}ev.IT(k,1);ev.sV(k,[0,0,Math.round(M.b),Math.round(M.n)])}else if(j._type.startsWith("Path")&&(o==null||o.length==0)&&n){_(s,e,C,n,d)}else{var bN=j["prop-14526"];
if(o==null&&bN){var h9=I[R.Pc(bN,20)];o=[h9]}if(o){if(n&&n.length!=0){s.add.vmsk=a(n,d,C);s.yt();s.DY(e)}s.yH("group");
s.LD=24;s.add.lsct=fV.Bm;e.B.push(e.NG());for(var y=0;y<o.length;y++)P(o[y],e,d,I)}}if(C){var bz=C.objectBlendingMode,i0=C.objectOpacity,hp=C.fillTint;
if(bz)s.Vk="norm,mul ,scrn,over,sLit,hLit,div ,idiv,dark,lite,diff,smud,hue ,sat ,colr,lum ".split(",")[bz[0]];
if(i0)s.opacity=Math.round(s.opacity*i0[0]/100);if(!Q&&hp)s.opacity=Math.round(s.opacity*hp[0]/100)}if(j.name)s.yH(j.name);
else if(C&&C.name)s.yH(C.name[0]);e.B.push(s)}function _(j,e,d,I,v){j.yH("path");j.LD|=16;var n=j.add.vstk=JSON.parse(JSON.stringify(dz.Ae.default)),C=[0,0,0];
if(d){var T=d.strokeSwatch,o=d.fillSwatch,s=d.strokeWeight;n.strokeEnabled.v=T!=null;n.fillEnabled.v=o!=null;
if(T){n.strokeStyleLineWidth.v.val=s?s[0]:1;C=J(T[0]);n.strokeStyleContent.v.Clr.v=W.M.TD({o:C[0]*255,J:C[1]*255,k:C[2]*255})}if(o){C=J(o[0])}}j.add.SoCo={classID:"null",Clr:{t:"Objc",v:W.M.TD({o:C[0]*255,J:C[1]*255,k:C[2]*255})}};
j.add.vmsk=a(I,v,d);j.yt();j.DY(e)}function a(j,e,d){var I=new Z.Wf,v=I.i;for(var n=0;n<j.length;n++){var C=j[n],T=C[0].length,o=C[1]==0,s=o?0:3;
v.push({type:s,length:T,qX:0,Im:2,At:0,Tw:0});for(var y=0;y<T;y++){var Q=C[0][y],X=Q[0],B=new iP(Q[1],Q[2]),M=new iP(Q[3],Q[4]),S=new iP(Q[5],Q[6]);
if(X==0||X==1)v.push({type:s+2,ri:B,H:M,XK:S});else if(X==2)v.push({type:s+2,ri:B,H:B,XK:B});else throw X}}W.r.it(v,e);
return I}return E}();var aY=function(K){function E(P,_){var a=[];for(var y=0;y<9;y++){var j=R.s(P,_+y*4);
if(y%3==2)a.push((j>>>30)+(j&1073741823)/1073741823);else a.push((j>>>16)+(j&65535)/65535)}return a}function x(P,_,a,j){var e={},d=R.s,I=R.Xl;
while(_<a){var v=_,n=R.s(P,_);_+=4;var C=R.pr(P,_,4);_+=4;if(n==0)throw"e";if(n==1){n=R.$S(P,_);_+=8}var T=v+n,o="".padStart(j,"\t"),s={};
if(C=="mvhd"){var Q=P[_];if(Q!=0)throw"e";_+=4;s.atS=d(P,_);_+=4;s.ah9=d(P,_);_+=4;s.sD=d(P,_);_+=4;
s.duration=d(P,_);_+=4;s.a9r=d(P,_);_+=4;s.volume=I(P,_);_+=2;_+=10;s.a1a=E(P,_);_+=4*9;s.auv=[];for(var y=0;
y<6;y++)s.auv.push(d(P,_+y*4));_+=4*6;s.aaD=d(P,_);_+=4}else if(C=="tkhd"){var Q=P[_];if(Q!=0)throw"e";
_+=4;s.atS=d(P,_);_+=4;s.ah9=d(P,_);_+=4;s.a9F=d(P,_);_+=4;_+=4;s.duration=d(P,_);_+=4;_+=8;s.j=I(P,_);
_+=2;s.a0K=I(P,_);_+=2;s.volume=I(P,_);_+=2;_+=2;s.a1a=E(P,_);_+=4*9;s.pz=d(P,_)>>>16;_+=4;s.o4=d(P,_)>>>16;
_+=4}else if(C=="mdhd"){s.LD=d(P,_);_+=4;s.atS=d(P,_);_+=4;s.ah9=d(P,_);_+=4;s.sD=d(P,_);_+=4;s.duration=d(P,_);
_+=4;s.lang=I(P,_);_+=2;s.aJ=I(P,_);_+=2}else if(C=="stsd"){var X=d(P,_);_+=4;if(X!=0)throw X;var B=d(P,_);
_+=4;if(B!=1)throw B;var M=d(P,_);_+=4;s.kh=R.pr(P,_,4);_+=4;for(var y=0;y<6;y++)if(P[_+y]!=0)throw"e";
_+=6;s.amG=I(P,_);_+=2;s.agH=I(P,_);_+=2;s.aqn=I(P,_);_+=2;s.aub=d(P,_);_+=4;if(["mp4v","avc1","encv","s263"].indexOf(s.kh)!=-1){s.a9w=d(P,_);
_+=4;s.ajp=d(P,_);_+=4;s.aoH=[I(P,_),I(P,_+2)];_+=4;s.ajg=[d(P,_)/(1<<16),d(P,_+4)/(1<<16)];_+=8;var S=d(P,_);
_+=4;if(S!=0)throw"e";var f=I(P,_);_+=2;if(f!=1)throw"e";var F=P[_];_++;s.a0T=R.pr(P,_,F);_+=31;s.av7=I(P,_);
_+=2;var G=I(P,_);_+=2;if(G!=65535)throw"e";if(_!=T)s.aom=x(P,_,T,j+1)}else if(["mp4a","enca","samr","sawb","ec-3"].indexOf(s.kh)!=-1){s.Un=I(P,_);
_+=2;s.at7=I(P,_);_+=2;var D=I(P,_);_+=2;if(D!=0)throw D;var b=I(P,_);_+=2;if(b!=0)throw b;s.a3b=d(P,_)/(1<<16);
_+=4}else if(s.kh=="tx3g"){}else throw s.kh}else if(C=="stts"||C=="stsz"||C=="stco"||C=="stsc"||C=="ctts"){var X=d(P,_),H=0,O=0;
_+=4;if(X!=0)throw X;if(C=="stsz"){H=d(P,_);_+=4}var q=d(P,_)*(C=="stsc"?3:C=="stts"||C=="ctts"?2:1);
_+=4;s=[];for(var y=0;y<q;y++){if(H!=0)s.push(H);else{s.push(d(P,_));_+=4}}for(var y=0;y<q;y++)O+=s[y]}else if(C=="moov"||C=="trak"||C=="mdia"||C=="minf"||C=="dinf"||C=="stbl"){s=x(P,_,T,j+1)}else{s.R=_;
s.GI=n}_=T;if(C=="trak"){if(e[C]==null)e[C]=[];e[C].push(s)}else{if(e[C]!=null)throw C;e[C]=s}}return e}function c(P){var _=new Uint8Array(P);
return x(_,0,_.length,0)}function J(P,_,a){var j=i(P,_),e=j.mdia.minf.stbl,d=e.stsc,I=0,v=0;for(var y=0;
y<d.length;y+=3){var n=(y+3<d.length?d[y+3]:1e4)-d[y],C=v+n*d[y+1];if(v<=a&&a<C){while(v+d[y+1]<=a){I++;
v+=d[y+1]}break}I+=n;v=C}var T=e.stco[I];while(v<a){T+=e.stsz[v];v++}return[T,e.stsz[a]]}function i(P,_){var a=P.moov.trak;
for(var y=0;y<a.length;y++)if(a[y].tkhd.a0K==_)return a[y]}return{Sg:c,a1r:J,aoI:i}}(),$={};$.V=function(K){return window.devicePixelRatio||1};
$.q_=function(K,E){return(E.akv=="touch"?12:8)*$.V()/K.D.N};$.dC=function(K,E,x){this.name=K;this.id=E;
this.H3=null;if(x!=null)this.AX=x};$.dC.prototype.Qp=function(K,E,x,c,J){};$.dC.prototype.enable=function(K,E,x,c,J,i){var P=new i3(u.E.L,!0);
P.data={_:u.c.wA,JK:"default"};E.S(P)};$.dC.prototype.disable=function(K,E,x,c,J){};$.dC.prototype.ajS=function(K,E,x,c,J){return!1};
$.dC.prototype.zb=function(K,E,x,c,J){};$.dC.prototype.Sb=function(K,E,x,c,J){};$.dC.prototype.il=function(K,E,x,c,J){};
$.dC.prototype.N2=function(K,E,x,c,J,i){};$.dC.prototype.oG=function(K,E,x,c,J){};$.dC.prototype._G=function(K,E,x,c){};
$.dC.prototype.br=function(K,E,x,c){};$.dC.prototype.RO=function(K,E){};$.dC.prototype.Bn=function(K,E){};
$.dC.prototype.Gj=function(K,E,x,c,J){};$.dC.prototype.Q3=function(K,E){};$.dC.prototype.Xo=function(K,E){return!1};
$.dC.prototype.GT=function(K,E){return!1};$.dC.prototype.eb=function(){return!1};$.dC.prototype.XJ=function(K,E){return!0};
$.dC.prototype.B7=function(){return null};$.dC.prototype.Mp=function(K,E,x){};$.dC.prototype.auY=function(){return!1};
$.dC.prototype.ff=function(K,E,x,c){};$.dC.prototype.track=function(K){var E=new i3(u.E.Hg,!0);E.data=K;
K.Hy=!0;this.H3.S(E)};$.dC.CE=function(K,E,x,c){var J=10*$.V()*(K.akv=="touch"?2:1),i=K.x+J,P=K.y-J,_=W.uz.Vo(E.b,x.B8,c,x.b,!0),a=W.uz.Vo(E.n,x.B8,c,x.n,!0);
while(_.length<a.length)_=" "+_;while(_.length>a.length)a=" "+a;$.dC.x4(i,P,[hg.get([12,41]).charAt(0)+": "+_,hg.get([12,42]).charAt(0)+": "+a],x)};
$.dC.x4=function(K,E,x,c){function J(j,C,T,o,s,Q){j.beginPath();j.moveTo(C,T+Q);j.arcTo(C,T+s,C+Q,T+s,Q);
j.arcTo(C+o,T+s,C+o,T+s-Q,Q);j.arcTo(C+o,T,C+o-Q,T,Q);j.arcTo(C,T,C,T+Q,Q)}var i=$.V(),P=Math.round,_=P(11*i),a=$.dC.aaK,e=0;
if(a==null)a=$.dC.aaK=document.createElement("canvas");var j=a.getContext("2d");j.font=_+"px monospace";
for(var y=0;y<x.length;y++)e=Math.max(e,j.measureText(x[y]).width);var d=P(e+12*i),I=P((x.length*14+5)*i),v=new cS(K,E-I,d,I);
if(a.width!=d||a.height!=I){a.width=d;a.height=I;j.font=_+"px monospace"}j.clearRect(0,0,d,I);j.fillStyle="rgba(0,0,3,0.8)";
J(j,0,0,d,I,P(4*i));j.fill();j.fillStyle="rgba(255,255,255,1)";for(var y=0;y<x.length;y++)j.fillText(x[y],P(6*i),P((y+1)*13*i));
var n=[j.getImageData(0,0,d,I).data,v.clone()];if(c)c.I.un=[n];return n};$.dC.aaK=null;$.x3="0";$.LR="1";
$.a9B="2";$.axM="3";$.T3="5";$.aly="6";$.asM="7";$.mj="8";$.BN="9";$.pV="10";$.Y3="11";$.n8="12";$.eG="13";
$.xi="14";$.l0="16";$.Wd="18";$._g="19";$.GW="20";$.nW="21";$.CT="22";$.Xb="23";$.i8="24";$.nE="25";
$.QD="27";$.Lz="31";$.Ln="32";$.Mw="34";$.a5h="35";$.ei="36";$.Uk="37";$.Rh="38";$.o6="39";$.Tv="40";
$.qR="41";$.Lx="42";$.gx="43";$.a8C="44";$.H4="47";$.MD="48";$.Xd="51";$.OF="52";$.ef="54";$.wG="55";
$.AR="56";$.lc="57";$.Z1="58";$.ER="59";$.LE="60";$.lJ="61";$.Kg="70";$.Cy="100";$.Hq="101";$.UH="102";
$.$P="103";$.xj="120";$.mo="230";$.axD="231";$.Ww="232";$.Os="233";$.j8="234";$.AL="235";$.VP="236";
$.a4a=function(K){var E=$.I3,x=null;for(var c in E)if(E[c][1].indexOf(K[1].classID)!=-1)x=c;return x};
$.I3={};$.I3[$.Xb]=["tools/brush",["PbTl"]];$.I3[$.i8]=["tools/pencil",["PcTl"]];$.I3[$.Lz]=["tools/eraser",["ErTl"]];
$.Hj=function(K,E,x){$.dC.call(this,K,E,x);this.Ix={brush:K?jE.Ve():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,emode:0,wconf:[40,!0,!0],sall:!1,algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:0,patch:0};
this.ll=null;this.RY=null;this.EM=null;this.fV=null;this.BZ=null;this.c2=null;this.ZW=null;this.JI=null;
this.XH=null;this.wY=null;this.kp=null;this.lu=null;this.RK=null;this.Yc=1;this.e7=!1;this.BW=null;this.caller=null};
$.Hj.prototype=new $.dC;$.Hj.prototype.GT=function(K,E){return K.tj&&E.l(j6.iu)};$.Hj.prototype.Sb=function(K,E,x,c,J){if(c.l(j6.iE)){this.c2=new iP(J.x,J.y);
var i=this.Ix.brush.Brsh.v,P=i.Dmtr.v.val,_=i.Hrdn!=null?i.Hrdn.v.val:-1;this.ZW=[P,_,!0,JSON.parse(JSON.stringify(this.Ix.brush)),J];
this.vc(x)}};$.Hj.prototype.qZ=function(K,E,x){var c=this.ZW,J=K.D.N,i=x.x-c[4].x,P=x.y-c[4].y,_=c[0],a=c[1],j=Math.abs(i)>Math.abs(P);
if(j&&c[2]){var e=Math.round(2*i/J);_+=e;x.x-=i-.5*e*J}if(!j&&!c[2]&&a!=-1){var e=Math.round(.25*P);
a+=e;x.y-=P-4*e}_=Math.max(1,_);a=c[1]==-1?-1:Math.max(0,Math.min(100,a));var d=c[3];d.Brsh.v.Dmtr.v.val=_;
if(a!=-1)d.Brsh.v.Hrdn.v.val=a;this.ZW=[_,a,j,d,x];var I=bL.ap(d,E.ZR.qq,J),v=I[1];v.x=Math.round(this.c2.x-v.b/2);
v.y=Math.round(this.c2.y-v.n/2);K.I.Ie=[I];var n=K.D.gg(this.c2.x,this.c2.y);K.I.dM={Sf:[],JN:[n.x-_/2,n.y,n.x+_/2,n.y]};
if(a!=-1)K.I.dM.JN.push(n.x+50/J,n.y-a/2,n.x+50/J,n.y+a/2);K.ZI=!0};$.Hj.prototype.oG=function(K,E,x,c,J){if(this.id==$.GW||this.id==$.nW)return;
if(this.c2){this.c2=null;this.Ak(JSON.parse(JSON.stringify(this.ZW[3])));K.I.Ie=[];K.I.dM=null;K.ZI=!0;
return}var i=new i3(u.E.L,!0);i.data={_:u.c.zy,G:this.id,ayA:"showBrushOpts",hP:new iP(J.H9+4,J.HX)};
E.S(i)};$.Hj.prototype.Ak=function(K){var E=new i3(u.E.L,!0);E.data={_:u.c.Na,ry:eu.N7,BL:K};this.caller.S(E)};
$.Hj.rM=function(K,E,x,c,J,i){if(K==null)K="FrgC";if(E==null)E="norm";if(x==null)x=1;if(J==null)J=!1;
var P={classID:"Fl",Usng:{t:"enum",v:{FlCn:K}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(x*100)}},PrsT:{t:"bool",v:J},Md:{t:"enum",v:{BlnM:db.zJ(E)}}};
if(K=="Clr")P.Clr={t:"Objc",v:c};if(K=="contentAware")P.contentAwareColorAdaptationFill={t:"bool",v:!0};
if(K=="Ptrn")P.Ptrn={t:"Objc",v:i};return{va:"fill",Ks:P}};$.Hj.prototype.Qp=function(K,E,x,c,J){this.H3=E;
var i=x.N9.length;if(i==0&&!x.IC())return;var P=i!=0?-1-x.N9[0]:x.g[0],_=x.B[P];if(K._=="fromAction"){var a=K.t7,j=a.Ks;
if(j&&j.null&&j.null.v[0]&&j.null.v[0].v.classID=="Path"){var e=x.Ox(),d=e[0],I=e[1],v=d[I.length==0?0:I[0]].add.vmsk;
if(a.va=="fill"){var n=v.FA(),C=J.U9,T=this.Ix,o=C>>16&255,s=C>>8&255,Q=C>>0&255;this.Aj(x,_,n,o,s,Q,Math.round(T.opacity*255),T.bmode,"Fill Path")}else{for(var X=0;
X<1e3;X++){var B=W.r.J2(v.i,X,!0);if(B==-1){this.N2(x,E,J,c,null);break}var M=v.i[B],S=v.i.slice(B,B+1+M.length),f=W.p.P0(S,!0).C,F=f.slice(0,8);
for(var G=8;G<f.length;G+=6)F.push(f[G-2],f[G-1],f[G],f[G+1],f[G+2],f[G+3],f[G+4],f[G+5]);var D={};D.Points=F;
D.TextOnPathTRange=v.D7.slice(0);var D=dQ.zY(D,2,M.type==3),b=D[0];if(X==0)this.zb(x,E,J,c,x.D.An(b[0],b[1]));
else this.RY.moveTo(b[0],b[1]);var H=b.length,q=M.type==0?H+2:H;for(var y=2;y<q;y+=2){var O=x.D.An(b[y%H],b[(y+1)%H]);
O.tj=!0;this.il(x,E,J,c,O,this.Ix.flow)}this.RY.finish();this.oi(x)}}}else if(a.va=="fill"){var w=j.PrsT?j.PrsT.v:!1,V=_?_.add.lspf:0;
if(w&&_){_.add.lspf=V==null?1:V|1}var t=(j.Opct?j.Opct.v.val:100)/100,m=j.Md?db.qw(j.Md.v.BlnM):"norm",g=j.Usng.v.FlCn;
if(g=="contentAware"){if(x.P==null){alert("Select an area to heal first.");return}if(!x.IC())return;
this.xC(x);this.De(x,0);var Y=x.P,A=W.Q(Y.rect.O()*4);W.Mz(Y.channel,A,3);this.SU(x,"sheal",A,Y.rect,Y.rect);
this.U(x,Y.rect);this.finish(x,Y.rect)}else if(g=="Ptrn"){var k=J.$A,z=x.P?x.P.rect.clone():new cS(0,0,x.b,x.n),p=W.Q(z.O()*4);
bd.Tq(j,p,z,k,new iP(0,0));this.s6(x,_,x.P,p,"norm",[6,48,0,2])}else{var C;if(g=="FrgC")C=J.U9;else if(g=="BckC")C=J.xw;
else if(g=="Blck")C=0;else if(g=="Wht")C=16777215;else if(g=="Gry")C=8421504;else if(g=="Clr"){var L=W.M.Et(j.Clr.v);
C=L.o<<16|L.J<<8|L.k}var o=C>>16&255,s=C>>8&255,Q=C>>0&255;this.Aj(x,_,x.P,o,s,Q,Math.round(255*t),m,[2,3])}if(w&&_){_.add.lspf=V==null?0:V}}else if(a.va=="delete"){var N=P<0?1:_.kS,Y=x.P,l;
if(Y==null)return;var gC=P<0?x.Un[-P-1]:N<=0?null:N==1?_.FA():_.Xe(x).z,z=N<=0?_.rect:gC.rect,r=N<=0?Y.rect.Sl(z):Y.rect.clone();
if(r.um())return;var h=r.O();if(N<=0){l=W.Q(h*4);W.UL(_.buffer,_.rect,l,r)}else{l=W.Q(h);gC.extend(r);
W.XT(gC.channel,gC.rect,l,r)}if(0<=P&&_.nI(x,Y)){if(N<=0){W._m(l,0);W.UL(_.uE.Xt,_.uE.tG,l,r)}else{l.fill(255);
W.XT(_.uE.Xt,_.uE.tG,l,r)}}else{if(N<=0){var g5=W.Q(l.length>>2);W.Bp(l,g5,3);W.h.b7(W.im(Y.rect.O()),Y.rect,g5,r,Y.channel,r,1);
W.Mz(g5,l,3)}else{var fm=W.Q(Y.rect.O()),o=J.xw>>>16&255,s=J.xw>>8&255,Q=J.xw>>0&255;fm.fill(Math.round(W.bg(o,s,Q)));
W.h.b7(fm,Y.rect,l,r,Y.channel,r,1)}}this.Mr(x,!0,[2,2],P,N,r,l)}}if(K._=="stroke"){var dC=K.awx,Y=x.P;
if(Y==null){Y={rect:_.rect.clone(),channel:W.Q(_.rect.O())};W.Bp(_.buffer,Y.channel,3)}var ex=bd.cT(dC),cR=$.cx.a8K(Y,Math.ceil(ex[0]),Math.ceil(ex[1])),C=W.M.Et(dC.Clr.v),o=Math.round(C.o),s=Math.round(C.J),Q=Math.round(C.k);
this.Aj(x,_,cR,o,s,Q,Math.round(255*dC.Opct.v.val/100),db.qw(dC.Md.v.BlnM),[14,9])}if(K._=="fillBMP"){this.s6(x,_,x.P,K.dz,K.i0,K.vZ)}if(K._=="draw"){var d0=K.$U,hN=d0.rect;
this.xC(x);var ey=x.B[x.g[0]];if(K.a28&&ey&&ey.kS<=0&&x.N9.length==0){hN=$.rn.arh(d0,x);ey.buffer=d0.buffer.slice(0);
ey.rect=hN.clone()}else{var cr=this.Ix.bmode;this.Ix.bmode="norm";this.SU(x,"draw",d0.buffer,hN,hN.Sl(new cS(0,0,x.b,x.n)));
this.Ix.bmode=cr}this.U(x,hN);x.Xw=!0;this.finish(x,hN,K.vZ,K.a28)}};$.Hj.prototype.Aj=function(K,E,x,c,J,i,P,_,a){var j=x==null?new cS(0,0,K.b,K.n):x.rect,e=P<<24|i<<16|J<<8|c<<0,d=W.Q(j.O()*4);
W._m(d,e);this.s6(K,E,x,d,_,a)};$.Hj.prototype.s6=function(K,E,x,c,J,i){var P=K.N9.length!=0?-1-K.N9[0]:K.g[0],_=P<0?1:E.kS,a=P<0?K.Un[-1-P]:_<=0?null:_==1?E.FA():E.Xe(K).z,j=_<=0?E.rect:a.rect,e=x==null?new cS(0,0,K.b,K.n):x.rect,d=x==null?W.bY(K.b*K.n):x.channel;
if(x!=null)W.Z4(d,c);var I=e.O(),v=W.Q(I*4);if(_<=0)W.UL(E.buffer,E.rect,v,e);else{a.extend(e);v.fill(255);
W.eE(a.mB(e),v)}if(0<=P&&x&&E.nI(K,x)&&_<=0){var n=E.uE.y3,C=E.uE.y3.slice(0);if(_<=0)W.dq(c,C);else W.dq(fullc,C);
var T=new im([2,3],this);T.data={_:"drawtemp",j:K.g[0],s4:_,apZ:n,aiC:C};K.i1(T);this.RO(T.data,K)}else{if(_<=0){var o;
if(E.M0(0)){o=W.Q(e.O());W.Bp(v,o,3)}W.h.Nh(J,c,e,v,e,e,1);if(E.M0(0))W.Mz(o,v,3)}else{W.h.Nh(J,c,e,v,e,e,1);
var s=W.Q(I);W.KZ(v,s);v=s}this.Mr(K,!0,i,P,_,e,v)}};$.Hj.prototype.Xo=function(K){if(j6.Bg.indexOf(K)!=-1)return!0;
return!1};$.Hj.prototype._G=function(K,E,x,c){var J=this.Ix.brush,i=c.l(j6.iE),P=i!=this.e7,_=$.Hj.f3(J,c);
if(_!=null)this.Ak(_);if(!c.l(j6.Se)&&c.VF()!=-1){var a=j6.uZ(Math.round(this.Ix.opacity*100),c.VF())/100;
this.qB({opacity:a},E)}if(this.id==$.mj&&P&&K!=null){var j=this.Ix.qsmode;if(j==2)j=K.P==null?0:1;else j=2;
this.qB({qsmode:j},E)}this.e7=i;if(P){if(K)this.Yc=K.D.N;this.vc(x,c)}};$.Hj.f3=function(K,E){var x=K.Brsh.v.Dmtr.v.val,c=K.Brsh.v.Hrdn!=null?K.Brsh.v.Hrdn.v.val:-1,J=x,i=c,P=E.l(j6.iu);
if(E.l(j6.tz)){if(P)c=25*Math.floor((c-1)/25);else{if(x<=10)x--;else if(x<=50)x=5*Math.floor((x-1)/5);
else if(x<=100)x=10*Math.floor((x-1)/10);else if(x<=200)x=25*Math.floor((x-1)/25);else if(x<=400)x=50*Math.floor((x-1)/50);
else x=100*Math.floor((x-1)/100)}}if(E.l(j6.fl)){if(P)c=25*Math.ceil((c+1)/25);else{if(x<10)x++;else if(x<50)x=5*Math.ceil((x+1)/5);
else if(x<100)x=10*Math.ceil((x+1)/10);else if(x<200)x=25*Math.ceil((x+1)/25);else if(x<400)x=50*Math.ceil((x+1)/50);
else x=100*Math.ceil((x+1)/100)}}x=Math.max(1,x);c=Math.max(0,Math.min(100,c));if(i==-1)c=-1;if(x!=J||c!=i){var _=JSON.parse(JSON.stringify(K));
_.Brsh.v.Dmtr.v.val=x;if(i!=-1)_.Brsh.v.Hrdn.v.val=c;return _}return null};$.Hj.prototype.vc=function(K,E,x,c){if(K.ZR.list.length==0)return;
var J=this.id,i;if((J==$.QD||J==$._g||J==$.Xb||J==$.i8)&&(E!=null&&E.l(j6.iE)||this.Ix.alt[0]))i="crosshair";
else{var P=this.Yc,_=this.Ix.brush;if((J==$.QD||J==$._g)&&x&&this.lu&&this.lu.length==this.kp.O()*4){var a=x.D.gg(c.x,c.y),j=this.a0y(a),e=this.lu,d=this.kp,I=new cS(d.x+j.x,d.y+j.y,d.b,d.n),v=bL.ap(_,K.ZR.qq,P),n=v[0],C=v[1],T=Math.ceil(C.b/P),o=new cS(Math.round(a.x-T/2),Math.round(a.y-T/2),T,T),s=W.Q(o.O()*4),Q,X;
W.UL(e,I,s,o);if(P==1){Q=s;X=o}else{var B=new iQ(P,0,0,P,0,0),M=$.Xq.iH([s,o],B,!0);X=C.clone();X.x=M.rect.x;
X.y=M.rect.y;if(X.ac(M.rect))Q=M.buffer;else{Q=W.Q(X.O()*4);W.UL(M.buffer,M.rect,Q,X)}}var S=this.Ix.opacity/255;
for(var y=0;y<Q.length;y+=4)Q[y+3]=S*(n[y+3]*Q[y+3]);bL.a3A(new Uint32Array(Q.buffer),X,4278190080,4294967295);
i={Dr:Q,ZE:X,mJ:new iP(X.b/2,X.n/2)}}else i=bL.YL(_,K.ZR.qq,P,J==$.nE||J==$.Ln)}var f=new i3(u.E.L,!0);
f.data={_:u.c.wA,JK:i};if(this.caller)this.caller.S(f)};$.Hj.prototype.enable=function(K,E,x,c){this.ll=x;
this.caller=E;this.Ak(JSON.parse(JSON.stringify(this.Ix.brush)));if(K&&K.D.N!=0)this.Yc=K.D.N;this.vc(x,c)};
$.Hj.prototype.Q3=function(K,E){if(E==eu.N7){this.Ix.brush=K.ZR.Ad;this.vc(K)}};$.Hj.prototype.Gj=function(K,E,x,c,J){for(var i in K)this.Ix[i]=K[i];
if(this.Ix.alt[0])this.vc(J,c,x)};$.Hj.prototype.anf=function(K){var E=K.N9.length!=0?-1-K.N9[0]:K.g[0],x=K.B[E],c=E<0?1:x.kS,J=E<0?K.Un[-E-1]:c<=0?null:c==1?x.FA():x.Xe(K).z,i=J?J.channel:x.buffer,P=(J?J.rect:x.rect).clone();
return[x,c,J,i,P]};$.Hj.prototype.xC=function(K,E){this.RK=K.P==null?null:{rect:K.P.rect.clone(),channel:K.P.channel.slice(0)};
var x=this.anf(K),c=x[0],J=x[1],i=x[2];this.wY=x[3];this.XH=x[4];var P=new cS(0,0,K.b,K.n),_=P.XN(this.XH);
if((this.VH()&&J<=0||_.ac(this.XH))&&E!=!0)this.wY=this.wY.slice(0);else{if(i)i.extend(_);else c.extend(_)}};
$.Hj.prototype.De=function(K,E){var x=this.anf(K),c=x[1],J=x[3],i=x[4],P=[J,i],_=E!=null?E:this.Ix.sfrom;
if(c<=0&&_!=0){P[1]=new cS(0,0,K.b,K.n);P[0]=K.S7(_==1&&K.g[0]!=K.B.length-1?K.g[0]:null).slice(0)}this.kp=P[1].clone();
this.lu=P[0].slice(0)};$.Hj.prototype.n0=function(K,E,x){if(K.l(j6.iE)){var c=new i3(u.E.v,!0);c.G=$.xi;
c.data={_:"pickhere",adp:x};E.S(c);return!0}return!1};$.Hj.prototype.WW=function(K,E,x,c,J,i){if(this.id!=$.mj&&!K.IC(this.caller)){this.RY=null;
return}if(this.id!=$.mj&&this.RY)return;this.xC(K);var P=new cS(0,0,K.b,K.n),_=null;if(i!=null){var a=K.N9.length!=0?-1-K.N9[0]:K.g[0],j=K.B[a],e=a<0?K.Un[-a-1]:j.kS<=0?null:j.kS==1?j.FA():j.Xe(K).z;
_=W.Q(P.O()*4);if(e)$.Hj.A_(this.wY,this.XH,e.color,_,P);else W.UL(this.wY,this.XH,_,P)}var d=this.Ix;
if(this.RY&&this.id==$.mj&&d.qsmode!=0&&K.P!=null){}else{var I=E.U9,v=E.xw;if(this.BW=="erase"){var n=I;
I=v;v=n}var C=this.id==$.mj?this.XH:P;this.RY=new bL(d.brush,E.ZR.qq,E.ZR.V8,{S5:J,fO:i,a4O:d.smth*50/K.D.N,XF:this.id==$.i8||d.emode==1,W3:K.W3},I,v,C,_)}if(this.id==$.mj){this.RY.agU(d.brush,d.qsmode==2?0:16777215)}var T=K.D.gg(c.x,c.y);
if(x.l(j6.iu)&&this.EM){var o=this.EM;this.RY.moveTo(o.x,o.y,c.Fe);this.RY.lineTo(.001*o.x+.999*T.x,.001*o.y+.999*T.y,c.Fe);
this.RY.lineTo(T.x,T.y,c.Fe)}else this.RY.moveTo(T.x,T.y,c.Fe);this.EM=T;this.fV=T.clone();this.BZ=new c$(T,K.D.Zm)};
$.Hj.prototype.Dz=function(K,E,x){if(K&&K.D.N!=0&&K.D.N!=this.Yc){this.Yc=K.D.N;this.vc(x)}};$.Hj.prototype.EC=function(K,E,x,c){if(this.RY==null)return;
var J=K.B[K.g[0]],i=K.D.gg(c.x,c.y),P=this.BZ.bW(i,x);if(P.ac(this.EM))return 1;this.RY.lineTo(P.x,P.y,c.Fe);
this.EM=P;if(this.id==$.QD||this.id==$._g){var _=this.Ev(),a=11;_=K.D.An(i.x-_.x,i.y-_.y);var j=a>>>1,e=new cS(Math.round(_.x)-j,Math.round(_.y)-j,a,a),d=W.Q(e.O()*4);
W._m(16777215);for(var y=0;y<a;y++)d[(y*a+j)*4+3]=d[(a*j+y)*4+3]=255;K.I.un=[[d,e]];K.ZI=!0}};$.Hj.prototype.br=function(K,E,x,c){if(x.OI!=this.id)return;
if(this.id!=$.mj||K==null)return;if(K.P==null||K.g[0]!=this.a3m){this.a3m=K.g[0];this.qB({qsmode:0},E)}};
$.Hj.prototype.U=function(K,E){if(K.N9.length!=0){K.ZI=!0;return}var x=K.B[K.g[0]];if(E==null){E=this.RY.kq();
if(this.VH()&&x.kS<=0)E=E.Sl(this.XH)}var c=x.kS;if(c==1||c==3){var J=Math.round((c==1?x.FA():x.Xe(K).z).Zs*2.4);
E=E.clone();E.r1(J,J)}if(E.um())return;if(c<=0){x.U(E)}if(c==1){x.FA().I_=!0;x.DY(K,E)}if(c==3){x.U(E)}K.U(K.root.Vw(E,K,K.g[0],!0))};
$.Hj.prototype.N2=function(K,E,x,c,J){if(this.RY==null)return;this.RY.finish();if(this.id!=$.Wd&&this.id!=$._g&&this.id!=$.mj)this.oi(K);
if(this.id==$.QD||this.id==$._g){K.I.un=[];K.ZI=!0}if(this.id==$.mj){var i=K.P;K.P=this.RK;var P=new i3(u.E.v,!0);
P.data={_:"setsel",vZ:this.name,P:i};P.G=$.LR;E.S(P);if(this.Ix.qsmode==0)this.qB({qsmode:1},E)}else{this.finish(K,this.RY.D2());
this.RY=null;this.JI=null}this.dir=0};$.Hj.prototype.qB=function(K,E){for(var x in K)this.Ix[x]=K[x];
var c=new i3(u.E.L,!0);c.data={_:u.c.zy,G:this.id,QN:K};E.S(c)};$.Hj.prototype.VH=function(){var K=this.id;
return K==$.mj||K==$.Lz||K==$.o6||K==$.Tv||K==$.qR||K==$.CT};$.Hj.prototype.finish=function(K,E,x,c,J){var i=K.N9.length!=0?-1-K.N9[0]:K.g[0],P=K.B[i],_=i<0?1:P.kS,a=i<0?K.Un[-i-1]:_<=0?null:_==1?P.FA():P.Xe(K).z,j=a?a.rect:P.rect,I;
if(this.VH()||!j.ac(this.XH)){if(a==null){if(this.VH())P.oo();else{var e=E.XN(this.XH),d=W.Q(e.O()*4);
W.UL(P.buffer,P.rect,d,e);P.buffer=d;P.rect=e}}else a.oo();this.U(K,j)}if(_<=0){I=W.Q(E.O()*4);W.UL(this.wY,this.XH,I,E)}else{I=W.Q(E.O());
I.fill(a.color);W.XT(this.wY,this.XH,I,E)}this.Mr(K,!1,x?x:this.name,i,_,E,I,c,J)};$.Hj.prototype.Mr=function(K,E,x,c,J,i,P,_,a){var j=P;
if(J>0){j=W.Q(i.O()*4);$.Hj.A_(P,i,0,j,i)}var e=new im(x,this);e.data=[{j:c,s4:J,ZE:i,AJ:j}];if(_)e.data.vt=[K.P,null];
if(a)e.data.vt=[this.RK,K.P];K.i1(e);if(E)this.RO(e.data,K);else if(_)K.P=null;$.Yq.a7v(K,e.data)};$.Hj.prototype.Bn=function(K,E){this.a4V(K,E,!1)};
$.Hj.prototype.RO=function(K,E){this.a4V(K,E,!0)};$.Hj.prototype.a4V=function(K,E,x){if(K._=="drawtemp"){var c=x?K.aiC:K.apZ,J=E.B[K.j];
J.uE.y3=c;J.vg(E,0,0,E.P);J.U();E.Xw=!0}else{$.Yq.E4(E,K);if(K.vt){E.P=K.vt[x?1:0];E.zF=!0}}E.U()};$.Hj.prototype.oi=function(K){this.SU(K,this.BW,this.RY.fe(),this.RY.ZS(),this.RY.kq());
this.U(K)};$.Hj.prototype.SU=function(K,E,x,c,J){var i=this.Ix,P=K.B[K.g[0]],_=K.N9.length!=0?K.Un[K.N9[0]]:P.kS<=0?null:P.kS==1?P.FA():P.Xe(K).z,a=W.Q(J.O()*4),j,e=P.M0(0);
if(_==null){if(this.id==$.nW&&E=="heal")W.UL(P.buffer,P.rect,a,J);else W.UL(this.wY,this.XH,a,J);if(e){j=W.Q(J.O());
W.Bp(a,j,3)}}else{$.Hj.A_(this.wY,this.XH,_.color,a,J)}if(K.P&&E!="qselect"){var d=J.Sl(K.P.rect),I=W.Q(d.O()*4);
if(E=="copy"){var v=W.Q(d.O());W.XT(K.P.channel,K.P.rect,v,d);W.UL(a,J,I,d);W.h.bG(x,c,I,d,v,d,0,d,1,!1)}else{W.UL(x,c,I,d);
W.x9(K.P.channel,K.P.rect,I,d)}x=I;c=d}function n(o,hN){var cr=Math.max(hN.x,Math.min(hN.x+hN.b-1,o.x)),ik=Math.max(hN.y,Math.min(hN.y+hN.n-1,o.y));
return new iP(cr,ik)}if(E=="idraw"||E=="ierase"){if(this.JI==null)this.JI=W.Q(this.XH.O());var C=this.Ix.samp,T=this.ll.xw,o=n(this.EM,J),s=C==0?o:this.fV,Q=s.x,X=s.y,B=$.Mh.Gy(this.wY,this.XH,[s,new iP(Q-2,X),new iP(Q+2,X),new iP(Q,X-2),new iP(Q,X+2)]);
if(C==2)B=[[T>>>16&255,T>>>8&255,T>>>0&255,255]];var M=$.Mh.Wc(a,J,o,B,this.Ix.wconf),S=W.Q(J.O());W.XT(this.JI,this.XH,S,J);
W.Oh.XN(M,S,S);W.XT(S,J,this.JI,this.XH);W.x9(S,J,x,c);E=E.slice(1)}if(E=="erase"&&($.Yq.ahB(K)!=16777215||_))E="draw";
if(E=="draw")W.h.Nh(i.bmode,x,c,a,J,J,i.opacity);else if(E=="erase"){var f=W.Q(J.O()*4);W.UL(x,c,f,J);
if(_==null){var F=W.Q(J.O());W.Bp(f,F,3);W.mz(F,i.opacity);W.Pa(F);W.x9(F,J,a,J)}else{W._m(f,0,4278190080);
W.h.Nh("norm",f,J,a,J,J,i.opacity)}}else if(E=="clone"||E=="heal"){var G=this.Ev(),D=this.kp.clone();
D.offset(G.x,G.y);var b=J.clone();b.r1(1,1);var H=W.Q(b.O()*4),q=W.Q(b.O());W.UL(x,c,H,b);W.Bp(H,q,3);
W._m(H,0);if(_==null){W.UL(this.lu,D,H,b);var O=W.Q(b.O());W.Bp(H,O,3);W.iO(O,q)}else $.Hj.A_(this.lu,D,_.color,H,b);
if(E=="clone"){W.Mz(q,H,3);W.h.Nh(i.bmode,H,b,a,J,J,i.opacity)}if(E=="heal"){var w=q.slice(0);W.round(w,20);
var V=W.Q(b.O()*4);if(_==null)W.UL(this.wY,this.XH,V,b);else $.Hj.A_(this.wY,this.XH,_.color,V,b);W.h.bG(H,b,V,b,w,b,0,b,1,!1);
W.eT.je(V,w,b);W.h.bG(V,b,a,J,q,b,0,J,1,!1)}}else if(E=="dodge"||E=="burn"){var H=W.Q(J.O()*4),g=1,Y=0,A=0,k=0;
W.UL(x,c,H,J);var t=J.O()*4,m=$.Hj.u9;if(this.e7){if(E=="dodge")E="burn";else E="dodge"}var z=i.rng;
if(E=="dodge"){Y=[1-g/2,1,1+g][z];A=[1,1/(1+g),1][z];k=[g/2,0,0][z]}if(E=="burn"){Y=[1/(1-g/2),1,1-g/2][z];
A=[1,1+g,1][z];k=[-(g/2)/(1-g/2),0,0][z]}for(var y=0;y<t;y+=4){var p=H[y+3];a[y+0]=m(a[y+0],Y,A,k,p);
a[y+1]=m(a[y+1],Y,A,k,p);a[y+2]=m(a[y+2],Y,A,k,p)}}else if(E=="sponge"||E=="redeye"){var H=W.Q(J.O()*4),q=W.Q(J.O());
W.UL(x,c,H,J);W.Bp(H,q,3);W.dq(a,H);var L=i.smode;if(this.e7)L=1-L;var N=dJ.JQ("hue2");if(E=="sponge")c7.l2(N,0,[0,[-50,46][L],[6,5][L]]);
else c7.l2(N,1,{zN:[265,305,25,55],nR:[0,-90,-70]});var gC=c2.We("hue2",N);c2.as(gC,H,H,J);W.h.bG(H,J,a,J,q,J,0,J,1,!1)}else if(E=="copy")W.UL(x,c,a,J);
else if(E=="sheal"){var H=W.Q(J.O()*4),q=W.Q(J.O());W.UL(x,c,H,J);W.Bp(H,q,3);H.fill(0);var r=this.lu,h=this.kp;
if(_){r=W.Q(h.O()*4);$.Hj.A_(this.lu,h,0,r,h)}var l=W.aR.je(r,h,q,H,J);if(l!=0)W.UL(r,h,H,J);if(this.Ix.sfrom==0)W.UL(H,J,a,J);
else{W.UL(this.wY,this.XH,a,J);W.Mz(q,H,3);W.h.Nh("norm",H,J,a,J,J,1)}}else if(E=="qselect"){var g5=this.XH,fm=g5.b,dC=g5.n,ex=fm*dC,cR=this.RY.fe(),B=this.wY,d0=$.cx.DH,q=d0.vP;
q.fill(128);for(var y=0;y<ex;y++){var hN=cR[y<<2],ey=cR[(y<<2)+3];if(ey==255&&(hN==0||hN==255))q[y]=hN}q[0]=q[fm-1]=0;
q[(dC>>>1)*fm]=q[(dC>>>1)*fm+fm-1]=0;$.ru.Wn(d0,!0);K.P={rect:g5,channel:d0.P.slice(0)};K.zF=!0}if(_==null){if(e)W.Mz(j,a,3);
W.UL(a,J,P.buffer,P.rect)}else $.Hj.tM(a,J,_)};$.Hj.Ev=function(){return null};$.Hj.u9=function(K,E,x,c,J){var i=K*(1/255),P=c+E*Math.pow(i,x),_=Math.round(P*J+i*(255-J));
return Math.max(0,Math.min(255,_))};$.Hj.A_=function(K,E,x,c,J){var i=W.Q(J.O());i.fill(x);W.XT(K,E,i,J);
c.fill(255);W.eE(i,c)};$.Hj.tM=function(K,E,x){var c=W.Q(E.O());W.KZ(K,c);W.XT(c,E,x.channel,x.rect)};
$.cx=function(K,E,x){$.dC.call(this,K,E,x);this.Ix={binop:0,feat:0,cstr:{kt:0,x:3,y:2},wconf:[16,!0,!0],anta:!0,sall:!1};
this.yy=new iP(-1,-1);this.vw=new iP(-1,-1);this.h9="default";this.H3=null;this.da=!1;this.i7=new eA;
this.Td=!1;this.dp=null;this.Pu=null;this.rl=!1;this.FO=!1};$.cx.prototype=new $.dC;$.cx.prototype.a6U=function(){var K=this.Ix,E=[K.binop,K.feat];
if(this.id==$.BN)E.push(K.wconf);return E};$.cx.prototype.al9=function(K,E,x){var c=this.Ix;c.binop=K[0];
c.feat=K[1];c.wconf=K[2];this.WB(x)};$.cx.prototype.WB=function(K){var E=new i3(u.E.L,!0);E.data={_:u.c.zy,G:this.id,Ix:this.Ix};
K.S(E)};$.cx.DH={key:""};$.cx.Nw=function(K,E,x){var c={va:K,Ks:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(E)c.Ks.T=E;if(x!=null)c.Ks.AntA={t:"bool",v:x};return c};$.cx.$G=function(K,E,x){return $.cx.Nw("set",{t:"Objc",v:{classID:K,Top:{t:"UntF",v:{type:"#Pxl",val:E.y}},Left:{t:"UntF",v:{type:"#Pxl",val:E.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:E.y+E.n}},Rght:{t:"UntF",v:{type:"#Pxl",val:E.x+E.b}}}},x)};
$.cx.YC=function(K,E,x){var c=[],J=[],P="set";for(var y=0;y<K.length;y+=2){c.push(K[y]);J.push(K[y+1])}var i={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:c},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:J}]}}}};
if(E)P=["set","addTo","subtractFrom","interfaceWhite"][E];return $.cx.Nw(P,i,x)};$.cx.aoi=function(K,E,x){var c={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:K.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:K.y}}}},J=$.cx.Nw("set",c);
J.Ks.Tlrn={t:"long",v:E[0]};J.Ks.AntA={t:"bool",v:E[1]};J.Ks.Cntg={t:"bool",v:E[2]};if(x==!0)J.Ks.Mrgd={t:"bool",v:x};
return J};$.cx.HI=function(K){return $.cx.Nw("set",{t:"enum",v:{Ordn:K?"Al":"None"}})};$.cx.zn=function(K,E,x){var c={classID:"null"};
if(K!="border")c.selectionModifyEffectAtCanvasBounds={t:"bool",v:x};var J={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[K[0]];
c[J]={t:"UntF",v:{type:"#Pxl",val:E}};return{va:K,Ks:c}};$.cx.alV=function(K,E,x){var c={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},J={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:E}}]};
if(x)J.v.push({t:"name",v:{classID:"Lyr",val:x}});var i=[{classID:"null",null:c,T:J},{classID:"null",null:J,T:c},{classID:"null",null:J,From:c},{classID:"null",null:J,With:c}],P=["set","add","subtract","interfaceIconFrameDimmed"];
return{va:P[K],Ks:i[K]}};$.cx.aq1=function(K,E){var x=new i3(u.E.L,!0);x.data={_:u.c.Na,ry:eu.s3};if(!E.R9)K.S(x);
x.data={_:u.c.Na,ry:eu.Sa};if(!E.Vp.hO)K.S(x)};$.cx.prototype.Qp=function(K,E,x,c,J){$.cx.aq1(E,J);this.H3=E;
var i=K._,P,_,a=new cS(0,0,x.b,x.n),gg=!1,iN,h6,iY,kh;if(i=="fromAction"){var j=K.t7,e=j.va,d=j.Ks,I=d?d.selectionModifyEffectAtCanvasBounds:null,v=I&&I.v;
if(e=="colorRange"){if(d.Clrs){var n=d.Clrs.v.Clrs,C=0,T=255,o=["Shdw","Mdtn","Hghl"].indexOf(n),B=.4;
if(o==0)T=60;else if(o==1){C=100;T=150}else C=190;var s=["shadows","midtones","highlights"][o],Q=d[s+"LowerLimit"],X=d[s+"UpperLimit"];
if(Q)C=Q.v;if(X)T=X.v;var M=d[s+"Fuzziness"];if(M)B=M.v/100;P=$.cx.JJ(x,C,T,B,!0)}else{var C=d.Mnm.v,T=d.Mxm.v,B;
C={sm:C.Lmnc.v,Cc:C.A.v,k:C.B.v};T={sm:T.Lmnc.v,Cc:T.A.v,k:T.B.v};B=d.Fzns.v/200;P=$.cx.JJ(x,C,T,B)}_=[7,8]}else if(e=="inverse"){if(x.P==null){alert("No selection!");
return}P={channel:W.Q(a.O()),rect:a};W.XT(x.P.channel,x.P.rect,P.channel,P.rect);W.Pa(P.channel);_=[7,2]}else if(e=="expand"){var S=d.By.v.val,f=x.P.rect.clone();
f.r1(S,S);var F=W.Q(f.O()),G=W.Q(f.O());W.XT(x.P.channel,x.P.rect,G,f);W.style.stroke(G,F,f,S);P={channel:F,rect:f};
_=[7,4]}else if(e=="contract"){var S=d.By.v.val,D=x.P.rect.clone();D.r1(1,1);if(!v)D=D.Sl(a);var G=W.Q(D.O()),b=W.Q(G.length);
W.XT(x.P.channel,x.P.rect,G,D);W.Pa(G);W.style.stroke(G,b,D,S);W.Pa(b);P={channel:b,rect:D};W.oo(P);
_=[7,5]}else if(e=="border"){var S=d.Wdth.v.val;P=$.cx.a8K(x.P,S/2,S/2);_=[7,9]}else if(e=="feather"||e=="smoothness"){var S=d.Rds.v.val;
P=$.cx.auX(x.P,S,e=="smoothness",a,v);_=e=="feather"?[7,6]:[19,3,0]}else if(e=="move"){var H=d.T.v,f=x.P.rect.clone();
f.x+=H.Hrzn.v.val;f.y+=H.Vrtc.v.val;P={channel:x.P.channel,rect:f};_=[7,7]}else if(e=="grow"||e=="similar"){var q=this.Ix.wconf.slice(0);
if(d.Tlrn)q[0]=d.Tlrn.v;q[2]=e=="grow";var O=x.S7(),w=new cS(0,0,x.b,x.n),V=x.P.rect,t=Math.round(Math.sqrt(V.O())/10),m=W.Q(w.O());
W.XT(x.P.channel,V,m,w);var g=[];for(var Y=0;Y<V.n;Y+=t)for(var A=(V.O()+Y)%t;A<V.b;A+=t)if(x.P.channel[Y*V.b+A]==255){var k=new iP(V.x+A,V.y+Y);
g.push(k);if(q[2])W.Oh.XN($.Mh.Wc(O,w,k,null,q),m,m)}if(!q[2])W.Oh.XN($.Mh.Wc(O,w,k,$.Mh.Gy(O,w,g),q),m,m);
P={channel:m,rect:w};_=e=="grow"?"Grow Selection":"Similar Selection";console.log(d)}else{var z=d.null.v,p=d.AntA!=null&&d.AntA.v;
function L(iS){var hl=iS.Top.v.val,iv=iS.Left.v.val;return new cS(iv,hl,iS.Rght.v.val-iv,iS.Btom.v.val-hl)}function N(iS){var hl=iS[0].arr,jR=iS[1].arr,jC={C:[],W:[]};
for(var y=0;y<hl.length;y++){jC.W.push(y==0?"M":"L");jC.C.push(hl[y],jR[y])}jC.W.push("Z");return jC}var gC=["set","addTo","subtractFrom","interfaceWhite"].indexOf(e),r=d.T?d.T.v:null;
if(r&&r.classID=="Elps"){P=this.agu($.nV.alG(L(r)));_=[10,4]}else if(r&&r.classID=="Rctn"){var h=L(r);
P={channel:W.Q(h.O()),rect:h.clone()};P.channel.fill(255);_=[10,15]}else if(r&&r.classID=="ObSl"){var h=L(r),l=$.cx.DH,g5=l.rect,fm=l.vP,dC=g5.b,ex=g5.n,cR=h.x-g5.x,d0=cR+h.b-1,hN=Math.max(cR,Math.min(d0,cR+d0>>>1)),ey=h.y-g5.y,cr=ey+h.n-1,ik=Math.max(ey,Math.min(cr,ey+cr>>>1)),hd=Math.max(cR,0),df=Math.min(d0,dC),bQ=Math.max(ey,0),is=Math.min(cr,ex);
fm.fill(128);if(0<=ey)for(var A=hd;A<df;A++)fm[ey*dC+A]=0;if(cr<ex)for(var A=hd;A<df;A++)fm[cr*dC+A]=0;
if(0<=cR)for(var Y=bQ;Y<is;Y++)fm[Y*dC+cR]=0;if(d0<dC)for(var Y=bQ;Y<is;Y++)fm[Y*dC+d0]=0;var bi=$.pD.aiN,jX=Math.round(h.b*bi),eS=Math.round(h.n*bi);
for(var A=Math.max(0,hN-jX);A<Math.min(dC,hN+jX);A++)fm[ik*dC+A]=255;for(var Y=Math.max(0,ik-eS);Y<Math.min(ex,ik+eS);
Y++)fm[Y*dC+hN]=255;$.ru.Wn(l,!0);P={channel:l.P.slice(0),rect:g5.clone()};_=[10,44]}else if(r&&r.classID=="Plgn"){P=this.agu(N(r.Pts.v.arr));
_=[10,9]}else if(r&&r.classID=="Pnt"){P=$.Mh.ali(x,new iP(r.Hrzn.v.val,r.Vrtc.v.val),[d.Tlrn.v,p,d.Cntg==null||d.Cntg.v],d.Mrgd?d.Mrgd.v:!1);
_=[10,12]}else if(r&&r.Ordn=="None"){P=null;_=[7,1]}else if(r&&r.Ordn=="Al"){var bN=a;if(x.g.length!=0){var h9=x.root.R7(x.g[0]);
while(h9.parent&&h9.parent.parent)h9=h9.parent;if(h9.j.add.artb)bN=h9.j.IZ()}P={channel:W.Q(bN.O()),rect:bN};
P.channel.fill(255);_=[7,0]}else if(r&&r[0]&&r[0].v.keyID=="WrPt"){var bz={_:"frompath",WX:[-1,0,0]};
this.Qp(bz,E,x,c,J);return}else{var i0=["set","add","subtract","interfaceIconFrameDimmed"].indexOf(e),hp=e=="set"?r:z,hY=hp[0].v.enum,bz;
if(hY=="Trsp"||hY=="Msk"||hY=="vectorMask"||hY=="Trgt"){var ji=x.g[0];if(hp.length==2)ji=b$.zz(x,hp[1]);
var aM=["Trsp","Msk","vectorMask"].indexOf(hY);if(hY=="Trgt"&&x.B[ji].kS==1)aM=1;bz={_:"fromlayer",WX:[ji,aM,i0]}}else{if(hp[0].t=="name"){var ji=0;
for(var y=0;y<x.Un.length;y++)if(x.Un[y].name==hp[0].v.val)ji=y;bz={_:"fromchannel",WX:[-5-ji,0,i0]}}else{var a1=["RGB","Rd","Grn","Bl"].indexOf(hY);
bz={_:"fromchannel",WX:[-1-a1,0,i0]}}}this.Qp(bz,E,x,c,J);return}if(P){if(!p)W.round(P.channel);if(d.Fthr)P=$.cx.auX(P,d.Fthr.v.val,!1);
if(e!="set"&&x.P!=null)P=W.Oh.qm(P,x.P,gC)}}if(e=="expand"||e=="contract")if(!v&&!a.contains(P.rect)){var fi=P.rect.Sl(a),jJ=W.Q(fi.O());
W.XT(P.channel,P.rect,jJ,fi);P.channel=jJ;P.rect=fi}}if(i=="qmask"){gg=!0;var gN=x.nZ(),w=new cS(0,0,x.b,x.n);
if(gN){P=gN.rect.ac(w)&&W.SN(gN.channel,255)?null:{rect:gN.rect.clone(),channel:gN.channel.slice(0)};
iN=gN}else{P=null;h6=new Z.vW;h6.color=0;h6.name="Quick Mask";h6.U1=!0;if(x.P){h6.rect=x.P.rect.clone();
h6.channel=x.P.channel.slice(0)}else{h6.rect=w;h6.channel=W.Q(h6.rect.O());h6.channel.fill(255)}}_=[6,6,1];
x.Xw=!0}if(i=="setsel"){P=K.P;_=K.vZ}if(i=="crange"){var C=K.Ya,T=K.n$;P=$.cx.JJ(x,C,T,K.zq);_=[7,8]}if(i=="fromlayer"||i=="fromchannel"||i=="frompath"){var aT=K.WX[0],aM=K.WX[1],gC=K.WX[2];
if(i=="fromlayer"){if(aT==null)aT=x.g[0];var iv=x.B[aT];if(aM==0){var fs=iv.rect,gm=iv.buffer;if(fs.um())return;
var g8=W.Q(gm.length>>>2);W.Bp(gm,g8,3);P={channel:g8,rect:fs.clone()}}else{if(iv.z==null)iv.DY(x);var b_=aM==1?iv.FA():iv.z;
P=$.cx.ae9(b_,a)}this.track($.cx.alV(gC,["Trsp","Msk"][aM],iv.getName()))}else if(i=="frompath"){var ko=x.Ox(),gk=ko[1],ko=ko[0],hf=!0;
if(aT==null)if(ko.length==0||gk.length==0)return;var bx=ko[gk[0]];if(aT!=null)for(var y=0;y<ko.length;
y++)if(ko[y].JD==aT)bx=ko[y];var b_=bx.add.vmsk.FA(),ai=b_.ZS();if(ai.O()==0)return;var g8=b_.Wo();if(K.WX[3]!=null)hf=K.WX[3];
if(!hf){g8=g8.slice(0);W.round(g8)}iY=[JSON.stringify(x.Jq),JSON.stringify(x.FU)];kh=["[]","[]"];x.Jq=[];
x.FU=[];P={channel:g8,rect:ai}}else{if(aT==null)aT=$.cx.aax(x);P=$.cx.agw(x,aT)}if(gC!=0&&x.P)P=W.Oh.qm(P,x.P,gC);
_=[14,11]}if(P!=null&&W.SN(P.channel,0)){P=null;_=[7,1]}if(P)W.oo(P);var aa=new im(_,this);aa.data={_:"changesel",RK:x.P,sR:P,nZ:gg,avN:iN,a4e:h6,xb:iY,afn:kh};
x.i1(aa);this.RO(aa.data,x)};$.cx.aax=function(K){var E=0;if(K.N9.length!=0)E=-5-K.N9[0];else if(JSON.stringify(K.D.NW)=="[1,1,1]")E=-1;
else E=-2-K.D.NW.indexOf(1);return E};$.cx.agw=function(K,E){var x,c=new cS(0,0,K.b,K.n);if(-5<E&E<0){var J=-E-1,i=K.S7(),P=W.Q(c.O());
if(J==0)W.KZ(i,P);else W.Bp(i,P,J-1);x={channel:P,rect:c.clone()}}if(E<-4){x=$.cx.ae9(K.Un[-E-5],c)}return x};
$.cx.ae9=function(K,E){var x,c;if(K.Et()==0){c=K.ZS().clone();if(c.O()==0)return;x=K.Wo()}else{c=E;x=W.Q(c.O());
K.zw(c,x)}return{channel:x,rect:c}};$.cx.prototype.GT=function(K){return this.Td||K.tj&&this.id!=$.T3};
$.cx.prototype.mP=function(K,E,x){var c=new i3(E,!0);c.data=x;K.S(c)};$.cx.prototype.aqY=function(K,E){var x=new i3(u.E.L,!0);
x.data={_:u.c.wA,JK:E};K.S(x)};$.cx.prototype.ZS=function(K,E,x){E=K.P==null||this.i7.Yi(1)||this.i7.a9(1)?E:null;
var c=this.yy,J=this.vw;if(x){c.x=Math.max(0,Math.min(K.b,c.x));c.y=Math.max(0,Math.min(K.n,c.y));J.x=Math.max(0,Math.min(K.b,J.x));
J.y=Math.max(0,Math.min(K.n,J.y))}var i=$.SM.YX(c,J,E,!0,this.Ix.cstr),P=i[0].x,_=i[0].y,a=new cS(P,_,i[1].x-P,i[1].y-_);
if(x){a.x=Math.max(a.x,0);a.y=Math.max(a.y,0)}return a};$.cx.prototype.zb=function(K,E,x,c,J){this.FO=!0;
if(this.FS())return;this.H3=E;this.da=!1;this.i7.zb(c);this.yy=K.D.gg(J.x,J.y);this.yy=$.DU.W1(K,this.yy,x);
if(this.aiq(K,this.yy,c)){this.Td=!0;this.dp=K.P.rect.clone();return}this.EN(K,x,c,J);K.D.O8=new cS};
$.cx.prototype.aiq=function(K,E,x){var c=x.l(j6.iu),J=x.l(j6.iE);if(K.P&&!c&&!J&&this.Ix.binop==0)return W.ds(E,K.P.channel,K.P.rect);
return!1};$.cx.prototype.il=function(K,E,x,c,J){this.H3=E;if(this.rl)return;var i=K.D.gg(J.x,J.y);if(iP.B4(this.yy,i)*K.D.N>5){this.da=!0;
this.i7.il()}if(c.l(j6.rm)){if(this.Pu==null)this.Pu=new iP(i.x-this.yy.x,i.y-this.yy.y);this.yy.x=i.x-this.Pu.x;
this.yy.y=i.y-this.Pu.y}else this.Pu=null;this.vw=i;if(!this.Td)this.vw=$.DU.W1(K,this.vw,x);if(this.aiq(K,this.vw,c))this.aqY(E,"move");
else this.aqY(E,this.h9);if(this.Td){var P=this.dp.clone();P.x+=this.vw.x-this.yy.x;P.y+=this.vw.y-this.yy.y;
var _=$.DU.bn(K,P,x);K.P.rect.x=Math.round(this.vw.x-this.yy.x+this.dp.x+_[0]);K.P.rect.y=Math.round(this.vw.y-this.yy.y+this.dp.y+_[1]);
K.zF=!0;$.DU.lD(K,P,_);return}this.fw(K,x,c,J,E);if(K.D.O8)K.D.O8=this.ZS(K,c)};$.cx.prototype.FS=function(){return!1};
$.cx.prototype.N2=function(K,E,x,c,J,i){var P=this.FO;this.FO=!1;if(i||!P)return;K.D.O8=null;this.vw=K.D.gg(J.x,J.y);
this.vw=$.DU.W1(K,this.vw,x);if(this.Td){this.Td=!1;if(K!=null&&K.I.sA){K.I.sA=null;K.ZI=!0}if(this.vw.ac(this.yy)&&this.bJ()==0){this.mP(E,u.E.Hg,$.cx.HI());
return}this.aou(K,this.dp,K.P.rect.clone());return}this.eL(K,x,c,J,E);$.cx.aq1(E,x);this.i7.N2();this.UA(E)};
$.cx.prototype.aou=function(K,E,x){var c=K.$z();if(c!=null&&c.G==this&&c.data._=="movesel"){}else{c=new im([7,7],this);
c.data={_:"movesel",Fl:E};K.i1(c)}c.data.vY=x;this.RO(c.data,K)};$.cx.prototype.Sb=function(K,E,x,c,J){this.rl=!0};
$.cx.prototype.oG=function(K,E,x,c,J){var i=new i3(u.E.L,!0);i.data={_:u.c.zy,G:this.id,SQ:J,tD:K,W5:x};
E.S(i);this.rl=!1};$.cx.prototype._G=function(K,E,x,c){this.i7._G(c);if(K!=null&&K.P!=null){var J=c.lI();
if(J.x!=0||J.y!=0){var i=K.P.rect.clone();i.x+=J.x;i.y+=J.y;this.aou(K,K.P.rect.clone(),i)}}this.UA(E)};
$.cx.prototype.UA=function(K){var E=new i3(u.E.L,!0);E.data={_:u.c.zy,G:this.id,Uv:this.bJ()};K.S(E)};
$.cx.prototype.bJ=function(){var K=this.i7.Yi(0),E=this.i7.a9(0);return $.cx.wZ(this.Ix.binop,K,E)};
$.cx.wZ=function(K,E,x){if(E)K=1;if(x)K=2;if(E&&x)K=3;return K};$.cx.prototype.finish=function(K,E,x,c){var J=K.P,i=this.getSelection(K,E,x,c);
if(i==null)i=$.cx.HI();else{var P=this.Ix.feat,_=this.bJ();if(P!=0)i.Ks.Fthr={t:"UntF",v:{type:"#Pxl",val:P}};
if(_!=0&&_!=4)i.va=["","addTo","subtractFrom","interfaceWhite",""][_]}this.mP(this.H3,u.E.Hg,i);this.yy.tn(-1,-1);
this.vw.tn(-1,-1)};$.cx.prototype.getSelection=function(K,E,x,c){return null};$.cx.prototype.EN=function(K,E,x,c){};
$.cx.prototype.fw=function(K,E,x,c){};$.cx.prototype.eL=function(K,E,x,c){};$.cx.prototype.Bn=function(K,E){var x=K._;
if(x=="changesel")E.P=K.RK;if(x=="movesel")E.P.rect=K.Fl;if(K.nZ){if(K.avN){E.N9=[E.Un.length];E.Un.push(K.avN)}else{E.Un.pop();
E.N9=[]}}if(K.xb){E.Jq=JSON.parse(K.xb[0]);E.FU=JSON.parse(K.xb[1])}E.zF=!0};$.cx.prototype.RO=function(K,E){var x=K._;
if(x=="changesel")E.P=K.sR;if(x=="movesel")E.P.rect=K.vY;if(K.nZ){if(K.a4e){E.N9=[E.Un.length];E.Un.push(K.a4e)}else{E.Un.pop();
E.N9=[]}}if(K.xb){E.Jq=JSON.parse(K.afn[0]);E.FU=JSON.parse(K.afn[1])}E.zF=!0};$.cx.prototype.Gj=function(K){this.Ix=K.Ix};
$.cx.prototype.agu=function(K){var E=W.p.Uz(K.C);if(E.um())return null;var x=W.G3(E.b,E.n);x.save();
x.beginPath();x.translate(-E.x,-E.y);Typr.U.pathToContext({cmds:K.W,crds:K.C},x);x.closePath();x.fill();
x.restore();var c=W.Q(E.O()),J=x.getImageData(0,0,E.b,E.n);W.Bp(J.data,c,3);return{rect:E,channel:c}};
$.cx.auX=function(K,E,x,c,J){if(x)E=Math.round(E*.7);var i=Math.ceil(2.6*E),P=K.rect.clone();P.r1(i,i);
if(c&&!J)P=P.Sl(c);var _=W.Q(P.O()),a=W.Q(_.length);W.XT(K.channel,K.rect,a,P);W.HL.Bv(a,_,P,E);if(x){var j=_.length;
for(var y=0;y<j;y++){var e=(_[y]-128)*E*2.5;_[y]=Math.max(0,Math.min(255,Math.round(128+e)))}}return{channel:_,rect:P}};
$.cx.a8K=function(K,E,x){var c=Math.max(1,Math.ceil(x)),J=K.rect.clone();J.r1(c,c);var i=J.O(),P={channel:W.Q(i),rect:J},_=W.Q(i);
W.XT(K.channel,K.rect,_,P.rect);if(x!=0)W.style.stroke(_,P.channel,P.rect,x);else W.dq(_,P.channel);
var a=W.Q(i);W.Pa(_);if(E!=0)W.style.stroke(_,a,P.rect,E);else W.dq(_,a);W.Oh.Sl(P.channel,a,P.channel);
return P};$.cx.JJ=function(K,E,x,c,J){var i=new cS(0,0,K.b,K.n),P=K.S7();if(K.P){var _=K.P.rect.Sl(i),a=W.Q(_.O()*4);
W.UL(P,i,a,_);i=_;P=a}var j=i.O(),e=W.Q(j),d=1/c;if(J){if(E>=x)E=x-1;var I=E*(1-c),v=E,n=x,C=x+(255-x)*c,T=I==v?0:1/(v-I),o=n==C?0:1/(C-n);
for(var y=0;y<j;y++){var s=y<<2,Q=W.bg(P[s],P[s+1],P[s+2]),X=0;if(Q<I)X=0;else if(Q<v)X=(Q-I)*T;else if(Q<=n)X=1;
else if(Q<=C)X=1-(Q-n)*o;else X=0;e[y]=P[s+3]*X*X}}else for(var y=0;y<j;y++){var s=y<<2,B=W.bK(P[s],P[s+1],P[s+2]),X=W.Ys(B,E,x,c,d);
e[y]=P[s+3]*X}return{rect:i,channel:e}};$.aK=function(){$.Hj.call(this,[10,18],$.ei,"tools/blur");this.BW="copy"};
$.aK.prototype=new $.Hj;$.aK.prototype.zb=function(K,E,x,c,J){var i=c.l(j6.iE)?bL.zO:bL.ei;this.WW(K,x,c,J,this.Ix.strn,i);
if(this.RY==null)return;this.oi(K)};$.aK.prototype.il=function(K,E,x,c,J){this.Dz(K,E,x);if(this.c2)this.qZ(K,x,J);
if(this.RY==null)return;if(!J.tj)return;this.EC(K,x,c,J);this.oi(K)};$.DE=function(){$.Hj.call(this,[10,0],$.Xb,"tools/brush");
this.BW="draw"};$.DE.prototype=new $.Hj;$.DE.prototype.zb=function(K,E,x,c,J){if(this.n0(c,E,J))return;
this.WW(K,x,c,J,this.Ix.flow);if(this.RY==null)return;this.oi(K)};$.DE.prototype.il=function(K,E,x,c,J){this.Dz(K,E,x);
if(this.c2)this.qZ(K,x,J);if(this.RY==null)return;if(!J.tj)return;this.EC(K,x,c,J);this.oi(K)};$.j3=function(){$.Hj.call(this,[10,42],$.nE,"tools/crepl");
this.BW="idraw";this.Ix.bmode="hue "};$.j3.prototype=new $.Hj;$.j3.prototype.zb=function(K,E,x,c,J){if(this.n0(c,E,J))return;
this.WW(K,x,c,J,this.Ix.flow);if(this.RY==null)return;this.oi(K)};$.j3.prototype.il=function(K,E,x,c,J){this.Dz(K,E,x);
if(this.c2)this.qZ(K,x,J);if(this.RY==null)return;if(!J.tj)return;this.EC(K,x,c,J);this.oi(K)};$.mI=function(){$.Hj.call(this,[10,43],$.CT,"tools/redeye");
this.Ix.smode=0;this.BW="redeye"};$.mI.prototype=new $.Hj;$.mI.prototype.zb=function(K,E,x,c,J){this.WW(K,x,c,J,this.Ix.flow);
if(this.RY==null)return;this.oi(K)};$.mI.prototype.il=function(K,E,x,c,J){this.Dz(K,E,x);if(this.c2)this.qZ(K,x,J);
if(this.RY==null)return;if(!J.tj)return;this.EC(K,x,c,J);this.oi(K)};$._v=function(){$.Hj.call(this,[10,38],$.i8,"tools/pencil");
this.BW="draw"};$._v.prototype=new $.Hj;$._v.prototype.zb=function(K,E,x,c,J){if(this.n0(c,E,J))return;
this.WW(K,x,c,J,this.Ix.flow);if(this.RY==null)return;this.oi(K)};$._v.prototype.il=function(K,E,x,c,J){this.Dz(K,E,x);
if(this.c2)this.qZ(K,x,J);if(this.RY==null)return;if(!J.tj)return;this.EC(K,x,c,J);this.oi(K)};$.GB=function(){$.Hj.call(this,[10,22],$.Tv,"tools/burn");
this.BW="burn"};$.GB.prototype=new $.Hj;$.GB.prototype.zb=function(K,E,x,c,J){this.WW(K,x,c,J,this.Ix.expo/Math.E);
if(this.RY==null)return;this.oi(K)};$.GB.prototype.il=function(K,E,x,c,J){this.Dz(K,E,x);if(this.c2)this.qZ(K,x,J);
if(this.RY==null)return;if(!J.tj)return;this.EC(K,x,c,J);this.oi(K)};$.YF=function(K,E,x){$.Hj.call(this,K==""?null:K?K:[10,1],E?E:$.QD,x?x:"tools/clone");
this.BW="clone";this.vC=null;this.R=null};$.YF.prototype=new $.Hj;$.YF.prototype.zb=function(K,E,x,c,J){var i=this.Ix,P=i.alt[0];
if(c.l(j6.iE)||c.l(j6.ms)||P){this.vC=K.D.gg(J.x,J.y);this.R=null;if(P)this.qB({alt:[!1]},E);this.De(K);
this.vc(x,c,K,J);return}if(this.vC==null){alert(hg.get([15,7,0]));return}this.vc(x,c);this.WW(K,x,c,J,this.Ix.flow);
if(this.RY==null)return;this.R=this.a0y(K.D.gg(J.x,J.y));this.oi(K)};$.YF.prototype.a0y=function(K){var E=this.R;
if(E==null||!this.Ix.algnd)E=new iP(Math.round(K.x-this.vC.x),Math.round(K.y-this.vC.y));return E};$.YF.prototype.il=function(K,E,x,c,J){this.Dz(K,E,x);
if(this.c2)this.qZ(K,x,J);if(this.RY==null){if(this.vC!=null)this.vc(x,c,K,J);return}if(!J.tj||this.vC==null)return;
this.EC(K,x,c,J);this.oi(K)};$.YF.prototype.Ev=function(){return this.R};$.$a=function(K,E,x){$.dC.call(this,K,E,x);
this.By={vR:{kt:0,x:0,y:0},cJ:!1};this.$_=!1;this.Fu=null;this.cursor=null;this.aeB=0;this.xT=null;this.yy=null;
this.XU=null;this.Rc=!1};$.$a.prototype=new $.dC;$.$a.prototype.eb=function(){return this.Fu!=null};
$.$a.prototype.GT=function(K){return this.yy!=null||this.Fu&&this.Fu.anj()};$.$a.prototype.zb=function(K,E,x,c,J){this.xT=J;
var i=K.D.gg(J.x,J.y),P=this.By.vR,_=P.kt!=0?P.x/P.y:null,a=this.Rc;this.Rc=!1;if(this.Fu){var j=this.Fu.DK(i,K.D.N);
if(a&&j==null){this.Fu.clear(K);this.Fu=null}else{this.Fu.zb(K,x,c,i,_,!1,J);return}}this.yy=$.DU.W1(K,i,x)};
$.$a.prototype.O$=function(K,E,x){if(x==null)x=[K.x,K.y,K.x+K.b,K.y,K.x+K.b,K.y+K.n,K.x,K.y+K.n];return new iB(x,!0,!1,this.id==$.Y3,!0,E,this.id==$.Y3?2:0,this.id==$.Y3?4:3)};
$.$a.prototype.vc=function(K){var E=new i3(u.E.L,!0);E.data={_:u.c.wA,JK:this.cursor};K.S(E)};$.$a.prototype.enable=function(K,E,x,c){this.H3=E;
this.cursor="crosshair";this.vc(E);if(K!=null&&this.Fu==null){var J=K.P?{BM:"cropby",avI:3}:{BM:"config",By:this.By,atY:!0};
this.Gj(J,E,K,c,x);if(K.P==null&&this.By.vR.kt==0)this.Rc=!0}};$.$a.prototype.il=function(K,E,x,c,J){this.xT=J;
var i=K.D.gg(J.x,J.y);if(!J.tj){var P="crosshair";if(this.Fu){var _=this.Fu.DK(i,K.D.N,null,J);if(_)P=_;
else P="default"}if(P!=this.cursor){this.cursor=P;this.vc(E)}}if(this.Fu)this.Fu.il(K,x,c,i);else if(this.yy){if(this.$_){K.I.Xv={W:["M","L"],C:[this.yy.x,this.yy.y,i.x,i.y]}}else{var a=$.SM.YX(this.yy,$.DU.W1(K,i,x),c,!0,this.By.vR),j=a[0].x,e=a[0].y,d=this.XU=new cS(j,e,a[1].x-j,a[1].y-e);
K.I.Xv=W.p.VD(d);$.dC.CE(J,d,K,x)}K.ZI=!0}};$.$a.acS=function(K,E,x){var c,J,_,a;if(E<=x){c=E;J=x}else{c=x;
J=E}var i=K-Math.floor((K+Math.PI)/(2*Math.PI))*2*Math.PI;i=Math.abs(i);if(i>Math.PI/2)i=Math.PI-i;var P=c/(J*Math.sin(i)+c*Math.cos(i));
if(E<=x){_=c*P;a=J*P}else{_=J*P;a=c*P}return{pz:_,o4:a}};$.$a.prototype.N2=function(K,E,x,c,J){this.xT=J;
var i=K.D.gg(J.x,J.y);if(this.Fu==null){var P=this.XU;if(this.yy&&(P||this.$_)){if(this.$_){var _=this.yy,a=i;
if(_.x>a.x){var j=_;_=a;a=j}var _=Math.atan2(-(a.y-_.y),a.x-_.x),e=$.$a.acS(_,K.b,K.n),d=[0,0,e.pz,0,e.pz,e.o4,0,e.o4],I=new iQ;
I.translate(-e.pz/2,-e.o4/2);I.rotate(_);I.translate(K.b/2,K.n/2);W.p.u(d,I,d);this.Fu=this.O$(P,!1,d);
K.I.Xv=null;this.$_=!1}else{var v=this.By.vR;this.Fu=this.O$(P,v.kt!=0)}this.Fu.d7(K,x);this.XU=null;
this.mP(E,u.E.L,{_:u.c.zy,G:this.id,yZ:!0});this.yy=null;K.I.un=[];K.ZI=!0}return}this.Fu.N2(K,x,c,i);
this.mP(E,u.E.L,{_:u.c.zy,G:this.id,yZ:!0});var d=this.Fu.iU();if(Math.abs(d[0]-d[4])<2&&Math.abs(d[1]-d[5])<2){this.disable(K,E,null,c);
return}if(Date.now()-this.aeB<200&&this.Fu.FX(i)){this.JE(K,x);this.disable(K,E,x,c);return}this.aeB=Date.now()};
$.$a.prototype._G=function(K,E,x,c){var J=this.Fu;if(J==null||this.xT&&this.xT.tj)return;if(c.l(j6.Tt)){this.JE(K,x);
this.disable(K,E,x,c)}else if(c.l(j6.go)){this.disable(K,E,x,c)}else J._G(K,x,c)};$.$a.abL=function(K,E,x){var c={classID:"null",T:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:K[1]}},Left:{t:"UntF",v:{type:"#Pxl",val:K[0]}},Btom:{t:"UntF",v:{type:"#Pxl",val:K[1]+K[3]}},Rght:{t:"UntF",v:{type:"#Pxl",val:K[0]+K[2]}}}},Angl:{t:"UntF",v:{type:"#Ang",val:E!=null?E:0}},Dlt:{t:"bool",v:x!=null?x:!0},cropAspectRatioModeKey:{t:"enum",v:{cropAspectRatioModeClass:"pureAspectRatio"}},CnsP:{t:"bool",v:!1}};
return{va:"crop",Ks:c}};$.$a.yW=function(K,E){if(E==null)E=[!0,!0,!0,!0];var x={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][K]}}},c=["Top","Left","Btom","Rght"];
for(var y=0;y<4;y++)x[c[y]]={t:"bool",v:E[y]};return{va:"trim",Ks:x}};$.$a.a3X=function(K,E,x,c){var J={classID:"null"};
if(c!=null){J.Wdth={t:"UntF",v:{type:"#Pxl",val:K}};J.Hght={t:"UntF",v:{type:"#Pxl",val:E}};J.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][c]}}}if(x!=null)J.Rslt={t:"UntF",v:{type:"#Rsl",val:x}};
return{va:"imageSize",Ks:J}};$.$a.a9V=function(K,E,x){if(x==null)x=4;var c=Math.floor(x/3),J=x%3;return{va:"canvasSize",Ks:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:K}},Hght:{t:"UntF",v:{type:"#Pxl",val:E}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][J]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][c]}}}}};
$.$a.prototype.Qp=function(K,E,x,c,J){var i=new cS(0,0,x.b,x.n),P=[11,3],_=x.B8,a=x.b/2,j=x.n/2,e=1,z,p,L;
if(K._=="fromAction"){var d=K.t7,I=d.va,v=d.Ks,n=x.b/x.n,C=v.Wdth?v.Wdth.v.val:-1,T=v.Hght?v.Hght.v.val:-1,_=v.Rslt?v.Rslt.v.val:null,o=v.Wdth?v.Wdth.v.type:v.Hght?v.Hght.v.type:-1,s=1,Q;
if(o=="#Prc"){if(C!=-1)C=Math.round(x.b*C/100);if(T!=-1)T=Math.round(x.n*T/100)}if(I=="imageSize"){if(v.Intr){if(v.Intr.v.Intp=="Nrst")s=0;
if(v.Intr.v.Intp=="bicubicSharper")s=2;if(C==-1&&T==-1){var X=_/x.B8;C=Math.round(x.b*X);T=Math.round(x.n*X)}if(v.CnsP&&v.CnsP.v){if(C==-1)C=Math.round(T*n);
if(T==-1)T=Math.round(C/n)}}else{if(o=="#Prc")_=Math.round(x.B8*(x.b/C));else if(o==-1)_=Math.round(_);
else throw"e";C=x.b;T=x.n}Q={_:"imgsize",Yz:C,jS:T,EP:_,OR:s}}else if(I=="canvasSize"){if(C==-1)C=x.b;
if(T==-1)T=x.n;if(v.Rltv&&v.Rltv.v==!0){if(v.Wdth)C+=x.b;if(v.Hght)T+=x.n}var B=v.Vrtc?v.Vrtc.v.VrtL:"Cntr",M=v.Hrzn?v.Hrzn.v.HrzL:"Cntr";
Q={_:"canvsize",Yz:C,jS:T,If:3*["Top","Cntr","Btom"].indexOf(B)+["Left","Cntr","Rght"].indexOf(M)}}else if(I=="revealAll"){Q={_:"revealAll"}}else if(I=="trim"){var S={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[v.trimBasedOn.v.trimBasedOn];
if(S==null)throw"e";var f=["Top","Left","Btom","Rght"],F=[!0,!0,!0,!0];for(var y=0;y<4;y++)if(v[f[y]])F[y]=v[f[y]].v;
Q={_:"trim",atf:S,z1:F}}else if(I=="crop"){var G,D,b,H;if(v.T){var q=v.T.v,G=Math.round(q.Left.v.val),D=Math.round(q.Top.v.val),b=Math.round(q.Rght.v.val)-G,H=Math.round(q.Btom.v.val)-D}else{var O=x.P.rect;
G=O.x;D=O.y;b=O.b;H=O.n}Q={_:"canvsize",Yz:b,jS:H,R:new iP(G,D),aes:v.Dlt!=null&&v.Dlt.v}}else console.log(d);
if(Q)this.Qp(Q,E,x,c,J);return}else if(K._=="imgsize"){i=new cS(0,0,K.Yz,K.jS);if(K.EP)_=K.EP;e=K.OR}else if(K._=="canvsize"){var w=K.If!=null?K.If:0;
i=new cS(0,0,K.Yz,K.jS);var V=x.b-K.Yz,t=x.n-K.jS,m=Math.round(V/2),g=Math.round(t/2);if(w==1||w==4||w==7)i.x=m;
if(w==2||w==5||w==8)i.x=V;if(w==3||w==4||w==5)i.y=g;if(w==6||w==7||w==8)i.y=t;if(K.R){i.x=K.R.x;i.y=K.R.y}}else if(K._=="rot"&&(K.Z+2*Math.PI)%(Math.PI/2)!=0){var Y=W.p.VD(i).C,A=new iQ;
A.translate(-a,-j);A.rotate(K.Z);A.translate(a,j);W.p.u(Y,A,Y);i=W.p.Uz(Y)}else if(K._=="rot"&&K.Z!=Math.PI&&K.Z!=-Math.PI){i=new cS(a-x.n/2,j-x.b/2,x.n,x.b);
if((x.b+x.n&1)==1){a=Math.floor(a);j=Math.floor(j);i=new cS(a-Math.floor(x.n/2),j-Math.floor(x.b/2),x.n,x.b);
if((x.b&1)==1&&K.Z!=-Math.PI/2)i.y--;if((x.n&1)==1&&K.Z==-Math.PI/2)i.x--}}else if(K._=="trim"){P=[11,12,0];
var k=x.S7(),O=new cS(0,0,x.b,x.n);i=W.j_(k,O,K.atf,K.z1);if(i.um())i=O}else if(K._=="revealAll"){P=[11,12,2];
i=x.root.ZS(x,!0)}var N=K._=="canvsize"&&K.aes;if(K._=="imgsize"||K._=="rot"||K._=="scl"||N){var gC=new iQ;
if(K._=="imgsize"){P=[11,10];gC.scale(K.Yz/x.b,K.jS/x.n);L=x.pY();for(var y=0;y<L[0].length;y++)L[0][y][1]*=L[0][y][0]==0?gC.Cc:gC.Ga}else if(N){}else{gC.translate(-a,-j);
if(K._=="rot")gC.rotate(K.Z);if(K._=="scl")gC.scale(K.Z.x,K.Z.y);gC.translate(a,j);P=K.vZ}p=W.K.y5(gC);
z=this.H_(x,J,!0,p,e,N?i:null)}else if(K._=="auto-align"){if(x.g.length<2){alert("Select two or more layers.");
return}var r=[];for(var y=0;y<x.g.length;y++){var h=x.B[x.g[y]];if(!h.Lq()&&h.add.SoLd==null){alert("Unsupported layer selected.");
return}if(h.rect.um()){alert("Empty layer selected.");return}r.push([h.buffer,h.rect])}var l=W.c5.Mc(r,0);
if(l==null){alert("No similarity found.");return}p=l[1];var g5=x.g;x.g=x.g.slice(1);z=this.H_(x,J,!1,l.slice(1),e);
x.g=g5;i=x.root.ZS(x,!0);P=[2,10,1]}var fm=new cS(0,0,x.b,x.n);if(!i.um()&&(!i.ac(fm)||z!=null)){var dC=new im(P,this);
dC.data={ani:x.B8,EP:_,uv:z,zW:p,Q4:$.$a.an$(x,i,fm,z!=null)};if(L){dC.data.ae5=x.pY();dC.data.av9=L}$.$a.ao5(x,dC.data,i);
x.i1(dC);this.RO(dC.data,x)}};$.$a.an$=function(K,E,x,c){if(K.ea.length==0)return null;var J=JSON.stringify(K.ea),i=JSON.parse(J);
$.ie.a5p(i,E,x,c);i=JSON.stringify(i);return[J,i]};$.$a.prototype.H_=function(K,E,x,c,J,i){var P={B:[],d3:null,SS:null};
if(x){for(var y=0;y<K.B.length;y++)P.B.push(y);for(var y=0;y<K.Qg.length;y++)P.B.push(-1-y);for(var y=0;
y<K.Un.length;y++)P.B.push(-1e3-y)}else P.B=K.g.slice(0);P.d3=$.Xq.CI(K,P.B,!0);$.Xq.c4(K,E,P.B,P.d3,J,c,null,!0,i);
P.SS=$.Xq.CI(K,P.B,!0);return P};$.$a.prototype.RO=function(K,E){if(K.EP)E.B8=K.EP;if(K.Q4)E.ea=JSON.parse(K.Q4[1]);
if(K.uv){$.$a.VK(E,W.K.vA(K.zW));$.Xq.tU(E,K.uv.B,K.uv.SS);if(K.av9)E.WT(K.av9)}$.$a.AH(E,K)};$.$a.prototype.Bn=function(K,E){if(K.ani)E.B8=K.ani;
if(K.Q4)E.ea=JSON.parse(K.Q4[0]);$.$a.sj(E,K);if(K.o2)E.D.R.g_(K.o2);E.anB();if(K.uv){var x=W.K.vA(K.zW).clone();
x.Pa();$.$a.VK(E,x);$.Xq.tU(E,K.uv.B,K.uv.d3);if(K.ae5)E.WT(K.ae5)}};$.$a.VK=function(K,E){for(var y=0;
y<K.B.length;y++){var x=K.B[y];if(x.add.artb==null)continue;var c=W.p.VD(x.IZ()).C;W.p.u(c,E,c);var J=W.p.Uz(c);
x.MZ(J)}};$.$a.mH=function(K){var E=new cS,x=0,c=K.root.children.length;for(var y=0;y<c;y++){var J=K.root.children[y].j;
if(J.add.artb==null)continue;E=E.XN(J.IZ());x++}var i=new cS(0,0,K.b,K.n);if(!E.um()&&!i.ac(E))return E;
return null};$.$a.oR=function(K){var E=$.$a.mH(K);if(E)$.$a.cJ(K,E,!0);return E};$.$a.cJ=function(K,E,x){var c=K.b,J=K.n,i=E.b,P=E.n,_=E.x==0&&E.y==0;
if(_&&c==i&&J==P)return;K.b=i;K.n=P;var a=[];for(var y=0;y<K.B.length;y++)a.push(y);if(!_)$.DU.jB(K,a,null,-E.x,-E.y);
for(var y=0;y<K.B.length;y++){K.B[y].DY(K)}K.anB();if(x){var j=K.D.R,e=K.D.N;j.x+=Math.round((E.x+(i-c)/2)*e);
j.y+=Math.round((E.y+(P-J)/2)*e)}else K.D.R.tn(0,0);if(K.P)K.P.rect.offset(-E.x,-E.y);var d=K.pY();for(var I=0;
I<d[0].length;I++)if(d[1][I]==-1){var v=K.J$[I];v[1]-=v[0]==0?E.x:E.y}for(var y=0;y<K.Un.length;y++)K.Un[y].rect.offset(-E.x,-E.y)};
$.$a.prototype.Gj=function(K,E,x,c,J){if(K.BM=="commit"){this.JE(x,J);this.disable(x,E,null,c)}else if(K.BM=="cancel"){this.disable(x,E,null,c)}var i=null,P=new cS(0,0,x.b,x.n),_=this.By.vR;
if(K.BM=="config"){this.By=K.By;_=this.By.vR;if(x==null||!K.atY)return;i=P;if(_.kt==1){var a=_.x/_.y;
if(i.b/a<i.n)i.n=Math.round(i.b/a);else i.b=Math.round(i.n*a)}if(_.kt==2){i.b=_.x;i.n=_.y}i.x=Math.round((x.b-i.b)/2);
i.y=Math.round((x.n-i.n)/2)}if(K.BM=="straighten"){alert("Draw a line in the image.");this.$_=!0}if(K.BM=="cropby"){if(x==null)return;
var j=K.avI,i;if(j==0)i=x.root.ZS(x,!0);if(j==1){if(x.g.length==0)alert("No layer is selected.");else{var e=x.root.R7(x.g[0]);
i=e.ZS(x,!0)}}if(j==2){if(x.g.length==0)alert("No layer is selected.");else{i=W.j_(x.S7(),P,0);if(i.um())i=P.clone()}}if(j==3){if(x.P!=null)i=x.P.rect;
else alert("There is no selection.")}if(j==4){i=new cS(0,0,x.b,x.n)}}if(i&&i.um())i=null;if(i!=null){this.Fu=this.O$(i,_.kt!=0);
this.Fu.d7(x,J);this.mP(E,u.E.L,{_:u.c.zy,G:this.id,yZ:!0})}};$.$a.prototype.JE=function(K,E){var x=this.Fu.iU(),c=W.p.Uz(x),J=this.a3u(K,x),i=!1,P=this.By.vR,_=this.By.cJ,a=P.x,j=P.y,I;
if(this.id==$.pV&&P.kt==2&&J.O()!=a*j){J=new cS(J.x,J.y,a,j);i=!0}var e=W.K.AS(x,J);e=W.K.Pa(e);var d=W.K.u5(e),v=Math.atan2(e[3],e[0]);
if(Math.abs(v)>1e-9||!d||i||_)I=this.H_(K,E,!0,e,1,c);var n=new im(this.name,this),C=new cS(0,0,K.b,K.n);
n.data={uv:I,zW:e,o2:K.D.R.clone(),Q4:$.$a.an$(K,J,C,!1)};$.$a.ao5(K,n.data,J);K.i1(n);this.RO(n.data,K);
this.track($.$a.abL([c.x,c.y,c.b,c.n],null,_))};$.$a.ao5=function(K,E,x){if(x==null)return;E.Fl=new cS(0,0,K.b,K.n);
E.vY=x};$.$a.AH=function(K,E){if(E.vY==null)return;$.$a.cJ(K,E.vY)};$.$a.sj=function(K,E){if(E.vY==null)return;
var x=E.Fl.clone();x.offset(-E.vY.x,-E.vY.y);$.$a.cJ(K,x)};$.$a.prototype.a3u=function(K,E){var x=W.K.AS(E),c=W.K.u5(x),J=W.K.vA(x),i=J.qW,P=J.Ju,_=Math.atan2(J.k,J.Cc);
J.rotate(_);var a=new cS(i,P,J.Cc,J.Ga);if(!c){function j(Q,y,X){var B=Q[y]-Q[X],M=Q[y+1]-Q[X+1];return Math.sqrt(B*B+M*M)}var e=j(E,0,2),d=j(E,4,6),I=Math.max(e,d),v=j(E,2,4),n=j(E,6,0),C=Math.max(v,n),T=$.$a.a1I(E,K.b/2,K.n/2),o,s;
if(isNaN(T)||T==Infinity||T==-Infinity||Math.min(T,1/T)<.1)T=(e+d)/(v+n);if(I/C>T){o=I*1;s=o/T}else{s=C*1;
o=s*T}a.b=o;a.n=s}a.x=Math.round(a.x);a.y=Math.round(a.y);a.b=Math.round(a.b);a.n=Math.round(a.n);return a};
$.$a.a1I=function(K,E,x){var c=K[0]-E,J=K[1]-x,i=K[2]-E,P=K[3]-x,_=K[6]-E,a=K[7]-x,j=K[4]-E,e=K[5]-x,d=((J-e)*_-(c-j)*a+c*e-J*j)/((P-e)*_-(i-j)*a+i*e-P*j),I=((J-e)*i-(c-j)*P+c*e-J*j)/((a-e)*i-(_-j)*P+_*e-a*j),v=-((I*a-J)*(d*P-J)+(I*_-c)*(d*i-c))/((I-1)*(d-1));
function n(T){return T*T}var C=Math.sqrt((n(d-1)+n(d*P-J)/v+n(d*i-c)/v)/(n(I-1)+n(I*a-J)/v+n(I*_-c)/v));
if(d==1&&I==1)C=Math.sqrt((n(P-J)+n(i-c))/(n(a-J)+n(_-c)));return C};$.$a.prototype.disable=function(K,E,x,c){if(K==null)return;
if(this.Fu)this.Fu.clear(K);this.Fu=null;this.mP(E,u.E.L,{_:u.c.zy,G:this.id,yZ:!1})};$.$a.prototype.mP=function(K,E,x,c){var J=new i3(E,!0);
J.data=x;if(c)J.G=c;K.S(J)};$.acX=function(){$.$a.call(this,[10,2],$.pV,"tools/rcrop")};$.acX.prototype=new $.$a;
$.a8k=function(){$.$a.call(this,[10,39],$.Y3,"tools/pcrop")};$.a8k.prototype=new $.$a;$._M=function(){$.Hj.call(this,[10,21],$.o6,"tools/dodge");
this.BW="dodge"};$._M.prototype=new $.Hj;$._M.prototype.zb=function(K,E,x,c,J){this.WW(K,x,c,J,this.Ix.expo/Math.PI);
if(this.RY==null)return;this.oi(K)};$._M.prototype.il=function(K,E,x,c,J){this.Dz(K,E,x);if(this.c2)this.qZ(K,x,J);
if(this.RY==null)return;if(!J.tj)return;this.EC(K,x,c,J);this.oi(K)};$.M7=function(){$.Hj.call(this,[10,3],$.Lz,"tools/eraser");
this.BW="erase"};$.M7.prototype=new $.Hj;$.M7.prototype.zb=function(K,E,x,c,J){this.WW(K,x,c,J,this.Ix.flow);
if(this.RY==null)return;this.oi(K)};$.M7.prototype.il=function(K,E,x,c,J){this.Dz(K,E,x);if(this.c2)this.qZ(K,x,J);
if(this.RY==null)return;if(!J.tj)return;var i=this.EC(K,x,c,J);this.oi(K)};$.IM=function(){$.Hj.call(this,[10,45],$.Ln,"tools/beraser");
this.BW="ierase"};$.IM.prototype=new $.Hj;$.IM.prototype.zb=function(K,E,x,c,J){if(this.n0(c,E,J))return;
this.WW(K,x,c,J,this.Ix.flow);if(this.RY==null)return;this.oi(K)};$.IM.prototype.il=function(K,E,x,c,J){this.Dz(K,E,x);
if(this.c2)this.qZ(K,x,J);if(this.RY==null)return;if(!J.tj)return;this.EC(K,x,c,J);this.oi(K)};$.lC=function(){$.cx.call(this,[10,15],$.LR,"tools/rselect");
this.h9="crosshair"};$.lC.prototype=new $.cx;$.lC.prototype.fw=function(K,E,x,c){if(!c.tj||!this.da)return;
var J=this.ZS(K,x,!0);K.I.Xv=W.p.VD(J);K.ZI=!0;$.dC.CE(c,J,K,E)};$.lC.prototype.eL=function(K,E,x,c){K.I.Xv=null;
K.I.un=[];K.ZI=!0;this.finish(K,E,x,c)};$.lC.prototype.getSelection=function(K,E,x,c){if(this.yy.ac(this.vw)||!this.da)return null;
var J=this.ZS(K,x,!0);if(J.um())return null;return $.cx.$G("Rctn",J,this.Ix.anta)};$.nV=function(){$.cx.call(this,[10,4],$.a9B,"tools/eselect");
this.h9="crosshair"};$.nV.prototype=new $.cx;$.nV.prototype.fw=function(K,E,x,c){if(!c.tj||!this.da)return;
var J=this.ZS(K,x);K.I.Xv=$.nV.alG(J);K.ZI=!0;$.dC.CE(c,J,K,E)};$.nV.prototype.eL=function(K,E,x,c){K.I.Xv=null;
K.I.un=[];K.ZI=!0;this.finish(K,E,x,c)};$.nV.prototype.getSelection=function(K,E,x,c){if(this.yy.ac(this.vw)||!this.da)return null;
var J=this.ZS(K,x);if(!J.iw(new cS(0,0,K.b,K.n)))return null;return $.cx.$G("Elps",J,this.Ix.anta)};
$.nV.alG=function(K){var E=K.x,x=K.y,c=K.x+K.b,J=K.y+K.n,i=(E+c)/2,P=(x+J)/2,_=(E-c)/2,a=(x-J)/2,j=.5522848,e={C:[i,P-a],W:["M","C","C","C","C"]};
e.C.push(i+j*_,P-a,i+_,P-j*a,i+_,P);e.C.push(i+_,P+j*a,i+j*_,P+a,i,P+a);e.C.push(i-j*_,P+a,i-_,P+j*a,i-_,P);
e.C.push(i-_,P-j*a,i-j*_,P-a,i,P-a);return e};$.QS=function(K){$.dC.call(this,[10,5],K?$.$P:$.xi,"tools/eyedropper");
this.iX=null;this.dw=0;this.xQ=null;this.dd=1;this.P3=2;this.az4=!0;this.NN=!1};$.QS.prototype=new $.dC;
$.QS.prototype.GT=function(K){return K.tj};$.QS.prototype.Qp=function(K,E,x,c,J){if(K._=="pickhere")this.PE(x,E,J,null,K.adp);
if(K._=="supertool")this.iX=K.G};$.QS.prototype.zb=function(K,E,x,c,J){var i=this.iX;if(i){i.zb(K,E,x,c,J);
return}this.dw=x.U9;this.xQ=J;var P=this.PE(K,null,x,c,J);this.vc(K,E,P,J)};$.QS.prototype.il=function(K,E,x,c,J){var i=this.iX;
if(i){i.il(K,E,x,c,J);return}var P=this.xQ;if(P){var _=J.x-P.x,a=J.y-P.y,j=1,e=new iP(P.x+_*j,P.y+a*j),d=this.PE(K,null,x,c,e);
this.vc(K,E,d,e,new iP(_*(1-j),a*(1-j)))}};$.QS.prototype.vc=function(K,E,x,c,J){var i=this.az4,P=this.NN,j=12,e=11;
if(K.D.N>4)P=!1;if(!P&&!i)return;if(J==null)J=new iP(0,0);var _=new cS(0,0,K.b,K.n),a=K.S7(),d=(j*2+1)*e,I=new iP(d/2,d/2),v=new cS(0,0,d,d),n=W.Q(v.O()*4),C=K.D.gg(c.x,c.y),T=Math.floor(C.x),o=Math.floor(C.y),s=new iQ;
s.scale(1/e,1/e);s.translate(T-j,o-j);if(P)W.scale.fn(a,_,s,n,v);var Q=(j-3.4)*e,X=(j-1.7)*e,B=j*e;for(var M=0;
M<d;M++)for(var S=0;S<d;S++){var f=iP.B4(new iP(S,M),I);if(f>Q){if(i){var F=Math.max(0,Q-f+1),G=(M*d+S)*4,D=n[G+3]<<24|n[G]<<16|n[G+1]<<8|n[G+2],b=255<<24|(M<B+e*.5?x:this.dw);
if(f>X){F=Math.max(0,X-f+1);D=b;b=4286611584}else if(!P){D=b&16777215}n[G+0]=(1-F)*(b>>>16&255)+F*(D>>>16&255);
n[G+1]=(1-F)*(b>>>8&255)+F*(D>>>8&255);n[G+2]=(1-F)*(b>>>0&255)+F*(D>>>0&255);n[G+3]=(1-F)*(b>>>24&255)+F*(D>>>24&255)}if(f>B){n[(M*d+S)*4+3]=Math.max(0,255*(B-f+1))}}}function H(y){var L=y<<2;
n[L]=0;n[L+1]=0;n[L+2]=0;n[L+3]=255}function q(y){var L=y<<2;n[L]=255;n[L+1]=255;n[L+2]=255;n[L+3]=255}var O=this.dd*e+2,w=d-O>>>1,V=w+O-1;
if(P&&O<d)for(var y=0;y<O;y++){var t=w*d+w+y,m=V*d+w+y,g=(w+y)*d+w,Y=(w+y)*d+V;H(t);H(m);H(g);H(Y);if(y!=0&&y!=O-1){q(t+d);
q(m-d);q(g+1);q(Y-1)}}if(!P)for(var y=-9;y<=9;y++){if(-3<y&&y<3)continue;var A=d>>>1,S=A*d+A+y,M=(A+y)*d+A;
q(S-d);H(S);q(S+d);q(M-1);H(M);q(M+1)}var k=$.dC.x4(0,0,["#"+W.E8(x),"RGB "+(x>>>16&255)+","+(x>>>8&255)+","+(x>>>0&255)]),_=k[1];
_.y=0;_.x=d-_.b>>>1;W.UL(k[0],_,n,v);var z={Dr:n,ZE:v,mJ:new iP(I.x+J.x,I.y+J.y)},p=new i3(u.E.L,!0);
p.data={_:u.c.wA,JK:z};E.S(p)};$.QS.prototype.N2=function(K,E,x,c,J,i){this.PE(K,E,x,c,J);var P=this.iX;
if(P){P.N2(K,E,x,c,J);return}if(this.xQ){this.xQ=null;if(i)this.PE(K,E,x,c,J,this.dw);var _=new i3(u.E.L,!0);
_.data={_:u.c.wA,JK:"default"};E.S(_)}};$.QS.prototype.PE=function(K,E,x,c,J,i){if(i==null)i=$.QS.hn(K,J,this.dd,this.P3);
var P=new i3(u.E.L);P.data={_:u.c.Na,ry:eu.Fa,S8:c&&c.l(j6.iE)?1:0,Z:i};if(E)E.S(P);return i};$.QS.hn=function(K,E,x,c){if(c==null)c=2;
var J=K.D.gg(E.x,E.y),i,P,_=K.g.length==1&&K.B[K.g[0]].kS>0,a=K.N9.length!=0,X=0,B=0,M=0;if(_||a){var j;
if(a)j=K.Un[K.N9[0]];else{var e=K.B[K.g[0]];j=e.kS==1?e.FA():e.ag5()}P=j.ZS();if(!P.YO(J))return j.color==0?0:16777215;
i=W.Q(P.O()*4);i.fill(255);var d=j.Wo();W.eE(d,i)}else if(c==0&&K.g.length!=0){var e=K.B[K.g[0]];i=e.buffer;
P=e.rect}else{i=c==2?K.S7():K.S7(K.g[0]);P=new cS(0,0,K.b,K.n)}var I=Math.floor(J.x)-P.x,v=Math.floor(J.y)-P.y,n=(x-1)/2,C=Math.max(0,I-n),T=Math.max(0,v-n),o=Math.min(P.b,I+n+1),s=Math.min(P.n,v+n+1),Q=(o-C)*(s-T);
for(var I=C;I<o;I++)for(var v=T;v<s;v++){var y=4*(v*P.b+I);X+=i[y];B+=i[y+1];M+=i[y+2]}X=Math.round(X/Q);
B=Math.round(B/Q);M=Math.round(M/Q);return X<<16|B<<8|M};$.QS.prototype.Gj=function(K){var E=K.Ix;this.dd=[1,3,5,11,31][E[0]];
this.P3=E[1];this.az4=E[2];this.NN=E[3]};$.Mf=function(){$.dC.call(this,[10,6],$.Mw,"tools/gradient");
this.Ix={M:JSON.parse(dz.zT.a5S).v,BT:"Lnr",jn:!1,kC:!1,a45:"norm",S5:1};this.Z7=!1;this.U0=null};$.Mf.prototype=new $.dC;
$.Mf.prototype.enable=function(K,E,x,c){var J=new i3(u.E.L,!0);J.data={_:u.c.wA,JK:"default"};E.S(J)};
$.Mf.prototype.Gj=function(K){this.Ix=K.ry};$.Mf.prototype.zb=function(K,E,x,c,J){if(!K.IC())return;
this.U0=K.D.gg(J.x,J.y);this.U0=$.DU.W1(K,this.U0,x);this.Z7=!0};$.Mf.prototype.il=function(K,E,x,c,J){if(!this.Z7)return;
var i=K.D.gg(J.x,J.y);i=$.DU.W1(K,i,x);if(c.l(j6.iu))i=$.Mf.yz(this.U0,i);K.I.Xv={C:[this.U0.x,this.U0.y,i.x,i.y],W:["M","L"]};
K.I.Lt=[this.U0.x,this.U0.y,i.x,i.y];K.ZI=!0};$.Mf.prototype.N2=function(K,E,x,c,J){if(!this.Z7)return;
var i=K.B[K.g[0]],P=K.D.gg(J.x,J.y);P=$.DU.W1(K,P,x);if(c.l(j6.iu))P=$.Mf.yz(this.U0,P);var _=P.aZ(this.U0),a=iP.bm(this.U0,P,.5),j=Math.atan2(_.y,_.x),e=iP.B4(this.U0,P),d=Math.sin(j),I=Math.cos(j);
if(e>2){var v;if(K.P)v=K.P.rect;else v=new cS(0,0,K.b,K.n);var n=W.Q(v.O()*4),C=this.Ix,T=C.BT;if(T!="Lnr"){e*=2;
a=this.U0}W.M.iS(C.M,n,v,[I*1/e,d*1/e,-d*1/e,I*1/e],a.x,a.y,C.jn,dz.M.types.indexOf(T),x.U9,x.xw,null,C.kC);
var o=Math.round(C.S5*256),s=n.length;if(o!=256)for(var y=0;y<s;y+=4)n[y+3]=n[y+3]*o>>>8;var Q=new i3(u.E.v);
Q.G=$.Lz;Q.data={_:"fillBMP",dz:n,i0:C.a45,vZ:this.name};E.S(Q)}K.I.Xv=null;K.I.Lt=[];K.ZI=!0;this.Z7=!1};
$.Mf.prototype.Qp=function(K,E,x,c,J){function i(I){I=I.v;var v=I.Hrzn.v.val,n=I.Vrtc.v.val;return x.D.An(v,n)}if(K._=="fromAction"){var P=this.Ix,_=this.Ix={};
for(var a in P)_[a]=P[a];var j=K.t7.Ks;if(j.Opct)_.S5=j.Opct.v.val/100;if(j.Dthr)_.kC=j.Dthr.v;if(j.Grad)_.M=j.Grad.v;
if(j.Type)_.BT=j.Type.v.GrdT;var e=i(j.From),d=i(j.T);this.zb(x,E,J,c,e);this.N2(x,E,J,c,d);this.Ix=P}};
$.Mf.yz=function(K,E){if(K.ac(E))return K;var x=E.x-K.x,c=E.y-K.y,J=Math.abs(x),i=Math.abs(c);if(J>i)i=J/2>i?0:J;
if(i>J)J=i/2>J?0:i;J=x>0?J:-J;i=c>0?i:-i;var P=Math.sqrt(x*x+c*c)/Math.sqrt(J*J+i*i);return new iP(K.x+J*P,K.y+i*P)};
$.Mf.yi=function(K,E,x,c,J,i,P){var _=new cS(0,0,E,x),a=W.Q(E*x*4);W.Ii(a,E,x,4);var j=Math.sin(c),e=Math.cos(c),d=W.Q(E*x*4);
W.M.iS(K,d,_,[e*1/E,j*1/E,-j*1/x,e*1/x],E/2,x/2,!1,0,J,i);W.h.Nh("norm",d,_,a,_,_,1);if(P)P.putImageData(new ImageData(new Uint8ClampedArray(a.buffer),E,x),0,0);
else return gr.NO(a.buffer,E,x,null,null,!0)};$.Mf.a1D=function(K,E,x){var c=JSON.parse(JSON.stringify(K));
if(c.Clrs)for(var y=0;y<c.Clrs.v.length;y++){var J=c.Clrs.v[y].v,i=J.Type.v.Clry;if(i=="UsrS")continue;
var P=i=="FrgC"?E:x;J.Type.v.Clry="UsrS";J.Clr={t:"Objc",v:W.M.TD({o:P>>16&255,J:P>>8&255,k:P&255})}}return c};
$.PC=function(){$.dC.call(this,[10,7],$.ER,"tools/hand");this.GX=!1;this.xQ=new iP(0,0);this.Ax=null;
this.aw=0};$.PC.prototype=new $.dC;$.PC.prototype.Gj=function(K,E,x,c){this.GX=K.GX};$.PC.prototype.Qp=function(K,E,x,c,J){var i=K._;
if(i=="setcls"){x.D.NW=K.NW;x.ZI=!0;x.Bi=!0}if(i=="scroll"&&!c.l(j6.iE)){if(c.l(j6.Se))$.PC.T$(x,x.D.R.x-K.K8.y,x.D.R.y-K.K8.x);
else $.PC.T$(x,x.D.R.x-K.K8.x,x.D.R.y-K.K8.y)}};$.PC.prototype.enable=function(K,E,x,c){this.Ax=null;
var J=new i3(u.E.L,!0);J.data={_:u.c.wA,JK:"grab"};E.S(J);if(K&&Date.now()-this.aw<300){J.type=u.E.v;
J.G=$.lJ;J.data={_:"adapt",Z:"fitscr"};E.S(J)}this.aw=Date.now()};$.PC.prototype.zb=function(K,E,x,c,J){this.Ax=K.D.R.clone();
this.xQ.tn(J.x,J.y)};$.PC.prototype.il=function(K,E,x,c,J){if(!J.tj)return;if(this.Ax==null)this.zb(K,E,x,c,J);
var i=this.GX?E.Mt:[K];for(var y=0;y<i.length;y++)$.PC.T$(i[y],this.Ax.x+(J.x-this.xQ.x),this.Ax.y+(J.y-this.xQ.y))};
$.PC.prototype.N2=function(K,E,x,c,J){this.Ax=null};$.PC.T$=function(K,E,x){var c=K.D.N,J=K.D.E5,i=J.b,P=J.n,_=K.b*c,a=K.n*c,j=_<i&&a<P,e=i/2+_/2-64,d=P/2+a/2-64;
K.D.R.tn(Math.max(-e,Math.min(e,E)),Math.max(-d,Math.min(d,x)));K.Bi=!0};$.jW=function(){$.dC.call(this,[10,47],$.LE,"tools/rview");
this.xQ=new iP(0,0);this.EM=null;this.Ta=null;this.aw=0};$.jW.prototype=new $.dC;$.jW.prototype.enable=function(K,E,x,c){this.Ax=null;
var J=new i3(u.E.L,!0);J.data={_:u.c.wA,JK:"grab"};E.S(J);if(K&&Date.now()-this.aw<300&&K.D.Zm!=0){K.D.Zm=0;
K.ZI=!0}this.aw=Date.now();if(K)this.W2(K,E)};$.jW.prototype.disable=function(K,E,x,c,J){if(K)this.W2(K,E)};
$.jW.prototype.ff=function(K,E,x,c){if(K)this.W2(K,E)};$.jW.prototype.zb=function(K,E,x,c,J){this.xQ.tn(J.x,J.y);
var i=K.D;this.EM=i.gg(i.E5.b/2,i.E5.n/2);this.Ta=i.uL();var P=i.gg(i.E5.b/2,i.E5.n/2),_=Math.min(i.E5.b,i.E5.n)*.35/i.N,a=_*.2,j=P.x,e=P.y;
K.I.Xv={W:"M L L L L L".split(" "),C:[j,e,j,e-_,j+a,e,j,e+_,j-a,e,j,e-_]};K.ZI=!0};$.jW.prototype.a8n=function(K){var E=K.D,x=E.gg(E.E5.b/2,E.E5.n/2);
K.I.Xv={W:["M","L"],C:[x.x,x.y,x.x,x.y-200]}};$.jW.prototype.il=function(K,E,x,c,J){if(!J.tj)return;
var i=K.D,P=this.EM,_=this.xQ,a=new iP(i.E5.b/2,i.E5.n/2),j=Math.atan2(J.y-a.y,J.x-a.x),e=Math.atan2(_.y-a.y,_.x-a.x),d=Math.atan2(this.Ta.k,this.Ta.Cc),I=j-e,v=Math.PI/4;
if(c.l(j6.iu)){I=d+v*Math.round((I-d)/v)}this.anD(K,E,this.Ta.clone(),P,I)};$.jW.prototype.N2=function(K,E,x,c,J){K.I.Xv=null;
K.ZI=!0};$.jW.prototype.Gj=function(K,E,x,c){this.anD(x,E,null,null,K.EK-x.D.Zm);x.D.Zm=K.EK};$.jW.prototype.anD=function(K,E,x,c,J){var i=K.D;
if(x==null)x=i.uL();if(c==null)c=i.gg(i.E5.b/2,i.E5.n/2);x.translate(-c.x,-c.y);x.rotate(J);x.translate(c.x,c.y);
i.a3V(x);if(K.b*i.N<i.E5.b&&K.n*i.N<i.E5.n)i.R.tn(0,0);K.ZI=!0;this.W2(K,E)};$.jW.prototype.W2=function(K,E){var x=new i3(u.E.L,!0);
x.data={_:u.c.zy,G:this.id,EK:K.D.Zm};E.S(x)};$.bx=function(){$.YF.call(this,[10,25],$._g,"tools/hbrush")};
$.bx.prototype=new $.YF("");$.bx.prototype.N2=function(K,E,x,c,J){if(this.RY==null)return;this.SU(K,"heal",this.RY.fe(),this.RY.ZS(),this.RY.D2());
this.U(K,this.RY.D2());$.Hj.prototype.N2.call(this,K,E,x,c,J);if(!this.Ix.algnd)this.R=null};$.qn=function(K){$.dC.call(this,K?["VAR0 VAR1",[22,4,1],[10,8]]:[10,8],K?$.MD:$.H4,K?"tools/vtype":"tools/htype");
this.Yx=[];this.W5=null;this.caller=null;this.Kt=1;this.XC=null;this.az_=0;this.fc=0;this.apE=null;this.a4=null;
this.ux=null;this.j1=null;this.SR=null;this.mu=null;this.akw=null;this.vQ=null;this.Fu=null;this.CJ=null;
this.avR=null;this.pN=!1;this._4=!1;this.d_=!1;this.$m=null;this.Xa=null;this.ahM=null;this.$T=!1;this.Ge=!1;
this.CX=-1;this.vB=-1;this.P$=document.createElement("textarea");this.P$.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; "+" position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:"+(window.innerWidth-10)+"px; height:150px;");
this.P$.addEventListener("input",this.xa.bind(this),!1);this.P$.addEventListener("keydown",this.a7H.bind(this),!1);
this.P$.addEventListener("keyup",this.arp.bind(this),!1)};$.qn.prototype=new $.dC;$.qn.prototype.GT=function(K){return K.tj};
$.qn.prototype.br=function(K,E,x,c){if(this.ux!=null||this.id==$.MD)return;this.caller=E;var J=this.ayC(K);
if(J.length!=0){var i=null,P=[],_=[];for(var y=0;y<J.length;y++){var a=K.B[J[y]],j=a.add.TySh,e=0,d=ev.w1(j.kd).length-2,I=ev.Jw(j.kd,e,d);
ev.df(I,j.u.pA());if(I.BY.Font!=null)I.BY.Font=I.Ho[I.BY.Font].Name;i=I.Ho;P.push(I.BY);_.push(I.sn)}var I={Ho:i,BY:ev.hH(P),sn:ev.hH(_)};
if(I.BY.Font!=null)ev.H8(I,I.BY.Font);this.ahm(E,I,j)}};$.qn.prototype.ayC=function(K){var E=[];for(var y=0;
y<K.g.length;y++)if(K.B[K.g[y]]&&K.B[K.g[y]].add.TySh)E.push(K.g[y]);return E};$.qn.prototype.Qp=function(K,E,x,c,J){var i=K._=="insertGlyph",P=K._=="copyText",_=K._=="selectAll";
if((i||P||K._=="insertText"||_)&&this.ux){var a=i?String.fromCharCode(65533):K.Z,j=this.P$,e=j.value,d=j.selectionStart,I=j.selectionEnd;
if(P){hP.V1(new Blob([e.slice(d,I)],{type:"text/plain"}))}else if(_){this.CX=j.selectionStart=0;this.vB=j.selectionEnd=e.length;
this.Ov(x);j.focus()}else{j.value=e.slice(0,d)+a+e.slice(I);j.selectionStart=j.selectionEnd=d+a.length;
this.xa(null,i?K.Z:null);j.focus()}}if(K._=="updateStyles"){if(this.ux==null){var v=this.ayC(x),n=!1;
if(v.length!=0){this.LM(x,E,J,v);for(var y=0;y<v.length;y++){var C=x.B[v[y]],T=C.add.TySh;ev.kE(T,this.Kt);
this.ux=C;var o=ev.w1(T.kd);this.CX=0;this.vB=o.length-1;ev.q1(T.kd,this.CX,this.vB,this.gE(J,T));var s=this.jY(x,J);
if(s==!1)n=!0}if(n){this.$T=!0;return}this.Yv(x,E)}return}this.nh(J)}if(K._.startsWith("warp")){var Q=this.Ge;
if(K._=="warp"||K._=="warpCancel"){if(this.ux==null)return;if(K._=="warp")this.ux.add.TySh.K_=K.HA;else this.ux.add.TySh.K_=this.akw;
this.jY(x,J);if(!Q)this.Ov(x)}if(K._!="warp")this.P$.focus();if((K._=="warpConfirm"||K._=="warpCancel")&&Q){this.Ge=!1;
if(K._=="warpConfirm")this.Yv(x,E);else this.v$(x,E)}}if(K._=="editCurr"){if(J.OI!=$.H4){this.XC=J.OI;
var X=new i3(u.E.L,!0);X.data={_:u.c.iM,G:$.H4};E.S(X)}if(this.ux!=null)this.disable(x,E,J,c);this.W5=J;
this.caller=E;this.LM(x,E,J,[K.cA]);var o=ev.w1(this.ux.add.TySh.kd);this.CX=0;this.vB=o.length-1;this.Ov(x);
this.q6();this.P$.focus()}if(K._=="switchPntPrgr"){if(this.ux)return;var C=x.B[x.g[0]],T=C.add.TySh,B=T.u.pA(),M=JSON.parse(JSON.stringify(T.kd)),S=ev.p1(M),f=S==1?ev.Cn(M):[0,0,Math.round(C.rect.b*1.05/B),Math.round(C.rect.n*1.25/B)],F=ev.Jw(M,0,0),G=F.Ho[F.BY.Font].Name,D=J.ir.i2(G),b=[0,f[2],f[2]/2][F.sn.Justification%3],H=D?dQ.YY(D,G,F.BY):F.BY.FontSize*.8;
ev.IT(M,1-S);if(S==0){b=-b;H=-H;ev.sV(M,[0,0,f[2],f[3]])}var q=new iQ(1,0,0,1,b,H);q.concat(T.u);this.Qp({RB:x.g[0],_:"newED",wr:M,u:q,a8A:[16,3,S==1?0:1]},E,x,c,J)}if(K._=="newED"){var C=x.B[K.RB],T=C.add.TySh,O=this.JL(x,[K.RB]);
T.kd=K.wr;if(K.u)T.u=K.u;if(cl.nf(T,J.ir,E)){cl.jY(C,J.ir,x);x.U()}else x.zc=!0;var w=new im(K.a8A?K.a8A:this.name,this);
w.data={Zp:O,gb:this.JL(x,[K.RB])};x.i1(w)}if(K._=="fromAction"){var V=K.t7.Ks.Usng.v,t=V.TxtC.v,m=[];
for(var y=0;y<2;y++){var g=t[y==0?"Hrzn":"Vrtc"].v,a=g.val;if(g.type=="#Prc")a=(y==0?x.b:x.n)*(a/100);
m[y]=a}this.FG(x,E,J,c,x.D.An(m[0],m[1]),!0);var C=x.B[x.g[0]],T=C.add.TySh,Y=T.kd,e=ev.w1(Y);ev.rf(Y,0,e.length-1);
ev.tW(Y,0,V.Txt.v.replace(/\r/g,"\n"));e=ev.w1(Y);for(var S=0;S<2;S++){var A=V[S==0?"Txtt":"paragraphStyleRange"].v;
for(var y=0;y<A.length;y++){var k=A[y].v,d=k.From.v,I=Math.min(k.T.v-1,e.length-1);k=k[S==0?"TxtS":"paragraphStyle"].v;
var z=ev.Jw(Y,d,I),p=S==0?z.BY:z.sn;for(var L in k){var N=k[L].v;if(L=="Sz")p.FontSize=Math.round(N.val*(N.type=="#Pnt"?x.B8/72:1));
else if(L=="fontPostScriptName")ev.H8(z,N);else if(L=="Algn")p.Justification={Left:1,Cntr:2}[N.Alg];
else if(L=="leading")p.Leading=k[L].v.val;else if(L=="baselineShift")p.BaselineShift=k[L].v.val;else if(L=="autoLeading")p.AutoLeading=k[L].v;
else if(L=="syntheticBold")p.FauxBold=k[L].v;else if(L=="syntheticItalic")p.FauxItalic=k[L].v;else if(L=="Trck")p.Tracking=k[L].v;
else if(L=="verticalScale")p.VerticalScale=k[L].v/100;else if(L=="horizontalScale")p.HorizontalScale=k[L].v/100;
else if(L=="Clr")p.FillColor={Type:1,Values:[1,N.Rd.v/255,N.Grn.v/255,N.Bl.v/255]}}ev.q1(Y,d,I,z)}}if(cl.pZ(x,J.ir,E))cl.jY(C,J.ir,x);
else x.zc=!0;x.U();this.Yv(x,E)}};$.qn.prototype.nh=function(K){var E=Math.min(this.CX,this.vB),x=Math.max(this.CX,this.vB),c=this.ux.add.TySh;
ev.kE(c,this.Kt);var J=this.gE(K,c);ev.q1(c.kd,E,x-1,J);var i=this.caller.Qx(),P=this.jY(i,K);if(P)this.Ov(i);
if(document.activeElement.tagName.toLowerCase()!="input")this.P$.focus()};$.qn.prototype.Xo=function(K){return this.Yx.indexOf(K)!=-1};
$.qn.prototype.enable=function(K,E,x,c){var J=this.P$;E.e.appendChild(J);this.vQ="default";this.vc(E)};
$.qn.prototype.eb=function(){return this.ux!=null};$.qn.uX=function(K,E){for(var y=K.B.length-1;y>=0;
y--){var x=K.B[y];if(x.add.TySh&&x.rect.YO(E)&&K.a1w(y)){var c=x.M0(31);return c?-2:y}}return-1};$.qn.prototype.zb=function(K,E,x,c,J){this.W5=x;
this.caller=E;var i=K.D.gg(J.x,J.y),P=this.ux==null;if(P){var _=$.qn.uX(K,i);if(_==-2){alert(hg.get([6,57,0]));
return}if(_>=0&&!c.l(j6.iu)){if(!cl.nf(K.B[_].add.TySh,x.ir,E)){alert("Fonts not loaded yet");return}this.LM(K,E,x,[_])}else{this.d_=!0;
this.$m=J;return}}var a=P?-1:ev.p1(this.ux.add.TySh.kd),j=this.CJ?this.CJ:this.Fu;if(j&&j.zb(K,x,c,i,null,null,J)&&W.HA.eS(this.ux.add.TySh.K_)||!P&&W.p.Wr(i,this.ux.rect)>20/K.D.N&&(a==0||a==1)){this.pN=!0;
this.Xa=i;this.ahM=this.ux.add.TySh.u.clone();if(this.CX==-1&&this.vB==-1)this.CX=this.vB=this.Z_(i)}else{if(this.SR==null){alert("Fonts not loaded yet");
return}this._4=!0;this.CX=this.vB=this.Z_(i);var e=Date.now();if(e-this.az_>300)this.fc=0;this.fc++;
this.az_=e;if(this.fc==2)this.a70();if(this.fc==3)this.a5o();if(this.fc>1){this._4=!1}}this.q6();this.Ov(K)};
$.qn.prototype.LM=function(K,E,x,c){var J=K.B[c[0]];this.ux=J;this.mP(E,u.E.L,{_:u.c.zy,G:this.id,BM:"showactive"});
this.j1=c;K.g=c.slice(0);K.JT();K.HB=!0;this.mu=this.JL(K,c);this.Qq(J.add.TySh);this.jY(K,x)};$.qn.prototype.Qq=function(K){if(ev.p1(K.kd)!=1)return;
var E=ev.Cn(K.kd);E=new cS(0,0,E[2]-E[0],E[3]-E[1]);var x=[E.x,E.y,E.x+E.b,E.y,E.x+E.b,E.y+E.n,E.x,E.y+E.n];
W.p.u(x,K.u,x);this.Fu=new iB(x,!1,!1,!1,!0)};$.qn.prototype.a70=function(){var K=ev.w1(this.ux.add.TySh.kd);
this.CX=this.a6X(K,this.CX);this.vB=this.ave(K,this.CX)};$.qn.prototype.a6X=function(K,E){var x=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",c=[];
for(var y=0;y<x.length;y++)c.push(x.charAt(y));var J=c.indexOf(K[E])==-1?!0:!1;for(var y=E-1;y>=0;y--)if(c.indexOf(K.charAt(y))!=-1==J)return y+1;
return 0};$.qn.prototype.ave=function(K,E){var x=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",c=[];for(var y=0;
y<x.length;y++)c.push(x.charAt(y));var J=c.indexOf(K[E])==-1?!0:!1;for(var y=E+1;y<K.length;y++)if(c.indexOf(K.charAt(y))!=-1==J)return y;
return K.length-1};$.qn.prototype.a5o=function(){var K=this.SR.ad2(this.CX);this.CX=K[0];this.vB=K[1]};
$.qn.prototype.vc=function(K){var E=new i3(u.E.L,!0);E.data={_:u.c.wA,JK:this.vQ};K.S(E)};$.qn.prototype.il=function(K,E,x,c,J){var i=K.D.gg(J.x,J.y),P=this.ux;
if(!J.tj){var _="default",a=this.Fu,j=this.CJ?this.CJ:a;if(j&&W.HA.eS(P.add.TySh.K_)){var e=j.DK(i,K.D.N,null,J);
if(e)_=e;else if(j==a&&a.FX(i))_="text"}else if(P&&W.p.Wr(i,P.rect)>20/K.D.N)_="move";else if($.qn.uX(K,i)>=0)_="text";
if(_!=this.vQ){this.vQ=_;this.vc(E)}}var d=this.$m;if(this.d_&&Math.min(J.x-d.x,J.y-d.y)>4/K.D.N){this.d_=!1;
this.FG(K,E,x,c,J);P=this.ux;this.pN=!0;this.Fu=new iB(null,!1,!1,!1,!0);var I=K.D.gg(this.$m.x,this.$m.y);
I.x=Math.round(I.x);I.y=Math.round(I.y);this.Fu.zb(K,x,c,I,null,null,J,K.D.Zm)}if(this.pN){var v=P.add.TySh;
if(this.CJ){this.CJ.il(K,x,c,i);var n=W.K.vA(W.K.AS(this.CJ.iU(),this.avR));v.u=n;this.jY(K,x);ev.M6(v)}else if(this.Fu){this.Fu.il(K,x,c,i);
var C=v.u.clone(),T=Math.atan2(C.k,C.Cc);C.rotate(T);var n=W.K.vA(W.K.AS(this.Fu.iU())),o=Math.atan2(n.k,n.Cc);
n.rotate(o);if(!isNaN(n.Cc)&&n.Cc*n.Ga-n.k*n.o0!=0){var s=new cS(0,0,n.Cc/C.Cc,n.Ga/C.Ga),Q=Math.round(s.b),X=Math.round(s.n),B=v.kd.Curve;
if(B){var M=ev.Cn(v.kd),S=new iQ(Q/M[2],0,0,X/M[3],0,0);W.p.u(B.Points,S,B.Points);ev.M6(v)}ev.sV(v.kd,[0,0,Q,X]);
v.u=W.K.vA(W.K.AS(this.Fu.iU(),s));this.jY(K,x);ev.M6(v)}}else{var f=i.x-this.Xa.x,F=i.y-this.Xa.y;v.u=this.ahM.clone();
var G=new iP(v.u.qW+f,v.u.Ju+F);G=$.DU.W1(K,G,x);v.u.qW=G.x;v.u.Ju=G.y;this.jY(K,x)}}if(this._4)this.vB=this.Z_(i);
if(this.pN||this._4)this.Ov(K)};$.qn.prototype.FG=function(K,E,x,c,J,i){var P=K.Ox(),_=P[0],a=P[1],j=K.EY();
j.add.lnsr="rend";var e=K.B.slice(0);j.yH("Text layer "+e.length);this.ux=j;var d=K.g.length==0?K.B.length-1:K.g[K.g.length-1],I=d+1;
if(e[d].add.lsct==fV.Bm)I--;this.mu={CO:e.slice(0),RK:K.g.slice(0)};e.splice(I,0,j);K.g=[I];this.CX=this.vB=0;
K.yu(e);this.mu.Y1=e.slice(0);this.mu.sR=K.g.slice(0);this.mP(E,u.E.L,{_:u.c.zy,G:this.id,BM:"showactive"});
var v=K.D.gg(J.x,J.y),n=x.H5;console.log(n);if(this.id==$.MD){n=JSON.parse(JSON.stringify(n));n.BY.BaselineDirection=1}j.add.TySh=ev.l4(v.x,v.y,n,K.D.Zm);
var C=j.add.TySh,T=C.kd;if(this.id==$.MD)T._LineOrientation=2;ev.kE(C,this.Kt);if(J.tj)ev.IT(T,1);else{ev.IT(T,0);
var o=_[a.pop()],s=o?o.add.vmsk:null;if(i)s=null;if(s&&!c.l(j6.iu)){s=s.clone();var Q=s.i,B,M;for(var y=0;
y<Q.length;y++)if(Q[y].qX!=null)Q[y].qX=0;var X=5/K.D.N;B=W.r.ds(s.i,v,!0,X);if(B.JD==-1)B=W.r.ds(s.i,v);
if(B.JD!=-1){ev.IT(T,1);var S=W.r.J2(Q,B.JD),f=W.r.Hz(Q,B.JD)-1;Q=s.i=Q.slice(0,2).concat(Q.slice(S,S+f+1));
s.g=[];C.add={vmsk:s,vogk:Z.yt(Q)};T.Curve={};ev.Be(C);if(B.KS!=null){var F=dQ.zY(T.Curve);W.p.u(F[0],C.u,F[0]);
var G=W.p.fq(F[0],v.x,v.y),D=x.H5.sn.Justification;if(D==2||D==5){var b=(F[2][G]+F[3]*.5)%F[3];G=dQ.CH(b,F[2])}var H=F[1][G];
H=H%f;s.D7=[H,H];ev.Be(C)}else this.Qq(C)}}}return j};$.qn.prototype.N2=function(K,E,x,c,J,i){if(i){this.d_=!1;
return}if(this.ux==null&&!this.d_)return;var P=K.D.gg(J.x,J.y),_=this.d_;if(this.d_){this.d_=!1;this.FG(K,E,x,c,J);
this._4=!0}if(this.pN||this._4){this.Ov(K);this.q6();if(_)this.nh(x)}if(this.pN&&this.Fu)this.Fu.N2(K,x,c,P);
this.pN=this._4=!1;this.P$.focus()};$.qn.prototype.q6=function(){var K=this.ux.add.TySh,E=Math.min(this.CX,this.vB),x=Math.max(this.CX,this.vB),c,J;
if(E==x){var i=ev.w1(K.kd);if(E==0||i.charAt(E-1)=="\n")c=J=E;else c=J=E-1}else{c=E;J=x-1}var P=ev.Jw(K.kd,c,J);
ev.df(P,K.u.pA());this.ahm(this.caller,P,K)};$.qn.prototype.ahm=function(K,E,x){this.mP(K,u.E.L,{_:u.c.Na,ry:eu.xl,H5:E});
var c=this.Kt=ev.la(x);this.mP(this.caller,u.E.L,{_:u.c.zy,G:this.id,BM:"changeAA",iz:c})};$.qn.prototype.oG=function(K,E,x,c,J){if(K==null)return;
var i=K.D.gg(J.x,J.y),P=$.qn.uX(K,i);if(P==-1)return;var _=new i3(u.E.L,!0);_.data={_:u.c.zy,G:this.id,BM:"showpan",aol:this.ux!=null,cA:P,SQ:J,tD:K,W5:x};
E.S(_)};$.qn.prototype.a5Z=function(){var K=this.ux;if(K&&!this.pN&&this.CJ!=null){var E=this.caller.Qx();
this.CJ.N2(E,this.W5,null,null);this.CJ=null;this.Qq(K.add.TySh);this.Ov(E)}};$.qn.prototype.disable=function(K,E,x,c){var J=this.ux;
this.Yv(K,E)};$.qn.prototype.Gj=function(K,E,x,c,J){if(this.Ge)return;if(K.BM=="commit")this.Yv(x,E);
if(K.BM=="cancel")this.v$(x,E);if(K.BM=="changeAA"){this.Kt=K.iz;if(x!=null)this.Qp({_:"updateStyles"},E,x,c,J)}if(K.BM=="showwarp"){if(x==null)return;
if(this.ux==null){var i=x.B[x.g[0]],P=i.add.TySh;if(P==null)return;this.LM(x,E,J,[x.g[0]]);this.P$.focus();
this.Ge=!0}this.akw=this.ux.add.TySh.K_;var _=new i3(u.E.L,!0);_.data={_:u.c.v9,xc:"textwarp"};E.S(_)}};
$.qn.prototype.Q3=function(K,E){if(E!=eu.r8)return;if(this.$T){this.$T=!1;var x=this.caller.Qx(),c=this.j1;
for(var y=0;y<c.length;y++){this.ux=x.B[c[y]];this.jY(x,K)}this.Yv(x,this.caller);return}if(this.ux)this.nh(K)};
$.qn.prototype.gE=function(K,E){var x=JSON.parse(JSON.stringify(K.H5));ev.df(x,1/E.u.pA());return x};
$.qn.prototype.RO=function(K,E){if(K.Zp!=null)this.nC(E,K.gb);else this.aiH(E,K.Y1,K.sR)};$.qn.prototype.Bn=function(K,E){if(K.Zp!=null)this.nC(E,K.Zp);
else this.aiH(E,K.CO,K.RK)};$.qn.prototype.nC=function(K,E){for(var y=0;y<E.length;y++){var x=E[y],c=x.RB,J=K.B[c];
J.buffer=x.AJ;J.rect=x.ZE.clone();J.U();J.vJ.gW=null;J.vJ.path=null;var i=J.add.TySh;i.K_=x.HA;i.T6=x.T6.clone();
i.u=x.u.clone();i.kd=JSON.parse(JSON.stringify(x.kd));J.Te()}K.U()};$.qn.prototype.JL=function(K,E){var x=[];
for(var y=0;y<E.length;y++){var c=E[y],J=K.B[c],i=J.add.TySh;x.push({RB:c,u:i.u.clone(),HA:JSON.parse(JSON.stringify(i.K_)),T6:i.T6.clone(),kd:JSON.parse(JSON.stringify(i.kd)),AJ:J.buffer.slice(0),ZE:J.rect.clone()})}return x};
$.qn.prototype.aiH=function(K,E,x){K.g=x;K.yu(E);K.U();K.Xw=!0};$.qn.prototype.jY=function(K,E,x){if(x==null)x=!1;
var c=this.ux.add.TySh;if(!cl.nf(c,E.ir,this.caller))return!1;if(!x){var J=ev.w1(c.kd);this.P$.value=J.slice(0,J.length-1)}var i=this.ux.rect,P=cl.jY(this.ux,E.ir,K);
this.SR=P[0];var _=P[1];if(W.HA.eS(c.K_))c.T6=new cS;else{if(ev.p1(c.kd)==1){var a=ev.Cn(c.kd),hr=_.T6.y;
c.T6=new cS(0,hr,a[2]-a[0],a[3]-a[1]-hr)}else c.T6=_.T6}K.p7();K.U(K.root.Vw(_.ZE.XN(i),K,K.B.indexOf(this.ux)));
return!0};$.qn.prototype.xa=function(K,E){if(this.ux==null||this.Ge)return;var x=this.P$.selectionStart,c=this.ux.add.TySh,J=ev.w1(c.kd),i=this.P$.value+"\n",P=Math.min(this.CX,this.vB),_=Math.max(this.CX,this.vB),I=!1;
this.CX=Math.min(x,P);if(i.length-x<J.length-this.vB)this.vB=J.length-i.length+x;if(J!=i){while(this.CX>0&&J.charAt(this.CX-1)!=i.charAt(this.CX-1))this.CX--}var a=J.substring(0,this.CX),j=J.substring(this.vB,J.length),e=i.substring(this.CX,i.length-j.length);
ev.rf(c.kd,this.CX,this.vB);ev.tW(c.kd,this.CX,e);if(E!=null)ev.avY(c.kd,this.CX,E);var d=this.gE(this.W5,c),v=-1,n=Array.from(e);
for(var y=0;y<n.length;y++)v=Math.max(v,n[y].codePointAt(0));if(v!=-1&&v>128&&v!=65533&&d.BY.Font!=null){var C=d.Ho[d.BY.Font].Name,T=this.W5.ir.MH(v,C,d.Ho);
if(C!=T){ev.H8(d,T);I=!0}}if(this.a4!=null&&e==this.a4){var o=JSON.parse(this.apE);d.BY=o.BY;d.Ho=o.Ho;
I=!0}ev.q1(c.kd,this.CX,this.CX+e.length-1,d);this.CX=this.vB=a.length+e.length;var s=this.caller.Qx(),Q=this.jY(s,this.W5,!0);
if(Q)this.Ov(s,!0);if(I)this.q6()};$.qn.prototype.arp=function(K){var E=j6;if(!K.ctrlKey)this.a5Z();
K.stopPropagation()};$.qn.prototype.a7H=function(K){K.stopPropagation();var E=K.ctrlKey||K.metaKey,x=j6,a=0,j=0,Q=0,q=!1;
if(this.ux==null||this.Ge)return;if(this.ux==null)return;var c=this.caller.Qx();if(this.CJ==null&&E){var J=this.ux.add.TySh,i=ev.p1(J.kd),P;
if(i==1){P=ev.Cn(J.kd);P=new cS(0,0,P[2]-P[0],P[3]-P[1])}else P=this.SR.Ds();var _=[P.x,P.y,P.x+P.b,P.y,P.x+P.b,P.y+P.n,P.x,P.y+P.n];
W.p.u(_,J.u,_);this.CJ=new iB(_,!0,!0,!1,!1);this.avR=P;this.Ov(c)}if(x.MQ(K.code,x._J))a=1;if(x.MQ(K.code,x.m9))a=-1;
if(x.MQ(K.code,x.Wp))j=-1;if(x.MQ(K.code,x.YD))j=1;var e=x.MQ(K.code,j6.kg),d=x.MQ(K.code,j6.awj);if(x.MQ(K.code,j6.Tt)&&E){this.Yv(c,this.caller);
return}if(x.MQ(K.code,j6.go)){this.v$(c,this.caller);return}if(x.MQ(K.code,j6.H2)){K.preventDefault();
var I=this.P$,v=I.value,n=I.selectionStart,C=I.selectionEnd;I.value=v.substring(0,n)+"\t"+v.substring(C);
I.selectionStart=I.selectionEnd=n+1;this.xa(null);return}var T=x.MQ(K.code,x.Q5),o=x.MQ(K.code,x.jb);
if(E&&(T||o)){K.preventDefault();var s=new i3(u.E.v,!0);s.G=$.lJ;s.data={_:"zoom",Bq:T};this.caller.S(s)}if(x.MQ(K.code,x.e1))Q=1;
if(x.MQ(K.code,x.C0))Q=-1;var X=this.CX==this.vB,B=E&&K.shiftKey&&Q!=0&&!X;if(B||K.altKey&&a!=0){var M=JSON.parse(JSON.stringify(this.W5.H5));
if(B){var S=M.BY.FontSize;if(S==null)S=16;M.BY.FontSize=Math.max(1,S+Q*(K.altKey?5:1))}else{if(X){M.BY.Kerning+=20*a;
M.BY.AutoKerning=!1}else M.BY.Tracking+=20*a}K.preventDefault();var f=new i3(u.E.L,!0);f.data={_:u.c.Na,ry:eu.xl,H5:M};
this.caller.S(f);var s=new i3(u.E.v,!0);s.G=$.H4;s.data={_:"updateStyles"};this.caller.S(s);return}if((x.MQ(K.code,x.ww)||x.MQ(K.code,x.s7))&&E){var F=this.CX,G=this.vB;
if(F>G){var D=F;F=G;G=D}var J=this.ux.add.TySh,b=ev.w1(J.kd);if(F!=G){this.a4=b.slice(F,G);this.apE=JSON.stringify(this.W5.H5)}}var H=ev.w1(this.ux.add.TySh.kd);
if(a!=0||j!=0||e||d){K.preventDefault();var O=this.CX;if(a!=0){if(E&&a==-1)O=this.a6X(H,this.CX-1);else if(E&&a==1)O=this.ave(H,this.CX);
else{var I=this.P$,v=I.value;O=this.CX+a;if(O!=0&&v.codePointAt(O-1)>65535)O+=a}}else if(j!=0){var w=this.SR.Za(this.CX);
if(j==-1&&w.fN==0)O=0;else if(j==1&&w.fN==this.SR.arR()-1)O=99999999999;else O=this.SR.a1V(new iP(w.ZE.x+w.ZE.b/2,0),w.fN+j)}else if(e){var V=this.CX-1;
while(V>0&&H.charCodeAt(V)!=10)V--;O=V==0?0:V+1}else if(d){var V=this.CX;while(V<H.length-1&&H.charCodeAt(V)!=10)V++;
O=V}O=Math.max(0,Math.min(H.length-1,O));if(K.shiftKey)this.CX=O;else this.CX=this.vB=O;q=!0}if(x.MQ(K.code,j6.c)&&E){this.CX=0;
this.vB=H.length-1;q=!0}if(q){this.q6();this.Ov(c)}};$.qn.a5F=function(K,E){var x=K.length;if(x!=E.length)return!1;
for(var y=0;y<x;y++)if(K[y].RB!=E[y].RB)return!1;return!0};$.qn.prototype.Yv=function(K,E){if(this.ux==null)return;
this.ux.Te();var x=this.mu;if(x instanceof Array){var c=this.JL(K,this.j1),J=K.$z();if(J!=null&&J.G==this&&J.data.Zp&&$.qn.a5F(J.data.Zp,x))J.data.gb=c;
else{var i=new im(this.name,this);i.data={Zp:x,gb:c};K.i1(i)}}else{var i=new im(this.name,this);i.data={CO:x.CO,Y1:x.Y1,RK:x.RK,sR:x.sR};
K.i1(i)}this.escape(K,E)};$.qn.prototype.v$=function(K,E){if(this.ux==null)return;if(this.mu instanceof Array){this.nC(K,this.mu);
if(this.ux)ev.M6(this.ux.add.TySh)}else{K.g=this.mu.RK;K.yu(this.mu.CO);K.Xw=!0}K.U();this.escape(K,E)};
$.qn.prototype.escape=function(K,E){this.a5Z();this.ux=null;this.j1=null;this.SR=null;this.Fu=null;this.P$.blur();
K.I.Xv=null;K.I.zZ=null;K.I.Lt=[];K.ZI=!0;this.pN=!1;this._4=!1;this.CX=this.vB=-1;this.mP(E,u.E.L,{_:u.c.zy,G:this.id,BM:"hideactive"});
if(this.XC){var x=new i3(u.E.L,!0);x.data={_:u.c.iM,G:this.XC};E.S(x);this.XC=null}};$.qn.prototype.mP=function(K,E,x,c){var J=new i3(E,!0);
J.data=x;if(c)J.G=c;K.S(J)};$.qn.prototype.Z_=function(K){var E=this.ux.add.TySh,x=this.SR,c=E.u.clone();
c.Pa();var J=c.iR(K),i=ev.ZS(E,x),P=W.HA.q5(E.K_,i),_=W.HN.afI(P,J);if(_==null)_=new Float64Array(2);
J=new iP(i.x+_[0]*i.b,i.y+_[1]*i.n);if(x.ay){var a=x.ay.clone();a.Pa();J=a.iR(J)}var j=x.a1V(J);return j};
$.qn.prototype.Ov=function(K,E){if(E==null)E=!1;var x=this.ux.add.TySh,c=ev.p1(x.kd),J=this.SR,i=J?ev.ZS(x,J):null;
K.I.Lt=[];K.I.Xv=null;K.I.zZ=null;var P=this.CJ?this.CJ:this.Fu;if(P){P.d7(K,this.W5,!W.HA.eS(x.K_));
var _=x.u.clone();_.Pa();if(J&&J.ay&&J.cl==1){var a=J.ay.clone();a.Pa();_.concat(a)}W.p.u(K.I.Lt,_,K.I.Lt);
W.p.u(K.I.Xv.C,_,K.I.Xv.C);if(J&&J.ay==null&&J.au0()){var j=i.b-20,e=i.n+8;K.I.Xv.C.push(j,e,j+10,e,j+5,e-5,j+5,e+5);
K.I.Xv.W.push("M","L","M","L")}}else if(c==0)this.aa2(K,x,J);else K.I.Xv={C:[],W:[]};var d=Math.min(this.CX,this.vB),I=Math.max(this.CX,this.vB);
if(!E){this.P$.selectionStart=d;this.P$.selectionEnd=I}if(J!=null){var v=function(P,X){var B=P.x,M=P.y+P.n,S=new iQ;
S.translate(-B,-M);S.rotate(-X);S.translate(B,M);P.y+=P.n*.27;var Q=W.p.VD(P);W.p.u(Q.C,S,Q.C);return Q};
if(d==I){d=Math.max(d,0);var n=J.Za(d);if(n){var C=n.ZE,T=this.W5.H5.BY.FontSize;if(T!=null&&T!=0){T/=x.u.pA();
C.y+=C.n-T;C.n=T}var o=J.ay6(d);if(o!=null&&o.Yd==1)C.x+=C.b;var s=v(C,n.Zm).C;K.I.Xv.W.push("M","L");
K.I.Xv.C.push(s[0],s[1]-1,s[6],s[7]-1)}}else{K.I.zZ={C:[],W:[]};for(var y=d;y<I;y++){var n=J.Za(y),Q=v(n.ZE,n.Zm);
W.p.concat(K.I.zZ,Q)}}}K.I.Xv=cl.ND(K.I.Xv,x,J);K.I.zZ=cl.ND(K.I.zZ,x,J);K.I.Lt=cl.ND({C:K.I.Lt},x,J).C;
K.ZI=!0};$.qn.prototype.aa2=function(K,E,x){if(x==null)return;K.I.Lt.push(0,0);if(K.I.Xv==null)K.I.Xv={W:[],C:[]};
for(var y=0;y<x.sn.length;y++){var c=x.sn[y];for(var J=0;J<c.R$.length;J++){var i=c.R$[J],P=c.Th.x+i.Th.x+i.ZE.x,_=c.Th.y+i.Th.y+i.ZE.y+i.ZE.n;
K.I.Xv.W.push("M","L");K.I.Xv.C.push(P,_,P+i.ZE.b,_)}}K.ZI=!0};$.adZ=function(){$.qn.call(this,!0)};
$.adZ.prototype=new $.qn;$.yV=function(){$.cx.call(this,[10,9],$.T3,"tools/lasso");this.h9="crosshair";
this.k7=null;this.oD=null;this.Xa=null};$.yV.prototype=new $.cx;$.yV.prototype.EN=function(K,E,x,c){this.k7=this.yy;
this.oD={C:[this.k7.x,this.k7.y],W:["M"]}};$.yV.prototype.fw=function(K,E,x,c){this.Xa=c;var J=this.oD;
if(J==null)return;if(!c.tj){if(this.oD!=null&&this.A4>1&&x.l(j6.iE)){J.C.pop();J.C.pop();J.C.push(this.vw.x,this.vw.y);
K.I.Xv=J;K.ZI=!0}return}J.W.push("L");J.C.push(this.vw.x,this.vw.y);this.k7=this.vw;if(this.da){K.I.Xv=J;
K.ZI=!0}};$.yV.prototype.eb=function(){return this.oD!=null};$.yV.prototype.FS=function(){return this.oD!=null};
$.yV.prototype._G=function(K,E,x,c){$.cx.prototype._G.call(this,K,E,x,c);if(this.oD&&this.A4>1&&this.Xa&&!this.Xa.tj&&!c.l(j6.iE))this.a8F(K,x,c)};
$.yV.prototype.eL=function(K,E,x,c){this.Xa=c;var J=this.oD;if(J==null)return;if(this.A4>1&&x.l(j6.iE)){J.W.push("L");
J.C.push(this.vw.x,this.vw.y);return}this.a8F(K,E,x)};$.yV.prototype.a8F=function(K,E,x){this.finish(K,E,x,this.Xa);
this.oD=null;K.I.Xv=null;K.ZI=!0};$.yV.prototype.getSelection=function(K,E,x,c){if(this.yy.ac(this.vw)||!this.da)return null;
return $.cx.YC(this.oD.C,null,this.Ix.anta)};$.DU=function(){$.dC.call(this,[10,11],$.x3,"tools/move");
this.PM=new iP(0,0);this.xs=new iP(0,0);this.cW=null;this.BZ=null;this.CU=new iP(0,0);this.Xs=null;this.ll=null;
this.H3=null;this.aw=0;this.t$=null;this.Ma=[];this.Yh=null;this.rb=null;this.Z7=!1;this._=0;this.at=null;
this.Ji=null;this.so=null;this.LS=!1;this.Ix={Xg:!1,kO:!1,dM:!1,ajZ:1};this.aau=!1;this.awu=!1;this.Fu=null;
this.Ml=null;this.a67=null;var K=[];for(var y=0;y<W.uz.ko.length;y++)K.push({name:W.uz.ko[y],q:function(E,x,c){return{Wa:x.Vp.OZ==c}}});
this.Rw=new cQ(K);this.Rw.w("select",this.C2,this)};$.DU.prototype=new $.dC;$.dC.prototype.GT=function(K){return this.Z7&&this._!=2};
$.DU.prototype.auY=function(){return this.Z7&&(this._==0||this._==1)};$.DU.prototype.ff=function(K,E,x,c){this.HE(K,-this.CU.x,-this.CU.y);
this.CU.tn(0,0);this.gq(K,null,x);this.ns(K)};$.DU.prototype.B7=function(){var K=this.Ix;return[K.Xg?1:0,K.kO?1:0,K.dM?1:0]};
$.DU.prototype.Mp=function(K,E,x){var c=this.Ix;if(K&&K[0]!=null)c.Xg=K[0]==1;if(K&&K[1]!=null)c.kO=K[1]==1;
if(K&&K[2]!=null)c.dM=K[2]==1;var J=new i3(u.E.L,!0);J.data={_:u.c.zy,G:this.id,_q:c,au9:E};x.S(J)};
$.DU.abw=function(K,E,x,c,J,i,P){if(P==null)P=[!1,!0];var _=K.zD(null,J,!0),a,j;if(K.add.artd&&K.g.length==1&&K.B[K.g[0]].add.artb){var e=K.B[K.g[0]].IZ();
a=K.W_(_,e,e)[0]}else{var d=new cS(0,0,K.b,K.n),a=K.W_(_,P[0]?d:null,P[1]?null:d)[0];delete a.add.artd;
if(P[1]){var v=W.j_(a.S7(),new cS(0,0,a.b,a.n),2);$.$a.cJ(a,v)}}if(x!=1){var n=new cS(0,0,Math.round(a.b*x),Math.round(a.n*x));
$.$a.cJ(a,n);var C=[];for(var y=0;y<a.B.length;y++)C.push(y);var T=$.Xq.CI(a,C,!0);$.$a.VK(a,new iQ(x,0,0,x,0,0));
$.Xq.c4(a,c,C,T,1,W.K.y5(new iQ(x,0,0,x,0,0)),null,!0);a.DJ()}else if(j){a.U();a.DJ()}var o=[];for(var y=0;
y<E.length;y++)if(a.b*a.n!=0)o.push(gr.ca(a,E[y].toUpperCase(),null,null,i?i[y]:null,c));return o};$.DU.prototype.a9l=function(K,E,x,c,J){if(K==null||K.g.length==0)return;
var i=$.DU.abw(K,[E],x,c,null)[0],P=new i3(u.E.L,!0);P.data={_:u.c._X,data:i,name:K.B[K.g[0]].getName()+(x==1?"":"@"+x+"x")+"."+E};
J.S(P)};$.DU.prototype.Gj=function(K,E,x,c,J){if(K.S8=="getPNG"){this.a9l(x,"png",K.LA,J,E)}else if(K.S8=="getSVG"){this.a9l(x,"svg",K.LA,J,E)}if(K.S8=="prms"){this.Ix=K;
this.ns(x)}};$.DU.anv=function(K){var hr=K.length,x=0;K.sort(function(i,P){return i[0]+i[1]/2-(P[0]+P[1]/2)});
var E=K[hr-1][0]+K[hr-1][1]-K[0][0];for(var y=0;y<hr;y++)x+=K[y][1];var c=Math.round((E-x)/(hr-1)),J=K[0][0];
for(var y=0;y<hr;y++){K[y][0]=J;J+=K[y][1]+c}};$.DU.prototype.Qp=function(K,E,x,c,J){var i=K._;if(i=="trsl"){var P=Math.round(K.Hr),_=Math.round(K.Og);
this.CU.tn(P,_);this.hG(x,E,c,J,!1,K.j);this.HE(x,P,_);this.gq(x,null,J)}else if(i=="fcmy"||i=="fvec"){var a=["RGB","CMYK"][K.Z]+" Color";
if(i=="fvec")a=["Raster","Vector"][K.Z]+" Mode";var j=new im(a,this);j.data={_:K._,_5:x.add[i]==null?0:x.add[i],iz:K.Z};
x.i1(j);this.RO(j.data,x)}else if(i=="pview"){var i=new im([8,14],this);i.data={_:K._};x.i1(i);this.RO(i.data,x)}else if(i=="lockguides"){if(x)x.vk=!x.vk}else if(i=="gids"||i=="gidsFromLayer"){var e=K.Ji,d,I;
if(e==null)e=x.pY();if(i=="gids"){d=K.NM;var v=e[0].length,n=d[0].length;I=v==n?[23,2]:v>n?[23,3]:[23,4];
if(n==0)I=[11,15,0]}else if(i=="gidsFromLayer"){var C=[],T=[],o=x.Uq();for(var y=0;y<x.g.length;y++){var s=x.B[x.g[y]].rect;
if(s.um())continue;C.push([0,s.x],[1,s.y],[0,s.x+s.b],[1,s.y+s.n]);T.push(o,o,o,o)}I=[11,15,1];d=x.pY();
$.DU.Vr(d,[C,T])}if(JSON.stringify(e)==JSON.stringify(d))return;var i=new im(I,this);i.data={_:2,Ji:e,NM:d};
x.i1(i);this.RO(i.data,x)}else if(i=="algn"){var Q=K.Z;if(x==null)return;if(x.g.length<2&&!(x.P!=null&&Q!=3&&Q!=7)){alert(hg.get([15,7,5]));
return}var X=x.P;x.P=null;var s=X?X.rect:$.Xq.ZS(x);this.hG(x,E,c,J,!1);if(!this.Z7)return;var B=this.t$,M={},S=[],f=[],F=[];
for(var y=0;y<B.length;y++){var G=B[y];while(x.B[G].getName()=="</Layer group>")G++;var D=x.root.R7(G),b=D;
while(D.parent!=null){D=D.parent;if(B.indexOf(D.index)!=-1)b=D}var H=f.indexOf(b.index);if(H==-1){H=f.length;
f.push(b.index)}S[y]=H}var q=[],O=[],w=[];for(var y=0;y<f.length;y++){var V=$.Xq.ZS(x,x.zD(!0,f[y]));
w.push(V);var t=Q==3?[V.y,V.n]:[V.x,V.b];q[y]=t;O.push(t)}$.DU.anv(O);for(var y=0;y<f.length;y++){var V=w[y],m=V.x,g=V.y;
if(Q==0)m=s.x;if(Q==1)m=s.x+(s.b-V.b)/2;if(Q==2)m=s.x+(s.b-V.b);if(Q==3)g=q[y][0];if(Q==4)g=s.y;if(Q==5)g=s.y+(s.n-V.n)/2;
if(Q==6)g=s.y+(s.n-V.n);if(Q==7)m=q[y][0];F.push(Math.round(m-V.x),Math.round(g-V.y))}var Y=[];for(var y=0;
y<B.length;y++){var A=S[y];Y[2*y]=F[2*A];Y[2*y+1]=F[2*A+1]}this.HE(x,0,0,null,Y);var k=Q==3||Q==7?[20,4,6]:[20,4,Q<3?Q:Q-1];
this.gq(x,null,J,Y,k);x.P=X}else if(i=="disabAuto"){this.Mp([!1],null,E)}};$.DU.Vr=function(K,E){for(var y=0;
y<E[0].length;y++){var x=E[0][y],c=E[1][y],J=!1;for(var i=0;i<K[0].length;i++){var P=K[0][i],_=K[1][i];
if(x[0]==P[0]&&x[1]==P[1]&&c==_)J=!0}if(!J){K[0].push(x.slice(0));K[1].push(c)}}};$.DU.prototype.enable=function(K,E,x,c,J){this.ll=x;
this.H3=E;this.LS=J?!0:!1;this.ns(K);this.vc("default",E);this._G(K,E,x,c)};$.DU.prototype.disable=function(K,E,x,c){this.adt(K)};
$.DU.prototype.adt=function(K){if(K==null)return;if(this.Fu){this.Fu.clear(K);this.Fu=null}if(K.I.dM){K.I.dM=null;
K.ZI=!0}if(K.I.sA){K.I.sA=null;K.ZI=!0}if(K.I.Pk[this.id]){delete K.I.Pk[this.id];K.ZI=!0}if(K.I.un.length!=0){K.I.un=[];
K.ZI=!0}};$.DU.prototype.br=function(K,E,x,c){if(x.OI!=this.id)return;this.ns(K)};$.DU.prototype.ns=function(K,E){if(K==null)return;
var x=this.Ix;this.adt(K);if(!this.LS){var c;if(x.kO||x.dM)c=W.p.OC($.Xq.ZS(K));if(x.kO&&!c.um()){this.Fu=new iB([c.x,c.y,c.x+c.b,c.y,c.x+c.b,c.y+c.n,c.x,c.y+c.n],!0);
this.Fu.d7(K,this.ll)}if(x.dM){var J=null,e=null,d=!1;if(K.Uq()!=-1)J=K.B[K.Uq()].IZ();else J=new cS(0,0,K.b,K.n);
K.I.dM={Sf:[c],JN:[]};var i=K.I.dM.JN,P=c.x+c.b,_=c.y+c.n,a=c.x+Math.floor(c.b/2),j=c.y+Math.floor(c.n/2);
if(E){var I=K.root.ds(new iP(Math.floor(E.x),Math.floor(E.y)));if(I){e=W.p.OC(I.j.ES(K));if(e.iw(c)){d=(e.ng(c)||c.ng(e))&&!c.ac(e);
if(!d)e=null}}}this.acZ(c,i);if(e!=null){K.I.dM.Sf.push(e);var v=e.x+e.b,n=e.y+e.n,C=e.x+Math.floor(e.b/2),T=e.y+Math.floor(e.n/2);
if(d){var o=a,s=j;if(c.ng(e)){o=C;s=T}i.push(c.x,s,e.x,s);i.push(P,s,v,s);i.push(o,c.y,o,e.y);i.push(o,_,o,n)}else{this.acZ(e,i);
var Q=_<e.y||n<c.y,X=P<e.x||v<c.x;if(P<e.x)i.push(P,j,e.x,j);if(v<c.x)i.push(v,j,c.x,j);if(_<e.y)i.push(a,_,a,e.y);
if(n<c.y)i.push(a,n,a,c.y);if(Q&&!X){if(c.x<e.x)i.push(c.x,T,e.x,T);if(e.x<c.x)i.push(e.x,j,c.x,j)}}}else{if(c.y>J.y)i.push(a,J.y,a,c.y);
if(_<J.y+J.n)i.push(a,_,a,J.y+J.n);if(c.x>J.x)i.push(J.x,j,c.x,j);if(P<J.x+J.b)i.push(P,j,J.x+J.b,j)}K.ZI=!0}}if(this._==2&&this.Z7){var B=new cS(0,0,K.b,K.n),M=K.Uq();
if(M!=-1){var S=K.pY(),f=S[1][this.t$];if(f==-1)f=M;B=K.B[f].IZ()}var F=K.J$[this.t$],G=F[0],D=(G==0?"X":"Y")+": "+W.uz.Vo(F[1]-(G==0?B.x:B.y),K.B8,this.ll,G==0?B.b:B.n,!0);
$.dC.x4(Math.round(this.cW.x)+10,Math.round(this.cW.y)-10,[D],K);K.ZI=!0}if(this._==3&&this.Z7){var b=W.p.VD(this.at);
K.I.Pk[this.id]={Xv:b};K.ZI=!0}};$.DU.prototype.acZ=function(K,E){var x=K.b,c=K.n,J=K.x+Math.floor(x*.2),i=K.y+Math.floor(c*.2);
E.push(J,K.y,J,K.y+c);E.push(K.x,i,K.x+x,i)};$.DU.prototype.vc=function(K,E){var x={_:u.c.wA,JK:K},c=new i3(u.E.L,!0);
c.data=x;E.S(c)};$.DU.prototype.Cq=function(K){var E=this.Ml.rk()[0],x=this.Xs,c=this.a67[E];this.ary(x,c)};
$.DU.prototype.C2=function(K){var E=JSON.parse(JSON.stringify(this.ll.Vp));E.OZ=this.Rw.rk()[0];var x=new i3(u.E.L,!0);
x.data={_:u.c.Na,ry:eu.f6,iz:E};this.H3.S(x)};$.DU.prototype.oG=function(K,E,x,c,J){if(this.Z7)this.N2(K,E,x,c,J);
this.Xs=K;this.ll=x;this.H3=E;var i=K.D.gg(J.x,J.y),P;if($.DU.LK(x,J,K.D)){P=this.Rw}else{if(this.Ml)this.Ml.removeEventListener("select",this.Cq);
var _=[];K.root.ds(i,_);if(_.length==0)return;var a=[];this.a67=_;for(var y=0;y<_.length;y++)a.push({name:K.B[_[y]].getName()});
P=this.Ml=new cQ(a);P.w("select",this.Cq,this)}P.parent=E;P.f();P.update(K,x);var j=new i3(u.E.L,!0);
j.data={_:u.c.gF,M8:P,x:J.H9+2,y:J.HX+1};E.S(j)};$.DU.prototype.ajS=function(K,E,x,c,J){var i=$.DU.XB(K,J);
return i!=-1||$.DU.LK(x,J,K.D)};$.DU.XB=function(K,E){if(K==null||K.add.artd==null)return-1;var x=K.D.gg(E.x,E.y),c=12*$.V()/K.D.N;
for(var y=0;y<K.B.length;y++){var J=K.B[y];if(!J.bL()||J.add.artb==null)continue;var i=J.IZ(),P=new cS(i.x,i.y-1.7*c,c*J.getName().length*.5,c);
if(P.YO(x))return y}return-1};$.DU.prototype.zb=function(K,E,x,c,J){var i=$.DU.XB(K,J),P=$.DU.a8m(K,K.D.gg(J.x,J.y));
if(i!=-1){K.g=[i];if(x.OI==$.x3){var _=new i3(u.E.L);_.data={_:u.c.iM,G:$.Kg};E.S(_)}return}if(P!=-1){K.D.G5=P;
K.Bi=!0;var _=new i3(u.E.L,!0);_.data={_:u.c.T7,xc:ap.oE.a3c};E.S(_);return}this.cW=J;this.PM.tn(J.x,J.y);
this.xs=K.D.gg(J.x,J.y);this.BZ=new c$(this.xs);this.hG(K,E,c,x,!0)};$.DU.LK=function(K,E,x,c){var J=W.uz.Xi,i=x.E5.n;
return K.Fy&&(0<E.x&&E.x<J||0<E.y&&E.y<J||c&&0<E.x&&E.x<4*J&&i-J<E.y&&E.y<i)};$.DU.prototype.hG=function(K,E,x,c,J,i){var P,_=this.xs,a=!1;
if(J){var j=c.R9&&c.Vp.J$;if($.DU.LK(c,this.PM,K.D)){P=K.pY();var e=K.pY(),d=null;if(this.PM.x<W.uz.Xi){d=[0,_.x]}if(this.PM.y<W.uz.Xi){d=[1,_.y]}e[0].push(d);
e[1].push(K.Uq(!0));K.WT(e);if(!j){var I=new i3(u.E.L);if(!c.Vp.J$){I.data={_:u.c.Na,ry:eu.c0};E.S(I)}if(!c.R9){I.data={_:u.c.Na,ry:eu.s3};
E.S(I)}j=!0}}var v=this.ayZ(K,_);if(j&&v!=null&&!K.vk){this._=2;this.Ji=P?P:K.pY();this.t$=v;this.Z7=!0;
this.rb=$.Xq.ZS(K);return}if(K.N9.length!=0){this._=4;this.rb=K.Un[K.N9[0]].rect.clone();this.Z7=!0;
return}if(this.Fu&&this.Fu.DK(_,K.D.N,!0,this.cW)!=null){var I=new i3(u.E.L);I.data={_:u.c.iM,G:$.Cy,axT:!0};
E.S(I);return}if(K.P&&K.P.rect.YO(_)){var n=Math.round(_.x),C=Math.round(_.y),T=K.P.rect;a=K.P.channel[(C-T.y)*T.b+n-T.x]>128}if(!a&&(!this.LS&&this.Ix.Xg||this.LS&&this.Ix.Xg&&(x.l(j6.iu)||K.g.length<2))){var o=this.a1X(K,_,x);
if(!o){K.g=[];K.FU=null;K.Xw=K.rD=!0;this._=3;this.at=new cS;this.Z7=!0;return}}if(x.l(j6.iE)&&!a){var s=new i3(u.E.v);
s.G=$.Os;s.data={_:Z.On,ad_:!0};E.S(s)}}if(K.N9.length!=0){this._=4;this.rb=K.Un[K.N9[0]].rect.clone();
this.Z7=!0;return}this.t$=K.zD(i==null,i,null,!0);for(var y=0;y<this.t$.length;y++){var Q=this.t$[y],X=K.B[Q];
if(X.M0(2)||X.M0(31)||K.ti(Q)){alert(hg.get([6,57,0]));return}}if(K.add.artd&&J){var B=this.t$,M=!1;
for(var y=0;y<B.length;y++)if(K.B[B[y]].add.artb)M=!0;if(!M){this.Yh=[K,K.B.slice(0),K.g.slice(0),-1];
this.t$.sort(function(q,O){return q-O})}}this.Ma=$.DU.a9y(K,this.t$);this._=0;if(K.P&&(!J||a)&&K.g.length==1&&K.IC(!1)){if(!K.ahF()){this.Z7=!1;
return}var S=K.B[K.g[0]],f=x.l(j6.iE);this._=1;var F=K.history[K.qh];if(F.G==this&&F.data._==1&&F.data.j==K.g[0]&&S.kS==S.uE.kS&&!f){this.so=F}else{var G=S.uE,D=!1,b;
if(!S.nI(K,K.P)||f){D=!0;S.Oo(K,K.P,f)}if(S.uE.kS<=0){b=W.Q(S.uE.y3.length>>2);W.Bp(S.uE.y3,b,3)}else b=K.P.channel.slice(0);
var H={rect:S.uE.VM.clone(),channel:b};this.so=new im(f?[12,53]:[12,54],this);this.so.data={_:1,j:K.g[0],uE:S.uE,B9:G,Yr:D,RK:K.P,sR:H,Ga:new iP(0,0)};
K.i1(this.so);K.P=H;K.zF=!0}}this.Z7=!0;this.rb=$.Xq.ZS(K)};$.DU.prototype.a1X=function(K,E,x){var c=K.root.ds(new iP(Math.floor(E.x),Math.floor(E.y)));
if(c){if(c.j.add.vmsk)K.ZI=!0;var J=K.B.indexOf(c.j);if(this.Ix.ajZ==0){var i=K.root.R7(J);while(i.parent&&i.parent.depth!=0&&i.parent.j.add.artb==null)i=i.parent;
J=i.index}if(x.l(j6.iu)){var P=K.g.indexOf(J);if(P==-1)K.g.push(J);else if(K.g.length>1)K.g.splice(P,1)}else if(K.g.indexOf(J)==-1){this.ary(K,J)}}return c!=null};
$.DU.prototype.ary=function(K,E){K.B[E].kS=0;K.g=[E];K.FU=null;K.JT();K.HB=!0;K.Xw=!0};$.DU.a8m=function(K,E){var x=K.add.Anno;
if(x==null||x.length==0)return-1;var c=30/K.D.N;for(var y=0;y<x.length;y++)if(new cS(x[y][0],x[y][1],c,c).YO(E))return y;
return-1};$.DU.prototype.il=function(K,E,x,c,J){this.cW=J;var i=K.D.gg(J.x,J.y),v,n;if(this.BZ&&this._<2)i=this.BZ.bW(i,c);
if(!this.Z7){if(x.R9&&x.Vp.J$&&K&&!K.vk){var P=this.ayZ(K,i),_="default",a=$.DU.XB(K,J);if(P!=null)_=["col-resize","row-resize"][K.J$[P][0]];
else if(this.Fu){var j=this.Fu.DK(i,K.D.N,null,J);if(j)_=j}else if(a!=-1||$.DU.a8m(K,i)!=-1){_="pointer"}this.vc(_,E)}this.ns(K,i);
return}var e=this.xs,d=Math.round(i.x-e.x)-this.CU.x,I=Math.round(i.y-e.y)-this.CU.y;if(this.rb){if(this._==2){var C=[];
if(K.P)C.push(K.P.rect);if(this.rb)C.push(this.rb);if(K.D.O8)C.push(K.D.O8);i=$.DU.W1(K,i,x,[!1,C,!0])}else{n=this.rb.clone();
n.offset(this.CU.x+d,this.CU.y+I);v=$.DU.bn(K,n,x);var T=this.BZ.ajL(c);if(T==1){v[0]=0;v[2]=1e9}if(T==2){v[1]=0;
v[3]=1e9}d+=Math.round(v[0]);I+=Math.round(v[1])}}this.CU.x+=d;this.CU.y+=I;var o=this.Yh;if(o&&K==o[0]){K.yu(o[1]);
K.g=o[2].slice(0);o[3]=-1}this.HE(K,d,I,i,null,c.l(j6.iu));if(o&&K==o[0]){var s=this.rb.clone();s.offset(this.CU.x,this.CU.y);
var Q=i,a=K.Uq(),X=-1;for(var y=0;y<K.B.length;y++){var B=K.B[y];if(!B.bL()||B.add.artb==null)continue;
var M=B.IZ();if(M.YO(Q))X=y}if(X!=-1&&X!=a){var S=$.rn.YM(K,this.t$,X,!0,null,!1);K.yu(S[0]);K.g=S[1];
o[3]=X}}this.ns(K,i);if(v)$.DU.lD(K,n,v)};$.DU.prototype.ayZ=function(K,E){var x=$.q_(K,this.cW);E=[E.x,E.y];
var c=K.pY(),J=K.Uq();for(var y=0;y<c[0].length;y++){var i=c[0][y],P=c[1][y];if(P!=-1&&P!=J)continue;
if(Math.abs(i[1]-E[i[0]])<x)return y}return null};$.DU.prototype.HE=function(K,E,x,c,J,i){if(this._==0){if(J)$.DU.ZD(K,this.t$,this.Ma,J);
else $.DU.jB(K,this.t$,this.Ma,E,x)}else if(this._==1){var P=this.so.data;P.Ga.offset(E,x);$.DU.r0(K,P.j,E,x)}else if(this._==2){var _=1e-5;
if(i)_=K.D.N<=1?10:1;else if(K.D.N<=1)_=1;var a=_*Math.round(c.x/_),j=_*Math.round(c.y/_),e=[a,j],d=K.J$[this.t$];
d[1]=e[d[0]]}else if(this._==3){var I=this.xs,v=W.p.Uz([I.x,I.y,c.x,c.y]);this.at=v;var n=[];K.root.ael(v,n);
if(JSON.stringify(K.g)!=JSON.stringify(n)){K.g=n;K.Xw=K.rD=!0}}else if(this._==4){for(var y=0;y<K.N9.length;
y++)K.Un[K.N9[y]].rect.offset(E,x);K.ZI=!0}};$.DU.r0=function(K,E,x,c){var J=K.B[E];K.P.rect.offset(x,c);
J.vg(K,x,c,K.P);K.zF=!0;K.U()};$.DU.prototype.N2=function(K,E,x,c,J,i){this.gq(K,J,x);this.ns(K);if(Date.now()-this.aw<300&&!i){var P=$.qn.uX(K,K.D.gg(J.x,J.y));
if($.DU.LK(x,J,K.D,!0)){var _=new i3(u.E.L);if(J.y>K.D.E5.n-20){_.data={_:u.c.v9,xc:"doczoom",_5:K.D.N*100,Vv:{Y:u.E.v,G:$.lJ,F:{_:"pzoom"}}}}else{_.data={_:u.c.v9,xc:"preferences"}}E.S(_)}else if(P>=0){var a=new i3(u.E.v,!0);
a.G=$.H4;a.data={_:"editCurr",cA:P};E.S(a)}}this.aw=Date.now();$.$a.oR(K)};$.DU.prototype.gq=function(K,E,x,c,J){if(!this.Z7)return;
this.Z7=!1;if(this._==0){if(c){this.arG(K,null,c,J)}else{if(this.CU.x==0&&this.CU.y==0)return;this.arG(K,this.CU.clone())}K.Bi=!0}else if(this._==2){var i=0;
E=[E.x,E.y];var P=this.t$,_=K.J$[P],cy=this.Ji[0].length,a=K.J$.length;if(x.Fy&&E[_[0]]<W.uz.Xi){var j=K.pY();
j[0].splice(P,1);j[1].splice(P,1);K.WT(j);i=1;if(cy==a-1)return}if(cy<a)i=2;var e=new im([[23,2],[23,3],[23,4]][i],this);
e.data={_:2,Ji:this.Ji,NM:K.pY()};K.i1(e)}else if(this._==4){var e=new im([12,54],this);e.data={_:4,g:K.N9.slice(0),R:this.CU.clone()};
K.i1(e)}this.CU.tn(0,0)};$.DU.prototype._G=function(K,E,x,c){var J=c.lI(K?K.D.Zm:0);if(K!=null&&(J.x!=0||J.y!=0)){if(c.l(j6.iE)&&K.P==null){var i=new i3(u.E.v);
i.G=$.Os;i.data={_:Z.On,ad_:!0};E.S(i)}this.CU.tn(J.x,J.y);this.hG(K,E,c,x,!1);if(!this.Z7)return;this.HE(K,J.x,J.y);
this.gq(K,null,x);this.ns(K)}var P=c.l(j6.Se);if(!this.LS&&this.awu!=P){if(P){this.aau=this.Ix.Xg;this.Ix.Xg=!0}else{this.Ix.Xg=this.aau}this.awu=P;
var _=new i3(u.E.L,!0);_.data={_:u.c.zy,G:this.id,_q:this.Ix};E.S(_)}};$.DU.prototype.Bn=function(K,E){if(K._==0){var x=K.dO;
if(x){E.yu(x.CO);E.g=x.cE.slice(0);E.U();E.Xw=!0}$.DU.ZD(E,K.g,K.oO,K.eJ,!0);$.$a.oR(E)}else if(K._=="fcmy"||K._=="fvec"){if(K._5==0)delete E.add[K._];
else E.add[K._]=K._5;E.ZI=!0}else if(K._=="pview"){E.W3=!E.W3;E.U()}else if(K._==2){E.WT(K.Ji);E.ZI=!0}else if(K._==4){for(var y=0;
y<K.g.length;y++)E.Un[K.g[y]].rect.offset(-K.R.x,-K.R.y);E.ZI=!0}else{var c=E.B[K.j];if(K.Yr){c.Hn(E,K.B9);
E.P=K.RK;E.zF=!0;E.U();c.U()}else{$.DU.r0(E,K.j,-K.Ga.x,-K.Ga.y)}}};$.DU.prototype.RO=function(K,E){if(K._==0){$.DU.ZD(E,K.g,K.oO,K.eJ);
var x=K.dO;if(x){E.yu(x.Y1);E.g=x.h2.slice(0);E.U();E.Xw=!0}$.$a.oR(E)}else if(K._=="fcmy"||K._=="fvec"){if(K.iz==0)delete E.add[K._];
else E.add[K._]=K.iz;E.ZI=!0}else if(K._=="pview"){E.W3=!E.W3;E.U()}else if(K._==2){E.WT(K.NM);E.ZI=!0}else if(K._==4){for(var y=0;
y<K.g.length;y++)E.Un[K.g[y]].rect.offset(K.R.x,K.R.y);E.ZI=!0}else{var c=E.B[K.j];if(K.Yr){c.uE=K.uE;
E.P=K.sR;$.DU.r0(E,K.j,0,0);c.U()}else{$.DU.r0(E,K.j,K.Ga.x,K.Ga.y)}}};$.DU.prototype.arG=function(K,E,x,c){if(x){var J=!0;
for(var y=0;y<x.length;y++)if(x[y]!=0)J=!1;if(J)return}var i=K.history[K.qh],P=this.Yh,_=P!=null&&P[3]!=-1&&P[0]==K;
if(!_&&x==null&&i.data&&i.G==this&&i.data._==0&&JSON.stringify(i.data.g)==JSON.stringify(this.t$)&&JSON.stringify(i.data.oO)==JSON.stringify(this.Ma)){var a=i.data.eJ,j=i.data.aoP.Ks.T.v;
j.Hrzn.v.val+=E.x;j.Vrtc.v.val+=E.y;for(var y=0;y<a.length;y+=2){a[y]+=E.x;a[y+1]+=E.y}}else{if(E==null)E=new iP(x[0],x[1]);
var e={va:"move",Ks:{classID:"null",null:b$.oe("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:E.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:E.y}}}}}},d=null;
if(_)d={CO:P[1],cE:P[2],Y1:K.B.slice(0),h2:K.g.slice(0)};this.Yh=null;var I=new im(c?c:[12,54],this);
if(x)I.data={_:0,g:this.t$,oO:this.Ma,dO:d,eJ:x};else I.data={_:0,g:this.t$,oO:this.Ma,dO:d,eJ:$.DU.ar2(this.t$,E.x,E.y)};
I.data.aoP=e;K.i1(I);this.track(e)}};$.DU.ar2=function(K,E,x){var c=[];for(var y=0;y<K.length;y++)c.push(E,x);
return c};$.DU.jB=function(K,E,x,c,J){$.DU.ZD(K,E,x,$.DU.ar2(E,c,J))};$.DU.ZD=function(K,E,x,c,J){if(E.length==0)return;
if(x==null){x=[];for(var y=0;y<E.length;y++){x.push(K.B[E[y]].UX(K,!0))}}var i=new cS,P=new cS(0,0,K.b,K.n);
for(var y=0;y<E.length;y++){var _=c[2*y],a=c[2*y+1];if(J){_=-_;a=-a}var j=K.B[E[y]],e=x[y];if(j.add.fxrp&&(e.indexOf(0)!=-1||j.Au()))j.add.fxrp.offset(_,a);
for(var d=0;d<e.length;d++){var I=e[d];if(I==0){j.rect.offset(_,a);if(j.St()&&j.Xe(K))j.Xe(K).rect.offset(_,a);
if(j.add.artb){var v=j.IZ();v.offset(_,a);j.MZ(v);var n=j.add.artb.guideIndeces;n=n?n.v:[];for(var C=0;
C<n.length;C++){var T=K.J$[n[C].v];T[1]+=T[0]==0?_:a}}if(j.add.TySh){j.add.TySh.u.translate(_,a);if(j.add.TySh.add){j.add.TySh.add.vmsk.offset(_,a)}}if(j.add.SoLd){var o=new iQ(1,0,0,1,_,a),s=j.add.SoLd,Q=$.Xq.t9(s.Trnf),X=$.Xq.t9(s.nonAffineTransform);
W.p.u(Q,o,Q);W.p.u(X,o,X);s.Trnf=$.Xq.K0(Q);s.nonAffineTransform=$.Xq.K0(X);$.Xq.a7c(s,o)}}if(I==1)j.FA().rect.offset(_,a);
if(I==2){j.add.vmsk.offset(_,a);if(j.add.vogk)W.X.u(j.add.vogk,[1,0,_,0,1,a,0,0],[]);if(j.vJ.oD){var B=j.vJ.oD.v6.C;
W.p.u(B,new iQ(1,0,0,1,_,a),B)}}if(I==3){j.Xe(K).z.rect.offset(_,a);if(e.length==1)j.U()}}if(e.length>0){var M=j.add.GdFl;
if(M==null)M=j.add.PtFl;if(j.Au()&&!j.vz()&&j.add.vmsk!=null&&W.r.zG(j.add.vmsk.i)&&j.add.vmsk.Kq==255&&(M==null||M.Algn&&M.Algn.v)){j.rect.offset(_,a)}else j.DY(K);
var S=K.root.Vw(j.ES(K),K,E[y]);if(j.add.artb)S=S.XN(j.IZ());i=i.XN(S);S.offset(-_,-a);i=i.XN(S);if(j.$y()&&j.z&&j.z.color==255)i=i.XN(P);
j.a6j()}}K.U(W.p.OC(i))};$.DU.a9y=function(K,E){var x=[];for(var y=0;y<E.length;y++){var c=K.B[E[y]];
x.push(c.UX(K))}return x};$.DU.lD=function(K,E,x){var c={C:[],W:[]},J=E.x+x[0],i=E.y+x[1];if(x[2]!=1e9){c.W.push("M","L");
var P=i+E.n;if(x[4])c.C.push(x[2],Math.min(i,P,x[4][1]),x[2],Math.max(i,P,x[4][1]));else c.C.push(x[2],i,x[2],i+E.n)}if(x[3]!=1e9){c.W.push("M","L");
var _=J+E.b;if(x[5])c.C.push(Math.min(J,_,x[5][0]),x[3],Math.max(J,_,x[5][0]),x[3]);else c.C.push(J,x[3],_,x[3])}if(c.C.length!=0){K.I.sA=c;
K.ZI=!0}};$.DU.W1=function(K,E,x,c){var J=$.DU.ax5(K,[[E.x],[E.y]],x,c);return new iP(E.x+J[0],E.y+J[1])};
$.DU.bn=function(K,E,x,c,J){var i=J==!0?1:.5,P=$.DU.ax5(K,[[E.x,E.x+Math.round(E.b*i),E.x+E.b],[E.y,E.y+Math.round(E.n*i),E.y+E.n]],x,c);
return P};$.DU.ax5=function(K,E,x,c){if(c==null)c=[!0,null,!0];var J=[0,0,1e9,1e9,null,null];if(!x.ab)return J;
var i=JSON.parse(JSON.stringify(E));for(var P=0;P<2;P++){var _=1e9,a=E[P],j=0,e=null;for(var d=0;d<a.length;
d++){var I=$.DU.awc(K,a[d],i[1-P][d],P,x,c),v=I[0];if(v!=1e9)i[P][d]=v;if(v!=1e9&&Math.abs(v-a[d])<Math.abs(_)){_=v-a[d];
j=v;e=I[1]}}if(_!=1e9){J[P]=_;J[P+2]=j;J[P+4]=e}}return J};$.DU.awc=function(K,E,x,c,J,i){var P=1e9,_=null,a=J.gS,j=J.Vp,e=[K.root];
while(e.length!=0&&a[2]){var d=e.pop(),I=d.j,v=I.rect;if(!I.bL())continue;if(d.children)for(var y=0;
y<d.children.length;y++)e.push(d.children[y]);if(K.g.indexOf(d.index)!=-1||v.um())continue;var n=v.b,C=n>>>1,T=v.n,o=T>>>1,s=P;
if(c==0){if(Math.abs(v.x-E)<Math.abs(P-E))P=v.x;if(Math.abs(v.x+C-E)<Math.abs(P-E))P=v.x+C;if(Math.abs(v.x+n-E)<Math.abs(P-E))P=v.x+n}else{if(Math.abs(v.y-E)<Math.abs(P-E))P=v.y;
if(Math.abs(v.y+o-E)<Math.abs(P-E))P=v.y+o;if(Math.abs(v.y+T-E)<Math.abs(P-E))P=v.y+T}if(s!=P){_=[v.x+C,v.y+o]}}var Q=P;
P=1e9;if(i[0]&&a[0]&&j.J$&&J.R9){var X=K.pY(),B=X[0],M=X[1],S=K.Uq();for(var y=0;y<B.length;y++)if((M[y]==-1||M[y]==S)&&B[y][0]==c&&Math.abs(B[y][1]-E)<Math.abs(P-E))P=B[y][1]}if(a[1]&&j.vh&&J.R9){var f=Math.round(W.uz.KX(j.SH,K.B8,K.b,j.Yb));
if(c==1&&j.uU==1){var F=x*.5*Math.sqrt(4/3),G;f*=Math.sqrt(4/3);G=Math.round((E-F)/f)*f+F;if(Math.abs(G-E)<Math.abs(P-E))P=G;
G=Math.round((E+F)/f)*f-F;if(Math.abs(G-E)<Math.abs(P-E))P=G}else{var G=Math.round(E/f)*f;if(Math.abs(G-E)<Math.abs(P-E))P=G}}var D=K.ea;
if(a[3]&&j.ea&&J.R9&&D.length!=0){for(var y=0;y<D.length;y++){if(!i[2]&&K.Cr.indexOf(y)!=-1)continue;
var b=$.ie.rQ(D,y);for(var H=0;H<3;H+=2)if(b[H+c]!=E&&Math.abs(b[H+c]-E)<Math.abs(P-E))P=b[H+c]}}if(i[1])for(var q=0;
q<i[1].length;q++){var v=i[1][q],n=v.b,T=v.n,O=[v.x,v.y,v.x+(n>>>1),v.y+(T>>>1),v.x+n,v.y+T];for(var y=0;
y<6;y+=2)if(Math.abs(O[y+c]-E)<Math.abs(P-E))P=O[y+c]}if(a[4]){var v=new cS(0,0,K.b,K.n),S=K.Uq();if(S!=-1)v=K.B[S].IZ();
var n=v.b,T=v.n,O=[v.x,v.y,v.x+(n>>>1),v.y+(T>>>1),v.x+n,v.y+T];for(var y=0;y<6;y+=2)if(Math.abs(O[y+c]-E)<Math.abs(P-E))P=O[y+c]}if(Math.abs(P-E)<=Math.abs(Q-E))_=null;
else P=Q;var w=Math.abs(P-E)<=4*$.V()/K.D.N?P:1e9;return[w,_]};$.Mh=function(){$.cx.call(this,[10,12],$.BN,"tools/mwand");
this.nJ=null};$.Mh.prototype=new $.cx;$.Mh.prototype.B7=$.cx.prototype.a6U;$.Mh.prototype.Mp=$.cx.prototype.al9;
$.Mh.prototype.EN=function(K,E,x,c){this.nJ=c;this.a6Z=this.Ix.wconf[0];this.finish(K,E,x,c)};$.Mh.prototype.fw=function(K,E,x,c,J){if(!c.tj)return;
var i=new i3(u.E.v);i.G=$.Ww;i.data={_:"h_stepbck"};J.S(i);var P=c.x-this.nJ.x,_=Math.max(0,Math.min(255,Math.round(this.a6Z+P/4)));
this.Ix.wconf[0]=_;this.WB(J);this.finish(K,E,x,this.nJ)};$.Mh.prototype.eL=function(K,E,x,c,J){this.Ix.wconf[0]=this.a6Z;
this.WB(J)};$.Mh.prototype.getSelection=function(K,E,x,c){var J=this.vw;J=K.D.gg(c.x,c.y);var i=$.cx.aoi(new iP(Math.floor(J.x),Math.floor(J.y)),this.Ix.wconf,this.Ix.sall);
return i};$.Mh.ali=function(K,E,x,c,J){if(K.g.length!=1){alert("More than one layer selected.");return null}var i=K.B[K.g[0]],P=null,_;
if(J)P=i.kS<=0?null:i.kS==1?i.FA():i.Xe(K).z;if(P==null&&i.add.lsct!=null&&i.add.lsct!=fV.L$){alert("No layer selected.");
return null}if(E.x<0||E.x>K.b||E.y<0||E.y>K.n)return null;var a=new cS(0,0,K.b,K.n);if(c){_=K.S7()}else if(P==null&&a.ac(i.rect))_=i.buffer;
else{_=W.Q(a.O()*4);if(P==null)W.UL(i.buffer,i.rect,_,a);else $.Hj.A_(P.channel,P.rect,P.color,_,a)}var j=$.Mh.Wc(_,a,E,null,x),e=W.UF(j,a),d=W.Q(e.O());
W.XT(j,a,d,e);return{rect:e,channel:d}};$.Mh.Gy=function(K,E,x){var c=E.b,J=E.n,P=0,_=0,a=0,j=0;K=new Uint32Array(K.buffer);
var i=[],e=x.length;for(var y=0;y<e;y++){var d=x[y],I=Math.round(d.x-.5-E.x),v=Math.round(d.y-.5-E.y);
I=Math.max(0,Math.min(c-1,I));v=Math.max(0,Math.min(J-1,v));var n=v*c+I,C=K[n];i.push([C&255,C>>8&255,C>>16&255,C>>>24])}return i};
$.Mh.Wc=function(K,E,x,c,J){K=new Uint32Array(K.buffer);var i=E.b,P=E.n,_=i*P;if(c==null)c=$.Mh.Gy(K,E,[x]);
var a=Math.round(x.x-.5-E.x),j=Math.round(x.y-.5-E.y),e=j*i+a,d=Date.now(),I=W.Q(i*P),v=J[0],n=1/v,C=J[1]&&v>0?255:0;
if(J[2]){var T=W.Q(I.length),o=new Uint32Array(_),s=1;o[0]=a<<16|j;T[e]=1;while(s>0){var Q=o[s-1];s--;
var X=Q>>>16,B=Q&65535,y=B*i+X,M=$.Mh.Zl(K[y],c);if(M>v){var S=C*(1-Math.max(0,Math.min(1,(M-v)*n)));
I[y]=~~S}else{I[y]=255;if(B!=P-1&&T[y+i]==0){o[s++]=X<<16|B+1;T[y+i]=1}if(B!=0&&T[y-i]==0){o[s++]=X<<16|B-1;
T[y-i]=1}if(X!=i-1&&T[y+1]==0){o[s++]=X+1<<16|B;T[y+1]=1}if(X!=0&&T[y-1]==0){o[s++]=X-1<<16|B;T[y-1]=1}}}}else{for(var y=0;
y<_;y++){var M=$.Mh.Zl(K[y],c);if(M<=v)I[y]=255}for(var B=0;B<P;B++)for(var X=0;X<i;X++){var y=B*i+X;
if(I[y]==0&&(X>0&&(I[y-1]==255||B>0&&I[y-i-1]==255||B<P-1&&I[y+i-1]==255)||X<i-1&&(I[y+1]==255||B>0&&I[y-i+1]==255||B<P-1&&I[y+i+1]==255)||B>0&&I[y-i]==255||B<P-1&&I[y+i]==255)){var M=$.Mh.Zl(K[y],c),S=C*(1-Math.max(0,Math.min(1,(M-v)*n)));
I[y]=~~S}}}return I};$.Mh.Zl=function(K,E){var x=E.length,c=$.Mh.acd(K,E[0]),y=1;while(y!=x){c=Math.min(c,$.Mh.acd(K,E[y]));
y++}return c};$.Mh.acd=function(K,E){var x=K&255,c=K>>>8&255,J=K>>>16&255,i=K>>>24&255;if(E[3]==0)return i<5?0:255;
var P=Math.max(Math.abs(x-E[0]),Math.max(Math.abs(c-E[1]),Math.abs(J-E[2])));return i==0?255:P};$.Ty=function(K,E){if(E)$.Hj.call(this);
else if(K)$.Hj.call(this,[10,49],$.nW,"tools/camove");else $.Hj.call(this,[10,26],$.GW,"tools/patch");
this.k7=null;this.oD=null;this.R=null;this.Th=null;this.sC=new iP;this.Rz=null;this.pP=null};$.Ty.prototype=new $.Hj;
$.Ty.prototype.zb=function(K,E,x,c,J){var i=K.D.gg(J.x,J.y);if(K.P&&W.ds(i,K.P.channel,K.P.rect)){var P=new cS(0,0,K.b,K.n),_=P.Sl(K.P.rect);
if(!K.IC()||_.um())return;if(!0){var a=W.Q(_.O());W.XT(K.P.channel,K.P.rect,a,_);K.P={channel:a,rect:_}}this.xC(K);
this.De(K);this.Th=i;this.sC=new iP(i.x-K.P.rect.x,i.y-K.P.rect.y);this.pP=W.Q(K.P.rect.O()*4);this.pP.fill(255);
if(this.Ix.patch==1){var j=K.B[K.g[0]];j.Oo(K,K.P,!0);if(j.uE==null)this.Th=null}this.Rz=K.P.rect.clone()}else{this.oD={C:[i.x,i.y],W:["M"]};
this.k7=i}};$.Ty.prototype.il=function(K,E,x,c,J){var i=K.D.gg(J.x,J.y);if(this.Th){if(this.Ix.patch==1){if(K.N9.length==0){var P=K.B[K.g[0]].uE,_=i.x-this.sC.x,a=i.y-this.sC.y;
$.DU.r0(K,K.g[0],Math.round(_-P.VM.x),Math.round(a-P.VM.y))}}else this.aeb(K,i,"clone")}if(this.k7){this.oD.W.push("L");
this.oD.C.push(i.x,i.y);this.k7=i;K.I.Xv=this.oD;K.ZI=!0}};$.Ty.prototype.N2=function(K,E,x,c,J){var i=K.D.gg(J.x,J.y);
if(this.Th){var P=K.P.rect.clone();if(this.id==$.nW){var _=K.B[K.g[0]];_.Hn(K,_.uE);K.P.rect=this.Rz.clone();
var a=W.Q(K.P.rect.O()*4);W.Mz(K.P.channel,a,3);this.SU(K,"sheal",a,K.P.rect,K.P.rect);K.P.rect=P;P=P.XN(this.Rz)}this.aeb(K,i,"heal");
this.finish(K,P,null,null,!0);K.U(P);this.Th=null}if(this.k7){var j=$.cx.wZ(this.Ix.setop,c.l(j6.iu),c.l(j6.iE)),e=new i3(u.E.Hg,!0);
if(this.oD.C.length<=4)e.data=$.cx.HI();else e.data=$.cx.YC(this.oD.C,j);E.S(e);this.k7=null;K.I.Xv=null;
K.ZI=!0}};$.Ty.prototype.Ev=function(){return this.R};$.Ty.prototype.Gj=function(K,E,x,c,J){$.Hj.prototype.Gj.call(this,K,E,x,c,J);
this.vc(J,c)};$.Ty.prototype.vc=function(K,E){var x="auto;";if(E!=null&&E.l(j6.iu)&&!E.l(j6.iE)||this.Ix.setop=="union")x="copy";
var c=new i3(u.E.L,!0);c.data={_:u.c.wA,JK:x};if(this.caller)this.caller.S(c)};$.Ty.prototype.aeb=function(K,E,x){var c=new iP(Math.round(this.Th.x-E.x),Math.round(this.Th.y-E.y));
if(this.Ix.patch==1)c.tn(-c.x,-c.y);this.R=c;this.SU(K,x,this.pP,K.P.rect,K.P.rect);this.U(K,K.P.rect)};
$.atW=function(){$.Ty.call(this,!0);this.Ix.patch=1};$.atW.prototype=new $.Ty(!0,!0);$.$H=function(){$.Hj.call(this,[10,13],$.a5h,"tools/pbucket");
this.k6=!1};$.$H.prototype=new $.Hj;$.$H.prototype.enable=function(K,E,x,c){var J=new i3(u.E.L,!0);J.data={_:u.c.wA,JK:"default"};
E.S(J)};$.$H.prototype.Q3=function(K,E){};$.$H.prototype.zb=function(K,E,x,c,J){this.k6=!0};$.$H.prototype.N2=function(K,E,x,c,J,i){var P=this.k6;
this.k6=!1;if(!P||i)return;if(this.n0(c,E,J))return;if(!K.IC())return;var _=K.D.gg(J.x,J.y),a=$.Mh.ali(K,_,this.Ix.wconf,this.Ix.sall,!0);
if(a==null)return;var j=W.Q(a.rect.O()*4);W._m(j,(x.U9&255)<<16|(x.U9>>8&255)<<8|(x.U9>>16&255)<<0);
W.Mz(a.channel,j,3);this.xC(K);this.SU(K,"draw",j,a.rect,a.rect);this.U(K,a.rect);this.finish(K,a.rect)};
$.Qe=function(){$.cx.call(this,[10,14],$.aly,"tools/plasso");this.h9="crosshair";this.Yx=[];this.$j=null;
this.oD=null;this.awO=0};$.Qe.prototype=new $.cx;$.Qe.prototype.disable=function(K,E,x,c){this.CB(K)};
$.Qe.prototype.EN=function(K,E,x,c){this.Yx=[j6.C3,j6.oh]};$.Qe.prototype.Xo=function(K){return this.Yx.indexOf(K)!=-1};
$.Qe.prototype.GT=function(K){return this.oD!=null};$.Qe.prototype.FS=function(){return this.oD!=null};
$.Qe.prototype.eb=function(){return this.oD!=null};$.Qe.prototype.fw=function(K,E,x,c){if(this.oD==null)return;
var J=this.oD,i=J.C,P=i.length-2,_=this.vw;if(this.i7.a9(1)&&x.l(j6.iE)&&c.tj){i.push(0,0);J.W.push("L");
P+=2}else if(x.l(j6.iu))_=$.Mf.yz(new iP(i[P-2],i[P-1]),_);i[P]=_.x;i[P+1]=_.y;K.I.Xv=J;K.ZI=!0};$.Qe.prototype.eL=function(K,E,x,c){var J=Date.now();
if(this.oD==null)this.oD={C:[this.vw.x,this.vw.y,this.vw.x,this.vw.y],W:["M","L"]};else{this.fw(K,E,x,c);
if(J-this.awO<250||iP.B4(this.vw,new iP(this.oD.C[0],this.oD.C[1]))<$.q_(K,c)){this.$j=this.oD;this.finish(K,E,x,c);
this.CB(K);return}this.oD.W.push("L");this.oD.C.push(this.vw.x,this.vw.y)}this.awO=J;K.I.Xv=this.oD};
$.Qe.prototype.CB=function(K){this.oD=null;this.Yx=[];if(K!=null){K.I.Xv=null;K.ZI=!0}};$.Qe.prototype._G=function(K,E,x,c){$.cx.prototype._G.call(this,K,E,x,c);
if(c.l(j6.go)&&this.oD==null&&this.$j&&K.P!=null){var J=new i3(u.E.v);J.G=$.Ww;J.data={_:"h_stepbck"};
E.S(J);this.EN(K,x,c,null);this.oD=this.$j;return}if(this.oD==null)return;if(c.l(j6.C3)||c.l(j6.oh)){this.oD.C.pop();
this.oD.C.pop();this.oD.W.pop();this.fw(K,x,c)}if(c.l(j6.Tt)){if(this.oD.C.length>4){this.$j=this.oD;
this.finish(K,x,c)}this.oD=null}if(c.l(j6.go)){this.oD=null}K.I.Xv=this.oD;K.ZI=!0};$.Qe.prototype.getSelection=function(K,E,x,c){return $.cx.YC(this.oD.C,null,this.Ix.anta)};
$.us=function(){$.cx.call(this,[10,10],$.asM,"tools/mlasso");this.h9="crosshair";this.Yx=[];this.i=[];
this.WF=[];this.R$=[];this.Cb=null;this.kz=null;this.$x=null;this.aw=0;this.Sq=0};$.us.prototype=new $.cx;
$.us.prototype.disable=function(K,E,x,c){this.clear(K)};$.us.prototype.GT=function(K){return this.i.length!=0};
$.us.prototype.eb=function(){return this.i.length!=0};$.us.prototype.Xo=function(K){return this.Yx.indexOf(K)!=-1};
$.us.prototype.EN=function(K,E,x,c){this.Yx=[j6.C3,j6.oh];var J=this.Pl(this.yy,K);if(this.i.length!=0&&(iP.B4(J,this.i[0])<$.q_(K,c)||Date.now()-this.aw<300)){this.mq(K,this.i[0]);
this.finish(K,E,x);this.clear(K);return}this.aw=Date.now();if(this.i.length!=0)J=this.Wt(J,K);else{var i=K.b,P=K.n,_=W.Q(i*P),a=K.S7(),j=i*P*4;
for(var y=0;y<j;y+=4)_[y>>>2]=~~(.5+W.bg(a[y],a[y+1],a[y+2])*(a[y+3]*(1/255)));this.Cb=W.u3.a3n(_,i,P);
this.$x=new Uint16Array(_.length)}this.mq(K,J);this.Sq=x.l(j6.iE)?1:0;this.tO(K)};$.us.prototype.mq=function(K,E){var x=this.i;
this.WF[x.length]=this.R$.length;if(x.length!=0){W.u3.Yj(this.kz,E.y*K.b+E.x);var c=this.Cw(K,E);c.reverse();
var J=$.us.aiw(K,c);this.R$=this.R$.concat(J)}x.push(E);this.anO(K)};$.us.prototype.anO=function(K){var E=this.i[this.i.length-1],x=E.y*K.b+E.x;
this.kz=W.u3.a5m(this.Cb.KA,this.Cb.M2,x);this.$x.fill(0)};$.us.prototype.Pl=function(K,E){return new iP(Math.floor(Math.max(0,Math.min(E.b-1,K.x))),Math.floor(Math.max(0,Math.min(E.n-1,K.y))))};
$.us.prototype.clear=function(K){this.R$=[];this.i=[];this.WF=[];this.Cb=null;this.kz=null;this.$x=null;
if(K!=null){K.I.Xv=null;K.I.Lt=[];K.ZI=!0}this.Yx=[]};$.us.prototype.fw=function(K,E,x,c){var J=this.i,i=J.length;
if(i==0)return;var P=this.Wt(this.Pl(this.vw,K),K),_=this.Cw(K,P);for(var y=0;y<_.length;y++){var a=_[y],j=new iP(a%K.b,Math.floor(a/K.b));
if(this.$x[a]>30&&iP.B4(j,J[i-1])>20){this.mq(K,j);return}this.$x[a]++}if(this.Sq==1&&c.tj)this.mq(K,P);
this.tO(K)};$.us.prototype.tO=function(K){var E=this.i;if(E.length!=0){var x=this.Wt(this.Pl(this.vw,K),K),c=this.Cw(K,x);
c.reverse();var J=$.us.aiw(K,c),i=this.R$.concat(J),P=K.I.Xv={C:i,W:["M"]};for(var y=2;y<i.length;y+=2)P.W.push("L")}K.I.Lt=[];
for(var y=0;y<E.length;y++)K.I.Lt.push(E[y].x+.5,E[y].y+.5);K.ZI=!0};$.us.prototype.eL=function(K,E,x,c){};
$.us.prototype._G=function(K,E,x,c){if(this.i.length==0)return;if(c.l(j6.C3)||c.l(j6.oh)){this.i.pop();
this.R$=this.R$.slice(0,this.WF[this.i.length]);this.WF.pop();if(this.i.length==0)this.clear(K);else this.anO(K);
this.tO(K)}if(c.l(j6.Tt)){var J=this.Pl(this.vw,K);this.mq(K,J);this.finish(K,x,c);this.clear(K)}if(c.l(j6.go)){this.clear(K)}};
$.us.prototype.getSelection=function(K,E,x,c){return $.cx.YC(this.R$,null,this.Ix.anta)};$.us.prototype.Cw=function(K,E){var x=this.i[this.i.length-1],c=x.y*K.b+x.x,J=E.y*K.b+E.x;
if(this.Sq==1)return[J,c];var i=[J];while(J!=c){J=this.kz.hR[J];i.push(J);if(i.length>5e3){console.log(i);
throw"e"}}return i};$.us.aiw=function(K,E){var x=[],c=K.b;for(var y=0;y<E.length;y++){var J=E[y];x.push(J%c+.5,Math.floor(J/c)+.5)}return x};
$.us.prototype.Wt=function(K,E){var x=E.b,c=E.n,J=K.clone(),P=3;W.u3.Yj(this.kz,K.y*x+K.x);var i=this.kz.am[K.y*x+K.x];
for(var _=-P+1;_<P;_++)for(var a=-P+1;a<P;a++){var j=K.x+a,e=K.y+_;if(j<0||j>=x||e<0||e>=c)continue;
W.u3.Yj(this.kz,e*x+j);if(this.kz.am[e*x+j]<i)J.tn(j,e)}return J};$.dk=function(){$.dC.call(this,[10,36],$.l0,"tools/ruler");
this.D7=null;this.uH=null;this.cY=null;this.Wl=null;this.IY=null};$.dk.prototype=new $.dC;$.dk.prototype.GT=function(K){return K.tj};
$.dk.prototype.enable=function(K,E,x,c){$.dC.prototype.enable.call(this,K,E,c,x);if(K)this.ns(K)};$.dk.prototype.disable=function(K,E,x,c){if(K)this.CB(K)};
$.dk.prototype.Qp=function(K,E,x,c,J){this.D7=this.cY=null;this.ns(x)};$.dk.prototype.zb=function(K,E,x,c,J){var i=$.q_(K,J),P=K.D.gg(J.x,J.y);
P.x=Math.round(P.x);P.y=Math.round(P.y);var _=this.D7;this.uH=_?_.slice(0):null;var a=_&&iP.B4(P,_[0])<i,j=_&&iP.B4(P,_[1])<i,e=_&&_[2]&&iP.B4(P,_[2])<i;
if(a||j||e){if(c.l(j6.iE)&&_.length==2){if(j){var d=_[0];_[0]=_[1];_[1]=d}_[2]=_[0].clone();this.cY=[2]}else this.cY=[a?0:j?1:2]}else if(_&&$.dk.a6l(_[0],_[1],P)<i&&Math.min(_[0].x,_[1].x)-5<=P.x&&P.x<=Math.max(_[0].x,_[1].x)+5&&Math.min(_[0].y,_[1].y)-5<=P.y&&P.y<=Math.max(_[0].y,_[1].y)+5){this.cY=[];
this.IY=[];for(var y=0;y<_.length;y++){this.cY.push(y);this.IY.push(_[y].clone())}this.Wl=P}else{this.D7=[P.clone(),P.clone()];
this.cY=[1]}};$.dk.prototype.il=function(K,E,x,c,J){if(this.cY==null)return;var i=this.D7,P=this.cY,_=K.D.gg(J.x,J.y);
_.x=Math.round(_.x);_.y=Math.round(_.y);if(P.length>1){var a=_.x-this.Wl.x,j=_.y-this.Wl.y;for(var y=0;
y<i.length;y++){i[y]=this.IY[y].clone();i[y].offset(a,j)}}else{i[P[0]].tn(_.x,_.y);if(c.l(j6.iu)){i[P[0]]=$.Mf.yz(i[1-P[0]],i[P[0]])}}this.ns(K);
this.mP(E,u.E.L,{_:u.c.zy,G:this.id,al5:i[0],WO:i[1],Gx:i[2],B8:K.B8,aeH:K.b});K.D.O8=W.p.Uz([i[0].x,i[0].y,i[1].x,i[1].y]);
console.log(K.D.O8)};$.dk.prototype.N2=function(K,E,x,c,J,i){this.cY=null;if(i){this.D7=this.uH.slice(0);
this.ns(K)}};$.dk.prototype.mP=function(K,E,x){var c=new i3(E,!0);c.data=x;K.S(c)};$.dk.prototype.ns=function(K){var E=this.D7;
if(E==null)this.CB(K);else{var x=[E[1].x,E[1].y,E[0].x,E[0].y],c=["M","L"];if(E.length>2){x.push(E[2].x,E[2].y);
c.push("L")}K.I.Xv={W:c,C:x};K.I.Lt=x}K.ZI=!0};$.dk.prototype.CB=function(K){K.I.Xv=null;K.I.Lt=[]};
$.dk.a6l=function(K,E,x){var c=E.x-K.x,J=E.y-K.y,i=Math.abs(J*x.x-c*x.y+E.x*K.y-E.y*K.x),P=Math.sqrt(c*c+J*J);
return P==0?0:i/P};$.tl=function(){$.Hj.call(this,[10,19],$.Uk,"tools/sharpen");this.BW="copy"};$.tl.prototype=new $.Hj;
$.tl.prototype.zb=function(K,E,x,c,J){var i=this.Ix.pdetail?bL.zO:bL.Uk;if(c.l(j6.iE))i=bL.ei;this.WW(K,x,c,J,this.Ix.strn,i);
if(this.RY==null)return;this.oi(K)};$.tl.prototype.il=function(K,E,x,c,J){this.Dz(K,E,x);if(this.c2)this.qZ(K,x,J);
if(this.RY==null)return;if(!J.tj)return;this.EC(K,x,c,J);this.oi(K)};$.X6=function(){$.Hj.call(this,[10,24],$.Wd,"tools/shbrush");
this.BW="draw";this.Ix.opacity=.5};$.X6.prototype=new $.Hj;$.X6.prototype.zb=function(K,E,x,c,J){this.WW(K,x,c,J,1);
if(this.RY==null)return;this.De(K);this.oi(K)};$.X6.prototype.il=function(K,E,x,c,J){this.Dz(K,E,x);
if(this.c2)this.qZ(K,x,J);if(this.RY==null)return;if(!J.tj)return;this.EC(K,x,c,J);this.oi(K)};$.X6.prototype.N2=function(K,E,x,c,J){if(this.RY==null)return;
this.SU(K,"sheal",this.RY.fe(),this.RY.ZS(),this.RY.D2(),null);this.U(K,this.RY.D2());$.Hj.prototype.N2.call(this,K,E,x,c,J)};
$.Qf=function(){$.Hj.call(this,[10,20],$.Rh,"tools/smudge");this.BW="copy"};$.Qf.prototype=new $.Hj;
$.Qf.prototype.zb=function(K,E,x,c,J){this.WW(K,x,c,J,this.Ix.strn,bL.Rh);if(this.RY==null)return;this.oi(K)};
$.Qf.prototype.il=function(K,E,x,c,J){this.Dz(K,E,x);if(this.c2)this.qZ(K,x,J);if(this.RY==null)return;
if(!J.tj)return;this.EC(K,x,c,J);this.oi(K)};$.nn=function(){$.Hj.call(this,[10,23],$.qR,"tools/sponge");
this.BW="sponge"};$.nn.prototype=new $.Hj;$.nn.prototype.zb=function(K,E,x,c,J){this.WW(K,x,c,J,this.Ix.flow);
if(this.RY==null)return;this.oi(K)};$.nn.prototype.il=function(K,E,x,c,J){this.Dz(K,E,x);if(this.c2)this.qZ(K,x,J);
if(this.RY==null)return;if(!J.tj)return;this.EC(K,x,c,J);this.oi(K)};$.gM=function(){$.dC.call(this,[10,17],$.lJ,"tools/zoom");
this.Pa=!1;this.Bq=!0;this.GX=!1;this.UT=0;this.lm=null;this.U0=null;this.MC=0;this.o2=null;this.a7G=0;
this.Rw=new cQ([{name:[8,0],S3:"Ctrl + +"},{name:[8,1],S3:"Ctrl + -",_B:!0},{name:[20,3],S3:"Ctrl + 0"},{name:["VAR0: 100%",[20,2]],S3:"Ctrl + 1"}],[{Y:u.E.v,G:$.lJ,F:{_:"zoom",Bq:!0}},{Y:u.E.v,G:$.lJ,F:{_:"zoom",Bq:!1}},{Y:u.E.v,G:$.lJ,F:{_:"adapt",Z:"fitscr"}},{Y:u.E.v,G:$.lJ,F:{_:"adapt",Z:"pixel"}}])};
$.gM.prototype=new $.dC;$.gM.prototype.oG=function(K,E,x,c,J){var i=this.Rw;i.f();i.parent=E;i.update(K,x);
var P=new i3(u.E.L,!0);P.data={_:u.c.gF,M8:i,x:J.H9+2,y:J.HX+1};E.S(P)};$.gM.prototype.enable=function(K,E,x,c){this.lY(E,c);
if(K&&Date.now()-this.UT<300)this.Qp({_:"adapt",Z:"pixel"},E,K,c,x);this.UT=Date.now()};$.gM.prototype.zb=function(K,E,x,c,J){this.U0=new iP(J.x,J.y);
this.MC=K.D.N;this.o2=K.D.R.clone()};$.gM.prototype.il=function(K,E,x,c,J){if(this.U0==null)return;var i=Math.exp(Math.log(this.MC)+(J.x-this.U0.x)/64);
i=Math.max(.02,Math.min($.gM.rO[0],i));K.D.N=this.MC;K.D.R=this.o2.clone();this.Qp({_:"zoom",N:i,cW:this.U0,GX:this.GX},E,K,c,x)};
$.gM.prototype.N2=function(K,E,x,c,J){if(iP.B4(this.U0,J)<4){var i=this.awy(c);this.Qp({_:"zoom",Bq:i,cW:J,GX:this.GX},E,K,c,x)}this.U0=null};
$.gM.rO=[128,64,32,16,12,8,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
$.gM.aih=function(K,E,x,c){var J=1;while(K*J*1/2>x||E*J*1/2>c)J*=1/2;if(K*J*2/3>x||E*J*2/3>c)J*=1/2;
else if(K*J>x||E*J>c)J*=2/3;return J};$.gM.a1p=function(K,E){var x=$.gM.ape(K);if(E&&x==0)return K;if(!E&&x==$.gM.rO.length-1)return K;
return $.gM.rO[E?x-1:x+1]};$.gM.ape=function(K){var E=0;while($.gM.rO[E]>K)E++;return E};$.gM.Jf=function(K,E,x,c){var J=K.c1;
if(c==0||c==null){c=$.gM.a1p(K.N,x);if(c==K.N)return}var i=K.gg(E.x,E.y);i.x=Math.max(0,Math.min(J.b,i.x));
i.y=Math.max(0,Math.min(J.n,i.y));if(!1){}else{var P=K.uL(),_=K.N/c;P.translate(-i.x,-i.y);P.scale(_,_);
P.translate(i.x,i.y);K.a3V(P)}};$.gM.prototype.Qp=function(K,E,x,c,J){if(K._=="pzoom"){if(typeof K.Z=="string")return;
K={_:"zoom",N:K.Z/100}}var i=0,P=!1,_=null;if(K._=="adapt"){var a=0;if(K.Z=="pixel")a=1;if(K.Z=="fitscr"){var a=0,j=x.D.E5.b,e=x.D.E5.n,d=new cS(0,0,x.b,x.n),I=W.p.VD(d).C,v=new iQ;
v.rotate(x.D.Zm);W.p.u(I,v,I);var n=W.p.hp(I),C=J.Fy?W.uz.Xi+4:8;a=Math.min((j-C*2)/n.b,(e-C*2)/n.n);
x.D.R.tn(0,0)}_=new iP(Math.round(x.D.E5.b/2),Math.round(x.D.E5.n/2));i=a;$.gM.Jf(x.D,_,P,i);x.Bi=!0}if(K._.startsWith("multi")){function T(G){var O=G[0].x-G[1].x,w=G[0].y-G[1].y;
return Math.sqrt(O*O+w*w)}function o(G){return new iP((G[0].x+G[1].x)/2,(G[0].y+G[1].y)/2)}var s=K.w8,Q=o(s);
if(K._=="multidown"){this.lm=[s,x.D.N,x.D.gg(Q.x,Q.y)]}else{var X=$.gM.rO;i=this.lm[1]*T(s)/T(this.lm[0]);
i=Math.max(X[X.length-1],Math.min(X[0],i));if(i!=x.D.N)$.gM.Jf(x.D,Q,P,i);var B=this.lm[2],M=x.D.An(B.x,B.y),S=x.D.R;
S.x=Math.round(S.x+Q.x-M.x);S.y=Math.round(S.y+Q.y-M.y);x.Bi=!0}}if(K._=="scroll"){_=K.cW;var X=$.gM.rO,f=K.K8.y,F=1+Math.abs(f)*8e-4*(K.a2g?10:1);
if(f>0)F=1/F;i=x.D.N*F;$.gM.Jf(x.D,_,P,Math.min(X[0],Math.max(X[X.length-1],i)));x.Bi=!0}if(K._=="zoom"){var G=K.GX?E.Mt:[x];
for(var y=0;y<G.length;y++){var D=G[y],b=D.D;_=K.cW?K.cW:new iP(Math.round(b.E5.b/2),Math.round(b.E5.n/2));
if(K.N!=null)i=K.N;else P=K.Bq;$.gM.Jf(b,_,P,i);D.Bi=!0}}if(K._=="mskView"){var H=x.B[x.g[0]];if(H.kS<=0){H.kS=1;
x.Xw=!0}var q=H.kS==3?H.Xe(x).z:H.FA();if(K.Z==0){x.D.NW=[1,1,1];q.U1=!1}if(K.Z==1){x.D.NW=[1,1,1];q.U1=!0}if(K.Z==2){x.D.NW=[0,0,0];
q.U1=!0}for(var y=0;y<x.Un.length;y++)x.Un[y].U1=!1;x.N9=[];x.ZI=!0}};$.gM.prototype._G=function(K,E,x,c){if(this.Pa!=c.l(j6.iE)){this.Pa=c.l(j6.iE);
var J={_:u.c.zy,G:this.id,Pa:this.Pa},i=new i3(u.E.L,!0);i.data=J;E.S(i);this.lY(E,c)}};$.gM.prototype.lY=function(K,E){var x=new i3(u.E.L,!0),c=this.awy(E);
x.data={_:u.c.wA,JK:c?"zoom-in":"zoom-out"};K.S(x)};$.gM.prototype.Gj=function(K,E,x,c){this.Bq=K.Bq;
this.GX=K.GX;this.lY(E,c)};$.gM.prototype.awy=function(K){var E=this.Bq;if(K.l(j6.rm)&&K.l(j6.Se))E=!0;
if(this.Pa)E=!E;return E};$.gM.ayW=function(K,E){if(K.l(j6.Q5)||K.l(j6.a5e)){E.G=$.lJ;E.data={_:"zoom",Bq:!0}}if(K.l(j6.jb)){E.G=$.lJ;
E.data={_:"zoom",Bq:!1}}if(K.l(j6.GN)){E.G=$.lJ;E.data={_:"adapt",Z:"fitscr"}}if(K.l(j6.xJ)){E.G=$.lJ;
E.data={_:"adapt",Z:"pixel"}}};$.hS=function(K,E,x){$.dC.call(this,K,E,x);this.Ul=null;this.ll=null;
this.H3=null;this.a3k=0};$.hS.prototype=new $.dC;$.hS.gh=function(K){var E={t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},x=K==0?{classID:"null",null:E,WhPt:{t:"bool",v:!0}}:{classID:"Strk",null:E,Usng:{t:"type",v:{classID:"PbTl"}},__name:"Stroke"};
return{va:K==0?"fill":"stroke",Ks:x}};$.hS.prototype.enable=function(K,E,x,c,J){this.ll=x;var i=new i3(u.E.L,!0);
i.data={_:u.c.wA,JK:"default"};E.S(i)};$.hS.prototype.oG=function(K,E,x,c,J){var i=K.Ox(),P=i[0],_=i[1];
if(_.length==0)return;var a=P[_[0]],j=a.add.vmsk,e=K.D.gg(J.x,J.y),d=4*$.V()/K.D.N,I=new cS(e.x-d,e.y-d,d*2,d*2),v=W.r.EU(j.i,I)[0];
if(v.length!=0){j.Ex=v;K.ZI=!0}var n=W.r.ds(j.i,e).JD;if(n!=-1){j.g=[n];K.ZI=!0}var C=new i3(u.E.L,!0);
C.data={_:u.c.zy,G:this.id,SQ:J,tD:K,W5:x};E.S(C)};$.hS.prototype.aeM=function(K,E){var x=new i3(u.E.L,!0);
x.data={_:u.c.Na,ry:eu.s3};if(!E.R9)K.S(x);x.data={_:u.c.Na,ry:eu.gj};if(!E.Vp.Qg)K.S(x)};$.hS.prototype.br=function(K,E,x,c){if(x.OI!=this.id)return;
if(K.g.length==0)return;var J=K.B[K.g[0]],i=J.add.vmsk,P=J.add.vstk,_=$.hS.xB(K,K.g[0]);this.Ul=K;this.H3=E;
if(J.Au()&&i!=null&&(JSON.stringify(P)!=JSON.stringify(x.q8)||JSON.stringify(_)!=JSON.stringify(x.Eo))){this.a3k=Date.now();
var a=new i3(u.E.L,!0);a.data={_:u.c.Na,ry:eu.nX,Z:_};E.S(a);a.data={_:u.c.Na,ry:eu.fh,Z:P};E.S(a)}};
$.hS.prototype.Q3=function(K,E){if(this.Ul==null)return;if(E==eu.$r||E==eu.nX||E==eu.fh){if(Date.now()-this.a3k<50)return;
var x=E==eu.nX,c=this.Ul,J=x?K.Eo:K.q8,i=[],P=c.g;for(var y=0;y<P.length;y++){var _=P[y],a=c.B[_];if(!a.Au()||a.add.vmsk==null)continue;
i.push(_)}var j=new i3(u.E.v,!0);j.G=$.Os;j.data={_:Z.IQ,sx:i,DD:x,Z:J};if(i.length!=0)this.H3.S(j)}};
$.hS.prototype.ax2=function(K){if(typeof K=="number"){var E=new i3(u.E.Hg,!0);E.data=$.SM.rM(0);E.data.Ks.Usng.v.Type.v.Clr.v=W.M.TD({o:K>>>16&255,J:K>>>8&255,k:K>>>0&255});
this.H3.S(E)}};$.hS.prototype.Qp=function(K,E,x,c,J){this.H3=E;if(K._=="newfill"){if(K.cl==0){var i=new i3(u.E.L,!0);
i.data={_:u.c.v9,xc:"colorpicker",Hw:J.U9,ze:this.ax2.bind(this)};E.S(i)}}else if(K._=="pathedit"){var P=K.S8,_="",a=x.Qg.slice(0),j=x.Jq.slice(0),e=x.Qg.slice(0),d=x.Jq.slice(0);
if(P=="rnm"){var I=-1-K.JD,v=a[I],n=gD.bv(K.name,v.add);if(I!=0)e[I]=n;else{d=[e.length];e.push(n);e[0]=gD.bv("Work Path")}_="Rename"}else if(P=="new"){var n=gD.bv("Path "+a.length);
if(K.a6_){var C=x.Ox(),T=C[0],o=C[1],Q=T[o[0]];n.add.vmsk=Q.add.vmsk.clone();n.add.vogk=JSON.parse(JSON.stringify(Q.add.vogk));
if(Q.JD==-1){var X=e[d[0]]=gD.bv("Path "+a.length);X.name=Q.name;X.JD=Q.JD}}e.push(n);d=[e.length-1];
_="New"}else if(P=="del"){if(d.length==0)return;d.sort(function(q,L){return q-L});if(d[0]==0){e[0]=gD.bv(a[0].name);
d=d.slice(1)}var B=0;while(d.length!=0){e.splice(d[0]-B,1);d=d.slice(1);B++}_="Delete"}else if(P=="fromsel"){var M=e[0]=gD.bv("Work Path");
d=[0];if(x.P==null)return;var S=x.P.channel.slice(0);for(var y=0;y<S.length;y++)S[y]=S[y]>128?2:1;var f=x.P.rect.clone();
f.r1(1,1);var F=W.Q(f.O());W.XT(S,x.P.rect,F,f);var G=iq.dg(F,f.b,f.n,Math.round(f.O()*5e-4)),T=iq.Ox(G),D=new iQ(1,0,0,1,-1+x.P.rect.x,-1+x.P.rect.y);
for(var y=0;y<T.length;y++)W.p.u(T[y].path.C,D,T[y].path.C);for(var y=0;y<T.length;y++){var b=T[y];if(b.color==1&&b.parent==-1)continue;
var H=W.p.uR(T[y].path,!1);M.add.vmsk.i=M.add.vmsk.i.concat(H.slice(2))}M.add.vogk=Z.yt(M.add.vmsk.i);
_="Selection to"}var q=new im(_+" Path",this);q.data={uH:a,SY:j,acn:e,Dh:d};if(P=="fromsel"){q.data.RK=x.P;
q.data.sR=null}x.i1(q);this.RO(q.data,x)}else{var O=K.vZ,C=x.Ox(K._=="append"||K._=="fromAction"),T=C[0],o=C[1],M=T[o[0]],w=M.add.vmsk,V=M.add.vogk,t=w.clone(),m=w.clone(),g=JSON.stringify(V);
if(K._=="fromAction"){var Y=K.t7,A=Y.va,k=Y.Ks,z=k.T;if(A=="set"){if(z){V.push(W.X.MW(z));m.i.push({type:0,qX:1,length:0});
W.X.Pm(V,m);O=[12,76,0]}else throw k}else if(A=="draw"){V=[W.X.MW(k.Shp)];m.i.push({type:0,qX:1,length:0});
W.X.Pm(V,m);$.hS.a4T(m.i,k.AntA.v,J.U9,E);return}else throw A}else if(K._=="remove"){if(K.ps&&m.Ex.length!=0){m.i=W.r.afY(m.i,m.Ex,V,K.acO);
var p=W.r.kT(m.i);for(var y=0;y<m.g.length;y++)if(m.g[y]>=p){m.g.splice(y,1);y--}m.Ex=[];O="Delete Anchors"}else{if(m.g.length==0)return;
var B=0;for(var y=0;y<m.g.length;y++){V.splice(m.g[y]+B,1);B--}m.i=W.r.agJ(m.i,m.g);m.g=[];m.Ex=[];if(O==null)O="Delete Paths"}}if(K._=="append"){$.hS.PR(K.a5b,m,V)}this.hB(x,M.JD,m,V);
this.RC(x,O,M.JD,t,m.clone(),null,g,JSON.stringify(V))}};$.hS.a4T=function(K,E,x,c){var J=new Z.Wf;J.i=J.i.concat(K.slice(2));
var i=J.FA();if(!E)W.round(i.channel);var P=W.Q(i.rect.O()*4);W._m(P,(x&255)<<16|(x>>8&255)<<8|(x>>16&255)<<0);
W.Mz(i.channel,P,3);var _=new i3(u.E.v,!0);_.G=$.Xb;_.data={_:"draw",$U:{buffer:P,rect:i.rect.clone()},vZ:this.name};
c.S(_)};$.hS.Bj=function(K,E){var x=W.r.ae7(K.i,K.g),c=[];for(var y=0;y<K.g.length;y++)c.push(JSON.parse(JSON.stringify(E[K.g[y]])));
return[x,c]};$.hS.PR=function(K,E,x){var c=W.r.kT(E.i),J=W.r.kT(K[0]);E.i=E.i.concat(K[0].slice(2));
E.g=[];for(var y=0;y<J;y++)E.g.push(c+y);for(var y=0;y<J;y++)x.push(JSON.parse(JSON.stringify(K[1][y])))};
$.hS.prototype.Xo=function(K,E){if(E==null)return!1;var x=E.Ox(),c=x[0],J=x[1];if(J.length==0)return!1;
var i=c[J[0]],P=i.add.vmsk;if(P&&P.g.length+P.Ex.length!=0)return[j6.C3,j6.oh].indexOf(K)!=-1};$.hS.prototype._G=function(K,E,x,c){if(K==null)return;
var J=K.Ox(),i=J[0],P=J[1];if(P.length==0)return;var _=i[P[0]],a=_.add.vmsk;if(c.l(j6.go)||c.l(j6.Tt)||this.id==$.Lx&&c.l(j6.jT)){a.Ex=[];
K.ZI=!0}if(a.g.length!=0){var j=c.lI(K?K.D.Zm:0);if(j.x!=0||j.y!=0){var e=a.clone(),d=a.clone(),I=new iQ(1,0,0,1,j.x,j.y),v=_.add.vogk,n=JSON.stringify(v);
if(c.l(j6.iE)){var C=$.hS.Bj(d,v);$.hS.PR(C,d,v)}W.r.it(d.i,I,d.g);W.X.u(v,W.K.y5(I),d.g);this.hB(K,_.JD,d,v);
this.RC(K,"Move Paths",_.JD,e,d.clone(),!0,n,JSON.stringify(v))}if(c.l(j6.C3)||c.l(j6.oh))this.Qp({_:"remove",ps:this.id==$.Lx},E,K,c,x)}};
$.hS.prototype.RC=function(K,E,x,c,J,i,P,_){var a=new im(E,this);a.data={OV:x,s_:c,jF:J,a3a:i,aya:P,OM:_};
K.i1(a)};$.hS.prototype.RO=function(K,E){if(K.OV!=null)this.hB(E,K.OV,K.jF.clone(),JSON.parse(K.OM));
else{E.Qg=K.acn.slice(0);E.Jq=K.Dh.slice(0);E.ZI=E.Xw=!0}if(K.RK||K.sR){E.P=K.sR;E.zF=!0}};$.hS.prototype.Bn=function(K,E){if(K.OV!=null)this.hB(E,K.OV,K.s_.clone(),JSON.parse(K.aya));
else{E.Qg=K.uH.slice(0);E.Jq=K.SY.slice(0);E.ZI=E.Xw=!0}if(K.RK||K.sR){E.P=K.RK;E.zF=!0}};$.hS.prototype.hB=function(K,E,x,c){var J=E<0?K.Qg[-1-E]:E<1e6?K.B[E]:K.B[E-1e6].add.TySh,i=J.add.vmsk;
i.channel=null;i.I_=!0;if(i.Sc){i.Sc.channel=null;i.Sc.I_=!0}J.add.vmsk=x;J.add.vogk=c;if(1e6<=E){ev.Be(J);
var P=K.B[E-1e6],_=J,a=this.ll;cl.jY(P,a.ir);K.U()}else if(0<=E){x.I_=!0;J.DY(K);K.U()}K.ZI=K.Xw=!0};
$.hS.xB=function(K,E){var x=K.B[E],c=x.add.vstk,J=null;if(c&&!c.fillEnabled.v)J={ez:0};else if(x.add.SoCo)J={ez:1,QT:x.add.SoCo};
else if(x.add.GdFl)J={ez:2,QT:x.add.GdFl};else if(x.add.PtFl)J={ez:3,QT:x.add.PtFl};return J};$.hS.oq=function(K,E){var x=K.add.vmsk,c=K.add.vstk,J=E.ez;
if(c)c.fillEnabled.v=J!=0;if(J>0){var i=["SoCo","GdFl","PtFl"][J-1];for(var y=0;y<3;y++)delete K.add[["SoCo","GdFl","PtFl"][y]];
K.add[i]=E.QT}};$.SM=function(K,E,x,c){$.hS.call(this,K,E,x);this.Ix={shape:aS.JQ(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,tsiz:300,cstr:{kt:0},anta:!0,aopts:[!1,!1,50,100,0]};
this.ab5=c;this.x5=null;this._s=null;this.yj=null;this.i7=new eA};$.SM.prototype=new $.hS;$.SM.prototype.GT=function(K){return K.tj&&this.id!=$.gx};
$.SM.prototype.enable=function(K,E,x,c,J){this.ll=x;var i=new i3(u.E.L,!0);i.data={_:u.c.wA,JK:"crosshair"};
E.S(i)};$.SM.prototype._G=function(K,E,x,c){$.hS.prototype._G.call(this,K,E,x,c);this.i7._G(c);this.UA(E,x)};
$.SM.prototype.UA=function(K,E){var x=new i3(u.E.L,!0);x.data={_:u.c.zy,G:this.id,Uv:this.bJ(E)};K.S(x)};
$.SM.prototype.bJ=function(K){var E=this.i7.Yi(0),x=this.i7.a9(0),c=$.cx.wZ(this.Ix.binop,E,x);if(K.Yp==1&&c==0)c=1;
return c};$.SM.prototype.nA=function(K,E,x,c){};$.SM.prototype.zb=function(K,E,x,c,J){var i=x.Yp;if(i!=2)this.aeM(E,x);
if(i==2&&!K.IC())return;var P=K.D.gg(J.x,J.y);P=$.DU.W1(K,P,x);this.yj=[P.x,P.y];this.x5=P;this._s=new iP(0,0);
this.i7.zb(c)};$.SM.prototype.ado=function(K,E,x,c){var J=[this.x5.clone(),E.clone()];x=this.i7.Yi(1)||x.l(j6.iu)||this.i7.a9(1)?x:null;
if(this.ab5)J=$.SM.YX(J[0],J[1],x,!0,this.Ix.cstr);if(K)K.D.O8=new cS(J[0].x,J[0].y,J[1].x-J[0].x,J[1].y-J[0].y);
return this.nA(J[0],J[1],this.i7.Yi(1)&&x.l(j6.iu),this.yj,K.D,c)};$.SM.prototype.amc=function(K,E,x){var c=K.D.gg(E.x,E.y);
if(this.id==$.gx)return c;var J=this.Ix.cstr;if(J.kt==2){var i=new cS(c.x-J.x,c.y-J.y,J.x,J.y),P=$.DU.bn(K,i,x);
c.x+=P[0];c.y+=P[1];$.DU.lD(K,i,P)}else c=$.DU.W1(K,c,x);return c};$.SM.prototype.il=function(K,E,x,c,J){if(this.x5==null)return;
var i=this.yj,P=i.length,_=J?this.amc(K,J,x):new iP(i[P-2],i[P-1]);if(c.l(j6.rm))this.x5=_.aZ(this._s);
else this._s=_.aZ(this.x5);i.push(_.x,_.y);if(this.Ix.shape==null)this.Ix.shape=x.nK[0];var a=this.ado(K,_,c,!0)[0],j=W.p.P0(a);
K.I.Xv=j;if(this.id!=$.gx&&this.id!=$.AR&&this.id!=$.lc)$.dC.CE(J,K.D.O8,K,x);K.ZI=!0;this.i7.il()};
$.SM.prototype.afm=function(K,E,x,c){var J=K[4].clone();if(c){J.x-=E/2;J.y-=x/2}if(this.id==$.AR){E/=2;
x/=2;J.x+=E;J.y+=x;x=-x;E=0}var i=this.nA(J,new iP(J.x+E,J.y+x),!1,this.yj);this.acz(K[0],K[1],K[2],i)};
$.SM.prototype.acz=function(K,E,x,c){var J=x.Yp,i=new i3(u.E.Hg,!0);if(J==0)i.data=$.SM.ahg(c[1],x);
else if(J==1){var P={__name:"Set",classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},T:c[1]};
i.data={va:"set",Ks:P}}else{var P={__name:"Draw",classID:"Draw",AntA:{t:"bool",v:!0},Shp:c[1]};i.data={va:"draw",Ks:P}}E.S(i);
if(c[1].v.classID=="customShape"&&c[1].v.Nm.v.startsWith("--")){var _=K.Ox(),a=_[0],j=_[1],e=a[j.pop()],d=e.add.vmsk,I=e.add.vogk;
W.X.kF(I);var v=d.clone();v.i=c[0];this.hB(K,e.JD,v,I)}};$.SM.prototype.N2=function(K,E,x,c,J,i){if(this.x5==null)return;
var P=this.amc(K,J,x),_=this.bJ(x),a=x.Yp,j=this.yj,e=j.length;if(this.id==$.gx&&e<=4){}else if(e<=4){P.x=Math.round(P.x);
P.y=Math.round(P.y);var d=new i3(u.E.L);d.data={_:u.c.v9,xc:"createshape",a1T:this.afm.bind(this),aw$:this.name,auK:[K,E,x,c,P]};
if(!i)E.S(d)}else if(e!=2){var I=this.ado(K,P,c),v=I[0],n=K.Ox(!0),C=n[0],T=n[1],o=T.length-1;if(a==1&&v.length>2||a==0&&_!=0&&o!=-1&&C[T[o]].JD>=0){v[2].qX=[1,2,3,0][_-1];
var s=C[T.pop()],Q=s.add.vmsk,X=s.add.vogk,B=Q.clone(),M=Q.clone(),S=JSON.stringify(X);M.i=M.i.concat(v.slice(2));
M.g=[W.r.kT(M.i)-1];var f=W.X.MW(I[1]);X.push(f?f:W.X.im());this.hB(K,s.JD,M,X);this.RC(K,this.name,s.JD,B,M,null,S,JSON.stringify(X))}else if(a==0){this.acz(K,E,x,I)}else if(a==2){$.hS.a4T(v,this.Ix.anta,x.U9,E)}}this.x5=null;
K.I.Xv=null;K.I.sA=null;K.I.un=[];K.D.O8=null;K.ZI=!0;this.i7.N2();this.UA(E,x)};$.SM.prototype.Gj=function(K,E,x,c,J){for(var x in K)this.Ix[x]=K[x]};
$.SM.YX=function(K,E,x,c,J){var i=K.x,P=K.y,_=E.x,a=E.y;if(J&&J.kt==2){if(c){_=Math.round(_);a=Math.round(a)}i=_-J.x;
P=a-J.y}else{var j=0;if(J&&J.kt==1)j=J.y/J.x;else if(x&&x.l(j6.iu))j=1;if(j!=0){if(c){if(i<_)i=Math.floor(i);
else i=Math.ceil(i);if(P<a)P=Math.floor(P);else P=Math.ceil(P)}var e=Math.abs(_-i),d=Math.abs(a-P),I=e;
if(d/e<j)I*=d/e/j;_=_>i?i+I:i-I;a=a>P?P+I*j:P-I*j}if(x&&x.l(j6.iE)){i-=_-i;P-=a-P}}var K=new iP(i,P),E=new iP(_,a);
if(c)$.SM.a27(K,E);return[K,E]};$.SM.a27=function(K,E){if(K.x>E.x){var x=K.x;K.x=E.x;E.x=x}if(K.y>E.y){var x=K.y;
K.y=E.y;E.y=x}K.x=Math.floor(K.x);K.y=Math.floor(K.y);E.x=Math.ceil(E.x);E.y=Math.ceil(E.y)};$.SM.ajY=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
$.SM.rM=function(K,E){var x=$.SM.ajY(),c=x.Usng.v.Type;if(E==null){c.v=JSON.parse(JSON.stringify(dz.gk[K]));
c.v.classID=["solidColorLayer","gradientLayer","patternLayer"][K]}else $.rn.Fw(E,c.v,K);return{va:"make",Ks:x}};
$.SM.ahg=function(K,E){var x=E.Eo,c=JSON.parse(JSON.stringify(E.q8));c.fillEnabled.v=x.ez!=0;var J=$.SM.rM(Math.max(0,x.ez-1),x.QT);
J.Ks.Usng.v.Shp=K;J.Ks.Usng.v.strokeStyle={t:"Objc",v:c};return J};$.BR=function(K){$.hS.call(this,K==0?[10,29]:[10,51],K==0?$.Lx:$.a8C,K==0?"tools/pen":"tools/cpen");
this.Sq=K;this.BO=null;this.v7=null;this.zX=null;this.auB=0;this.Lr=null;this.E7=!1;this._o=!1;this.zM=!1;
this.Fh=!1;this.UT=0};$.BR.prototype=new $.hS;$.BR.prototype.GT=function(K){return this.v7!=null};$.BR.prototype._G=function(K,E,x,c){if(!c.l(j6.iE))this.zM=!1;
if(this.Sq==1&&(c.l(j6.C3)||c.l(j6.oh))&&this.Xo(j6.C3,K)){this.Qp({_:"remove",ps:!0},E,K,c,x);return}$.hS.prototype._G.call(this,K,E,x,c)};
$.BR.prototype.zb=function(K,E,x,c,J){this.BO=J;this.aeM(E,x);var i=K.D.gg(J.x,J.y),C,T;i.x=Math.round(i.x);
i.y=Math.round(i.y);var P=$.DU.W1(K,i,x),_=x.Yp,a=this.auB;if(_==2)_=0;var j=K.Ox(_==1),e=j[0],d=j[1],I=e[d.pop()],v=I?I.add.vmsk:null;
if(_==0&&a!=0&&I&&I.JD>=0)_=1;var n=$.q_(K,J);if(v)C=W.r.ds(v.i,i,!0,n);var o=c.l(j6.iE);if(_==0&&(v==null||v.Ex.length==0&&C.JD==-1)){var s=new i3(u.E.Hg,!0),Q=W.X.uS("customShape",[0,0,1,1],null,null,null,"--");
s.data=$.SM.ahg(Q,x);E.S(s);this.Fh=!0;j=K.Ox(!0);e=j[0];d=j[1];I=e[d.pop()];v=I.add.vmsk;v.i=v.i.slice(0,2)}var X=I.add.vogk;
this.v7=v.clone();this.zX=JSON.stringify(X);var B=v.i,M=W.r.kT(B);T=W.r.EU(v.i,new cS(i.x-n,i.y-n,n*2,n*2),v.Ex);
C=W.r.ds(v.i,i,!0,n);var S=T[0].length+T[1].length+T[2].length;if(C.JD!=-1&&T[0].length==0){var f=W.r.J2(B,C.JD),F=B[f].length;
while(F<=C.KS){C.KS-=F;f+=F+1}var G={type:4,ri:P.clone(),H:P.clone(),XK:P.clone()},D=f+2+C.KS,b=f+1+(1+C.KS)%F,H=B[D-1],q=B[b];
if(!H.H.ac(H.XK)||!q.ri.ac(q.H)){var O=W.p.aer(H.H,H.XK,q.ri,q.H,C.hP);H.XK=O[0];G.ri=O[1];G.H=O[2];
G.XK=O[3];q.ri=O[4]}B.splice(D,0,G);B[f].length++;v.Ex=[D];if(this.Sq==1){G.ri.x+=2;this.U$(v)}}else if(S!=0&&o){var w=0;
for(var y=0;y<3;y++)if(T[y].length!=0){w=T[y][0];this._o=y==1;break}if(T[0].length!=0){var V=v.i.length-1,t=v.i[w];
t.XK=t.H.clone();var m=t.type>=3?3:0;if(w!=V){t.ri=t.H.clone();t.type=m+1;this.zM=!0}else t.type=m+2}v.Ex=[w]}else if(T[0].length==1&&B[T[0][0]-1]&&(B[T[0][0]-1].H!=null||B[T[0][0]-1].type==0||B[T[0][0]-1].length==1)){var w=T[0][0];
if(this.Sq==1){var g=B[w],Y=g.H,A=Math.abs(W.p.aq6(g.ri.x,g.ri.y,Y.x,Y.y,g.XK.x,g.XK.y));if(A>.01){g.ri=Y.clone();
g.XK=Y.clone()}if(Date.now()-this.UT<300){var k=g.ri.ac(Y)&&g.XK.ac(Y);if(k)g.XK.offset(2,2);else{g.ri=Y.clone();
g.XK=Y.clone()}this.UT=0}else this.UT=Date.now();v.Ex=[w];this.U$(v)}else{var f=W.r.J2(B,W.r._y(B,w)),Q=B[f],z=f+Q.length;
if(w!=z||Q.type==0){B[f].length--;B.splice(w,1);z--;if(Q.length==0){B.splice(f,1);z=-1}}if(z!=-1)v.Ex=[z];
else v.Ex=[]}}else{var p=0;if(v.Ex.length!=1){v.g=[M];B.push({type:3,length:1,qX:[1,2,3,0][Math.max(0,a-1)],Im:0,At:0,Tw:0});
p=B.length;X.push(W.X.im())}else{var g=v.Ex[0],L=W.r._y(B,g),f=W.r.J2(B,L);g=f+B[f].length;if(iP.B4(i,B[f+1].H)<n){B[f].type=0;
v.Ex=[f+1];this.Lr=P;this.E7=!0;this.hB(K,I.JD,v,X);K.ZI=!0;return}B[f].length++;p=g+1;if(g==f+1&&B[f].length!=2)p=f+1}if(c.l(j6.iu)&&B[p-1]&&B[p-1].H)P=$.Mf.yz(B[p-1].H,P);
var G={type:4,ri:P.clone(),H:P.clone(),XK:P.clone()};B.splice(p,0,G);v.Ex=[p];this.Lr=P;if(this.Sq==1){G.ri.x+=2;
this.U$(v)}this.UT=Date.now()}this.hB(K,I.JD,v,X);K.ZI=!0};$.BR.prototype.U$=function(K){var E=K.i,x=K.Ex[0],c=W.r.J2(E,W.r._y(E,x))+1,J=E[c-1].length;
if(J<3)return;var i=[],P=[];for(var y=0;y<5;y++){var _=c+(x-c-2+y+5*J)%J;P.push(_);var a=E[_].H;i.push(a.x,a.y)}var j=W.p.avM(i);
for(var y=1;y<4;y++){var e=y*4,d=E[P[y]],a=d.H,I=d.ri.ac(a)&&d.XK.ac(a);if(!I){d.ri.tn(j[e],j[e+1]);
d.XK.tn(j[e+2],j[e+3])}else{d.ri=a.clone();d.XK=a.clone()}}};$.BR.prototype.il=function(K,E,x,c,J){if(this.v7==null)return;
var i=this.BO;if(i&&iP.B4(i,J)<$.q_({D:{N:1}},J))return;this.BO=null;var P=K.D.gg(J.x,J.y),_=$.DU.W1(K,P,x),a=K.Ox(x.Yp==1),j=a[0],e=a[1],d=j[e.pop()],I=d.add.vmsk,v=I.i,n=v[I.Ex[0]];
if(this.Sq==1){var C=n.H.ac(n.ri)&&n.H.ac(n.XK);n.H=P.clone();n.ri=P.clone();n.XK=P.clone();if(!C)n.ri.x+=2;
this.U$(I)}else if(c.l(j6.rm)){if(c.l(j6.iu))_=$.Mf.yz(this.Lr,_);var T=n.H.aZ(n.XK),o=n.ri.aZ(n.H);
n.XK=_;n.H=_.add(T);n.ri=n.H.add(o)}else{if(c.l(j6.iu))_=$.Mf.yz(n.H,_);if(this._o){var s=n.ri;n.ri=n.XK;
n.XK=s}if(this.E7){var Q=iP.B4(n.H,_),X=Q==0?0:iP.B4(n.H,n.XK)/Q;n.XK.x=n.H.x+X*(_.x-n.H.x);n.XK.y=n.H.y+X*(_.y-n.H.y)}else n.XK=_;
if(c.l(j6.iE)&&!this.zM)n.type=5;else{n.type=4;n.ri=n.H.add(n.H.aZ(_))}this.Lr=_;if(this._o){var s=n.ri;
n.ri=n.XK;n.XK=s}}this.hB(K,d.JD,I,d.add.vogk);K.ZI=!0};$.BR.prototype.N2=function(K,E,x,c,J){if(this.v7==null)return;
var i=K.Ox(x.Yp==1),P=i[0],_=i[1],a=P[_.pop()],j=a.add.vmsk,e=a.add.vogk;if(this.E7){j.Ex=[];this.hB(K,a.JD,j,a.add.vogk)}var d=this.v7.i.length,I=j.i.length;
if(!this.Fh)this.RC(K,this.E7?"Close Path":(d==I?"Move":d<I?"Add":"Delete")+" Anchor Point",a.JD,this.v7,j.clone(),null,this.zX,JSON.stringify(e));
this.Fh=!1;this.E7=!1;this._o=!1;this.zM=!1;this.v7=null};$.BR.prototype.Gj=function(K,E,x,c,J){this.auB=K.binop};
$.N5=function(){$.SM.call(this,[10,30],$.gx,"tools/fpen",!1)};$.N5.prototype=new $.SM;$.N5.prototype.nA=function(K,E,x,c,J,i){var P=c.length-1,_=Math.sqrt((c[P-1]-c[0])*(c[P-1]-c[0])+(c[P]-c[1])*(c[P]-c[1]))<6/J.N;
return[W.r.XZ(c,_,i),W.X.uS("customShape",[0,0,1,1],null,null,null,"--")]};$.x7=function(){$.hS.call(this,[10,27],$.Xd,"tools/pselect");
this.js=null;this.DI=!1;this.oD=null;this.v7=null;this.TM=null;this.zX=null;this.tr=null;this.rb=null;
this.H6=null;this.BZ=null};$.x7.prototype=new $.hS;$.x7.prototype.GT=function(K){return K.tj};$.x7.prototype.zb=function(K,E,x,c,J){var i=K.D.gg(J.x,J.y),P=K.Ox(),_=P[0],a=P[1],j,e;
for(var y=0;y<a.length;y++){var d=_[a[y]],I=d.add.vmsk,v=W.r.ds(I.i,i).JD;if(v!=-1){this.oD=j=d;e=v}for(var n=0;
n<I.D7.length;n++){var C=W.r.AQ(I.i,I.D7[n]);if(C==null)continue;var T=iP.B4(C,i);if(T<4*$.V()/K.D.N){var o=K.B[d.JD-1e6].add.TySh,s=o.kd.Curve,Q=o.u,X=s.Reversed;
s.Reversed=!1;var s=dQ.zY(o.kd.Curve);s.Reversed=X;W.p.u(s[0],Q,s[0]);this.H6=[s,n,Q.Cc*Q.Ga-Q.k*Q.o0];
this.oD=j=d;e=0}}if(this.H6)break}if(j!=null){var I=j.add.vmsk;I.Ex=[];var B=I.g.indexOf(e);if(c.l(j6.iu)){if(B==-1){I.g.push(e);
this.DI=!0}else I.g.splice(B,1)}else{if(B==-1)I.g=[e];this.DI=!0}this.rb=W.r.a3(I.i,I.g)}this.js=i;this.BZ=new c$(i);
K.Xw=!0;K.ZI=!0};$.x7.prototype.il=function(K,E,x,c,J){if(this.js==null)return;var i=K.D.gg(J.x,J.y);
if(this.DI){i=this.BZ.bW(i,c);var P=this.oD;if(this.v7==null){this.v7=this.TM=P.add.vmsk.clone();this.zX=this.tr=JSON.stringify(P.add.vogk);
if(c.l(j6.iE)){var _=this.v7.clone(),a=JSON.parse(this.zX),j=$.hS.Bj(_,a);$.hS.PR(j,_,a);this.TM=_;this.tr=JSON.stringify(a)}}var _=this.TM.clone(),a=JSON.parse(this.tr);
if(this.H6){var e=this.H6,d=e[0][0],I=W.p.fq(d,i.x,i.y);_.D7[e[1]]=e[0][1][I];var v=d[I*2],n=d[I*2+1],C=(d[I*2+2]-v)*(i.y-n)-(d[I*2+3]-n)*(i.x-v);
if(e[2]<0)C=-C;_.jn=C>0}else{var T=this.rb.clone(),o=T.x,s=T.y;T.offset(i.x-this.js.x,i.y-this.js.y);
T.x=Math.round(T.x);T.y=Math.round(T.y);var Q=$.DU.bn(K,T,x),X=new iQ(1,0,0,1,T.x-o+Q[0],T.y-s+Q[1]);
W.r.it(_.i,X,_.g);W.X.u(a,W.K.y5(X),_.g);$.DU.lD(K,T,Q)}this.hB(K,P.JD,_,a)}else{var B=this.js;K.I.Xv=W.p.VD(new cS(B.x,B.y,i.x-B.x,i.y-B.y));
K.ZI=!0}};$.x7.prototype.N2=function(K,E,x,c,J){if(this.js==null)return;var i=K.D.gg(J.x,J.y),P=this.oD,_=P?P.add.vmsk:null;
if(this.DI){var a=JSON.stringify(P.add.vogk);if(!this.js.ac(i))this.RC(K,"Move Paths",P.JD,this.v7,_,null,this.zX,a);
if(K!=null&&K.I.sA){K.I.sA=null;K.ZI=!0}}else{if(_){var j=this.js,e=new cS(j.x,j.y,i.x-j.x,i.y-j.y),d=W.r.ahZ(_.i,e);
if(c.l(j6.iu)){for(var y=0;y<d.length;y++)if(_.g.indexOf(d[y])==-1)_.g.push(d[y])}else _.g=d}K.I.Xv=null;
K.ZI=!0}this.js=null;this.v7=null;this.H6=null;this.DI=!1;this.BZ=null};$.x7.prototype.br=function(K,E,x,c){$.hS.prototype.br.call(this,K,E,x,c);
if(x.OI!=this.id)return;if(K.g.length==0)return;var J=K.Ox(),i=J[0],P=J[1];if(P.length==0)return;var _=i[P[0]],a=_.add.vmsk,j=_.add.vstk,e=_.add.vogk,d=new i3(u.E.L,!0);
d.data={_:u.c.zy,G:this.id,BM:"main",uA:a?a:null,X:e};E.S(d)};$.x7.prototype.Gj=function(K,E,x,c,J){var i=K.WX;
if(i.uA){var P=x.Ox(),_=P[0],a=P[1];if(a.length==0)return;var j=_[a[0]],e=j.add.vmsk.clone(),d=JSON.stringify(j.add.vogk),I=i.uA;
this.hB(x,j.JD,I,i.X);var v=[18,5];if(e.i.length==I.i.length)v=e.g[0]==I.g[0]?"Fill Rule":"Path Order";
this.RC(x,v,j.JD,e,I,null,d,JSON.stringify(i.X))}};$.yx=function(){$.hS.call(this,[10,28],$.OF,"tools/dselect");
this.f8=-1;this.Tm=-1;this.RG=null;this.js=null;this.oD=null;this.v7=null;this.zX=null;this.Ul=null;
this.aw=0;this.BC={psnap:!1};this.BZ=null};$.yx.prototype=new $.hS;$.yx.prototype.GT=function(K){return K.tj};
$.yx.prototype.Gj=function(K){this.BC=K};$.yx.prototype.Qp=function(K,E,x,c,J){if(K._=="crnr"){if(x==null)return;
var i=x.Ox(),P=i[0],_=i[1];if(_.length==0){alert("No paths selected");return}var a=P[_[0]],j=a.add.vmsk;
if(j.Ex.length==0){alert("No corners selected");return}for(var y=0;y<j.Ex.length;y++){var e=j.i[j.Ex[y]];
if(!e.H.ac(e.XK)||!e.H.ac(e.ri)){alert("Only sharp corners can be rounded");return}}if(this.v7==null){this.v7=a.add.vmsk.clone();
this.zX=JSON.stringify(a.add.vogk);this.oD=a;this.Ul=x}var d=new i3(u.E.L,!0);d.data={_:u.c.v9,xc:"cornerradius",_5:5,sO:this.azB.bind(this)};
E.S(d)}else $.hS.prototype.Qp.call(this,K,E,x,c,J)};$.yx.prototype.azB=function(K){if(K=="confirm"){var E=this.Ul,x=this.oD,c=x.add.vmsk,J=x.add.vogk;
this.RC(E,[12,94,0],x.JD,this.v7,c,null,this.zX,JSON.stringify(J));this.CB();return}var c=this.v7.clone(),J=JSON.parse(this.zX),i=c.Ex;
if(K=="cancel"){}else{var P=[];for(var y=0;y<i.length;y++){var _=i[y],a=W.r._y(c.i,_,!0),d=0;if(P.indexOf(a)!=-1)continue;
P.push(a);var j=W.r.J2(c.i,a,!0),e=c.i[j].length,I=[];for(var v=0;v<e;v++){var n=c.Ex.indexOf(j+v+1)==-1?0:K;
I.push(n);if(n!=0)d++}W.r.ON(c.i,j,I);for(var v=0;v<i.length;v++)if(i[v]>j+e)i[v]+=d}this.E6(c,J);c.Ex=[]}this.hB(this.Ul,this.oD.JD,c,J);
if(K=="cancel")this.CB()};$.yx.prototype.disable=function(K,E,x,c){this.TL(K)};$.yx.prototype.zb=function(K,E,x,c,J){this.TL(K);
var i=K.D.gg(J.x,J.y),d,I,v;this.RG=i.clone();var P=K.Ox(),_=P[0],a=P[1];if(a.length==0)return;var j=$.q_(K,J),e=new cS(i.x-j,i.y-j,j*2,j*2);
for(var n=0;n<a.length;n++){d=this.oD=_[a[n]];I=d.add.vmsk;v=W.r.EU(I.i,e);if(v[0].length+v[1].length+v[2].length!=0)break}var C=[!1,!1,!1];
for(var y=0;y<3;y++){for(var T=0;T<v[y].length;T++){var o=v[y][T],s=I.i[o];if(I.Ex.indexOf(o)!=-1||y==1&&I.Ex.indexOf(o-1)!=-1&&!s.H.ac(s.ri)||y==2&&I.Ex.indexOf(o+1)!=-1&&!s.H.ac(s.XK)){v[y]=[o];
C[y]=!0;break}}}if(v[0].length!=0&&(C[0]||!C[1]&&!C[2])){var Q=v[0][0],X=I.Ex.indexOf(Q);if(c.l(j6.iu)){if(X==-1)I.Ex.push(Q);
else{I.Ex.splice(X,1);K.ZI=!0;return}}else if(X==-1)I.Ex=[Q];this.f8=Q;this.Tm=0}else if(v[1].length!=0&&C[1]){this.f8=v[1][0];
this.Tm=1}else if(v[2].length!=0&&C[2]){this.f8=v[2][0];this.Tm=2}else{var B=W.r.ds(I.i,i,!0,j);if(B.JD==-1)this.js=i;
else{I.g=[B.JD];I.Ex=[]}}if(this.v7==null){this.v7=d.add.vmsk.clone();this.zX=JSON.stringify(d.add.vogk)}this.BZ=new c$(i);
K.ZI=!0};$.yx.prototype.il=function(K,E,x,c,J){if(K==null)return;var i=K.D.gg(J.x,J.y),P=this.oD;if(this.f8!=-1){var _=this.v7.clone(),a=P.add.vogk,j=_.i[this.f8];
j=[j.H,j.ri,j.XK][this.Tm];if(c.l(j6.iu)){if(this.Tm==0){i=this.BZ.bW(i,c);i.x+=j.x-this.RG.x;i.y+=j.y-this.RG.y}else i=$.Mf.yz(_.i[this.f8].H,i)}else{if(this.BC.psnap){i.x=Math.round(i.x);
i.y=Math.round(i.y)}i=$.DU.W1(K,i,x)}if(this.Tm==0){var e=new iQ(1,0,0,1,i.x-j.x,i.y-j.y);W.r.it(_.i,e,null,_.Ex)}else{var d=_.i[this.f8],I=d.ri,v=d.XK;
if(this.Tm==2){I=d.XK;v=d.ri}if(c.l(j6.iE)&&(d.type==1||d.type==4))d.type++;I.tn(i.x,i.y);if(d.type==1||d.type==4){var n=iP.B4(I,d.H),C=iP.B4(v,d.H);
if(C!=0){v.x=d.H.x-(I.x-d.H.x)*(C/n);v.y=d.H.y-(I.y-d.H.y)*(C/n)}}}this.E6(_,a);this.hB(K,P.JD,_,a)}else if(this.js!=null){var T=this.js;
K.I.Xv=W.p.VD(new cS(T.x,T.y,i.x-T.x,i.y-T.y));K.ZI=!0}else{var o=K.Ox(),s=o[0],Q=o[1],P,_,M;if(Q.length==0)return;
var X=$.q_(K,J),B=new cS(i.x-X,i.y-X,X*2,X*2);for(var S=0;S<Q.length;S++){P=s[Q[S]];_=P.add.vmsk;M=W.r.EU(_.i,B);
if(M[0].length+M[1].length+M[2].length!=0)break}this.TL(K);for(var y=0;y<3;y++){for(var f=0;f<M[y].length;
f++){var F=M[y][f],G=_.i[F];G=y==0?G.H:y==1?G.ri:G.XK;K.I.A6.push(K.I.dy.length>>>1);K.I.dy.push(G.x,G.y);
K.ZI=!0}}}};$.yx.prototype.TL=function(K){if(K&&K.I.dy.length!=0){K.I.dy=[];K.I.A6=[];K.ZI=!0}};$.yx.prototype.N2=function(K,E,x,c,J){var i=K.D.gg(J.x,J.y),P=this.oD,_=P?P.add.vmsk:null,a=P?P.add.vogk:null;
if(this.f8!=-1){if(Date.now()-this.aw<300){var j=_.i[this.f8],e=this.Tm,d=null;if(e==0){var I=j.ri.ac(j.H),v=j.XK.ac(j.H);
if(!I&&!v){d="Anchor Type";if(j.type==1||j.type==4)j.type++;else{j.type--;j.XK=j.H.add(j.H.aZ(j.ri))}}else{d="Add Handles";
if(I&&v){j.ri.x-=30;j.XK.x+=30}else if(I)j.ri=j.H.add(j.H.aZ(j.XK));else if(v)j.XK=j.H.add(j.H.aZ(j.ri))}}else{d="Remove Handle";
if(e==1)j.ri.g_(j.H);else j.XK.g_(j.H)}this.E6(_,a);this.hB(K,P.JD,_,a);this.RC(K,d,P.JD,this.v7,_,null,this.zX,JSON.stringify(a))}else if(!this.RG.ac(i)){this.RC(K,"Drag Anchors",P.JD,this.v7,_,null,this.zX,JSON.stringify(a))}this.aw=Date.now()}else if(this.js!=null){var n=this.js,C=new cS(n.x,n.y,i.x-n.x,i.y-n.y);
if(C.b<0)C.x+=C.b;if(C.n<0)C.y+=C.n;C.b=Math.abs(C.b);C.n=Math.abs(C.n);var T=W.r.EU(_.i,C);_.Ex=T[0].concat(c.l(j6.iu)?_.Ex:[]);
K.I.Xv=null}this.CB();K.ZI=!0};$.yx.prototype.CB=function(){this.oD=null;this.v7=null;this.js=null;this.f8=this.Tm=-1;
this.BZ=null};$.yx.prototype.E6=function(K,E){for(var y=0;y<K.Ex.length;y++){var x=W.r._y(K.i,K.Ex[y]);
W.X._D(E,x)}};$.yx.prototype._G=function(K,E,x,c){if(K==null)return;var J=K.Ox(),i=J[0],P=J[1];if(P.length==0)return;
var _=i[P[0]],a=_.add.vmsk;if(a==null||a.Ex.length==0)return;var j=_.add.vogk,e=JSON.stringify(j),d=c.lI(K?K.D.Zm:0);
if(d.x!=0||d.y!=0){var I=a.clone(),v=a.clone(),n=new iQ(1,0,0,1,d.x,d.y);W.r.it(v.i,n,null,v.Ex);this.E6(v,j);
this.hB(K,_.JD,v,j);this.RC(K,"Move Anchors",K.g[0],I,v.clone(),!0,e,JSON.stringify(j))}if(c.l(j6.C3)||c.l(j6.oh))this.Qp({_:"remove",ps:!0,acO:!0},E,K,c,x)};
$.yx.prototype.RC=function(K,E,x,c,J,i,P,_){var a=K.$z();if(i&&a!=null&&a.G==this&&a.data.a3a&&a.data.OV==x&&JSON.stringify(a.data.s_.Ex)==JSON.stringify(c.Ex)){a.data.jF=J;
a.data.OM=_}else{var a=new im(E,this);a.data={OV:x,s_:c,jF:J,a3a:i,aya:P,OM:_};K.i1(a)}};$.Rect=function(){$.SM.call(this,[10,32],$.ef,"tools/rect",!0)};
$.Rect.prototype=new $.SM;$.Rect.prototype.nA=function(K,E,x){var c=this.Ix.crad,J=E.x-K.x,i=E.y-K.y;
return[W.r.Ic.Rect(K.x,K.y,J,i,c),W.X.uS("Rctn",[K.x,K.y,E.x,E.y],[c,c,c,c])]};$.DM=function(){$.SM.call(this,[10,33],$.wG,"tools/ellipse",!0)};
$.DM.prototype=new $.SM;$.DM.prototype.nA=function(K,E,x){var c=E.x-K.x,J=E.y-K.y;return[W.r.Ic.DM(K.x,K.y,c,J),W.X.uS("Elps",[K.x,K.y,E.x,E.y])]};
$.eQ=function(){$.SM.call(this,[10,34],$.AR,"tools/pshape",!1);this.Ix.aopts=[!1,!0,50,100,0]};$.eQ.prototype=new $.SM;
$.eQ.prototype.nA=function(K,E,x){var c=this.Ix.pshape,J=this.Ix.crad,i=this.Ix.irad/100,P=this.Ix.sides,_=this.Ix.width,a=this.Ix.aopts,j=this.Ix.length,T;
E=E.clone();var e=K.x,d=K.y,I=E.x,v=E.y,n=Math.sqrt((I-e)*(I-e)+(v-d)*(v-d)),C=Math.atan2(-v+d,I-e);
if(x)C=Math.round(C*180/Math.PI/15)*15*Math.PI/180;if(c==0)T=W.r.Ic.Pn(e,d,n,C,P,J);if(c==1)T=W.r.Ic.lQ(e,d,n,C,P,J,i);
if(c==2)T=W.r.Ic.bp(K.x,K.y,E.x,E.y,_,a);if(c==3)T=W.r.Ic.aec(e,d,n,C,j);return[T,W.X.uS("customShape",[K.x,K.y,E.x,E.y],null,null,null,"--")]};
$.eQ.prototype._G=function(K,E,x,c){$.SM.prototype._G.call(this,K,E,x,c);var J=c.lI(),i=this.Ix,P,_;
if(J.y!=0){var a=-J.y,j=i.pshape;if(j<2){P="sides";_=Math.max(3,Math.min(100,i.sides+a))}else if(j==2){P="width";
_=Math.max(1,Math.min(100,i.width+a))}else if(j==3){P="length";_=Math.max(4,Math.min(40,i.length+a))}}if(J.x!=0){P="pshape";
_=Math.max(0,Math.min(3,i.pshape+J.x))}if(P){var e=new i3(u.E.L,!0),d={};d[P]=_;i[P]=_;e.data={_:u.c.zy,G:this.id,S8:"vals",a2M:d};
E.S(e);this.il(K,E,x,c)}};$.yo=function(){$.SM.call(this,[10,35],$.lc,"tools/line",!1)};$.yo.prototype=new $.SM;
$.yo.prototype.nA=function(K,E,x){var c=this.Ix.width,J=this.Ix.aopts;E=E.clone();if(x){E=$.Mf.yz(K,E)}return[W.r.Ic.bp(K.x,K.y,E.x,E.y,c,J),W.X.uS("Ln",null,null,[K.x,K.y,E.x,E.y],c,null,J)]};
$.k1=function(){$.SM.call(this,[10,31],$.Z1,"tools/cshape",!0)};$.k1.prototype=new $.SM;$.k1.prototype.nA=function(K,E,x){var c=this.Ix.shape,J=c.Xt.b/c.Xt.n,i=Z.Wf.Z8(c.i);
E=E.clone();if(x){E.y=K.y+(E.x-K.x)/J}var P=E.x-K.x,_=E.y-K.y;W.r.it(i,new iQ(P,0,0,_,K.x,K.y));return[i,W.X.uS("customShape",[K.x,K.y,E.x,E.y],null,null,null,c.xN)]};
$.Xq=function(K,E,x){$.dC.call(this,K,E,x);this.ji=0;this.B=null;this.Pr=null;this.W5=null;this.OR=1;
this.MX=!0;this.Ff=!1;this.cursor=null;this.B9=null;this.RK=null;this.Yr=!1;this.d3=null;this.a1e=0;
this.NA=null;this.Sq=0;this.Fl=null;this.Fu=null;this.Iw=null;this.Fo=null;this.akR=null;this.Ir=null};
$.Xq.prototype=new $.dC;$.Xq.JG=function(K,E,x){var c={classID:"null",null:b$.oe(x?"Lyr":"Dcmn",!0)};
if(K)c.Angl={t:"UntF",v:{type:"#Ang",val:E}};else c.Axis={t:"enum",v:{Ornt:E}};return{va:K?"rotateEventEnum":"flip",Ks:c}};
$.Xq.prototype.oG=function(K,E,x,c,J){var i=new i3(u.E.L,!0);i.data={_:u.c.zy,G:this.id,SQ:J,tD:K,W5:x};
E.S(i);this.rl=!1};$.Xq.prototype.GT=function(K){return this.Fu&&this.Fu.anj()};$.Xq.prototype.Qp=function(K,E,x,c,J){this.W5=J;
if(K._=="again"&&this.NA==null)return;if(!this.XJ(x,J))return;if(this.Fu){this.a47(K,this.Fu.EG(),E,x,c,J);
this.fY(x,J,0,!0);this.xA(x);return}this.aw7(x,K.j==null,K.j);this.ae6(x);this.a47(K,null,E,x,c,J);this.Yv(x,E,K.vZ,!1)};
$.Xq.prototype.a47=function(K,E,x,c,J,i){var P=this.Fl;if(E==null){var _=K.If!=null?K.If:4;E=this.Fu.aeT()[_]}var a=E.x,j=E.y;
if(K._=="rot"&&K.Z!=Math.PI&&(P.b+P.n&1)==1){a=Math.floor(a);j=Math.floor(j)}var e=new iQ;e.translate(-a,-j);
if(K._=="rot")e.rotate(K.Z);if(K._=="scl")e.scale(K.Z.x,K.Z.y);if(K._=="mat")e.concat(K.Z);e.translate(a,j);
if(K._=="again")e=this.NA;var d=W.K.y5(e);if(K._=="dtr"){var I=W.K;d=I.hH(K.Z,I.Q(-a,-j));d=I.hH(I.Q(a,j),d)}var v=this.Fu.iU();
W.K.u(d,v);this.Fu.Ry(v);if(K.jt){var n=K.jt.v;this.Gj({BM:"switchWarp"},x,c,J);this.Gj({BM:"wrp",jt:n},x,c,J)}};
$.Xq.prototype.eb=function(){return!0};$.Xq.prototype.XJ=function(K,E){if(K==null)return!1;if(this.id==$.Hq)return K.P!=null;
var x=K.zD(!0,null,null,!0);if(this.id==$.UH&&K.B[x[0]].rect.um()){alert("Layer is empty.");return!1}for(var y=0;
y<x.length;y++){var c=K.B[x[y]];if(c.M0(2)||c.M0(31)){alert(hg.get([6,57,0]));return!1}if(c.add.artb){alert("You can not transform the whole artboard");
return!1}if(c.add.TySh)if(!cl.nf(c.add.TySh,E.ir))return!1;if(c.add.SoLd){if(x.length==1&&!W.HA.eS(c.add.SoLd.warp.v)&&(c.FA()&&c.FA().B0||c.add.vmsk&&c.add.vmsk.B0)){alert("Unlink masks before transforming Smart Object");
return!1}if(!K.atn(c.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+K.VV(c.add.SoLd.Idnt.v).sU+")");
return!1}}}if(K.P==null)return!0;if(!K.IC())return!1;return K.ahF()};$.Xq.prototype.zb=function(K,E,x,c,J){var i=this.awf(J,K),P=i[0],_=i[1],a=this.Sq==0?this.Fu:this.Iw;
K.D.N*=_;this.Ff=a.zb(K,x,c,P,null,null,J);K.D.N/=_;if(this.Ff&&a.FX(P)){if(Date.now()-this.a1e<250)this.Yv(K,E,null,!0);
this.a1e=Date.now()}};$.Xq.prototype.vc=function(K){var E=new i3(u.E.L,!0);E.data={_:u.c.wA,JK:this.cursor};
K.S(E)};$.Xq.prototype.awf=function(K,E){var x=1;K=E.D.gg(K.x,K.y);if(this.Sq==1){var c=W.K.AS(this.Fu.iU(),this.Fl);
x=W.K.vA(c).pA();var J=W.K.Pa(c);K=W.K.a31(J,K)}return[K,x]};$.Xq.prototype.il=function(K,E,x,c,J){var i=this.awf(J,K),P=i[0],_=i[1],a=this.Sq==0?this.Fu:this.Iw;
if(!J.tj){var j="default";if(a){var e=a.DK(P,K.D.N*_,null,J);if(e)j=e}if(j!=this.cursor){this.cursor=j;
this.vc(E)}}if(!this.Ff)return;K.D.N*=_;a.il(K,x,c,P,this.MX);K.D.N/=_;this.fY(K,x,0,!0);this.xA(K);
this.J9(E)};$.Xq.prototype.N2=function(K,E,x,c,J){var i=K.D.gg(J.x,J.y);this.Fu.N2(K,x,c,i);this.Ff=!1};
$.Xq.prototype._G=function(K,E,x,c){if(c.l(j6.Tt))this.Yv(K,E,null,!0);else if(c.l(j6.go))this.v$(K,E);
else{var J=this.Fu._G(K,x,c);if(J){this.fY(K,x,0,!0);this.J9(E)}}};$.Xq.prototype.Gj=function(K,E,x,c){if(K.BM=="commit")this.Yv(x,E,null,!0);
else if(K.BM=="cancel")this.v$(x,E);else if(K.BM=="switchWarp"){this.Sq=1-this.Sq;this.azX();this.xA(x);
this.J9(E)}else if(K.BM=="wrp"){this.Iw.azO(K.jt);this.xA(x);this.fY(x,this.W5,0,!0)}else if(K.BM=="ctyp"){this.Fu.a2Y(K.vu);
this.xA(x);this.J9(E)}else if(K.BM=="cen"){this.Fu.a8e(K.mJ);this.xA(x);this.fY(x,this.W5,0,!0)}else if(K.BM=="trn"){var J=W.K.y5(K.pS),i=this.Fl,P=W.K.AS(this.Fu.iU(),this.Fl);
J[6]=P[6],J[7]=P[7];var _=[i.x,i.y,i.x+i.b,i.y,i.x+i.b,i.y+i.n,i.x,i.y+i.n];W.K.u(J,_);this.OR=K.OR;
this.MX=K.MX;this.Fu.Ry(_);this.xA(x);this.fY(x,this.W5,0,!0)}};$.Xq.prototype.xA=function(K){if(this.Sq==0)this.Fu.d7(K,this.W5);
else{this.Iw.d7(K);var E=W.K.AS(this.Fu.iU(),this.Fl);W.K.u(E,K.I.Xv.C);W.K.u(E,K.I.Lt)}};$.Xq.prototype.Yv=function(K,E,x,c){this.fY(K,this.W5,this.OR);
var J=new im(x?x:this.name,this);if(this.ji==0)J.data={type:this.ji,B:this.B,d3:this.Pr,SS:$.Xq.CI(K,this.B)};
else if(this.ji==1){var i=K.B[this.B[0]],P;if(i.uE.kS<=0){P=W.Q(i.uE.VM.O());W.Bp(i.uE.y3,P,3)}else P=K.P.channel;
var _={rect:i.uE.VM.clone(),channel:P};J.data={type:this.ji,j:this.B[0],RK:this.RK,sR:_,B9:this.B9,Yr:this.Yr,uE:i.uE,d3:this.d3,SS:{ZE:i.uE.VM,AJ:i.uE.y3}}}else if(this.ji==2){J.data={type:this.ji,RK:this.RK,sR:{rect:K.P.rect.clone(),channel:K.P.channel.slice(0)}}}K.i1(J);
var a=this.Fl,j=new iP(a.x+a.b/2,a.y+a.n/2),e=W.K.AS(this.Fu.iU(),a),d=W.K.vA(e),I=new iQ;I.translate(j.x,j.y);
I.concat(d);I.translate(-j.x,-j.y);d=I.clone();var v=-Math.atan2(-d.k,d.Cc),n=new iQ;n.rotate(v);d.concat(n);
function C(B,M){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][M],val:B}}}var T=b$.oe("Lyr",!0);if(this.id==$.Hq)T.v[0]={t:"prop",v:{classID:"Chnl",keyID:"fsel"}};
var o=e,s=W.K;o=s.hH(o,s.Q(j.x,j.y));o=s.hH(s.Q(-j.x,-j.y),o);o=s.Q();var Q={classID:"null",null:T,FTcs:{t:"enum",v:{QCSt:"Qcsa"}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:C(I.qW,0),Vrtc:C(I.Ju,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:C(Math.atan(d.o0/d.Ga)*180/Math.PI,2),Vrtc:C(0,2)}},Usng:{t:"Objc",v:{classID:"Pnt",Hrzn:C(100*o[6],1),Vrtc:C(100*o[7],1)}},Wdth:C(d.Cc*100,1),Hght:C(d.Ga*100,1),Angl:C(v*180/Math.PI,2)},X=this.Iw?this.Iw.CN():null;
if(X&&!W.HA.eS(X)){Q.warp={t:"Objc",v:X}}this.H3=E;this.track({va:"transform",Ks:Q});this.escape(K,E,c)};
$.Xq.prototype.v$=function(K,E){if(this.ji==0)$.Xq.tU(K,this.B,this.Pr);else if(this.ji==1){var x=K.B[this.B[0]];
K.P=this.RK;if(!this.Yr){x.uE.VM=this.d3.ZE;x.uE.y3=this.d3.AJ;x.vg(K,0,0,K.P)}else{x.Hn(K,this.B9)}K.U();
K.zF=!0}else if(this.ji==2){K.P=this.RK;K.zF=!0}this.escape(K,E,!0)};$.Xq.prototype.escape=function(K,E,x){this.Fu.clear(K);
this.Fu=null;this.Iw=null;this.Ir=null;this.Sq=0;if(x)this.mP(E,u.E.L,{_:u.c.K4})};$.Xq.prototype.RO=function(K,E){if(K.type==0)$.Xq.tU(E,K.B,K.SS);
else{if(K.type==1){var x=E.B[K.j];if(K.Yr){x.uE=K.uE}else{x.uE.VM=K.SS.ZE;x.uE.y3=K.SS.AJ}x.vg(E,0,0,E.P);
E.U()}E.P={rect:K.sR.rect.clone(),channel:K.sR.channel.slice(0)};E.zF=!0}};$.Xq.prototype.Bn=function(K,E){if(K.type==0)$.Xq.tU(E,K.B,K.d3);
else{if(K.type==1){var x=E.B[K.j];if(K.Yr){x.Hn(E,K.B9)}else{x.uE.VM=K.d3.ZE;x.uE.y3=K.d3.AJ;x.vg(E,0,0,E.P)}E.U()}E.P=K.RK;
E.zF=!0}};$.Xq.prototype.aw7=function(K,E,x){K.Ox();var c=[];if(x==null)for(var y=0;y<K.Jq.length;y++)if(K.Qg[K.Jq[y]].add.vmsk.i.length>2)c.push(-1-K.Jq[y]);
var J=[],i=K.D.NW;if(i[0]+i[1]+i[2]==3)if(x!=null||c.length==0||K.FU!=null&&K.FU.length!=0){if(K.g.length==1){var P=K.B[K.g[0]];
if(P.wC()&&P.gl)J=[K.g[0]]}if(J.length==0)J=K.zD(E,x,null,!0)}J=J.concat(c);for(var y=0;y<K.N9.length;
y++)J.push(-1e3-K.N9[y]);this.B=J};$.Xq.prototype.enable=function(K,E,x,c,J,i){if(this.cursor==null)this.cursor="default";
this.vc(E);if(this.Fu)return;this.W5=x;this.aw7(K,!0);this.ae6(K,i&&i.no!=null&&i.no!=-1?i.no:null);
this.J9(E);this.xA(K);if(i&&i.no==-1)this.Gj({BM:"switchWarp"},E,K,c)};$.Xq.prototype.B7=function(){return[this.MX?1:0]};
$.Xq.prototype.Mp=function(K,E,x){if(K&&K[0]!=null)this.MX=K[0]==1};$.Xq.prototype.J9=function(K){var E={_:u.c.zy,G:this.id};
if(this.Sq==0){var x=W.K.AS(this.Fu.iU(),this.Fl),c=W.K.vA(x);E.pS={rS:c,vu:this.Fu.aiv(),mJ:this.Fu.EG(),ZE:this.Fl.clone(),MX:this.MX}}else{E.jt=this.Iw.CN()}E.a9J=this.Iw!=null;
this.mP(K,u.E.L,E)};$.Xq.prototype.ae6=function(K,E){var x=this.id==$.Hq,c=!0,J=this.B[0],i=K.B[J],_=null,a=null;
if(x){this.ji=2;this.RK=K.P}else if(K.P&&this.B.length==1&&J>=0&&!i.rect.um()){this.ji=1;this.RK=K.P;
this.B9=i.uE;this.Yr=!1;if(!i.nI(K,K.P)){this.Yr=!0;i.Oo(K,K.P,!1)}this.d3={AJ:i.uE.y3,ZE:i.uE.VM}}else{this.ji=0;
this.Pr=$.Xq.CI(K,this.B,null);for(var y=0;y<this.Pr.length;y++)if(this.Pr[y][3]!=null)c=!1}var P=this.ji==1;
if(this.Pr&&this.Pr.length==1){var j=this.Pr[0];if(j[2]!=null&&j[2].X){var e=j[2].uA.g;if(e.length<2){a=j[2].X[e.length==0?0:e[0]].v;
if(!W.X.MG(a))a=null}}if(j[3]==null)P=!0;if(j[4]!=null){_=K.B[this.B[0]].add.SoLd;if(j[1]||j[2])P=!1}}var d=x?K.P.rect.clone():$.Xq.ZS(K,this.B);
this.Fl=d;if(!x&&_){var I=$.Xq.t9(_.nonAffineTransform);this.Fl=W.p.hp(W.HA.q5(_.warp.v));if(P)this.Iw=new hs(_.warp.v);
this.Fo=W.K.AS(I,this.Fl);this.Fu=new iB(I,!0,!0,c,!1,!1,E)}else{if(P||x)this.Iw=new hs(W.HA.Q(this.Fl));
this.Fo=[1,0,0,0,1,0,0,0];if(this.id==$.UH)E=3;this.Fu=new iB([d.x,d.y,d.x+d.b,d.y,d.x+d.b,d.y+d.n,d.x,d.y+d.n],!0,!0,c,!1,!1,E)}this.akR=[1,0,0,0,1,0,0,0];
if(this.id==$.UH){var v,n;if(this.Pr){var C=this.Pr[0][0],T=C.iq;v=T[0];n=T[1]}else if(this.d3){v=this.d3.AJ;
n=this.d3.ZE}this.Ir=W.mY.a3f(v,n.b,n.n)}};$.Xq.ZS=function(K,E){if(E==null)E=K.zD(!0,null,null,!0);
var x=new cS,c=new cS;if(K.P&&E.length==1&&E[0]>=0)x=K.P.rect.clone();else for(var y=0;y<E.length;y++){var J=E[y],i=0<=J?K.B[J]:-1e3<J?K.Qg[-1-J]:K.Un[-1e3-J],P=i.add?i.add.vmsk:null,_=0<=J?i.ES(K,E.length==1,!1,!0):-1e3<J?W.r.a3(P.i,E.length==1&&P.g.length!=0?P.g:null):i.rect.clone();
x=x.XN(_);if(J>0&&i.add.artb)c=c.XN(i.IZ())}return!c.um()?c:x};$.Xq.prototype.mP=function(K,E,x,c){var J=new i3(E,!0);
J.data=x;if(c)J.G=c;K.S(J)};$.Xq.CI=function(K,E,x){var c=[];for(var y=0;y<E.length;y++){var J=E[y],i,P;
if(J>=0){i=K.B[J];P=i.UX(K,x,!0)}else if(J>-1e3){i=K.Qg[-1-J];P=[2]}else{c.push([null,null,null,null,null,null,null,K.Un[-1e3-J].clone()]);
continue}var _=[],a=P.indexOf(0)!=-1;if(a){var j={iq:i.add.SoLd?null:[i.buffer.slice(0),i.rect.clone()]};
_.push(j);if(i.St()){var e=i.Xe(K);j.a1d=e.buffer.slice(0);j.au1=e.rect.clone()}}else _.push(null);if(P.indexOf(1)!=-1)_.push(i.FA().clone());
else _.push(null);if(P.indexOf(2)!=-1)_.push({uA:i.add.vmsk.clone(),Ae:i.add.vstk?JSON.parse(JSON.stringify(i.add.vstk)):null,QT:i.add.vstk?$.hS.xB(K,J):null,X:i.add.vogk?JSON.parse(JSON.stringify(i.add.vogk)):null});
else _.push(null);if(i.add.TySh&&a){ev.Be(i.add.TySh);_.push(i.add.TySh.u.clone())}else _.push(null);
if(i.add.SoLd&&a)_.push(JSON.parse(JSON.stringify(i.add.SoLd)));else _.push(null);if(P.indexOf(3)!=-1)_.push(i.Xe(K).z.clone());
else _.push(null);if(i.add.lmfx)_.push(JSON.stringify(i.add.lmfx));else _.push(null);c.push(_)}return c};
$.Xq.tU=function(K,E,x){for(var y=0;y<E.length;y++){var c=E[y],J=0<=c?K.B[c]:-1e3<c?K.Qg[-1-c]:K.Un[-1e3-c],i=x[y];
if(i[0]){if(i[0].iq){J.rect=i[0].iq[1].clone();J.buffer=i[0].iq[0].slice(0)}if(J.St()){var P=J.Xe(K);
P.buffer=i[0].a1d.slice(0);P.rect=i[0].au1.clone()}}if(i[1]){J.FA().channel=i[1].channel.slice(0);J.FA().rect=i[1].rect.clone();
J.FA().I_=!0}if(i[2]){J.add.vmsk=i[2].uA.clone();if(i[2].QT)$.hS.oq(J,i[2].QT);if(i[2].Ae)J.add.vstk=JSON.parse(JSON.stringify(i[2].Ae));
if(i[2].X)J.add.vogk=JSON.parse(JSON.stringify(i[2].X))}if(i[3]){J.add.TySh.u=i[3].clone();ev.M6(J.add.TySh)}if(i[4]){J.add.SoLd=JSON.parse(JSON.stringify(i[4]))}if(i[5]){var _=J.Xe(K).z;
_.channel=i[5].channel.slice(0);_.rect=i[5].rect.clone()}if(i[6]){J.add.lmfx=JSON.parse(i[6])}if(i[7]){J.channel=i[7].channel.slice(0);
J.rect=i[7].rect.clone();J.I_=!0}if(0<=c){J.DY(K);J.U();if(i[4])J.mQ(K,!1)}}K.U()};$.Xq.c4=function(K,E,x,c,J,i,P,_,a,j){if(typeof i[0]=="number"){var e=[];
for(var y=0;y<x.length;y++)e[y]=i;i=e}for(var y=0;y<x.length;y++){var d=i[y],I=W.K.vA(d),v=I.pA(),n=x[y],C=0<=n?K.B[n]:-1e3<n?K.Qg[-1-n]:K.Un[-1e3-n],T=c[y];
if(C.add&&C.add.lmfx&&_)bd.R1(C.add.lmfx,v);if(T[0]&&!T[3]&&!T[4]&&!T[5]){var o=T[0].iq;if(a){var s=a.clone(),Q=W.Q(s.O()*4);
W.UL(o[0],o[1],Q,s);o=[Q,s]}var X=$.Xq.K7(o,J,d,P,J==0?C.buffer.buffer:null,null,null,j);if(X){C.rect=X.rect;
C.buffer=X.buffer}}if(T[1]){var B=C.FA();$.Xq.tu(K,T[1],B,J,d,P,B.B0&&P&&!W.HA.eS(P)&&T[0]?T[0].iq[1]:null);
if(a){var s=C.rect.Sl(a),M=W.Q(s.O());W.XT(B.channel,B.rect,M,s);B.channel=M;B.rect=s}}if(T[2]){var S=P&&!W.HA.eS(P),f=T[2].uA.clone(),F=x.length==1&&f.g.length!=0,G=x.length==1&&f.Ex.length>1;
if(G)F=!1;var D=F?f.g:null,b=G?f.Ex:null;if(S){var H=W.HA.q5(P);W.K.u(d,H);W.r.aew(f.i,H,D,b)}else W.r.ahC(f.i,d,D,b);
if(C.add.vstk&&_){C.add.vstk.strokeStyleLineWidth.v.val=T[2].Ae.strokeStyleLineWidth.v.val*v;var q=T[2].QT;
if(q&&q.ez==3){q=JSON.parse(JSON.stringify(q));var O=q.QT.phase.v;q.QT.Scl.v.val=Math.round(q.QT.Scl.v.val*v);
O.Hrzn.v=Math.round(O.Hrzn.v*v);O.Vrtc.v=Math.round(O.Vrtc.v*v);$.hS.oq(C,q)}}if(C.add.vogk){C.add.vogk=JSON.parse(JSON.stringify(T[2].X));
if(S||G)W.X.kF(C.add.vogk);else W.X.u(C.add.vogk,d,x.length>1?[]:f.g,_)}f.Zs*=v;C.add.vmsk=f;if(C.add.vogk)W.X.Pm(C.add.vogk,C.add.vmsk)}if(T[3]){var w=T[3].clone();
w.concat(I);C.add.TySh.u=w;ev.M6(C.add.TySh);cl.jY(C,E.ir)}if(T[4]){var V=C.add.SoLd,t=$.Xq.t9(T[4].nonAffineTransform);
W.K.u(d,t);var m=W.p.Uz(t);if(iB.YR(t)){if(P){var g=W.p.hp(W.HA.q5(T[4].warp.v)),M=W.K.AS(t,g),Y=W.p.hp(W.HA.q5(P));
t=[Y.x,Y.y,Y.x+Y.b,Y.y,Y.x+Y.b,Y.y+Y.n,Y.x,Y.y+Y.n];W.K.u(M,t);V.warp.v=P}var A=W.K.AS(t),k=t;if(!W.K.u5(A)){A[6]=A[7]=0;
k=[0,0,1,0,1,1,0,1];W.K.u(A,k)}V.Trnf=$.Xq.K0(k);V.nonAffineTransform=$.Xq.K0(t);if(V.filterFX)V.filterFX=JSON.parse(JSON.stringify(T[4].filterFX));
$.Xq.a7c(V,I);C.mQ(K,J==0,E.ir)}}if(T[5])$.Xq.tu(K,T[5],C.Xe(K).z,J,d,P);if(T[7])$.Xq.tu(K,T[7],C,J,d,P);
if(0<=n){if(J!=0)C.oo();C.DY(K);C.U()}}K.U()};$.Xq.a6b=function(K,E){var x=E.pA(),c=0;W.Oi(K);while(x<.45&&c<K.length-4){c+=2;
x*=2;var J=new iQ;J.scale(2,2);J.concat(E);E=J}var i=K[c],P=K[c+1],_=P.b,a=P.n,j=W.p.VD(P).C;W.p.u(j,E,j);
var e=W.p.Uz(j),d=W.Q(e.O()),I=e.x,v=e.y,n=e.b,C=e.n,T=E.clone();T.Pa();var o=T.iR(new iP(0,0)),s=T.iR(new iP(1,0)),Q=s.x-o.x,X=s.y-o.y,B=_-.51,M=a-.51;
for(var S=0;S<C;S++){var f=T.Cc*(I+.5)+T.o0*(S+v+.5)+T.qW,F=T.k*(I+.5)+T.Ga*(S+v+.5)+T.Ju;for(var G=0;
G<n;G++){if(f<.5||f>B||F<.5||F>M){}else d[S*n+G]=Math.floor(.5+W.K.awR(f,F,i,_,a));f+=Q;F+=X}}return{rect:e,channel:d}};
$.Xq.iH=function(K,E,x,c,J,i){if(x==null)x=!1;return $.Xq.K7(K,x?0:1,W.K.y5(E),null,c,J,i,x)};$.Xq.K7=function(K,E,x,c,J,i,P,_){if(_==null)_=!1;
if(_&&P)throw"e";var a={},I=0,v=.3;if(c&&!W.HA.eS(c)){var j=W.HA.q5(c);W.K.u(x,j);a.rect=W.p.Uz(j);a.buffer=W.Q(a.rect.O()*4);
W.HN.drawImage(j,K[0],K[1].b,K[1].n,a.buffer,a.rect,E==0);return a}W.gX(K);var e=K[0],d=K[1],n=d.O()*W.K.vA(x).pA();
if(_&&n>4e6)v=n>8e6?2.2:1.2;while(I+3<K.length&&K[I+3].O()>16&&W.K.u5(x)&&W.K.vA(x).pA()<v){I+=2;var C=K[I],T=K[I+1],o=d.b/T.b,s=d.n/T.n;
x=W.K.hH(x,[1,0,d.x,0,1,d.y,0,0]);x=W.K.hH(x,[o,0,0,0,s,0,0,0]);x=W.K.hH(x,[1,0,-d.x,0,1,-d.y,0,0]);
d=T;e=C}var Q=W.K.hH(x,W.K.y5(new iQ(d.b,0,0,d.n,d.x,d.y))),X=[0,0,1,0,1,1,0,1];W.K.u(Q,X);a.rect=W.p.Uz(X);
if(P)a.rect=a.rect.Sl(P);if(_){while((a.rect.b&3)!=0)a.rect.b++;while((a.rect.n&3)!=0)a.rect.n++}if(!iB.YR(X)||a.rect.b>1e5||a.rect.n>1e5||a.rect.O()>3e4*3e4)return null;
var B=a.rect.O()*4;if(J&&J.byteLength>=B&&B>=J.byteLength>>2){a.buffer=new Uint8Array(J)}else{a.buffer=W.Q(B)}W.K.drawImage(Q,e,d.b,d.n,a.buffer,a.rect,E==0,i,_);
if(E==2&&a.buffer){var M=a.rect.b,S=a.rect.n,f;f=[0,-1,0,-1,16,-1,0,-1,0];f=W.vm.vM(f);var F=a.buffer.slice(0);
W.vm.z3(F,a.buffer,M,S,f,255,!1,!0)}if(a.buffer)return a};$.Xq.tu=function(K,E,x,c,J,i,P){var _=E.rect,a=E.channel;
if(P){_=P;a=E.zw(_)}if(E.color==255)W.Pa(a);var j=W.Q(_.O()*4);W.Mz(a,j,3);var e=$.Xq.K7([j,_],c,J,i);
if(e){x.rect=e.rect;x.channel=W.Q(e.rect.O());W.Bp(e.buffer,x.channel,3);x.I_=!0}if(E.color==255){W.Pa(a);
if(e)W.Pa(x.channel)}};$.Xq.a7c=function(K,E){var x=K.filterFX;if(x)x=x.v.filterFXList;if(x)x=x.v;if(x)for(var c=0;
c<x.length;c++){var J=x[c].v.Fltr;if(J==null||J.v.classID!="rigidTransform")continue;J=J.v;console.log(J);
var i=[];for(var P=0;P<4;P++)i.push(J["PuX"+P].v,J["PuY"+P].v);W.p.u(i,E,i);for(var P=0;P<4;P++){J["PuX"+P].v=i[P*2];
J["PuY"+P].v=i[P*2+1]}var _=["PinP","posFinalPins"],a=["originalVertexArray","deformedVertexArray"],j=J.puppetShapeList.v;
for(var e=0;e<j.length;e++){var d=j[e].v;for(var I=0;I<_.length;I++){var v=$.Xq.t9(d[_[I]]);W.p.u(v,E,v);
d[_[I]]=$.Xq.K0(v);var n=new Uint8Array(d[a[I]].v),C=new Float32Array(n.buffer);W.p.u(C,E,C);var T=[];
for(var o=0;o<n.length;o++)T[o]=n[o];d[a[I]].v=T}}}};$.Xq.t9=function(K){var E=[],x=K.v.length;for(var y=0;
y<x;y++)E.push(K.v[y].v);return E};$.Xq.K0=function(K){var E={t:"VlLs",v:[]},x=K.length;for(var y=0;
y<x;y++)E.v.push({t:"doub",v:K[y]});return E};$.Xq.prototype.azX=function(){var K=W.p.hp(W.HA.q5(this.Iw.CN())),E=W.K.AS(this.Fu.iU(),this.Fl),x=[K.x,K.y,K.x+K.b,K.y,K.x+K.b,K.y+K.n,K.x,K.y+K.n];
W.K.u(E,x);this.Fu.Ry(x);this.Fl=K};$.Xq.prototype.fY=function(K,E,x,c){var J=W.K.AS(this.Fu.iU(),this.Fl);
J=W.K.hH(J,W.K.Pa(this.Fo));var i=this.Iw?this.Iw.CN():null;if(this.ji==0){var P=this.NA=W.K.vA(J);if(this.id==$.UH){var _=this.Pr[0][0],a=_.iq,j=a[1],e=~~(j.b*Math.max(0,P.Cc)),d=~~(j.n*Math.max(0,P.Ga)),I=new cS(Math.round(P.Cc*j.x+P.qW),Math.round(P.Ga*j.y+P.Ju),e,d),v=W.mY.u(this.Ir,I),n=K.B[this.B[0]];
n.buffer=v;n.rect=I;n.U();K.U()}else $.Xq.c4(K,E,this.B,this.Pr,x,J,i,null,null,c)}else if(this.ji==1){var C=K.B[this.B[0]],j=this.d3.ZE;
if(C.kS<=0){var T=this.d3.AJ,o=this.RK,s=null;if(i&&!W.HA.eS(i)&&!o.rect.ac(j)){var v=W.Q(o.rect.O()*4);
W.UL(T,j,v,o.rect);T=v;j=o.rect}if(this.id==$.UH){var P=this.NA=W.K.vA(J),e=~~(j.b*Math.max(0,P.Cc)),d=~~(j.n*Math.max(0,P.Ga)),I=new cS(Math.round(P.Cc*j.x+P.qW),Math.round(P.Ga*j.y+P.Ju),e,d),v=W.mY.u(this.Ir,I);
s={buffer:v,rect:I}}else s=$.Xq.K7([T,j],x,J,i);if(s){C.uE.y3=s.buffer;C.uE.VM=s.rect;var Q=W.Q(s.rect.O());
W.Bp(C.uE.y3,Q,3);K.P={channel:Q,rect:C.uE.VM.clone()}}}else{var X=W.Q(j.O()*4);W.Mz(this.d3.AJ,X,3);
var s=$.Xq.K7([X,j],x,J,i);if(s){C.uE.y3=W.Q(s.rect.O());W.Bp(s.buffer,C.uE.y3,3);C.uE.VM=s.rect}this.aqg(K,x,J,i)}C.vg(K,0,0,K.P);
if(x!=0){C.oo();W.oo(K.P)}K.zF=!0;K.U()}else if(this.ji==2)this.aqg(K,x,J,i)};$.Xq.prototype.aqg=function(K,E,x,c){var J=this.RK.rect,i=W.Q(J.O()*4);
W.Mz(this.RK.channel,i,3);var P=$.Xq.K7([i,J],E,x,c),_=W.Q(P.rect.O());W.Bp(P.buffer,_,3);K.P={channel:_,rect:P.rect};
K.zF=!0};$.Xq.prototype.disable=function(K,E,x,c){if(this.Fu)this.Yv(K,E,null,!0)};$.a98=function(){$.Xq.call(this,[10,16],$.Cy,"tools/transform")};
$.a98.prototype=new $.Xq;$.arM=function(){$.Xq.call(this,[7,10],$.Hq,"tools/transform")};$.arM.prototype=new $.Xq;
$.awP=function(){$.Xq.call(this,[10,48],$.UH,"tools/transform")};$.awP.prototype=new $.Xq;$.Je=function(K,E,x){$.dC.call(this,[10,46],$.xj,"tools/transform");
this.QA=[1,1,2,!0];this.LJ="rigidTransform";this.qF=null;this.auP=null;this.yX=null;this.KN=null;this.Xa=null;
this.p9=null;this.Zw=[]};$.Je.prototype=new $.dC;$.Je.prototype.eb=function(){return!0};$.Je.af5=function(K){if(K==null)return!1;
if(K.g.length!=1)return!1;var E=K.B[K.g[0]];return E.add.SoLd||K.IC(!1)};$.Je.prototype.XJ=function(K,E){return $.Je.af5(K)};
$.Je.prototype.enable=function(K,E,x,c,J,i,P){this.auP=i.NQ;var _=i.NQ,a,C=null;if(_){var j=K.B[_.j];
if(j.add.SoLd.filterFX!=null){var e=j.add.SoLd.filterFX.v.filterFXList.v;if(e[_.index])a=JSON.parse(JSON.stringify(e[_.index].v.Fltr.v))}}var d=a==null,j=K.B[K.g[0]],I=j.buffer,v=j.rect,n=j.add.SoLd;
if(n){var T=n.nonAffineTransform.v;C=[];for(var y=0;y<4;y++)C.push(T[y*2].v,T[y*2+1].v);if(d)this.yv("edit",E);
var o=j.Xe(K);I=o.buffer;v=o.rect}this.qF={buffer:I.slice(0),rect:v.clone(),axP:C};if(d)a=$.Je.gm(this.qF,this.QA);
this.yX=a;this.KN=$.Je.QR(this.yX,this.QA);this.ue();this.ns(K);if(d)this.I5(E);var s=new i3(u.E.L,!0);
s.data={_:u.c.zy,G:this.id,ry:this.QA};E.S(s);s.data={_:u.c.wA,JK:"default"};E.S(s)};$.Je.prototype.disable=function(K,E,x,c){if(this.KN)this.Yv(K,E,!0)};
$.Je.prototype.ue=function(K){var E=this.KN;this.Zw=[];for(var y=0;y<E.length;y++){var x=E[y];for(var c=0;
c<x.g.length;c++)this.Zw.push([y,x.g[y]]);x.T1=W.d2.OO(x);if(K)W.d2._b(x)}};$.Je.prototype.Gj=function(K,E,x,c){if(K.BM=="commit")this.Yv(x,E,!0);
else if(K.BM=="cancel")this.v$(x,E,!0);else if(K.BM=="prm"){var J=!1;for(var y=0;y<3;y++)if(this.QA[y]!=K.ry[y])J=!0;
this.QA=K.ry;if(J){this.yX=$.Je.gm(this.qF,this.QA,this.yX);this.KN=$.Je.QR(this.yX,this.QA);this.ue(!0);
this.I5(E)}this.ns(x)}else if(K.BM=="moveDepth"){var i=this.KN;for(var P=0;P<i.length;P++){var _=i[P];
for(var y=0;y<_.g.length;y++){var a=_.g[y];_.Ao[a]+=K.aib?1:-1}}this.I5(E)}};$.Je.prototype.Xo=function(K,E){return K==j6.C3||K==j6.oh};
$.Je.prototype._G=function(K,E,x,c){var J=c.lI();if(c.l(j6.Tt))this.Yv(K,E,!0);else if(c.l(j6.go))this.v$(K,E,!0);
else if(c.l(j6.C3)||c.l(j6.oh)){var i=this.KN;for(var P=0;P<i.length;P++){var _=i[P];_.g.sort(function(e,d){return d-e});
for(var y=0;y<_.g.length;y++){var a=_.g[y],j=a*2;_.Ao.splice(a,1);_.Xh.splice(a,1);_.xv.splice(a,1);
_.D9.splice(a,1);_.$M.splice(j,2);_.kR.splice(j,2)}_.g=[];if(_.D9.length==0){_.Wm=_.zo.slice(0);_.WI=_.zo.slice(0)}}this.ue(!0);
this.I5(E);this.ns(K)}else if(J.x!=0||J.y!=0){this.ajm(K,J.x,J.y,E);this.BJ=null}};$.Je.prototype.Yv=function(K,E,x){this.yv("confirm",E);
this.escape(K,E,x)};$.Je.prototype.v$=function(K,E,x){this.yv("cancel",E);this.escape(K,E,x)};$.Je.prototype.escape=function(K,E,x){K.I.Xv=null;
K.I.dy=[];K.ZI=!0;this.KN=null;var c=new i3(u.E.L,!0);c.data={_:u.c.K4};if(x)E.S(c)};$.Je.prototype.zb=function(K,E,x,c,J){var i=K.D.gg(J.x,J.y),P=i.x,_=i.y,a=this.KN,j=null,e=[0,2,4,1.2,1.2,1.2],d=-1,I=$.q_(K,J);
for(var y=0;y<a.length;y++){var v=a[y],n=W.p.fq(v.kR,P,_,I);if(n!=-1)j=[y,n];if(d==-1&&W.d2.vl.ab4(v.WI,v.yf,P,_))d=y}if(j==null&&d!=-1){var v=a[d];
$.Je.a6Y(v,P,_,P,_,0);j=[d,v.D9.length-1];v.T1=W.d2.OO(v)}this.Xa=i;if(j){var C=a[j[0]].g.indexOf(j[1])!=-1;
if(c.l(j6.iu)&&!C){a[j[0]].g.push(j[1]);this.Zw.push(j)}else if(!C){a[j[0]].g=[j[1]];this.Zw=[j]}}this.ns(K)};
$.Je.a6Y=function(K,E,x,c,J,i){var P=W.p.fq(K.WI,E,x);K.D9.push(P);K.kR.push(c,J);K.$M.push(K.WI[P*2]-E,K.WI[P*2+1]-x);
K.xv.push(0);K.Xh.push(!1);K.Ao.push(i)};$.Je.prototype.il=function(K,E,x,c,J){var i=K.D.gg(J.x,J.y),P=this.Xa;
if(P)this.ajm(K,i.x-P.x,i.y-P.y,E)};$.Je.prototype.ajm=function(K,E,x,c){var J={},i=this.Zw,P=this.KN;
if(this.BJ==null){this.BJ=[];for(var y=0;y<P.length;y++)this.BJ.push(P[y].kR.slice(0))}for(var y=0;y<i.length;
y++){var _=this.Zw[y],a=_[0],j=P[_[0]],e=_[1]*2;j.kR[e+0]=this.BJ[a][e+0]+E;j.kR[e+1]=this.BJ[a][e+1]+x;
J[a]=a}for(var a in J)W.d2._b(this.KN[J[a]]);this.ns(K);this.I5(c)};$.Je.prototype.yv=function(K,E){var x=new i3(u.E.v,!0);
x.G=$.AL;x.data={_:K,NQ:this.auP,LJ:this.LJ,W8:this.yX};E.S(x)};$.Je.prototype.N2=function(K,E,x,c,J){this.Xa=null;
this.BJ=null};$.Je.prototype.I5=function(K){$.Je.a91(this.KN,this.QA,this.yX);this.yv("edit",K)};$.Je.prototype.ns=function(K){var E=this.KN,x=this.yX;
K.I.Xv={C:[],W:[]};K.I.dy=[];K.I.A6=[];for(var y=0;y<E.length;y++){var c=E[y];for(var J=0;J<c.g.length;
J++)K.I.A6.push((K.I.dy.length>>>1)+c.g[J]);K.I.dy=K.I.dy.concat(c.kR);if(this.QA[3])W.p.concat(K.I.Xv,W.p.avs(c.WI,c.yf))}K.ZI=!0};
$.Je.gm=function(K,E,x){var c=K.buffer,J=K.rect,i=K.axP,P=dJ.JQ("rigidTransform");if(i)for(var y=0;y<4;
y++){P["PuX"+y].v=i[y*2];P["PuY"+y].v=i[y*2+1]}var _=P.puppetShapeList.v,a=W.d2.awe(c,J.b,J.n,E[1],E[2]),j=[];
for(var e=0;e<a.length;e++){var d={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
d.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var I=a[e];_.push({t:"Objc",v:d});var v=I.zo.slice(0);W.p.u(v,new iQ(1,0,0,1,J.x,J.y),v);var n=I.yf;
for(var y=0;y<n.length;y+=3){var C=n[y+1];n[y+1]=n[y+2];n[y+2]=C}j.push({yf:n,zo:v,Wm:v,WI:v,D9:[],$M:[],kR:[],T1:null,g:[],xv:[],Xh:[],Ao:[]})}if(x){var T=$.Je.QR(x,[]),o=j[0];
for(var y=0;y<T.length;y++){var s=T[y];for(var Q=0;Q<s.g.length;Q++)o.g.push((o.kR.length>>>1)+s.g[Q]);
for(var Q=0;Q<s.D9.length;Q++){var X=s.D9[Q]*2,B=s.zo[X]-s.$M[Q*2],M=s.zo[X+1]-s.$M[Q*2+1];$.Je.a6Y(o,B,M,s.kR[Q*2],s.kR[Q*2+1],s.Ao[Q])}}}$.Je.a91(j,E,P);
return P};$.Je.QR=function(K,E){var x=$.Xq.t9,c=K.puppetShapeList.v,J=[];for(var i=0;i<c.length;i++){var P=c[i].v;
E[0]=P.meshRigidity.v-1;E[1]=P.meshQuality.v-1;E[2]=P.meshExpansion.v;var _=P.pinVertexIndices.v.length,a=P.meshBoundaryPath.v.pathComponents.v;
if(a.length!=0){var j=a[0].v.SbpL.v[0].v.Pts;j.v=[]}var e=new Uint32Array(new Uint8Array(P.indexArray.v).buffer),d=new Float32Array(new Uint8Array(P.originalVertexArray.v).buffer),I=new Float32Array(new Uint8Array(P.deformedVertexArray.v).buffer),v=[],n=[],C=[];
for(var y=0;y<e.length;y++)v.push(e[y]);for(var y=0;y<d.length;y++){n.push(d[y]);C.push(I[y])}var T=x(P.pinVertexIndices),o=x(P.pinOffsets),s=x(P.posFinalPins),Q=x(P.PnRt),X=x(P.PnOv),B=x(P.PnDp),M=x(P.selectedPin);
J.push({yf:v,zo:n,Wm:C.slice(0),WI:C,D9:T,$M:o,kR:s,T1:null,xv:Q,Xh:X,Ao:B,g:M})}return J};$.Je.a91=function(K,E,x){function c(I,v){var n=[];
for(var y=0;y<I.length;y++)n.push({t:v,v:I[y]});return n}function J(I,v,n){var C=new(n?Uint32Array:Float32Array)(I),T=new Uint8Array(C.buffer);
for(var y=0;y<T.length;y++)v[y]=T[y]}var i=x.puppetShapeList.v;for(var P=0;P<i.length;P++){var _=K[P],a=i[P].v;
a.meshRigidity.v=E[0]+1;a.meshQuality.v=E[1]+1;a.meshExpansion.v=E[2];J(_.yf,a.indexArray.v,!0);J(_.zo,a.originalVertexArray.v);
J(_.WI,a.deformedVertexArray.v);var j=[];for(var y=0;y<_.D9.length;y++){var e=_.D9[y]*2,d=y*2;j[d]=_.zo[e]-_.$M[d];
j[d+1]=_.zo[e+1]-_.$M[d+1]}a.PinP.v=c(j,"doub");a.pinVertexIndices.v=c(_.D9,"long");a.pinOffsets.v=c(_.$M,"doub");
a.posFinalPins.v=c(_.kR,"doub");a.PnRt.v=c(_.xv,"long");a.PnOv.v=c(_.Xh,"bool");a.PnDp.v=c(_.Ao,"doub");
a.selectedPin.v=c(_.g,"long")}};$.ie=function(K,E,x){$.dC.call(this,K?K:[10,40],E?E:$.n8,x?x:"tools/slice");
this.ml=null;this.H3=null;this.xn=null;this.agi=null;this.rX=null;this.Rw=null};$.ie.prototype=new $.dC;
$.ie.ds=function(K,E){var x=-1;for(var y=0;y<K.length;y++){var c=$.ie.rQ(K,y);if(c[0]<=E.x&&E.x<=c[2]&&c[1]<=E.y&&E.y<=c[3]){x=y;
break}}return x};$.ie.prototype.Qp=function(K,E,x,c,J){if(x==null)return;this.VL(x);if(K._=="fromAction"){var i=K.t7,P=i.va,_=i.Ks,a=x.pY(),j=x.Uq(),e=j==-1?new cS(0,0,x.b,x.n):x.B[j].IZ();
if(P=="divide"){if(x.Cr.length!=0){var d=x.Cr[0],I=$.ie.rQ(x.ea,d);e=new cS(I[0],I[1],I[2]-I[0],I[3]-I[1]);
x.ea.splice(d,1);x.Cr=[]}a=[[],[]];for(var v=0;v<2;v++){var n=["Across","Down"][v],C=_["pixels"+n]?0:1,T=_[["pixels","slices"][C]+n];
if(T==null)continue;T=T.v;var o=v==0?e.x:e.y,s=v==0?e.b:e.n;if(C==0)for(var y=1;y*T<s;y++){a[0].push([v,o+y*T]);
a[1].push(j)}else{var Q=Math.floor(s/T);for(var y=1;y<T;y++){a[0].push([v,o+y*Q]);a[1].push(j)}}}}var X=[e.x,e.x+e.b],B=[e.y,e.y+e.n];
for(var y=0;y<a[0].length;y++){var M=a[0][y],S=Math.round(M[1]),f=a[1][y];if(f!=-1&&f!=j)continue;if(M[0]==0&&X.indexOf(S)==-1)X.push(S);
if(M[0]==1&&B.indexOf(S)==-1)B.push(S)}X.sort(function(t,m){return t-m});B.sort(function(t,m){return t-m});
for(var F=1;F<B.length;F++)for(var G=1;G<X.length;G++){x.ea.push($.ie.IS());$.ie.AD(x.ea,x.ea.length-1,[X[G-1],B[F-1],X[G],B[F]]);
x.ZI=!0}}else if(K._=="reorder"){if(x.Cr.length==0)return;var D=x.ea,b=x.Cr;b.sort(function(t,m){return t-m});
console.log(b);var H=D.slice(0),q=[],O=[];for(var y=0;y<b.length;y++){var d=b[y],w=D[d];O.push(w);H.splice(H.indexOf(w),1)}var V=Math.max(0,Math.min(H.length,b[0]-K.dir));
for(var y=0;y<O.length;y++){H.splice(V+y,0,O[y]);q.push(V+y)}x.ea=H;x.Cr=q}else if(K._=="delete"){var D=x.ea.slice(0);
for(var y=0;y<x.Cr.length;y++)x.ea.splice(x.ea.indexOf(D[x.Cr[y]]),1);x.Cr=[]}else if(K._=="deleteAll"){x.ea=[];
x.Cr=[]}else{x.ea[x.Cr[0]].v=K;x.ZI=!0}this.cL(x)};$.ie.prototype.enable=function(K,E,x,c,J,i){$.dC.prototype.enable.call(this,K,E,x,c,J,i);
if(!x.Vp.ea){var P=new i3(u.E.L,!0);P.data={_:u.c.Na,ry:eu.IX};E.S(P)}};$.ie.prototype.disable=function(){this.ml=null;
this.H3=null};$.ie.prototype.oG=function(K,E,x,c,J){var i=K.D.gg(J.x,J.y),P=$.ie.ds(K.ea,i);if(P==-1)return;
this.ml=K;this.H3=E;K.Cr=[P];K.ZI=!0;if(this.Rw==null){this.Rw=new cQ([{name:[5,4]},{name:[8,11,1],Ps:!0}]);
this.Rw.w("select",this.C2,this)}var _=this.Rw;_.parent=E;_.f();_.update(K,x);var a=new i3(u.E.L,!0);
a.data={_:u.c.gF,M8:_,x:J.H9+2,y:J.HX+1};E.S(a)};$.ie.prototype.C2=function(K){var E=this.Rw.rk()[0],x=this.ml;
if(E==0){this.VL(x);x.ea.splice(x.Cr[0],1);x.Cr=[];x.ZI=!0;this.cL(x)}if(E==1){var c=new i3(u.E.L,!0);
c.data={_:u.c.v9,xc:"soptions",Z:x.ea[x.Cr[0]].v};this.H3.S(c)}};$.ie.prototype.zb=function(K,E,x,c,J){if(K==null)return;
this.VL(K);var i=K.D.gg(J.x,J.y);i=$.DU.W1(K,i,x,[!0,null,!1]);i.x=Math.round(i.x);i.y=Math.round(i.y);
this.rX=i;K.ea.unshift($.ie.IS());K.Cr=[0];$.ie.AD(K.ea,0,[i.x,i.y,i.x+20,i.y+20]);K.ZI=!0};$.ie.prototype.il=function(K,E,x,c,J){if(this.xn==null)return;
var i=K.D.gg(J.x,J.y),P=this.rX;i=$.DU.W1(K,i,x,[!0,null,!1]);i.x=Math.round(i.x);i.y=Math.round(i.y);
var _=[P.x,P.y,i.x,i.y];$.ie.aiP(_);$.ie.AD(K.ea,0,_);K.ZI=!0};$.ie.prototype.N2=function(K,E,x,c,J){this.cL(K);
this.rX=null};$.ie.prototype.VL=function(K){this.xn=JSON.stringify(K.ea);this.agi=JSON.stringify(K.Cr)};
$.ie.prototype.cL=function(K){var E=JSON.stringify(K.ea);if(E!=this.xn){var x=new im(this.name,this);
x.data={d3:this.xn,SS:E,aqE:this.agi,a5P:JSON.stringify(K.Cr)};K.i1(x)}this.xn=null};$.ie.prototype.Bn=function(K,E){E.ea=JSON.parse(K.d3);
E.Cr=JSON.parse(K.aqE);E.ZI=!0};$.ie.prototype.RO=function(K,E){E.ea=JSON.parse(K.SS);E.Cr=JSON.parse(K.a5P);
E.ZI=!0};$.ie.prototype.Xo=function(K,E){return E!=null&&E.Cr.length!=0&&(K==j6.C3||K==j6.oh)};$.ie.prototype._G=function(K,E,x,c){if(K==null)return;
if(c.l(j6.C3)||c.l(j6.oh))this.Qp({_:"delete"},E,K,c,x);var J=c.lI();if(J.x!=0||J.y!=0){this.VL(K);$.ie._4(K,J);
this.cL(K)}};$.ie.prototype.Gj=function(K,E,x,c,J){};$.ie.a5p=function(K,E,x,c){var J=new iP(-E.x,-E.y),i=E.b/x.b,P=E.n/x.n,_=[0,0,E.b,E.n];
for(var y=0;y<K.length;y++){var a=$.ie.rQ(K,y);if(c){a[0]=Math.round(a[0]*i);a[1]=Math.round(a[1]*P);
a[2]=Math.round(a[2]*i);a[3]=Math.round(a[3]*P)}else{$.ie.yU(a,J);$.ie.a3_(a,_)}if(a[0]>=a[2]||a[1]>=a[3]){K.splice(y,1);
y--;continue}$.ie.AD(K,y,a)}};$.ie._4=function(K,E){var x=K.ea;for(var y=0;y<K.Cr.length;y++){var c=$.ie.rQ(x,K.Cr[y]);
$.ie.yU(c,E);$.ie.AD(x,K.Cr[y],c)}};$.ie.a3_=function(K,E){if(K[0]<E[0])K[0]=E[0];if(K[1]<E[1])K[1]=E[1];
if(E[2]<K[2])K[2]=E[2];if(E[3]<K[3])K[3]=E[3]};$.ie.yU=function(K,E){K[0]=Math.round(K[0]+E.x);K[2]=Math.round(K[2]+E.x);
K[1]=Math.round(K[1]+E.y);K[3]=Math.round(K[3]+E.y)};$.ie.AD=function(K,y,E){var x=K[y].v.bounds.v;x.Left.v=E[0];
x.Top.v=E[1];x.Rght.v=E[2];x.Btom.v=E[3]};$.ie.rQ=function(K,y){var E=K[y].v.bounds.v;return[E.Left.v,E.Top.v,E.Rght.v,E.Btom.v,y]};
$.ie.aiP=function(K){if(K[2]<K[0]){var E=K[0];K[0]=K[2];K[2]=E}if(K[2]==K[0])K[2]++;if(K[3]<K[1]){var E=K[1];
K[1]=K[3];K[3]=E}if(K[3]==K[1])K[3]++};$.ie.hp=function(K,E){var x=1e9,c=-1e9,J=1e9,i=-1e9;for(var y=0;
y<E.length;y++){var P=$.ie.rQ(K,E[y]);x=Math.min(x,P[0]);J=Math.min(J,P[1]);c=Math.max(c,P[2]);i=Math.max(i,P[3])}return[x,J,c,i]};
$.ie.IS=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
$.Xu=function(){$.ie.call(this,[10,41],$.eG,"tools/sselect");this.rX=null;this.rz=null;this.yh=null;
this.p9=null;this.P_=!1};$.Xu.prototype=new $.ie;$.Xu.prototype.zb=function(K,E,x,c,J){if(K==null)return;
var i=K.D.gg(J.x,J.y),P=$.Xu.a7u(i,4/K.D.N,K.ea,K.Cr);P.pop();if(P.length!=0){this.rX=i;this.yh=P;this.VL(K);
return}var _=K.ea,a=$.ie.ds(_,i);if(a==-1)K.Cr=[];else{var j=K.Cr.indexOf(a);if(c.l(j6.iu)){if(j==-1)K.Cr.push(a);
else K.Cr.splice(j,1)}else{K.Cr.sort(function(C,T){return C-T});if(j==-1)K.Cr=[a];this.rX=i;this.VL(K);
this.rz=$.ie.hp(_,K.Cr);this.p9=[];for(var y=0;y<K.Cr.length;y++)this.p9.push($.ie.rQ(_,K.Cr[y]));if(c.l(j6.iE)){var e=_.slice(0),d=K.Cr,I=[];
for(var y=0;y<d.length;y++){var a=d[y],v=e[a],n=_.indexOf(v);I.push(n);_.splice(n,0,JSON.parse(JSON.stringify(v)))}K.Cr=I}}}K.ZI=!0};
$.Xu.prototype.il=function(K,E,x,c,J){var i=K.D.gg(J.x,J.y);if(this.rX==null){var P=$.Xu.a7u(i,4/K.D.N,K.ea,K.Cr),_=P.pop(),a=P.length==0?"default":["ew","nwse","ns","nesw"][_]+"-resize",j=new i3(u.E.L,!0);
j.data={_:u.c.wA,JK:a};E.S(j);return}if(!this.P_&&i.ac(this.rX))return;this.P_=!0;var e=K.ea,P=this.yh;
if(P){i=$.DU.W1(K,i,x,[!0,null,!1]);var d=Math.round(i.x),I=Math.round(i.y);for(var y=0;y<P.length;y+=2){var v=$.ie.rQ(e,P[y]),n=P[y+1];
v[n]=(n&1)==0?d:I;$.ie.aiP(v);$.ie.AD(e,P[y],v)}}else{var C=i.aZ(this.rX),T=this.rz.slice(0);$.ie.yU(T,C);
var o=new cS(T[0],T[1],T[2]-T[0],T[3]-T[1]),Q=$.DU.bn(K,o,x,[!0,null,!1],!0);$.DU.lD(K,o,Q);C.x+=Q[0];
C.y+=Q[1];for(var y=0;y<K.Cr.length;y++)$.ie.AD(e,K.Cr[y],this.p9[y]);$.ie._4(K,C)}K.ZI=!0};$.Xu.prototype.N2=function(K,E,x,c,J){if(this.rX==null)return;
this.cL(K);K.I.sA=null;K.ZI=!0;this.rX=null;this.yh=null;this.p9=null;this.P_=!1};$.Xu.a7u=function(K,E,x,c){var J=K.x,i=K.y,P=[],_=-1,a=[];
for(var y=0;y<c.length;y++){var j=c[y],e=$.ie.rQ(x,j),d=e[0],I=e[1],v=e[2],n=e[3];if(J<d-E||v+E<J||i<I-E||n+E<i)continue;
var C=[J<d+E,i<I+E,v-E<J,n-E<i],T=-1;for(var o=0;o<4;o++){if(C[o]&&C[o+1&3])T=1+2*(o&1);if(C[o])P.push(j,o)}if(T==-1){if(C[0]||C[2])T=0;
if(C[1]||C[3])T=2}if(T!=-1){_=T;a.push(j)}}var s=P.length;for(var y=0;y<s;y+=2){var j=P[y],Q=P[y+1],X=$.ie.rQ(x,j)[Q];
for(var o=0;o<c.length;o++){var B=c[o];if(a.indexOf(B)!=-1)continue;var e=$.ie.rQ(x,B);if(e[Q&1]==X)P.push(B,Q&1);
if(e[2+(Q&1)]==X)P.push(B,2+(Q&1))}}P.push(_);return P};$.pD=function(){$.cx.call(this,[10,44],$.axM,"tools/oselect");
this.h9="crosshair";this.aqb=0};$.pD.prototype=new $.cx;$.pD.prototype.EN=function(K,E,x,c){if(Math.random()<1/(1+this.aqb)){alert("The cross should be fully inside the object.",3500);
this.aqb++}};$.pD.prototype.fw=function(K,E,x,c){$.ru.Q6(K,$.cx.DH,this.H3);if(!c.tj||!this.da)return;
var J=this.ZS(K,x,!1),i=J.b,P=J.n,_=J.x,a=J.y,j=J.x+i,e=J.y+P,d=_+i/2,I=a+P/2,v=$.pD.aiN;K.I.Xv={C:[_,a,j,a,j,e,_,e,d-i*v,I,d+i*v,I,d,I-P*v,d,I+P*v],W:"M L L L Z M L M L".split(" ")};
K.ZI=!0};$.pD.aiN=.12;$.pD.prototype.eL=function(K,E,x,c){K.I.Xv=null;K.ZI=!0;this.finish(K,E,x,c)};
$.pD.prototype.getSelection=function(K,E,x,c){if(this.yy.ac(this.vw)||!this.da)return null;var J=this.ZS(K,x,!1),i=K.B[K.g[0]];
if(J.um()||!J.iw(i.rect))return null;return $.cx.$G("ObSl",J)};$.ru=function(){$.Hj.call(this,[10,37],$.mj,"tools/qselect");
this.BW="qselect"};$.ru.prototype=new $.Hj;$.ru.prototype.zb=function(K,E,x,c,J){$.ru.Q6(K,$.cx.DH,E,!0);
this.WW(K,x,c,J,1);if(this.RY==null)return;this.oi(K)};$.ru.prototype.il=function(K,E,x,c,J){this.Dz(K,E,x);
$.ru.Q6(K,$.cx.DH,E);if(this.c2)this.qZ(K,x,J);if(this.RY==null)return;if(!J.tj)return;var i=this.EC(K,x,c,J);
if(i!=1)this.oi(K)};$.ru.Q6=function(K,E,x,c){if(K&&E.key!=$.ru.eN(K)){E.key=$.ru.eN(K);var J=K.B[K.g[0]].rect.O(),P="Image Analysis ...";
if(J==0)return;var i=J>1e6&&c!=!0,_=new i3(u.E.L,!0);_.data={_:u.c.B6,kB:P};if(i)x.S(_);var a=function(){var j=$.ru.a7J(K);
for(var e in j)E[e]=j[e];var _=new i3(u.E.L,!0);_.data={_:u.c.Di,kB:P};if(i)x.S(_)};if(c)a();else setTimeout(a,30)}};
$.ru.eN=function(K){var E=K.g[0],x=K.B[E],c=x.rect,J=c.b,i=c.n,P=J*i,_=x.buffer;return[E,c.x,c.y,J,i,_[0],_[1],_[2],_[3]].join(",")};
$.ru.a7J=function(K){var E=K.g[0],x=K.B[E],c=x.rect,J=c.b,i=c.n,P=J*i,_=x.buffer,a=Date.now(),j=W.Q(P);
j.fill(128);var e=W.qe.eZ(_,J,i);console.log(Date.now()-a);var d={key:$.ru.eN(K),tQ:_,rect:c.clone(),pz:J,o4:i,zq:12,a2C:!1,vP:j,VJ:e,P:W.Q(P),YN:null,WL:null,vO:null};
$.ru.Wn(d);return d};$.ru.Wn=function(K,E){var x=K.pz,c=K.o4,J=0,i=0,P=Date.now(),_=K.YN!=null&&W.qe.ahq(K.VJ.yf,K.YN.yf,K.YN.ms,K.vP);
J=Date.now()-P;P=Date.now();if(!_&&!K.a2C){K.YN=W.qe.XZ(K.VJ,x,c,K.vP,K.zq);if(!W.qe.ahq(K.VJ.yf,K.YN.yf,K.YN.ms,K.vP)){K.a2C=!0;
console.log("conflict")}K.WL=W.qe.auC(K.tQ,x,c,K.YN.yf,K.YN.ms);K.vO=[K.WL[0].slice(0),[]];i=Date.now()-P;
P=Date.now()}var P=Date.now();if(E){K.vO[0].set(K.WL[0]);var a=K.WL[1],j=K.vO[1];for(var e=0;e<a.length;
e++)j[e]=a[e].slice(0);W.qe.aoC(K.YN.yf,x,c,K.YN.ms,K.vP,K.P,K.vO)}};$.Q2=function(){$.dC.call(this,[10,50],$.Kg,"tools/artb");
this.VG=null;this.kJ=!1;this.Fu=null;this.Bk=!1;this.akk=null;this.eF=100;this.lU=null;this.aw=0};$.Q2.prototype=new $.dC;
$.Q2.prototype.Qp=function(K,E,x,c,J){this.Rl(x,K.aqs,E,K.no)};$.Q2.asJ=function(K,E){var x=K[0],c=0,J=0;
if(x==0)J=-1;else if(x==1)c=1;else if(x==2)J=1;else c=-1;return[20/E.f$,K[1]+c*60/E.f$,K[2]+J*60/E.f$]};
$.Q2.prototype.Gj=function(K,E,x,c,J){this.VG=K.ry;this.aw=Date.now()};$.Q2.prototype.br=function(K,E,x,c){if(x.OI!=this.id)return;
if(K==null||K.g.length!=1){this.CB(K);return}var J=K.g[0],i=K.B[J],P=i.add.artb;if(P==null){this.CB(K);
return}if(this.Bk)return;if(Date.now()-this.aw>50){this.VG={};var _=["artboardBackgroundType","Clr"];
for(var y=0;y<_.length;y++)if(P[_[y]])this.VG[_[y]]=JSON.parse(JSON.stringify(P[_[y]]));var a=new i3(u.E.L,!0);
a.data={_:u.c.zy,G:this.id,_q:this.VG};E.S(a)}var j=i.IZ(),e=W.p.VD(j).C,d=this.Fu=new iB(e,!0,!1,!1,!0,!1,3,!1);
d.d7(K,x,!1);var I={C:[1,0],W:["M"]};for(var y=1;y<30;y++){var v=Math.PI*2*y/30;I.C.push(Math.cos(v),Math.sin(v));
I.W.push("L")}I.W.push("Z","M","L","M","L");I.C.push(-.5,0,.5,0,0,-.5,0,.5);var n=j.x+j.b/2,C=j.y+j.n/2,T=this.eF*1.1,o=this.akk=[n,j.y,j.x+j.b,C,n,j.y+j.n,j.x,C],Q=[0,-T,T,0,0,T,-T,0],X=K.root.children;
K.I.Tl=[];for(var y=0;y<4;y++){var B=new iP(o[y*2]+Q[y*2],o[y*2+1]+Q[y*2+1]),M=!1;for(var S=0;S<X.length;
S++){var i=X[S].j;if(i.add.artb==null)continue;var j=i.IZ();if(j.YO(B))M=!0}if(M){o[y*2]=1e9;continue}K.I.Tl.push([y,o[y*2],o[y*2+1]])}};
$.Q2.prototype.disable=function(K,E,x,c,J){this.CB(K)};$.Q2.prototype.CB=function(K){if(this.Fu){this.Fu.clear(K);
this.Fu=null;K.I.Tl=null}};$.Q2.prototype.zb=function(K,E,x,c,J){this.aw=Date.now();var i=K.D.gg(J.x,J.y),P=this.Fu;
if(P){var _=new i3(u.E.v),a=P.afl(null,i,K,J);if(a<9){this.Bk=P.zb(K,x,c,i,null,!0,J);return}else if(P.FX(i)){_.G=$.x3;
_.data={_:"disabAuto"};E.S(_);var j=new i3(u.E.L);j.data={_:u.c.iM,G:$.x3,axT:!0};E.S(j);return}else{var e=-1,d=K.I.Tl;
for(var y=0;y<d.length;y++){var I=$.Q2.asJ(d[y],K.D);if(iP.B4(i,new iP(I[1],I[2]))<I[0])e=d[y][0]}if(e!=-1){var v=K.B[K.g[0]].IZ(),n=v.clone(),C=(e==0||e==2?v.n:v.b)+this.eF;
if(e==0||e==3)C=-C;if(e==0||e==2)v.y+=C;else v.x+=C;if(c.l(j6.iE)){var T=new cS(0,0,K.b,K.n);_.G=$.Os;
_.data={_:Z.On};E.S(_);$.DU.jB(K,K.zD(null,K.g[0],null,!0),null,v.x-n.x,v.y-n.y);K.g=K.g.slice(K.g.length-1);
var o=$.$a.oR(K);if(o){var Q=K.$z();Q.data.Fl=T;Q.data.vY=o;Q.data.h2=K.g}}else this.Rl(K,v,E);return}}}this.lU=$.DU.W1(K,i,x)};
$.Q2.prototype.Rl=function(K,E,x,c){if(c==null)c=0;var J=K.B.slice(0),i=[K.B.length+1],P=K.EY();P.yH(hg.get([1,16,0])+" "+(K.add.artd==null?1:K.root.children.length+1));
P.add.lsct=fV.Bm;P.MZ(E);if(this.VG){var _=P.add.artb,a=this.VG;for(var j in a)_[j]=a[j]}P.Vk="pass";
P.LD=24;if(c==0){if(K.add.artd||E.Sl(new cS(0,0,K.b,K.n)).um())J.push(K.NG());else J.unshift(K.NG())}else{var e=K.zD();
e.sort(function(C,T){return C-T});var d=$.rn.YM(K,e,J.length-1,!1,null,!1),I=d.pop(),v=d.pop();J=d.pop();
J.splice(K.B.length-e.length,0,K.NG())}J.push(P);var n=new i3(u.E.v);n.G=$.Os;n.data={_:Z.YG,Y1:J,sR:i,vZ:[1,16,2]};
x.S(n)};$.Q2.prototype.il=function(K,E,x,c,J){var i=K.D.gg(J.x,J.y),P=this.Fu,_=this.lU;if(P){if(this.Bk){P.il(K,x,c,i)}else{var a=P.DK(i,K.D.N,null,J);
if(a==null)a="default";var j=new i3(u.E.L,!0);j.data={_:u.c.wA,JK:a};E.S(j)}}if(_){var e=this.rQ(K,i,c,x);
K.I.Xv=W.p.VD(e);K.ZI=!0;$.dC.CE(J,e,K,x)}};$.Q2.prototype.N2=function(K,E,x,c,J){var i=K.D.gg(J.x,J.y),P=this.lU;
if(this.Bk){this.Fu.N2(K,x,c,i);this.Bk=!1;var _=W.p.Uz(this.Fu.iU()),a=Z.Ws(_),j=K.B[K.g[0]],e=JSON.parse(JSON.stringify(j.add.artb));
e.artboardRect.v=a;var d=new i3(u.E.v,!0);d.G=$.Os;d.data={_:Z.Er,fd:e};E.S(d)}if(P){var I=this.rQ(K,i,c,x);
if(I.O()>20)this.Rl(K,I,E);K.I.Xv=null;K.ZI=!0;this.lU=null;K.I.un=[]}};$.Q2.prototype.rQ=function(K,E,x,c){var J=this.lU,i=$.DU.W1(K,E,c),P=$.SM.YX(J,i,x,!0);
J=P[0];i=P[1];return W.p.Uz([J.x,J.y,i.x,i.y])};function iB(K,E,x,c,J,i,P,_){this.uH=null;this.D7=K?K.slice(0):null;
this.wu=4;this.vw=null;this.tK=null;this.ce=null;this.IA=-1;this.Lb=null;this.a9z=!1;this.ajn=[];for(var y=0;
y<8;y++)this.ajn.push(gr.art(0,PIMG.rotate,-.5,-.5,-45-y*45));this.abg=E;this.a2h=x;this.av6=c;this.aqU=J;
this.z6=i;this.no=P;this.a73=_==null?1:_}iB.prototype.anj=function(){return this.IA!=-1};iB.prototype.iU=function(){return this.D7.slice(0)};
iB.prototype.Ry=function(K){this.D7=K};iB.prototype.aeT=function(){return this.xK(this.D7)};iB.prototype.aiv=function(){return this.wu};
iB.prototype.a2Y=function(K){this.wu=K};iB.prototype.EG=function(K){if(K==null)K=this.D7;if(this.wu==9)return this.vw;
else return this.xK(K)[this.wu]};iB.prototype.a8e=function(K){if(this.wu==9)this.vw=K.clone();else{var E=this.EG(),x=new iQ(1,0,0,1,K.x-E.x,K.y-E.y);
W.p.u(this.D7,x,this.D7)}};iB.prototype.DK=function(K,E,x,c){var J=this.t4(null,K,E,c),i;if(J==9)return"default";
if(J==10){if(x)return null;return!this.abg?"move":null}if(J==-1||J==4)return null;if(J==11){var P=this.EG().aZ(K);
i=90-Math.atan2(P.y,P.x)*180/Math.PI;var _=Math.round(8*(i/360));_=(_+8)%8;return this.ajn[_]}else{var a=this.yF(K,this.D7);
i=[135,90,45,180,0,0,225,270,315][J];var j=W.K.AS(this.D7);i+=Math.atan2(-j[3],j[0])*180/Math.PI;var e="ew nesw ns nwse ew nesw ns nwse".split(" "),_=Math.round(8*(i/360));
_=(_+8)%8;return e[_]+"-resize"}};iB.prototype.yF=function(K,E){var x=W.K.Pa(W.K.AS(E)),c=new Float64Array(2);
W.K.wv(K.x,K.y,x,c);return new iP(c[0],c[1])};iB.prototype.FX=function(K){var E=this.yF(K,this.D7);return 0<=E.x&&E.x<=1&&0<=E.y&&E.y<=1};
iB.prototype.zb=function(K,E,x,c,J,i,P,_){this.a9z=i;this.Lb=c;var a=K.D.N,j;if(this.D7==null)c=$.DU.W1(K,c,E);
this.ce=c.clone();if(this.D7==null){if(_==null)_=0;var e=new iQ;e.rotate(_);var d=e.iR(new iP(1,1));
this.ce.offset(d.x,d.y);var I=J==null?1:1/J,v=this.D7=[0,0,1,0,1,I,0,I];e.translate(c.x,c.y);W.p.u(this.D7,e,this.D7);
j=8}else{j=this.t4(x,c,a,P);if(0<=j&&j<=8)this.ce=this.xK(this.D7)[j];if(j==9){this.wu=9;this.vw=c.clone()}}this.uH=this.D7.slice(0);
this.IA=j;this.d7(K,E);this.tK=this.EG();return j!=-1};iB.prototype.afl=function(K,E,x,c){return this.t4(K,E,x.D.N,c)};
iB.prototype.t4=function(K,E,x,c){var J=-1,i=this.xK(),P=[0,2,6,8,1,3,5,7],_=c?$.q_({D:{N:x}},c):8*$.V()/x,a=iP.B4(i[0],i[2]),j=iP.B4(i[0],i[6]),e=this.yF(E,this.D7);
e.x*=a;e.y*=j;var d=new cS(0,0,a,j);d.r1(_,_);if(J==-1)if(iP.B4(this.EG(),E)<_)J=9;if(J==-1)for(var y=0;
y<P.length;y++)if(iP.B4(i[P[y]],E)<_)J=P[y];if(J==-1&&d.YO(e)){if(Math.abs(e.y-0)<_)J=1;if(Math.abs(e.x-0)<_)J=3;
if(Math.abs(e.y-j)<_)J=7;if(Math.abs(e.x-a)<_)J=5}if(J==-1&&K&&K.l(j6.iE))J=9;if(J==-1||this.no==4){if(this.FX(E)){if(this.abg)J=10}else{d.r1(3*_,3*_);
J=d.YO(e)&&this.no!=3?11:10}}return J};iB.prototype.il=function(K,E,x,c,J){if(this.IA==-1)return;this.Lb=c;
var i=x.l(j6.iu),P=x.l(j6.iE),_=x.l(j6.Se),a=K.D.N,j=this.ce,e=this.IA,d=this.xK(),I=$.DU.W1(K,j,E),v=$.DU.W1(K,c,E),n,C;
if(e==9){var d=this.xK(),T=-1;for(var y=0;y<d.length;y++)if(iP.B4(d[y],v)*a<10)T=y;this.wu=T==-1?9:T;
this.vw=i?$.Mf.yz(I,v):v.clone()}else if(e==10){C=W.p.hp(this.uH);var o=C.x,s=C.y;C.offset(c.x-j.x,c.y-j.y);
if(this.alX()){C.x=Math.round(C.x);C.y=Math.round(C.y)}n=$.DU.bn(K,C,E);var Q=new iQ(1,0,0,1,C.x-o+n[0],C.y-s+n[1]);
W.p.u(this.uH,Q,this.D7)}else if(e==11){var X=this.EG(this.uH),B=X.aZ(c),M=X.aZ(j),S=Math.atan2(B.y,B.x),f=Math.atan2(M.y,M.x),Q=new iQ(1,0,0,1,-X.x,-X.y),F=Math.PI/12;
if(i)Q.rotate(Math.round((f-S)/F)*F);else Q.rotate(f-S);Q.translate(X.x,X.y);W.p.u(this.uH,Q,this.D7)}else{if(J&&!_)i=!i;
var G,D=this.uH,b=e==0||e==2||e==6||e==8;if(this.no==1){if(b)i=P=_=!0}else if(this.no==2&&b&&this.a9z!=!0)_=!0;
if(this.no==3)_=!1;if(this.av6&&b&&_){var y=[0,0,2,0,0,0,6,0,4,0][e],H=-1,q=v.x,O=v.y;if(i){var w=y+6&7,V=y+10&7,t=iB.aui(D[y],D[y+1],D[w],D[w+1],v.x,v.y),m=iB.aui(D[y],D[y+1],D[V],D[V+1],v.x,v.y),g=t[2]<m[2]?t:m;
q=g[0];O=g[1];if(P)H=t[2]<m[2]?w:V}else if(P)H=y+4&7;G=D.slice(0);if(H!=-1){var Y=D[H],A=D[H+1],k=(D[y]+Y)/2,z=(D[y+1]+A)/2;
G[H]=k-(q-k);G[H+1]=z-(O-z)}G[y]=q;G[y+1]=O}else if(b&&P){var X=this.tK,p=X.x,L=X.y,N=I.x-p,gC=I.y-L,r=1,h=1;
if(Math.abs(N)>=1)r=(v.x-p)/N;if(Math.abs(gC)>=1)h=(v.y-L)/gC;if(i||this.z6)r=h=(r+h)/2;var Q=new iQ;
Q.translate(-p,-L);Q.scale(r,h);Q.translate(p,L);G=D.slice(0);W.p.u(G,Q,G)}else{if(this.alX()){v.x=Math.round(v.x);
v.y=Math.round(v.y)}var l=[0,1,2,5,8,7,6,3],g5=l[(l.indexOf(e)+4)%8],fm=[];for(var y=0;y<3;y++)for(var H=0;
H<3;H++)fm.push(new iP(H/2,y/2));var X=this.tK,dC=this.yF(v,D),ex=this.yF(j,D),cR=P&&(this.wu==4||this.wu==9)?this.yF(X,D):fm[g5],d0=new iQ,hN=new iQ,r=(dC.x-cR.x)/(ex.x-cR.x);
if(r==0)r=1e-4;var h=(dC.y-cR.y)/(ex.y-cR.y);if(h==0)h=1e-4;if(this.aqU){r=Math.max(r,0);h=Math.max(h,0)}if(e==0||e==2||e==6||e==8){if(i||this.z6)d0.scale(r,r);
else d0.scale(r,h)}if(e==1||e==3||e==5||e==7){var ey=this.z6||i,cr=_&&i;if(e==1||e==7)d0.scale(ey?h:1,cr?1:h);
else d0.scale(cr?1:r,ey?r:1);if(this.a2h&&_){if(e==1||e==7)hN.o0=(dC.x-cR.x)/(dC.y-cR.y);else hN.k=(dC.y-cR.y)/(dC.x-cR.x)}}var Q=new iQ;
Q.translate(-cR.x,-cR.y);Q.concat(d0);Q.concat(hN);Q.translate(cR.x,cR.y);G=[0,0,1,0,1,1,0,1];W.p.u(G,Q,G);
var g=W.K.AS(D);W.K.u(g,G)}if(iB.YR(G))this.D7=G}this.d7(K,E);if(n)$.DU.lD(K,C,n)};iB.aui=function(K,E,x,c,J,i){var P=x-K,_=c-E,a=J-K,j=i-E,e=P*P+_*_,d=a*P+j*_,I=d/e,v=K+I*P,n=E+I*_,C=J-v,T=i-n;
return[v,n,Math.sqrt(C*C+T*T)]};iB.prototype.alX=function(){var K=this.D7;return Math.abs(K[1]-K[3])<1e-6&&Math.abs(K[2]-K[4])<1e-6||Math.abs(K[0]-K[2])<1e-6&&Math.abs(K[3]-K[5])<1e-6};
iB.YR=function(K){return W.p.pG(K)||W.p.pG([K[6],K[7],K[4],K[5],K[2],K[3],K[0],K[1]])};iB.prototype.N2=function(K,E,x,c){this.IA=-1;
this.Lb=null;K.I.sA=null;K.I.un=[];K.ZI=!0};iB.prototype._G=function(K,E,x){var c=x.lI(K?K.D.Zm:0);if(c.x||c.y){var J=new iQ(1,0,0,1,c.x,c.y);
W.p.u(this.D7,J,this.D7);this.d7(K,E);return!0}return!1};iB.prototype.xK=function(K){if(K==null)K=this.D7;
var E=K[6]-K[0],x=K[7]-K[1],c=K[4]-K[2],J=K[5]-K[3],i=[K[0],K[1],K[2],K[3],K[0]+E/2,K[1]+x/2,K[2]+c/2,K[3]+J/2,K[6],K[7],K[4],K[5]],P=[];
for(var y=0;y<3;y++){var _=y*4,a=i[_+0],j=i[_+1],e=i[_+2],d=i[_+3];P.push(new iP(a,j));P.push(new iP(a+(e-a)/2,j+(d-j)/2));
P.push(new iP(e,d))}return P};iB.prototype.d7=function(K,E,x){if(x==null)x=!1;var c=this.xK(),J=c[0],i=c[2],P=c[6],_=c[8];
K.I.Xv={W:[],C:[]};K.I.Xv.W.push("M","L","L","L","Z");K.I.Xv.C.push(J.x,J.y,i.x,i.y,_.x,_.y,P.x,P.y);
var a=this.a73;if(a>1){K.I.jK=JSON.parse(JSON.stringify(K.I.Xv));var j=i.aZ(J),e=P.aZ(J),d=_.aZ(i),I=_.aZ(P);
for(var y=1;y<a;y++){K.I.Xv.W.push("M","L","M","L");var v=y/a;K.I.Xv.C.push(J.x+j.x*v,J.y+j.y*v,P.x+I.x*v,P.y+I.y*v);
K.I.Xv.C.push(J.x+e.x*v,J.y+e.y*v,i.x+d.x*v,i.y+d.y*v)}}K.D.O8=new cS(0,0,iP.B4(c[0],c[2]),iP.B4(c[0],c[6]));
if(this.IA!=-1&&this.IA<9&&this.Lb){var n=K.D.An(this.Lb.x,this.Lb.y);$.dC.CE(n,K.D.O8,K,E)}if(!x){K.I.Lt=[];
for(var y=0;y<c.length;y++)if(y!=4)K.I.Lt.push(c[y].x,c[y].y);var C=this.EG();K.I.Lt.push(C.x,C.y)}K.ZI=!0};
iB.prototype.clear=function(K){K.D.O8=null;K.I.sA=null;K.I.Xv=null;K.I.jK=null;K.I.Lt=[];K.ZI=!0};function hs(K,E){this.HA=null;
this.IA=-1;this.azO(K)}hs.prototype.CN=function(){return JSON.parse(JSON.stringify(this.HA))};hs.prototype.azO=function(K){this.HA=JSON.parse(JSON.stringify(K))};
hs.prototype.FX=function(K){return!0};hs.prototype.DK=function(K,E,x,c){var J=this.t4(K,E,c);if(J==-1)return"default";
return"pointer"};hs.prototype.zb=function(K,E,x,c,J,i,P){this.IA=this.t4(c,K.D.N,P);return this.IA!=-1};
hs.prototype.t4=function(K,E,x){var c=this.axa(),J=-1,i=1e6;for(var y=0;y<c.length;y++){var P=iP.B4(c[y],K);
if(P<i){J=y;i=P}}return i<(x?$.q_({D:{N:E}},x)*2:20*$.V()/E)?J:-1};hs.prototype.il=function(K,E,x,c){if(this.IA==-1)return;
var J=K.D.N,i=this.IA,P=W.HA.q5(this.HA);P[i*2]=c.x;P[i*2+1]=c.y;W.HA.xh(P,this.HA)};hs.prototype.N2=function(K,E,x,c){this.IA=-1;
K.ZI=!0};hs.prototype._G=function(K,E,x){var c=x.lI();if(c.x||c.y){var J=new iQ(1,0,0,1,c.x,c.y);W.p.u(this.D7,J,this.D7);
this.d7(K)}};hs.prototype.axa=function(K){var E=W.HA.q5(this.HA),x=[];for(var y=0;y<E.length;y+=2)x.push(new iP(E[y],E[y+1]));
return x};hs.prototype.d7=function(K){var E=this.axa();K.I.Xv={W:[],C:[]};K.I.Xv.W.push("M","C","C","C","C");
var x=[0,1,2,3,7,11,15,14,13,12,8,4,0];for(var y=0;y<x.length;y++)K.I.Xv.C.push(E[x[y]].x,E[x[y]].y);
K.I.Xv.W.push("M","L","L","M","L","L","M","L","L","M","L","L");x=[4,0,1,2,3,7,11,15,14,13,12,8];for(var y=0;
y<x.length;y++)K.I.Xv.C.push(E[x[y]].x,E[x[y]].y);K.I.Lt=[];for(var y=0;y<E.length;y++)K.I.Lt.push(E[y].x,E[y].y);
K.ZI=!0};hs.prototype.clear=function(K){K.I.Xv=null;K.I.Lt=[];K.ZI=!0};function eA(){this.IR=!1;this.SL=!1;
this.a71=!1;this.ajH=!1;this.C1=!1;this.e7=!1;this.CM=0;this.A4=0}eA.prototype.zb=function(K){this.IR=!0;
this.SL=!1;this.C1=K.l(j6.iu);this.e7=K.l(j6.iE);this.CM=this.C1?0:1;this.A4=this.e7?0:1};eA.prototype._G=function(K){var E=this.ajH=K.l(j6.iu),x=this.a71=K.l(j6.iE);
if(this.SL){if(this.CM==0&&!E)this.CM++;if(this.CM==1&&E)this.CM++;if(this.A4==0&&!x)this.A4++;if(this.A4==1&&x)this.A4++}};
eA.prototype.il=function(){this.SL=!0};eA.prototype.N2=function(){this.IR=!1};eA.prototype.a9=function(y){if(y==0)return this.IR?this.e7:this.a71;
if(y==1)return this.SL?this.A4==2:!1};eA.prototype.Yi=function(y){if(y==0)return this.IR?this.C1:this.ajH;
if(y==1)return this.SL?this.CM==2:!1};$.History=function(){$.dC.call(this,"History",$.Ww);this.Gn=!0;
this.aeR=0};$.History.prototype=new $.dC;$.History.prototype.Qp=function(K,E,x,c){x.Bi=!0;if(K._=="h_itemchange"){if(K.index<x.qh)for(var y=x.qh;
y>K.index;y--)this.Bf(x);if(K.index>x.qh)for(var y=x.qh;y<K.index;y++)this.eU(x)}if(K._=="h_stepfwd")this.eU(x);
if(K._=="h_stepbck")this.Bf(x);if(K._=="h_undoredo"){var J=this.Gn||this.aeR!=x.qh;if(J){this.Bf(x);
J=!1}else{this.eU(x);J=!0}this.Gn=J;this.aeR=x.qh}if(K._=="h_clear"){if(!window.confirm("Do you really want to clear all states in History? You won't be able to undo it."))return;
x.history=[new im([1,0],null)];x.qh=0}else this.Gn=!0};$.History.prototype.Bf=function(K){if(K.qh==0)return;
var E=K.history[K.qh];E.G.Bn(E.data,K);K.qh--};$.History.prototype.eU=function(K){if(K.qh==K.history.length-1)return;
var E=K.history[K.qh+1];E.G.RO(E.data,K);K.qh++};$.rn=function(){$.dC.call(this,"Layers",$.Os);this.H3=null};
$.rn.prototype=new $.dC;$.rn.prototype.Qp=function(K,E,x,c,J){this.H3=E;var i=K._,P=K.j!=null?K.j:x.g.length!=0?x.g[0]:x.B.length-1,_=x.B[P];
x.Xw=!0;var a=c.l(j6.iE),j=c.l(j6.iu),e=c.l(j6.Se);if(i==Z.FK&&x.P==null&&(x.g.length>1||!x.IC(!1)))i=Z.On;
if(i==Z.vq){var d=new im([6,33],this),I=_.wC()?["pass"].concat(db.bV):db.bV,v=I[K.iz],n=K.j!=null?[K.j]:x.g,C=JSON.stringify(n),T=[];
for(var y=0;y<n.length;y++)T.push(x.B[n[y]].Vk);d.data={_:i,sx:C,r7:T,iz:v};x.i1(d);this.RO(d.data,x);
this.track(b$.Jo("Md",{t:"enum",v:{BlnM:db.zJ(v)}}))}if(i==Z.O4){var d,o=x.$z(),n=K.j!=null?[K.j]:x.g,C=JSON.stringify(n);
if(o&&o.data&&o.data._==i&&o.data.sx==C)d=o;else{var s=b$.Jo("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(s);var T=[];for(var y=0;y<n.length;y++)T.push(x.B[n[y]].opacity);d=new im([6,32],this);d.data={_:i,sx:C,r7:T,iz:K.iz,Ch:s.Ks};
x.i1(d)}d.data.iz=K.iz;d.data.Ch.T.v.Opct.v.val=Math.round(K.iz*100/255);this.RO(d.data,x)}if(i==Z.XR){if(_.add.iOpa==null)_.add.iOpa=255;
var d,o=x.$z();if(o&&o.data&&o.data._==i&&o.data.j==P)d=o;else{d=new im("Fill Opacity Change",this);
d.data={_:i,j:P,r7:_.add.iOpa,iz:K.iz};x.i1(d)}d.data.iz=K.iz;this.RO(d.data,x)}if(i==Z.Io){var Q=K.iz,X=K.j!=null?[K.j]:x.g.slice(0),B=[],M=[],d;
for(var S=0;S<X.length;S++){var f=x.B[X[S]];if(f.add.lspf==null)f.add.lspf=0;var T=f.add.lspf,v=T;for(var y=0;
y<Q[0].length;y++){var F=Q[1][y],G=1<<F;if((v&G)==0&&Q[0][y])v^=G;else if((v&G)!=0&&!Q[0][y])v^=G}B.push(T);
M.push(v)}var o=x.$z(),n=JSON.stringify(X);if(o&&o.data&&o.data._==i&&JSON.stringify(o.data.sx)==n){d=o;
d.data.iz=M}else{var d=new im([6,57,1],this);d.data={_:i,sx:n,r7:B,iz:M};x.i1(d)}this.RO(d.data,x)}if(i==Z._O){var D="----",b=K.Tf,v=null;
for(var y=0;y<g9.Hm.It.length;y++)if(_.add[g9.Hm.It[y]])D=g9.Hm.It[y];var H=_.add[D];if(b=="TySh")v=ev.l4(50,50,J.H5);
var d=new im("Layer Type",this);d.data={_:i,j:P,a3o:[D,H],Tf:[b,v]};x.i1(d);this.RO(d.data,x)}if(i==Z.gn){var X=[];
if(a){var q=x.$z(),O=q?q.data:null;if(q!=null&&q.G==this&&O._==Z.gn&&O.sx.length!=1){var w=new i3(u.E.v);
w.G=$.Ww;w.data={_:"h_stepbck"};E.S(w);if(O.j==P)return}var V=x.root.R7(P),t=V,m=[K.j];while(t.parent!=x.root){m.push(t.parent.index);
t=t.parent}for(var y=0;y<x.B.length;y++){var g=x.B[y],t=x.root.R7(y),Y=m.indexOf(y)!=-1?!0:g.bL()&&V.depth<t.depth;
if(Y!=g.bL())X.push(y)}}else if(K.sx)X=K.sx;else{X.push(P);var A=x.B[P].bL(),s={va:A?"hide":"show",Ks:{classID:A?"Hd":"Shw",null:{t:"VlLs",v:[b$.oe("Lyr",!0)]}}};
this.track(s)}var d=new im("Layer visibility",this,!0);d.data={_:i,sx:X,j:P};x.i1(d);this.RO(d.data,x)}if(i==Z.ge){if(J.OI==$.Kg){var k=new i3(u.E.L);
k.data={_:u.c.iM,G:$.x3};E.S(k)}var z=K.ama,p=K.FV,gC,escape=!1,r=!1;if(K.Vz){if(e&&(p==0||p==1||p==2)){var L=0;
if(j)L++;if(a)L+=2;var N=new i3(u.E.v,!0);N.G=$.LR;N.data={_:"fromlayer",WX:[K.j,p,L]};E.S(N);return}}var s={va:"select",Ks:{classID:"null",MkVs:{t:"bool",v:!1}}};
x.azN();if(c.l(j6.Se)||K.RU==0){var h=x.g.indexOf(P);if(h==-1)x.g.push(P);else if(x.g.length>1){if(K.RU!=0)x.g.splice(h,1)}x.g.sort(function(d,cc){return d-cc});
s.Ks.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};gC=P}else if(j&&!a&&p>0){i=p==1?Z.Or:p==2?Z.d5:Z.NU;
escape=!0}else if((j||K.RU==1)&&x.g.length>0){var l=Math.min(P,x.g[0]),g5=Math.max(P,x.g[x.g.length-1]);
x.g=[];for(var y=l;y<=g5;y++)if(x.B[y].add.lsct!=fV.Xx)x.g.push(y);s.Ks.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
gC=P}else{gC=P;if(P>=x.B.length)return;var g=x.B[P];if(g&&g.wC()&&K.a3T)g.add.lsct=fV.Bm;else if(x.g.length==1&&x.g[0]==P&&Math.max(0,p)==g.kS){r=!0;
x.Xw=!1}if(!r){x.g=[P];x.JT()}}if(!r){if(gC!=null&&gC<x.B.length){s.Ks.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:x.B[gC].getName()}}]},this.track(s)}if(!escape){console.log("no escape");
if(x.g.length==1){var fm=x.g[0];for(var y=0;y<x.B.length;y++){if(y==fm)continue;var f=x.B[y];f.kS=0;
f.gl=!1}var _=x.B[fm];if(p==2){_.gl=!_.gl;x.Jq=[]}else if(_){_.kS=p<=0?0:p}}else for(var y=0;y<x.B.length;
y++){var f=x.B[y];f.kS=0;f.gl=!1}x.FU=null;x.Bi=!0}}if(K.Vz&&a){if((p==1||p==3)&&z!=null){var N=new i3(u.E.v,!0);
N.G=$.lJ;N.data={_:"mskView",Z:z!=0?0:j?1:2};E.S(N)}else{this.Qp({_:Z.u_,j:K.j},E,x,c,J)}}}if(i==Z.Or||i==Z.NU){var dC=i==Z.Or,ex=dC?_.FA():_.Xe(x).z;
if(ex==null)return;var d=new im(ex.isEnabled?dC?[6,15]:[6,42]:dC?[6,14]:[6,41],this);d.data={_:i,j:P};
x.i1(d);this.RO(d.data,x)}if(i==Z.d5){var ex=_.add.vmsk;if(ex==null)return;var d=new im(ex.isEnabled?[6,17]:[6,16],this);
d.data={_:i,j:P};x.i1(d);this.RO(d.data,x)}if(i==Z.alq){var cR=_.add.lsct==fV.Bm?fV.wg:fV.Bm,t=x.root.R7(x.B.indexOf(_)),ey=!1;
if(c.l(j6.Se)){var d0=t.parent;for(var y=0;y<d0.children.length;y++){var hN=d0.children[y].j;if(hN.wC())hN.add.lsct=cR}}else _.add.lsct=cR;
for(var y=0;y<x.g.length;y++){var cr=x.g[y];if(t.ET<cr&&cr<t.index)ey=!0}if(ey)x.g=[t.index];x.Bi=!0}if(i==Z.u_){if(!x.yd(P))return;
var d=new im(_.Z2?[6,19]:[6,18],this);d.data={_:i,j:P};x.i1(d);if(K.iz==null||K.iz!=_.Z2)this.RO(d.data,x)}if(i==Z.a7U){if(_.Gw())_.LD-=32;
else _.LD+=32;x.Bi=!0}if(i==Z.GA||i==Z.I8){var d;if(i==Z.GA)d=new im(_.add.lmfx.masterFXSwitch.v?[6,30,0]:[6,29],this);
if(i==Z.I8)d=new im(_.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);d.data={_:i,j:P};x.i1(d);this.RO(d.data,x)}if(i==Z.Xk||i==Z.x2){var fm=K.index,d;
if(i==Z.Xk)d=new im(_.add.lmfx[dz.E9[fm[0]]].v[fm[1]].v.enab.v?[6,30,0]:[6,29],this);if(i==Z.x2)d=new im(_.add.SoLd.filterFX.v.filterFXList.v[fm].v.enab.v?[6,44]:[6,43],this);
d.data={_:i,j:P,index:K.index};x.i1(d);this.RO(d.data,x)}if(i==Z.pO){if(K.src==K.wy)return;var ik=x.B[K.src],hd=x.B[K.wy],df=ik.add.lmfx?JSON.stringify(ik.add.lmfx):"",bQ=hd.add.lmfx?JSON.stringify(hd.add.lmfx):"";
if(hd.add.lmfx==null){hd.add.lmfx=JSON.parse(dz.default);for(var y=0;y<dz.order.length;y++)hd.add.lmfx[dz.E9[y]]={t:"VlLs",v:[]}}if(K.sd==null){hd.add.lmfx=JSON.parse(df);
if(!a)delete ik.add.lmfx}else{var is=K.sd[0],bi=dz.E9[is];if(dz.ai0.indexOf(dz.order[is])==-1)hd.add.lmfx[bi].v=[];
hd.add.lmfx[bi].v.push(ik.add.lmfx[bi].v[K.sd[1]]);if(!a)ik.add.lmfx[bi].v.splice(K.sd[1],1)}var jX=ik.add.lmfx?JSON.stringify(ik.add.lmfx):"",eS=hd.add.lmfx?JSON.stringify(hd.add.lmfx):"";
if(!hd.Gw())hd.LD+=32;var d=new im("Move Layer Styles",this);d.data={_:i,VC:K.src,NV:K.wy,aeq:df,ayL:bQ,adh:jX,a1E:eS};
x.i1(d);this.RO(d.data,x)}if(i==Z.iW){if(K.src!=null)P=K.src;var f=x.B[P],bN=JSON.stringify(f.add.SoLd),h9=JSON.parse(bN),bz=h9.filterFX.v.filterFXList.v;
bz.splice(K.sd,1);var d=new im([6,53],this);d.data={_:Z.Cp,oO:[{OV:P,Fd:[bN,JSON.stringify(h9)]}]};x.i1(d);
this.RO(d.data,x)}if(i==Z.acs){var i0=a,ik=x.B[K.src],hd=x.B[K.wy],hp=[];if(ik!=hd&&hd.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(ik==hd&&!i0&&K.sd==K.E_)return;if(ik==hd&&K.sd==-1)return;var hY=ik.Xe(x),bN=JSON.stringify(ik.add.SoLd),h9=JSON.parse(bN),bz=h9.filterFX.v.filterFXList.v;
if(ik==hd){bz.splice(K.E_,0,bz[K.sd]);if(!i0)bz.splice(K.sd+(K.sd<K.E_?0:1),1);hp.push({OV:K.src,Fd:[bN,JSON.stringify(h9)]})}else if(K.sd==-1){var ji=h9.filterFX;
if(!i0){delete h9.filterFX;hp.push({OV:K.src,Fd:[bN,JSON.stringify(h9)],mi:[hY,null]})}var aM=hd.St()?hd.Xe(x):null,a1=gD.atv(hY),fi=JSON.stringify(hd.add.SoLd),jJ=JSON.parse(fi);
jJ.placed.v=a1.id;jJ.filterFX=ji;hp.push({OV:K.wy,Fd:[fi,JSON.stringify(jJ)],mi:[aM,a1]})}else{var gg=bz[K.sd];
if(!i0){bz.splice(K.sd,1);hp.push({OV:K.src,Fd:[bN,JSON.stringify(h9)]})}var fi=JSON.stringify(hd.add.SoLd),jJ=JSON.parse(fi);
if(jJ.filterFX==null)jJ.filterFX=dJ.RW();var iN=jJ.filterFX.v.filterFXList.v;iN.splice(K.E_,0,gg);var ad={OV:K.wy,Fd:[fi,JSON.stringify(jJ)]};
if(!hd.St()){var a1=gD.amY(hd.add.SoLd.placed.v);ad.mi=[null,a1]}hp.push(ad)}var d=new im([6,52],this);
d.data={_:Z.Cp,oO:hp};x.i1(d);this.RO(d.data,x)}if(i==Z.JR){var ex=_.FA(),d=new im(ex.B0?[6,26]:[6,25],this);
d.data={_:i,j:P};x.i1(d);this.RO(d.data,x);this.track({va:"set",Ks:{classID:"setd",null:{t:"obj ",v:[b$.oe("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:ex.B0}}}}})}if(i==Z.uo){var ex=_.add.vmsk,d=new im(ex.B0?[6,28]:[6,27],this);
d.data={_:i,j:P};x.i1(d);this.RO(d.data,x)}if(i==Z._h){var d=new im("Variables / Datasets",this),h6=JSON.stringify([x.ej,x.$o]);
if(h6==K.Z)return;d.data={_:i,a0x:h6,ans:K.Z};x.i1(d);this.RO(d.data,x)}if(i==Z.yC){var iY=[],d;for(var y=0;
y<x.g.length;y++){var S=x.g[y],g=x.B[S];if(g.add.vogk)iY.push(S,JSON.stringify(g.add.vogk))}for(var y=0;
y<x.Jq.length;y++){var S=x.Jq[y],g=x.Qg[S];if(g.add.vogk)iY.push(-1-S,JSON.stringify(g.add.vogk))}W.X.an9(x,K.Z,K.a6B);
var kh=[];for(var y=0;y<x.g.length;y++){var S=x.g[y],g=x.B[S];if(g.add.vogk)kh.push(S,JSON.stringify(g.add.vogk))}for(var y=0;
y<x.Jq.length;y++){var S=x.Jq[y],g=x.Qg[S];if(g.add.vogk)kh.push(-1-S,JSON.stringify(g.add.vogk))}var o=x.$z();
if(o&&o.data&&o.data._==i){var gN=!0;for(var y=0;y<iY.length;y+=2)if(iY[y]!=o.data.$v[y])gN=!1;if(gN){d=o;
d.data.QN=kh}}if(d==null){var d=new im([12,91,1],this);d.data={_:i,$v:iY,QN:kh};x.i1(d)}this.RO(d.data,x)}if(i==Z.Er){var aT=JSON.stringify(_.add.artb),iv=JSON.stringify(K.fd),d;
x.B[P].add.artb=JSON.parse(iv);var fs=new cS(0,0,x.b,x.n),gm=$.$a.mH(x),o=x.$z();if(o&&o.data&&o.data._==i&&o.data.j==P){d=o;
d.data.fd=iv}if(d==null){var d=new im("Editing Artboard",this);d.data={_:i,j:P,ajy:aT,fd:iv,Fl:fs};x.i1(d)}d.data.vY=gm;
this.RO(d.data,x)}if(i==Z.wE){var kh=x.Un.slice(0),g8=x.N9.slice(0),b_=x.P,ko=x.P;if(K.S8=="fromAction"){var gk=K.Z.va,bx=K.Z.Ks;
if(gk=="make"||gk=="duplicate"){var ai=kh.length,aa=!1,iS=!1;if(x.nZ())ai--;var hf=new Z.vW;hf.name="Alpha "+(ai+1);
if(gk=="make"){var hl=bx.Nw.v;hf.color=0;g8=[ai];hf.U1=!0;hf.g8=hl.Opct.v;if(hl.Nm)hf.name=hl.Nm.v;if(hl.classID=="SCch"){aa=!0;
ko=null;hf.cl=1}}else{var jR=bx.null.v[0].v;if(jR.keyID=="fsel")aa=!0;else{var jC=$.cx.aax(x);ko=$.cx.agw(x,jC);
hf.color=0;hf.rect=ko.rect;hf.channel=ko.channel}}if(aa){hf.color=0;if(x.P){hf.rect=x.P.rect.clone();
hf.channel=x.P.channel.slice(0)}if(iS){hf.color=255-hf.color;W.Pa(hf.channel)}}for(var y=0;y<x.Un.length;
y++)x.Un[y].U1=!1;x.D.NW=[0,0,0];kh.splice(ai,0,hf)}else if(gk=="delete"){if(_&&_.FA()&&_.kS==1){this.Qp({_:Z.Ni},E,x,c,J);
return}var h8=x.N9;h8.sort(function(d,cc){return cc-d});if(h8.length==0)return;for(var y=0;y<h8.length;
y++)kh.splice(h8[y],1);g8=[];x.D.NW=[1,1,1]}else if(gk=="hide"){kh[g8[0]]=kh[g8[0]].clone();kh[g8[0]].U1=!1}}if(K.S8=="rnm"){kh[K.JD]=kh[K.JD].clone();
kh[K.JD].name=K.name}var d=new im("Channel Edit",this);d.data={_:i,$v:x.Un.slice(0),SY:x.N9.slice(0),QN:kh,Dh:g8,RK:b_,sR:ko};
this.RO(d.data,x);x.i1(d)}if(i==Z.YG){var cW=new cS(0,0,x.b,x.n),d=new im(K.vZ,this);d.data={_:Z.YG,CO:x.B.slice(0),Y1:K.Y1,cE:x.g.slice(0),h2:K.sR};
x.i1(d);this.RO(d.data,x);var kn=$.$a.oR(x);if(kn){d.data.Fl=cW;d.data.vY=kn}}if(i==Z.vp){var fQ=x.zD(null,K.j),jq=1e10;
if(fQ.length==0)return;if(x.B.length==fQ.length){alert("Project must have at least 1 layer");return}var i7=[];
for(var y=0;y<x.B.length;y++)if(fQ.indexOf(y)==-1)i7.push(x.B[y]);for(var y=0;y<fQ.length;y++)jq=Math.min(jq,fQ[y]);
jq=Math.max(jq-1,0);while(i7[jq].name=="</Layer group>")jq++;this.track({va:"delete",Ks:{classID:"Dlt",null:b$.oe("Lyr",!0)}});
var fs=new cS(0,0,x.b,x.n),d=new im([6,31],this);d.data={_:Z.YG,CO:x.B.slice(0),Y1:i7,cE:x.g.slice(0),h2:[jq]};
x.i1(d);this.RO(d.data,x);var gm=$.$a.mH(x);if(gm){d.data.vY=gm;d.data.Fl=fs;$.$a.oR(x)}}if(i==Z.JS){if(!c.l(j6.iu))return;
var d=new im("Switch Layer Link",this);d.data={_:i,j:K.j};x.i1(d);this.RO(d.data,x)}if(i==Z.Yo){var h8=K.a0l?K.a0l:x.g,iJ=0,c4=!1;
if(h8.length==0)return;if(h8.length==1&&x.B[h8[0]].DP==0){alert(hg.get([15,7,5]));return}var dR=[];for(var y=0;
y<x.B.length;y++){var cH=x.B[y].DP;dR.push(cH);iJ=Math.max(iJ,cH)}var cx=-1,gp=-1;for(var y=0;y<h8.length;
y++){var cH=x.B[h8[y]].DP;if(cH==0)c4=!0;else if(cx==-1||cx==cH)cx=cH;else gp=cH}if(!c4)for(var y=0;
y<h8.length;y++)x.B[h8[y]].DP=0;else if(cx!=-1&&gp==-1)for(var y=0;y<h8.length;y++)x.B[h8[y]].DP=cx;
else for(var y=0;y<h8.length;y++)x.B[h8[y]].DP=iJ+1;var gb=[];for(var y=0;y<x.B.length;y++){var cH=x.B[y].DP;
if(gb[cH]==null)gb[cH]=0;gb[cH]++}for(var y=0;y<x.B.length;y++){var cH=x.B[y].DP;if(gb[cH]==1)x.B[y].DP=0}var bg=dR;
dR=[];for(var y=0;y<x.B.length;y++){var cH=x.B[y].DP;dR.push(cH);iJ=Math.max(iJ,cH)}var d=new im(c4?[6,54,0]:[6,54,1],this);
d.data={_:Z.Yo,a9Y:bg,arb:dR};x.i1(d);this.RO(d.data,x)}if(i==Z.On&&(K.j!=null||x.g.length!=0)||i==Z.LF){var cu=x.JV(i==Z.On?K.j:P,null,K.ad_),jP;
if(i==Z.LF){var f=cu[0],gk=f.add.SoLd.Idnt.v,k4=x.VV(gk).clone();f.add.SoLd.Idnt.v=k4.Vn=gD.g4()+gk.slice(8);
x.add.lnk2.push(k4)}if(i==Z.On){var kg={va:"duplicate",Ks:{classID:"null",null:b$.oe("Lyr",!0)}};if(K.e2){cu[cu.length-1].yH(K.e2);
kg.Nm={t:"TEXT",v:K.e2}}this.track(kg);K.apP=K.j}i=Z.EE;K.B=cu;K.Tr=x;K.t1=x}if(i==Z.EE){var ek,i_,gX=K.Tr,eE=K.t1,bu=0,ig=0,ch=!1,h3,fk=0,a9=0;
if(gX!=eE){console.log("ADDLAYERS different projs");var ek=new cS(0,0,gX.b,gX.n),i_=new cS(0,0,eE.b,eE.n),dP=[],ie=[];
for(var y=0;y<K.B.length;y++){var f=K.B[y];if(f.add.SoLd==null)continue;var gk=f.add.SoLd.Idnt.v;if(dP.indexOf(gk)==-1){dP.push(gk);
ie.push(gD.g4()+gk.slice(8))}f.add.SoLd.Idnt.v=ie[dP.indexOf(gk)];var hY=f.Xe(gX);if(hY){gX.q3(hY);eE.ey(hY)}}if(dP.length>0){if(eE.add.lnk2==null)eE.add.lnk2=[];
for(var y=0;y<dP.length;y++){var d7=gX.VV(dP[y]),k4=d7.clone();k4.Vn=ie[y];eE.add.lnk2.push(k4)}}}var b_=eE.g.slice(0);
b_.sort(function(d,cc){return d-cc});var i7=eE.B.slice(0),ko=[],bT=-1;for(var y=0;y<b_.length;y++)bT=Math.max(bT,b_[y]);
if(K.apP!=null)bT=K.apP;var jz=gX.Uq();if(K.uI){bT=K.uI-1;var gO=eE.B[K.uI].IZ();bu+=gO.x;ig+=gO.y}if(jz!=-1&&(gX!=eE||K.uI)){var gK=gX.B[jz].IZ();
bu-=gK.x;ig-=gK.y}var hS=eE.pY();for(var y=0;y<hS[0].length;y++){var iG=hS[1][y];if(iG!=-1)hS[1][y]=i7[iG]}bT++;
for(var y=0;y<K.B.length;y++){var g=K.B[y],hi=g.add.artb;i7.splice(bT,0,g);ko.push(bT);bT++;if(hi){h3=!0;
var gU=hi.guideIndeces;if(gU){gU=gU.v;for(var aD=0;aD<gU.length;aD++){hS[0].push(gX.J$[gU[aD].v].slice(0));
hS[1].push(g);ch=!0}}}}for(var y=0;y<hS[0].length;y++){var iG=hS[1][y];if(iG!=-1)hS[1][y]=i7.indexOf(iG)}for(var y=0;
y<K.B.length;y++){var g=K.B[y];if(g.add.lsct==fV.Xx){if(fk==0)a9++;fk++}else if(g.wC())fk--}if(a9==1)ko=[bT-1];
var d=new im([6,0],this);d.data={_:Z.YG,CO:eE.B.slice(0),Y1:i7,cE:b_,h2:ko};if(ch){d.data.Qr=[eE.pY(),hS]}eE.i1(d);
this.RO(d.data,eE);if(bu!=0||ig!=0)$.DU.jB(eE,eE.zD(),null,bu,ig);if(h3){d.data.Fl=new cS(0,0,eE.b,eE.n);
d.data.vY=$.$a.mH(eE);$.$a.oR(eE)}}if(i==Z.a4n){var ab=K.j!=null?[K.j]:x.zD(),i7=x.B.slice(0);for(var y=0;
y<ab.length;y++){var g=x.B[ab[y]].clone();g.IF(x);i7.splice(ab[y],1,g)}var d=new im([6,8],this);d.data={_:Z.YG,CO:x.B.slice(0),Y1:i7,cE:x.g.slice(0),h2:x.g.slice(0)};
x.i1(d);this.RO(d.data,x)}if(i==Z.au8){var i7=x.B.slice(0),g=i7[x.g[0]]=i7[x.g[0]].clone(),cv=g.add.lmfx,ds,gO;
delete g.add.lmfx;var fU=x.g[0],fS=fU+1;if(g.wC()){var fA=x.B[x.g[0]].vJ;gO=fA.abI;ds=fA.U7;var t=x.root.R7(fU);
fU=t.ET}else{gO=g.rect;ds=W.Q(gO.O());W.Bp(g.buffer,ds,3)}var dS=bd.dm(cv,g.add.fxrp,ds,gO,x,gO).type;
for(var y=0;y<dz.order.length;y++){var a$=dz.order[y],bw=dS[a$];bw.reverse();for(var aD=0;aD<bw.length;
aD++){var hV=bw[aD],n=x.EY(),bG=y>7;if(a$=="ebbl"){if(hV.Fs||hV.tw){var it=hV.Fs?hV.Fs:hV.tw;if(hV.Fs)delete hV.Fs;
else delete hV.tw;if(hV.tw||hV.JZ)aD--}else if(hV.JZ||hV.AO){var it=hV.AO?hV.AO:hV.JZ;if(hV.AO){delete hV.AO;
if(hV.JZ)aD--}bG=!0}hV=it}n.Vk=hV.i0;n.opacity=Math.round(255*hV.Uv);n.buffer=hV.Ly;n.rect=hV.ha.clone();
n.rect.offset(gO.x,gO.y);if(a$=="FrFX"){n.buffer=n.buffer.slice(0);W.Mz(hV.mU?hV.mU:hV.fB,n.buffer,3);
if(hV.mU){bG=!0;delete hV.mU;if(hV.fB)aD--}}n.Z2=!bG;n.yH(g.getName()+"'s "+hg.get(dz.names[y]));i7.splice(bG?fU:fS,0,n);
if(bG)fS++}}var d=new im("Styles to Layers",this);d.data={_:Z.YG,CO:x.B.slice(0),Y1:i7,cE:x.g.slice(0),h2:[fS-1]};
x.i1(d);this.RO(d.data,x)}if(i==Z.E$){var ab=x.zD(),i7=x.B.slice(0),dF=new cS(0,0,x.b,x.n);for(var y=0;
y<ab.length;y++){var ba=x.B[ab[y]],b4=ba.bL();ba.g7(!0);var dr=x.root.R7(ab[y]);if(ba.wC())continue;
if(dr==null)continue;var g=ba.clone();g.IF(x);var hk=dr.ZS(x,!0),ho=x.B;x.yu([ba]);x.U();x.DJ();g.buffer=W.Q(hk.O()*4);
W.UL(x.S7(),dF,g.buffer,hk);g.rect=hk;g.opacity=255;g.add.iOpa=255;g.Vk="norm";g.U();g.vJ.al=!0;x.yu(ho);
if(g.add.lmfx)delete g.add.lmfx;g.z=g.Sc=null;i7.splice(ab[y],1,g);g.g7(b4);ba.g7(b4)}var d=new im([6,34],this);
d.data={_:Z.YG,CO:x.B.slice(0),Y1:i7,cE:x.g.slice(0),h2:x.g.slice(0)};x.i1(d);this.RO(d.data,x)}if(i==Z.atZ){var ab=x.zD(),i7=x.B.slice(0);
for(var y=0;y<ab.length;y++){var g=x.B[ab[y]],gT=g.add.TySh;if(gT==null)continue;var f=new dQ(gT.kd,J.ir),ec=W.p.y4(cl.Ol(f,gT));
for(var dM in ec){var ia=ec[dM],hN=g.clone();delete hN.add.TySh;hN.LD=hN.LD|1<<4;hN.add.SoCo=JSON.parse(JSON.stringify(dz.gk[0]));
var cs=hN.add.SoCo.Clr.v;cs.Rd.v=parseInt(dM.slice(1,3),16);cs.Grn.v=parseInt(dM.slice(3,5),16);cs.Bl.v=parseInt(dM.slice(5,7),16);
var al=new Z.Wf;al.i=W.p.uR(ia,!1);if(hN.add.vmsk!=null){hN.add.vmsk.avz();al.concat(hN.add.vmsk)}hN.add.vmsk=al;
hN.add.vstk=JSON.parse(JSON.stringify(dz.Ae.default));hN.yt();hN.DY(x);i7.splice(i7.indexOf(g),0,hN)}i7.splice(i7.indexOf(g),1)}var ko=x.g.slice(0);
for(var y=ko.length-1;y>=0;y--)if(ko[y]>=i7.length)ko.splice(y,1);var d=new im([6,40],this);d.data={_:Z.YG,CO:x.B.slice(0),Y1:i7,cE:x.g.slice(0),h2:ko};
x.i1(d);this.RO(d.data,x)}if(i==Z.YZ){var g$=x.g.length,jg,h5;if(g$<2){alert("Select two or more layers.");
return}for(var y=0;y<g$;y++){var gK=x.B[x.g[y]].rect;jg=y==0?gK:jg.Sl(gK);h5=y==0?gK:h5.XN(gK)}if(jg.O()*1.2>h5.O()){alert("stacking images");
var b1=[],eN=[];for(var y=0;y<g$;y++){var g=x.B[x.g[y]];b1.push(g.buffer);eN.push(g.rect)}var g4=W.a7a.MK(b1,eN),aE=g4[0],b5=g4[1],gR=[];
for(var y=0;y<g$;y++){var ex=new Z.vW;ex.color=255;ex.rect=b5;ex.channel=aE[y];gR.push(x.g[y],null,ex)}var d=new im("Focus-Stack",this);
d.data={_:Z.eK,FH:gR};x.i1(d);this.RO(d.data,x);return}if(!x._A())return;var hN=x.B[x.g[0]].clone(),i7=[];
for(var y=0;y<x.B.length;y++)if(x.g.indexOf(y)==-1)i7.push(x.B[y]);i7.splice(x.g[0],0,hN);for(var y=1;
y<g$;y++)if(x.B[x.g[y]].rect.O()>2e6){alert("Blended areas are too large.");return}for(var y=1;y<g$;
y++){var g=x.B[x.g[y]],b5=g.rect.clone();b5.r1(1,1);var cc=W.Q(b5.O()*4);W.UL(g.buffer,g.rect,cc,b5);
hN.extend(b5);var go=W.Q(b5.O()*4);W.UL(hN.buffer,hN.rect,go,b5);var d=W.Q(b5.O());W.Bp(cc,d,3);W.round(d,200);
W.Mz(d,cc,3);W.h.Nh("norm",cc,b5,go,b5,b5,1);W.eT.je(go,d,b5);W.UL(go,b5,hN.buffer,hN.rect)}var d=new im([2,10,0],this);
d.data={_:Z.YG,CO:x.B.slice(0),Y1:i7,cE:x.g.slice(0),h2:[x.g[0]]};x.i1(d);this.RO(d.data,x)}if(i==Z.Bd){var i7=x.B.slice(0),g8=x.g.slice(0);
for(var y=0;y<i7.length;y++){var g=i7[y],ae=g.add.vmsk;if(g.Au()&&ae&&g.add.vstk.strokeEnabled.v&&!g.add.vstk.fillEnabled.v){var j3=ae.i,ks=0,hD=-1;
for(var aD=0;aD<j3.length;aD++){if((j3[aD].type==0||j3[aD].type==3)&&j3[aD].qX!=-1){ks++;if(j3[aD].type==3&&hD==-1){j3[aD].Im=j3[aD].qX=1;
hD=aD}}}if(ks>1&&hD!=-1&&ks<10){console.log("separating an open path into a new layer");g=g.clone();
ae=g.add.vmsk;j3=ae.i;var n=j3[hD].length,jj=g.clone();jj.add.lyid=x.Xc();ae.i=j3.slice(0,2).concat(j3.slice(hD,hD+n+1));
ae.g=[];g.DY(x);g.U();var ep=jj.add.vmsk.i;jj.add.vmsk.i=ep.slice(0,hD).concat(ep.slice(hD+n+1,ep.length));
jj.add.vmsk.g=[];jj.DY(x);i7[y]=g;i7.splice(y+1,0,jj);for(var aD=0;aD<g8.length;aD++)if(g8[aD]>y)g8[aD]++;
var kj=g8.indexOf(y);if(kj!=-1){g8.splice(kj+1,0,y+1)}}}}if(i7.length!=x.B.length){var d=new im("Splitting open paths",this);
d.data={_:Z.YG,CO:x.B.slice(0),Y1:i7,cE:x.g.slice(0),h2:g8};x.i1(d);this.RO(d.data,x)}}if(i==Z.U4){this.Qp({_:Z.Bd},E,x,c,J);
var b_=x.g.slice(0),ho=x.B.slice(0),ab=x.zD();if(ab.length==0)return;x.ak3(ab,!1,K.fC);var d=new im([6,36,0],this);
d.data={_:Z.YG,CO:ho,Y1:x.B.slice(),cE:b_,h2:x.g.slice(0)};x.i1(d);this.RO(d.data,x)}if(i==Z.amy){var bN=_.add.SoLd;
if(bN==null)return;var gk=bN.Idnt.v,gs=x.VV(gk);gs.S7(!1);var f0=gs.WG[0],b5=gs.WG[1];if(W.m4(f0)){alert("The smart object contains transparency.");
return}var f8=gr.Zf("jpg").bu([[f0.buffer]],b5.b,b5.n,[90]);this.Qp({_:Z.fU,data:new Uint8Array(f8),sU:"image.jpg"},E,x,c,J);
console.log(x.add);return}if(i==Z.fU){var dF=K.c1,gk=K.id;if(dF==null)dF=x;if(gk==null)gk=_.add.SoLd.Idnt.v;
var d7=dF.VV(gk),k4=d7.clone();k4.raw=K.data;k4.sU=K.sU;var dk=gr.lX(K.data.buffer);if(dk=="psd"){k4.PD="8BIM";
k4.ez="8BPB"}else{k4.PD="    ";k4.ez="    "}k4.S7(!1);d7.S7(!1);var d=new im([6,36,1],this);d.data={_:Z.fU,id:gk,nG:d7,fM:k4};
dF.i1(d);this.RO(d.data,dF)}if(i==Z.qC){var d=new im([6,36,4],this);d.data={_:i,j:P,_5:_.add.SoLd.Impr.v.classID,iz:K.iz};
x.i1(d);this.RO(d.data,x)}if(i==Z.auM){var iw,kf;if(K.en){iw=K.c1;kf=K.en}else{K.c1.p7();K.c1.Iv();K.c1.U();
K.c1.DJ();K.c1.S7();iw=gr.Zf("PSD").bu(K.c1,0,0,[!0,!0]);kf=K.c1.name}if(!(iw instanceof ArrayBuffer))throw"e";
iw=new Uint8Array(iw);var h=K.cA;if(h==null){if(x.g.length==0)h=x.g.length;else{var cr=x.g[x.g.length-1],n=x.B[cr];
h=n.wC()?cr:cr+1}}var ah=new cS(0,0,x.b,x.n),i9=x.Uq();if(i9!=-1)ah=x.B[i9].IZ();var bB=x.EI(iw,kf,null,null,ah,J.ir,E),i7=x.B.slice(0);
i7.splice(h,0,bB);var d=new im([6,36,2],this);d.data={_:Z.YG,CO:x.B.slice(),Y1:i7,cE:x.g.slice(0),h2:[i7.indexOf(bB)]};
x.i1(d);this.RO(d.data,x)}if(i==Z.v2&&K.S8=="merge"){var bU=[],iX=x.root.children,aB=0;for(var y=0;y<iX.length;
y++){var t=iX[y],g=t.j,ef=t.children,fI=!0;if(!g.wC()||ef.length==0)continue;for(var aD=0;aD<ef.length;
aD++)if(!ef[aD].j.getName().startsWith("_a_")){fI=!1;break}if(fI)bU.push(x.B.indexOf(g))}var eF=[];for(var y=0;
y<bU.length;y++)if(x.g.indexOf(bU[y])!=-1)eF.push(bU[y]);if(eF.length>=2)bU=eF;if(bU.length<2){alert("At least two animation folders needed (whose layers start with \"_a_\").",3500);
return}var dy=[];for(var y=0;y<bU.length;y++)dy.push(x.B[bU[y]].getName());var bw=[];for(var el=0;el<bU.length;
el++){var t=x.root.R7(bU[el]),ad=[[],[],0,el];bw.push(ad);for(var y=0;y<t.children.length;y++){var S=t.children[y].index,g=t.children[y].j,hf=g.getName(),fJ=20,cg=hf.split(",");
if(cg.length>1){var fh=parseInt(cg.pop());if(!isNaN(fh)&&fh!=0)fJ=fh}ad[0].push(g);ad[1].push(fJ);ad[2]+=fJ}}bw.sort(function(d,cc){return cc[2]-d[2]});
var iz=bw[0],ft=iz[2];for(var iG=1;iG<bw.length;iG++){var ad=bw[iG],gz=1,gS=ad[1].slice(0),fC=0;while((gz+1)*ad[2]<=iz[2]){gz++;
gS=gS.concat(ad[1])}ad[1]=gS;ad[2]*=gz;var ix=iz[2]/ad[2];for(var y=0;y<ad[1].length;y++){var eb=Math.floor(ad[1][y]*ix);
ad[1][y]=eb;fC+=eb}while(fC<ft){fC++;ad[1][ad[1].length-1]++}ad[2]=fC}var jU=[],fc=[],eb=[];for(var y=0;
y<bw.length;y++){jU.push(0);fc.push(0)}while(aB<ft){var d8=1e9,ai=-1;for(var y=0;y<bw.length;y++){var gZ=bw[y][1],fU=jU[y];
if(fU!=gZ.length&&fc[y]+gZ[fU]<aB+d8){ai=y;d8=fc[y]+gZ[fU]-aB}}fc[ai]+=bw[ai][1][jU[ai]];jU[ai]++;if(d8!=0){eb.push(d8);
aB+=d8}}for(var y=1;y<eb.length;y++){var d1=eb[y];if(d1<16&&(eb[y-1]<16||y<eb.length-1&&16<=eb[y+1])){eb[y-1]+=d1;
eb.splice(y,1);y--}}var b4=[],dF=new cS(0,0,x.b,x.n);for(var y=0;y<x.B.length;y++){b4[y]=x.B[y].bL();
x.B[y].g7(!1)}var j9=x.g.slice(0);x.g=bU;var fQ=x.zD();fQ.sort(function(d,cc){return d-cc});var i7=[];
for(var y=0;y<x.B.length;y++){if(fQ.indexOf(y)==-1)i7.push(x.B[y])}bw.sort(function(d,cc){return d[3]-cc[3]});
function b9(gZ,bC){var y=0,aF=0;while(aF+gZ[y]<=bC){aF+=gZ[y];y++}return y}aB=0;i7.splice(fQ[0],0,x.NG());
for(var aR=0;aR<eb.length;aR++){var X=[];for(var y=0;y<bw.length;y++){var fU=b9(bw[y][1],aB)%bw[y][0].length,g=bw[y][0][fU];
X.push(g)}var g=x.EY();for(var y=0;y<bw.length;y++){var dE=X[y],d0=x.B[bU[y]];dE.g7(!0);d0.g7(!0)}x.U();
x.DJ();var f0=x.S7();g.rect=W.j_(f0,dF,2);g.buffer=W.Q(g.rect.O()*4);W.UL(f0,dF,g.buffer,g.rect);for(var y=0;
y<bw.length;y++){var dE=X[y],d0=x.B[bU[y]];dE.g7(!1);d0.g7(!1)}g.g7(aR==0);g.yH("_a_frm"+aR+","+eb[aR]);
i7.splice(fQ[0]+1+aR,0,g);aB+=eb[aR]}var g=x.EY();g.yH(dy.join(" + "));g.Vk="pass";g.add.lsct=fV.wg;
g.LD=24;i7.splice(fQ[0]+1+eb.length,0,g);for(var y=0;y<x.B.length;y++)x.B[y].g7(b4[y]);var d=new im([6,12,0],this);
d.data={_:Z.YG,CO:x.B,Y1:i7,cE:j9,h2:[fQ[0]+1+eb.length]};x.i1(d);this.RO(d.data,x)}if(i==Z.GH||i==Z.Mk){var dl=x.g.length==1,du=!0,bB=null,ko;
if(dl&&x.g[0]==0)return;var ho=x.B.slice(0),b_=x.g.slice(0);if(dl)x.g=[P,P-1];if(i==Z.Mk){x.g=[];for(var y=0;
y<x.B.length;y++)if(x.B[y].bL())x.g.push(y)}var ab=x.zD();ab.sort(function(d,cc){return d-cc});var be=new cS,dF=new cS(0,0,x.b,x.n);
for(var y=0;y<ab.length;y++){var S=ab[y],g=x.B[S];if(g.wC()||g.getName()=="</Layer group>")continue;
du=du&&g.Au()&&g.add.vmsk!=null;be=be.XN(x.root.R7(S).ZS(x,!0))}if(du){var ae=null;for(var y=0;y<ab.length;
y++){var n=x.B[ab[y]];if(n.rect.O()==0)continue;if(bB==null){bB=n.clone();ae=bB.add.vmsk}else{var n=x.B[ab[y]],ep=Z.Wf.Z8(n.add.vmsk.i);
ae.i=ae.i.concat(ep.slice(2));bB.add.vogk=bB.add.vogk.concat(JSON.parse(JSON.stringify(n.add.vogk)))}}bB.add.vmsk.I_=!0;
bB.DY(x)}else if(dF.ng(be)){bB=x.EY();bB.yH(x.B[ab[ab.length-1]].getName());bB.rect=be;bB.buffer=W.Q(be.O()*4);
var bS=x.add.artd;delete x.add.artd;var cT=x.S7(ab);if(bS)x.add.artd=bS;W.UL(cT,dF,bB.buffer,be);bB.oo();
bB.U()}else{x.ak3(ab,!0);bB=x.B[x.g[0]];x.B.splice(x.g[0],1);var js=x.VV(bB.add.SoLd.Idnt.v);x.add.lnk2.splice(x.add.lnk2.indexOf(js),1);
delete bB.add.SoLd}var jh=a,gt=-1;if(K.Ks&&K.Ks.Dplc&&K.Ks.Dplc.v)jh=!0;if(jh&&i==Z.Mk&&x.B[b_[0]].Lq()&&x.B[b_[0]].rect.um()){gt=b_[0]}if(gt!=-1||dl){var bm=x.B[gt!=-1?gt:P-1];
bB.yH(bm.getName());bB.add.lclr=bm.add.lclr}var i7=[];for(var y=0;y<x.B.length;y++)if(jh||ab.indexOf(y)==-1)if(y!=gt)i7.push(x.B[y]);
var kr=ab[ab.length-1],em=kr==x.B.length-1?null:x.B[kr+1],dD=em?i7.indexOf(em):i7.length;i7.splice(dD,0,bB);
ko=[dD];var d=new im([6,12,0],this);d.data={_:Z.YG,CO:ho,Y1:i7,cE:b_,h2:ko};x.i1(d);this.RO(d.data,x)}if(i==Z.agg){var hN=x.EY();
hN.rect=new cS(0,0,x.b,x.n);hN.buffer=W.Q(hN.rect.O()*4);W._m(hN.buffer,4294967295);W.h.Nh("norm",x.S7(),hN.rect,hN.buffer,hN.rect,hN.rect,1);
hN.yH("Background");hN.add.lspf=1<<2;var d=new im([6,12,1],this);d.data={_:Z.YG,CO:x.B.slice(),Y1:[hN],cE:x.g.slice(0),h2:[0]};
x.i1(d);this.RO(d.data,x)}var ib=i==Z.FK||i==Z.QC;if(i==Z.bM||i==Z.rg||i==Z.ag||i==Z.bw||ib){var g=ib?x.JV()[0]:x.EY(),jl=hg.get([0,3]),bo=K.e2,a6=!1,ej,gn;
if(i==Z.ag)jl=hg.get([12,76,1]);if(ib){if(x.P){var ba=x.B[x.g[0]],aC=ba.xo(x,x.P);if(aC==null){alert("Copied area is empty");
return}g.rect=aC.rect;g.buffer=aC.AJ;g.IF(x);g.g7(!0)}else bo=g.getName();g.add.lspf=0;g.Z2=!1;if((g.LD&1)!=0)g.LD--}if(i==Z.bw){g.rect=$.rn.arh(K.$U,x);
g.buffer=K.$U.buffer.slice(0);if(K.zl&&x.P){g.z=new Z.vW;g.z.rect=x.P.rect;g.z.color=0;g.z.channel=x.P.channel.slice(0)}}if(i==Z.bM){this.track({va:"make",Ks:{classID:"Mk",null:b$.oe("Lyr")}})}if(i==Z.rg){g.LD|=16;
var i2=K.Ks.Usng.v,hB=i2.Type.v,h1=c2.Zq[hB.classID];jl=hg.get(c2.names[h1]);if(i2.Nm)bo=i2.Nm.v;g.add[h1]=dJ.JQ(h1);
if(g.add[h1]==null)g.add[h1]={};for(var bV in hB)g.add[h1][bV]=JSON.parse(JSON.stringify(hB[bV]));g.z=$.rn.ar4(x);
g.kS=1}if(i==Z.ag){g.LD|=16;var bx=K.Ks,i2=bx.Usng.v,j5=i2.Type.v,jd=i2.Shp;if(i2.Nm)bo=i2.Nm.v;if(jd==null){var e2=x.Ox(),ec=e2[0],as=e2[1];
if(as.length!=0&&ec[as[0]].JD<0){var iy=ec[as[0]].add;g.add.vmsk=iy.vmsk.clone();g.add.vstk=JSON.parse(JSON.stringify(dz.Ae.default));
g.add.vogk=JSON.parse(JSON.stringify(iy.vogk));x.Jq=[]}else g.z=$.rn.ar4(x)}else{g.add.vmsk=new Z.Wf;
g.add.vstk=JSON.parse(JSON.stringify(i2.strokeStyle?i2.strokeStyle.v:dz.Ae.default));g.add.vogk=[];if(jd){var h0=W.X.MW(jd);
if(h0){g.add.vogk=[h0];g.add.vmsk.i.push({type:0,qX:1,length:0});W.X.Pm(g.add.vogk,g.add.vmsk)}else{jd=jd.v;
var iR=jd.classID;if(iR=="Plgn"){var ku=jd.Cntr.v,gK=jd.corner.v;ku=new iP(ku.Hrzn.v.val,ku.Vrtc.v.val);
gK=new iP(gK.Hrzn.v.val,gK.Vrtc.v.val);g.add.vmsk.i=W.r.Ic.Pn(ku.x,ku.y,Math.sqrt(gK.x*gK.x+gK.y*gK.y),Math.atan2(gK.y,gK.x),jd.sides.v,0)}else if(iR=="customShape"){var dO=W.X.w0(jd),eV=dO[2]-dO[0],ct=dO[3]-dO[1],cK=J.nK,hE,h_;
for(var y=0;y<cK.length;y++)if(cK[y].xN==jd.Nm.v)hE=cK[y];if(hE){h_=Z.Wf.Z8(hE.i);W.r.it(h_,new iQ(eV,0,0,ct,dO[0],dO[1]))}else h_=W.r.Ic.Rect(dO[0],dO[1],eV,ct,0);
g.add.vmsk.i=h_}g.yt()}}}var af={solidColorLayer:0,gradientLayer:1,patternLayer:2}[j5.classID],aO=["SoCo","GdFl","PtFl"][af];
g.add[aO]=JSON.parse(JSON.stringify(dz.gk[af]));if(af==0)g.add[aO].Clr.v=W.M.TD(W.jk(J.U9));$.rn.Fw(j5,g.add[aO],af);
if(jd==null)jl=hg.get([6,48,0,af]);if(aO=="PtFl"){var aJ=g.add[aO].Ptrn.v,cg=bd.I6(aJ,J.$A);if(cg==null)cg=bd.I6(aJ,x.add.Patt);
aJ.Idnt.v=cg.id;x.Wu(cg)}g.DY(x)}var g$=$.rn.sQ(x,jl+" ");g.yH(jl+" "+(g$+1));if(bo)g.yH(bo);var et=x.g.length==0?x.B.length-1:x.g[x.g.length-1],i4=x.B[et];
if(i==Z.ag&&i4.Lq()&&i4.rect.um()){a6=!0;g.yH(i4.getName());ej=et}else{ej=et+(i==Z.bM&&e&&!j?0:1);if(i4&&i4.add.lsct==fV.Bm)ej--}if(K.aej)ej=Math.max(0,ej-1);
var i7=x.B.slice(0);if(i==Z.QC){var c5=i7[x.g[0]]=i7[x.g[0]].clone(),f_=x.P.channel.slice(0);W.Pa(f_);
W.x9(f_,x.P.rect,c5.buffer,c5.rect)}i7.splice(ej,a6?1:0,g);var id=[5,2];if(i==Z.bM)id=[6,13];if(i==Z.rg)id=[6,1];
if(i==Z.ag){id=[6,48,1];var jd=K.Ks.Usng.v.Shp;if(jd){var f9={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[jd.v.classID];
if(f9)id=f9}}if(ib){id=[6,49,i==Z.FK?0:1]}if(ib||i==Z.ag||i==Z.bw||i==Z.rg)if(x.P)gn=[x.P,null];var d=new im(id,this);
d.data={_:Z.YG,CO:x.B.slice(0),Y1:i7,cE:x.g.slice(0),h2:[ej],oU:gn};x.i1(d);this.RO(d.data,x);if(i==Z.ag&&jd==null&&af!=0||i==Z.rg){var k=new i3(u.E.L);
k.data={_:u.c.T7,xc:ap.oE.a_};E.S(k)}}if(i==Z.Pi){var g=x.EY(),jl=hg.get([0,4]),g$=$.rn.sQ(x,jl+" ");
g.yH(jl+" "+(g$+1));g.Vk="pass";g.add.lsct=fV.Bm;g.LD=24;if(K.e2)g.yH(K.e2);if(K.b1!=null)g.add.lclr=K.b1;
var b8=x.NG(),et=P,ej=et+(e?0:1),i7=x.B.slice(0);i7.splice(ej,0,b8,g);var d=new im([6,20],this);d.data={_:Z.YG,CO:x.B.slice(0),Y1:i7,cE:x.g.slice(0),h2:[ej+1]};
x.i1(d);this.RO(d.data,x)}if(i==Z.W0||i==Z.ex){var bn=i==Z.W0?K.source:x.g[0],e8,jx,gF=x.g.indexOf(bn)!=-1,eK=a|K.a4R,he,d8=null;
if(gF)he=x.zD();else he=x.JW(bn);he.sort(function(d,cc){return d-cc});if(i==Z.W0){e8=K.target;jx=K.bO>.5}else if(K.target!=null){e8=Math.min(K.target,x.B.length-1);
jx=K.target<x.B.length;x.HB=!0}else{var a8=K.S8;jx=a8>1;if(a8==0){e8=x.B.length-1}if(a8==1){e8=he[he.length-1]+1;
var n=x.JW(e8);if(n.indexOf(bn)==-1)e8+=n.length-1}if(a8==2){e8=he[0]-1;var n=x.JW(e8);if(n.indexOf(bn)==-1)e8-=n.length-1}if(a8==3){e8=0;
if(x.B[0].add.lnsr=="bgnd")e8++}if(e8<0||e8>x.B.length-1)return;x.HB=!0}if(he.indexOf(e8)!=-1&&!eK)return;
var cC=$.rn.YM(x,he,e8,jx,eK?x.JV(gF?null:bn):null,i==Z.W0&&K.bO>.8),jV=cC.pop(),g8=cC.pop(),i7=cC.pop(),jK=x.g;
x.g=[bn];var jz=x.Uq();x.g=[e8];var kl=x.Uq();if(kl==e8&&!jx)kl=-1;x.g=jK;if(bn==jz){}else if(jz!=kl){var d8=new iP(0,0);
if(jz!=-1){var b5=x.B[jz].IZ();d8.x-=b5.x;d8.y-=b5.y}if(kl!=-1){var b5=x.B[kl].IZ();d8.x+=b5.x;d8.y+=b5.y}}var d=new im(eK?[6,0]:[6,35],this);
d.data={_:Z.YG,CO:x.B.slice(0),Y1:i7,cE:x.g.slice(0),h2:g8,qE:d8};x.i1(d);this.RO(d.data,x);var bx={classID:"move",null:b$.oe("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:jV+(jx?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:eK}};
this.track({va:"move",Ks:bx})}if(i==Z.YS){if(K.og){if(_==null||!_.wC())return;var t=x.root.R7(P),es=x.B.indexOf(t.am7),i7=x.B.slice(0);
i7.splice(P,1);i7.splice(es,1);var g8=[];for(var y=es;y<P-1;y++)g8.push(y);var d=new im("Ungroup Layers",this);
d.data={_:Z.YG,CO:x.B.slice(0),Y1:i7,cE:x.g.slice(0),h2:g8};x.i1(d);this.RO(d.data,x)}else{var g=x.EY(),an=hg.get([0,4])+" ";
g.yH(an+($.rn.sQ(x,an)+1));g.Vk="pass";if(K.e2)g.yH(K.e2);if(K.b1!=null)g.add.lclr=K.b1;g.add.lsct=x.g.length==1?fV.Bm:fV.wg;
g.LD=24;var b8=x.NG(),he=x.zD();if(he.length==0)return;he.sort(function(d,cc){return d-cc});var i7=[];
for(var y=0;y<x.B.length;y++)if(he.indexOf(y)==-1)i7.push(x.B[y]);var et=x.g[x.g.length-1]-he.length;
i7.splice(et+1,0,b8);for(var y=0;y<he.length;y++)i7.splice(et+2+y,0,x.B[he[y]]);i7.splice(et+2+he.length,0,g);
var d=new im([6,9],this);d.data={_:Z.YG,CO:x.B.slice(0),Y1:i7,cE:x.g.slice(0),h2:[i7.indexOf(g)]};x.i1(d);
this.RO(d.data,x);var s={va:"make",Hy:!0};s.Ks={classID:"Mk",null:b$.oe("layerSection"),From:b$.oe("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:g.getName()}}}};
this.track(s)}}if(i==Z.axV){if(x.g.length!=1)return;var h=x.g[0],eh=a;if(x.B[h].FA()==null&&!c.l(j6.Se)){i=Z.p5;
K.no=x.P?!eh?"RvlS":"HdSl":!eh?"RvlA":"HdAl"}else{i=Z.BH;K.a7W=!0}}if(i==Z.p5){if(x.g.length!=1)return;
var h=x.g[0],g=x.B[h];if(g.add.vmsk&&g.z==null)g.DY(x);var iH=g.FA();if(iH==null||K.aeW){var d=new im([6,21],this),hv=new Z.vW,eT=K.no,ei=eT=="RvlS"||eT=="HdSl";
if(eT=="RvlS"||eT=="HdAl"||eT=="Trns")hv.color=0;if(ei){hv.channel=x.P.channel.slice(0);hv.rect=x.P.rect.clone();
if(eT=="HdSl")W.Pa(hv.channel)}if(eT=="Trns"){hv.rect=g.rect.clone();hv.channel=W.Q(g.rect.O());W.Bp(g.buffer,hv.channel,3)}d.data={_:Z.eK,FH:[h,iH,hv],oU:ei?[x.P,null]:null};
x.i1(d);this.RO(d.data,x);x.B[h].kS=1;this.track({va:"make",Ks:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:eT}}}})}}else if(i==Z.aaH){var ik=x.B[K.src],hd=x.B[K.wy],d=new im([6,21],this),e4=ik.FA(),cj=hd.FA(),ex=[K.src,e4,null,K.wy,cj,e4];
if(a||j){var hf=e4.clone();if(a)ex=[K.wy,cj,hf];else ex[5]=hf;if(j){W.Pa(hf.channel);hf.color=255-hf.color}}d.data={_:Z.eK,FH:ex};
x.i1(d);this.RO(d.data,x)}if(i==Z.Ni){if(x.g.length!=1)return;var h=P,ja=x.B[h].FA();if(ja!=null){var d=new im([6,22],this);
d.data={_:Z.eK,FH:[P,ja,null]};x.i1(d);this.RO(d.data,x)}}if(i==Z.Us){var ho=x.B.slice(0),hN=_.clone(),gc=hN.FA();
W.x9(gc.zw(hN.rect),hN.rect,hN.buffer,hN.rect);$.rn.KE(x,hN);hN.oo();x.B[x.g[0]]=hN;var d=new im([5,8],this);
d.data={_:Z.YG,CO:ho,Y1:x.B.slice(),cE:x.g.slice(0),h2:x.g.slice(0)};x.i1(d);this.RO(d.data,x)}if(i==Z.Dw){if(x.g.length!=1)return;
var h=x.g[0];if(x.B[h].Xe(x).z==null){var d=new im([6,45],this);d.data={_:i,j:h,z:new Z.vW};x.i1(d);
this.RO(d.data,x)}}if(i==Z.l5){if(x.g.length!=1)return;var h=x.g[0];if(x.B[h].Xe(x).z!=null){var d=new im([6,46],this);
d.data={_:i,j:h,z:x.B[h].Xe(x).z};x.i1(d);this.RO(d.data,x)}}if(i==Z.Ei){if(K.src==null&&x.g.length!=1)return;
if(K.src!=null)P=K.src;if(x.B[P].St()){var d=new im([6,47],this),bN=JSON.stringify(x.B[P].add.SoLd),h9=JSON.parse(bN);
delete h9.filterFX;d.data={_:Z.Cp,oO:[{OV:P,Fd:[bN,JSON.stringify(h9)],mi:[x.B[P].Xe(x),null]}]};x.i1(d);
this.RO(d.data,x)}}if(i==Z.BH){if(x.g.length!=1)return;if(_.add.vmsk==null){var d=new im([6,23],this),j3=x.Ox(),h8=j3[1],j3=j3[0],hv,h0;
if(K.a7W&&h8.length!=0){var iy=j3[h8[0]].add;hv=iy.vmsk.clone();h0=iy.vogk}else{hv=new Z.Wf;h0=[];hv.i[1].all=K.amK?0:1}d.data={_:i,j:P,$V:!0,z:hv,X:JSON.stringify(h0),Ae:null};
if(_.Au()){d.data.Ae=JSON.stringify(dz.Ae.default)}x.i1(d);this.RO(d.data,x)}}if(i==Z.ZL){var ik=x.B[K.src],hd=x.B[K.wy];
if(hd.add.vmsk)return;var d=new im([6,23],this),ae=ik.add.vmsk;d.data={j:K.wy,$V:ik.gl,z:ae.clone(),X:JSON.stringify(ik.add.vogk),Ae:ik.add.vstk?JSON.stringify(ik.add.vstk):null};
if(a){d.data._=Z.BH}else{d.data._=i;d.data.src=K.src;d.data.wy=K.wy}x.i1(d);this.RO(d.data,x)}if(i==Z.oN||i==Z.nU){if(x.g.length!=1)return;
var g=x.B[P],ae=g.add.vmsk;if(ae!=null){var e$=i==Z.nU,d=new im(e$?[6,8]:[6,24],this);d.data={_:Z.oN,j:P,$V:g.gl,z:ae,X:JSON.stringify(g.add.vogk),Ae:g.add.vstk?JSON.stringify(g.add.vstk):null};
if(e$){d.data.Sc=ae.FA(g.add.vstk)}x.i1(d);this.RO(d.data,x)}}if(i==Z.Ot){var d=new im("Metadata",this);
d.data={_:i,d3:JSON.stringify(x.VQ),SS:JSON.stringify(K.SS)};x.i1(d);this.RO(d.data,x)}if(i==Z.x6){var ca=K.wy?K.wy:x,fD=ca.name,bo=K.Z+".psd";
if(fD==bo)return;var d=new im([6,37],this);d.data={_:i,ase:fD,e2:bo};if(K.asp!=!0)ca.i1(d);this.RO(d.data,ca)}if(i==Z.v2&&K.S8.endsWith("makeframes")){var fd=[],bl=K.S8.startsWith("make");
for(var y=0;y<x.g.length;y++){var S=x.g[y],g=x.B[S],gu=g.getName(),bp=gu.startsWith("_a_");if(bl==bp||g.add.lsct==fV.Xx)continue;
var hw=bl?"_a_"+gu:gu.slice(3);fd.push([S,gu,hw,g.add.lnsr,null])}var d=new im([6,37],this);d.data={_:Z.tZ,ry:fd};
x.i1(d);this.RO(d.data,x)}if(i==Z.tZ){var fD=_.getName(),bo=K.name.substring(0,255);if(fD==bo)return;
var d=new im([6,37],this);d.data={_:i,ry:[[P,fD,bo,_.add.lnsr,null]]};x.i1(d);this.RO(d.data,x);this.track(b$.Jo("Nm",{t:"TEXT",v:bo}))}if(i==Z.Aq){var iC=x.zD(),j4=[],gy=[];
for(var y=0;y<iC.length;y++){j4.push(x.B[iC[y]].add.lclr);gy.push(K.azl)}var d=new im([6,38],this);d.data={_:i,B:iC,af7:j4,b1:gy};
x.i1(d);this.RO(d.data,x)}if(i==Z.MV){var d=x.history[x.qh];if(d!=null&&d.G==this&&d.data._==i&&d.data.j==K.Ph&&d.data.iz.p0==K.Qy.p0)d.data.iz=K.Qy;
else{d=new im("Mask Density / Feather",this);d.data={_:i,j:K.Ph,_5:x.B[K.Ph].Sz(K.Qy.p0),iz:K.Qy};x.i1(d)}this.RO(d.data,x)}if(i==Z.IQ){var fr=JSON.stringify(K.Z),bD=JSON.parse(fr),d=x.history[x.qh];
if(d!=null&&d.G==this&&d.data._==i&&d.data.DD==K.DD&&d.data.sx.join(",")==K.sx.join(",")){for(var y=0;
y<K.sx.length;y++)d.data.Aw[y]=bD;if(d.data.Ks&&bD.ez!=0)$.rn.Fw(bD.QT,d.data.Ks.T.v,bD.ez-1)}else{d=new im([11,6],this);
d.data={_:i,sx:K.sx,DD:K.DD,ap8:[],Aw:[]};var i1=!1;for(var y=0;y<K.sx.length;y++){var S=K.sx[y],g=x.B[S],f5=K.DD?$.hS.xB(x,S):JSON.parse(JSON.stringify(g.add.vstk));
d.data.ap8.push(f5);d.data.Aw.push(bD);if(JSON.stringify(f5)!=fr)i1=!0}if(!i1)return;x.i1(d);if(K.DD&&bD.ez>0){var bx=d.data.Ks={classID:"setd",null:b$.oe("contentLayer",!0),T:{t:"Objc",v:{}}};
$.rn.Fw(bD.QT,bx.T.v,bD.ez-1);this.track({va:"set",Ks:bx})}}if(K.DD&&bD.ez==3)x.Wu(bd.I6(bD.QT.Ptrn.v,J.$A));
if(!K.DD){var a_=bD.strokeStyleContent.v;if(a_.classID==dz.Ae.Iy[2])x.Wu(bd.I6(a_.Ptrn.v,J.$A))}this.RO(d.data,x)}};
$.rn.YM=function(K,E,x,c,J,i){var P=K.B[x],_=[];if(J)_=K.B.slice(0);else for(var y=0;y<K.B.length;y++)if(E.indexOf(y)==-1)_.push(K.B[y]);
var a=_.indexOf(P);if(i&&P.wC()&&P.add.lsct==fV.wg)a-=K.JW(x).length-1;var j=[];for(var y=0;y<E.length;
y++){var e=a+(c?0:1)+y,d=J?J[y]:K.B[E[y]];_.splice(e,0,d);j.push(e)}return[_,j,a]};$.rn.Fw=function(K,E,x){var c=[dz.zg,dz.Ab,dz.Tk][x];
if(E.classID==null)E.classID=["solidColorLayer","gradientLayer","patternLayer"][x];for(var y=0;y<c.length;
y++)if(K[c[y]])E[c[y]]=JSON.parse(JSON.stringify(K[c[y]]))};$.rn.ar4=function(K){var E=new Z.vW;if(K.P!=null){E.color=0;
E.channel=K.P.channel.slice(0);E.rect=K.P.rect.clone()}return E};$.rn.Dq=function(K,E,x,c,J){var i=c.b/x.b,P=c.n/x.n,_=c.b/2,a=c.n/2,j=W.p.VD(c).C;
for(var y=0;y<K.B.length;y++){var e=K.B[y],d=e.add.SoLd;if(d==null||d.Idnt.v!=E)continue;if(i!=1||P!=1){var I=$.Xq.t9(d.nonAffineTransform),v=W.K.AS(I,c),n=new iQ;
n.translate(-_,-a);n.scale(i,P);n.translate(_,a);var C=W.K.hH(v,W.K.y5(n)),T=j.slice(0);W.K.u(C,T);d.Trnf=$.Xq.K0(T);
d.nonAffineTransform=$.Xq.K0(T);if(W.HA.eS(d.warp.v)){var o=d.warp.v.bounds.v;o.Rght.v.val=c.b;o.Btom.v.val=c.n}}e.mQ(K,null,J)}K.U()};
$.rn.a4A=function(K,E,x){E.color=255-E.color;W.Pa(E.channel);E.I_=!0;K.DY(x);x.U()};$.rn.prototype.Bn=function(K,E){var x=K._,c=E.B[K.j];
E.Xw=!0;if(x==Z.fU){E.add.lnk2.splice(E.add.lnk2.indexOf(K.fM),1,K.nG);$.rn.Dq(E,K.id,K.fM.WG[1],K.nG.WG[1])}if(x==Z.qC){c.add.SoLd.Impr.v.classID=K._5;
c.mQ(E)}if(x==Z.vq){var J=JSON.parse(K.sx);for(var y=0;y<J.length;y++)E.B[J[y]].Vk=K.r7[y];E.U()}if(x==Z.O4){var J=JSON.parse(K.sx);
for(var y=0;y<J.length;y++)E.B[J[y]].opacity=K.r7[y];E.U()}if(x==Z.Io){var J=JSON.parse(K.sx);for(var y=0;
y<J.length;y++)if(E.B[J[y]].add.lsct!=fV.Xx)E.B[J[y]].add.lspf=K.r7[y]}if(x==Z._O){var i=K.Tf,P=K.a3o;
delete c.add[i[0]];if(P[0]!="----")c.add[P[0]]=P[1]}if(x==Z.XR){c.add.iOpa=K.r7;E.U()}if(x==Z.gn){for(var y=0;
y<K.sx.length;y++){var _=E.B[K.sx[y]];_.g7(!_.bL())}E.U()}if(x==Z.Or){var a=c.FA();a.isEnabled=!a.isEnabled;
c.DY(E);E.U()}if(x==Z.NU){var a=c.Xe(E).z;a.isEnabled=!a.isEnabled;c.U();E.U()}if(x==Z.d5){var a=c.add.vmsk;
a.isEnabled=!a.isEnabled;if(!a.isEnabled){if(c.Sc){c.z=c.Sc;c.Sc=null}else c.z=null}else if(c.z){c.Sc=c.z;
c.z=null}c.DY(E);E.U()}if(x==Z.u_){c.Z2=!c.Z2;E.U()}if(x==Z.GA){c.add.lmfx.masterFXSwitch.v=!c.add.lmfx.masterFXSwitch.v;
c.vJ.al=!0;E.U()}if(x==Z.I8){c.add.SoLd.filterFX.v.enab.v=!c.add.SoLd.filterFX.v.enab.v;c.fQ(E);E.U()}if(x==Z.Xk){var j=K.index,e=c.add.lmfx[dz.E9[j[0]]].v[j[1]].v;
e.enab.v=!e.enab.v;c.vJ.al=!0;E.U()}if(x==Z.pO){var d=E.B[K.VC],I=E.B[K.NV],v=K.aeq,n=K.ayL;if(v=="")delete d.add.lmfx;
else d.add.lmfx=JSON.parse(v);if(n=="")delete I.add.lmfx;else I.add.lmfx=JSON.parse(n);d.vJ.al=!0;I.vJ.al=!0;
E.U()}if(x==Z.x2){var C=c.add.SoLd.filterFX.v.filterFXList.v[K.index].v;C.enab.v=!C.enab.v;c.fQ(E);E.U()}if(x==Z.ay7){c.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(K.apv));
c.fQ(E);E.U()}if(x==Z.JR){var a=c.FA();a.B0=!a.B0}if(x==Z.uo){var a=c.add.vmsk;a.B0=!a.B0}if(x==Z._h){var T=JSON.parse(K.a0x);
E.ej=T[0];E.$o=T[1]}if(x==Z.yC){var T=K.$v;for(var y=0;y<T.length;y+=2){var o=T[y],_=o>=0?E.B[o]:E.Qg[-1-o];
_.add.vogk=JSON.parse(T[y+1]);W.X.Pm(_.add.vogk,_.add.vmsk);if(o>=0)_.DY(E)}E.U()}if(x==Z.Er){c.add.artb=JSON.parse(K.ajy);
E.U();$.$a.sj(E,K)}if(x==Z.wE){E.P=K.RK;E.Un=K.$v.slice(0);E.N9=K.SY.slice(0);E.ZI=E.Bi=!0}if(x==Z.JS){c.Yg=!c.Yg}if(x==Z.Yo){var s=K.a9Y;
for(var y=0;y<s.length;y++)E.B[y].DP=s[y]}if(x==Z.YG){if(K.qE)$.DU.jB(E,E.g,null,-K.qE.x,-K.qE.y);if(K.cE)E.g=K.cE;
if(K.oU)E.P=K.oU[0];E.FU=null;E.U();E.yu(K.CO);$.$a.sj(E,K);if(K.Qr)E.WT(K.Qr[0])}if(x==Z.eK){for(var y=0;
y<K.FH.length;y+=3)$.rn.KE(E,E.B[K.FH[y]],K.FH[y+1]);if(K.oU){var Q=K.oU[0];if(Q==null)delete E.P;else E.P=Q}}if(x==Z.Dw){c.Xe(E).z=null;
c.U();E.U()}if(x==Z.l5){c.Xe(E).z=K.z;c.U();E.U()}if(x==Z.Cp){$.rn.auN(E,K.oO,0)}if(x==Z.BH){$.rn.KH(E,c,!0)}if(x==Z.ZL){$.rn.KH(E,E.B[K.wy],K.z.isEnabled);
$.rn.Wg(E,E.B[K.src],K)}if(x==Z.oN){if(K.Sc)$.rn.KE(E,c,null);$.rn.Wg(E,c,K)}if(x==Z.Ot){E.VQ=JSON.parse(K.d3)}if(x==Z.x6){E.name=K.ase}if(x==Z.tZ){for(var y=0;
y<K.ry.length;y++){var X=K.ry[y],_=E.B[X[0]];_.yH(X[1]);if(X[3])_.add.lnsr=X[3];else delete _.add.lnsr}}if(x==Z.Aq){for(var y=0;
y<K.B.length;y++)E.B[K.B[y]].add.lclr=K.af7[y]}if(x==Z.IQ){var B=K.ap8;for(var y=0;y<K.sx.length;y++){var _=E.B[K.sx[y]],M=B[y];
if(!K.DD)_.add.vstk=JSON.parse(JSON.stringify(M));else $.hS.oq(_,JSON.parse(JSON.stringify(M)));_.if(E)}E.U()}if(x==Z.MV){c.abf(K._5);
c.DY(E);E.U()}E.Bi=!0};$.rn.prototype.RO=function(K,E){var x=K._,c=E.B[K.j];E.Xw=!0;if(x==Z.fU){E.add.lnk2.splice(E.add.lnk2.indexOf(K.nG),1,K.fM);
$.rn.Dq(E,K.id,K.nG.WG[1],K.fM.WG[1])}if(x==Z.qC){c.add.SoLd.Impr.v.classID=K.iz;c.mQ(E)}if(x==Z.vq){var J=JSON.parse(K.sx);
for(var y=0;y<J.length;y++)E.B[J[y]].Vk=K.iz;E.U()}if(x==Z.O4){var J=JSON.parse(K.sx);for(var y=0;y<J.length;
y++)E.B[J[y]].opacity=K.iz;E.U()}if(x==Z.Io){var J=JSON.parse(K.sx);for(var y=0;y<J.length;y++)if(E.B[J[y]].add.lsct!=fV.Xx)E.B[J[y]].add.lspf=K.iz[y]}if(x==Z._O){var i=K.a3o,P=K.Tf;
delete c.add[i[0]];if(P[0]!="----")c.add[P[0]]=P[1]}if(x==Z.XR){c.add.iOpa=K.iz;E.U()}if(x==Z.gn){for(var y=0;
y<K.sx.length;y++){var _=E.B[K.sx[y]];_.g7(!_.bL())}E.U()}if(x==Z.Or){var a=c.FA();a.isEnabled=!a.isEnabled;
c.DY(E);E.U()}if(x==Z.NU){var a=c.Xe(E).z;a.isEnabled=!a.isEnabled;c.U();E.U()}if(x==Z.d5){var a=c.add.vmsk;
a.isEnabled=!a.isEnabled;if(!a.isEnabled){if(c.Sc){c.z=c.Sc;c.Sc=null}else c.z=null}else if(c.z){c.Sc=c.z;
c.z=null}c.DY(E);E.U()}if(x==Z.u_){c.Z2=!c.Z2;E.U()}if(x==Z.GA){c.add.lmfx.masterFXSwitch.v=!c.add.lmfx.masterFXSwitch.v;
c.vJ.al=!0;E.U()}if(x==Z.I8){c.add.SoLd.filterFX.v.enab.v=!c.add.SoLd.filterFX.v.enab.v;c.fQ(E);E.U()}if(x==Z.Xk){var j=K.index,e=c.add.lmfx[dz.E9[j[0]]].v[j[1]].v;
e.enab.v=!e.enab.v;c.vJ.al=!0;E.U()}if(x==Z.pO){var d=E.B[K.VC],I=E.B[K.NV],v=K.adh,n=K.a1E;if(v=="")delete d.add.lmfx;
else d.add.lmfx=JSON.parse(v);if(n=="")delete I.add.lmfx;else I.add.lmfx=JSON.parse(n);d.vJ.al=!0;I.vJ.al=!0;
E.U()}if(x==Z.x2){var C=c.add.SoLd.filterFX.v.filterFXList.v[K.index].v;C.enab.v=!C.enab.v;c.fQ(E);E.U()}if(x==Z.ay7){c.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(K.a6x));
c.fQ(E);E.U()}if(x==Z.JR){var a=c.FA();a.B0=!a.B0}if(x==Z.uo){var a=c.add.vmsk;a.B0=!a.B0}if(x==Z._h){var T=JSON.parse(K.ans);
E.ej=T[0];E.$o=T[1]}if(x==Z.yC){var T=K.QN;for(var y=0;y<T.length;y+=2){var o=T[y],_=o>=0?E.B[o]:E.Qg[-1-o];
_.add.vogk=JSON.parse(T[y+1]);W.X.Pm(_.add.vogk,_.add.vmsk);if(o>=0)_.DY(E)}E.U()}if(x==Z.Er){c.add.artb=JSON.parse(K.fd);
E.U();$.$a.AH(E,K)}if(x==Z.wE){E.P=K.sR;E.Un=K.QN.slice(0);E.N9=K.Dh.slice(0);E.ZI=E.Bi=!0}if(x==Z.JS){c.Yg=!c.Yg}if(x==Z.Yo){var s=K.arb;
for(var y=0;y<s.length;y++)E.B[y].DP=s[y]}if(x==Z.YG){E.azN();var Q=K.Y1,X=0,B;for(var y=0;y<Q.length;
y++){var _=Q[y],M=_.add.lsct;if(M==fV.Xx)X++;else if(M==fV.Bm||M==fV.wg)X--;if(_.add.artb&&X!=0)B="Artboards can not be inside folders."}if(B){E.history.pop();
E.qh--;alert(B);return}$.$a.AH(E,K);if(K.h2)E.g=K.h2;if(K.oU)E.P=K.oU[1];E.FU=null;E.U();E.yu(K.Y1);
if(K.qE)$.DU.jB(E,E.g,null,K.qE.x,K.qE.y);if(K.Qr)E.WT(K.Qr[1])}if(x==Z.eK){for(var y=0;y<K.FH.length;
y+=3)$.rn.KE(E,E.B[K.FH[y]],K.FH[y+2]);if(K.oU){var S=K.oU[1];if(S==null)delete E.P;else E.P=S}}if(x==Z.Dw){c.Xe(E).z=K.z;
c.kS=0;c.U();E.U()}if(x==Z.l5){c.Xe(E).z=null;c.kS=0;c.U();E.U()}if(x==Z.Cp){$.rn.auN(E,K.oO,1)}if(x==Z.BH){$.rn.Wg(E,c,K)}if(x==Z.ZL){$.rn.KH(E,E.B[K.src],K.z.isEnabled);
$.rn.Wg(E,E.B[K.wy],K)}if(x==Z.oN){$.rn.KH(E,c,K.z.isEnabled);if(K.Sc)$.rn.KE(E,c,K.Sc)}if(x==Z.Ot){E.VQ=JSON.parse(K.SS)}if(x==Z.x6){E.name=K.e2}if(x==Z.tZ){for(var y=0;
y<K.ry.length;y++){var f=K.ry[y],_=E.B[f[0]];_.yH(f[2]);if(f[4])_.add.lnsr=f[4];else delete _.add.lnsr}}if(x==Z.Aq){for(var y=0;
y<K.B.length;y++)E.B[K.B[y]].add.lclr=K.b1[y]}if(x==Z.IQ){var F=K.Aw;for(var y=0;y<K.sx.length;y++){var _=E.B[K.sx[y]],G=F[y];
if(!K.DD)_.add.vstk=JSON.parse(JSON.stringify(G));else $.hS.oq(_,JSON.parse(JSON.stringify(G)));_.if(E)}E.U()}if(x==Z.MV){c.abf(K.iz);
c.DY(E);E.U()}E.Bi=!0};$.rn.sQ=function(K,E){var x=0;for(var y=0;y<K.B.length;y++){var c=K.B[y].getName();
if(c.startsWith(E)){var J=c.slice(E.length).trim(),i=parseInt(J);if(!isNaN(i)&&i+""==J&&i>x)x=i}}return x};
$.rn.auN=function(K,E,x){for(var y=0;y<E.length;y++){var c=E[y],J=K.B[c.OV];if(c.Fd){J.add.SoLd=JSON.parse(c.Fd[x])}if(c.mi){if(c.mi[1-x]!=null)K.q3(c.mi[1-x]);
if(c.mi[x]!=null)K.ey(c.mi[x]);else J.kS=0}J.mQ(K)}};$.rn.arh=function(K,E){var x=K.XH,c=K.rect.clone();
if(x!=null&&(x.x!=E.b||x.y!=E.n)){c.x=Math.floor((E.b-c.b)/2);c.y=Math.floor((E.n-c.n)/2)}else if(x==null){var J=new cS(0,0,E.b,E.n),i=E.Uq();
if(i!=-1)J=E.B[i].IZ();c.x+=J.x;c.y+=J.y}return c};$.rn.ayl=function(K,E){if(E.Sc)E.Sc=null;else E.z=null;
E.DY(K);K.U();E.kS=0};$.rn.KE=function(K,E,x){var c=E.FA();if(c==null&&x==null)return;if(c)$.rn.ayl(K,E);
if(x==null)return;if(E.z)E.Sc=x;else E.z=x;E.DY(K);K.U()};$.rn.KH=function(K,E,x){if(E.Sc&&x){E.z=E.Sc;
E.Sc=null}else if(E.z&&x){E.z=null}delete E.add.vogk;delete E.add.vstk;delete E.add.vmsk;E.DY(K);E.gl=!1;
K.FU=[];K.U()};$.rn.Wg=function(K,E,x){E.add.vogk=JSON.parse(x.X);if(x.Ae)E.add.vstk=JSON.parse(x.Ae);
else delete E.add.vstk;E.add.vmsk=x.z.clone();if(E.z&&E.add.vmsk.isEnabled)E.Sc=E.z;E.DY(K);E.gl=x.$V;
K.FU=[K.B.indexOf(E)];K.Jq=[];K.U()};$.FB=function(){$.dC.call(this,"Layer Styles",$.j8);this.EZ=null;
this.R6=null;this.Oc=null;this.hQ=[];this.wo=null};$.FB.prototype=new $.dC;$.FB.prototype.Qp=function(K,E,x,c,J){var i=K.j;
if(i==null)i=x.g[0];var P=x.B[i],_=K.JD;if(this.EZ==null){this.Oc=$.FB.TC(x,P);this.EZ=JSON.stringify(this.Oc);
if(P.add.lmfx)this.R6=JSON.stringify(P.add.lmfx)}if(P.add.lmfx==null){P.add.lmfx=JSON.parse(dz.default);
for(var y=0;y<dz.order.length;y++)P.add.lmfx[dz.E9[y]]={t:"VlLs",v:[]}}if(K._=="scaleeffects"){if(K.Z=="confirm"||K.Z=="cancel"){this.Qp({_:K.Z},E,x,c,J);
return}P.add.lmfx=JSON.parse(this.R6);bd.R1(P.add.lmfx,K.Z/100)}else if(K._=="changeprop"){var a=null;
if(_!=0){var j=this.hQ[_[0]];if(j==null)j=dz.hQ[_[0]];j=JSON.parse(j);var e=P.add.lmfx[dz.E9[_[0]]].v;
if(e[_[1]]==null)e[_[1]]={t:"Objc",v:j};a=e[_[1]].v;for(var d in j)if(a[d]==null)a[d]=j[d]}if(K._=="changeprop"){if(_==0){this.Oc[K.za].v=K.Z;
$.FB.vn(x,P,this.Oc)}else if(K.za=="lagl"){if(a.uglg&&a.uglg.v){x.I0(K.Z.val);this.Oc.gagl.v.val=x.XI()}else a[K.za].v=K.Z}else if(K.za=="Lald"){if(a.uglg.v){x.Zv(K.Z.val);
this.Oc.aln=x.So()}else a[K.za].v=K.Z}else if((_[0]==3||_[0]==8)&&(K.za=="Clr"||K.za=="Grad")){if(K.za=="Clr"){a.Clr={t:"Objc",v:K.Z};
delete a.Grad}if(K.za=="Grad"){a.Grad={t:"Objc",v:K.Z};delete a.Clr}}else{a[K.za].v=K.Z}if(_!=0)this.hQ[_[0]]=JSON.stringify(a)}if(_!=0)if(a.Ptrn)x.Wu(bd.I6(a.Ptrn.v,J.$A))}else if(K._=="setstl"){var I=K.Z.Lefx;
if(I)bd.adq(I,x,J.$A);bd.a1U(K.Z,P,null,x);this.Oc=$.FB.TC(x,P)}else if(K._=="st_dupsingle"){var v=P.add.lmfx[dz.E9[K.Av[0]]].v;
if(v[K.Av[1]]==null)return;var n=JSON.parse(JSON.stringify(v[K.Av[1]]));v.splice(K.Av[1],0,n)}else if(K._=="st_movsingle"){var C=K.Av[1],v=P.add.lmfx[dz.E9[K.Av[0]]].v;
if(v[K.Av[1]]==null)return;var T=Math.max(0,Math.min(v.length-1,C+K.akt)),o=v[T];v[T]=v[C];v[C]=o}else if(K._=="cancel"){if(this.R6==null)delete P.add.lmfx;
else P.add.lmfx=JSON.parse(this.R6);$.FB.vn(x,P,JSON.parse(this.EZ));this.EZ=null;this.R6=null}else if(K._=="confirm"){var s=JSON.stringify(P.add.lmfx),Q=new im([11,6],this);
Q.data={B:[i],Xj:[this.R6],ma:[s],Fv:[this.EZ],Yf:[JSON.stringify(this.Oc)]};x.i1(Q);this.EZ=null;this.R6=null;
if(s!=null){var X=JSON.parse(s);i5.xF(X);X.classID="Lefx";delete X.masterFXSwitch;var B=new i3(u.E.Hg);
B.s9=!0;B.data={va:"set",Hy:!0};var M=b$.oe("Lyr",!0);M.v.splice(0,0,{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}});
B.data.Ks={__name:"Set",classID:"setd",null:M,T:{t:"Objc",v:X}};E.S(B)}}else if(K._=="st_copy"){this.wo=[this.EZ,this.R6];
this.EZ=null;this.R6=null}else if(K._=="st_paste"||K._=="st_clear"){if(K._=="st_paste"&&this.wo==null)return;
var S=K.j!=null?[K.j]:x.g.slice(0),f=[],F=[],G=[],D=[];for(var y=0;y<S.length;y++){var P=x.B[S[y]],b=$.FB.TC(x,P);
f.push(P.add.lmfx?JSON.stringify(P.add.lmfx):null);G.push(JSON.stringify(b));if(K._=="st_paste"){F.push(this.wo[1]);
D.push(this.wo[0])}else{F.push(null);b.lrMd.v=0;b.Opct.v.val=100;b.iOpa.v.val=100;b.blIf={v:[]};for(var H=0;
H<10;H++)b.blIf.v.push(0,0,255,255);D.push(JSON.stringify(b))}}var Q=new im([11,6],this);Q.data={B:S,Xj:f,ma:F,Fv:G,Yf:D};
this.RO(Q.data,x);x.i1(Q);this.EZ=null;this.R6=null}else{var q=this.Oc,X=null;if(K._=="st_delsingle"){X=JSON.parse(this.R6);
X[dz.E9[K.Av[0]]].v.splice(K.Av[1],1);X=JSON.stringify(X)}if(X==null)delete P.add.lmfx;else P.add.lmfx=JSON.parse(X);
if(q!=null)$.FB.vn(x,P,q);var Q=new im([11,6],this);Q.data={B:[K.j],Xj:[this.R6],ma:[X],Fv:[this.EZ],Yf:[JSON.stringify(q)]};
x.i1(Q);this.EZ=null;this.R6=null}P.vJ.al=!0;x.Xw=!0;x.U()};$.FB.TC=function(K,E){if(E.add.iOpa==null)E.add.iOpa=255;
if(E.add.brst==null)E.add.brst=[1,1,1];var x=E.wC()?["pass"].concat(db.bV):db.bV;return{lrMd:{v:x.indexOf(E.Vk)},Opct:{v:{type:"#Prc",val:Math.round(E.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(E.add.iOpa*100/255)},t:"UntF"},blIf:{v:E.Dg.slice(0)},brst:{v:E.add.brst},gagl:{t:"UntF",v:{type:"#Ang",val:K.XI()}},aln:K.So(),wC:E.wC()}};
$.FB.vn=function(K,E,x){var c=E.wC()?["pass"].concat(db.bV):db.bV;E.Vk=c[x.lrMd.v];E.opacity=Math.round(x.Opct.v.val*255/100);
E.add.iOpa=Math.round(x.iOpa.v.val*255/100);E.Dg=x.blIf.v.slice(0);E.add.brst=x.brst.v.slice(0);K.I0(x.gagl.v.val);
K.Zv(x.aln)};$.FB.prototype.Bn=function(K,E){for(var y=0;y<K.B.length;y++){var x=E.B[K.B[y]],c=K.Xj[y];
if(c==null)delete x.add.lmfx;else x.add.lmfx=JSON.parse(c);$.FB.vn(E,x,JSON.parse(K.Fv[y]));x.vJ.al=!0}E.Xw=!0;
E.U()};$.FB.prototype.RO=function(K,E){for(var y=0;y<K.B.length;y++){var x=E.B[K.B[y]],c=K.ma[y];if(c==null)delete x.add.lmfx;
else x.add.lmfx=JSON.parse(c);$.FB.vn(E,x,JSON.parse(K.Yf[y]));x.vJ.al=!0}E.Xw=!0;E.U()};$.TE=function(){$.dC.call(this,"Layer Comps",$.VP)};
$.TE.prototype=new $.dC;$.TE.prototype.Qp=function(K,E,x,c){var J=JSON.parse(JSON.stringify(x.s8)),i=JSON.parse(JSON.stringify(x.s8)),P=null,_=null,a=null,j=-1,e=!1;
if(K._=="delLC"){var d=$.TE.O9(x.s8,K.JD),I=x.s8.lastAppliedComp?x.s8.lastAppliedComp.v:0;i.list.v.splice(d,1);
if(I==K.JD)delete i.lastAppliedComp;P="Delete Layer Comp"}if(K._=="editLC"){var d=$.TE.O9(x.s8,K.JD),v=i.list.v[d].v;
if(K.e2!=null)v.Nm.v=K.e2;if(K.az5!=null){var n=K.az5,C=v.capturedInfo.v,T=C&(1<<n)-1;C=C>>n;if((C&1)==1)C--;
else C++;v.capturedInfo.v=(C<<n)+T}P="Layer Comp properties"}if(K._=="setLC"){$.TE.JY(x);if(K.JD==0)delete i.lastAppliedComp;
else i.lastAppliedComp={t:"long",v:K.JD};P="Switch Layer Comp";e=!0}if(K._=="updLC"){$.TE.JY(x);_=$.TE.aiY(x,K.JD);
a=$.TE.o5(x,K.JD);i.lastAppliedComp={t:"long",v:K.JD};P="Update Layer Comp";j=K.JD;e=!0}if(K._=="addLC"){$.TE.JY(x);
var o=1;for(var y=0;y<i.list.v.length;y++)o=Math.max(o,i.list.v[y].v.compID.v)+1;o+=Math.floor(Math.random()*1e4);
var s={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(i.list.v.length+1)},compID:{t:"long",v:o},capturedInfo:{t:"long",v:7}}};
i.list.v.push(s);i.lastAppliedComp={t:"long",v:o};P="New Layer Comp";var Q=$.TE.o5(x,o);$.TE.CF(x,Q,o)}var X=new im(P,this);
X.data={aw1:J,a7K:i,agj:_,api:a,JD:j,tO:e};this.RO(X.data,x);x.i1(X)};$.TE.prototype.RO=function(K,E){E.s8=K.a7K;
E.Xw=!0;if(K.api)$.TE.CF(E,K.api,K.JD);if(K.tO){var x=E.s8.lastAppliedComp?E.s8.lastAppliedComp.v:0,c=$.TE.O9(E.s8,x),J=c==-1?null:E.s8.list.v[c].v,i=J?J.capturedInfo.v:7;
$.TE.kM(E,x,i);E.U()}};$.TE.prototype.Bn=function(K,E){E.s8=K.aw1;E.Xw=!0;if(K.agj)$.TE.CF(E,K.agj,K.JD);
if(K.tO){var x=E.s8.lastAppliedComp?E.s8.lastAppliedComp.v:0,c=$.TE.O9(E.s8,x),J=c==-1?null:E.s8.list.v[c].v,i=J?J.capturedInfo.v:7;
$.TE.kM(E,x,i);E.U()}};$.TE.JY=function(K){if(K.s8.lastAppliedComp!=null||!K.O_)return;var E=$.TE.o5(K,0);
$.TE.CF(K,E,0);K.O_=!1};$.TE.FW=function(K,E,x){K.v.Hrzn.v+=E;K.v.Vrtc.v+=x};$.TE.O9=function(K,E){var x=K.list.v;
for(var y=0;y<x.length;y++)if(x[y].v.compID.v==E)return y;return-1};$.TE.ato=function(K){var E=K.layerSettings.v,J=null;
if(E.length==0)return;var x="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),c=E[0].v;
if(c.enab==null)c.enab={t:"bool",v:!0};if(c.Ofst==null)c.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var y=0;y<E.length;y++){var i=E[y].v;if(J==null)J=JSON.parse(JSON.stringify(i));else for(var P=0;
P<x.length;P++){var _=x[P];if(i[_])J[_]=JSON.parse(JSON.stringify(i[_]))}E[y].v=JSON.parse(JSON.stringify(J))}};
$.TE.ah_=function(K,E){var x=K.add.shmd.cmls,c=x.layerSettings.v;for(var J=0;J<c.length;J++){var i=c[J].v,P=i.compList.v[0].v;
if(P==E)return J}return-1};$.TE.ajB=function(K,E){var x=$.TE.ah_(K,E);return x==-1?null:K.add.shmd.cmls.layerSettings.v[x].v};
$.TE.kM=function(K,E,x){for(var y=0;y<K.B.length;y++){var c=K.B[y],J=c.add.shmd.cmls;if(J==null)continue;
var i=J.layerSettings.v,P=$.TE.ajB(c,E);if(P==null){c.g7(!1);continue}if((x&1)!=0){if(P.enab)c.g7(P.enab.v);
else c.g7(!0)}if((x&2)!=0){if(P.Ofst){var _=P.Ofst.v,a=c.ES(K),j=Math.round(_.Hrzn.v-a.x),e=Math.round(_.Vrtc.v-a.y);
if(j!=0||e!=0)$.DU.jB(K,[y],null,j,e)}}if((x&4)!=0){if(P.Lefx){var d=JSON.parse(JSON.stringify(P.Lefx.v));
i5.Dc(d);if(JSON.stringify(d)!=JSON.stringify(c.add.lmfx)){c.add.lmfx=d;c.vJ.al=!0}}else delete c.add.lmfx;
if(P.blendOptions){var I=P.blendOptions.v;if(I.Opct)c.opacity=Math.round(255*I.Opct.v.val/100);if(I.fillOpacity)c.add.iOpa=Math.round(255*I.fillOpacity.v.val/100);
if(I.Md)c.Vk=c.add.lsct==fV.Xx?"norm":db.qw(I.Md.v.BlnM)}else{c.opacity=255;c.Vk=c.wC()?"pass":"norm";
c.add.iOpa=255}}}};$.TE.aiY=function(K,E){var x={};for(var y=0;y<K.B.length;y++){var c=K.B[y];if(c.add.shmd==null||c.add.shmd.cmls==null)continue;
x["l"+c.add.lyid]=JSON.parse(JSON.stringify($.TE.ajB(c,E)))}return x};$.TE.o5=function(K,E){var x={};
for(var y=0;y<K.B.length;y++){var c=K.B[y],J=c.add.lyid;x["l"+J]=$.TE.aet(K,c,E)}return x};$.TE.aet=function(K,E,x){var c=E.add.shmd?E.add.shmd.cmls:null,J={classID:"null"},i=E.ES(K),P={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:i.x},Vrtc:{t:"long",v:i.y}}};
J.compList={t:"VlLs",v:[{t:"long",v:x}]};J.enab={t:"bool",v:E.bL()};J.Ofst=JSON.parse(JSON.stringify(P));
J.FXRefPoint=JSON.parse(JSON.stringify(c&&c.origFXRefPoint?c.origFXRefPoint:P));J.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:db.zJ(E.Vk)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*E.opacity/255}},fillOpacity:{t:"UntF",v:{type:"#Prc",val:E.add.iOpa!=null?100*E.add.iOpa/255:100}}}};
if(E.add.vmsk){J.vectorMask={t:"Objc",v:{classID:"null"}};J.vectorMask.v.Ofst=JSON.parse(JSON.stringify(P))}if(E.add.lmfx){J.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(E.add.lmfx))};
i5.xF(J.Lefx.v)}return J};$.TE.atC=function(K,E){var x=E.add.lyid;if(E.add.shmd==null)E.add.shmd={};
if(E.add.shmd.cmls==null){E.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:x},layerSettings:{t:"VlLs",v:[{t:"Objc",v:$.TE.aet(K,E,0)}]}}}};
$.TE.CF=function(K,E,x){for(var y=0;y<K.B.length;y++){var c=K.B[y],J=c.add.lyid;$.TE.atC(K,c);var i=c.add.shmd.cmls,P=i.layerSettings.v,_=E["l"+J];
if(_!=null)_={t:"Objc",v:JSON.parse(JSON.stringify(_))};var a=$.TE.ah_(c,x);if(a==-1){if(_==null)continue;
else P.push(_)}else{if(_==null)P.splice(a,1);else P[a]=_}}};$.TE.l_=function(K,E){for(var y=0;y<K.B.length;
y++){var x=K.B[y],c=x.add.lyid;if(x.add.shmd==null||x.add.shmd.cmls==null)continue;var J=x.ES(K),i=Math.round(J.x),P=Math.round(J.y);
if(!E){i=-i;P=-P}var _=x.add.shmd.cmls,a=_.layerSettings.v;if(_.origFXRefPoint)$.TE.FW(_.origFXRefPoint,-i,-P);
for(var j=0;j<a.length;j++){var e=a[j].v;$.TE.FW(e.Ofst,i,P);var d=e.imageMask,I=e.vectorMask;if(d&&d.v.Ofst)$.TE.FW(d.v.Ofst,i,P);
if(I&&I.v.Ofst)$.TE.FW(I.v.Ofst,i,P)}}};$.Yq=function(){$.dC.call(this,"Adjust Edit",$.mo);this.SS=null;
this.iY=null};$.Yq.prototype=new $.dC;$.Yq.qu=function(K,E,x,c){if(c)E/=4;var J=0,i=0,P=255,_=0,a=0,j=255;
while(i+K[J]<E){i+=K[J];J++}while(_+K[P]<E){_+=K[P];P--}if(c){J-=Math.round(K[J]/(x/32));P+=Math.round(K[P]/(x/32));
if(J<0)a=Math.round(-J*255/(P-J));if(P>255)j=255-Math.round((P-255)*255/(P-J))}return[Math.max(J,0),Math.min(P,255),a,j,100]};
$.Yq.prototype.Qp=function(K,E,x,c,J){var i=K._;if(i=="auto"){var P=K.o3,_=$.Yq.getData(x);for(var y=0;
y<_.length;y++){var a=_[y],j;if(P<3){}else{var e=dJ.JQ("hue2");c7.l2(e,0,[0,-100,0]);j=c2.We("hue2",e)}c2.as(j,a.AJ,a.Oe,a.ZE)}$.Yq.OJ(x,_);
$.Yq.Mu(x,_,P<3?[4,16,P]:[19,7,0],this);x.U()}if(i=="edit_layer")this.a69(K,E,x,c);if(i=="edit"||i=="confirm"||i=="cancel")this.ro(K,E,x,J,!0);
if(i=="start"){if(x.g.length==0)return;var d=x.B[x.g[0]];if(d.add.SoLd&&d.kS<=0&&x.N9.length==0){var I=new i3(u.E.v,!0);
I.G=$.AL;I.data={_:"start",LJ:K.Lj,W8:K.W8};E.S(I);return}if(!x._A(E,null,!0))return;if(az[K.Lj]&&K.W8==null){if(x.g.length!=1)alert("Will be applied to "+x.g.length+" layers.");
var I=new i3(u.E.L,!0);I.data={_:u.c.v9,xc:"afw_"+K.Lj};E.S(I)}else{this.ro({_:"edit",W8:K.W8,LJ:K.Lj},E,x,J);
this.ro({_:"confirm",LJ:K.Lj},E,x,J)}}};$.Yq.prototype.a69=function(K,E,x,c){var J=K._,i=x.g[0],P=x.B[i],_=c2.get(P.add),a=JSON.parse(JSON.stringify(P.add[_])),I;
for(var j in K.Z)a[j]=K.Z[j];var e=JSON.parse(JSON.stringify(a));for(var j in c2.Zq)if(c2.Zq[j]==_)e.classID=j;
var d=x.history[x.qh];if(d&&d.G==this&&d.data._5!=null&&d.data.j==i)I=d;else{var v=new i3(u.E.Hg,!0),n={classID:"setd",null:b$.oe("AdjL",!0),T:{t:"Objc",v:e}};
v.data={Hy:!0,va:"set",Ks:n};E.S(v);var I=new im([6,39],this);I.data={j:i,_5:P.add[_],iz:a,Ch:n};x.i1(I)}I.data.iz=a;
I.data.Ch.T.v=e;this.RO(I.data,x)};$.Yq.getData=function(K,E,x){var c=[],J=new cS(0,0,K.b,K.n),i=K.N9.length!=0?[-1-K.N9[0]]:K.g;
for(var y=0;y<i.length;y++){var P=i[y],_=P<0?null:K.B[P],a={j:P,s4:P<0?1:_.kS};c.push(a);var j=K.Un[-1-P];
if(0<=P)j=_.kS<=0?null:_.kS==1?_.FA():_.Xe(K).z;var e=j?j.rect:_.rect;if(K.P){a.ZE=K.P.rect.Sl(E||j!=null?J:e)}else a.ZE=E||j!=null?e.XN(J):e.clone();
if(x)a.ZE=x[y].ZE.clone();var d=a.ZE.O();a.AJ=W.Q(d*4);if(j)$.Hj.A_(j.channel,j.rect,j.color,a.AJ,a.ZE);
else W.UL(_.buffer,e,a.AJ,a.ZE);a.Oe=a.AJ.slice(0);if(K.P){a.FH=W.Q(d);W.XT(K.P.channel,K.P.rect,a.FH,a.ZE)}}return c};
$.Yq.a65=function(K,E,x){if(E==null)return E;var c=c2.gG(K,E),i;if(c==-1)return E;var J=x.length>>>2,P=W.ZT(x),_=.001*J;
if(c==0||c==2)i=[[0,255,0,255,100],$.Yq.qu(P[1],_,J,c==2),$.Yq.qu(P[2],_,J,c==2),$.Yq.qu(P[3],_,J,c==2)];
if(c==1)i=[$.Yq.qu(P[0],_*.33,J,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var a=dJ.JQ("levl");
for(var y=0;y<4;y++)bH.l2(a,y,i[y]);return a};$.Yq.aiQ=function(K,E,x,c){var J,i;if(x.t=="name"){var P=0;
for(var _=0;_<K.B.length;_++)if(K.B[_].getName()==x.v.val)P=_;if(K==E&&P==c.j){J=c.AJ;i=c.ZE}else{var a=K.B[P];
J=a.buffer;i=a.rect}}else{i=new cS(0,0,K.b,K.n);J=K==E?c.Dr:K.S7()}return[J,i]};$.Yq.prototype.ro=function(K,E,x,c){if(this.SS==null){if(K.LJ=="aply")x.B[x.g[0]].extend(new cS(0,0,x.b,x.n));
this.SS=$.Yq.getData(x,null,K.LJ=="fade"?x.$z().data:null);if(K.LJ=="aply"||K.LJ=="matc")this.SS[0].Dr=x.S7()}if(K._=="edit"){this.iY=[K.LJ,K.W8];
var J=this.SS[0],i=$.Yq.a65(K.LJ,K.W8,J.AJ),P=c2.We(K.LJ,i);if(K.LJ=="fade"||K.LJ=="matc"||K.LJ=="aply")P=K.W8;
if(P!=null){for(var _=0;_<this.SS.length;_++){var a=this.SS[_];if(K.BQ)W.dq(a.AJ,a.Oe);else if(K.LJ=="fade"){var j=db.qw(K.W8.Md.v.BlnM),e=K.W8.Opct.v.val/100,d=x.$z().data[_];
W.dq(d.AJ,a.Oe);if(j=="norm")W.h.bG(a.AJ,a.ZE,a.Oe,a.ZE,null,null,null,a.ZE,e);else{var I=bd.HQ();I.su=!0;
for(var y=0;y<d.AJ.length;y+=4)if(d.AJ[y+3]!=a.AJ[y+3]){I=null;break}W.h.Nh(j,a.AJ,a.ZE,a.Oe,a.ZE,a.ZE,e,I)}}else if(K.LJ=="matc"){var v;
if(P.noReference&&P.noReference.v)v=a.AJ;else{var n=P.Srce.v,C=n[1].v.val,T=E.Mt,o=x;for(var y=0;y<T.length;
y++)if(T[y].name==C)o=T[y];var s=$.Yq.aiQ(o,x,n[0],a);v=s[0]}cJ(a.AJ,a.ZE.b,a.ZE.n,v,a.Oe,[P.Lght.v,P.ClrR.v,P.Fade.v,P.neutralizeColor?P.neutralizeColor.v:!1])}else if(K.LJ=="aply"){P=P.With.v;
var Q=P.T.v,s=$.Yq.aiQ(x,x,Q[1],a),v=s[0],X=s[1],B=P.Clcl?P.Clcl.v.Clcn:null,j=B?db.qw(B):"norm",e=P.Opct?P.Opct.v.val/100:1,M=["RGB","Rd","Grn","Bl","Trsp"].indexOf(Q[0].v.enum),i=P.Invr&&P.Invr.v;
if(i||M!=0){v=v.slice(0);if(i)W.a9R(v);if(M!=0){var S=W.Q(X.O());W.Bp(v,S,M-1);if(M==4)W.Pa(S);for(var f=0;
f<3;f++)W.Mz(S,v,f)}}if(B=="Add"||B=="Sbtr"){var F=1/P.Scl.v,G=P.Ofst.v,D=B=="Add"?1:-1,b=new Uint8ClampedArray(a.Oe.buffer);
for(var y=0;y<v.length;y+=4){b[y]=(a.AJ[y]+D*v[y])*F+G;b[y+1]=(a.AJ[y+1]+D*v[y+1])*F+G;b[y+2]=(a.AJ[y+2]+D*v[y+2])*F+G}}else{var I=bd.HQ();
I.su=P.PrsT&&P.PrsT.v;a.Oe.fill(0);a.Oe.set(a.AJ);W.h.Nh(j,v,X,a.Oe,a.ZE,a.ZE,e,I)}}else c2.as(P,a.AJ,a.Oe,a.ZE)}$.Yq.OJ(x,this.SS)}}if(K._=="cancel"){$.Yq.am8(x,this.SS);
this.SS=null}if(K._=="confirm"){var H={fade:[2,11],aply:[2,12],matc:[4,18]},q=H[K.LJ];if(q==null)q=c2.names[K.LJ];
var O=c2.gG(K.LJ,this.iY[1]);if(O!=-1)q=[4,16,O];$.Yq.Mu(x,this.SS,q,this);this.SS=null;if(O==-1)$.Yq.Ts(E,this.iY)}x.U()};
$.Yq.Ts=function(K,E){var x=E[0],c=E[1],J,i;if(c2.Qn[x]){J=c2.Qn[x];if(az[x])i=c}if(dJ.Qn[x]){J=dJ.Qn[x];
if(az[x])i=c}if(x=="fade"){J="fade";i=c}if(x=="matc"){J="matchColor";i=c}if(x=="aply"){J="applyImageEvent";
i=c}if(J==null)return;var P=new i3(u.E.Hg,!0);P.data={Hy:!0,va:J};if(i){i=JSON.parse(JSON.stringify(i));
P.data.Ks=i}K.S(P)};$.Yq.am8=function(K,E){$.Yq.E4(K,E)};$.Yq.Mu=function(K,E,x,c){for(var y=0;y<E.length;
y++){var J=E[y],i=K.B[J.j],P=J.j<0?K.Un[-1-J.j]:J.s4<=0?null:J.s4==1?i.FA():i.Xe(K).z;if(P){P.oo();P.I_=!0;
if(i)i.DY(K)}else{i.oo();i.U()}delete J.Oe;delete J.FH}var _=new im(x,c);_.data=E;K.i1(_);K.Xw=!0};$.Yq.OJ=function(K,E,x){for(var y=0;
y<E.length;y++){var c=E[y],J=K.B[c.j],i=x?c.AJ:c.Oe,P=c.ZE;if(c.s4==0){J.extend(P);if(c.FH){W.UL(c.AJ,P,J.buffer,J.rect);
W.h.bG(i,P,J.buffer,J.rect,c.FH,P,0,P,1)}else W.UL(i,P,J.buffer,J.rect)}else{var _=c.j<0?K.Un[-1-c.j]:c.s4==1?J.FA():J.Xe(K).z;
_.extend(P);if(c.FH){var a=W.Q(P.O()*4);W.dq(c.AJ,a);W.h.bG(i,P,a,P,c.FH,P,0,P,1);$.Hj.tM(a,P,_)}else $.Hj.tM(i,P,_);
_.I_=!0;if(J)J.DY(K)}if(J)J.U()}if(!x)$.Yq.a7v(K,E)};$.Yq.E4=function(K,E){for(var y=0;y<E.length;y++){var x=E[y],c=K.B[x.j],J=x.ZE,i=W.Q(J.O()*4);
if(x.s4==0){W.UL(c.buffer,c.rect,i,J);c.extend(J);W.UL(x.AJ,J,c.buffer,c.rect);c.oo()}else{var P=x.j<0?K.Un[-1-x.j]:x.s4==1?c.FA():c.Xe(K).z;
$.Hj.A_(P.channel,P.rect,P.color,i,J);P.extend(J);$.Hj.tM(x.AJ,J,P);P.oo();P.I_=!0;if(c)c.DY(K)}x.AJ=i;
if(c)c.U()}K.Xw=!0};$.Yq.a7v=function(K,E){var x=$.Yq.ahB(K),c=~x;if(x==16777215)return;for(var y=0;
y<E.length;y++){var J=E[y],i=K.B[J.j],P=J.ZE;if(J.s4!=0)continue;i.extend(P);var _=P.x-i.rect.x,a=P.y-i.rect.y,j=i.rect.b,e=new Uint32Array(J.AJ.buffer),d=new Uint32Array(i.buffer.buffer);
for(var I=0;I<P.n;I++)for(var v=0;v<P.b;v++){var n=I*P.b+v,C=(I+a)*j+(v+_);d[C]=d[C]&x|e[n]&c}i.oo();
i.U()}K.U()};$.Yq.ahB=function(K){var E=K.D.NW;return E[2]*16711680|E[1]*65280|E[0]*255};$.Yq.prototype.Bn=function(K,E){var x=E.B[K.j];
if(K._5!=null)x.add[c2.get(x.add)]=K._5;else $.Yq.E4(E,K);E.U()};$.Yq.prototype.RO=function(K,E){var x=E.B[K.j];
if(K._5!=null)x.add[c2.get(x.add)]=K.iz;else $.Yq.E4(E,K);E.U()};$.vF=function(){$.dC.call(this,"Filter Edit",$.AL);
this.SS=null;this.J4=null;this._=null;this.iY=null};$.vF.prototype=new $.dC;$.vF.prototype.Qp=function(K,E,x,c,J){if(K._=="start"){if(x.g.length==0)return;
var i=x.B[x.g[0]];if(i.add.SoLd&&i.kS<=0&&x.N9.length==0){}else if(!x._A(E,null,!0))return;var P=K.LJ;
if((az[P]||dJ.a[P])&&K.W8==null){if(x.g.length!=1)alert("Will be applied to "+x.g.length+" layers.");
var _=new i3(u.E.L,!0);_.data=$.vF.a24(P,this.xy(x,P));E.S(_)}else{var a={_:"edit",LJ:P,W8:K.W8,NQ:this.xy(x)};
this.Qp(a,E,x,c,J);a._="confirm";delete a.W8;this.Qp(a,E,x,c,J)}}if(K._=="edit"||K._=="cancel"||K._=="confirm"){if(K._=="edit")this.iY=[K.LJ,K.W8];
if(K.NQ)this.aod(K,E,x,J);else this.a96(K,E,x,J)}if(K._=="applylast"&&this.iY!=null){var a={_:"edit",LJ:this.iY[0],W8:this.iY[1],NQ:this.xy(x)};
this.Qp(a,E,x,c,J);a._="confirm";delete a.W8;this.Qp(a,E,x,c,J)}};$.vF.a24=function(K,E){var x=dJ.a[K];
if(x)return{_:u.c.iM,G:x,_q:{NQ:E}};else return{_:u.c.v9,xc:"afw_"+K,NQ:E}};$.vF.prototype.xy=function(K,E){var x=K.B[K.g[0]],c;
if(x.add.SoLd&&x.kS<=0&&K.N9.length==0){c={j:K.g[0],index:0};if(x.add.SoLd.filterFX!=null){var J=x.add.SoLd.filterFX.v.filterFXList.v;
c.index=J.length;for(var y=0;y<J.length;y++)if(dJ.GG(J[y].v)==E&&dJ.a[E])c.index=y}}return c};$.vF.prototype.aod=function(K,E,x,c){var J=x.B[K.NQ.j],i=K.LJ;
if(K._=="edit"){if(this._==null){var P=dJ.names[i];if(P==null)P=c2.names[i];if(i=="blendOptions")P=[14,10];
this._=new im(P,this);this._.data={NQ:K.NQ,arl:JSON.parse(JSON.stringify(J.add.SoLd))}}if(!J.St()){J.add.SoLd.filterFX=dJ.RW();
this._.data.mi=gD.amY(J.add.SoLd.placed.v);x.ey(this._.data.mi);J.mQ(x)}var _=J.add.SoLd.filterFX.v.filterFXList.v;
if(_[K.NQ.index]==null){_.push(dJ.Ew(i,c))}if(K.W8){_[K.NQ.index].v.enab.v=K.BQ!=!0;if(i=="blendOptions")_[K.NQ.index].v.blendOptions.v=K.W8;
else _[K.NQ.index].v.Fltr.v=K.W8}this._.data.aql=JSON.parse(JSON.stringify(J.add.SoLd));this.RO(this._.data,x)}if(K._=="cancel"){if(this._)this.Bn(this._.data,x);
this._=null}if(K._=="confirm"){if(this._)x.i1(this._);$.Yq.Ts(E,this.iY);this._=null}};$.vF.prototype.ww=function(K){return{o:K>>>16,J:K>>>8&255,k:K&255}};
$.vF.prototype.a96=function(K,E,x,c){if(this.SS==null){var J=dJ.t5(K.LJ,K.W8);this.SS=$.Yq.getData(x,J.x!=0||J.y!=0)}if(K._=="edit"){var i=JSON.stringify(K.W8);
if((K.W8==null||i!=this.J4)&&K.BQ!=!0)for(var y=0;y<this.SS.length;y++){var P=this.SS[y],_={rect:P.ZE,buffer:P.AJ},a={rect:P.ZE,buffer:P.Oe};
if(K.LJ=="Avrg"&&P.FH){_.buffer=P.AJ.slice(0);W.Z4(P.FH,_.buffer)}dJ.as(K.LJ,_,K.W8,this.ww(c.U9),this.ww(c.xw),a,[x.add.lnk2?x.add.lnk2:[],x.B[x.g[0]].FA(),x.Un,x.Ox()]);
if(K.LJ=="Avrg"&&P.FH){var j=P.AJ.length;for(var y=0;y<j;y+=4)P.Oe[y+3]=P.AJ[y+3]}this.J4=i}$.Yq.OJ(x,this.SS,K.BQ)}if(K._=="cancel"){$.Yq.am8(x,this.SS);
this.SS=null;this.J4=null}if(K._=="confirm"){$.Yq.Mu(x,this.SS,dJ.names[K.LJ],this);this.SS=null;this.J4=null;
$.Yq.Ts(E,this.iY)}x.U();x.Xw=!0};$.vF.prototype.Bn=function(K,E){if(K.NQ){var x=E.B[K.NQ.j];if(K.mi)E.q3(K.mi);
x.add.SoLd=JSON.parse(JSON.stringify(K.arl));if(x.St())x.fQ(E);else{x.mQ(E);x.kS=0}}else $.Yq.E4(E,K);
E.U();E.Xw=!0};$.vF.prototype.RO=function(K,E){if(K.NQ){var x=E.B[K.NQ.j];if(K.mi)E.ey(K.mi);x.add.SoLd=JSON.parse(JSON.stringify(K.aql));
if(x.St())x.fQ(E);else x.mQ(E);if(!x.Gw())x.LD+=32}else $.Yq.E4(E,K);E.U();E.Xw=!0};var eu={$r:"0",Xb:"1",B5:"2",XE:"3",mD:"3.5",aH:"4",up:"5",dF:"6",ZX:"7",v:"8",Ro:"8.5",ZQ:"8.8",f7:"9",r8:"10",xl:"11",nX:"12",fh:"13",N7:"14",uF:"15",qA:"16",PF:"17",Fa:"21",fx:"22",s3:"23",f6:"23.0",c0:"23.1",o_:"23.2",gj:"23.3",fX:"23.4",IX:"23.5",Sa:"23.6",amW:"30",l3:"31",QX:"40",SE:"41",pt:"42"};
eu.BU={};eu.BU[eu.Xb]=["abr","brushes",de,[9,3],3];eu.BU[eu.B5]=["grd","gradients",fl,[12,37],4];eu.BU[eu.XE]=["shc","contours",jf,[12,21],0];
eu.BU[eu.mD]=["acv","curves",hb,[4,2],0];eu.BU[eu.aH]=["asl","styles",dN,[12,22],5];eu.BU[eu.up]=["pat","patterns",cw,[12,62],6];
eu.BU[eu.dF]=["csh","shapes",aS,[12,77],7];eu.BU[eu.ZX]=["aco","swatches",jn,[9,8],0];eu.BU[eu.v]=["atn","actions",fR,[9,9],2];
eu.BU[eu.Ro]=["tpl","tpresets",dH,[9,12],0];eu.BU[eu.ZQ]=["icc","profiles",d5,"ICCs",8];function im(K,E,x){if(x==null)x=!1;
this.name=K;this.G=E;this.iG=x;this.data=null;this.au6=Date.now()}var b$={};b$.oe=function(K,E){var x={t:"Clss",v:{classID:K}};
if(E)x={t:"Enmr",v:{classID:K,typeID:"Ordn",enum:"Trgt"}};return{t:"obj ",v:[x]}};b$.Jo=function(K,E){var x={classID:"Lyr"};
x[K]=E;return{va:"set",Ks:{classID:"null",null:b$.oe("Lyr",!0),T:{t:"Objc",v:x}}}};b$.amM=function(K,E,x,c,J){var i=new i3(u.E.Hg,!0),P=[],y=0,_=b$.cU(E,x,c,P);
while(P.length!=0){var a=P.pop();y++;if(!a.q)continue;console.log(y-1);if(a.va=="conditional"){var j=K.B[K.g[0]],e=a.Ks.null.v.Cndt,d=!1;
if(e=="Bckg")d=!1;else if(e=="Pxel"&&K.IC(!1))d=!0;else if(e=="Adjs"&&c2.get(j.add))d=!0;else if(e=="Shp"&&j.add.vogk)d=!0;
else if(e=="Grup"&&j.wC())d=!0;else if(e=="Opn"&&K!=null)d=!0;else if(e=="32Bt")d=!1;else if(e=="RGB")d=!0;
var I=a.Ks.then,v=a.Ks.else;if(d&&I)b$.cU(E,I.v[0].v.val,I.v[1].v.val,P);if(!d&&v)b$.cU(E,v.v[0].v.val,v.v[1].v.val,P)}else if(a.va=="stop"){if(a.Ks.Cntn&&a.Ks.Cntn.v==!0)window.confirm(a.Ks.Msge.v);
else{alert(a.Ks.Msge.v);break}}else if(a.va=="play"){var n=a.Ks.null.v,C=new i3(u.E.L,!0);C.data={_:u.c.jI,WX:[n[0].v.val,n[1].v.val]};
J.S(C)}else{i.data={va:a.va,Ks:a.Ks};J.S(i)}}};b$.cU=function(K,E,x,c){var J;for(var y=0;y<K.length;
y++){if(K[y].vZ!=x)continue;var i=K[y].E5;for(var P=0;P<i.length;P++){if(i[P].vZ!=E)continue;J=i[P].E5}}var _=J.length;
for(var y=0;y<_;y++)c.push(J[_-1-y])};b$.ak6=function(K){var E=K.va,x=K.Ks,c,P,_,a,j;if(x&&x.null)c=x.null.v[0];
if(x&&c==null&&x.At)c=x.At.v[0];if(c&&c.t=="obj ")c=c.v[0];var J=c&&c.v?c.v.classID:null,i=["purge"];
if(i.indexOf(E)!=-1)return E[0].toUpperCase()+E.slice(1);if(E=="GEfc"||E=="paintDaubs")return eD.names[x.GEfk.v.GEft][1];
j=c2.Qn;for(P in j)if(j[P]==E)_=P;j=dJ.Qn;for(P in j)if(j[P]==E)a=P;if(_){var e=c2.gG(_,x);if(e!=-1)return[4,16,e];
return c2.names[_]}if(a)return dJ.names[a];var d=b$.adI;if(E=="make"){if(c){if(J=="AdjL")return[6,1];
else if(J=="layerSection")return x.From?[6,9]:[6,20];else if(J=="Lyr")return[6,13];else if(J=="Chnl"&&c.v.enum=="Msk")return[6,2];
else if(J=="contentLayer")return[6,48,1];else if(J=="BckL")return"Make Background Layer";else if(J=="Path")return"Make Path";
else if(J=="TxLr")return"Make Text Layer";else if(J=="slice")return"Make Slices";else if(J=="Dcmn")return[11,7];
else if(J=="Gd")return[23,4]}if(x.Nw){J=x.Nw.v.classID;if(J=="Dcmn")return[11,7];else if(J=="Chnl"||J=="SCch")return"New Channel"}}else if(E=="deselect"){if(J=="Path")return"Deselect current path";
else throw J}else if(E=="draw"){return"Draw"}else if(E=="select"){if(J=="Chnl")return"Select "+(c.v.enum=="Msk"?"Mask ":"")+"Channel";
else if(J=="Mn")return"Select Panel \""+c.v.enum+"\"";else if(J=="Lyr"){if(c.t=="Enmr")return"Select "+{Bckw:"Backward",Frwr:"Forward",Back:"Back",Frnt:"Front"}[c.v.enum]+" Layer";
return"Select Layer \""+c.v.val+"\""}else if(J=="Path")return"Select Path";else if(J=="Brsh")return"Select Brush";
else if(J=="Dcmn")return"Select Document"}else if(d[E]&&J=="Chnl"){var I=c.v.keyID=="fsel";return d[E]+" "+(I?"Selection":"Channel")}else if(E=="set"){if(J=="Lyr")return"Set Current Layer";
else if(J=="AdjL")return[6,39];else if(J=="contentLayer")return[6,48,2];else if(J=="Prpr"){var v=c.v.keyID;
if(v=="TxtS")return"Set Text Style";else if(v=="paragraphStyle")return"Set Paragraph Style";else if(v=="Lefx")return[11,6];
else console.log(v)}else if(J=="Clr")return"Set "+(c.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else if(J=="Brsh")return"Set Brush";else if(J=="Path")return"Set Work Path";else console.log(J)}else if(E=="move"){if(J=="Lyr")return"Move Layer";
else if(J=="Chnl"&&c.v.keyID=="fsel")return[7,7];else console.log(J)}else if(E=="show"||E=="hide"){var n="";
if(J=="Lyr")+"Layer";if(J=="Chnl")+"Channel";return(E=="show"?"Show":"Hide")+" "+n}else if(E=="reset"){if(J=="Clr")return"Reset Colors"}else if(E=="exchange"){if(J=="Clr")return[22,7,0]}else if(E=="rotateEventEnum")return[2,5];
else if(E=="flip"){var C=x.Axis.v.Ornt=="Hrzn";return[[2,6],[22,4,C?2:3]]}if(J=="Chnl"){if(E=="duplicate"){if(c.v.keyID=="fsel")return"Selection to Channel";
else return"Duplicate Channel"}if(E=="delete")return"Delete Channel"}if(E=="transform")return c&&c.v.keyID=="fsel"?[7,10]:[10,16];
var T={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49,0],cutToLayer:[6,49,1],copyMerged:[5,7],paste:[5,2],close:[1,12,0],save:[1,2],groupEvent:[6,18],ungroup:[6,19],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fade:[2,11],applyImageEvent:[2,12],matchColor:[4,18],fill:[2,3],colorRange:[7,8],desaturate:[19,7,0],delete:x?J=="Lyr"?[6,31]:"Delete Path":[2,2],align:[20,4,0],applyLocking:[6,57,1],crop:[11,12,1],placedLayerEditContents:"Edit Contents",placedLayerExportContents:"Export Contents",placedLayerReplaceContents:"Replace Contents",convertMode:"Convert Mode",grow:"Grow Selection",similar:"Similar Selection",newPlacedLayer:[6,7,0],selectNoLayers:"Deselect Layers",canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],divide:"Divide Current Slice",collapseAllGroupsEvent:"Collapse All Groups",conditional:"If"},o=T[E];
if(o==null)o=b$.avZ[E];if(o)return o;return E};b$.avZ={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
b$.adI={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
b$.ajh=function(K,E,x,c){var J=K.va,i=K.Ks,P=!1,_=new i3(u.E.v,!0),e,d,I,v;_.G=$.Os;var a=new i3(u.E.L,!0),j=["purge","updatePlacedLayer","convertMode","convertToProfile"];
if(j.indexOf(J)!=-1)return;v=c2.Qn;for(e in v)if(v[e]==J)d=e;v=dJ.Qn;for(e in v)if(v[e]==J)I=e;if(J=="fade")d=J;
if(J=="matchColor")d="matc";if(J=="applyImageEvent")d="aply";if(d){_.G=$.mo;_.data={_:"start",Lj:d,W8:i}}else if(I){_.G=$.AL;
_.data={_:"start",LJ:I,W8:i}}else if(J=="GEfc"||J=="paintDaubs"){_.G=$.AL;_.data={_:"start",LJ:"GEfc",W8:i}}else if(J=="imageSize"||J=="canvasSize"||J=="revealAll"||J=="trim"||J=="crop"){_.G=$.pV;
_.data={_:"fromAction",t7:K}}else if(J=="fill"||J=="stroke"||J=="delete"&&i==null){var n=null;if(c.g.length!=0)n=c.B[c.g[0]];
var C=W.jk(x.U9);if(n!=null&&J=="fill"&&n.add.TySh){var T="var c = new SolidColor();  c.rgb.red="+C.o+";  c.rgb.green="+C.J+";  c.rgb.blue="+C.k+";  app.activeDocument.activeLayer.textItem.color = c;";
a.data={_:u.c.nO,RI:T}}else if(n!=null&&J=="delete"&&n.add.TySh){_.G=$.H4;_.data={_:"insertText",Z:""}}else if(n!=null&&J=="fill"&&n.Au()){var _=new i3(u.E.Hg,!0),i={classID:"setd",null:b$.oe("contentLayer",!0),T:{t:"Objc",v:{}}};
$.rn.Fw({Clr:{v:W.M.TD(W.jk(x.U9))}},i.T.v,0);_.data={va:"set",Ks:i};E.S(_);return}else{_.G=x.OI==$.i8?$.i8:$.Xb;
_.data={_:"fromAction",t7:K}}}else if(J=="colorRange"||J=="grow"||J=="similar"){_.G=$.BN;_.data={_:"fromAction",t7:K}}else if(J=="set"&&i&&i.T&&i.T.v.Ordn=="Al"&&x.OI==$.H4&&E.Tn().eb()){_.G=$.H4;
_.data={_:"selectAll"}}else if(b$.avZ[J]||b$.adI[J]&&(!1||i.With&&i.With.v[0].v.keyID=="fsel"||i.From&&i.From.v[0].v.keyID=="fsel"||i.null&&i.null.v[0].v.keyID=="fsel"||i.T.v[0]&&i.T.v[0].v.keyID=="fsel")){_.G=$.LR;
_.data={_:"fromAction",t7:K}}var o={copyToLayer:Z.FK,cutToLayer:Z.QC,mergeLayersNew:Z.GH,rasterizeLayer:Z.a4n,mergeVisible:Z.Mk,flattenImage:Z.agg,newPlacedLayer:Z.U4};
if(o[J])_.data={_:o[J],Ks:i};if(_.data){E.S(_);return}if(J=="collapseAllGroupsEvent"){for(var y=0;y<c.B.length;
y++){var n=c.B[y];if(n.wC())n.add.lsct=fV.wg}c.Bi=!0;return}if(J=="desaturate"){_.G=$.mo;_.data={_:"auto",o3:3};
if(c&&c.B[c.g[0]].add.SoLd==null)E.S(_);return}if(J=="close"){if(i&&i.Svng.v.YsN=="Ys"){a.data={_:u.c.$L};
E.S(a)}a.data={_:u.c.V6,z9:c};E.S(a);return}if(J=="save"){a.data={_:u.c.$L};E.S(a);return}if(J=="copyMerged"){a.data={_:u.c.UR,GQ:!0,Sv:!0};
E.S(a);return}if(J=="placedLayerReplaceContents")a.data={_:u.c.yq,D$:!0};var o={placedLayerEditContents:u.c.a2G,placedLayerExportContents:u.c.a5z,copyEvent:u.c.UR,paste:u.c.qp};
if(o[J])a.data={_:o[J],Sv:!0};if(a.data){E.S(a);return}var Q=i.null?i.null.v:null,X=Q?Q[0].v.classID:"";
if(J=="make"){if(i.null==null&&i.Nw)X=i.Nw.v.classID;if(X=="AdjL"){_.data={_:Z.rg,Ks:i}}else if(X=="layerSection"){_.data=i.From?{_:Z.YS}:{_:Z.Pi};
if(i.Usng){var B=i.Usng.v;if(B.Nm)_.data.e2=B.Nm.v;if(B.Clr)_.data.b1=b$.lv(B)}}else if(X=="Lyr"){if(i.Usng&&i.Usng.v.length==2)_.data={_:Z.au8};
else{_.data={_:Z.bM};if(i.Usng)_.data.e2=i.Usng.v.Nm.v;if(i.below&&i.below.v)_.data.aej=!0}}else if(X=="Chnl"&&i.At&&i.At.v[0].v.enum=="Msk"){_.data={_:Z.p5,no:i.Usng.v.UsrM}}else if(X=="Chnl"||X=="SCch"){_.data={_:Z.wE,S8:"fromAction",Z:K}}else if(X=="contentLayer"){_.data={_:Z.ag,Ks:i}}else if(X=="BckL"){c.B[c.g[0]].amq();
return}else if(X=="Dcmn"){if(i.Nw==null)return;var M=i.Nw.v;a.data={_:u.c.CS,c1:gD.apb(M,x)}}else if(X=="Ptrn")a.data={_:u.c.ec,ry:0};
else if(X=="Path"){_.G=$.Xd;_.data={_:"pathedit",S8:"fromsel"}}else if(X=="TxLr"){_.G=$.H4;_.data={_:"fromAction",t7:K}}else if(X=="slice"){_.G=$.n8;
_.data={_:"fromAction",t7:K}}else if(X=="Gd"){var S=[[],[]],M=i.Nw.v;S[M.Ornt.v.Ornt=="Vrtc"?0:1].push(M.Pstn.v.val);
var f=fM.Yy(S);$.DU.Vr(f,c.pY());_.G=$.x3;_.data={_:"gids",NM:f}}else{console.log(J,X,i);throw"e"}}else if(J=="divide"){_.G=$.n8;
_.data={_:"fromAction",t7:K}}else if(J=="deselect"){if(X=="Path"){c.Jq=[];c.FU=[];c.Bi=c.ZI=!0;return}else throw X}else if(J=="selectNoLayers"){c.g=[];
c.Xw=!0}else if(J=="select"){var F={PcTl:$.i8,PbTl:$.Xb,moveTool:$.x3,cloneStampTool:$.QD,typeCreateOrEditTool:$.H4,artboardTool:$.Kg,marqueeRectTool:$.LR,typeVerticalCreateOrEditTool:$.MD,perspectiveCropTool:$.Y3,marqueeEllipTool:$.a9B,eyedropperTool:$.xi,eraserTool:$.Lz,pathComponentSelectTool:$.Xd,lassoTool:$.T3,backgroundEraserTool:$.Ln,directSelectTool:$.OF,polySelTool:$.aly,rectangleTool:$.ef,magneticLassoTool:$.asM,gradientTool:$.Mw,quickSelectTool:$.mj,bucketTool:$.a5h,ellipseTool:$.wG,magicWandTool:$.BN,blurTool:$.ei,polygonTool:$.AR,cropTool:$.pV,sharpenTool:$.Uk,lineTool:$.lc,sliceTool:$.n8,smudgeTool:$.Rh,customShapeTool:$.Z1,sliceSelectTool:$.eG,dodgeTool:$.o6,spotHealingBrushTool:$.Wd,burnInTool:$.Tv,saturationTool:$.qR,penTool:$.Lx,redEyeTool:$.CT,freeformPenTool:$.gx,rulerTool:$.l0,paintbrushTool:$.Xb,handTool:$.ER,pencilTool:$.i8,zoomTool:$.lJ,objectSelectTool:$.axM,healingBrushTool:$._g,patchTool:$.GW,contentAwareMoveTool:$.nW,colorReplacementBrushTool:$.nE,curvaturePenTool:$.a8C,rotareViewTool:$.LE};
if(X=="Lyr"){var G=i.selectionModifier,D=G?G.v.selectionModifierType:null,b=b$.zz(c,Q[0]),H=0;if(b==-1){alert("Layer "+Q[0].v.val+" does not exist.");
return}var n=c.B[b];if(n.wC()&&n.FA()&&G==null)H=1;_.data={_:Z.ge,j:b,RU:D?["addToSelection","addToSelectionContinuous"].indexOf(D):null,FV:H}}else if(X=="Path"){if(Q[0].v.keyID=="WrPt"){c.Jq=[0];
c.Bi=c.ZI=!0;return}else throw Q[0]}else if(X=="Chnl"){_.data={_:Z.ge,j:b,FV:Q&&Q[0].v.enum=="RGB"?0:1}}else if(X=="Dcmn"){if(E.Mt.length<2)return;
a.data={_:u.c.azC,dir:i.null.v[0].v.val}}else if(X=="Brsh"){var q=x.ZR.list,O;for(var y=0;y<q.length;
y++){if(q[y].v.Nm.v==Q[0].v.val)O=q[y].v}a.data={_:u.c.Na,ry:eu.N7,BL:O}}else if(X=="Mn"){if(Q[0].v.enum=="Scl")a.data={_:u.c.iM,G:$.Cy,_q:{no:3}};
if(Q[0].v.enum=="Plce")a.data={_:u.c.yq,apj:!0};if(Q[0].v.enum=="ZmIn"){_.G=$.lJ;_.data={_:"zoom",Bq:!0}}if(Q[0].v.enum=="ZmOt"){_.G=$.lJ;
_.data={_:"zoom",Bq:!1}}if(Q[0].v.enum=="FtOn"){_.G=$.lJ;_.data={_:"adapt",Z:"fitscr"}}}else if(F[X]){a.data={_:u.c.iM,G:F[X]}}else throw X}else if(J=="draw"){_.G=$.Xd;
_.data={_:"fromAction",t7:K}}else if(J=="gradientClassEvent"){_.G=$.Mw;_.data={_:"fromAction",t7:K}}else if((J=="set"||J=="reset"||J=="exchange")&&X=="Clr"){a.data={_:u.c.Na,ry:eu.Fa,S8:J=="reset"?3:2};
if(J=="set"){a.data.S8=Q[0].v.keyID=="FrgC"?0:1;var w=W.M.Et(i.T.v);a.data.Z=w.o<<16|w.J<<8|w.k}}else if(J=="set"){if(X=="AdjL"){var V=i.T.v.classID;
V=c2.Zq[V];_.G=$.mo;if(V)_.data={_:"edit_layer",Z:i.T.v}}else if(X=="Lyr"){var t=i.T.v,b=b$.zz(c,Q[0]);
for(var m in t){if(m=="classID")continue;_.G=$.Os;if(m=="Nm")_.data={_:Z.tZ,name:t.Nm.v};else if(m=="Opct")_.data={_:Z.O4,iz:Math.round(t.Opct.v.val*255/100)};
else if(m=="fillOpacity")_.data={_:Z.XR,iz:Math.round(t.fillOpacity.v.val*255/100)};else if(m=="Md")_.data={_:Z.vq,iz:db.ws.indexOf(t.Md.v.BlnM)+(c.B[b].wC()?1:0)};
else if(m=="Usrs")_.data={_:Z.JR,j:b};else if(m=="Blnd"){_.G=$.j8;_.data={_:"setstl",j:b,Z:{blendOptions:{t:"objc",v:t}}};
E.S(_);_.data={_:"confirm",j:b}}else if(m=="userMaskFeather"||m=="userMaskDensity"){var g=t.userMaskFeather,Y=t.userMaskDensity,b=c.g[0],A=c.B[b].Sz(0);
if(g)A.tp=g.v.val;if(Y)A.er=Y.v.val;_.data={_:Z.MV,Ph:b,Qy:A}}else if(m=="Clr"){var C=b$.lv(t);_.data={_:Z.Aq,azl:C}}else if(m=="Lefx")b$.apz(E,b,t.Lefx.v,x);
else{console.log(i);throw m}if(_.data){E.S(_);delete _.data}}_.data={};var n=c.B[b];n.ahw()}else if(X=="Prpr"){var t=JSON.parse(JSON.stringify(i.T.v)),b=b$.zz(c,i.null.v[1]),n=c.B[b],k=Q[0].v.keyID;
if(k=="TxtS"||k=="paragraphStyle"){var z=n.add.TySh,p=JSON.parse(JSON.stringify(z.kd)),L=ev.w1(p),N=ev.Jw(p,0,L.length-2);
if(k=="TxtS")ev.a8q(t,N);else ev.a5y(t,N);ev.q1(p,0,L.length-1,N);_.G=$.H4;_.data={_:"newED",RB:b,wr:p}}else if(k=="Lefx"){for(var gC in t)if(t[gC].v){if(gC=="Scl")t[gC].v.val=100}b$.apz(E,b,t,x);
_.data={}}else throw k}else if(X=="contentLayer"){var b=b$.zz(c,Q[0]),t=i.T.v;if(t.classID=="shapeStyle")t=t.FlCn.v;
var r={solidColorLayer:0,gradientLayer:1,patternLayer:2}[t.classID],h=$.hS.xB(c,b),I=h.ez==r+1?h.QT:dz.gk[r];
I=JSON.parse(JSON.stringify(I));$.rn.Fw(t,I,r);_.data={_:Z.IQ,sx:[b],DD:!0,Z:{ez:r+1,QT:I}}}else if(X=="Brsh"){var O=JSON.parse(JSON.stringify(x.ZR.Ad)),l=i.T.v;
if(l.masterDiameter)O.Brsh.v.Dmtr.v.val=l.masterDiameter.v.val;else console.log("unknown brush parameters");
a.data={_:u.c.Na,ry:eu.N7,BL:O}}else if(X=="Path"){_.G=$.Xd;_.data={_:"fromAction",t7:K}}else{console.log(Q[0],i);
throw X}}else if(J=="move"){if(X=="Lyr"){var t=i.T.v;if(t.classID=="Ofst"){_.data={_:"trsl",Hr:t.Hrzn.v.val,Og:t.Vrtc.v.val};
_.G=$.x3}else{var g5,fm;if(t[0].t=="Enmr"){if(t[0].v.enum=="Frnt")fm=0;else if(t[0].v.enum=="Nxt")fm=1;
else if(t[0].v.enum=="Prvs")fm=2;else if(t[0].v.enum=="Back")fm=3;else throw"e"}else g5=t[0].v.val;_.data={_:Z.ex,target:g5,S8:fm,a4R:i.Dplc?i.Dplc.v:!1}}}else if(X=="Chnl"&&Q[0].v.keyID=="fsel"){_.G=$.LR;
_.data={_:"fromAction",t7:K}}}else if(J=="groupEvent"||J=="ungroup")_.data={_:Z.u_};else if(J=="show"||J=="hide"){var dC=Q[0].v;
for(var y=0;y<dC.length;y++){var ex=dC[y],X=ex.v.classID;if(X=="Lyr"){if(_.data==null)_.data={_:Z.gn,sx:[]};
var b=b$.zz(c,ex);if(b==-1)continue;var cR=c.B[b].bL();if(J=="show"&&cR||J=="hide"&&!cR)continue;_.data.sx.push(b)}else if(X=="Chnl"){_.data={_:Z.wE,S8:"fromAction",Z:K}}else if(X=="filterFX"){if(ex.v.val!=null)_.data={_:Z.x2,index:ex.v.val-1};
_.data={_:Z.I8}}}}else if(J=="rotateEventEnum"){_.G=X=="Lyr"?$.Cy:$.pV;var d0=i.Angl.v.val;_.data={_:"rot",vZ:[2,5],Z:-d0*Math.PI/180}}else if(J=="flip"){_.G=X=="Lyr"?$.Cy:$.pV;
var hN=i.Axis.v.Ornt=="Hrzn",ey=hN?new iP(-1,1):new iP(1,-1);_.data={_:"scl",vZ:[[2,6],[22,4,hN?2:3]],Z:ey}}else if(J=="transform"){var cr=1,ik=1,hd=0,df=0,bQ=0,is=0,bi=0;
if(i.Wdth)cr=i.Wdth.v.val/100;if(i.Hght)ik=i.Hght.v.val/100;if(i.Skew){var jX=i.Skew.v;hd=jX.Hrzn.v.val;
df=jX.Vrtc.v.val}if(i.Ofst){var eS=i.Ofst.v;is=eS.Hrzn.v.val;bi=eS.Vrtc.v.val}if(i.Angl)bQ=i.Angl.v.val;
var h9=new iQ;h9.concat(new iQ(cr,cr*Math.tan(df*Math.PI/180),ik*Math.tan(hd*Math.PI/180),ik,0,0));h9.rotate(-bQ*Math.PI/180);
h9.translate(is,bi);var bz=W.K.y5(h9);if(i.Usng){var eS=i.Usng.v;bz[6]=eS.Hrzn.v.val/100;bz[7]=eS.Vrtc.v.val/100}var i0={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3}[i.FTcs.v.QCSt];
if(i0==null)throw i.FTcs.v.QCSt;var Q=i.null;if(Q&&Q.v instanceof Array)Q=Q.v[0];var b=Q?b$.zz(c,Q):null;
if(b==-1)b=null;_.G=Q&&Q.v.keyID=="fsel"?$.Hq:$.Cy;_.data={_:"dtr",If:i0,Z:bz,jt:i.warp}}else if(J=="duplicate"){if(X=="Chnl")_.data={_:Z.wE,S8:"fromAction",Z:K};
else _.data={_:Z.On,e2:i.Nm?i.Nm.v:null}}else if(J=="delete"){if(X=="filterFX"){if(Q[0].v.val!=null)_.data={_:Z.iW,sd:Q[0].v.val-1};
else _.data={_:Z.Ei}}else if(X=="Path"){_.G=$.Xd;_.data={_:"pathedit",S8:"del"}}else if(X=="Lyr")_.data={_:Z.vp};
else if(X=="Chnl"&&Q[0].v.enum=="Msk")_.data={_:Z.Ni};else if(X=="Chnl")_.data={_:Z.wE,S8:"fromAction",Z:K};
else throw X}else if(J=="align"){if(i.Aply&&i.Aply.v.projection=="Auto"){_.G=$.pV;_.data={_:"auto-align"}}else{_.G=$.x3;
var hp=i.Usng.v.ADSt,d={AdLf:0,AdCH:1,AdRg:2,AdTp:4,AdCV:5,AdBt:6}[hp];if(d==null)throw hp;_.data={_:"algn",Z:d}}}else if(J=="applyLocking"){var hY=i.layerLocking.v,ji;
if(hY.protectTransparency)ji=[[hY.protectTransparency.v],[0]];else if(hY.protectNone)ji=[[!1,!1,!1,!1],[0,1,2,31]];
else{console.log(hY);throw"e"}_.data={_:Z.Io,iz:ji}}if(_.data)E.S(_);else if(a.data)E.S(a);else{console.log(K);
alert("Unknown action \""+J+"\"");throw"e"}};b$.apz=function(K,E,x,c){x=JSON.parse(JSON.stringify(x));
i5.Dc(x);if(x.masterFXSwitch==null)x.masterFXSwitch={t:"bool",v:!0};console.log(x);var J=dz.E9;for(var i=0;
i<J.length;i++)if(x[J[i]]){for(var y=0;y<x[J[i]].v.length;y++){var P=x[J[i]].v[y].v,_=P.TrnS;if(_==null)_=P.MpgS;
if(_&&_.v.Crv==null){var a=_.v,j=a.Nm.v.split("=").pop(),e=c.Nj;for(var d=0;d<e.length;d++){var I=e[d].Nm.v.split("=").pop();
if(I==j)a.Crv=JSON.parse(JSON.stringify(e[d].Crv))}if(_.v.Crv==null){console.log(_);throw"e"}}}}var v=new i3(u.E.v,!0);
v.G=$.j8;v.data={_:"setstl",j:E,Z:{Lefx:{t:"objc",v:x}}};K.S(v);v.data={_:"confirm",j:E};K.S(v)};b$.lv=function(K){var E={None:0,Rd:1,Orng:2,Ylw:3,Grn:4,Bl:5,Vlt:6,Gry:7}[K.Clr.v.Clr];
if(E==null)throw K.Clr.v.Clr;return E};b$.zz=function(K,E){var x=1e6,c=0,J=K.B.length;for(var y=0;y<K.g.length;
y++){x=Math.min(x,K.g[y]);c=Math.max(c,K.g[y])}var i=E.t,P=-1;if(i=="name"){var _=E.v.val,P=-1;for(var y=0;
y<J;y++)if(K.B[y].getName()==_){P=y;break}}else if(i=="Enmr"){if(K.g.length!=0)P=K.g[0];if(E.v.enum=="Frwr")P=c+1;
if(E.v.enum=="Bckw")P=x-1;if(E.v.enum=="Back")P=0;if(E.v.enum=="Frnt")P=J-1;P=(P+J)%J}else if(i=="prop"){if(E.v.keyID=="Bckg")P=0}return P};
var c2={};c2.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
c2.a7A=["expA","clrL","selc"];c2.Ka=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];c2.aaT=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
c2.V2=[[13,1,1],[13,1,4],[13,1,5]];c2.kK={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA",vibrance:"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh",photoFilter:"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr",colorLookup:"clrL",rplc:"rplc"};
c2.Zq=function(){var K=JSON.parse(JSON.stringify(c2.kK));delete K.GrMp;K.GdMp="grdm";return K}();c2.Qn={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
c2.keys={levl:[j6.Se,j6.sm],curv:[j6.Se,j6.m3],hue2:[j6.Se,j6.Vd],nvrt:[j6.Se,j6.th],blnc:[j6.Se,j6.wf]};
c2.a79=function(K){var E=dJ.JQ("mixr");E.Mnch={t:"bool",v:K.Od};function x(c,y){var J={classID:"ChMx"},i={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var P in i)J[P]={t:"UntF",v:{type:"#Prc",val:c[y+i[P]]}};return{t:"Objc",v:J}}if(K.Od)E.Gry=x(K.Z,0);
else{E.Rd=x(K.Z,0);E.Grn=x(K.Z,5);E.Bl=x(K.Z,10)}return E};c2.p$=function(K){function E(c,J,y){var i={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var P in i)if(c[P])J[y+i[P]]=c[P].v.val}var x={Od:!1,Z:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(K.Mnch&&K.Mnch.v)x.Od=!0;if(x.Od)E(K.Gry.v,x.Z,0);else{E(K.Rd.v,x.Z,0);E(K.Grn.v,x.Z,5);E(K.Bl.v,x.Z,10)}return x};
c2.get=function(K){for(var E in c2.names)if(K[E]!=null)return E;return null};c2.We=function(K,E){var x=c2.sW,c;
if(K=="brit"){var J=E.Brgh?E.Brgh.v:0,i=E.Cntr?E.Cntr.v:0,P=E.useLegacy?E.useLegacy.v:!1;if(P){var _=J/255,a=1+i/100;
if(a>1)a=1+Math.tan(Math.PI/2*i/101);var j=(1-a)/2,e=W.Kh.RA(_,_,_),d=[a,0,0,j,0,a,0,j,0,0,a,j,0,0,0,1],I=W.Kh.multiply(e,d),v=new W.oA(256);
for(var y=0;y<256;y++)v.o[y]=y;W.Kh.transform(v,v,I);c={type:x.tP,ay:v.o,oM:v.o,i0:v.o,DF:!1,YB:!1}}else{var n=1024,C=-30+60*(i+100)/200,T=[];
for(var y=0;y<4;y++)T.push(W.r9.w7(y/3*255,y/3*255,!0));T[1].v.Hrzn.v=64;T[1].v.Vrtc.v=64-C;T[2].v.Hrzn.v=128+64;
T[2].v.Vrtc.v=128+64+C;T.sort(function(bu,ig){return bu.v.Hrzn.v-ig.v.Hrzn.v});var o=W.r9.ew(T,n);function s(bu,n){var T=[],hr=3;
for(var y=0;y<hr+1;y++)T.push(W.r9.w7(y/hr*255,y/hr*255,!0));T[1].v.Hrzn.v=130-bu*26;T[1].v.Vrtc.v=130+bu*51;
T[2].v.Hrzn.v=233-bu*48;T[2].v.Vrtc.v=233+bu*10;return W.r9.ew(T,n)}var Q=s(Math.abs(J)/100,n);if(J<0){var X=[],B=1/n;
for(var y=0;y<n;y++){var M=y*B,S=y;while(Q[S]>M&&S>1)S--;X[y]=S*B}Q=X}var f=new Uint8Array(n);for(var y=0;
y<n;y++){var F=Math.round((n-1)*Q[y]);f[y]=Math.round(255*o[F])}c={type:x.tP,ay:f,oM:f,i0:f,DF:!1,YB:!1}}}if(K=="levl"){var G=[],D,b,e,H,q,O;
for(var y=0;y<4;y++)G.push(bH.GE(E,y));D=-G[0][0]/255;b=1/(G[0][1]/255-G[0][0]/255);e=W.Kh.multiply(W.Kh.Nu(b,b,b),W.Kh.RA(D,D,D));
H=W.Kh.Nu(1/(G[1][1]/255-G[1][0]/255),1/(G[2][1]/255-G[2][0]/255),1/(G[3][1]/255-G[3][0]/255));q=W.Kh.RA(-G[1][0]/255,-G[2][0]/255,-G[3][0]/255);
O=W.Kh.multiply(H,q);var f=new W.oA(256);for(var y=0;y<256;y++)f.o[y]=f.J[y]=f.k[y]=y;var w=1/(G[0][4]/100),V=1/(G[1][4]/100),t=1/(G[2][4]/100),m=1/(G[3][4]/100);
W.Kh.transform(f,f,O);for(var y=0;y<256;y++){f.o[y]=Math.round(Math.max(0,Math.min(255,255*Math.pow(f.o[y]/255,V))));
f.J[y]=Math.round(Math.max(0,Math.min(255,255*Math.pow(f.J[y]/255,t))));f.k[y]=Math.round(Math.max(0,Math.min(255,255*Math.pow(f.k[y]/255,m))))}W.Kh.transform(f,f,e);
for(var y=0;y<256;y++){f.o[y]=Math.round(Math.max(0,Math.min(255,255*Math.pow(f.o[y]/255,w))));f.J[y]=Math.round(Math.max(0,Math.min(255,255*Math.pow(f.J[y]/255,w))));
f.k[y]=Math.round(Math.max(0,Math.min(255,255*Math.pow(f.k[y]/255,w))))}D=G[0][2]/255;b=G[0][3]/255-G[0][2]/255;
e=W.Kh.multiply(W.Kh.RA(D,D,D),W.Kh.Nu(b,b,b));H=W.Kh.Nu(G[1][3]/255-G[1][2]/255,G[2][3]/255-G[2][2]/255,G[3][3]/255-G[3][2]/255);
q=W.Kh.RA(G[1][2]/255,G[2][2]/255,G[3][2]/255);O=W.Kh.multiply(q,H);W.Kh.transform(f,f,W.Kh.multiply(e,O));
c={type:x.tP,ay:f.o,oM:f.J,i0:f.k,DF:!1,YB:!1}}if(K=="curv"){var g=hb.GE(E,0).length==256?1:0,Y=[];if(g==0){var A=W.r9.Qw(hb.GE(E,0),256);
for(var y=1;y<4;y++){var k=W.r9.Qw(hb.GE(E,y),256);Y.push(W.r9.eI(k,A))}}else{var z=[];for(var y=0;y<4;
y++){var p=new Uint8Array(256);z.push(p);var L=hb.GE(E,y);for(var S=0;S<256;S++)p[S]=L[S]}for(var y=1;
y<4;y++)Y.push(W.r9.eI(z[y],z[0]))}c={type:x.tP,ay:Y[0],oM:Y[1],i0:Y[2],DF:!1,YB:!1}}if(K=="expA"){var N=E.Exps,gC=E.Ofst,r=E.gammaCorrection,h=N?N.v:0,l=gC?gC.v:0,g5=r?r.v:1,f=new Uint8Array(256);
for(var y=0;y<256;y++){var E=y/255,fm=Math.pow(Math.abs(l),1/(Math.PI/2));if(l>0){E=Math.max(l/Math.E,E);
E=E*Math.exp(l/1.75+h/Math.PI);E=(1-fm)*E+fm*1}else{E=E*Math.exp(-l*1.75+h/Math.PI);E=E+-fm*1.14}E=Math.pow(E,1/g5);
E=Math.max(0,Math.min(1,E));f[y]=Math.round(E*255)}c={type:x.tP,ay:f,oM:f,i0:f,DF:!1,YB:!1}}if(K=="vibA"){var dC=(E.vibrance?E.vibrance.v:0)/100,ex=(E.Strt?E.Strt.v:0)/100,fm=1+dC*(dC>0?.25:.5),cR=.8+.2/fm;
c={type:x.bi,ry:[dC,ex,cR,fm]}}if(K=="hue2"){var d0=[],hN=[],ey=[],cr=E.Clrz?E.Clrz.v:!1;for(var y=0;
y<256;y++){d0[y]=y/255;hN[y]=0;ey[y]=0}var ik=c7.GE(E,0),hd=c2.B_(ik[1]/100);if(cr){var df=ik[0]/360;
for(var y=0;y<256;y++){d0[y]=df;hN[y]=hd}}else{for(var y=0;y<256;y++){var bQ=d0[y],is=hN[y];d0[y]+=ik[0]/360;
for(var S=0;S<6;S++){var bi=c7.GE(E,S+1),jX=bi.nR,eS=bi.zN,fm=0;for(var bN=1;bN<4;bN++)if(eS[bN]<eS[0])eS[bN]+=360;
var h9=eS[0],bz=eS[1],i0=eS[2],hp=eS[3],hY=bQ*360;if(hY<eS[0])hY+=360;var ji=(hY-h9)/(bz-h9),aM=(hY-i0)/(hp-i0);
if(ji<0)fm=0;else if(ji<1)fm=ji;else if(aM<0)fm=1;else if(aM<1)fm=1-aM;else fm=0;var a=c2.B_(jX[1]/100);
d0[y]+=fm*jX[0]/360;hN[y]+=fm*a;ey[y]+=fm*jX[2]/100}}for(var y=0;y<256;y++){hN[y]=(1+hN[y])*(1+hd)-1;
ey[y]=Math.max(-1,Math.min(1,ey[y]))}}var a1=new Uint8Array(256),fi=new Uint8Array(256),jJ=new Uint8Array(256);
for(var y=0;y<256;y++){var gg=d0[y],ex=hN[y],iN=ey[y];if(gg>1)gg--;if(gg<0)gg++;ex=c2.aiu(ex);ex=(1+ex)*.5;
iN=(1+iN)*.5;a1[y]=Math.round(255*gg);fi[y]=Math.round(255*ex);jJ[y]=Math.round(255*iN)}var ad=ik[2]/100,h6=ad<0?-ad:ad,iY=ad<0?0:1;
c={type:x.rW,a2$:a1,w3:fi,ax6:jJ,axE:h6*iY,pa:1-h6,avD:ik[2]/100,a2O:cr?1:0}}if(K=="nvrt"){var f=new Uint8Array(256);
for(var y=0;y<256;y++)f[y]=255-y;c={type:x.tP,ay:f,oM:f,i0:f,DF:!1,YB:!1}}if(K=="post"){var kh=E.Lvls.v,f=new Uint8Array(256),fm=kh/255.001,gN=255/(kh-1);
for(var y=0;y<256;y++)f[y]=Math.floor(y*fm)*gN;c={type:x.tP,ay:f,oM:f,i0:f,DF:!1,YB:!1}}if(K=="grdm"){var aT=E.Grad.v,iv=E.Rvrs,n=1024,fs;
if(aT.Clrs){var gm=W.M.Y7(aT,0,0);fs=W.M.N3(aT,gm,n,iv?iv.v:!1)}else{fs=W.M.aT(aT,n,iv?iv.v:!1)}var g8=W.Q(n),b_=W.Q(n),ko=W.Q(n);
W.Bp(fs,g8,0);W.Bp(fs,b_,1);W.Bp(fs,ko,2);c={type:x.tP,ay:g8,oM:b_,i0:ko,DF:!0,YB:!1}}if(K=="selc"){var gk=new Float32Array(9*3*2),bx=E.O3,ai=E.Mthd?E.Mthd.v.CrcM=="Absl":!1;
for(var S=0;S<9;S++){var hf=S*6,aa=jO.GE(E,S),iS=aa[0]/100,hl=aa[1]/100,jR=aa[2]/100,jC=aa[3]/100;if(ai){gk[hf]=gk[hf+1]=gk[hf+2]=1;
gk[hf+3]=iS*(1+jC)+jC;gk[hf+4]=hl*(1+jC)+jC;gk[hf+5]=jR*(1+jC)+jC}else{gk[hf+0]=(1+iS)*(1+jC);gk[hf+1]=(1+hl)*(1+jC);
gk[hf+2]=(1+jR)*(1+jC)}}c={type:x.my,aph:gk}}if(K=="blwh"){var h8="Rd Yllw Grn Cyn Bl Mgnt".split(" "),c=[],jq=0,iJ=0;
for(var y=0;y<6;y++)c.push(E[h8[y]].v);c.push(E.useTint.v,E.tintColor.v);var cW=[];for(var y=0;y<6;y++)cW.push((c[y]-50)/50);
var kn=W.M.Et(c[7]);kn.o/=255;kn.J/=255;kn.k/=255;var fQ=W.Rv(kn.o,kn.J,kn.k),iN=W.Rs(W.cc(fQ.o4,1,.5)),i7=fQ.hV*fQ.W8;
if(iN==.5)jq=iJ=.5;else{jq=i7*(.5-iN)/(.5/iN-1);iJ=1-i7*(.5-iN)-1/(2*(1-iN));iJ/=1-1/(2*(1-iN))}c={type:x.Z3,adD:cW,dr:c[6]?1:0,asj:fQ.o4,Rs:iN,aaW:i7,m$:jq,arO:iJ}}if(K=="blnc"){var G=[],dR=["ShdL","MdtL","HghL"];
for(var y=0;y<3;y++){if(E[dR[y]]==null){G[y]=[0,0,0];continue}var kh=E[dR[y]].v,cH=kh[0].v/100,c4=kh[1].v/100,cx=kh[2].v/100,gp=E.PrsL==null||E.PrsL.v?(Math.min(cH,c4,cx)+Math.max(cH,c4,cx))/2:0;
G[y]=[cH-gp,c4-gp,cx-gp]}var Y=[W.Q(256),W.Q(256),W.Q(256)];for(var S=0;S<3;S++)for(var y=0;y<256;y++){var M=y*(1/255),gb=0,C=0,bg=0;
C=G[2][S];bg=Math.abs(C);if(C<0)gb=Math.pow(M,Math.SQRT2);else gb=1.63*(Math.pow(M+.04,.5)-.2);M=bg*gb+(1-bg)*M;
C=G[1][S];bg=Math.abs(C);if(C<0)gb=Math.pow(M,2);else gb=Math.min(2.35*(Math.pow(M+.09,.5)-.3),Math.pow(M,1/2));
M=bg*gb+(1-bg)*M;C=G[0][S];bg=Math.abs(C);if(C<0)gb=M<.4?0:Math.pow((M-.4)/.6,Math.SQRT2);else gb=Math.pow(M,Math.SQRT2/2);
M=bg*gb+(1-bg)*M;M=Math.max(0,Math.min(1,M));Y[S][y]=Math.round(M*255)}c={type:x.tP,ay:Y[0],oM:Y[1],i0:Y[2],DF:!1,YB:!1}}if(K=="phfl"){var cu=W.M.Et(E.Clr.v),jP=[cu.o/255,cu.J/255,cu.k/255],k4=E.Dnst.v/100,Y=[W.Q(256),W.Q(256),W.Q(256)];
for(var S=0;S<3;S++)for(var y=0;y<256;y++){var M=y*(1/255),kg=M*jP[S];kg=Math.max(0,Math.min(1,kg));
M=k4*kg+(1-k4)*M;Y[S][y]=Math.round(M*255)}c={type:x.tP,ay:Y[0],oM:Y[1],i0:Y[2],DF:!1,YB:E.PrsL.v}}if(K=="thrs"){var f=W.Q(256);
for(var y=E.Lvl.v;y<256;y++)f[y]=255;c={type:x.tP,ay:f,oM:f,i0:f,DF:!0,YB:!1}}if(K=="mixr"){var ek=c2.p$(E),I=[];
for(var y=0;y<ek.Z.length;y++)if(y%5!=3)I.push(ek.Z[y]/100);if(ek.Od){for(var i_=1;i_<3;i_++)for(var M=0;
M<4;M++)I[i_*4+M]=I[M]}c={type:x.Br,rS:I}}if(K=="rplc"){var gX=E.Mnm.v,eE=E.Mxm.v;c={type:x.Aa,Ya:[gX.Lmnc.v,gX.A.v,gX.B.v],n$:[eE.Lmnc.v,eE.A.v,eE.B.v],shift:[E.H.v/360,E.Strt.v/100,E.Lght.v/100],zq:E.Fzns.v/150}}if(K=="clrL"&&E.profile){var dP=new Uint8Array(E.profile.v),ie=ICC.R(dP.buffer),d7=[],bT=17,d7=ICC.U.sampleLUT(ie,bT);
c={type:x.wp,AJ:ICC.U.lutToRGBA8(d7,bT),aj5:d7,KA:bT}}return c};c2.gG=function(K,E){var x=-1;if(K!="levl"||E==null)x=-1;
else if(E.Auto)x=0;else if(E.AuCo)x=1;else if(E.autoBlackWhite)x=2;return x};c2.sW={tP:0,rW:1,bi:2,my:3,Z3:4,Br:5,Aa:6,wp:7};
c2.B_=function(K){if(K<0)return K;return Math.pow(Math.tan(Math.PI/2*K),1.3)};c2.aiu=function(K){if(K<0)return K;
K=Math.pow(K,1/1.3);return Math.atan2(K,1)/(Math.PI/2)};c2.as=function(K,E,x,c){var J=c2.sW,i=Date.now();
if(f4.Eg&&c.O()>300*300&&K.type!=J.tP&&K.type!=J.wp){c=c.clone();c.x=c.y=0;var P=f4.nT(0,c.b,c.n);P.set(E);
f4.rA(P,c);P.N0(c);c2.wN(K,P.DV,c);P.get(x);return}if(K.type==J.wp){var _=K.aj5,a=K.KA;ICC.U.applyLUT(_,a,E,x);
var j=E.length;for(var y=0;y<j;y+=4)x[y+3]=E[y+3]}if(K.type==J.Br)W.Kh.Ih(E,x,K.rS);if(K.type==J.Z3){var e=K.aaW,d=K.Rs,I=K.m$,v=K.arO,j=E.length;
for(var y=0;y<j;y+=4){var c=E[y]*(1/255),n=E[y+1]*(1/255),C=E[y+2]*(1/255),T=W.g2(c,n,C),o=0;for(var s=0;
s<6;s++)o+=Math.min(1,1.7*(1-T.M2))*T.hV*K.adD[s]*c2.a90(T.o4,s*(1/6));var Q=Math.max(0,Math.min(1,T.M2*(1+o)));
if(K.dr==1){var X=0;if(Q<I)X=Q*(.5/d);else if(Q<v)X=Q+e*(.5-d);else X=1-(1-Q)*.5/(1-d);T.o4=K.asj;T.hV=Math.min(1,e+3*e*Math.abs(Q-.5*(I+v)));
T.M2=X}else{T.o4=0;T.hV=0;T.M2=Q}var B=W.cc(T.o4,T.hV,T.M2);x[y]=Math.round(B.o*255);x[y+1]=Math.round(B.J*255);
x[y+2]=Math.round(B.k*255)}}if(K.type==J.my){var M=K.aph,j=E.length,S=1/255;for(var y=0;y<j;y+=4){var c=E[y]*S,n=E[y+1]*S,C=E[y+2]*S,T=W.g2(c,n,C),f=Math.max(c,Math.max(n,C)),F=Math.min(c,Math.min(n,C)),G=1-c,D=1-n,b=1-C,H=0,q=0,O=0;
for(var s=0;s<9;s++){var w=s*6,g=0;if(M[w]==1&&M[w+1]==1&&M[w+2]==1&&M[w+3]==0&&M[w+4]==0&&M[w+5]==0)continue;
var V=G*M[w]+M[w+3],t=D*M[w+1]+M[w+4],m=b*M[w+2]+M[w+5];if(s<6)g=c2.a90(T.o4,s*(1/6))*T.hV*2*Math.min(T.M2,1-T.M2);
else if(s==6)g=Math.max(0,F-.5)*2;else if(s==7)g=1-(Math.abs(f-.5)+Math.abs(F-.5));else g=Math.max(0,.5-f)*2;
H+=(Math.max(0,Math.min(1,V))-G)*g;q+=(Math.max(0,Math.min(1,t))-D)*g;O+=(Math.max(0,Math.min(1,m))-b)*g}G=Math.max(0,Math.min(1,G+H));
D=Math.max(0,Math.min(1,D+q));b=Math.max(0,Math.min(1,b+O));c=1-G;n=1-D;C=1-b;x[y]=Math.round(c*255);
x[y+1]=Math.round(n*255);x[y+2]=Math.round(C*255)}}if(K.type==J.tP){W.a1S(E,x,K.ay,K.oM,K.i0,K.DF,K.YB)}if(K.type==J.rW){var Y=new Uint32Array(E.buffer),A=new Uint32Array(x.buffer),j=Y.length;
if(c2.el==null){c2.el=new Float64Array(256);for(var y=0;y<256;y++)c2.el[y]=c2.B_(-1+2*y/255)}var k=c2.el;
for(var y=0;y<j;y++){var z=Y[y],c=(z&255)*(1/255),n=(z>>>8&255)*(1/255),C=(z>>>16&255)*(1/255),p=z>>>24,L=Math.min(c,n,C),N=Math.max(c,n,C),gC=0,r=0,h=0;
gC=W.g2(c,n,C).o4;var l=~~(gC*255+.5),g5=K.a2$[l]*(1/255),fm=K.w3[l]*(1/255)*2-1,dC=K.ax6[l]*(1/255)*2-1,o=-dC,ex=L;
if(0<dC){o=dC;ex=N}var cR=K.axE+K.pa*o*ex,d0=K.pa*(1-o);c=cR+d0*c;n=cR+d0*n;C=cR+d0*C;N=Math.max(c,n,C);
L=Math.min(c,n,C);h=(N+L)*.5;if(N!=L){var hN=N-L;r=h>.5?hN/(2-(N+L)):hN/(N+L)}var ey=fm;if(K.a2O==0){fm=k[Math.floor((1+fm)*127.5)];
ey=Math.min(r*(1+fm),1)}var B=W.cc(g5,ey,h);c=B.o;n=B.J;C=B.k;A[y]=p<<24|C*255<<16|n*255<<8|c*255}}if(K.type==J.Aa){W.dq(E,x);
var Y=new Uint32Array(E.buffer),A=new Uint32Array(x.buffer),j=Y.length,cr=K.zq,ik=1/cr,hd={sm:K.Ya[0],Cc:K.Ya[1],k:K.Ya[2]},df={sm:K.n$[0],Cc:K.n$[1],k:K.n$[2]};
for(var y=0;y<j;y++){var z=Y[y],bQ=z&255,is=z>>>8&255,bi=z>>>16&255,c=bQ*(1/255),n=is*(1/255),C=bi*(1/255),p=z>>>24,jX=W.bK(bQ,is,bi),eS=W.Ys(jX,hd,df,cr,ik);
if(eS==0)continue;var T=W.g2(c,n,C),g5=2+T.o4+K.shift[0];T.o4=g5-~~g5;T.hV=Math.max(0,Math.min(1,T.hV+K.shift[1]));
T.M2=Math.max(0,Math.min(1,T.M2+K.shift[2]));var B=W.cc(T.o4,T.hV,T.M2);c=(1-eS)*c+eS*B.o;n=(1-eS)*n+eS*B.J;
C=(1-eS)*C+eS*B.k;A[y]=p<<24|C*255<<16|n*255<<8|c*255}}if(K.type==J.bi){var Y=new Uint32Array(E.buffer),A=new Uint32Array(x.buffer),j=Y.length,bN=K.ry[0],h9=K.ry[1],bz=K.ry[2],o=K.ry[3],i0=W.Kh.Z6([.299,.587,.114,-.147,-.289,.436,.615,-.515,-.1]),hp=W.Kh.Pa(i0),hY=2.4;
function a(jJ){return Math.max(0,Math.min(1,jJ))}function ji(jJ){return Math.pow(jJ,hY)}function aM(jJ){return Math.pow(jJ,1/hY)}function a1(c,n,C,jJ){c=ji(c);
n=ji(n);C=ji(C);var gg=W.Kh.rK(i0,[c,n,C,1]);gg[0]*=bz;gg[1]*=o;gg[2]*=o;var B=W.Kh.rK(hp,gg);B[0]=aM(a(B[0]));
B[1]=aM(a(B[1]));B[2]=aM(a(B[2]));return B}for(var y=0;y<j;y++){var z=Y[y],c=(z&255)*(1/255),n=(z>>>8&255)*(1/255),C=(z>>>16&255)*(1/255),p=z>>>24,B=a1(c,n,C,bN);
c=B[0];n=B[1];C=B[2];var fi=W.g2(c,n,C);fi.hV=Math.max(0,Math.min(1,fi.hV*(1+h9)));B=W.cc(fi.o4,fi.hV,fi.M2);
c=B.o;n=B.J;C=B.k;A[y]=p<<24|C*255<<16|n*255<<8|c*255}}};c2.wN=function(K,E,x){f4.Lj.wN(K,E)};c2.a90=function(K,E){var x=W.Nr(E,K)*6;
return Math.max(0,Math.min(1,x<0?1+x:1-x))};var dJ={};dJ.GG=function(K){var E=K.filterID.v;return E>16777215?R.a2f(E):K.Fltr.v.classID};
dJ.cz=[{QT:"GEfc"},{QT:"LnCr"},{QT:"Adobe Camera Raw Filter"},{QT:"LqFy",_B:!0},{Qt:"3D",Nn:["lightFilterGradient","Dila"]},{Qt:[24,2],Nn:"Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")},{Qt:[24,4],Nn:"Dspl,Kale,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave,ZgZg".split(",")},{Qt:[24,6],Nn:["AdNs","Dspc","DstS","Mdn ","denoise"]},{Qt:[24,8],Nn:"ClrH,Crst,Frgm,Mztn,Msc ,Pntl".split(",")},{Qt:[24,10],Nn:["Flam","Clds","DfrC","Fbrs","LnsF"]},{Qt:[24,12],Nn:["Shrp","ShrE","ShrM","smartSharpen","UnsM"]},{Qt:[24,14],Nn:"Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")},{Qt:[24,16],Nn:"HghP,HsbP,Mxm ,Mnm ,Ofst,Rept,Ctoa,Dthr,Part".split(",")},{Qt:"Fourier",Nn:["dDFT","iDFT"]}];
dJ.Qn={LqFy:"LqFy",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod",boxblur:"boxblur",GsnB:"gaussianBlur",MtnB:"motionBlur",RdlB:"radialBlur",surfaceBlur:"surfaceBlur",lightFilterGradient:"lightFilterGradient",adaptCorrect:"adaptCorrect",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",AdNs:"addNoise",DstS:"dustAndScratches","Mdn ":"median",denoise:"denoise",ClrH:"colorHalftone",Crst:"",Frgm:"",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"",Flam:"",Clds:"clouds",DfrC:"differenceClouds",LnsF:"LnsF",Shrp:"sharpen",ShrM:"sharpenMore",smartSharpen:"smartSharpen",UnsM:"unsharpMask","Dfs ":"diffuse",FndE:"findEdges",oilPaint:"oilPaint","Adobe Camera Raw Filter":"Adobe Camera Raw Filter",HghP:"highPass","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset"};
dJ.wJ={AddNoise:"AdNs",Average:"Avrg",Blur:"Blr ",BlurMore:"BlrM",Clouds:"Clds",DifferenceClouds:"DfrC",DustAndScratches:"DstS",GaussianBlur:"GsnB",HighPass:"HghP",Maximum:"Mxm ",Minimum:"Mnm ",MotionBlur:"MtnB",Offset:"Ofst",Pinch:"Pnch",PolarCoordinates:"Plr ",Ripple:"Rple",Sharpen:"Shrp",SharpenMore:"ShrM",Twirl:"Twrl",UnsharpMask:"UnsM",Wave:"Wave",BrightnessContrast:"brit"};
dJ.a={rigidTransform:$.xj};dJ.names={lightFilterGradient:[24,17,8],rigidTransform:[10,46],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],boxblur:[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],surfaceBlur:[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],ZgZg:[24,5,7],Kale:[24,5,8],AdNs:[24,7,0],Dspc:[24,7,1],DstS:[24,7,2],"Mdn ":[24,7,3],denoise:[24,7,4],ClrH:[24,9,0],Crst:[24,9,1],Frgm:[24,9,3],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Clds:[24,11,0],DfrC:[24,11,1],LnsF:[24,11,2],Flam:[24,11,3],Fbrs:[24,11,4],Shrp:[24,13,0],ShrE:[24,13,1],ShrM:[24,13,2],smartSharpen:[24,13,3],UnsM:[24,13,4],"Dfs ":[24,15,0],Embs:[24,15,1],FndE:[24,15,3],oilPaint:[24,15,4],Slrz:[24,15,5],TrcC:[24,15,6],"Wnd ":[24,15,7],HghP:[24,17,1],HsbP:"HSB/HSL","Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],Ctoa:[24,17,6],Dthr:[12,23,3],Part:[24,17,7],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform",defr:[2,13],Dila:"Texture Dilation",VaPo:"Vanishing Point",adaptCorrect:["VAR0/VAR1",[19,6,0],[19,6,2]],"Adobe Camera Raw Filter":"Camera Raw"};
dJ.JQ=function(K){var E=null;if(K=="GEfc")E={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:eD.JQ("GlwE")}]}};
if(K=="LqFy"){var x={pz:5,o4:5,map:new Float32Array(5*5*2)},c=new Uint8Array(bR.sP(x)),J=[];for(var y=0;
y<c.length;y++)J.push(c[y]);E={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:J}}}if(K=="rigidTransform"){E={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(K=="LnCr")E={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(K=="adaptCorrect")E={__name:"Shadow/Highlight",classID:"adaptCorrect",sdwM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:50}},Wdth:{t:"UntF",v:{type:"#Prc",val:25}},Rds:{t:"long",v:12}}},hglM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:0}},Wdth:{t:"UntF",v:{type:"#Prc",val:0}},Rds:{t:"long",v:0}}},BlcC:{t:"doub",v:0},WhtC:{t:"doub",v:0},Cntr:{t:"long",v:0},ClrC:{t:"long",v:0}};
if(K=="Dfs ")E={__name:"Diffuse",classID:"Dfs",Md:{t:"enum",v:{DfsM:"Nrml"}},FlRs:{t:"long",v:14061024}};
if(K=="Fbrs")E={__name:"Fibers",classID:"Fbrs",Vrnc:{t:"long",v:10},Strg:{t:"long",v:1},RndS:{t:"long",v:8438429}};
if(K=="Embs")E={__name:"Emboss",classID:"Embs",Angl:{t:"long",v:45},Hght:{t:"long",v:5},Amnt:{t:"long",v:100}};
if(K=="oilPaint")E={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(K=="TrcC")E={__name:"Trace Contour",classID:"TrcC",Lvl:{t:"long",v:128},Edg:{t:"enum",v:{CntE:"Lwr"}}};
if(K=="Wnd ")E={__name:"Wind",classID:"Wnd",WndM:{t:"enum",v:{WndM:"Wnd"}},Drct:{t:"enum",v:{Drct:"Rght"}}};
if(K=="lightFilterGradient")E={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(K=="boxblur")E={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(K=="GsnB")E={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(K=="Bokh")E={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(K=="MtnB")E={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(K=="RdlB")E={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(K=="surfaceBlur")E={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(K=="denoise")E={__name:"Reduce Noise",classID:"denoise",ClNs:{t:"UntF",v:{type:"#Prc",val:29}},Shrp:{t:"UntF",v:{type:"#Prc",val:0}},removeJPEGArtifact:{t:"bool",v:!1},channelDenoise:{t:"VlLs",v:[{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Cmps"}}]},Amnt:{t:"long",v:5},EdgF:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Rd"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Grn"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Bl"}}]},Amnt:{t:"long",v:0}}}]},preset:{t:"TEXT",v:"Default"}};
if(K=="Dspl")E={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(K=="Pnch")E={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(K=="Plr ")E={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(K=="Rple")E={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(K=="Shr ")E={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(K=="Sphr")E={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(K=="Twrl")E={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(K=="Wave")E={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(K=="ZgZg")E={__name:"ZigZag",classID:"ZgZg",Amnt:{t:"long",v:50},NmbR:{t:"long",v:10},ZZTy:{t:"enum",v:{ZZTy:"ArnC"}}};
if(K=="AdNs")E={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(K=="DstS")E={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(K=="Mdn ")E={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(K=="ClrH")E={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(K=="Crst")E={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(K=="Mztn")E={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(K=="Msc ")E={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(K=="Pntl")E={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(K=="LnsF")E={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(K=="Dthr")E={__name:"Dither",classID:"Dthr",Plte:{t:"long",v:0},Mthd:{t:"long",v:1}};if(K=="Part")E={__name:"Dither",classID:"Part",Cont:{t:"long",v:10},Size:{t:"long",v:8},Dpth:{t:"long",v:100},Brgh:{t:"long",v:800},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:255,t:"doub"},Bl:{v:255,t:"doub"}}},Time:{t:"doub",v:0},Turb:{t:"long",v:0},Blnk:{t:"bool",v:!0},Fall:{t:"bool",v:!1},RndS:{t:"long",v:8438429}};
if(K=="Adobe Camera Raw Filter")E={__name:"Camera Raw Filter",classID:"Adobe Camera Raw Filter",CMod:{t:"TEXT",v:"Filter"},Sett:{t:"enum",v:{Sett:"Cst"}},WBal:{t:"enum",v:{WBal:"AsSh"}},Temp:{t:"long",v:0},Tint:{t:"long",v:0},CtoG:{t:"bool",v:!1},Strt:{t:"long",v:0},Shrp:{t:"long",v:0},LNR:{t:"long",v:0},CNR:{t:"long",v:0},VigA:{t:"long",v:0},BlkB:{t:"long",v:0},RHue:{t:"long",v:0},RSat:{t:"long",v:0},GHue:{t:"long",v:0},GSat:{t:"long",v:0},BHue:{t:"long",v:0},BSat:{t:"long",v:0},Vibr:{t:"long",v:0},HA_R:{t:"long",v:0},HA_O:{t:"long",v:0},HA_Y:{t:"long",v:0},HA_G:{t:"long",v:0},HA_A:{t:"long",v:0},HA_B:{t:"long",v:0},HA_P:{t:"long",v:0},HA_M:{t:"long",v:0},SA_R:{t:"long",v:0},SA_O:{t:"long",v:0},SA_Y:{t:"long",v:0},SA_G:{t:"long",v:0},SA_A:{t:"long",v:0},SA_B:{t:"long",v:0},SA_P:{t:"long",v:0},SA_M:{t:"long",v:0},LA_R:{t:"long",v:0},LA_O:{t:"long",v:0},LA_Y:{t:"long",v:0},LA_G:{t:"long",v:0},LA_A:{t:"long",v:0},LA_B:{t:"long",v:0},LA_P:{t:"long",v:0},LA_M:{t:"long",v:0},STSH:{t:"long",v:0},STSS:{t:"long",v:0},STHH:{t:"long",v:0},STHS:{t:"long",v:0},STB:{t:"long",v:0},PC_S:{t:"long",v:0},PC_D:{t:"long",v:0},PC_L:{t:"long",v:0},PC_H:{t:"long",v:0},PC_1:{t:"long",v:25},PC_2:{t:"long",v:50},PC_3:{t:"long",v:75},ShpR:{t:"doub",v:1},ShpD:{t:"long",v:25},ShpM:{t:"long",v:0},PCVA:{t:"long",v:0},GRNA:{t:"long",v:0},LPEn:{t:"long",v:0},MDis:{t:"long",v:0},PerV:{t:"long",v:0},PerH:{t:"long",v:0},PerR:{t:"doub",v:0},PerS:{t:"long",v:100},PerA:{t:"long",v:0},PerU:{t:"long",v:0},PerX:{t:"doub",v:0},PerY:{t:"doub",v:0},AuCA:{t:"long",v:0},Ex12:{t:"doub",v:0},Cr12:{t:"long",v:0},Hi12:{t:"long",v:0},Sh12:{t:"long",v:0},Wh12:{t:"long",v:0},Bk12:{t:"long",v:0},Cl12:{t:"long",v:0},DfPA:{t:"long",v:0},DPHL:{t:"long",v:30},DPHH:{t:"long",v:70},DfGA:{t:"long",v:0},DPGL:{t:"long",v:40},DPGH:{t:"long",v:60},Dhze:{t:"long",v:0},TMMs:{t:"long",v:0},Crv:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvR:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvG:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvB:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CamP:{t:"TEXT",v:"Embedded"},CP_D:{t:"TEXT",v:"54650A341B5B5CCAE8442D0B43A92BCE"},PrVe:{t:"long",v:184549376},Rtch:{t:"TEXT",v:""},REye:{t:"TEXT",v:""},LCs:{t:"TEXT",v:""},Look:{t:"TEXT",v:""},Pset:{t:"TEXT",v:""}};
if(K=="smartSharpen")E={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(K=="UnsM")E={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(K=="HghP")E={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(K=="HsbP")E={__name:"HSB/HSL",classID:"HsbP",Inpt:{t:"enum",v:{ClrS:"RGBC"}},Otpt:{t:"enum",v:{ClrS:"HSBl"}}};
if(K=="Mxm ")E={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(K=="Mnm ")E={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(K=="Ofst")E={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(K=="Kale")E={__name:"Kaleidoscope",classID:"Kale",Mirr:{t:"long",v:6},MRot:{t:"long",v:0}};if(K=="Rept")E={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(K=="Flam")E={__name:"Repeat",classID:"Flam",Type:{t:"long",v:0},Leng:{t:"long",v:140},RndL:{t:"bool",v:!1},Widt:{t:"long",v:100},Angl:{t:"long",v:0},Intr:{t:"long",v:100},Adpt:{t:"bool",v:!1},Qual:{t:"long",v:1},Clr:{v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:110,t:"doub"},Bl:{v:28,t:"doub"}},t:"Objc"},Turb:{t:"long",v:50},Jag:{t:"long",v:0},Opct:{v:{type:"#Prc",val:25},t:"UntF"},Lins:{t:"long",v:10},Botm:{t:"long",v:30},Styl:{t:"long",v:0},Shap:{t:"long",v:0},RnSh:{t:"bool",v:!1},Arng:{t:"long",v:18}};
if(K=="Ctoa")E={__name:"Color to Alpha",classID:"Ctoa",Trsp:{v:{type:"#Prc",val:0},t:"UntF"},Opct:{v:{type:"#Prc",val:100},t:"UntF"},Clr:{v:{classID:"RGBC",Rd:{v:0,t:"doub"},Grn:{v:0,t:"doub"},Bl:{v:0,t:"doub"}},t:"Objc"}};
if(K=="brit")E={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(K=="levl")E={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(K=="curv")E={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(K=="expA")E={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(K=="vibA")E={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(K=="hue2")E={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(K=="blnc")E={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(K=="blwh")E={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(K=="phfl")E={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(K=="grdm")E={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(dz.hQ[6]).Grad};
if(K=="selc")E={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(K=="thrs")E={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(K=="mixr")E={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Mnch:{t:"bool",v:!1},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(K=="clrL")E={__name:"Color Lookup",classID:"colorLookup"};if(K=="post")E={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(K=="rplc")E={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:0},Lght:{t:"long",v:0}};
if(K=="fade")E={__name:"Fade",classID:"fade",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
if(K=="aply")E={classID:"null",With:{t:"Objc",v:{classID:"Clcl",T:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"RGB"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}}]},Invr:{t:"bool",v:!1},Clcl:{t:"enum",v:{Clcn:"Nrml"}},Opct:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"long",v:128},Scl:{t:"doub",v:1},PrsT:{t:"bool",v:!1}}}};
if(K=="matc"){E={__name:"Match Color",classID:"matchColor",Lght:{t:"long",v:100},ClrR:{t:"long",v:100},Fade:{t:"long",v:0},fsel:{t:"bool",v:!0},neutralizeColor:{t:"bool",v:!1},noReference:{t:"bool",v:!0}}}if(K=="Dila")E={__name:"Texture Dilation",classID:"Dila",Crop:{t:"UntF",v:{type:"#Pxl",val:0}},Rds:{t:"UntF",v:{type:"#Pxl",val:10}}};
if(K=="blendOptions")E={classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
return E};dJ.ls={sFlam:function(K,E){E[0]=K.Type.v;E[1]=K.Leng.v;E[2]=K.RndL.v;E[3]=K.Widt.v;E[4]=K.Angl.v;
E[5]=K.Intr.v;E[6]=K.Adpt.v;E[7]=K.Clr.v;E[8]=K.Qual.v;E[9]=K.Turb.v;E[10]=K.Jag.v;E[11]=K.Opct.v.val;
E[12]=K.Lins.v;E[13]=K.Botm.v;E[14]=K.Styl.v;E[15]=K.Shap.v;E[16]=K.RnSh.v;E[17]=K.Arng.v},gFlam:function(K,E){K.Type.v=E[0];
K.Leng.v=E[1];K.RndL.v=E[2];K.Widt.v=E[3];K.Angl.v=E[4];K.Intr.v=E[5];K.Adpt.v=E[6];K.Clr.v=E[7];K.Qual.v=E[8];
K.Turb.v=E[9];K.Jag.v=E[10];K.Opct.v.val=E[11];K.Lins.v=E[12];K.Botm.v=E[13];K.Styl.v=E[14];K.Shap.v=E[15];
K.RnSh.v=E[16];K.Arng.v=E[17]},sAdNs:function(K,E){E[0]=K.Nose.v.val;E[1]=["Gsn","Unfr"].indexOf(K.Dstr.v.Dstr);
E[2]=K.Mnch.v},gAdNs:function(K,E){K.Nose.v.val=E[0];K.Dstr.v.Dstr=["Gsn","Unfr"][E[1]];K.Mnch.v=E[2]},sDstS:function(K,E){E[0]=K.Rds.v;
E[1]=K.Thsh.v},gDstS:function(K,E){K.Rds.v=E[0];K.Thsh.v=E[1]},sGsnB:function(K,E){E[0]=K.Rds.v.val},gGsnB:function(K,E){K.Rds.v.val=E[0]},sDila:function(K,E){E[0]=K.Crop.v.val;
E[1]=K.Rds.v.val},gDila:function(K,E){K.Crop.v.val=E[0];K.Rds.v.val=E[1]},sHghP:function(K,E){E[0]=K.Rds.v.val},gHghP:function(K,E){K.Rds.v.val=E[0]},sHsbP:function(K,E){var x=["RGBC","HSBl","HSLC"];
E[0]=x.indexOf(K.Inpt.v.ClrS);E[1]=x.indexOf(K.Otpt.v.ClrS)},gHsbP:function(K,E){var x=["RGBC","HSBl","HSLC"];
K.Inpt.v.ClrS=x[E[0]];K.Otpt.v.ClrS=x[E[1]]},"sMxm ":function(K,E){var x="preserveShape";E[0]=K.Rds.v.val;
E[1]=K[x]?["squareness","Rndn"].indexOf(K[x].v[x]):0},"gMxm ":function(K,E){var x="preserveShape";K.Rds.v.val=E[0];
K[x]={t:"enum",v:{preserveShape:["squareness","Rndn"][E[1]]}}},"sMnm ":function(K,E){var x="preserveShape";
E[0]=K.Rds.v.val;E[1]=K[x]?["squareness","Rndn"].indexOf(K[x].v[x]):0},"gMnm ":function(K,E){var x="preserveShape";
K.Rds.v.val=E[0];K[x]={t:"enum",v:{preserveShape:["squareness","Rndn"][E[1]]}}},sMtnB:function(K,E){E[0]=[K.Angl.v];
E[1]=K.Dstn.v.val;console.log(E)},gMtnB:function(K,E){K.Angl.v=typeof E[0]=="number"?E[0]:E[0][0];K.Dstn.v.val=E[1]},sOfst:function(K,E){E[0]=K.Hrzn.v;
E[1]=K.Vrtc.v;E[2]=["Rpt","Bckg","Wrp"].indexOf(K.Fl.v.FlMd)},gOfst:function(K,E){K.Hrzn.v=E[0];K.Vrtc.v=E[1];
K.Fl.v.FlMd=["Rpt","Bckg","Wrp"][E[2]]},sPnch:function(K,E){E[0]=K.Amnt.v},gPnch:function(K,E){K.Amnt.v=E[0]},"sPlr ":function(K,E){E[0]=["RctP","PlrR"].indexOf(K.Cnvr.v.Cnvr)},"gPlr ":function(K,E){K.Cnvr.v.Cnvr=["RctP","PlrR"][E[0]]},sRple:function(K,E){E[0]=K.Amnt.v;
E[1]=["Sml","Mdm","Lrg"].indexOf(K.RplS.v.RplS)},gRple:function(K,E){K.Amnt.v=E[0];K.RplS.v.RplS=["Sml","Mdm","Lrg"][E[1]]},sTwrl:function(K,E){E[0]=K.Angl.v},gTwrl:function(K,E){K.Angl.v=E[0]},sZgZg:function(K,E){E[0]=K.Amnt.v;
E[1]=K.NmbR.v;E[2]=["ArnC","OtFr","PndR"].indexOf(K.ZZTy.v.ZZTy)},gZgZg:function(K,E){K.Amnt.v=E[0];
K.NmbR.v=E[1];K.ZZTy.v.ZZTy=["ArnC","OtFr","PndR"][E[2]]},sUnsM:function(K,E){E[0]=K.Amnt.v.val;E[1]=K.Rds.v.val;
E[2]=K.Thsh.v},gUnsM:function(K,E){K.Amnt.v.val=E[0];K.Rds.v.val=E[1];K.Thsh.v=E[2]},sWave:function(K,E){E[0]=K.NmbG.v;
E[1]=K.WLMn.v;E[2]=K.WLMx.v;E[3]=K.AmMn.v;E[4]=K.AmMx.v;E[5]=K.SclH.v;E[6]=K.SclV.v;E[7]=["WvSn","WvTr","WvSq"].indexOf(K.Wvtp.v.Wvtp);
E[8]=["WrpA","RptE"].indexOf(K.UndA.v.UndA);E[9]=K.RndS.v},gWave:function(K,E){K.NmbG.v=E[0];K.WLMn.v=E[1];
K.WLMx.v=E[2];K.AmMn.v=E[3];K.AmMx.v=E[4];K.SclH.v=E[5];K.SclV.v=E[6];K.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][E[7]];
K.UndA.v.UndA=["WrpA","RptE"][E[8]];if(E[9]!=null){var x=parseInt(E[9]);if(isNaN(x))x=248325464;x=Math.max(0,Math.min(268435455,x));
K.RndS.v=x}},sbrit:function(K,E){E[0]=K.Brgh?K.Brgh.v:0;E[1]=K.Cntr?K.Cntr.v:0;E[2]=K.useLegacy?K.useLegacy.v:!1},gbrit:function(K,E){K.Brgh.v=E[0];
K.Cntr.v=E[1];if(E[2]!=null)K.useLegacy.v=E[2]}};dJ.auW=function(K){var E=new iP(0,0);if(K.enab.v==!1)return E;
var x=K.filterFXList.v;for(var y=0;y<x.length;y++){var c=x[y].v;if(c.enab.v==!1)continue;var J=dJ.GG(c),i=dJ.t5(J,c.Fltr?c.Fltr.v:null);
if(i.x>E.x)E.x=i.x;if(i.y>E.y)E.y=i.y}return E};dJ.t5=function(K,E){var x=0,c=0;if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(K)!=-1){var J=E.Rds?E.Rds.v.val:1;
x=c=J*2.57}if(K=="MtnB")x=c=E.Dstn.v.val;if("Dila,Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,ZgZg,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,Frgm,Flam".split(",").indexOf(K)!=-1){x=c=1e4}if(K=="GEfc")return eD.t5(E);
return new iP(Math.ceil(x),Math.ceil(c))};dJ.RW=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
dJ.Ew=function(K,E){var x={o:E.U9>>16,J:E.U9>>8&255,k:E.U9&255},c={o:E.xw>>16,J:E.xw>>8&255,k:E.xw&255},J=dJ.names[K];
if(J==null)J=c2.names[K];var i=K;for(var P in c2.kK)if(c2.kK[P]==K)i=P;var _={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:hg.get(J)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:W.M.TD(x)},BckC:{t:"Objc",v:W.M.TD(c)},filterID:{t:"long",v:i.length==4?R.awo(i):777}}},a=dJ.JQ(K);
if(a)_.v.Fltr={t:"Objc",v:a};return _};dJ.uh=function(K,E,x,c){var J=Date.now(),i=f4.Eg&&Math.max(c.b,c.n)<=f4.gI.getParameter(f4.gI.MAX_TEXTURE_SIZE);
if(K<1){var P=Math.round(K*5),_=[1,2,1,2,[40,26,13,6,4,2][P],2,1,2,1];_=W.vm.vM(_);if(!i){W.X5(x);var a=x.slice(0);
W.vm.z3(a,x,c.b,c.n,_,255);W.OD(x)}else{var j=c.b,e=c.n,d=f4.nT(0,j,e);d.set(x);var I=f4.nT(1,j,e),v=new Float32Array([1/j,1/e]);
f4.rA(I);f4.filter.wN({type:f4.filter.ar1,P9:v,ahY:new Float32Array(_)},d.Iz);I.get(x)}}else{var n=E==W.HL.C9?0:E==W.HL.DW?1:2,C=[];
while(n!=2&&K*[1,2.4][n]>20&&C.length<4){var T=W.D1(x,c);C.push(x,c);x=T.Ly;c=T.rect;K/=2}var j=c.b,e=c.n;
if(!i||n==2&&K>15){W.X5(x);E(x,c,K);W.OD(x)}else{var d=f4.nT(0,j,e);d.set(x);var I=f4.nT(1,j,e),v=new Float32Array([1/j,1/e]);
if(n==0){var o=1;while(o<K)o<<=1;f4.rA(I);f4.filter.wN({type:f4.filter.ei,P9:v,YH:K,_q:[0,0,o]},d.Iz);
f4.rA(d);f4.filter.wN({type:f4.filter.ei,P9:v,YH:K,_q:[0,1,o]},I.Iz);d.get(x)}else if(n==1){var s=3,Q=W.HL.zU(K,s);
for(var y=0;y<s;y++){var X=Q[y]>>>1,B=1;while(B<X)B<<=1;if(X==0)continue;f4.rA(I);f4.filter.wN({type:f4.filter.ei,P9:v,YH:X,_q:[0,0,B]},d.Iz);
f4.rA(d);f4.filter.wN({type:f4.filter.ei,P9:v,YH:X,_q:[0,1,B]},I.Iz)}d.get(x)}else{var o=1;while(o<K)o<<=1;
f4.rA(I);f4.filter.wN({type:f4.filter.ei,P9:v,YH:K,_q:[0,0,o]},d.Iz);I.get(x)}}var M=Date.now();while(C.length!=0){var S=C.pop(),f=C.pop();
W.scale.age(x,c.b,c.n,f,S.b,S.n);x=f;c=S}}};dJ.azG=function(K,E,x,c){for(var y=0;y<K.length;y++){x[y]=K[y]*(1/255);
c[y]=0}FFT.fft2d(x,c);var J=E>>>1,i=16384,P=128,a=100;while(P<E){P<<=1;i<<=2}var _=255/Math.log(i),j=-100;
for(var e=0;e<E;e++)for(var d=0;d<J;d++){var I=E+J+e&E-1,v=x[I*E+d],n=c[I*E+d],C=Math.sqrt(v*v+n*n),T=Math.atan2(n,v);
K[e*E+d]=Math.round(_*Math.log(C+1));K[e*E+J+d]=Math.round((Math.PI+T)*(255*.5/Math.PI))}};dJ.aqr=function(K,E,x,c){x.fill(0);
c.fill(0);var J=E>>>1,i=16384,P=128;while(P<E){P<<=1;i<<=2}var _=255/Math.log(i),a=[],j=[],e=[];for(var y=0;
y<256;y++){a[y]=Math.exp(y/_)-1;var d=y*(2*Math.PI/255)-Math.PI;j[y]=Math.sin(d);e[y]=Math.cos(d)}for(var I=0;
I<E;I++)for(var v=0;v<J;v++){var n=E+J+I&E-1,C=a[K[I*E+v]],d=K[I*E+J+v],T=C*e[d],o=C*j[d];x[n*E+v]=T;
c[n*E+v]=o;if(v!=0){var s=n==0?n*E+E-v:(E-n)*E+(E-v);x[s]=T;c[s]=-o}}FFT.ifft2d(x,c);for(var y=0;y<K.length;
y++){K[y]=Math.max(0,Math.min(255,~~(.5+255*x[y])))}};dJ.aj1=new ArrayBuffer(512);dJ.ajo=function(K){var E=dJ.aj1,x=K.length;
if(E.byteLength<x)dJ.aj1=E=new ArrayBuffer(x);var c=new Uint8Array(E);for(var y=0;y<x;y+=4){c[y]=K[y];
c[y+1]=K[y+1];c[y+2]=K[y+2];c[y+3]=K[y+3]}return E};dJ.as=function(K,E,x,c,J,i,P){if(i==null)i={buffer:W.Q(E.buffer.length),rect:E.rect.clone()};
i.buffer.set(E.buffer);var _=x&&x.RndS?x.RndS.v>>>1:0;if(K=="GEfc"){var a=[];if(x.GEfs){var j=x.GEfs.v;
for(var y=0;y<j.length;y++){var e=j[y].v;if(e.GELv&&e.GELv.v==!1)continue;a.push(e)}}else a=[x];for(var y=0;
y<a.length;y++){var d;if(y==0)eD.as(K,E,a[y],c,J,i,P);else{if(d==null)d={buffer:W.Q(E.buffer.length),rect:E.rect.clone()};
W.dq(i.buffer,d.buffer);eD.as(K,d,a[y],c,J,i,P)}}}if(K=="Dila"){var I=x.Crop.v.val,v=x.Rds.v.val+I;v=v*v;
if(v==0)return;var n=E.rect,C=n.b,T=n.n,o=C*T,s=E.buffer,d=i.buffer,Q=W.Q(o);W.Bp(s,Q,3);if(I!=0){var X=n.clone();
X.r1(1,1);var B=W.Q(X.O());W.XT(Q,n,B,X);W.Pa(B);W.style.stroke(B,B,X,I);W.Pa(B);W.XT(B,X,Q,n)}var M=W.style.PV(Q,C,T);
d.fill(0);for(var S=0;S<T;S++)for(var f=0;f<C;f++){var y=S*C+f,F=y<<1,G=y<<2,D=M[F],b=M[F+1];if(D*D+b*b<v){var H=(S+b)*C+(f+D)<<2;
d[G]=s[H];d[G+1]=s[H+1];d[G+2]=s[H+2];d[G+3]=255}}}if(K=="Adobe Camera Raw Filter"){var n=E.rect,C=n.b,T=n.n,o=C*T,q=o*4,O=o*3,w=new Float32Array(C*T*3),V=E.buffer;
for(var y=0;y<o;y++){var t=y*3,G=y*4;w[t]=V[G]*(1/255);w[t+1]=V[G+1]*(1/255);w[t+2]=V[G+2]*(1/255)}var m=JSON.parse(JSON.stringify(x));
delete m.Upri;delete m.GuUr;var g=w.slice(0);hU(w,C,T,g,m);w=g;V=i.buffer;for(var y=0;y<o;y++){var t=y*3,G=y*4;
V[G]=255*Math.max(0,Math.min(1,w[t]));V[G+1]=255*Math.max(0,Math.min(1,w[t+1]));V[G+2]=255*Math.max(0,Math.min(1,w[t+2]))}}if(K=="Fct "){var n=E.rect,C=n.b,T=n.n,o=C*T,q=o*4;
function Y(et){var hp=et.slice(0);for(var S=0;S<3;S++)for(var f=0;f<3;f++)hp[S*3+f]=et[(2-f)*3+S];return hp}function A(em,cq,he,a8){var j3=0;
for(var S=0;S<3;S++)for(var f=0;f<3;f++)j3+=cq[S*3+f]*em[(a8-1+S)*C+he-1+f];return j3}var k=[8,5,2,5,2,-1,2,-1,-4],z=[5,5,5,2,2,2,-1,-1,-1],p=[2,2,2,2,2,2,2,2,2],L=[];
L.push(k);for(var y=0;y<3;y++)L.push(Y(L[L.length-1]));L.push(z);for(var y=0;y<3;y++)L.push(Y(L[L.length-1]));
L.push(p);for(var y=0;y<9;y++)L[y]=W.vm.vM(L[y]);var N=[-C-1,-C,-C+1,-1,0,1,C-1,C,C+1],gC=[-1,-1,0,-1,1,-1,-1,0,0,0,1,0,-1,1,0,1,1,1],r=W.Q(o),h=new Float32Array(o),g=W.Q(o);
for(var l=0;l<3;l++){W.Bp(E.buffer,r,l);for(var g5=0;g5<1;g5++){for(var S=1;S<T-1;S++)for(var f=1;f<C-1;
f++){var fm=S*C+f,dC=r[fm];h[fm]=1e9;for(var y=0;y<9;y++){var ex=A(r,L[y],f,S),cR=(ex-dC)*(ex-dC);if(cR<h[fm])h[fm]=cR}}for(var S=1;
S<T-1;S++)for(var f=1;f<C-1;f++){var d0=0,hN=1e9;for(var y=0;y<9;y++){var ey=S*C+f+N[y],cR=h[ey];if(cR<hN){hN=cR;
d0=r[ey]}}g[S*C+f]=d0}r.set(g)}W.Mz(g,i.buffer,l)}}if(K=="adaptCorrect"){var n=E.rect,C=n.b,T=n.n,o=C*T,q=o*4,cr=x.sdwM.v,ik=cr.Amnt.v.val/100,hd=cr.Wdth.v.val/100,df=cr.Rds.v,bQ=x.hglM.v,is=bQ.Amnt.v.val/100,bi=bQ.Wdth.v.val/100,eS=bQ.Rds.v;
W.oy.MK(E.buffer,i.buffer,C,T,ik,hd,df,is,bi,eS,x.ClrC.v/100,x.Cntr.v/100)}if(K=="denoise"){var n=E.rect,C=n.b,T=n.n,bN=x.channelDenoise.v[0].v;
W.ia.agx(E.buffer,C,T,i.buffer,bN.Amnt.v/10,bN.EdgF.v/100)}if(K=="HsbP"){var h9=x.Inpt.v.ClrS,bz=x.Otpt.v.ClrS,n=E.rect,C=n.b,T=n.n,o=C*T;
for(var y=0;y<o;y++){var G=y*4,g5=E.buffer[G]*(1/255),i0=E.buffer[G+1]*(1/255),hp=E.buffer[G+2]*(1/255);
if(h9=="RGBC"){}else if(h9=="HSLC"){var g=W.cc(g5,i0,hp);g5=g.o;i0=g.J;hp=g.k}else if(h9=="HSBl"){var g=W.ai8(g5,i0,hp);
g5=g.o;i0=g.J;hp=g.k}var hY=g5,ji=i0,aM=hp;if(bz=="RGBC"){}else if(bz=="HSLC"){var g=W.g2(g5,i0,hp);
hY=g.o4;ji=g.hV;aM=g.M2}else if(bz=="HSBl"){var g=W.PX(g5,i0,hp);hY=g.o4;ji=g.hV;aM=g.k}i.buffer[G]=~~(255*hY);
i.buffer[G+1]=~~(255*ji);i.buffer[G+2]=~~(255*aM)}}if(K=="Fbrs"){var n=E.rect,C=n.b,T=n.n;W.d.lr(E.buffer,C,T,i.buffer,[x.Vrnc.v,x.Strg.v,_]);
var a1=W.Q(C*T);W.Bp(i.buffer,a1,0);W.Pa(a1);eD.gD(a1,i.buffer,c,J)}if(K=="Frgm"){var n=E.rect,C=n.b,T=n.n,fi=E.buffer.slice(0);
W.X5(fi);W.d.asU(fi,C,T,i.buffer);W.OD(i.buffer)}if(K=="Flam"){var n=E.rect,C=n.b,T=n.n,jJ=x.Clr.v,gg={type:x.Type.v+1,length:x.Leng.v,atR:x.RndL.v,e8:x.Widt.v,ajv:x.Angl.v,axA:x.Intr.v,arx:x.Adpt.v,color:{o:jJ.Rd.v,J:jJ.Grn.v,k:jJ.Bl.v},Uj:x.Qual.v+1,Iq:x.Turb.v,l1:x.Jag.v,opacity:x.Opct.v.val,C4:x.Lins.v,asd:x.Botm.v,style:x.Styl.v+1,shape:x.Shap.v+1,aoE:x.RnSh.v,aqu:x.Arng.v,akx:!1},iN=P[3],ad=iN[0],h6=iN[1],iY=ad[h6.length!=0?h6[0]:0];
if(iY==null){alert("Make a path first");return}var kh=iY.add.vmsk.i,gN=W.r.kT(kh),aT=[];for(var H=0;
H<gN;H++){var iv=W.r.J2(kh,H),fs=kh[iv];if(fs.length<2)continue;var gm=[];aT.push(gm);var g8=fs.length-(fs.type==3?1:0);
for(var fm=0;fm<g8;fm++){var b_=kh[iv+1+fm],ko=fm==fs.length-1?kh[iv+1]:kh[iv+1+fm+1],gk=b_.H,bx=b_.XK,k=ko.ri,ai=ko.H,hf=Math.round(iP.B4(gk,ai)/5);
for(var aa=0;aa<hf;aa++){var iS=aa/hf,hl=1-iS,f=hl*hl*hl*gk.x+3*hl*hl*iS*bx.x+3*hl*iS*iS*k.x+iS*iS*iS*ai.x,S=hl*hl*hl*gk.y+3*hl*hl*iS*bx.y+3*hl*iS*iS*k.y+iS*iS*iS*ai.y;
gm.push(f,S)}}}var jR=[aT,gg],jC=Date.now(),h8=jW(jR);gW(E.buffer,C,T,i.buffer,h8,jR)}if(K=="Dfs "){var n=E.rect,C=n.b,T=n.n,cW=["Nrml","DrkO","LghO","anisotropic"].indexOf(x.Md.v.DfsM);
if(cW<3)W.d.a4u(E.buffer,C,T,i.buffer,[cW]);else{var jR=[1.4,1.6,1,4,!1,2,[0,0,.001]],n=E.rect.clone();
n.x=n.y=0;W.zH.filter(E.buffer,n,i.buffer,jR)}}if(K=="TrcC"){var n=E.rect,C=n.b,kn=C<<2,T=n.n,fQ=x.Lvl.v,i7=x.Edg.v.CntE=="Lwr",jq=E.buffer,iJ=i.buffer;
W._m(iJ,16777215,4278190080);function dR(ed,h0){c4(ed,h0);c4(ed+1,h0+1);c4(ed+2,h0+2)}function cH(ed,h0){cx(ed,h0);
cx(ed+1,h0+1);cx(ed+2,h0+2)}function c4(ed,h0){var hY=jq[ed],ji=jq[h0];if(hY>=fQ&&ji<fQ)iJ[ed]=0;if(hY<fQ&&ji>=fQ)iJ[h0]=0}function cx(ed,h0){var hY=jq[ed],ji=jq[h0];
if(hY>fQ&&ji<=fQ)iJ[h0]=0;if(hY<=fQ&&ji>fQ)iJ[ed]=0}if(i7)for(var S=1;S<T;S++)for(var f=1;f<C;f++){var G=S*C+f<<2;
dR(G,G-4);dR(G,G-kn)}else for(var S=1;S<T;S++)for(var f=1;f<C;f++){var G=S*C+f<<2;cH(G,G-4);cH(G,G-kn)}}if(K=="Embs"){var n=E.rect,C=n.b,T=n.n,gp=-x.Angl.v*Math.PI/180,gb=x.Hght.v,bg=x.Amnt.v/100;
gb/=2;var D=Math.cos(gp)*gb,b=Math.sin(gp)*gb,jq=E.buffer,iJ=i.buffer;iJ.fill(0);var cu=new Uint32Array(jq.buffer),g=new Uint8Array(4),jP=new Uint32Array(g.buffer);
for(var S=0;S<T;S++)for(var f=0;f<C;f++){var k4=0,kg=0,ek=0;if(0<=f+D&&f+D<C&&0<=S+b&&S+b<T){W.K.BD(f+D+.5,S+b+.5,cu,C,T,jP,0,0);
k4+=g[0]-128;kg+=g[1]-128;ek+=g[2]-128}if(0<=f-D&&f-D<C&&0<=S-b&&S-b<T){W.K.BD(f-D+.5,S-b+.5,cu,C,T,jP,0,0);
k4-=g[0]-128;kg-=g[1]-128;ek-=g[2]-128}var G=S*C+f<<2;iJ[G]=Math.max(0,Math.min(255,k4*bg+128));iJ[G+1]=Math.max(0,Math.min(255,kg*bg+128));
iJ[G+2]=Math.max(0,Math.min(255,ek*bg+128));iJ[G+3]=jq[G+3]}}if(K=="ShrE"){var n=E.rect,C=n.b,T=n.n;
W.d.aiX(E.buffer,C,T,i.buffer)}if(K=="Dspc"){var n=E.rect,C=n.b,T=n.n;W.d.axi(E.buffer,C,T,i.buffer)}if(K=="Slrz"){var i_=i.buffer,gX=128;
for(var y=0;y<i_.length;y+=4){if(i_[y]>gX)i_[y]=255-i_[y];if(i_[y+1]>gX)i_[y+1]=255-i_[y+1];if(i_[y+2]>gX)i_[y+2]=255-i_[y+2]}}if(K=="Wnd "){var n=E.rect,C=n.b,T=n.n,eE=["Wnd","Blst","Stgr"],dP=x.WndM.v.WndM;
W.d.xc(E.buffer,C,T,i.buffer,[eE.indexOf(dP),x.Drct.v.Drct!="Left"])}if(K=="Bokh"){var n=E.rect,C=n.b,T=n.n,o=C*T,q=o*4,ie=E.buffer.slice(0),d7=x.BkDi.v.BtDi,bT=x.BkDc,bu=x.BkDs.v,ig=x.BkDp.v/255;
if(d7=="BeIn")ig=0;var jz=57*(.3+.7*((C+T)/2)/1750)*(x.BkIb.v/100)*(1+.2*Math.pow(ig,.1)),hr=parseInt(x.BkIs.v.BtIs.slice(3)),gO=-x.BkIr.v*Math.PI/180,gK=[];
for(var y=0;y<8;y++){var hS=gO+y*(Math.PI*2/hr),ch=gO+(y+1)*(Math.PI*2/hr),h3=Math.cos(hS),iG=Math.sin(hS),hi=Math.cos(ch),gU=Math.sin(ch),aD=[0,0,0];
W.rS.tS([[h3,iG,1,0],[hi,gU,1,0],[1,1,1,1]],aD);if(aD[2]>0){aD[0]*=-1;aD[1]*=-1;aD[2]*=-1}gK.push(aD[0],aD[1],aD[2],0)}if(d7=="BeIn"){W._m(ie,0,16777215);
ig=1}else if(d7=="BeIt"&&bT.v.BtDc=="BeCt"){}else{var fk;if(d7=="BeIt"&&bT.v.BtDc=="BeCm")fk=P[1];else if(d7=="BeIa")fk=P[2][bT.v];
if(fk==null){W._m(ie,0,16777215)}else{var r;if(fk.rect.ac(n))r=fk.channel;else r=fk.zw(n);W.Mz(r,ie,3)}}if(bu)for(var y=0;
y<q;y+=4)ie[y+3]=255-ie[y+3];if(f4.Eg){var a9=ie,ab=C,cv=T,ds=1,iU=(x.BkSb.v==0||x.BkSt.v==255)&&d7=="BeIn";
if(!iU){var fU=0;for(var y=0;y<q;y+=4)fU+=Math.abs(ig-ie[y+3]*(1/255));fU=fU/o*jz;var fS=3.14*fU*fU*C*T/3e6;
if(fS>2e3){alert("too large radius");return}}while(iU&&3*(jz/ds)*(jz/ds)*C*T>500*2e3*2e3){var fA=W.tI(ie,new cS(0,0,ab,cv));
ie=fA.Ly;ab=fA.rect.b;cv=fA.rect.n;ds*=2}var jC=Date.now(),s=f4.nT(0,ab,cv);s.set(ie);var dS=f4.nT(1,C,T);
f4.rA(dS);f4.filter.wN({type:f4.filter.afC,P9:new Float32Array([1/ab,1/cv]),aaO:ig,uk:jz/ds,a7X:new Float32Array([x.BkSb.v/100,x.BkSt.v/255]),axL:new Float32Array([x.BkNa.v/100,x.BkNt.v.BtNt=="BeNu"?0:1,x.BkNm.v?1:0]),aep:new Float32Array(gK.slice(0,16)),awp:new Float32Array(gK.slice(16))},s.Iz);
dS.get(i.buffer);var a$=i.buffer;for(var y=0;y<q;y+=4)a$[y+3]=E.buffer[y+3]}}if(K=="rigidTransform"){var jC=Date.now(),bw=dJ.ajo,s=E.buffer.slice(0),b4=0,dr=0;
W.X5(s);W._m(i.buffer,0);var C=E.rect.b,T=E.rect.n,hV=x.puppetShapeList.v,bG=[],it=[],dF=[],ba=[];for(var fm=0;
fm<hV.length;fm++){var hk=hV[fm].v,F=b4*2,t=dr*3,ho=hk.originalVertexArray.v.length>>>2,gT=hk.indexArray.v.length>>>2,ec=new Float32Array(bw(hk.originalVertexArray.v));
for(var y=0;y<ho;y++)bG[F+y]=ec[y];var dM=new Float32Array(bw(hk.deformedVertexArray.v));for(var y=0;
y<ho;y++)it[F+y]=dM[y];var ia=new Uint32Array(bw(hk.indexArray.v));for(var y=0;y<gT;y++)dF[t+y]=b4+ia[y];
var cs=[],al=[],g$=hk.PnDp.v;for(var y=0;y<g$.length;y++){cs.push(hk.pinVertexIndices.v[y].v);al.push(g$[y].v)}var jg=W.d2.aa1(ec,ia,cs,al);
for(var y=0;y<jg.length;y++)ba[b4+y]=jg[y];b4+=ho>>>1;dr+=~~(gT/3)}var g5=E.rect,C=g5.b,T=g5.n;W.d2.mE(s,C,T,i.buffer,C,T,bG,it,ba,dF);
W.OD(i.buffer)}if(K=="lightFilterGradient"){function h5(gk){var cq=1/Math.sqrt(gk[0]*gk[0]+gk[1]*gk[1]+gk[2]*gk[2]);
gk[0]*=cq;gk[1]*=cq;gk[2]*=cq}var C=E.rect.b,T=E.rect.n,o=C*T,jC=Date.now(),b1=W.Q(o),ji=.3,aM=.7;W.KZ(i.buffer,b1);
var eN=W.Q(o);W.HL.Bv(b1,eN,i.rect,16);var g4=W.Q(o);W.HL.Bv(b1,g4,i.rect,8);var aE=b1,b5=new Float32Array(o),gR=x.Dtl.v,cc=gR[2].v,go=gR[1].v,ae=gR[0].v,j3=x.Scl.v*40*x.textureScale.v/(cc+go+ae);
cc*=j3;go*=j3;ae*=j3;for(var y=0;y<o;y++){var ks=eN[y]*(1/255),hD=g4[y]*(1/255),jj=aE[y]*(1/255);jj=jj*jj;
b5[y]=cc*ks+go*hD+ae*jj}var ep=x.blur.v;if(ep!=0){var kj=b5.slice(0);W.HL.u$(kj,b5,i.rect,ep)}var gs=C-1,f0=T-1;
for(var S=0;S<T;S++)for(var f=0;f<C;f++){var y=S*C+f,G=y*4,f8=b5[y],D=ji*(b5[y+(f==gs?0:1)]-f8)+aM*(f8-b5[y-(f==0?0:1)]),b=ji*(b5[y+(S==f0?0:C)]-f8)+aM*(f8-b5[y-(S==0?0:C)]),gk=[1,0,D],bx=[0,1,b];
h5(gk);h5(bx);var ch=gk[0],dk=gk[2],iw=bx[1],kf=bx[2],ah=-dk*iw,i9=-ch*kf,bB=ch*iw;i.buffer[G]=~~(127.5+ah*127.5);
i.buffer[G+1]=~~(127.5+i9*127.5);i.buffer[G+2]=~~(127.5+bB*127.5)}}if(K=="defr"){var C=E.rect.b,T=E.rect.n;
ak(E.buffer,C,T,i.buffer)}if(K=="dDFT"||K=="iDFT"){function bU(hr){if(hr==0)return 1;hr--;hr|=hr>>1;
hr|=hr>>2;hr|=hr>>4;hr|=hr>>8;hr|=hr>>16;return hr+1}var C=E.rect.b,T=E.rect.n,iX=bU(Math.max(C,T)),ef=iX>>>1,fI=new cS(0,0,iX,iX),eF=new cS(0,0,C,T);
eF.y=iX-T>>>1;var el=C>>>1,fJ=new cS(0,eF.y,el,T),cg=new W.oA(C*T);W.bT(E.buffer,cg);var fh=new Float64Array(iX*iX),iz=new Float64Array(iX*iX),r=W.Q(iX*iX);
FFT.init(iX);var ft=[cg.o,cg.J,cg.k];for(var y=0;y<3;y++){var gz=ft[y];r.fill(0);if(K=="dDFT"){W.XT(gz,eF,r,fI);
dJ.azG(r,iX,fh,iz);W.XT(r,fI,gz,eF,fJ);fJ.x+=el;fI.x-=ef-el;W.XT(r,fI,gz,eF,fJ);fJ.x-=el;fI.x+=ef-el}else{W.XT(gz,eF,r,fI,fJ);
fJ.x+=ef;eF.x+=ef-el;W.XT(gz,eF,r,fI,fJ);fJ.x-=ef;eF.x-=ef-el;dJ.aqr(r,iX,fh,iz);W.XT(r,fI,gz,eF)}}W.se(cg,i.buffer)}if(K=="Avrg"){var gS=0,ix=0,fC=0,aB=0,jU=1;
for(var y=0;y<E.buffer.length;y+=4){var Q=E.buffer[y+3];fC+=E.buffer[y]*Q;ix+=E.buffer[y+1]*Q;gS+=E.buffer[y+2]*Q;
aB+=Q}var fc=1/aB;gS=Math.round(jU*(gS*fc)+(1-jU)*255);ix=Math.round(jU*(ix*fc)+(1-jU)*255);fC=Math.round(jU*(fC*fc)+(1-jU)*255);
W._m(i.buffer,gS<<16|ix<<8|fC,4278190080)}if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(K)!=-1){var d8=x.Rds?x.Rds.v.val:1,gZ=K=="boxblur"?W.HL.C9:W.HL.DW;
dJ.uh(d8,gZ,i.buffer,i.rect);if(K=="UnsM"||K=="smartSharpen"){var bg=(x.Amnt?x.Amnt.v.val:200)/100,d1=0;
if(K=="UnsM")d1=x.Thsh.v;else bg*=.75;for(var y=0;y<E.buffer.length;y++){if((y&3)==3){i.buffer[y]=E.buffer[y];
continue}var dC=E.buffer[y],ex=i.buffer[y],j9=bg*(dC-ex);if(j9>0)j9=Math.max(0,j9-d1);else j9=Math.min(0,j9+d1);
i.buffer[y]=Math.max(0,Math.min(255,dC+j9))}}if(K=="HghP")for(var y=0;y<E.buffer.length;y++){if((y&3)==3){i.buffer[y]=E.buffer[y];
continue}var dC=E.buffer[y],ex=i.buffer[y];i.buffer[y]=Math.max(0,Math.min(255,128+dC-ex))}}if(K=="AdNs"){var b9=new Uint8ClampedArray(i.buffer.buffer),aR=255*x.Nose.v.val/100,dE;
if(x.Dstr.v.Dstr=="Gsn")dE=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else dE=function(){return Math.random()*2-1};for(var y=0;y<b9.length;y+=4){var g5=b9[y],i0=b9[y+1],hp=b9[y+2],dl,du,be;
if(x.Mnch.v){dl=du=be=dE()}else{dl=dE();du=dE();be=dE()}g5+=aR*dl;i0+=aR*du;hp+=aR*be;b9[y]=g5;b9[y+1]=i0;
b9[y+2]=hp}}var jC=Date.now();if(K=="Mdn "||K=="DstS"||K=="Mxm "||K=="Mnm "||K=="surfaceBlur"){var g5=0,bS=x.Thsh,hk=0;
if(bS)bS=bS.v;else bS=0;if(K=="Mdn "||K=="Mxm "||K=="Mnm "||K=="surfaceBlur")g5=x.Rds.v.val;else g5=x.Rds.v;
var cT=x.preserveShape;if(cT&&cT.v.preserveShape=="Rndn")hk=1;var C=E.rect.b,T=E.rect.n,js=["Mnm ","Mxm ","surfaceBlur"].indexOf(K),jh=(hk==0?1:.75)*[.73,.73,1][js]*(C*T*g5*g5)/1722387,gt=[.73,.9,1.4][js]*(C*T*Math.sqrt(g5))/6500;
if(f4.Eg&&js!=-1&&(jh<gt||hk==1)&&jh<1500){var s=f4.nT(0,C,T);s.set(E.buffer);var d=f4.nT(1,C,T);f4.rA(d);
f4.filter.wN({type:f4.filter.a0R,P9:new Float32Array([1/C,1/T]),uk:g5,asK:bS/255,_q:[hk,js,10*Math.ceil(g5/10)]},s.Iz);
d.get(i.buffer)}else{g5=Math.round(g5);W.WD.NB=.5;var gZ=W.WD.jO;if(K=="Mxm ")gZ=W.WD.cb;if(K=="Mnm ")gZ=W.WD.pW;
if(K=="surfaceBlur")gZ=W.WD.gs;W.WD.fm(E.buffer,i.buffer,C,T,g5,gZ,[bS]);if(K=="DstS")for(var y=0;y<C*T*4;
y++){var bm=Math.abs(E.buffer[y]-i.buffer[y]);if(bm<=bS)i.buffer[y]=E.buffer[y]}}}if(K=="ClrH"){var fJ=E.rect.clone();
fJ.x=fJ.y=0;var g5=x.Rds.v;g5=Math.round(g5*Math.sqrt(2));var C=fJ.b,T=fJ.n,cg=new W.oA(C*T);W.bT(E.buffer,cg);
W.Pa(cg.o);W.Pa(cg.J);W.Pa(cg.k);var kr=W.G3(C,T),a$=W.Q(C*T*4);for(var em=0;em<3;em++){var r=em==0?cg.o:em==1?cg.J:cg.k,gp=Math.PI*x["Ang"+(em+1)].v/180,dD=new iQ(1/g5,0,0,1/g5,0,0);
dD.rotate(gp);W.Mz(r,a$,3);var g=$.Xq.iH([a$,fJ],dD,!0),eF=g.rect;kr.clearRect(0,0,C,T);var ib=Math.sin(gp),jl=Math.cos(gp);
for(var y=0;y<eF.n;y++)for(var aa=0;aa<eF.b;aa++){var f=(aa+eF.x+.5)*g5,S=(y+eF.y+.5)*g5,aC=f,hB=S;f=jl*aC-ib*hB;
S=ib*aC+jl*hB;var o=g.buffer[(y*eF.b+aa<<2)+3]*(1/255),d8=g5*Math.sqrt(o*(1/Math.PI));kr.beginPath();
kr.arc(f,S,d8,0,2*Math.PI);kr.fill()}var h1=kr.getImageData(0,0,C,T);W.Bp(h1.data,r,3)}W.Pa(cg.o);W.Pa(cg.J);
W.Pa(cg.k);W.se(cg,i.buffer)}if(K=="Crst"||K=="Pntl"){var C=E.rect.b,T=E.rect.n,gZ=K=="Crst"?W.qD.ahv:W.qD.ah2;
gZ(E.buffer,C,T,i.buffer,x.ClSz.v,[Math.round(J.o),Math.round(J.J),Math.round(J.k)])}if(K=="Mztn"){var C=E.rect.b,T=E.rect.n,o=C*T,cg=new W.oA(o),bV=[cg.o,cg.J,cg.k];
W.bT(E.buffer,cg);var dP=x.MztT.v.MztT,j5={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[dP],jC=Date.now(),jd=[];
for(var y=0;y<o;y++){jd[y]=Math.random()}var o=C*T,e2=Math.round(o*j5[0]),as=o-C-1;for(var y=0;y<e2;
y++){var iy=Math.random(),k9=1;if(iy<.5){k9=C;iy*=2}else iy=2*(iy-.5);var ed=Math.floor(iy*as),h0=ed+k9;
jd[ed]=jd[h0]}var iR=Math.round(C*j5[1]);for(var S=0;S<T;S++)for(var y=0;y<iR;y++){var iy=W.h.WJ(S*o+y),ed=S*C+Math.floor(iy*(C-1));
jd[ed]=jd[ed+1]}var ku=new Float64Array(256);for(var y=0;y<256;y++){var dO=y/255,eV=2*(dO<.5?dO:1-dO);
eV=j5[2]+Math.pow(eV,j5[3])*(1-j5[2]);dO=dO<.5?eV*.5:1-eV*.5;ku[y]=dO}for(var l=0;l<3;l++){var r=bV[l];
for(var S=0;S<T;S++){for(var f=0;f<C;f++){var y=S*C+f,ct=r[y],dO=ku[ct],iy=jd[y];r[y]=iy>dO?0:255}}}W.se(cg,i.buffer)}if(K=="Msc "){var gN=x.ClSz.v.val,C=E.rect.b,T=E.rect.n,cK=Math.ceil(C/gN),hE=Math.ceil(T/gN),aO=W.Q(cK*hE*4);
W.scale.Mn(E.buffer,C,T,aO,cK,hE,1/gN);W.scale.Mn(aO,cK,hE,i.buffer,C,T,gN)}if(K=="Clds"||K=="DfrC"){var C=i.rect.b,T=i.rect.n,o=C*T,iO=W.Q(o);
if(K=="Clds")W._m(i.buffer,4278190080);var aJ=W.Q(256*4);for(var y=0;y<256;y++){var G=y<<2,et=y/255,ia=1-et;
aJ[G]=Math.round(et*c.o+ia*J.o);aJ[G+1]=Math.round(et*c.J+ia*J.J);aJ[G+2]=Math.round(et*c.k+ia*J.k)}W.d.a8t(E.buffer,C,T,iO);
var i4=i.buffer;for(var y=0;y<o;y++){var G=y<<2,l=iO[y]<<2,g5=aJ[l],i0=aJ[l+1],hp=aJ[l+2];if(K=="Clds"){i4[G]=g5;
i4[G+1]=i0;i4[G+2]=hp}else{i4[G]=Math.abs(i4[4*y]-g5);i4[G+1]=Math.abs(i4[4*y+1]-i0);i4[G+2]=Math.abs(i4[4*y+2]-hp)}}}if(K=="LnsF"){var C=E.rect.b,T=E.rect.n,dP=["Zm","Nkn","Nkn1","PnVs"].indexOf(x.Lns.v.Lns),a6=x.FlrC.v,ej=[Math.min(dP,2),x.Brgh.v/100,a6.Hrzn.v,a6.Vrtc.v],jC=Date.now();
W.apl(E.buffer,C,T,i.buffer,ej)}var c5=["Blr ","BlrM","Shrp","ShrM"].indexOf(K);if(c5!=-1){var f_=c5>1,C=E.rect.b,T=E.rect.n,gn=W.vm.rC[c5],f9=E.buffer.slice(0);
if(!f_)W.X5(f9);W.vm.z3(f9,i.buffer,C,T,gn,255,!1,f_);if(!f_)W.OD(i.buffer)}if(K=="MtnB"){var b8=-x.Angl.v*Math.PI/180,hT=x.Dstn.v.val/2,jC=Date.now(),C=E.rect.b,T=E.rect.n,n=E.rect.clone();
n.x=n.y=0;if(f4.Eg){var jC=Date.now(),hn=i.buffer;hn.set(E.buffer);W.X5(hn);var e8=f4.nT(0,C,T);e8.set(hn);
var jq=W.Q(4);jq[0]=Math.round(128+127*Math.cos(b8));jq[1]=Math.round(128+127*Math.sin(b8));new Uint32Array(hn.buffer).fill(new Uint32Array(jq.buffer)[0]);
var gF=f4.nT(1,C,T);gF.set(hn);f4.rA(e8,n);e8.N0(n);f4.filter.wN({type:f4.filter.RQ,LY:gF.Iz,P9:new Float32Array([1/C,1/T]),abt:hT/2,a6E:1},e8.DV);
e8.get(hn);W.OD(hn)}else{var dD=new iQ;dD.rotate(b8);var g=$.Xq.iH([E.buffer,E.rect],dD,!1,null,!0);
dJ.uh(hT,W.HL.rr,g.buffer,g.rect);dD.Pa();g=$.Xq.iH([g.buffer,g.rect],dD,!1,i.buffer.buffer,!0,i.rect)}console.log(Date.now()-jC)}if(K=="RdlB"){var C=E.rect.b,T=E.rect.n,bg=x.Amnt.v,eK=x.BlrM.v.BlrM=="Zm",em=x.Cntr.v,he=em.Hrzn.v,a8=em.Vrtc.v,D=Math.max(he,1-he)*C,b=Math.max(a8,1-a8)*T,d8=Math.sqrt(D*D+b*b),cC=2*Math.PI*d8*1.5,jV=Math.round(cC),jK=Math.round(d8),fJ=new cS(0,0,jV,jK),kl=W.Q(jV*jK*4),es=eK?4:1,an=eK?.6:8*((C+T)/2)/1400,eh=.1,ds=1,iH=1;
W.K.jQ(E.buffer,C,T,kl,jV,jK,he,a8,es,eh,ds,iH);var hv=eK?W.Q(jV*jK*4):null;if(eK){W.K.vS(kl,hv,jV,jK);
var iS=hv;hv=kl;kl=iS;fJ.b=jK;fJ.n=jV}dJ.uh(an*bg,W.HL.rr,kl,fJ);if(eK){W.K.vS(kl,hv,jK,jV);var iS=hv;
hv=kl;kl=iS;fJ.b=jV;fJ.n=jK}W.K.ct(kl,jV,jK,i.buffer,C,T,he,a8,es,eh,ds,iH)}if(K=="Plr "){var C=E.rect.b,T=E.rect.n;
if(x.Cnvr.v.Cnvr=="RctP")W.K.ct(E.buffer,C,T,i.buffer,C,T,.5,.5,1,0,2,C/T);else W.K.jQ(E.buffer,C,T,i.buffer,C,T,.5,.5,1,0,2,C/T)}if(K=="FndE"){var C=E.rect.b,T=E.rect.n;
W.vm.rH(E.buffer,i.buffer,C,T)}if(K=="oilPaint"){var gp=x.LghD.v*Math.PI/180,eT=[Math.cos(gp),Math.sin(gp),.001],jR=[x.stylization.v,x.cleanliness.v,x.brushScale.v,x.microBrush.v,x.lightingOn.v,x.specularity.v,eT],n=E.rect.clone();
n.x=n.y=0;W.zH.filter(E.buffer,n,i.buffer,jR)}if(K=="Ofst"){var C=E.rect.b,T=E.rect.n,ei=new Uint32Array(E.buffer.buffer),e4=new Uint32Array(i.buffer.buffer),aC=x.Hrzn.v,hB=x.Vrtc.v,cj=x.Fl.v.FlMd;
W._m(e4,0);if(cj=="Bckg"||cj=="Rpt"){var fJ=E.rect.clone();fJ.offset(aC,hB);W.UL(ei,fJ,e4,i.rect)}if(cj=="Rpt"){var h3,iG,hi,gU,ja;
aC=Math.max(-C,Math.min(C,aC));hB=Math.max(-T,Math.min(T,hB));h3=aC>0?aC:0;hi=aC>0?C:C+aC;iG=hB>0?0:hB+T;
gU=hB>0?hB:T;ja=hB>0?0:C*(T-1);for(var S=iG;S<gU;S++)for(var f=h3;f<hi;f++)e4[S*C+f]=ei[ja+f-aC];h3=aC>0?0:C+aC;
hi=aC>0?aC:C;iG=hB>0?hB:0;gU=hB>0?T:T+hB;ja=aC>0?0:C-1;for(var S=iG;S<gU;S++)for(var f=h3;f<hi;f++)e4[S*C+f]=ei[ja+C*(S-hB)];
if(aC>=0&&hB>=0){h3=0;hi=aC;iG=0;gU=hB;ja=0}if(aC>=0&&hB<0){h3=0;hi=aC;iG=T+hB;gU=T;ja=C*(T-1)}if(aC<0&&hB>=0){h3=C+aC;
hi=C;iG=0;gU=hB;ja=C-1}if(aC<0&&hB<0){h3=C+aC;hi=C;iG=T+hB;gU=T;ja=C*T-1}for(var S=iG;S<gU;S++)for(var f=h3;
f<hi;f++)e4[S*C+f]=ei[ja]}if(cj=="Wrp"){aC=(aC+100*C)%C;hB=(hB+100*T)%T;var fJ=new cS(aC-C,hB-T,C,T);
W.UL(ei,fJ,e4,i.rect);fJ.offset(C,0);W.UL(ei,fJ,e4,i.rect);fJ.offset(0,T);W.UL(ei,fJ,e4,i.rect);fJ.offset(-C,0);
W.UL(ei,fJ,e4,i.rect)}}if(K=="Rept"){var gc=x.Rsft.v.val/100,e$=x.SpcX.v.val/100;e$=Math.max(e$,-.99);
var ca=x.SpcY.v.val/100;ca=Math.max(ca,-.99);var ds=x.Scl.v.val/100,dD=new iQ;dD.rotate(x.Angl.v*Math.PI/180);
dD.scale(ds,ds);var fD={buffer:E.buffer,rect:E.rect};W.yw(fD);if(fD.rect.um()){fD.buffer=E.buffer;fD.rect=E.rect}var i4=fD.buffer,fJ=fD.rect,fd=W.j_(i4,fJ,0),bl=new Uint32Array(i4.buffer)[0];
if(!fd.um()&&!fd.ac(fJ)){var gu=W.Q(fd.O()*4);W.UL(i4,fJ,gu,fd);i4=gu;fJ=fd}fJ.x=fJ.y=0;bl=e$==0&&ca==0||x.SpcC.v?bl:0;
function bp(f){return f<0?Math.ceil(f):Math.floor(f)}var hw=dD.iR(new iP(fJ.b,0));hw.x=bp(hw.x);hw.y=bp(hw.y);
var iC=dD.iR(new iP(0,fJ.n));iC.x=bp(iC.x);iC.y=bp(iC.y);var g=$.Xq.iH([i4,fJ],dD,!1),eF=g.rect,iJ=g.buffer,j4=Math.round(eF.x),gy=Math.round(eF.y),fr=Math.max(i.rect.b,i.rect.n)/Math.min(fJ.b*ds*(1+e$),fJ.n*ds*(1+ca));
fr=Math.ceil(fr*1.7);W._m(i.buffer,bl);for(var S=-fr;S<fr;S++){for(var f=-fr;f<fr;f++){var bD=(f+S*gc)*(1+e$),i1=S*(1+ca);
eF.x=j4+Math.round(bD*hw.x+i1*iC.x);eF.y=gy+Math.round(bD*hw.y+i1*iC.y);if(eF.iw(i.rect))W.h.Nh("norm",iJ,eF,i.buffer,i.rect,eF,1)}}}if(K=="Ctoa"){var J=W.M.Et(x.Clr.v),bS=x.Trsp.v.val/100,f5=x.Opct.v.val/100;
bS=f5==0?0:bS/f5;var C=E.rect.b,T=E.rect.n,a_=~~J.o,bC=~~J.J,aF=~~J.k,ja=E.buffer,ey=i.buffer;for(var S=0;
S<T;S++)for(var f=0;f<C;f++){var y=S*C+f,G=y<<2,fJ=ja[G],h2=ja[G+1],i4=ja[G+2],k5=Math.abs(a_-fJ),dG=Math.abs(bC-h2),d4=Math.abs(aF-i4),iK=Math.max(k5,dG,d4)*(1/255);
iK=Math.max(0,Math.min(1,iK/f5));var b2=iK==0?0:1/iK,aL=bS==1?1:Math.max(0,Math.min(1,(iK-bS)/(1-bS)));
ey[G]=Math.max(0,Math.min(255,(fJ-a_*(1-iK))*b2));ey[G+1]=Math.max(0,Math.min(255,(h2-bC*(1-iK))*b2));
ey[G+2]=Math.max(0,Math.min(255,(i4-aF*(1-iK))*b2));ey[G+3]=~~(.5+aL*255)}}if(K=="Dthr"){function j7(f){return~~(.5+255*W.l$(f/255))}var fm=x.Plte.v,dZ;
if(fm==0)dZ=[4278190080,4294967295];else{var ju=[[1,1,1],[2,2,2],[3,3,2]][fm-1],kp=[1<<ju[0],1<<ju[1],1<<ju[2]],bE=[~~(255/(kp[0]-1)),~~(255/(kp[1]-1)),~~(255/(kp[2]-1))];
dZ=[];for(var g5=0;g5<kp[0];g5++)for(var i0=0;i0<kp[1];i0++)for(var hp=0;hp<kp[2];hp++)dZ.push(255<<24|j7(hp*bE[2])<<16|j7(i0*bE[1])<<8|j7(g5*bE[0]))}var C=E.rect.b,T=E.rect.n,o=C*T,kq=o*4,ek=E.buffer.slice(0),fO=i.buffer;
for(var y=0;y<kq;y++)ek[y]=~~(.5+255*W.l$(ek[y]/255));var gG=W.Q(C*T);UPNG.encode.dither(ek,C,T,dZ,fO,gG,x.Mthd?x.Mthd.v:1);
for(var y=0;y<kq;y++)fO[y]=~~(.5+255*W.hW(fO[y]/255))}if(K=="Part"){var ij=[x.RndS.v,x.Cont.v/100,x.Size.v,x.Dpth.v/100,x.Brgh.v/100,W.M.Et(x.Clr.v),x.Time.v,x.Blnk.v,x.Fall.v,x.Turb.v/100];
W.$N.Wi(i.buffer,E.rect.b,E.rect.n,ij)}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr,ZgZg,Kale".split(",").indexOf(K)!=-1){var dU=P[0],C=E.rect.b,T=E.rect.n,ku,fb=0;
if(K=="LqFy")ku=bR.Sg(new Uint8Array(x.LqMe.v).buffer);else{var j_=3;ku={pz:Math.floor(C/j_),o4:Math.floor(T/j_)};
ku.map=new Float32Array(ku.pz*ku.o4*2);if(K=="LnCr"){var he=.5*(ku.pz-1),a8=.5*(ku.o4-1),bI=Math.max(Math.abs(0-he),Math.abs(1-he)),gE=Math.max(Math.abs(0-a8),Math.abs(1-a8)),fg=Math.sqrt(bI*bI+gE*gE),ee=0,iL=0,eP=-1,eJ=2,ds=x.LnSi.v/100,eK=1/ds,ih=x.LnIa.v/100,j1=ih==0?1e-6:ih*4.6,aq=eK/fg;
for(var S=0;S<ku.o4;S++){for(var f=0;f<ku.pz;f++){var D=(f-he)*aq,b=(S-a8)*aq,g5=Math.sqrt(D*D+b*b)*j1,i$=Math.atan(g5),hX=ih>0?i$/g5:g5/i$,iH=he+fg*hX*D,fZ=a8+fg*hX*b,y=S*ku.pz+f<<1;
ku.map[y]=iH-f;ku.map[y+1]=fZ-S}}}else if(K=="Kale"){var cK=ku.pz,hE=ku.o4,bM=(cK-1)*.5,f0=(hE-1)*.5,gl=x.MRot.v*Math.PI/180+Math.PI/2+4*Math.PI,er=x.Mirr.v,fN=Math.PI*2/er,eq=.5*fN;
for(var S=0;S<hE;S++)for(var f=0;f<cK;f++){var D=f-bM,b=S-f0,gH=Math.sqrt(D*D+b*b),gp=Math.atan2(b,D)+gl;
gp=gp%fN;if(gp>eq)gp=fN-gp;var iH=bM+Math.cos(gp-gl)*gH,fZ=f0+Math.sin(gp-gl)*gH,y=(S*cK+f)*2;ku.map[y]=iH-f;
ku.map[y+1]=fZ-S}}else if(K=="Dspl"&&dU.length!=0){fb=x.UndA.v.UndA=="WrpA"?2:1;var gf=x.DspF.v.pth,bf;
for(var y=0;y<dU.length;y++)if(dU[y].Vn==gf)bf=dU[y];if(bf==null)bf=dU[0];bf.S7();var k5=bf.WG[1],fP=W.Q(k5.O());
W.KZ(bf.WG[0],fP);var iD=k5.b,bK=k5.n;ku={pz:iD,o4:bK};ku.map=new Float32Array(ku.pz*ku.o4*2);var fT=2.54*x.HrzS.v*iD/C,bW=2.54*x.VrtS.v*bK/T;
for(var S=0;S<ku.o4;S++){for(var f=0;f<ku.pz;f++){var bm=-.5+fP[S*iD+f]*(1/255),y=S*ku.pz+f<<1;ku.map[y]=bm*fT;
ku.map[y+1]=bm*bW}}}else if(K=="Pnch"||K=="Twrl"||K=="Sphr"||K=="ZgZg"){var bg=1,b8=Math.PI,hm=0,dm=1,gL=0,em=3,gN=1.53,hX=1;
if(K=="Pnch"||K=="Sphr"||K=="ZgZg")bg=x.Amnt.v/100;if(K=="ZgZg"){dm=x.NmbR.v;gL=["ArnC","OtFr","PndR"].indexOf(x.ZZTy.v.ZZTy)}if(K=="Twrl")b8=x.Angl.v*Math.PI/180;
if(K=="Sphr")hm=["Nrml","HrzO","VrtO"].indexOf(x.SphM.v.SphM);function gZ(f){f=Math.pow(f,1-f*.3-f*f*(f*f)*.5);
return-.225*Math.sin(f*Math.PI)}function gw(T,cq,g5,h3,iG,hi,gU,hX){var D=hi-h3,b=gU-iG,c8=h3-T,eo=iG-cq,et=D*D+b*b,hp=2*(D*c8+b*eo),em=c8*c8+eo*eo-g5*g5,e0=Math.sqrt(hp*hp-4*et*em),cN=hX/(2*et),ht=(-hp+e0)*cN,bt=(-hp-e0)*cN;
return hX*Math.min(ht,bt)}var cK=ku.pz,hE=ku.o4,bM=ku.pz/2,f0=ku.o4/2,aX=1/bM,g5=Math.sqrt(em*em+1)/em,gz=em+Math.sqrt(1/(em*em));
if(bg<0){em=1.72;g5=1;gz=em;gN=-1;hX=-1}for(var S=0;S<hE;S++){var b=(S-f0)/f0;for(var f=0;f<cK;f++){var D=(f-bM)*aX;
if(hm==1)b=0;else if(hm==2)D=0;var gQ=Math.sqrt(D*D+b*b);if(gQ<1&&gQ!=0){var y=S*ku.pz+f<<1;if(K=="Pnch"){var e7=-bg*gZ(gQ)/gQ;
ku.map[y]=D*e7*bM;ku.map[y+1]=b*e7*f0}else if(K=="Sphr"){var iS=gw(0,gz,g5,0,0,gQ,em,hX),a2=gN*bg*(iS-1);
ku.map[y]=D*a2*bM;ku.map[y+1]=b*a2*f0}else if(K=="Twrl"){var gp=Math.atan2(b,D)-b8*(1-gQ)*(1-gQ),km=Math.cos(gp),cI=Math.sin(gp);
ku.map[y]=(gQ*km-D)*bM;ku.map[y+1]=(gQ*cI-b)*f0}else if(K=="ZgZg"){var km=0,cI=0,dA=bg*(.5-.5*Math.cos(gQ*dm*2*Math.PI))*(1-gQ);
if(gL==0){var gp=Math.atan2(b,D)-3.5*dA;km=gQ*Math.cos(gp);cI=gQ*Math.sin(gp)}if(gL==1){dA=100/C*dA/gQ;
km=(1-dA)*D;cI=(1-dA)*b}if(gL==2){var p=512/C*dA*Math.PI/4;km=p+D;cI=p+b}ku.map[y]=(km-D)*bM;ku.map[y+1]=(cI-b)*f0}}}}}else if(K=="Shr "){var kh=JSON.parse(JSON.stringify(x.ShrP.v));
W.r9.u(kh,new iQ(0,255/127,255/127,0,-2,0));var je=W.r9.ew(kh,ku.o4,!0);fb=x.UndA.v.UndA=="WrpA"?2:1;
for(var S=0;S<ku.o4;S++){var D=-je[S]*ku.pz;for(var f=0;f<ku.pz;f++){var y=S*ku.pz+f<<1;ku.map[y]=D}}}else if(K=="Wave"){var ez=x.NmbG.v,ip=x.WLMn.v,dK=x.WLMx.v,cU=x.AmMn.v*(Math.PI/4),jt=x.AmMx.v*(Math.PI/4),cE=x.SclH.v/100,dT=x.SclV.v/100,dP=x.Wvtp.v.Wvtp,dA=Math.sin;
if(dP=="WvTr")dA=function(f){f*=2/Math.PI;return-.5+Math.abs(f%2-1)};if(dP=="WvSq")dA=function(f){f*=2/Math.PI;
return 1+2*Math.floor(f%2-1)};var cM=[],hx=new W.h.EF(x.RndS.v);for(var y=0;y<ez;y++){cM.push(hx.get()*10);
cM.push(Math.PI*j_/(ip+hx.get()*(dK-ip)));cM.push(cE*(cU+hx.get()*(jt-cU))/j_);cM.push(hx.get()*10);
cM.push(Math.PI*j_/(ip+hx.get()*(dK-ip)));cM.push(dT*(cU+hx.get()*(jt-cU))/j_)}var dj=[],fX=[],dc=Math.max(ku.pz,ku.o4);
for(var y=0;y<dc;y++){var D=0,b=0;for(var aa=0;aa<ez;aa++){var ci=aa*6;D+=cM[ci+2]*dA(cM[ci]+y*cM[ci+1]);
b+=cM[ci+5]*dA(cM[ci+3]+y*cM[ci+4])}dj[y]=b;fX[y]=D}for(var S=0;S<ku.o4;S++){for(var f=0;f<ku.pz;f++){var y=S*ku.pz+f<<1;
ku.map[y]=fX[S];ku.map[y+1]=dj[f]}}fb=x.UndA.v.UndA=="WrpA"?2:1}else if(K=="Rple"){fb=1;var bg=x.Amnt.v/100,f2=4,gd=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],dh=1,jM=1,c8=0,ic=["Sml","Mdm","Lrg"].indexOf(x.RplS.v.RplS);
if(ic==0){dh=1;jM=.2;c8=3}if(ic==2){dh=1;jM=2;c8=-1;gd=gd.reverse()}var eY=function(f,S){var em=Math.cos,j3=0;
for(var y=0;y<f2;y++)for(var aa=0;aa<f2;aa++)j3+=gd[y*f2+aa]*em(f*(y+c8)-S*(aa+c8));return j3},f1=Math.floor(50/j_),hZ=new Float32Array(f1*f1*2),bX=jM*bg*.5/j_;
for(var S=0;S<f1;S++)for(var f=0;f<f1;f++){var he=dh*f*2*Math.PI/f1,a8=dh*S*2*Math.PI/f1,c_=eY(he,a8),D=(eY(he+.01,a8)-c_)*100,b=(eY(he,a8+.01)-c_)*100,y=(S*f1+f)*2;
hZ[y]=D*bX;hZ[y+1]=b*bX}for(var S=0;S<ku.o4;S++)for(var f=0;f<ku.pz;f++){var cI=S%f1,km=f%f1,y=S*ku.pz+f<<1,iT=cI*f1+km<<1;
ku.map[y]=hZ[iT];ku.map[y+1]=hZ[iT+1]}}}W.u4.PH(E.buffer,i.buffer,C,T,null,ku.map,ku.pz,ku.o4,fb)}return i};
var eD={};eD.anW="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");eD.hA="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
eD.t2=["ScrC","ScrD","ScrL"];eD.N4=["SDRD","SDHz","SDLD","SDVt"];eD.Ft="TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
eD.nM="LPBt LPBL LPLf LPTL LPTp LPTR LPRg LPBR".split(" ");eD.ny="GrnR GrSf GrSr GrnC GrCn GrnE GrSt GrnH GrnV GrSp".split(" ");
eD.cz=[[24,19,0],[24,19,1],[24,4],[24,19,2],[24,14],[12,67]];eD.names={ClrP:[0,[24,20,0]],Ct:[0,[24,20,1]],DryB:[0,[24,20,2]],FlmG:[0,[24,20,3]],Frsc:[0,[24,20,4]],NGlw:[0,[24,20,5]],PntD:[0,[24,20,6]],PltK:[0,[24,20,7]],PlsW:[0,[24,20,8]],PstE:[0,[24,20,9]],RghP:[0,[24,20,10]],SmdS:[0,[24,20,11]],Spng:[0,[24,20,12]],Undr:[0,[24,20,13]],Wtrc:[0,[24,20,14]],AccE:[1,[24,20,15]],AngS:[1,[24,20,16]],Crsh:[1,[24,20,17]],DrkS:[1,[24,20,18]],InkO:[1,[24,20,19]],Spt:[1,[24,20,20]],SprS:[1,[24,20,21]],Smie:[1,[24,20,22]],DfsG:[2,[24,20,23]],Gls:[2,[24,20,24]],OcnR:[2,[24,20,25]],BsRl:[3,[24,20,26]],ChlC:[3,[24,20,27]],Chrc:[3,[24,20,28]],Chrm:[3,[24,20,29]],CntC:[3,[24,20,30]],GraP:[3,[24,20,31]],HlfS:[3,[24,20,32]],NtPr:[3,[24,20,33]],Phtc:[3,[24,20,34]],Plst:[3,[24,20,35]],Rtcl:[3,[24,20,36]],Stmp:[3,[24,20,37]],TrnE:[3,[24,20,38]],WtrP:[3,[24,20,39]],GlwE:[4,[24,20,40]],Crql:[5,[24,20,41]],Grn:[5,[24,20,42]],MscT:[5,[24,20,43]],Ptch:[5,[24,20,44]],StnG:[5,[24,20,45]],Txtz:[5,[24,20,46]]};
eD.JQ=function(K){var E;if(K=="ClrP")E={Pncl:{t:"long",v:4},StrP:{t:"long",v:8},PprB:{t:"long",v:25}};
if(K=="Ct")E={NmbL:{t:"long",v:4},EdgS:{t:"long",v:3},EdgF:{t:"long",v:1}};if(K=="DryB")E={BrsS:{t:"long",v:4},BrsD:{t:"long",v:4},Txtr:{t:"long",v:2}};
if(K=="FlmG")E={Grn:{t:"long",v:4},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:23068185}};
if(K=="Frsc")E={BrsS:{t:"long",v:2},BrsD:{t:"long",v:8},Txtr:{t:"long",v:1}};if(K=="NGlw")E={Sz:{t:"long",v:5},Brgh:{t:"long",v:15},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:255}}}};
if(K=="PntD")E={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};if(K=="PltK")E={StrS:{t:"long",v:25},StDt:{t:"long",v:3},Sftn:{t:"long",v:2}};
if(K=="PlsW")E={HghS:{t:"long",v:20},Dtl:{t:"long",v:4},Smth:{t:"long",v:5}};if(K=="PstE")E={EdgT:{t:"long",v:2},EdgI:{t:"long",v:1},Pstr:{t:"long",v:2}};
if(K=="RghP")E={StrL:{t:"long",v:6},StDt:{t:"long",v:4},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:20},LghD:{t:"enum",v:{LghD:"LDBt"}},InvT:{t:"bool",v:!1}};
if(K=="SmdS")E={StrL:{t:"long",v:2},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:6399750}};
if(K=="Spng")E={BrsS:{t:"long",v:2},Dfnt:{t:"long",v:12},Smth:{t:"long",v:5},FlRs:{t:"long",v:218877241}};
if(K=="Undr")E={BrsS:{t:"long",v:6},TxtC:{t:"long",v:16},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(K=="Wtrc")E={BrsD:{t:"long",v:9},ShdI:{t:"long",v:1},Txtr:{t:"long",v:3}};if(K=="AccE")E={EdgW:{t:"long",v:2},EdgB:{t:"long",v:38},Smth:{t:"long",v:5}};
if(K=="AngS")E={DrcB:{t:"long",v:50},StrL:{t:"long",v:15},Shrp:{t:"long",v:3}};if(K=="Crsh")E={StrL:{t:"long",v:9},Shrp:{t:"long",v:6},Strg:{t:"long",v:1}};
if(K=="DrkS")E={Blnc:{t:"long",v:5},BlcI:{t:"long",v:6},WhtI:{t:"long",v:2}};if(K=="InkO")E={StrL:{t:"long",v:4},DrkI:{t:"long",v:20},LghI:{t:"long",v:10}};
if(K=="Smie")E={StrW:{t:"long",v:10},StrP:{t:"long",v:5},Cntr:{t:"long",v:16}};if(K=="Spt")E={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};
if(K=="SprS")E={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(K=="DfsG")E={Grns:{t:"long",v:6},GlwA:{t:"long",v:10},ClrA:{t:"long",v:15},FlRs:{t:"long",v:325892160}};
if(K=="Gls")E={Dstr:{t:"long",v:3},Smth:{t:"long",v:1},TxtT:{t:"enum",v:{TxtT:"TxTL"}},Scln:{t:"long",v:100},InvT:{t:"bool",v:!1}};
if(K=="OcnR")E={RplS:{t:"long",v:5},RplM:{t:"long",v:15},FlRs:{t:"long",v:64008840}};if(K=="BsRl")E={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};
if(K=="ChlC")E={ChrA:{t:"long",v:6},ChlA:{t:"long",v:6},StrP:{t:"long",v:1},FlRs:{t:"long",v:314004633}};
if(K=="Chrc")E={ChAm:{t:"long",v:1},Dtl:{t:"long",v:5},LgDr:{t:"long",v:50},GELv:{t:"bool",v:!0}};if(K=="Chrm")E={Dtl:{t:"long",v:4},Smth:{t:"long",v:4}};
if(K=="CntC")E={FrgL:{t:"long",v:11},BckL:{t:"long",v:7},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(K=="GraP")E={StrL:{t:"long",v:7},LgDr:{t:"long",v:50},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:55993248}};
if(K=="HlfS")E={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};if(K=="NtPr")E={ImgB:{t:"long",v:25},Grns:{t:"long",v:10},Rlf:{t:"long",v:11},FlRs:{t:"long",v:52642770}};
if(K=="Phtc")E={Dtl:{t:"long",v:10},Drkn:{t:"long",v:4}};if(K=="Plst")E={ImgB:{t:"long",v:20},Smth:{t:"long",v:2},LghP:{t:"enum",v:{LghP:"LPTp"}}};
if(K=="Rtcl")E={Dnst:{t:"long",v:12},BlcL:{t:"long",v:40},WhtL:{t:"long",v:5},FlRs:{t:"long",v:301835400}};
if(K=="Stmp")E={LgDr:{t:"long",v:25},Smth:{t:"long",v:4}};if(K=="TrnE")E={ImgB:{t:"long",v:25},Smth:{t:"long",v:11},Cntr:{t:"long",v:17},FlRs:{t:"long",v:461109340}};
if(K=="WtrP")E={FbrL:{t:"long",v:15},Brgh:{t:"long",v:60},Cntr:{t:"long",v:80},FlRs:{t:"long",v:83852682}};
if(K=="GlwE")E={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(K=="Crql")E={CrcS:{t:"long",v:15},CrcD:{t:"long",v:6},CrcB:{t:"long",v:9},FlRs:{t:"long",v:495615720}};
if(K=="Grn")E={Intn:{t:"long",v:40},Cntr:{t:"long",v:50},Grnt:{t:"enum",v:{Grnt:"GrnR"}},FlRs:{t:"long",v:217582197}};
if(K=="MscT")E={TlSz:{t:"long",v:12},GrtW:{t:"long",v:3},LghG:{t:"long",v:9},FlRs:{t:"long",v:25445584}};
if(K=="Ptch")E={SqrS:{t:"long",v:4},Rlf:{t:"long",v:8},FlRs:{t:"long",v:383529723}};if(K=="StnG")E={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
if(K=="Txtz")E={TxtT:{t:"enum",v:{TxtT:"TxBr"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:10},LghD:{t:"enum",v:{LghD:"LDBL"}},InvT:{t:"bool",v:!1}};
E.__name="Filter Gallery";E.classID="GEfc";E.GEfk={t:"enum",v:{GEft:K}};E.GELv={t:"bool",v:!0};return E};
eD.DF=function(K,E){for(var y=0;y<E.length;y++)~~(E[y]=(K[4*y]+K[4*y+1]+K[4*y+2])*(1/3))};eD.awg=function(K,E,x,c){var J=UPNG.quantize(K,E);
J={yf:J.inds,YN:J.plte};var i=Math.floor((x+c)*.015);if(i!=0)W.qe.ae3(J.yf,x,c,i);return J};eD.as=function(K,E,x,c,J,i,P){K=x.GEfk.v.GEft;
var _=E.rect,a=_.b,j=_.n,e=a*j,d=x.FlRs?x.FlRs.v>>>1:0;function I(B){return B.o<<24|B.J<<16|B.k<<8|255}if(K=="ClrP")W.d.a6w(E.buffer,a,j,i.buffer,[x.Pncl.v,x.StrP.v,x.PprB.v]);
if(K=="Ct"){var v=x.NmbL.v,n=x.EdgS.v,C=eD.awg(E.buffer.buffer,v*2,a,j);for(var y=0;y<C.yf.length;y++)C.yf[y]++;
var T=new Uint8Array((a+2)*(j+2));W.XT(C.yf,new cS(1,1,a,j),T,new cS(0,0,a+2,j+2));var o=W.p.ZJ(T,a+2,j+2,n,!1),s=new iQ(1,0,0,1,-1,-1);
for(var y=0;y<o.length;y++)W.p.u(o[y].path.C,s,o[y].path.C);var Q=[],X=C.YN;for(var y=0;y<X.length;y++){var B=X[y].est.q;
Q.push({o:Math.round(255*B[0]),J:Math.round(255*B[1]),k:Math.round(255*B[2]),Cc:Math.round(255*B[3])})}var M=W.G3(a,j);
for(var y=0;y<o.length;y++){var S=o[y],B=Q[S.color-1];if(B.Cc==0)continue;M.fillStyle="rgba("+B.o+","+B.J+","+B.k+","+B.Cc/255+")";
M.beginPath();Typr.U.pathToContext({crds:S.path.C,cmds:S.path.W},M);M.fill()}if(!_.um()){var f=M.getImageData(0,0,a,j);
W.dq(f.data,i.buffer)}}if(K=="DryB")W.d.ass(E.buffer,a,j,i.buffer,[x.BrsS.v,x.BrsD.v,x.Txtr.v]);if(K=="FlmG")W.d.a2z(E.buffer,a,j,i.buffer,[x.Grn.v,x.HghA.v,x.Intn.v,d]);
if(K=="Frsc")W.d.arK(E.buffer,a,j,i.buffer,[x.BrsS.v,x.BrsD.v,x.Txtr.v]);if(K=="NGlw")W.d.apg(E.buffer,a,j,i.buffer,[x.Sz.v,x.Brgh.v,I(W.M.Et(x.Clr.v)),I(c),I(J)]);
if(K=="PltK")W.d.a8o(E.buffer,a,j,i.buffer,[x.StrS.v,x.StDt.v,x.Sftn.v]);if(K=="PstE")W.d.ach(E.buffer,a,j,i.buffer,[x.EdgT.v,x.EdgI.v,x.Pstr.v]);
if(K=="RghP")W.d.ajk(E.buffer,a,j,i.buffer,[x.StrL.v,x.StDt.v,eD.Ft.indexOf(x.TxtT.v.TxtT),x.Scln.v,x.Rlf.v,eD.hA.indexOf(x.LghD.v.LghD),x.InvT.v]);
if(K=="SmdS")W.d.a0m(E.buffer,a,j,i.buffer,[x.StrL.v,x.HghA.v,x.Intn.v,x.FlRs.v,d]);if(K=="Spng")W.d.a7s(E.buffer,a,j,i.buffer,[x.BrsS.v,x.Dfnt.v,x.Smth.v,x.FlRs.v,d]);
if(K=="Undr")W.d.arC(E.buffer,a,j,i.buffer,[x.BrsS.v,x.TxtC.v,eD.Ft.indexOf(x.TxtT.v.TxtT),x.Scln.v,x.Rlf.v,eD.hA.indexOf(x.LghD.v.LghD),x.InvT.v]);
if(K=="Wtrc")W.d.ayV(E.buffer,a,j,i.buffer,[x.BrsD.v,x.ShdI.v,x.Txtr.v]);if(K=="AccE")W.d.azQ(E.buffer,a,j,i.buffer,[x.EdgW.v,x.EdgB.v,x.Smth.v]);
if(K=="AngS")W.d.afF(E.buffer,a,j,i.buffer,[x.DrcB.v,x.StrL.v,x.Shrp.v]);if(K=="Crsh")W.d.aa_(E.buffer,a,j,i.buffer,[x.StrL.v,x.Shrp.v,x.Strg.v]);
if(K=="DrkS")W.d.ag_(E.buffer,a,j,i.buffer,[x.Blnc.v,x.BlcI.v,x.WhtI.v]);if(K=="InkO")W.d.a4Z(E.buffer,a,j,i.buffer,[x.StrL.v,x.DrkI.v,x.LghI.v]);
if(K=="Smie")W.d.ayJ(E.buffer,a,j,i.buffer,[x.StrW.v,x.StrP.v,x.Cntr.v]);if(K=="DfsG")W.d.a9p(E.buffer,a,j,i.buffer,[x.Grns.v,x.GlwA.v,x.ClrA.v,I(J),d]);
if(K=="CntC")W.d.aiF(E.buffer,a,j,i.buffer,[x.FrgL.v,x.BckL.v,eD.Ft.indexOf(x.TxtT.v.TxtT),x.Scln.v,x.Rlf.v,eD.hA.indexOf(x.LghD.v.LghD),x.InvT.v,I(J),I(c)]);
if(K=="ChlC")W.d.avQ(E.buffer,a,j,i.buffer,[x.ChrA.v,x.ChlA.v,x.StrP.v,d,I(J),I(c)]);var F=K=="GraP"||K=="Chrc"||K=="Plst"||K=="Rtcl"||K=="Stmp"||K=="TrnE";
if(F){var G=W.Q(a*j);if(K=="GraP")W.d.ac_(E.buffer,a,j,i.buffer,[x.StrL.v,x.LgDr.v,eD.N4.indexOf(x.SDir.v.StrD),d]);
if(K=="Chrc")W.d.awh(E.buffer,a,j,i.buffer,[x.ChAm.v,x.Dtl.v,x.LgDr.v]);if(K=="Plst")W.d.awU(E.buffer,a,j,i.buffer,[x.ImgB.v,eD.nM.indexOf(x.LghP.v.LghP),x.Smth.v]);
if(K=="Rtcl")W.d.ajj(E.buffer,a,j,i.buffer,[x.Dnst.v,x.BlcL.v,x.WhtL.v,d]);if(K=="Stmp")W.d.abJ(E.buffer,a,j,i.buffer,[x.LgDr.v,x.Smth.v]);
if(K=="TrnE")W.d.apu(E.buffer,a,j,i.buffer,[x.ImgB.v,x.Smth.v,x.Cntr.v,d]);W.Bp(i.buffer,G,0);eD.gD(G,i.buffer,c,J)}if(K=="NtPr")W.d.ah8(E.buffer,a,j,i.buffer,[x.ImgB.v,x.Grns.v,x.Rlf.v,I(c),I(J),d]);
if(K=="WtrP")W.d.aba(E.buffer,a,j,i.buffer,[x.FbrL.v,x.Brgh.v,x.Cntr.v,d>>>1]);if(K=="Crql")W.d.aiR(E.buffer,a,j,i.buffer,[x.CrcS.v,x.CrcD.v,x.CrcB.v,d]);
if(K=="Grn")W.d.avy(E.buffer,a,j,i.buffer,[x.Intn.v,eD.ny.indexOf(x.Grnt.v.Grnt),x.Cntr.v,I(c),I(J),d]);
if(K=="MscT")W.d.ac3(E.buffer,a,j,i.buffer,[x.TlSz.v,x.GrtW.v,x.LghG.v,d]);if(K=="Ptch")W.d.ajF(E.buffer,a,j,i.buffer,[x.SqrS.v,x.Rlf.v,d]);
if(K=="Phtc"){function D(kh,gN,_,gp){W.HL.fy(kh,gN,_,gp);for(var y=0;y<e;y++)gN[y]=Math.max(0,Math.min(255,128+kh[y]-gN[y]))}var b=x.Dtl.v,H=x.Drkn.v,q=W.Q(e);
W.KZ(E.buffer,q);var O=W.Q(e);D(q,O,_,1);if(b==1){b=2;H=Math.round(H/4)}var w=W.Q(e);D(q,w,_,b);for(var y=0;
y<e;y++)q[y]=Math.max(0,Math.min(255,255-(O[y]-w[y])*H));eD.gD(q,i.buffer,c,J)}if(K=="Spt"||K=="SprS"){var V,t=1,m=1;
V={pz:Math.floor(a/m),o4:Math.floor(j/m)};V.map=new Float32Array(V.pz*V.o4*2);var g=new W.h.EF(x.FlRs.v),Y=new Float32Array(8192),A=x.SprR.v,k=A<20?.018*A:.36+(A-20)*.128;
if(K=="SprS"){k=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][A]}for(var y=0;
y<8192;y++)Y[y]=(-1+2*g.get())*k*70;for(var z=0;z<j;z++)for(var p=0;p<a;p++){var L=z*a+p<<1;V.map[L]=Y[L%7919];
V.map[L+1]=Y[(L+1)%7919]}var N=V.map.slice(0),gC=K=="Spt"?x.Smth.v-1:1;if(K=="Spt"&&gC!=0){eD.aqA(V.map,N,a,j,gC);
eD.aw8(N,V.map,a,j,gC)}if(K=="SprS"){var r=x.StrL.v>>>1,h=r==0?2:1;eD.aqA(V.map,N,a,j,h);eD.aw8(N,V.map,a,j,h);
if(r!=0){var l=eD.N4.indexOf(x.SDir.v.StrD),g5=[1,1,1,0][l],fm=[-1,0,1,1][l],dC=2*r+1,ex=1/dC;for(var z=0;
z<j;z++)for(var p=0;p<a;p++){var L=z*a+p<<1,cR=0,d0=0;for(var y=0;y<dC;y++){var hN=Math.max(0,Math.min(a-1,p-(r+y)*g5)),ey=Math.max(0,Math.min(j-1,z-(r+y)*fm)),cr=ey*a+hN<<1;
cR+=V.map[cr];d0+=V.map[cr+1]}N[L]=cR*ex;N[L+1]=d0*ex}V.map=N}}W.u4.PH(E.buffer,i.buffer,a,j,null,V.map,V.pz,V.o4,t)}if(K=="BsRl"||K=="PlsW"||K=="Chrm"){var ik=Date.now(),hd=W.Q(e),df=hd.slice(0);
W.KZ(E.buffer,hd);var b=x.Dtl.v,bQ=x.Smth.v;if(b!=15){W.HL.Bv(hd,df,_,Math.round((15-b)*.5));W.dq(df,hd)}var is=1.4/a,bi=1.4/j,eS=new Float32Array(e),bN=new Float32Array(e),h9=new Float32Array(i.buffer.buffer);
for(var z=0;z<j;z++)for(var p=0;p<a;p++){var y=z*a+p,g5=p==a-1?hd[y]-hd[y-1]:hd[y+1]-hd[y],fm=z==j-1?hd[y]-hd[y-a]:hd[y+a]-hd[y],bz=p*is-.7,i0=z*bi-.7;
eS[y]=g5==0?bz:g5*.4;bN[y]=fm==0?i0:fm*.4}if(K=="BsRl"){var hp=(2+eD.hA.indexOf(x.LghD.v.LghD))*Math.PI*.25,cR=Math.cos(hp);
if(Math.abs(cR)<.1)cR=0;cR=Math.sign(cR);var d0=Math.sin(hp);if(Math.abs(d0)<.1)d0=0;d0=Math.sign(d0);
var hY=1/(cR*cR+d0*d0);for(var z=0;z<j;z++)for(var p=0;p<a;p++){var y=z*a+p,ji=Math.max(-1,Math.min(1,cR*eS[y])),aM=Math.max(-1,Math.min(1,d0*bN[y]));
df[y]=128+127*(ji+aM)*hY}if(bQ!=1){W.HL.Bv(df,hd,_,Math.round((bQ-1)*.5));W.dq(hd,df)}eD.gD(df,i.buffer,c,J)}else{if(K=="Chrm")bQ=5+bQ;
if(bQ>1)eD.uh(eS,bN,h9,_,bQ-1);if(K=="PlsW"){var a1=new Uint8Array(eS.buffer);for(var y=0;y<e;y++){var fi=y<<2,g5=eS[y],fm=bN[y],jJ=1/(Math.sqrt(1+g5*g5)*Math.sqrt(1+fm*fm)),gg=jJ*jJ,iN=gg*gg,B=~~(255*(iN*iN*gg));
a1[fi+0]=B;a1[fi+1]=B;a1[fi+2]=B;a1[fi+3]=B}i.buffer.set(E.buffer);W.h.Nh("norm",a1,_,i.buffer,_,_,x.HghS.v/20)}else if(K=="Chrm"){var ad=i.buffer,h6=a>>>1,iY=j>>>1;
for(var y=0;y<e;y++){var fi=y<<2,g5=eS[y],fm=bN[y],kh={x:1,y:0,EB:g5};bd.Pq(kh);var gN={x:0,y:1,EB:fm};
bd.Pq(gN);var aT=bd.arQ(kh,gN),iv=1/aT.EB,fs=~~Math.max(0,Math.min(a-1,h6-aT.x*iv*h6)),gm=~~Math.max(0,Math.min(j-1,iY-aT.y*iv*iY)),B=hd[gm*a+fs];
ad[fi+0]=B;ad[fi+1]=B;ad[fi+2]=B}}}}if(K=="Gls"||K=="OcnR"||K=="Txtz"){var g8=K=="OcnR"?2:eD.Ft.indexOf(x.TxtT.v.TxtT),b_=eD.vT(g8),ko=b_[0],hd=b_[1],gk=ko.b,bx=ko.n,dC=24,cW=0,kn,fQ;
function ai(fk,a9,ab){return~~(hf*(fk+a9)+8192)&127}var eS=new Float32Array(e),bN=new Float32Array(e),h9=new Float32Array(i.buffer.buffer),hf=K=="OcnR"?1/(1+(x.RplS.v-1)*.1):100/x.Scln.v;
if(g8==3)hf*=32/22.2;var ik=Date.now(),aa=hf,is=1.4/a,bi=1.4/j;if(K=="Txtz"){aa*=1/255;dC=256}for(var z=0;
z<j;z++){var iS=ai(z,_.y,bx),ey=iS+1&127;for(var p=0;p<a;p++){var y=z*a+p,hl=ai(p,_.x,gk),hN=hl+1&127,jR=0,jC=0,h8=0;
if(K=="Txtz"){jR=W.K.iP(hf*p,hf*z,hd,128,128);jC=W.K.iP(hf*p,hf*z+1,hd,128,128);h8=W.K.iP(hf*p+1,hf*z,hd,128,128)}else{jR=hd[iS*gk+hl];
jC=hd[ey*gk+hl];h8=hd[iS*gk+hN]}eS[y]=Math.max(-dC,Math.min((h8-jR)*aa,dC));bN[y]=Math.max(-dC,Math.min((jC-jR)*aa,dC))}}if(K=="Txtz")eD.atO(eS,bN,h9,_,6);
else eD.uh(eS,bN,h9,_,K=="Txtz"?1:K=="OcnR"?3.5/hf:x.Smth.v);if(K=="Txtz")cW=x.InvT.v?-1:1;else if(K=="Gls"){cW=[1,.4,.5,.5][g8]*(Math.exp(x.Dstr.v*.155)-1);
if(x.InvT.v)cW=-cW}else{cW=.5*(Math.exp(x.RplM.v*.155)-1)}var ad=i.buffer;if(K=="Txtz"){var hp=(2+eD.hA.indexOf(x.LghD.v.LghD))*Math.PI*.25,cR=Math.cos(hp),d0=Math.sin(hp);
kn={x:cR,y:d0,EB:0};bd.Pq(kn);fQ=x.Rlf.v;fQ=fQ/4+Math.max(0,(fQ-35)*2)}function i7(kh,gN,iJ){var ek=W.h.overF(gN,kh,1),fk=(1-iJ)*kh+iJ*(iJ*gN+(1-iJ)*ek);
return fk*255}for(var z=0;z<j;z++)for(var p=0;p<a;p++){var y=z*a+p,fi=y<<2,g5=eS[y],fm=bN[y],kh={x:1,y:0,EB:g5};
bd.Pq(kh);var gN={x:0,y:1,EB:fm};bd.Pq(gN);var aT=bd.arQ(kh,gN);if(K=="Txtz"){var jq=bd.afh(aT,kn)*cW,iJ=1,B=1;
if(jq<0){B=0;jq=-jq}iJ=Math.min(1,jq*fQ);ad[fi+0]=~~i7(E.buffer[fi]*(1/255),B,iJ);ad[fi+1]=~~i7(E.buffer[fi+1]*(1/255),B,iJ);
ad[fi+2]=~~i7(E.buffer[fi+2]*(1/255),B,iJ)}else{var iv=cW/aT.EB,fs=~~Math.max(0,Math.min(a-1,p-aT.x*iv)),gm=~~Math.max(0,Math.min(j-1,z-aT.y*iv)),dR=gm*a+fs<<2;
ad[fi+0]=E.buffer[dR];ad[fi+1]=E.buffer[dR+1];ad[fi+2]=E.buffer[dR+2]}}}if(K=="PntD"){var cH=x.Shrp.v*.4,c4=x.BrsT.v.BrsT,cx={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[c4],gp=Math.round(x.Sz.v*.5);
W.WD.NB=cx[0];var gb=W.WD.jO;W.WD.fm(E.buffer,i.buffer,a,j,gp,gb,[]);var bg=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];
bg=W.vm.vM(bg);var cu=i.buffer.slice(0);W.vm.z3(cu,i.buffer,a,j,bg,0);for(var y=0;y<E.buffer.length;
y++){var jP=i.buffer[y]-cu[y];i.buffer[y]=Math.max(0,Math.min(255,cu[y]+cH*jP))}}if(K=="GlwE"){var k4=i.buffer.slice(0);
W.WD.NB=.5;var gb=W.WD.jO;W.WD.fm(E.buffer,k4,a,j,x.Smth.v>>>1,gb,[]);W.vm.rH(k4,i.buffer,a,j);W.dq(i.buffer,k4);
W.Pa(k4);W._m(k4,4278190080,16777215);W.WD.fm(k4,i.buffer,a,j,x.EdgW.v>>>1,W.WD.cb,[]);var kg=x.EdgB.v/10;
for(var y=0;y<k4.length;y++){if((y&3)==3)continue;var ek=i.buffer[y];i.buffer[y]=Math.max(0,Math.min(255,ek*kg))}}if(K=="StnG"){W.qD.a6c(E.buffer,a,j,i.buffer,x.ClSz.v,[Math.round(c.o),Math.round(c.J),Math.round(c.k)],x.BrdT.v)}if(K=="HlfS"){var i_=x.HlSz.v,gX=i_*2+1,eE=x.Cntr.v,dP=eD.t2.indexOf(x.ScrT.v.ScrT),e=a*j,ie=e*4,d7=W.Q(e),bT=E.buffer,gK=0,hS=0;
eD.DF(bT,d7);var bu=d7.slice(0);W.HL.v0(bu,d7,_,i_);var ig=Math.PI/gX,jz=new Float64Array(a),cR=new Float64Array(a),gO=new Float64Array(2*a);
for(var p=0;p<a;p++){var hl=(p-(a>>>1))*ig;jz[p]=hl*hl;cR[p]=Math.cos(hl);var g5=p<<1;gO[g5]=Math.sin(g5*(1/4.5));
gO[g5+1]=Math.sin((g5+1)*(1/4.5))}for(var z=0;z<j;z++){var iS=(z-(j>>>1))*ig,d0=Math.cos(iS),ch=iS*iS;
for(var p=0;p<a;p++){var B=d0;if(dP==0){var h3=.5+Math.sqrt(jz[p]+ch)*4.5;B=gO[~~h3]}else if(dP==1){B=cR[p]*d0}var y=z*a+p,iG=d7[y]*(.75+.25*B),iJ=bT[(y<<2)+3]*(1/255),hi=Math.max(0,Math.min(255,~~iG));
gK+=hi*iJ,hS+=iJ;d7[y]=hi}}gK/=hS;var gU=128+1.26*(gK-128),kg=.08+.25*Math.abs((128-gK)/128),aD=1+kg*eE;
for(var y=0;y<e;y++){var iG=gU+(d7[y]-gU)*aD;d7[y]=Math.max(0,Math.min(255,~~iG))}if(eE>46)W.round(d7);
eD.gD(d7,i.buffer,c,J)}for(var y=0;y<E.buffer.length;y+=4)i.buffer[y+3]=E.buffer[y+3]};eD.gD=function(K,E,x,c){var J=K.length,i=x.o,P=x.J,_=x.k,a=c.o,j=c.J,e=c.k;
for(var y=0;y<J;y++){var d=K[y]*(1/255),I=1-d,v=y<<2;E[v]=~~(i*I+a*d);E[v+1]=~~(P*I+j*d);E[v+2]=~~(_*I+e*d)}};
eD.vT=function(K){if(K==6)K=2;var E="blocks canvas frosted tinylens brick burlap".split(" ")[K];if(eD.O7==null)eD.O7=[];
if(eD.O7[K]==null){var x,c;if(K==2){c=new cS(0,0,128,128);var J=dJ.JQ("AdNs");J.Mnch.v=!0;J.Dstr.v.Dstr="Gsn";
J.Nose.v.val=50;var x=W.Q(c.O()*4),i=x.slice(0);new Uint32Array(i.buffer).fill(4286611584);dJ.as("AdNs",{buffer:i,rect:c},J,0,0,{buffer:x,rect:c})}else{var P=gr.nu.get("tex/"+E,!0)[0];
c=P.yA;x=new Uint8Array(P.data)}var _=W.Q(c.O());W.Bp(x,_,0);eD.O7[K]=[c,_]}return eD.O7[K]};eD.uh=function(K,E,x,c,J){if(J<=1){J=Math.round(J);
eD.atO(K,E,x,c,[1,16,4][J]);return}var i=J*.42;if(K){W.HL.u$(K,x,c,i,3);K.set(x)}if(E){W.HL.u$(E,x,c,i,3);
E.set(x)}};eD.atO=function(K,E,x,c,J){var i=W.vm.vM([1,2,1,2,J,2,1,2,1]);if(K){x.set(K);W.vm.Ik(K,x,c.b,c.n,i);
K.set(x)}if(E){x.set(E);W.vm.Ik(E,x,c.b,c.n,i);E.set(x)}};eD.t5=function(K){if(K==null)return new iP(0,0);
var E=0,x=K.GEfs?K.GEfs.v:[{v:K}];for(var y=0;y<x.length;y++){var c=x[y].v,i=1e4;if(c.GELv&&!c.GELv.v)continue;
var J=c.GEfk.v.GEft;if(J=="GlwE"||J=="Phtc"||J=="BsRl"||J=="PlsW"||J=="Chrm"||J=="Gls"||J=="OcnR"||J=="InkO")i=0;
E=Math.max(E,i)}return new iP(E,E)};eD.agh=function(K){var E=[0,0,0,0,0,0,0,0,0,0,0,0,0],x=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][K];
for(var y=0;y<13;y++){var c=y-6;E[y]=1/(x*Math.sqrt(2*Math.PI))*Math.exp(-.5*(c/x)*(c/x))}return E};
eD.aqA=function(K,E,x,c,J){var i=eD.agh(J),P=6,_=13;for(var a=0;a<c;a++)for(var j=0;j<x;j++){var e=a*x+j<<1,d=0,I=0;
for(var y=0;y<_;y++){var v=j+y-P,n=v<0?0:v>=x?x-1:v,C=(a*x+n)*2,T=i[y];d+=T*K[C];I+=T*K[C+1]}E[e]=d;
E[e+1]=I}};eD.aw8=function(K,E,x,c,J){var i=eD.agh(J),P=6,_=13;for(var a=0;a<c;a++)for(var j=0;j<x;j++){var e=a*x+j<<1,d=0,I=0;
for(var y=0;y<_;y++){var v=a+y-P,n=v<0?0:v>=c?c-1:v,C=(n*x+j)*2,T=i[y];d+=T*K[C];I+=T*K[C+1]}E[e]=d;
E[e+1]=I}};function db(){}db.eP=[2,5,5,7,4,4];db.bV="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
db.ws="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
db.n7=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
db.HU=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
db.qw=function(K){if(K=="passThrough")return"pass";return db.bV[db.ws.indexOf(K)]};db.zJ=function(K){if(K=="pass")return"passThrough";
return db.ws[db.bV.indexOf(K)]};db.getName=function(K){return db.n7[db.bV.indexOf(K)]};function Z(){this.rect=null;
this.buffer=null;this.Vk="norm";this.opacity=255;this.Z2=!1;this.LD=0;this.DP=0;this.Yg=!0;this.Dg=[];
for(var y=0;y<10;y++)this.Dg.push(0,0,255,255);this.name=null;this.add={};this.vG=null;this.Oa=null;
this.z=null;this.Sc=null;this.alr=30;this.lA=null;this.hw=null;this.eo=null;this.ik=null;this.kS=0;this.gl=!1;
this.uE=null;this.vJ=new Z.K$}Z.K$=function(){this.dT=!0;this.al=!0;this.U7=W.Q(0);this.a6T=W.Q(0);this.XL=null;
this.n1={};this.asz=null;this.gd=null;this.Gm=null;this.Jb=null;this.ai=null;this.Z$=null;this.qb=null;
this.V5=null;this.gH=null;this.Ls=null;this.SA=null;this.WZ=null;this.dG=!1};Z.K$.prototype.ag8=function(){this.dT=null;
this.al=!1;this.XL=null;this.dG=f4.Eg};Z.K$.prototype.a4L=function(){bd.a83(this.n1);this.U7=W.Q(0);
this.a6T=W.Q(0);if(this.Jb)this.Jb.delete();if(this.ai)this.ai.delete();this.Jb=null;this.ai=null;var K=[this.Z$,this.qb,this.V5,this.gH,this.Ls,this.SA];
for(var y=0;y<6;y++)if(K[y]!=null&&K[y]instanceof f4.oA)K[y].delete();this.Z$=null;this.qb=null;this.V5=null;
this.gH=null;this.Ls=null;this.SA=null};Z.prototype.U=function(K){if(K==null)K=this.rect.clone();if(this.vJ.XL==null)this.vJ.XL=K;
else this.vJ.XL=this.vJ.XL.XN(K)};Z.prototype.wC=function(){return this.add.lsct==fV.Bm||this.add.lsct==fV.wg};
Z.prototype.Au=function(){var K=this.add;return K.SoCo!=null||K.GdFl!=null||K.PtFl!=null};Z.prototype.a6j=function(){var K=this.add.lmfx;
if(K==null)return;var E=["GrFl","patternFill"];for(var y=0;y<E.length;y++){var x=dz.E9[dz.order.indexOf(E[y])],c=K[x].v;
if(c.length==0)continue;for(var J=0;J<c.length;J++){var i=c[J].v;if(i.enab.v&&(i.Algn==null||!i.Algn.v))this.vJ.al=!0}}};
Z.prototype.aja=function(){var K=this.z,E=this.vJ.dT;if(this.Au())K=this.FA();if(!f4.Eg)return K.Wo();
if(this.vJ.ai==null||E||f4.Eg!=this.vJ.dG){var x=K.ZS(),c=this.vJ.ai,J=null;if(E!=!0&&E!=null){J=E.clone();
J.offset(-x.x,-x.y)}if(c==null||c.b!=x.b||c.n!=x.n){c=this.vJ.ai=new f4.rG(x.b,x.n);J=null}c.set(K.Wo(),J)}return this.vJ.ai};
Z.prototype.ayy=function(K){var E=this.rect,x=this.buffer;if(!f4.Eg){var c=this.hK(K,x,E);if(c){x=c.Ly;
E=c.rect}return x}if(this.vJ.XL!=null||f4.Eg!=this.vJ.dG){var c=this.hK(K,x,E);if(c){x=c.Ly;E=c.rect}var J=E;
if(f4.Eg!=this.vJ.dG||this.vJ.Jb==null||this.vJ.Jb.b!=J.b||this.vJ.Jb.n!=J.n){if(this.vJ.Jb)this.vJ.Jb.delete();
this.vJ.Jb=new f4.oA(J.b,J.n);this.vJ.Jb.set(x)}else{var i=this.vJ.XL.clone();i.offset(-E.x,-E.y);this.vJ.Jb.set(x,i)}}return this.vJ.Jb};
Z.prototype.vz=function(){var K=this.z;if(this.Au())K=this.FA();return K!=null&&K.isEnabled&&(!K.rect.um()||K.Et()!=255)};
Z.prototype.hK=function(K,E,x){if(this.St()){var c=this.Xe(K);if(c.z&&c.z.isEnabled&&(!c.z.rect.um()||c.z.color==0)){var J=this.add.SoLd.filterFX.v;
c.z.Kq=J.filterMaskDensity?J.filterMaskDensity.v:255;c.z.Zs=J.filterMaskFeather?J.filterMaskFeather.v:0;
var i=c.buffer,P=c.rect;if(P.O()<x.O()){P=x;i=W.Q(P.O()*4);W.UL(c.buffer,c.rect,i,P)}var _=c.z.zw(x);
W.Pa(_);E=E.slice(0);W.h.bG(i,P,E,x,_,x,0,x,1);return{Ly:E,rect:x}}}};Z.prototype.axx=function(){var K={pH:!1,mh:!1,vr:0,g9:0};
if(this.add.vmsk&&this.add.vmsk.isEnabled)K.mh=!0;if(this.FA()&&this.FA().isEnabled)K.pH=!0;if(K.pH&&K.mh){K.vr=this.FA().rect.x-this.add.vmsk.FA().rect.x;
K.g9=this.FA().rect.y-this.add.vmsk.FA().rect.y}return K};Z.prototype.DY=function(K,E){this.vJ.oD=null;
if(E&&this.FA().Zs!=0){E=E.clone();var x=Math.round(this.FA().Zs*2.4);E.r1(x,x)}var c=!1;if(this.add.lsct==fV.Xx)return;
var J=this,i=this.FA()!=null&&this.FA().I_,P=this.add.vmsk!=null&&this.add.vmsk.I_,_=this.axx(),a=JSON.stringify(_)!=this.vJ.asz||_.pH&&i||_.mh&&P;
if(a){if(_.mh){var j=this.add.vmsk.FA();if(_.pH){this.z=this.FA().hH(j);this.vJ.gd=new iP(this.z.rect.x-this.FA().rect.x,this.z.rect.y-this.FA().rect.y)}else this.z=j}if(this.z)c=!0;
if(this.z)this.vJ.Gm=new iP(this.rect.x-this.z.rect.x,this.rect.y-this.z.rect.y);if(_.pH)this.FA().I_=!1;
if(_.mh)this.add.vmsk.I_=!1;this.U(E)}else{if(_.pH&&_.mh){this.z.rect.x=this.FA().rect.x+this.vJ.gd.x;
this.z.rect.y=this.FA().rect.y+this.vJ.gd.y}}if(J.Au()){this.if(K)}if(J.Lq()){var e;if(this.z)e=new iP(this.rect.x-this.z.rect.x,this.rect.y-this.z.rect.y);
if(this.z&&this.z.isEnabled&&(this.vJ.Gm==null||!e.ac(this.vJ.Gm))){this.vJ.Gm=e;this.U(E);c=!0}}if(c2.get(J.add)!=null)c=!0;
if(c){var d=this.vJ.dT;if(E&&d&&d!=!0)d=d.XN(E);else d=E?E:!0;this.vJ.dT=d}this.vJ.asz=JSON.stringify(_)};
Z.prototype.if=function(K){var E=this,x=E.add.vstk,c=new cS(0,0,K.b,K.n),J,i=E.add.vmsk?this.add.vmsk.FA():null,a=!0,d;
if(i&&i.isEnabled&&i.Et()==0)J=i.ZS().clone();else J=c;var P=E.FA();if(P&&P.isEnabled&&P.Et()==0)J=J.Sl(E.z.ZS());
var _=i&&x;if(x&&(!x.strokeEnabled.v||x.strokeStyleLineWidth.v.val==0))_=!1;if(x&&!x.fillEnabled.v&&_)a=!1;
var j=W.Q(J.O()*4);if(a){if(E.add.SoCo)bd.tB(j,E.add.SoCo.Clr.v);if(E.add.GdFl){var e=i&&i.color==0?W.r.a3(E.add.vmsk.i,null,!0):null;
bd.ZB(E.add.GdFl,j,J,K,null,e)}if(E.add.PtFl)bd.Tq(E.add.PtFl,j,J,K.add.Patt,E.add.fxrp)}if(_)d=dz.Ae.Zi.indexOf(x.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(i){var I=i.Kq;if(_)i.Kq=255;var v=W.Q(J.O());if(i.Et()!=0)v.fill(Math.round(i.Et()));if(i&&i.isEnabled){var n=i.ZS(),C=i.Wo();
if(n.ac(J))W.dq(C,v);else W.XT(C,n,v,J)}if(_&&d==2){}else{if(E.add.SoCo&&a){W.Mz(v,j,3)}else W.x9(v,J,j,J)}if(_)i.Kq=I}E.buffer=j;
E.rect=J;if(_){var T=x.strokeStyleContent.v,o=dz.Ae.Iy.indexOf(T.classID),s=this.add.vmsk.FA(x);if(d!=0&&!E.rect.ac(c))E.extend(E.rect.XN(s.ZS()));
var I=s.Kq;s.Kq=255;var Q=s.zw(E.rect);s.Kq=I;if(s.color==255)W.Pa(Q);var X=W.Q(E.rect.O()*4);if(o==0)bd.tB(X,T.Clr.v);
if(o==1)bd.ZB(T,X,E.rect,K,null,i.color==0?i.rect:null);if(o==2)bd.Tq(T,X,E.rect,K.add.Patt,E.add.fxrp);
var B=x.strokeStyleOpacity.v.val/100;if(B!=1)W.mz(Q,B);if(s.color==255)d=2-d;if(d<2){W.h.bG(X,E.rect,E.buffer,E.rect,Q,E.rect,255,E.rect,1,!1);
if(d==0)W.Z4(v,E.buffer)}if(d==2){W.Z4(Q,X);W.Pa(v);W.h.bG(X,E.rect,E.buffer,E.rect,v,J,255,E.rect,1,!1);
W.Pa(v)}if(s.Kq!=255){var M=X.slice(0);W._m(M,4278190080,16777215);W.h.Nh("norm",M,E.rect,E.buffer,E.rect,E.rect,1-s.Kq/255)}I=i.Kq;
i.Kq=255;this.a6T=i.zw(E.rect);i.Kq=I}this.U()};Z.prototype.mQ=function(K,E,x){var c=this,J=c.add.SoLd.Idnt.v,i=c.add.SoLd,P=W.p.hp($.Xq.t9(i.nonAffineTransform)),_=K.KW(J,i.Crop?i.Crop.v:null,[P.b,P.n],i.Impr.v.classID,x),v=1;
if(_==null)return;var a=_.WG;i.Sz.v.Wdth.v=a[1].b;i.Sz.v.Hght.v=a[1].n;var j=_.B8==null?i.Rslt.v.val:_.B8,e=i.warp.v,d=$.Xq.t9(i.nonAffineTransform),I=a[1].clone();
I.b*=v;I.n*=v;I.x=(a[1].b-I.b)/2;I.y=(a[1].n-I.n)/2;var n=W.K.AS(d,I);if(e&&!W.HA.eS(e)){var P=W.p.hp(W.HA.q5(e)),C=P.x,T=P.y,o=1/P.b,s=1/P.n;
n=W.K.AS(d);n=W.K.hH(n,[o,0,-C*o,0,s,-T*s,0,0])}var Q=$.Xq.K7(a,E?0:1,n,e,null,null,null,E);if(Q==null){c.buffer=W.Q();
c.rect=new cS}else if(c.St()){var X=c.Xe(K);X.buffer=Q.buffer;X.rect=Q.rect.clone();this.fQ(K,E)}else{c.buffer=Q.buffer;
c.rect=Q.rect}c.DY(K);c.U();K.U()};Z.prototype.fQ=function(K,E){if(E==null)E=!1;var x=this.Xe(K),c=this.add.SoLd.filterFX.v,J=dJ.auW(c),i=new cS(0,0,K.b,K.n),P=x.rect.XN(i),_=x.rect.clone();
_.r1(J.x,J.y);var a={buffer:null,rect:P.Sl(_)};a.buffer=W.Q(a.rect.O()*4);W.UL(x.buffer,x.rect,a.buffer,a.rect);
if(c.enab.v&&E==!1){var j=c.filterFXList.v;for(var y=0;y<j.length;y++){var e=j[y].v;if(e.enab.v==!1)continue;
var d=e.blendOptions.v,I=db.qw(d.Md.v.BlnM),v=d.Opct.v.val/100,n=W.M.Et(e.FrgC.v),C=W.M.Et(e.BckC.v),T=dJ.GG(e),o={buffer:W.Q(a.buffer.length),rect:a.rect.clone()},s=e.Fltr?e.Fltr.v:null;
if(c2.kK[T]!=null){var Q=c2.kK[T],X=c2.We(Q,s);if(X)c2.as(X,a.buffer,o.buffer,a.rect)}else dJ.as(T,a,s,n,C,o,[K.add.lnk2?K.add.lnk2:[],this.FA(),K.Un]);
if(I=="norm"&&v==1)a=o;else if(I=="norm"){W.h.bG(o.buffer,o.rect,a.buffer,a.rect,null,null,null,a.rect,v)}else{W.h.Nh(I,o.buffer,o.rect,a.buffer,a.rect,a.rect,v)}}}this.rect=a.rect;
this.buffer=a.buffer;this.oo();this.U();K.U()};Z.prototype.Oo=function(K,E,x){this.uE=this.aeg(K,E,x)};
Z.prototype.xo=function(K,E){var x=this.aeg(K,E,!0);if(x==null)return null;var c={FV:x.kS,AJ:x.y3,rect:x.VM};
if(c.FV==1||c.FV==3){var J=c.rect,i=W.Q(J.b*J.n*4);W.Mz(c.AJ,i,0);W.Mz(c.AJ,i,1);W.Mz(c.AJ,i,2);W.Pj(K.P.channel,K.P.rect,i,J);
c.AJ=i}return c};Z.prototype.aeg=function(K,E,x){var c,J,i,P,_,a,j;if(this.kS<=0){var e=W.Q(this.rect.O());
W.Bp(this.buffer,e,3);c=W.Oh.qm(E,{channel:e,rect:this.rect},3);if(c==null)return null;var d=W.UF(c.channel,c.rect);
P=c.rect.clone();_=this.rect.clone();J=W.Q(P.O()*4);W.UL(this.buffer,_,J,P);W.Mz(c.channel,J,3);i=this.buffer.slice(0);
if(!x){var I=E.channel.slice(0);W.Pa(I);W.x9(I,E.rect,i,_)}a=this.buffer.slice(0);j=this.rect.clone()}if(this.kS==1||this.kS==3){var v=this.kS==1?this.FA():this.Xe(K).z;
P=E.rect.clone();_=v.rect.clone();J=v.mB(P);var i=v.channel.slice(0);if(!x)W.h.b7(v.color==255?W.bY(P.O()):W.im(P.O()),P,i,_,E.channel,P,1);
a=v.channel.slice(0);j=v.rect.clone()}return{kS:this.kS,y3:J,VM:P,Xt:i,tG:_,uy:a,Il:j}};Z.prototype.Hn=function(K,E){var x=this.uE;
if(x.kS==0){this.rect=x.Il;this.buffer=x.uy;this.U()}if(x.kS==1||x.kS==3){var c=x.kS==1?this.FA():this.Xe(K).z;
c.channel=x.uy;c.rect=x.Il;if(this.kS==1){c.I_=!0;this.DY(K)}if(this.kS==3)this.U()}this.uE=E};Z.prototype.nI=function(K,E){if(this.kS<=0&&E.rect.ac(this.rect)){var x=W.Q(this.rect.O());
W.Bp(this.buffer,x,3);if(W.ac(K.P.channel,x)){var c=this.rect,J=this.buffer;this.uE={kS:this.kS,y3:J.slice(0),VM:c.clone(),Xt:W.Q(0),tG:new cS,uy:W.Q(0),Il:new cS};
return!0}}var i=this.uE;if(i==null)return!1;if(i.kS!=this.kS)return!1;if(!E.rect.ac(i.VM))return!1;var P=i.tG.XN(i.VM);
if(i.kS<=0){if(!P.ac(this.rect))return!1;var _=W.Q(i.y3.length>>2);W.Bp(i.y3,_,3);if(!W.ac(E.channel,_))return!1;
var a=W.Q(P.b*P.n*4);W.UL(i.Xt,i.tG,a,P);W.h.Nh("norm",i.y3,i.VM,a,P,P,1);return W.ac(a,this.buffer)}if(i.kS==1||i.kS==3){var j=i.kS==1?this.FA():this.Xe(K).z;
if(!P.ac(j.rect))return!1;var e=W.Q(P.O());e.fill(j.color);W.XT(i.Xt,i.tG,e,P);W.h.b7(i.y3,i.VM,e,P,E.channel,P,1);
return W.ac(e,j.channel)}};Z.prototype.vg=function(K,E,x,c){var J=this.uE;J.VM.offset(E,x);var i=J.tG.XN(J.VM);
if(J.kS<=0){var P=W.Q(i.O()*4);W.UL(J.Xt,J.tG,P,i);W.h.Nh("norm",J.y3,J.VM,P,i,i,1);this.buffer=P;this.rect=i;
this.U()}else{var _=this.kS==1?this.FA():this.Xe(K).z,a=W.Q(i.O());a.fill(_.color);W.XT(J.Xt,J.tG,a,i);
W.h.b7(J.y3,J.VM,a,i,c.channel,i,1);_.channel=a;_.rect=i.clone();if(this.kS==1){_.I_=!0;this.DY(K)}if(this.kS==3)this.U()}};
Z.prototype.aa6=function(){var K=[-1,0,1,2];if(this.z)K.push(-2);if(this.Sc)K.push(-3);return K};Z.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};
Z.prototype.yH=function(hr){this.add.luni=this.name=hr};Z.prototype.Te=function(K){var E=this.add.lnsr,x=this.add.TySh;
if(E=="rend"&&x){var c=ev.w1(x.kd);this.yH(c.slice(0,c.length-1).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))}};
Z.prototype.bL=function(){return(this.LD&1<<1)==0};Z.prototype.Lq=function(){return(this.LD&1<<4)==0};
Z.prototype.Gw=function(){return(this.LD&1<<5)!=0};Z.prototype.amq=function(){var K=this;if(K.add.lnsr!="bgnd"){K.add.lnsr="bgnd";
K.yH("Background");K.add.lspf=1<<2}};Z.prototype.ahw=function(){var K=this;if(K.add.lnsr=="bgnd"){delete K.add.lnsr;
K.yH("Layer 0");K.add.lspf=0}};Z.prototype.M0=function(K){var E=this.add.lspf;return E==null?!1:(E>>K&1)!=0};
Z.prototype.g7=function(K){if(K&&!this.bL())this.LD-=2;if(!K&&this.bL())this.LD+=2};Z.prototype.L5=function(){var K=this.add.lmfx;
if(K==null)return!1;for(var E in K){if(E=="masterFXSwitch")continue;if(E=="Scl")continue;if(E=="classID")continue;
if(K[E].v.length>0)return!0}return!1};Z.prototype.St=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
Z.prototype.$y=function(){var K=this.add.lmfx;if(K==null)return!1;if(!K.masterFXSwitch.v)return!1;for(var E in K){if(E=="masterFXSwitch")continue;
if(E=="Scl")continue;if(E=="classID")continue;var x=K[E].v;for(var y=0;y<x.length;y++)if(x[y].v.enab.v)return!0}return!1};
Z.prototype.ES=function(K,E,x,c){var J=new cS,i=this.UX(K,x,c);if(i.indexOf(0)!=-1)J=J.XN(this.rect);
if(i.indexOf(1)!=-1){var P=this.FA(),_=P.ZS();J=x&&P.Et()==0?J.um()?_:J.Sl(_):J.XN(_)}if(i.indexOf(2)!=-1){var a=this.add.vmsk,j=this.add.vstk,e;
if(E){e=W.r.a3(a.i,a.g.length!=0?a.g:null)}else e=W.r.a3(a.i);if(!c&&j&&j.strokeEnabled.v){var d=j.strokeStyleLineAlignment.v.strokeStyleLineAlignment,I=j.strokeStyleLineJoinType.v.strokeStyleLineJoinType;
if(d!="strokeStyleAlignInside"){var v=j.strokeStyleLineWidth.v.val;if(I=="strokeStyleMiterJoin")e=new cS(0,0,K.b,K.n);
else e.r1(v,v)}}J=J.XN(e)}if(i.indexOf(3)!=-1)J=J.XN(this.Xe(K).z.ZS());if(i.length==0&&this.Au())J=c?new cS(0,0,0,0):new cS(0,0,K.b,K.n);
return J};Z.prototype.Po=function(){var K=this.add.artb,E=K.artboardBackgroundType.v,x=0;if(E==1)x=4294967295;
else if(E==2)x=4278190080;else if(E==3)x=0;else if(E==4){x=K.Clr.v;x=255<<24|x.Bl.v<<16|x.Grn.v<<8|x.Rd.v}else throw E;
return x};Z.prototype.IZ=function(){var K=this.add.artb.artboardRect.v,E=K.Btom.v,x=K.Left.v,c=K.Rght.v,top=K.Top.v;
return new cS(x,top,c-x,E-top)};Z.prototype.MZ=function(K){var E=Z.Ws(K);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=E};Z.Ws=function(K){var E={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
E.Btom.v=K.y+K.n;E.Left.v=K.x;E.Rght.v=K.x+K.b;E.Top.v=K.y;return E};Z.prototype.UX=function(K,E,x){var c=[],J=this;
if(!E&&J.gl&&x){c.push(2)}else if(J.kS<=0||E){if(J.Lq())if(!this.rect.um())c.push(0);if(J.FA()&&!J.FA().rect.um())if(J.FA().B0||E)c.push(1);
if(J.add.vmsk)if(J.add.vmsk.B0||E)c.push(2);if(J.St()&&J.Xe(K).z&&!J.Xe(K).z.rect.um())c.push(3)}else if(J.kS==1){c.push(1);
if(J.FA().B0&&!J.FA().rect.um()){if(J.Lq())if(!this.rect.um())c.push(0);if(J.add.vmsk)if(J.add.vmsk.B0)c.push(2)}}else if(J.kS==3&&!J.Xe(K).z.rect.um())c.push(3);
if(J.add.artb&&c.indexOf(0)==-1)c.push(0);c.sort();return c};Z.prototype.FA=function(){var K=this;return K.Sc?K.Sc:K.add.vmsk&&K.add.vmsk.isEnabled?null:K.z};
Z.prototype.Xe=function(K){var E=this.add.SoLd.placed.v,x=K.add.FEid;if(x==null)return null;for(var y=0;
y<x.length;y++)if(x[y].id==E)return x[y];return null};Z.prototype.extend=function(K){W.axh(this,K)};
Z.prototype.a2F=function(K,E,x){var c=K.clone();if(this.$y()){var J=this.add.lmfx,i=E.root.R7(E.B.indexOf(this)),P=J.gradientFillMulti.v,_=!1;
for(var y=0;y<P.length;y++)if(P[y].v.enab.v&&P[y].v.Algn.v)_=!0;if(_)c=c.XN(i.ZS(E,!1));var a=bd.a3$(this.add.lmfx,E,x);
c.offset(a.x,a.y);c.b+=a.b;c.n+=a.n}return c};Z.prototype.oo=function(){if(this.Lq())W.yw(this);var K=this.FA();
if(K)K.oo()};Z.prototype.clone=function(){var K=new Z;K.rect=this.rect.clone();K.buffer=this.buffer.slice(0);
K.Vk=this.Vk;K.opacity=this.opacity;K.Z2=this.Z2;K.LD=this.LD;K.name=this.name;K.Dg=this.Dg.slice(0);
if(this.z)K.z=this.z.clone();if(this.Sc)K.Sc=this.Sc.clone();for(var E in this.add)K.add[E]=i5.clone(E,this.add[E]);
return K};Z.prototype.IF=function(K){var E=this;if(E.add.TySh)delete E.add.TySh;if(E.add.SoLd){var x=this.hK(K,this.buffer,this.rect);
if(x){this.buffer=x.Ly;this.rect=x.rect;this.U()}delete E.add.SoLd}if(E.add.SoCo||E.add.GdFl||E.add.PtFl){if(E.add.vogk)delete E.add.vogk;
if(E.add.SoCo)delete E.add.SoCo;if(E.add.GdFl)delete E.add.GdFl;if(E.add.PtFl)delete E.add.PtFl;if(E.add.vmsk){console.log(E.Sc,E.z);
delete E.add.vmsk;if(E.Sc==null&&E.z)delete E.z;else if(E.Sc!=null&&E.z!=null){E.z=E.Sc;delete E.Sc}}}if(!E.wC()&&c2.get(E.add)==null&&!this.Lq())this.LD-=16};
Z.prototype.Sz=function(K){var E=255,x=0;if(K==2){var c=this.add.SoLd.filterFX.v;if(c.filterMaskDensity)E=c.filterMaskDensity.v;
if(c.filterMaskFeather)x=c.filterMaskFeather.v}else{var J=K==0?this.FA():this.add.vmsk;E=J.Kq;x=J.Zs}return{p0:K,er:E,tp:x}};
Z.prototype.abf=function(K){if(K.p0==2){var E=this.add.SoLd.filterFX.v;if(K.er==255)delete E.filterMaskDensity;
else E.filterMaskDensity={t:"long",v:K.er};if(K.tp==0)delete E.filterMaskFeather;else E.filterMaskFeather={t:"doub",v:K.tp};
this.U()}else{var x=K.p0==0?this.FA():this.add.vmsk;x.Kq=K.er;x.Zs=K.tp;x.I_=!0}};Z.prototype.yt=function(){var K=this,E=K.add.vmsk;
if(E==null)return;K.add.vogk=W.X.a8p(E.i)};Z.yt=function(K){var E=[],x=W.r.kT(K);for(var c=0;c<x;c++)E.push(W.X.im());
return E};var fV={L$:0,Bm:1,wg:2,Xx:3};Z.vW=function(){this.name="Mask";this.U1=!1;this.Hw={o:255,J:0,k:0};
this.g8=50;this.cl=0;this.color=255;this.B0=!0;this.isEnabled=!0;this._r=!1;this.Kq=255;this.Zs=0;this.rect=new cS;
this.channel=W.Q(0);this.CJ=null;this.aow=null;this.I_=!0};Z.vW.prototype.hH=function(K){if(!this.isEnabled)return K;
var E=new Z.vW;E.color=Math.round(this.Et()*K.Et()/255);if(this.Et()==0&&K.Et()==0)E.rect=this.ZS().Sl(K.ZS());
else if(K.Et()==0)E.rect=K.ZS().clone();else if(this.Et()==0)E.rect=this.ZS().clone();else E.rect=this.ZS().XN(K.ZS());
E.channel=this.zw(E.rect);E.Kq=255;E.Zs=0;var x=K.zw(E.rect);W.a4o(x,E.rect,E.channel,E.rect);return E};
Z.vW.prototype.ZS=function(){if(this.Zs==0)return this.rect;var K=Math.ceil(this.Zs*2.2),E=this.rect.clone();
if(E.y==0){if(E.x==0)E.b+=K;else E.r1(K,0);E.n+=K}else E.r1(K,K);return E};Z.vW.prototype.Wo=function(){if(this.Zs==0&&this.Kq==255)return this.channel;
if(this.Zs==0){var K=this.channel.slice(0);W.Pa(K);W.mz(K,this.Kq/255);W.Pa(K);return K}var E=this.ZS(),x=this.mB(E),K=W.Q(E.O());
W.HL.Bv(x,K,E,this.Zs);if(this.Kq!=255){W.Pa(K);W.mz(K,this.Kq/255);W.Pa(K)}return K};Z.vW.prototype.Et=function(){return Math.round(255-(255-this.color)*(this.Kq/255))};
Z.vW.prototype.extend=function(K){W.extend(this,K,this.color)};Z.vW.prototype.oo=function(){if(this.color==255)W.Pa(this.channel);
W.oo(this);if(this.color==255)W.Pa(this.channel)};Z.vW.prototype.clone=function(){var K=new Z.vW;K.name=this.name;
K.U1=this.U1;K.Hw=this.Hw;K.g8=this.g8;K.cl=this.cl;K.color=this.color;K.B0=this.B0;K.isEnabled=this.isEnabled;
K._r=this._r;K.Kq=this.Kq;K.Zs=this.Zs;K.rect=this.rect.clone();K.channel=this.channel.slice(0);return K};
Z.vW.prototype.mB=function(K,E){if(E==null)E=W.Q(K.O());E.fill(this.color);W.XT(this.channel,this.rect,E,K);
return E};Z.vW.prototype.zw=function(K,E){var x=this.ZS(),c=this.Wo();if(E==null)E=W.Q(K.O());E.fill(this.Et());
W.XT(c,x,E,K);return E};Z.Wf=function(){this.B0=!0;this.isEnabled=!0;this.Kq=255;this.Zs=0;this.i=[{type:6},{type:8,all:0}];
this.D7=[-3,-3];this.jn=!1;this.Sc=null;this.I_=!0;this.g=[];this.Ex=[]};Z.Wf.prototype.offset=function(K,E){this.Sc=this.FA();
W.r.it(this.i,new iQ(1,0,0,1,K,E));this.Sc.rect.offset(K,E)};Z.Wf.prototype.FA=function(K){if(!this.I_&&this.Sc&&K==null){this.Sc.isEnabled=this.isEnabled;
return this.Sc}var E=W.r.a3(this.i),x="strokeStyleLineAlignment",c="strokeStyleLineJoinType";if(E.O()>2e4*2e4)E=new cS(0,0,100,100);
if(K&&K[x].v[x]!="strokeStyleAlignInside"){var J=1;if(K[c].v[c]=="strokeStyleMiterJoin"){var i=W.r.awz(this.i),P=i/2,_=Math.sin(P),a=Math.cos(P);
a/=_;_=1;var J=Math.sqrt(a*a+_*_);if(isNaN(J)||J<1)J=1}J*=K[x].v[x]=="strokeStyleAlignOutside"?1:.5;
var j=Math.ceil(K.strokeStyleLineWidth.v.val*J);j=Math.min(j,600);E.r1(j,j)}E=W.p.OC(E);var e=new Z.vW;
e.color=W.r.zG(this.i)?0:255;e.B0=this.B0;e.isEnabled=this.isEnabled;e._r=!0;e.rect=E;e.Kq=this.Kq;e.Zs=this.Zs;
e.channel=W.Q(e.rect.O());if(!E.um())W.r.a3D(this.i,e.channel,e.rect,K);if(K==null){this.Sc=e;this.I_=!1}return e};
Z.Wf.prototype.clone=function(){var K=new Z.Wf;K.B0=this.B0;K.isEnabled=this.isEnabled;K.Kq=this.Kq;
K.Zs=this.Zs;K.i=Z.Wf.Z8(this.i);K.D7=this.D7.slice(0);K.jn=this.jn;K.g=this.g.slice(0);K.Ex=this.Ex.slice(0);
return K};Z.Wf.prototype.concat=function(K){var E=K.i.slice(2);if(E.length==0)return;E[0].qX=3;this.i=this.i.concat(E)};
Z.Wf.Z8=function(K){var E=[];for(var y=0;y<K.length;y++){var x=K[y];if(x.type>5||x.type==0||x.type==3)E.push(JSON.parse(JSON.stringify(x)));
else E.push({type:x.type,ri:x.ri.clone(),H:x.H.clone(),XK:x.XK.clone()})}return E};Z.Wf.asv=function(K,E,x){if(K.length!=E.length)return!1;
for(var y=2;y<K.length;y++){var c=K[y],J=E[y];if(c.type!=J.type)return!1;if(c.type==0||c.type==3){if(c.length!=J.length||!x&&c.qX!=J.qX)return!1}else if(!c.ri.ac(J.ri)||!c.H.ac(J.H)||!c.XK.ac(J.XK))return!1}return!0};
Z.Wf.prototype.avz=function(){var K=this.i;for(var y=3;y<K.length;y++)if(K[y].type==0||K[y].type==3)K[y].qX=-1};
Z.ip=function(){this.type=null;this.SK=2;this.Vn=null;this.sU="";this.ez="";this.PD="";this.open=0;this.raw=null;
this.WG=null;this.alE="";this.zc=!1};Z.ip.prototype.clone=function(){var K=new Z.ip;K.type=this.type;
K.SK=this.SK;K.Vn=this.Vn;K.sU=this.sU;K.ez=this.ez;K.PD=this.PD;K.open=this.open;K.raw=new Uint8Array(this.raw.buffer.slice(0));
return K};Z.ip.prototype.S7=function(K,E,x,c,J){if(x==null)x="none";var i=this,P=gr.lX(i.raw.buffer),_=P=="svg"||P=="pdf"||P=="ai";
if(i.WG){var a=E&&_&&Math.max(i.WG[1].b,i.WG[1].n)<Math.max(E[0],E[1]);if(!a&&x==this.alE&&!i.zc)return}this.alE=x;
if(!_)K=0;if(P==null){alert("Unsupported format: "+R.pr(i.raw,0,4));return null}var j=gr.Zf(P);if(j.pC){var e=new gD(name+(P=="psd"?"":"-"+P)+".psd"),d;
j.TJ(i.raw.buffer,e,E);var I=new cS(0,0,e.b,e.n);if("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(x)!=-1){var v=[];
for(var y=0;y<e.B.length;y++){var n=e.B[y],C=n.buffer;if(!n.rect.ac(I)){C=W.Q(I.O()*4);W.UL(n.buffer,n.rect,C,I);
console.log("resizing")}v.push(C)}d=W.Q(I.O()*4);W.stack.stack(v,d,x)}else{for(var y=0;y<e.B.length;
y++)if(e.B[y].Au())e.B[y].DY(e);if(c&&e.zc){var T=cl.pZ(e,c,J);i.zc=!T;if(T)cl.ah3(e,c,J)}e.p7();e.U();
e.DJ();d=e.S7()}i.WG=[d,I];i.B8=e.B8!=null&&e.B8!=0?e.B8:72}else if(j){var o=j.TJ(i.raw.buffer)[0];i.WG=[new Uint8Array(o.data),o.yA];
i.B8=o.B8!=null&&o.B8!=0?o.B8:72}if(i.WG){if(K==1){var C=i.WG[0],s=i.WG[1],Q=W.Q(s.O());W.Bp(C,Q,3);
var X=W.UF(Q,s),B=W.Q(X.O()*4);W.UL(C,s,B,X);X.x=X.y=0;i.WG=[B,X]}W.gX(i.WG)}};Z.On="0";Z.vp="2";Z.Yo="2.5";
Z.JS="2.6";Z.U4="3";Z.fU="4";Z.qC="4.5";Z.amy="4.6";Z.auM="5";Z.LF="5.5";Z.a4n="6";Z.E$="7";Z.au8="8";
Z.GH="9";Z.Mk="9.3";Z.agg="9.5";Z.v2="9.6";Z.Or="10";Z.d5="11";Z.NU="12";Z.p5="13";Z.Ni="13.1";Z.aaH="13.2";
Z.Us="13.3";Z.eK="13.4";Z.BH="14";Z.oN="14.1";Z.ZL="14.2";Z.nU="14.3";Z.JR="17";Z.uo="18";Z.axV="19";
Z.yC="19.5";Z.wE="19.6";Z.Er="19.7";Z._h="19.8";Z.vq="20";Z.O4="21";Z.Io="21.5";Z.XR="22";Z._O="22.5";
Z.gn="23";Z.ap7="24";Z.ge="25";Z.alq="26";Z.a7U="27";Z.GA="28";Z.Xk="29";Z.EE="30";Z.u_="31";Z.bM="32";
Z.Pi="33";Z.rg="34";Z.bw="35";Z.W0="36";Z.pO="36.5";Z.YS="37";Z.ex="37.5";Z.a9L="37.6";Z.tZ="38";Z.x6="38.5";
Z.Ot="38.6";Z.YG="39";Z.Aq="40";Z.atZ="41";Z.YZ="42";Z.I8="50";Z.x2="51";Z.Dw="52";Z.l5="53";Z.Ei="54";
Z.acs="54.5";Z.iW="54.6";Z.ay7="54.7";Z.Cp="54.8";Z.IQ="55";Z.ag="56";Z.FK="57";Z.QC="58";Z.MV="59";
Z.Bd="60";function dI(){this.depth=0;this.index=-1;this.j=null;this.am7=null;this.ET=-1;this.children=null;
this.parent=null;this.pk=null}dI.prototype.aae=function(K,E){if(this.depth!=0)K.push(this.j.getName());
if(this.children)for(var y=0;y<this.children.length;y++)this.children[y].aae(K,E);if(K.length>E.W8.length)E.W8=K.slice(0);
if(this.depth!=0)K.pop()};dI.prototype.ati=function(){var K=0;if(this.j.wC()){for(var y=0;y<this.children.length;
y++)K+=this.children[y].ati()}else if(this.j.buffer)K+=this.j.buffer.length;return K};dI.prototype.R7=function(K){var E=this.pk[K];
return this.pk[K]};dI.prototype.ael=function(K,E){var x=this.j;if(!x.bL()||x.M0(2)||x.M0(31))return null;
if(x.vz()){var c=x.z.rect.iw(K);if(!c&&x.z.color==0)return}if(x.wC()){for(var y=0;y<this.children.length;
y++){var hr=this.children[y];hr.ael(K,E)}}else if(x.rect.iw(K))E.push(this.index)};dI.prototype.ds=function(K,E){var x=this.j;
if(!x.bL()||x.M0(2)||x.M0(31))return null;if(x.vz()){if(x.z.rect.YO(K)){if(!W.ds(K,x.z.channel,x.z.rect))return null}else if(x.z.color==0)return null}if(x.wC()){if(x.add.artb&&!x.IZ().YO(K))return null;
for(var y=this.children.length-1;y>=0;y--){var hr=this.children[y],c=hr.ds(K,E);if(c&&E==null)return c}return null}else if(x.add.TySh&&x.rect.YO(K)||W.ake(K,x.buffer,x.rect)){if(E==null)return this;
else E.push(this.index)}return null};dI.prototype.a6A=function(K){var E=this.j;if(!E.bL()||E.M0(2)||E.M0(31))return null;
var x=E.add.vmsk;if(x&&x.isEnabled){var c=W.r.ds(x.i,K).JD;if(c!=-1)return{abl:this,ag4:c}}if(E.wC()){if(E.add.artb&&!E.IZ().YO(K))return null;
for(var y=this.children.length-1;y>=0;y--){var hr=this.children[y],J=hr.a6A(K);if(J)return J}return null}return null};
dI.prototype.Ll=function(K,E){K.push(this.index);if(this.j.wC()){K.push(this.ET);if(E)if(this.j.kS==1&&this.j.FA().B0==!1)return;
for(var y=0;y<this.children.length;y++)this.children[y].Ll(K)}};dI.XO=function(){var K=document.createElement("canvas");
return K.getContext("2d")};dI.a4B=function(K,E){var x,c;if(K.b>K.n){x=E;c=Math.floor(E*(K.n/K.b))}else{x=Math.floor(E*(K.b/K.n));
c=E}return new iP(x,c)};dI.V4=32;dI.Xm=1;dI.prototype.yi=function(K,E,x){var c=dI.Xm,J=this.j;if(J.wC()&&J.add.artb!=null)E=J.IZ();
var i=c==0?J.rect:E;if(i.um()||J.add.TySh)i=E;var P=dI.V4*$.V(),_=dI.a4B(i,P),a=_.x,j=_.y,e=dI.a4B(E,P);
if(J.Au()&&J.add.vmsk==null||J.add.TySh)a=j=Math.max(j,16);else if(J.wC()){a=j=16}else{a=Math.max(a,6);
j=Math.max(j,6)}if(x&&J.lA==null){J.lA=dI.XO();J.hw=dI.XO();J.eo=dI.XO();J.ik=dI.XO()}var d=J.Au()&&J.add.vmsk;
if(d){if(x&&J.add.vstk)W.CP.Tc(J.lA,a,j,i,J.buffer,J.rect,!1,null,!J.add.vstk.fillEnabled.v&&!J.add.vstk.strokeEnabled.v);
if(x)W.CP.amp(J.lA,a,j)}else if(J.add.TySh){if(x)W.CP.a8c(J.lA,j,j,J.add.TySh)}else if(J.add.SoCo){if(x)W.CP.a34(J.lA,j,j,J.add.SoCo)}else if(J.add.GdFl){if(x)W.CP.a3W(J.lA,j,j,J.add.GdFl)}else if(J.add.PtFl){if(x)W.CP.avr(J.lA,j,j,J.add.PtFl,K)}else if(c2.get(J.add)!=null){if(x)W.CP.ajK(J.lA,j,j,J.add)}else if(J.add.SoLd){if(x)W.CP.Tc(J.lA,a,j,i,J.buffer,J.rect,!1);
if(x)W.CP.agz(J.lA,a,j,J.add.SoLd)}else if(J.wC()){}else{if(x){if(J.Lq())W.CP.Tc(J.lA,a,j,i,J.buffer,J.rect,!1);
else{W.CP.as$(J.lA,j,j)}}}var I=J.FA();if(x){if(I)W.CP.Bz(J.hw,e.x,e.y,E,I);if(J.St()&&J.Xe(K)&&J.Xe(K).z){var v=J.Xe(K).z;
W.CP.Bz(J.ik,e.x,e.y,E,v)}if(!d&&J.add.vmsk){W.CP.Bz(J.eo,e.x,e.y,E,J.add.vmsk.FA(),!0)}}if(I||J.add.vmsk)j=Math.max(j,e.y);
J.alr=Math.max(j,16);if(x!=!0&&J.wC()&&(J.add.lsct==fV.Bm||K.B.length<4e3))for(var y=0;y<this.children.length;
y++)this.children[y].yi(K,E)};dI.prototype.ayw=function(K,E,x,c){this.depth=x;var J=K[E];if(c==null)c=[];
this.pk=c;if(J.add.lsct==fV.Xx){this.am7=J;this.ET=E-1;this.children=[];var y=E+1;while(!0){var i=K[y];
if(i==null)console.log(y,K.length);if(i.add.lsct==fV.Bm||i.add.lsct==fV.wg){if(J.add.lyid==i.add.lyid)J.add.lyid+=16777215;
this.j=i;this.index=y-1;c[this.index]=this;c[E-1]=this;break}var P=new dI;P.parent=this;y=P.ayw(K,y,x+1,c);
this.children.push(P)}return y+1}else{this.j=J;this.index=E-1;c[this.index]=this;return E+1}};dI.prototype.Vw=function(K,E,x,c){var J=this.R7(x),i=K;
while(J.parent!=null){i=J.j.a2F(i,E,c);J=J.parent}return i};dI.prototype.ZS=function(K,E){var x=this.j,c=new cS;
if(!x.bL())return c;var J=x.FA();if(x.wC())for(var y=0;y<this.children.length;y++){var i=this.children[y].ZS(K,!0);
c=c.XN(i)}else if(c2.get(x.add)!=null)c=x.vz()&&x.z.color==0?x.z.ZS().clone():new cS(0,0,K.b,K.n);else if(x.Au()&&x.add.vmsk&&x.add.vmsk.isEnabled&&x.add.vstk){c=x.rect.clone()}else if(x.Au()&&J&&J.isEnabled&&J.Et()!=0)c=new cS(0,0,K.b,K.n);
else{c=x.ES(K,!1,!0);if(x.add.vmsk)c=W.p.OC(c)}return E?x.a2F(c,K):c};dI.Vd={delete:function(K){if(K&&K.b)K.delete()},Q:function(K,E){return f4.Eg?new f4.oA(K,E):W.Q(K*E*4)},iB:function(K,E,x){if(f4.Eg){if(K==null||K.b!=E||K.n!=x){dI.Vd.delete(K);
return new f4.oA(E,x)}}else{if(K==null||!(K instanceof Uint8Array)||K.length!=E*x*4){dI.Vd.delete(K);
return W.Q(E*x*4)}}return K},XT:function(K,E,x,c,J){(f4.Eg?f4.LC:W.UL)(K,E,x,c,J)},bG:function(K,E,x,c,J,i,P,_,y,a,j){(f4.Eg?f4.h.Rb:W.h.bG)(K,E,x,c,J,i,P,_,y,a,j)},afG:function(K,E,x,c,J,i,P,_){var a=x.clone(),j=J.b,e=J.n,d=a.x,I=a.y,v=a.x+a.b>j?-1:0,n=a.x<0?2:1,C=a.y+a.n>e?-1:0,T=a.y<0?2:1;
for(var o=C;o<T;o++)for(var s=v;s<n;s++){a.x=d+s*j;a.y=I+o*e;dI.Vd.Nh(K,E,a,c,J,i,P,_)}},Nh:function(K,E,x,c,J,i,P,_){if(f4.Eg)f4.h.or(K,E,x,c,J,i,P,_);
else W.h.Nh(K,E,x,c,J,i,P,_)},_m:function(K,E,x){if(f4.Eg){f4.rA(K);f4.QU(E,x)}else W._m(K,E,x)},asb:function(K,E,x,c,J){if(f4.Eg){f4.h.Rb(null,null,c,J,K,E,x,J,1,!1)}else{if(x==255)W.x9(K,E,c,J);
else{var i=W.Q(E.O());W.Jx(c,J,i,E);W.iO(K,i);W._m(c,0,16777215);W.Pj(i,E,c,J)}}},i$:function(K,E,x,c){if(f4.Eg)f4.h.Rb(null,null,x,c,K,E,0,c,1,!1);
else W.i$(K,E,x,c)}};dI.prototype.jM=function(K,E,x,c,J,i){var P=typeof i=="number";if(!this.j.wC()&&(P&&this.index>i||!P&&i.indexOf(this.index)==-1)){return}var _=this.j,a=bd.TC(_),j=dI.Vd,e=_.Au()?_.FA():_.z;
if(!_.bL())return;if(_.vz()&&e.rect.um()&&e.Et()==0){return}if(_.add.vstk==null&&this.ZS(c,!1).um()){return}var d=this.ZS(c,!0).Sl(x);
if(!E.ac(x)&&!x.iw(d))return;if(_.wC()&&_.add.artb){var I=_.IZ();x=x.Sl(I)}var v=dI.acN(_,J,a);if(!v){this.ayM(K,E,x,c,J,i);
return}_.vJ.Z$=j.iB(_.vJ.Z$,d.b,d.n);j.XT(K,E,_.vJ.Z$,d,x);this.ayM(_.vJ.Z$,d,x,c,J,i);j.bG(_.vJ.Z$,d,K,E,null,null,0,x,_.opacity/255,_.Vk=="diss",a.q$)};
dI.acN=function(K,E,x){if(x.q$[0]*x.q$[1]*x.q$[2]==0)return!0;return K.opacity!=255&&(E.length!=0||K.wC()||K.$y())};
dI.a05={vJ:{}};dI.prototype.ayM=function(K,E,x,c,J,i){var P=this.j,_=bd.TC(P),a=c2.get(P.add)!=null,j=dI.Vd,e=dI.acN(P,J,_),d=e?1:P.opacity/255,I=P.Au()?P.FA():P.z,v=P.wC()&&_.mA==null&&(P.Vk=="pass"||P.add.artb)&&!(J.length>0||_.fill!=1||P.$y()),n=!P.wC()&&!a&&!P.$y()&&J.length==0,C=a&&!P.$y()&&J.length==0,B=null,M=null,S=null,b;
if(v||n||C){var T=K,o=E;if(P.vz()){o=this.ZS(c,!1);T=P.vJ.gH=j.iB(P.vJ.gH,o.b,o.n);j.XT(K,E,P.vJ.gH,o)}if(v)this.z8(T,o,x,c,i);
if(n)j.Nh(P.Vk,P.ayy(c),P.rect,T,o,x,d,_);if(C){var s=P.vz()&&I.Et()==0?I.ZS().clone():o.clone(),Q=P.vJ;
if(s.ac(new cS(0,0,c.b,c.n)))Q=dI.a05;Q.V5=this.arT(T,o,Q.V5,s,P.add);_.su=!0;j.Nh(P.Vk,Q.V5,s,T,o,x,d,_)}if(P.vz())j.bG(T,o,K,E,P.aja(),I.ZS(),I.Et(),x,1,P.Vk=="diss");
P.vJ.ag8();return}var X=P.wC()&&P.Vk=="pass"&&(J.length>0||_.fill!=1||P.$y()),s=P.rect;if(P.wC()){s=this.ZS(c,!1);
S=P.vJ.V5=j.iB(P.vJ.V5,s.b,s.n);j._m(S,0);this.z8(S,s,s,c,i);M=j.iB(P.vJ.qb,s.b,s.n);j.XT(S,s,M,s)}else if(a){s=P.vz()&&I.Et()==0?I.ZS().clone():E.clone();
M=j.iB(P.vJ.qb,s.b,s.n);j._m(M,4294967295)}else{s=P.rect;B=P.ayy(c);M=j.iB(P.vJ.qb,s.b,s.n);j.XT(B,s,M,s)}P.vJ.qb=M;
if(P.vz())j.asb(P.aja(),I.ZS(),I.Et(),M,s);if(P.$y())if(P.vJ.XL||P.vJ.al||P.vJ.dG!=f4.Eg||P.vJ.dT||P.wC()){var f=P.add.vmsk,F=W.Q(s.O());
if(bd.a52(P.add.lmfx)){if(f4.Eg){if(!P.wC()&&P.FA()==null&&P.rect.ac(s)&&f==null)W.Bp(P.buffer,F,3);
else{var G=W.Q(s.O()*4);M.get(G);W.Bp(G,F,3)}}else W.Bp(M,F,3)}if(P.vJ.al||P.vJ.dG!=f4.Eg||!W.ac(F,P.vJ.U7)){var D=null;
if(P.Au()&&f&&f.isEnabled&&f.FA().color==0)D=f.FA().rect;bd.a83(P.vJ.n1);P.vJ.n1=bd.am6(F,s,P.add.lmfx,P.add.fxrp,c,D);
P.vJ.U7=F;P.vJ.abI=s}}if(P.$y())bd.ae0(P.add.lmfx,P.vJ.n1,s,K,E,x);if(P.wC()){B=j.iB(P.vJ.gH,s.b,s.n);
j._m(B,0);if(P.Vk=="pass")j.XT(K,E,B,s);if(X)j.i$(S,s,B,s);this.z8(B,s,x,c,i);P.vJ.gH=B}if(a){B=P.vJ.gH=this.arT(K,E,P.vJ.gH,s,P.add)}if(P.wC()||a)b=B;
else{b=j.iB(P.vJ.gH,s.b,s.n);j.XT(B,s,b,s,x);P.vJ.gH=b}j._m(b,4278190080,16777215);for(var y=0;y<J.length;
y++)J[y].jM(b,s,x,c,[],i);var H=P.vJ.Ls=j.iB(P.vJ.Ls,s.b,s.n);j.XT(K,E,H,s,x);if(a)_.su=!0;j.Nh(P.Vk=="pass"?"norm":P.Vk,b,s,H,s,x,1,_);
if(P.$y()){var q=P.vJ.n1.type.FrFX,O=null;if(q.length!=0){O=q[0];for(var y=0;y<q.length;y++)if(q[y].Hk.b>O.Hk.b)O=q[y];
P.vJ.SA=j.iB(P.vJ.SA,O.Hk.b,O.Hk.n);j.XT(K,E,P.vJ.SA,O.Hk,x);P.vJ.WZ=j.iB(P.vJ.WZ,O.Hk.b,O.Hk.n)}bd.ax7(P.add.lmfx,P.vJ.n1,s,K,E,x,H,P.vJ.SA,P.vJ.WZ,O?O.Hk:null)}if(!f4.Eg){var w=W.Q(s.O());
W.Bp(M,w,3);M=w}j.bG(H,s,K,E,M,s,0,x,1,P.Vk=="diss");P.vJ.ag8()};dI.prototype.a1_=function(K,E,x,c){var J=this.j,i=J.add.lmfx,P=J.add.TySh,_=J.add.SoLd,n=!1,T=null;
if(!J.bL())return;if(!J.rect.um()&&!J.rect.iw(c))return;E.save();if(J.add.artb){var a=J.IZ();E.beginPath();
E.rect(a.x,a.y,a.b,a.n);E.clip();c=c.Sl(a);var j=J.Po();if(j!=0){var a=j>>>16&255,e=j>>>8&255,d=j&255;
E.fillStyle="#"+W.E8(d<<16|e<<8|a);E.fillRect(c.x,c.y,c.b,c.n)}}var I=J.opacity/255*(J.add.iOpa?J.add.iOpa/255:1);
E.globalAlpha*=I;E.globalCompositeOperation=db.HU[db.bV.indexOf(J.Vk)];var v=[];CSS.adO(K,i,v);for(var y=0;
y<v.length;y++){var C=v[y];if(C.startsWith("filter: drop-shadow")){C=C.slice(20,-1).split(" ");E.shadowOffsetX=parseFloat(C[0])*K.D.N;
E.shadowOffsetY=parseFloat(C[1])*K.D.N;E.shadowBlur=parseFloat(C[2])*K.D.N*2.4;E.shadowColor=C[3];n=!0}}var o=bd.axd(J,n);
if(o){T=E;var s=document.createElement("canvas");s.width=E.canvas.width;s.height=E.canvas.height;var Q=E.getTransform();
E=s.getContext("2d");E.setTransform(Q.a,Q.b,Q.c,Q.d,Q.e,Q.f)}function X(p,L){var B=p.vJ.oD;if(B==null)B=p.vJ.oD=W.p.aS(p.add.vmsk.i,L);
return B}if(J.add.vmsk&&!J.Au()){var B=X(J,!1),M=B.v6;E.beginPath();Typr.U.pathToContext({cmds:M.W,crds:M.C},E);
E.clip()}function S(p,L){return CSS.WN({o:p[0]*255,J:p[1]*255,k:p[2]*255},L)}function f(O,p,L,N){if(O.Ptrn){var gC=bd.Tq(O,null,new cS(0,0,1,1),p,L);
N.save();N.translate(gC[2],gC[3]);N.scale(gC[1],gC[1]);N.rotate(-gC[4]);return gC}var r=ao.st(O,new iQ,J.rect);
if(r.length==3)return[S(r),1];else{var h,l=r.crds,g5=r.grad;if(r.typ=="lin")h=E.createLinearGradient(l[0],l[1],l[2],l[3]);
else h=E.createRadialGradient(l[0],l[1],l[2],l[3],l[4],l[5]);for(var y=0;y<g5.length;y++)h.addColorStop(g5[y][0],S(g5[y][1],g5[y][2]));
return[h,1]}}if(J.wC()){for(var y=0;y<this.children.length;y++)this.children[y].a1_(K,E,x,c)}else if(P){var F=!0;
if(J.vJ.path==null){F=cl.nf(P,x.ir);if(F)cl.jY(J,x.ir,!1)}if(F){if(K.D.N<1)dI.apQ(K,J,E,new iQ(1,0,0,1,J.rect.x,J.rect.y),J.vJ.gW);
else if(J.vJ.path){E.save();E.translate(J.rect.x-J.vJ.Il.x,J.rect.y-J.vJ.Il.y);cl.aoB(J.vJ.path,E);E.restore()}}}else if(J.Au()&&J.add.vmsk){var G=J.add.vmsk,D=J.add.vstk,i=J.add.lmfx,b=D.fillEnabled.v;
if(!D.strokeEnabled.v)D=bd.KF(i);var H=D?dz.Ae.Zi.indexOf(D.strokeStyleLineAlignment.v.strokeStyleLineAlignment):-1,B=X(J,H!=-1),M=B.v6;
if(G.Zs!=0)E.filter="blur("+G.Zs*K.D.N+"px)";E.beginPath();Typr.U.pathToContext({cmds:M.W,crds:M.C},E);
var q=H==2?[1,0]:[0,1];for(var y=0;y<2;y++){if(q[y]==0&&b){var O=bd.Z5(i,J.add),w=O[0],V=O[1];O=J.add.PtFl;
O=O?O:w?w:V;O=f(O,K.add.Patt,J.add.fxrp,E);E.fillStyle=O[0];E.fill(["nonzero","evenodd"][J.vJ.oD.VM]);
if(O.length>2)E.restore();if(H==0)E.clip()}if(q[y]==1&&D){var t=f(D.strokeStyleContent.v,K.add.Patt,J.add.fxrp,E);
E.strokeStyle=t[0];W.r.LB(D,E,1/t[1]);E.stroke();if(t.length>2)E.restore()}}}else if(!J.rect.um()){var m=null,g=null;
if(_){var Y=_.filterFX;if(Y){var O=Y.v.filterFXList.v;for(var y=0;y<O.length;y++){var C=O[y].v;if(!C.enab.v)continue;
var A=dJ.GG(C);if(A=="GsnB"){E.filter="blur("+C.Fltr.v.Rds.v.val*K.D.N+"px)"}}}var k=_.Idnt.v,z=K.KW(k,_.Crop?_.Crop.v:null);
m=W.K.Ur(_);g=z.WG}dI.apQ(K,J,E,m,g)}if(o){T.save();T.setTransform(1,0,0,1,0,0);T.drawImage(E.canvas,0,0);
T.restore();E=T}E.globalAlpha/=I;E.globalCompositeOperation="source-over";E.restore()};dI.apQ=function(K,E,x,c,J){if(c==null)c=new iQ;
var i=E.buffer,P=E.rect;if(J){var _=c.pA()*K.D.N,a=0;while(1<<a/2<.5/_&&a+2<J.length)a+=2;i=J[a];P=J[a+1];
P=P.clone();P.x=P.y=0;var _=1<<a/2,j=new iQ;j.scale(_,_);j.concat(c);c=j}if(P.um())return;var e=document.createElement("canvas");
e.width=P.b;e.height=P.n;var d=e.getContext("2d");d.putImageData(new ImageData(new Uint8ClampedArray(i.buffer),P.b,P.n),0,0);
x.transform(c.Cc,c.k,c.o0,c.Ga,c.qW,c.Ju);x.drawImage(e,P.x,P.y);c.Pa();x.transform(c.Cc,c.k,c.o0,c.Ga,c.qW,c.Ju)};
dI.prototype.arT=function(K,E,x,c,J){var i=c2.get(J),P;if(i)P=c2.We(i,J[i]);var _=dI.Vd;x=_.iB(x,c.b,c.n);
if(!(f4.Eg&&E.ac(c)))_.XT(K,E,x,c);if(P){if(f4.Eg){var a=c.clone();a.x=a.y=0;if(E.ac(c)){f4.rA(x,a);
c2.wN(P,K.Iz,a)}else{f4.rA(x,c);x.N0(c);c2.wN(P,x.DV,a)}}else c2.as(P,x,x,c)}return x};dI.prototype.z8=function(K,E,x,c,J){var i=E,P=i.b,_=i.n,a=i.x,j=i.y,hr=x,e=hr.x,d=hr.y,I=-1,v=-1,n=2,C=2;
if(!c.W3){I=v=0;n=C=1}var T=this.children;for(var y=0;y<T.length;y++){var o=[];for(var s=y+1;s<T.length;
s++)if(T[s].j.Z2)o.push(T[s]);else break;for(var Q=v;Q<C;Q++)for(var X=I;X<n;X++){i.x=a+X*P;i.y=j+Q*_;
hr.x=e+X*P;hr.y=d+Q*_;T[y].jM(K,i,hr,c,o,J)}y+=o.length}i.x=a;i.y=j;hr.x=e;hr.y=d};function gD(K){this.NR="psd";
this.RJ=!1;this.name=K;this.ln=-1;this.W3=!1;this.bA=null;this.pM=null;this.rs=null;this.n_=null;this.b=0;
this.n=0;this.buffer=null;this.B=[];this.C6={};this.add={};this.nv=4;this.HW=null;this.B8=72;this.VQ={};
this.g=[];this.J$=[];this.vk=!1;this.ea=[];this.Cr=[];this.Qg=[gD.bv("Work Path")];this.Jq=[];this.FU=null;
this.s8={classID:"CompList",list:{t:"VlLs",v:[]}};this.ej=[];this.$o=[];this.root=null;this.zt=null;
this.zc=!1;this.ah6=!1;this.a0a=!1;this.O_=!1;this.zF=!1;this.ZI=!1;this.Bi=!1;this.Xw=!1;this.rD=!1;
this.HB=!1;this.XL=null;this.ho=null;this.P=null;this.Un=[];this.N9=[];this.I={Pk:{},Lt:[],dy:[],A6:[],Xv:null,zZ:null,sA:null,jK:null,dM:null,Ie:[],un:[],Tl:null};
this.history=[new im([1,0],null)];this.qh=0;this.I4=0;this.k9=0;this.D=new av(this);this.jA=null;this.KT=null}gD.jg=function(){var K=8,E=[0,0,0,.145,.051,.051,.263,.071,.067,.416,.051,.055,.573,.102,.11,.71,.122,.141,.851,.122,.149,.929,.122,.141,.075,.149,.078,.153,.153,.078,.275,.153,.055,.424,.157,.071,.569,.153,.114,.706,.165,.141,.855,.161,.153,.933,.196,.141,.118,.282,.133,.18,.29,.129,.286,.29,.122,.427,.294,.114,.573,.298,.129,.71,.294,.149,.855,.298,.153,.941,.306,.133,.035,.431,.224,.157,.427,.212,.294,.431,.204,.427,.435,.18,.569,.431,.165,.71,.435,.161,.851,.431,.153,.953,.435,.133,.012,.576,.278,.145,.569,.271,.29,.576,.259,.427,.576,.239,.569,.576,.212,.706,.573,.184,.855,.576,.157,.969,.569,.118,.114,.698,.294,.165,.702,.29,.29,.714,.286,.424,.714,.271,.573,.718,.243,.71,.714,.204,.855,.714,.153,.988,.714,.078,.314,.722,.282,.329,.722,.278,.392,.737,.275,.478,.757,.259,.584,.788,.239,.714,.827,.2,.859,.859,.125,.996,.855,0,.412,.741,.271,.427,.745,.267,.471,.753,.259,.533,.773,.251,.624,.8,.227,.725,.835,.2,.843,.875,.137,.973,.925,.075,.055,.059,.137,.141,.059,.141,.271,.059,.149,.424,.043,.149,.576,.098,.157,.714,.122,.153,.859,.122,.153,.929,.114,.176,.02,.145,.141,.137,.137,.137,.282,.141,.137,.431,.141,.145,.576,.145,.141,.714,.149,.145,.859,.141,.153,.933,.192,.184,.012,.286,.145,.145,.286,.141,.286,.286,.141,.431,.29,.141,.576,.286,.141,.714,.286,.149,.855,.286,.153,.941,.302,.176,.027,.427,.22,.153,.431,.216,.29,.427,.2,.427,.431,.18,.576,.431,.165,.714,.427,.161,.859,.431,.153,.949,.427,.165,.039,.576,.278,.153,.573,.271,.282,.573,.259,.431,.576,.239,.569,.573,.212,.71,.573,.184,.859,.576,.153,.969,.569,.165,.114,.698,.294,.165,.702,.29,.286,.718,.286,.424,.714,.267,.576,.722,.243,.714,.714,.204,.855,.714,.153,.988,.71,.137,.314,.722,.282,.341,.725,.278,.396,.737,.275,.486,.761,.259,.588,.788,.239,.714,.831,.2,.859,.855,.145,.996,.859,.129,.416,.741,.271,.439,.749,.271,.482,.757,.263,.537,.776,.251,.631,.804,.231,.725,.831,.196,.851,.878,.133,.969,.925,.18,.075,.075,.278,.145,.063,.29,.282,.067,.286,.424,.082,.294,.573,.102,.298,.714,.118,.298,.855,.11,.298,.933,.11,.306,.063,.141,.278,.137,.141,.286,.286,.137,.282,.427,.145,.286,.573,.141,.286,.714,.141,.29,.863,.149,.294,.937,.188,.302,0,.29,.29,.141,.286,.286,.29,.286,.286,.427,.29,.29,.573,.29,.29,.718,.29,.286,.859,.282,.286,.941,.302,.302,0,.427,.286,.145,.431,.29,.286,.427,.29,.424,.427,.286,.573,.427,.29,.718,.427,.286,.859,.427,.282,.953,.431,.302,0,.573,.282,.145,.576,.282,.286,.573,.282,.427,.573,.282,.576,.573,.282,.71,.569,.282,.859,.573,.278,.969,.569,.306,.114,.698,.294,.176,.702,.29,.286,.718,.286,.427,.718,.282,.576,.714,.278,.718,.722,.294,.855,.71,.278,.988,.71,.286,.329,.725,.282,.349,.729,.278,.4,.737,.278,.486,.761,.29,.592,.792,.298,.714,.835,.306,.859,.859,.278,1,.855,.286,.431,.745,.267,.451,.749,.267,.482,.757,.259,.549,.776,.247,.639,.804,.224,.733,.839,.224,.855,.882,.275,.973,.929,.306,.141,.133,.392,.165,.133,.408,.29,.141,.42,.416,.141,.424,.561,.133,.431,.71,.122,.439,.859,.082,.435,.929,.098,.431,.137,.184,.408,.176,.169,.424,.282,.157,.431,.424,.145,.424,.573,.141,.427,.714,.145,.427,.859,.137,.427,.929,.173,.427,0,.286,.427,.141,.29,.431,.29,.29,.431,.427,.29,.427,.576,.286,.427,.718,.29,.431,.859,.286,.427,.941,.298,.431,0,.427,.424,.145,.427,.427,.286,.427,.427,.427,.427,.427,.569,.427,.424,.718,.431,.431,.863,.427,.427,.949,.424,.431,0,.573,.427,.125,.573,.427,.282,.573,.427,.431,.576,.431,.569,.573,.427,.714,.573,.424,.851,.569,.424,.965,.569,.431,.082,.706,.427,.133,.71,.427,.282,.71,.424,.424,.714,.424,.576,.718,.427,.714,.714,.424,.863,.718,.427,.984,.71,.427,.322,.729,.404,.345,.733,.408,.404,.745,.412,.478,.765,.42,.588,.796,.424,.718,.843,.431,.863,.863,.435,1,.863,.435,.439,.749,.341,.455,.753,.341,.494,.765,.345,.557,.784,.349,.643,.812,.373,.733,.843,.388,.851,.89,.424,.976,.941,.451,.169,.184,.51,.176,.176,.522,.298,.176,.537,.416,.169,.541,.553,.153,.557,.698,.118,.553,.847,.094,.557,.929,.133,.565,.161,.212,.529,.18,.184,.541,.294,.184,.553,.427,.173,.561,.565,.153,.561,.718,.157,.565,.851,.157,.565,.933,.196,.565,.075,.29,.561,.141,.286,.573,.286,.29,.576,.424,.286,.573,.576,.29,.576,.718,.29,.576,.859,.286,.573,.933,.298,.569,0,.427,.573,.141,.427,.573,.286,.427,.573,.427,.427,.569,.573,.427,.573,.718,.431,.576,.859,.427,.573,.945,.424,.569,0,.573,.573,.149,.576,.576,.286,.573,.576,.427,.573,.573,.573,.573,.573,.718,.576,.576,.859,.573,.573,.961,.565,.573,0,.714,.573,.133,.714,.573,.278,.71,.573,.427,.714,.576,.573,.718,.573,.718,.714,.573,.859,.714,.576,.98,.71,.576,.325,.741,.537,.345,.745,.537,.404,.757,.545,.482,.78,.553,.588,.808,.565,.718,.851,.573,.859,.859,.569,1,.863,.573,.439,.761,.49,.451,.761,.486,.49,.776,.498,.557,.796,.51,.635,.82,.518,.737,.855,.537,.863,.906,.561,.976,.953,.588,.165,.231,.588,.227,.231,.592,.31,.235,.592,.408,.227,.588,.525,.227,.588,.635,.227,.584,.761,.239,.588,.878,.243,.588,.173,.255,.608,.216,.255,.604,.314,.255,.604,.408,.255,.6,.525,.255,.6,.643,.255,.596,.761,.267,.6,.882,.267,.596,.141,.314,.639,.208,.318,.639,.306,.318,.639,.42,.314,.631,.541,.318,.631,.659,.318,.624,.784,.325,.62,.91,.337,.624,.012,.431,.718,.149,.431,.714,.294,.431,.71,.431,.431,.702,.573,.427,.69,.71,.431,.678,.835,.435,.671,.945,.435,.667,0,.573,.714,.145,.573,.718,.29,.576,.718,.427,.573,.714,.576,.573,.714,.71,.569,.71,.859,.573,.714,.957,.569,.71,0,.71,.71,.129,.714,.714,.278,.714,.71,.427,.714,.714,.576,.718,.718,.714,.714,.714,.859,.718,.714,.973,.706,.714,.322,.753,.667,.337,.757,.667,.4,.769,.671,.482,.792,.686,.588,.824,.698,.714,.867,.718,.859,.863,.714,.996,.855,.714,.435,.773,.62,.459,.78,.627,.49,.788,.631,.557,.808,.643,.647,.835,.659,.749,.875,.675,.867,.918,.702,.988,.969,.725,.212,.29,.624,.243,.29,.62,.318,.29,.62,.396,.286,.62,.486,.286,.616,.58,.282,.608,.686,.282,.608,.788,.29,.608,.216,.306,.631,.251,.306,.631,.314,.306,.627,.392,.306,.627,.49,.302,.624,.58,.302,.62,.686,.302,.616,.796,.314,.616,.224,.345,.655,.255,.345,.659,.318,.345,.651,.396,.345,.651,.494,.345,.643,.592,.345,.639,.702,.353,.635,.816,.373,.643,.212,.424,.71,.247,.424,.706,.318,.424,.702,.412,.42,.694,.525,.431,.694,.635,.447,.698,.749,.459,.69,.859,.467,.69,.133,.569,.816,.2,.565,.812,.31,.569,.808,.443,.569,.792,.576,.569,.78,.694,.569,.765,.812,.58,.761,.914,.584,.753,0,.714,.855,.133,.714,.859,.286,.714,.863,.431,.714,.859,.573,.714,.859,.718,.714,.863,.859,.714,.839,.969,.706,.82,.302,.765,.796,.329,.769,.796,.392,.784,.808,.471,.804,.82,.588,.839,.847,.718,.859,.859,.859,.859,.859,.988,.855,.855,.439,.788,.749,.451,.792,.749,.498,.804,.757,.553,.82,.769,.647,.851,.784,.753,.886,.812,.871,.933,.839,.996,.984,.863,.224,.325,.643,.251,.325,.643,.306,.322,.639,.38,.322,.635,.459,.318,.631,.545,.318,.631,.631,.314,.624,.725,.322,.624,.235,.333,.647,.263,.337,.651,.31,.333,.647,.38,.333,.643,.463,.333,.639,.545,.333,.635,.631,.325,.627,.737,.337,.627,.251,.365,.671,.275,.365,.667,.318,.365,.667,.384,.361,.659,.467,.361,.655,.549,.361,.651,.651,.376,.651,.757,.4,.659,.255,.427,.71,.275,.42,.702,.329,.42,.702,.4,.42,.694,.486,.431,.698,.58,.447,.698,.686,.467,.702,.8,.494,.71,.278,.529,.78,.306,.533,.78,.373,.541,.78,.455,.545,.776,.553,.557,.776,.643,.569,.773,.749,.592,.776,.843,.604,.773,.275,.694,.898,.302,.694,.894,.384,.69,.886,.49,.698,.878,.604,.706,.871,.718,.706,.855,.812,.714,.847,.898,.722,.839,.31,.784,.925,.333,.788,.925,.388,.8,.941,.471,.824,.961,.592,.855,.973,.725,.851,.949,.859,.851,.929,.957,.855,.914,.435,.8,.867,.443,.804,.867,.494,.816,.875,.557,.835,.886,.651,.867,.91,.757,.906,.933,.878,.953,.969,1,1,1];
E=d5.nF(K,E);return[K,E]}();gD.prototype.lR=function(K){if(K){if(K.length==30240){this.lR(null);return}this.C6.r1039=K;
var E=ICC.R(K.buffer),J=null,i=17,a,j;if(E==null){this.lR(null);return}var x=E.header.spaceIn.toLowerCase(),c=JSON.stringify(E.tags.desc).toLowerCase();
try{J=ICC.U.profileName(E)}catch(hg){}if(x!="rgb "||J==null||c.indexOf("srgb")!=-1){this.lR(null);return}console.log("We got an ICC profile!",E,J);
try{var P=ICC.U.sampleLUT(E,i)}catch(hg){this.lR(null);return}var _=P.slice(0),e=W.Q(4),d=gD.jg[0],I=gD.jg[1];
for(var y=0;y<P.length;y+=3){e[0]=P[y]*255;e[1]=P[y+1]*255;e[2]=P[y+2]*255;ICC.U.applyLUT(I,d,e,e);_[y]=e[0]/255;
_[y+1]=e[1]/255;_[y+2]=e[2]/255}if(f4.Eg){a=new f4.oA(i,i*i);a.set(ICC.U.lutToRGBA8(P,i));j=new f4.oA(i,i*i);
j.set(ICC.U.lutToRGBA8(_,i))}this.jA=[K,E,i,P,a,_,j]}else{delete this.C6.r1039;this.jA=null}};gD.prototype.bD=function(){return this.jA};
gD.prototype.VE=function(){if(this.jA)return this.jA;if(this.add.fcmy==1){if(this.KT==null){var K=gD.jg[0],E=gD.jg[1],x;
if(f4.Eg){x=new f4.oA(K,K*K);x.set(ICC.U.lutToRGBA8(E,K))}this.KT=[null,null,K,null,null,E,x]}return this.KT}};
gD.prototype.azN=function(){var K=this;if(K.D.NW.join("")!="111"){K.D.NW=[1,1,1];K.ZI=!0}for(var y=0;
y<K.B.length;y++){var E=K.B[y],x=E.add.vmsk;if(E.St()){var c=E.Xe(K);if(c&&c.z&&c.z.U1){c.z.U1=!1;K.ZI=!0}}var J=E.FA();
if(J&&J.U1){J.U1=!1;K.ZI=!0}if(x){if(x.g.length!=0)x.g=[];if(x.Ex.length!=0)x.Ex=[]}}};gD.prototype.ZY=function(){var K=this;
return K.P!=null||K.Ox()[1].length!=0||K.g.length>1};gD.prototype.pY=function(){var K=this.J$,E=[];for(var y=0;
y<K.length;y++)E[y]=-1;var x=this.root.children;for(var y=0;y<x.length;y++){var c=x[y],J=c.j.add.artb;
if(J==null)continue;var i=J.guideIndeces;i=i?i.v:[];for(var P=0;P<i.length;P++)E[i[P].v]=c.index}return[JSON.parse(JSON.stringify(K)),E]};
gD.prototype.WT=function(K){this.J$=JSON.parse(JSON.stringify(K[0]));var E=K[1],x=this.root.children;
for(var y=0;y<x.length;y++){var c=x[y],J=c.j.add.artb;if(J==null)continue;J.guideIndeces={t:"VlLs",v:[]}}for(var y=0;
y<E.length;y++)if(E[y]!=-1)this.B[E[y]].add.artb.guideIndeces.v.push({t:"long",v:y})};gD.prototype.a8Q=function(K){var E=this;
if(K[0])E.add.lnk2=K[0];else delete E.add.lnk2;if(K[1])E.add.FEid=K[1];else delete E.add.FEid;if(K[2])E.add.Patt=K[2];
else delete E.add.Patt};gD.prototype.a8a=function(K){var E=this,x=[],c=[],J=[],n=null,C=null,T=null;
for(var y=0;y<K.length;y++){var i=K[y];if(i.add.SoLd){x.push(i.add.SoLd.Idnt.v);c.push(i.add.SoLd.placed.v)}if(i.add.PtFl)J.push(i.add.PtFl.Ptrn.v.Idnt.v);
if(i.add.lmfx){for(var P=0;P<dz.E9.length;P++){var _=i.add.lmfx[dz.E9[P]].v;for(var a=0;a<_.length;a++)if(_[a].v.Ptrn){var j=_[a].v;
if(j.classID=="FrFX"&&j.PntT.v.FrFl!="Ptrn")continue;J.push(j.Ptrn.v.Idnt.v)}}}var e=i.add.vstk;if(e&&e.strokeStyleContent.v.classID=="patternLayer"){J.push(e.strokeStyleContent.v.Ptrn.v.Idnt.v)}}var d=E.add.lnk2,I=E.add.FEid,v=E.add.Patt;
if(d){n=[];for(var y=0;y<d.length;y++)if(x.indexOf(d[y].Vn)!=-1)n.push(d[y]);if(n.length==0)n=null}if(I){C=[];
for(var y=0;y<I.length;y++)if(c.indexOf(I[y].id)!=-1)C.push(I[y]);if(C.length==0)C=null}if(v){T=[];for(var y=0;
y<v.length;y++)if(J.indexOf(v[y].id)!=-1)T.push(v[y]);if(T.length==0)T=null}return[n,C,T]};gD.prototype.ti=function(K){var E=this,x=E.root.R7(K==null?E.g[0]:K),c=!1;
while(x.parent!=null){c=c||x.j.M0(31);x=x.parent}return c};gD.prototype.nZ=function(){var K=this.Un,E=this.Un.length;
if(E!=0&&K[E-1].name=="Quick Mask")return K[E-1]};gD.prototype.jZ=function(){return this.NR==g6.Ea("% |/!)")||this.NR==g6.Ij("gP")};
gD.prototype.yR=function(K){var E=this.add.artd;if(K!=0)this.add.artd={classID:"null",Cnt:{t:"long",v:K},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}};
else delete this.add.artd};gD.prototype.ey=function(K){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(K)==-1)this.add.FEid.push(K)};
gD.prototype.q3=function(K){var E=this.add.FEid.indexOf(K);this.add.FEid.splice(E,1);if(this.add.FEid.length==0)delete this.add.FEid};
gD.prototype.U=function(K){if(K==null)K=new cS(0,0,this.b,this.n);if(this.XL==null)this.XL=K;else this.XL=this.XL.XN(K)};
gD.prototype.a8l=function(K){return this.XL!=null};gD.prototype.yd=function(K){var E=this.B[K],x=this.root.R7(K);
if(x==null)return!1;if(E.wC()||x.parent.children.indexOf(x)==0)return!1;return!0};gD.agn=function(K){if(K.add.lnk2)for(var y=0;
y<K.add.lnk2.length;y++){var E=K.add.lnk2[y].Vn;K.add.lnk2[y].Vn=gD.g4()+E.slice(8);for(var x=0;x<K.B.length;
x++){var c=K.B[x].add.SoLd;if(c&&c.Idnt.v==E)c.Idnt.v=K.add.lnk2[y].Vn}}};gD.prototype.W_=function(K,E,x){K.sort(function(d,I){return d-I});
var top=K[K.length-1],c=this.B.slice(0),J=this.g.slice(0),i=[],P=[];for(var y=0;y<this.B.length;y++){if(K.indexOf(y)!=-1)P.push(this.B[y]);
else i.push(this.B[y])}this.yu(P);this.g=[];var _=this.root.ZS(this,!0);if(E)_=_.Sl(E);if(x)_=_.XN(x);
if(_.um())_=new cS(0,0,100,100);var a=new cS(-_.x,-_.y,this.b,this.n),j=new Uint8Array(gr.Zf("PSD").bu(this,0,0,[!0,!1]));
this.yu(c);this.g=J;var e=new gD(this.B[top].getName());gr.Zf("PSD").TJ(j.buffer,e);delete e.add.artd;
e.ea=[];e.yu(e.B);e.WT([[],[]]);gD.agn(e);$.$a.cJ(e,_);e.U();e.DJ();e.S7();return[e,_,i,top]};gD.prototype.ak3=function(K,E,x){var c=this.W_(K),J=c[0],i=c[1],P=c[2],top=c[3],_;
if(x=="jpg")_=new Uint8Array(gr.Zf("JPG").bu([[J.S7().buffer]],J.b,J.n,[80]));else _=new Uint8Array(gr.Zf("PSD").bu(J,null,null,[!0,!1]));
if(E)P=this.B.slice(0);var a=this.EI(_,J.name,i.x,i.y);if(top==this.B.length-1)P.push(a);else P.splice(E?top+1:top-K.length+1,0,a);
this.yu(P);this.g=[P.indexOf(a)]};gD.g4=function(K){if(K==null)K="";var E="";while(E==""||E==K){E="";
for(var y=0;y<8;y++)E+=Math.floor(Math.random()*16).toString(16)}return E};gD.prototype.Wu=function(K){if(K==null)return;
if(this.add.Patt==null)this.add.Patt=[];var E=this.add.Patt;for(var y=0;y<E.length;y++)if(E[y].id==K.id)return;
E.push(K)};gD.prototype.EI=function(K,E,x,c,J,i,P){if(this.add.lnk2==null)this.add.lnk2=[];var _=null,v=!1;
for(var y=0;y<this.add.lnk2.length;y++)if(W.ac(K,this.add.lnk2[y].raw)){_=this.add.lnk2[y].Vn;break}if(_==null){var a=gr.lX(K.buffer);
_=gD.g4()+"-d71c-11e5-b1ae-a548a96e5f9f";var j=new Z.ip;j.Vn=_;j.PD=a=="psd"?"8BIM":"    ";j.sU=E+"."+a;
j.ez=a=="psd"?"8BPB":"    ";j.open=0;j.raw=K;j.type="liFD";j.SK=2;this.add.lnk2.push(j)}var e=this.KW(_,null,null,null,i,P),d=gD.g4()+"-d71c-11e5-b1ae-a548a96e5f9f",I=this.EY();
I.yH(E);if(e!=null){var n=x==null,C=0,T=0;if(x==null)x=c=0;var o=this.b,s=this.n;if(J){C=J.x;T=J.y;o=J.b;
s=J.n}var Q=I.rect=e.WG[1].clone();Q.offset(C+x,T+c);var X=Math.max(Q.b/o,Q.n/s),v=J!=null&&X>1.0001;
if(v){Q.b=Math.round(Q.b/X);Q.n=Math.round(Q.n/X)}else if(J!=null&&gr.lX(K.buffer)=="pdf"&&this.B8!=144){var X=144/this.B8;
Q.b=Math.round(Q.b/X);Q.n=Math.round(Q.n/X);v=!0}if(v||n){Q.x=Math.round(C+(o-Q.b)/2);Q.y=Math.round(T+(s-Q.n)/2)}I.buffer=W.Q(Q.O()*4);
if(!v)W.dq(e.WG[0],I.buffer)}I.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:_},Impr:{t:"Objc",v:{__name:"None",classID:"none"}},placed:{t:"TEXT",v:d},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,warp:{t:"Objc",v:W.HA.Q(e?e.WG[1]:I.rect)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:I.rect.b},Hght:{t:"doub",v:I.rect.n}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:e?e.B8:72}}};
var B=W.p.VD(I.rect).C;I.add.SoLd.Trnf=$.Xq.K0(B);I.add.SoLd.nonAffineTransform=$.Xq.K0(B);if(v)I.mQ(this,!1);
return I};gD.prototype.S7=function(K){if(K!=null){this.U();this.DJ(K);var E=this.buffer;if(f4.Eg)this.zt.get(E);
else E=E.slice(0);this.U();this.DJ();return E}if(this.XL){this.DJ();this.XL=null}if(f4.Eg&&this.ho){this.zt.get(this.buffer);
this.ho=null;this.Bi=!0}return this.buffer};gD.prototype.anB=function(){for(var y=0;y<this.B.length;
y++)this.B[y].a6j();this.U()};gD.prototype.a58=function(){for(var y=0;y<this.B.length;y++)if(this.B[y].add.lmfx)this.B[y].vJ.al=!0};
gD.prototype.Xc=function(){var K=this.C6.r1044;if(K==null){K=this.C6.r1044=new Uint8Array(4);var E=0;
for(var y=0;y<this.B.length;y++)E=Math.max(E,this.B[y].add.lyid);R.T5(K,0,E)}var x=R.s(K,0);R.T5(K,0,x+1);
return x+1};gD.prototype.IC=function(K,E,x){if(K==null)K=!0;var c=this;if(c.N9.length!=0)return!0;if(c.g.length!=1){if(K)alert(c.g.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this._A(K,E,x)};gD.prototype._A=function(K,E,x){if(K==null)K=!0;if(E==null)E=!1;var c=this;
if(c.N9.length!=0)return!0;for(var y=0;y<c.g.length;y++){var J=c.B[c.g[y]],i=E||J.kS<=0;if(J.add.lsct!=null&&J.add.lsct!=fV.L$&&J.kS!=1){if(K)alert(hg.get([15,7,2]));
return!1}if(i&&!J.Lq()){if(K)alert(hg.get([15,7,2]));return!1}if(i&&J.add.TySh){return this.afa(K,[15,7,3],x)}if(i&&J.add.SoLd){return this.afa(K,[15,7,4],x)}if(J.M0(1)||c.ti(c.g[y])){if(K)alert(hg.get([6,57,0]));
return!1}}return!0};gD.prototype.afa=function(K,E,x){if(K&&typeof K=="object"){var c=new i3(u.E.L);c.data={_:u.c.v9,xc:"confirm"};
c.data.Z=hg.get(E)+". "+hg.get([6,8])+"?";var J=K;c.data.sO=function(){var i=new i3(u.E.Hg,!0);i.data={va:"rasterizeLayer",Ks:{classID:"rasterizeLayer",null:b$.oe("Lyr",!0)}};
J.S(i)};K.S(c);return!1}if(K)alert(hg.get(E));return!1};gD.prototype.a1w=function(K){var E=this.root.R7(K);
if(E.parent)return E.j.bL()&&this.a1w(E.parent.index);else return E.j.bL()};gD.prototype.Uq=function(K){var E=this;
if(K){var x=0;for(var y=0;y<E.g.length;y++)if(E.B[E.g[y]].add.artb)x++;if(x>1)return-1}if(E.add.artd&&E.g.length!=0){var c=E.root.R7(E.g[0]);
while(c.parent.parent)c=c.parent;if(c.j.add.artb)return c.index}return-1};gD.prototype.ahF=function(){var K=this.B[this.g[0]];
if(K.kS<=0&&!K.rect.iw(this.P.rect)){alert("Selected area is empty.");return!1}if(this.g.length==1&&this.P){var E=W.Q(this.P.channel.length);
W.Jx(K.buffer,K.rect,E,this.P.rect);W.iO(this.P.channel,E);if(W.SN(E,0)){alert("Selected area is empty.");
return!1}}return!0};gD.prototype.XI=function(){if(this.C6["r"+1037]==null)this.I0(30);return R.Jv(this.C6["r"+1037],0)};
gD.prototype.I0=function(K){if(this.C6["r"+1037]==null)this.C6["r"+1037]=new Uint8Array(4);if(R.Jv(this.C6["r"+1037],0)==K)return;
R.m_(this.C6["r"+1037],0,K);this.a58()};gD.prototype.So=function(){if(this.C6["r"+1049]==null)this.Zv(30);
return R.Jv(this.C6["r"+1049],0)};gD.prototype.Zv=function(K){if(this.C6["r"+1049]==null)this.C6["r"+1049]=new Uint8Array(4);
if(R.Jv(this.C6["r"+1049],0)==K)return;R.m_(this.C6["r"+1049],0,K);this.a58()};gD.prototype.VV=function(K){if(this.add.lnk2==null)return null;
for(var y=0;y<this.add.lnk2.length;y++)if(this.add.lnk2[y].Vn==K)return this.add.lnk2[y];return null};
gD.prototype.atn=function(K){var E=this.VV(K);if(E==null)return!1;var x=gr.lX(E.raw.buffer);if(x==null)return!1;
if(gr.Zf(x)!=null||x=="psd")return!0;return!1};gD.prototype.KW=function(K,E,x,c,J,i){var P=this.VV(K);
if(P==null)return null;P.S7(E,x,c,J,i);if(P.WG)return P};gD.prototype.adj=function(){var K=this.b,E=this.n;
if(f4.Eg&&this.zt==null)this.zt=new f4.oA(K,E,!0);if(this.buffer==null||this.buffer.length!=K*E*4||f4.Eg&&(this.zt.b!=K||this.zt.n!=E)){this.buffer=W.Q(K*E*4);
if(this.zt)this.zt.delete();if(f4.Eg)this.zt=new f4.oA(K,E,!0)}};gD.prototype.amR=function(){this.adj();
if(f4.Eg){this.zt.set(this.buffer)}};gD.prototype.DJ=function(K){var E=this.b,x=this.n,c=new cS(0,0,E,x),J=this.W3?c:c.Sl(this.XL);
this.adj();if(J.um())return;if(!J.ac(c)){if(!f4.Eg){var i=W.im(J.O()*4);W.UL(i,J,this.buffer,c)}if(f4.Eg){f4.rA(this.zt,J);
f4.QU(0)}}else{if(f4.Eg){this.zt.set(null)}else{this.buffer.fill(0)}}var P=Date.now(),_=f4.Eg?this.zt:this.buffer;
if(K==null)K=1e9;var a=this.root.children;for(var y=0;y<a.length;y++){var j=a[y].j;if(j.bL()&&j.add.artb&&this.add.artd){var e=j.IZ(),d=J.Sl(e),I=j.Po();
if(I!=0){if(f4.Eg){f4.rA(_,d);f4.QU(I);f4.QU(I)}else W.aha(_,c,d,I)}}}this.root.jM(_,c,J,this,[],K);
this.ho=this.XL.clone()};gD.prototype.EY=function(K){var E=new Z;E.rect=new cS(0,0,0,0);E.buffer=W.Q(1);
E.add.luni=new iP(0,0);if(K!=!0)E.add.lyid=this.Xc();E.add.lsct=fV.L$;E.add.lclr=0;E.add.fxrp=new iP(0,0);
return E};gD.prototype.NG=function(K){var E=this.EY(K);E.yH("</Layer group>");E.add.lsct=fV.Xx;E.LD=24;
return E};gD.prototype.zv=function(){return this.qh!=this.I4};gD.prototype.i1=function(K){while(this.history.length>this.qh+1)this.history.pop();
if(this.I4>this.qh)this.I4=-1;if(K.G.id!=$.VP){this.O_=!0;if(this.s8.lastAppliedComp){delete this.s8.lastAppliedComp;
this.Bi=!0}}this.history.push(K);this.qh++;this.Bi=!0;var E=dq.bI()?60:30,x=0;for(var y=this.history.length-1;
y>=0;y--){var c=this.history[y];if(c.iG)continue;x++;if(x==E){this.qh-=y;this.history=this.history.slice(y);
break}}};gD.prototype.$z=function(){if(this.qh!=this.history.length-1)return null;return this.history[this.history.length-1]};
gD.prototype.zD=function(K,E,x,c){if(K==null)K=!1;var J=E!=null?[E]:this.g.slice(0);if(c){var i=[];for(var y=0;
y<J.length;y++){var P=this.B[J[y]],_=P.DP;if(P.Yg&&_!=0&&i.indexOf(_)==-1)i.push(_)}if(i.length!=0)for(var y=0;
y<this.B.length;y++){var P=this.B[y],_=P.DP;if(P.Yg&&_!=0&&i.indexOf(_)!=-1&&J.indexOf(y)==-1)J.push(y)}}var a=[];
for(var y=0;y<J.length;y++){var j=this.JW(J[y],K);for(var e=0;e<j.length;e++)if(a.indexOf(j[e])==-1)a.push(j[e]);
if(x){var hr=this.root.R7(J[y]);while(hr.parent!=null&&hr.parent.parent!=null){hr=hr.parent;if(a.indexOf(hr.index)==-1){a.push(hr.index,hr.ET)}}}}return a};
gD.prototype.JV=function(K,E,x){var c=this,J=c.zD(!1,K,null,x);J.sort(function(Q,X){return Q-X});var i={};
for(var P=0;P<c.B.length;P++){var _=c.B[P].getName();i[_]=!0}var a=[];for(var y=0;y<J.length;y++){var j=c.B[J[y]].clone(),T,o;
j.add.lyid=c.Xc();j.add.lspf=0;if(j.St()){var e=j.Xe(c),d=gD.atv(e);c.ey(d);j.add.SoLd.placed.v=d.id}else if(j.add.SoLd){var I=j.add.SoLd.placed.v;
j.add.SoLd.placed.v=gD.g4(I.slice(0,8))+I.slice(8)}j.DY(c);var v=j.getName(),n=v.length;while(48<=v.charCodeAt(n-1)&&v.charCodeAt(n-1)<=57)n--;
var C=parseInt(v.slice(n));if(isNaN(C)){if(v.endsWith(" copy")){C=1;T=v.slice(0,v.length-5)}else{C=0;
T=v}}else if(v.slice(0,n).endsWith(" copy ")){C=C;T=v.slice(0,n-6)}else{C=0;T=v}C++;while(!0){o=T+" copy"+(C==1?"":" "+C);
if(i[o]==null)break;C++}var s=J.indexOf(this.root.R7(J[y]).parent.index)!=-1;if(v=="Background"&&c.B.length==1)o="Layer 1";
if(E!=!0&&!s)j.yH(o);i[o]=!0;a.push(j)}return a};gD.atv=function(K){return{id:gD.g4(K.id.slice(0,8))+K.id.slice(8),buffer:K.buffer.slice(0),rect:K.rect.clone(),z:K.z?K.z.clone():null}};
gD.amY=function(K){return{id:K,rect:new cS,buffer:W.Q(1),z:new Z.vW}};gD.bv=function(K,E){if(E==null)E={vmsk:new Z.Wf};
if(E.vogk==null){E.vogk=[];var x=W.r.kT(E.vmsk.i);for(var c=0;c<x;c++)E.vogk.push(W.X.im())}return{name:K,JD:0,add:E}};
gD.prototype.Ox=function(K){var E=[],x=[],c=this,i=0;for(var y=1;y<c.Qg.length;y++){var J=c.Qg[y];J.JD=-1-y;
E.push(J);if(c.Jq.indexOf(y)!=-1)x.push(E.length-1)}if(c.Qg[0].add.vmsk.i.length>2){var J=c.Qg[0];J.JD=-1;
E.push(J);if(c.Jq.indexOf(0)!=-1)x.push(E.length-1)}var P=c.FU==null;if(P)c.FU=[];for(var y=c.g.length-1;
y>=0;y--){var _=c.B[c.g[y]],a=_.add.TySh;if(_.add.vmsk!=null&&(_.gl||_.Au())){var J=gD.bv("\""+_.getName()+"\" Shape Path",_.add);
J.JD=c.g[y];E.push(J);if(P)c.FU.push(i);if(c.FU.indexOf(i)!=-1)x.push(E.length-1);i++}if(K!=!0&&a&&a.add&&W.HA.eS(a.K_)){var J=gD.bv("\""+_.getName().slice(0,10)+"..\" Text Path",a.add);
J.JD=1e6+c.g[y];E.push(J);x.push(E.length-1);i++}}if(x.length==0&&K){c.Qg[0].JD=-1;c.Jq=[0];x.push(E.length);
E.push(c.Qg[0])}return[E,x]};gD.prototype.JW=function(y,K){var E=[],hr=this.root.R7(y);if(hr)hr.Ll(E,K);
return E};gD.prototype.Iv=function(){this.root.yi(this,new cS(0,0,this.b,this.n))};gD.prototype.yu=function(K){for(var y=0;
y<this.B.length;y++){var E=this.B[y];if(K.indexOf(E)==-1){E.vJ.a4L();E.U()}}var x=0;for(var y=0;y<K.length;
y++)if(K[y].add.artb)x++;this.yR(x);this.B=K.slice(0);this.p7()};gD.prototype.p7=function(){var K=this.B,E=K.length;
this.root=new dI;var x=this.EY(!0);x.Vk="pass";x.add.lsct=fV.Bm;x.yH("");var c=this.NG(!0),J=[c];for(var y=0;
y<E;y++)J.push(K[y]);J.push(x);this.root.ayw(J,0,0);if(this.g.length==0)this.g=[E-1]};gD.prototype.JT=function(){if(this.g.length!=1)return;
var K=this.root.R7(this.g[0]);while(K.parent!=null){var E=K.parent.j;E.add.lsct=fV.Bm;K=K.parent}this.ZI=this.a42=!0};
gD.prototype.avb=function(){this.p7();var K=[this.root],cy=0;while(K.length!=0){var top=K.pop();cy++;
if(top.j.add.lsct==fV.Bm)for(var y=0;y<top.children.length;y++)K.push(top.children[y])}if(cy>1e3){var E=this.root.children;
for(var y=0;y<E.length;y++)if(E[y].j.add.lsct==fV.Bm)E[y].j.add.lsct=fV.wg}};gD.dt=function(K,E,x,c,J,i,P,_){if(_==null)_="sRGB IEC61966-2.1";
var a={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:c},artboard:{t:"bool",v:i},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:K*72/x}},Hght:{t:"UntF",v:{type:"#Rlt",val:E*72/x}},Rslt:{t:"UntF",v:{type:"#Rsl",val:x}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:J}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:_}}}};
if(J=="Clr")a.Nw.v.FlCl={t:"Objc",v:P};return{va:"make",Ks:a}};gD.apb=function(K,E){var x=0,c=0,J=72,i=E.a8$,P=K.preset&&K.preset.v=="Clipboard";
if(P){x=i.b;c=i.n}else{x=K.Wdth.v.val;c=K.Hght.v.val;J=K.Rslt.v.val;x=Math.round(x*J/72);c=Math.round(c*J/72)}var _=new gD((K.Nm?K.Nm.v:hg.get([11,7]))+".psd");
_.b=x;_.n=c;_.B8=J;var a=K.Fl?K.Fl.v.Fl:"Wht";if(K.artboard&&K.artboard.v){var j=_.EY();j.yH(hg.get([1,16,0])+" 1");
j.add.lsct=fV.Bm;j.MZ(new cS(0,0,x,c));j.add.artb.artboardBackgroundType={t:"long",v:{Wht:1,Blck:2,Trns:3,BckC:1,Clr:4}[a]};
if(a=="Clr")j.add.artb.Clr={t:"Objc",v:W.M.TD(W.M.Et(K.FlCl.v))};j.Vk="pass";j.LD=24;var e=_.EY();e.yH("Layer 1");
_.yu([_.NG(),e,j]);_.yR(1);_.g=[1]}else{var d=_.EY(),I=0;d.yH("Background");_.yu([d]);d.add.lspf=1<<2;
if(a=="Clr"){I=W.M.Et(K.FlCl.v);I=255<<24|Math.round(I.k)<<16|Math.round(I.J)<<8|Math.round(I.o)}else{var v=E.xw;
v=(v&255)<<16|(v>>>8&255)<<8|v>>>16;I={Trns:0,Wht:4294967295,Blck:4278190080,BckC:255<<24|v}[a]}d.rect=new cS(0,0,x,c);
d.buffer=W.Q(x*c*4);W._m(d.buffer,I)}_.buffer=W.Q(x*c*4);var n=K.profile;if(n){var C={"Adobe RGB (1998)":"icc/adobe","ProPhoto RGB":"icc/prophoto","image P3":"icc/displayp3"}[n.v];
if(C)_.lR(gr.nu.get(C))}return _};function av(K){this.c1=K;this.N=0;this.f$=1;this.R=new iP(0,0);this.$J=new iP(0,0);
this.Zm=0;this.NW=[1,1,1];this.G5=0;this.E5=new cS(0,0,1,1);this.adl=new cS(0,0,K.b,K.n);this.O8=null;
this.LP=null;this.QF=new Uint32Array(0);this.UU=null;this.dl=null;this.Tg=W.Q(0);this.xk=null;this.MP=null}av.prototype.uL=function(K){var E=new iQ,x=this.E5,c=this.c1,J=K?this.f$:this.N,i=K?this.$J:this.R,P=Math.round((x.b-c.b*J)/2+i.x),_=Math.round((x.n-c.n*J)/2+i.y);
E.translate(-P,-_);E.scale(1/J,1/J);var a=c.b/2,j=c.n/2;E.translate(-a,-j);E.rotate(this.Zm);E.translate(a,j);
return E};av.prototype.a3V=function(K){var E=this.E5,x=this.c1,c=Math.atan2(-K.k,K.Cc),J=x.b/2,i=x.n/2;
K.translate(-J,-i);K.rotate(-c);K.translate(J,i);var P=1/K.pA();K.scale(P,P);var _=-K.qW,a=-K.Ju,j=Math.round(_-(E.b-x.b*P)/2),e=Math.round(a-(E.n-x.n*P)/2);
if(Math.abs(P-Math.round(P))<1e-6)P=Math.round(P);this.Zm=c;this.N=P;this.R=new iP(j,e)};av.prototype.gg=function(K,E){var x=this.uL();
return x.iR(new iP(K,E))};av.prototype.An=function(K,E){var x=this.uL();x.Pa();return x.iR(new iP(K,E))};
function dz(){}dz.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh".split(" ");dz.E9="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti".split(" ");
dz.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0]];dz.ai0=["DrSh","IrSh","SoFi","GrFl","FrFX"];
dz.zg=["Clr"];dz.Ab="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");dz.Tk=["Ptrn","Angl","Scl","Algn","phase"];
dz.zT={M$:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",apJ:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Two Color\"               },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"UsrS\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50},\"Clr\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}]},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",a5S:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Foreground to Background\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",aei:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Custom\"                  },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"ClNs\"}},\"ShTr\":{\"t\":\"bool\",\"v\":false},\"VctC\":{\"t\":\"bool\",\"v\":false},\"ClrS\":{\"t\":\"enum\",\"v\":{\"ClrS\":\"RGBC\"}},\"RndS\":{\"t\":\"long\",\"v\":1466092501},\"Smth\":{\"t\":\"long\",\"v\":2048},\"Mnm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0}]},\"Mxm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100}]}}}",jm:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\",\"t\":\"TEXT\"}}}"};
dz.zT.M$="\"Clr\": "+dz.zT.M$;dz.zT.M="\"Grad\":"+dz.zT.apJ+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
dz.zT.jm="\"Ptrn\":"+dz.zT.jm+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 0},\"t\":\"UntF\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
dz.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
dz.hQ=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+dz.zT.M$+","+dz.zT.M+","+dz.zT.jm+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+dz.zT.M$+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+dz.zT.M+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+dz.zT.jm+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Line\xE1rn\xED\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"}}"];
dz.M={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
dz.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],Vu:["SClr","GrFl","Ptrn"],a5C:[[13,0],[12,37],[12,62]]};
dz.jp={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],arY:["SrcC","SrcE"],azd:[[19,5,1],[12,69]]};dz._a={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],afx:["SfBL","PrBL","Slmt"],aek:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
dz.Ae={cG:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],Zi:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],Iy:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!0},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pnt",val:1}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+dz.zT.M$+"}")},strokeStyleResolution:{t:"doub",v:72}}};
dz.gk=[{classID:"null",Clr:JSON.parse(dz.hQ[5]).Clr},{classID:"null",Grad:JSON.parse(dz.hQ[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(dz.hQ[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},Angl:{v:{type:"#Ang",val:0},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var bd={};bd.Z5=function(K,E){function x(K,I){if(K==null||!K.masterFXSwitch.v)return null;var v=K[I].v,n;
if(v.length!=0){n=v[0].v;if(!n.enab.v)n=null}return n}var c=E.SoCo,J=E.GdFl,i=x(K,"solidFillMulti"),P=x(K,"gradientFillMulti");
if(i==null&&P==null)return[c,J];var _=bd.aby;if(c&&i&&P==null){var a=JSON.parse(JSON.stringify(c));a.Clr.v=_(i.Clr.v,c.Clr.v,i);
return[a,null]}if(J&&i&&P==null){var j=JSON.parse(JSON.stringify(J)),e=j.Grad.v.Clrs.v;for(var y=0;y<e.length;
y++){var d=e[y].v.Clr;d.v=_(i.Clr.v,d.v,i)}return[null,j]}if(c&&P){var j=JSON.parse(JSON.stringify(P)),e=j.Grad.v.Clrs.v;
for(var y=0;y<e.length;y++){var d=e[y].v.Clr;d.v=_(d.v,c.Clr.v,P)}return[null,j]}return[i,P]};bd.a8h={Lc:W.Q(4),PY:W.Q(4),o:new cS(0,0,1,1)};
bd.aby=function(K,E,x){var c=db.qw(x.Md.v.BlnM),J=x.Opct.v.val/100,i=bd.a8h;K=W.M.Et(K);E=W.M.Et(E);
i.Lc[0]=K.o;i.Lc[1]=K.J;i.Lc[2]=K.k;i.Lc[3]=255;i.PY[0]=E.o;i.PY[1]=E.J;i.PY[2]=E.k;i.PY[3]=255;W.h.Nh(c,i.Lc,i.o,i.PY,i.o,i.o,J);
return{classID:"RGBC",Rd:{t:"doub",v:i.PY[0]},Grn:{t:"doub",v:i.PY[1]},Bl:{t:"doub",v:i.PY[2]}}};bd.a8s=function(K,E,x){var c=K;
K=K.slice(0);var J=db.bV[db.ws.indexOf(E.Md.v.BlnM)],i=W.M.Et(E.Clr.v),P=4278190080|Math.round(i.k)<<16|Math.round(i.J)<<8|Math.round(i.o),_=W.Q(x.O()*4);
W._m(_,P);W.h.Nh(J,_,x,K,x,x,E.Opct.v.val/100);for(var y=0;y<K.length;y+=4)K[y+3]=c[y+3];return K};bd.R1=function(K,E){var x=["Sz","blur","Sftn","Dstn"];
for(var y=0;y<dz.order.length;y++){var c=dz.order[y],J=K[dz.E9[y]].v;for(var i=0;i<J.length;i++){var P=J[i].v;
for(var _=0;_<x.length;_++){var a=P[x[_]];if(a){var j=a.v.val,e=j;e=Math.max(j==0?0:1,e*E);if(c=="ChFX")e=Math.min(e,250);
if(c=="ebbl"){if(x[_]=="blur")e=Math.min(e,250);if(x[_]=="Sftn")e=Math.min(e,16)}a.v.val=Math.round(e)}}if(c=="ebbl"||c=="patternFill"||c=="FrFX")if(P.Ptrn&&P.Scl)P.Scl.v.val=Math.max(1,Math.min(1e3,P.Scl.v.val*E))}}};
bd.a3$=function(K,E,x){var c=new cS(-.5,-.5,1,1);for(var y=0;y<dz.order.length;y++){var J=dz.order[y],i=K[dz.E9[y]].v;
for(var P=0;P<i.length;P++){var _=i[P].v,d;if(!_.enab.v)continue;var a=_.blur?_.blur.v.val+1:0,j=_.Ckmt?_.Ckmt.v.val/100:0,e=Math.round(a*j);
if(J=="DrSh"||J=="IrSh"&&x){d=new cS(-.5,-.5,1,1);d.r1(a,a);bd.pX(d,_,E,0)}if(J=="OrGl"||J=="IrGl"&&x){d=new cS(-.5,-.5,1,1);
d.r1(a,a)}if(J=="FrFX"){var I=bd.cT(_),v=I[1];if(x)v=Math.max(I[0],v);d=new cS(-.5,-.5,1,1);d.r1(Math.ceil(v),Math.ceil(v))}if(J=="ebbl"){var a=_.blur.v.val,n=_.bvlS.v.BESl;
if(n=="Embs"||n=="PlEb")a/=2;var C=["OtrB","InrB","Embs","PlEb","strokeEmboss"],T=["SfBL","PrBL","Slmt"],o=["In","Out"],s=_.bvlT.v.bvlT!="SfBL"?a:a*.43,Q=Math.round(a);
d=new cS(-Q-1,-Q-1,2*Q+2,2*Q+2)}if(x&&J=="ChFX"){d=new cS(-.5,-.5,1,1);d.r1(a,a);var X=d.clone();bd.pX(d,_,E,0);
bd.pX(X,_,E,Math.PI);d=d.XN(X)}if(d)c=c.XN(d)}}if(c.x!=Math.ceil(c.x)){c.x=Math.ceil(c.x);c.b-=1}if(c.y!=Math.ceil(c.y)){c.y=Math.ceil(c.y);
c.n-=1}c.b=Math.floor(c.b);c.n=Math.floor(c.n);return c};bd.cT=function(K){var E=0,x=0,c=K.Styl.v.FStl,J=K.Sz.v.val;
if(c=="OutF")x=J;if(c=="InsF")E=J;if(c=="CtrF")E=x=J/2;return[E,x]};bd.at4=function(K){if(f4.Eg&&K.fb==null){K.fb=new f4.oA(K.ha.b,K.ha.n);
K.fb.set(K.Ly);delete K.Ly;if(K.fB){K.HD=new f4.rG(K.ha.b,K.ha.n);K.HD.set(K.fB);delete K.fB}if(K.mU){K.jH=new f4.rG(K.ha.b,K.ha.n);
K.jH.set(K.mU);delete K.mU}}};bd.aeF=function(K){if(K.fb)K.fb.delete();if(K.HD)K.HD.delete();if(K.jH)K.jH.delete()};
bd.a83=function(K){if(K.all==null)return;for(var y=0;y<K.all.length;y++){bd.aeF(K.all[y])}};bd.am6=function(K,E,x,c,J,i){var P=bd.dm(x,c,K,E,J,i);
for(var y=0;y<P.all.length;y++)bd.at4(P.all[y]);return P};bd.a52=function(K){for(var y=0;y<dz.order.length;
y++){var E=dz.order[y],x=dz.E9[y],c=K[x].v;for(var J=0;J<c.length;J++){var i=c[J].v;if(i.enab.v&&["patternFill","GrFl","SoFi"].indexOf(E)==-1)return!0}}return!1};
bd.dm=function(K,E,x,c,J,i){if(i==null)i=c;var P=0,_=0;for(var y=0;y<dz.order.length;y++){var a=dz.order[y],j=dz.E9[y],e=K[j].v;
for(var d=0;d<e.length;d++){var I=e[d].v;if(a=="DrSh"&&I.enab.v&&I.Ckmt.v.val>0&&I.blur.v.val>0)P=Math.max(P,Math.ceil(I.Ckmt.v.val*I.blur.v.val/100));
if(a=="OrGl"&&I.enab.v&&I.Ckmt.v.val>0&&I.blur.v.val>0&&I.GlwT.v.BETE=="SfBL")P=Math.max(P,Math.ceil(I.Ckmt.v.val*I.blur.v.val/100));
if(a=="OrGl"&&I.enab.v&&I.blur.v.val>0&&I.GlwT.v.BETE=="PrBL")P=Math.max(P,I.blur.v.val);if(a=="FrFX"&&I.enab.v&&I.Sz.v.val>0){if(I.Styl.v.FStl=="OutF")P=Math.max(P,I.Sz.v.val);
if(I.Styl.v.FStl=="CtrF")P=Math.max(P,Math.ceil(I.Sz.v.val/2));_=Math.max(_,bd.cT(I)[1])}}}var v=new bd.z4(x,c,P,bd.a52(K)),n=-c.x,C=-c.y,T={type:{},all:[]};
for(var o=0;o<dz.order.length;o++){var a=dz.order[o],j=dz.E9[o];T.type[a]=[];for(var s=K[j].v.length-1;
s>=0;s--){var Q=K[j].v[s].v,S;if(!Q.enab.v)continue;var X=Q.blur?Q.blur.v.val:0,B=Q.Ckmt?Q.Ckmt.v.val/100:0,M=X*B;
if(a=="DrSh"){var f=v.bj(M,X-M,!0),F=f.Mv,G=f.ZE;G.offset(n,C);bd.xe(F,Q,!1);bd.pX(G,Q,J,0);var D=W.Q(G.O()*4);
bd.tB(D,Q.Clr.v);W.Mz(F,D,3);S={Ly:D,ha:G,ajc:Q.layerConceals.v}}else if(a=="IrSh"){var f=v.bj(M,X-M,!1);
bd.pX(f.ZE,Q,J,0);var G=v.rect().clone(),F=W.Q(G.O());F.fill(255);W.XT(f.Mv,f.ZE,F,G);bd.xe(F,Q,!0,!0);
var D=W.Q(G.O()*4);bd.tB(D,Q.Clr.v);W.Mz(F,D,3);G.offset(n,C);S={Ly:D,ha:G}}else if(a=="GrFl"){var D=W.Q(v.rect().O()*4);
bd.ZB(Q,D,v.rect(),J,null,i);var G=v.rect().clone();G.offset(n,C);S={Ly:D,ha:G}}else if(a=="SoFi"){var D=W.Q(v.Mv().length*4);
bd.tB(D,Q.Clr.v);var G=v.rect().clone();G.offset(n,C);S={Ly:D,ha:G}}else if(a=="ebbl"){var b=!1;if(b)console.log(Q);
var H=Date.now(),q=Q.bvlS.v.BESl;if(q=="strokeEmboss"){var O=K.frameFXMulti.v;if(O.length==0)continue;
O=O[0].v;if(!O.enab.v)continue;var w=O.Styl.v.FStl;if(w=="OutF")q="OtrB";if(w=="CtrF")q="Embs";if(w=="InsF")q="InrB"}var X=Q.blur.v.val;
if(X==0)X=.7;if(q=="Embs"||q=="PlEb")X/=2;var V=["OtrB","InrB","Embs","PlEb","strokeEmboss"],t=["SfBL","PrBL","Slmt"],m=["In","Out"],g=Q.bvlT.v.bvlT!="SfBL"?X:X*.45,Y=Math.round(X),A=v.rect().clone(),k=A.clone();
k.r1(Y,Y);var z=k.b,p=k.n,L=z*p,N=W.Q(L);W.XT(v.Mv(),A,N,k);var gC=new Float64Array(L),r=new Float64Array(L);
W.style.Rm(N,gC,z,p);W.Pa(N);W.style.Rm(N,r,z,p);if(b)console.log("distTransform computed",Date.now()-H);
for(var y=0;y<L;y++)r[y]=r[y]-gC[y];for(var y=0;y<L;y++){var h=r[y];if(h<-g)r[y]=-g;else if(h>g)r[y]=g}if(b)console.log("summing + cropping",Date.now()-H);
if(Q.bvlT.v.bvlT=="SfBL"){var l=Math.pow(X*.21,1.22);if(!0)l=Math.max(l,2);var g5=W.HL.zU(l,2);W.HL.cB(r,gC,k,g5[0]>>>1);
W.HL.cB(gC,r,k,g5[1]>>>1)}if(b)console.log("blurring",Date.now()-H);var fm=r,dC=fm.slice(0);if(Q.useShape.v){var ex=Math.min(100,Q.Inpr.v.val+1)/100;
if(q!="OtrB"&&q!="InrB")ex=1;var cR=W.r9.ew(Q.MpgS.v.Crv.v,2e3),d0=Math.round(2e3/ex);cR=W.r9.a77(cR,d0,q=="InrB");
var hN=.5/g;for(var y=0;y<L;y++){var ey=fm[y],cr=.99999*(ey+g)*hN;fm[y]=-g+2*g*cR[~~(cr*(d0-1))]}if(b)console.log("applying shape",Date.now()-H)}if(Q.useTexture.v){var ik=W.Q(z*p*4);
bd.Tq(Q,ik,k,J.add.Patt,E);var hd=W.Q(z*p);W.KZ(ik,hd);var df=W.Q(z*p);W.HL.v0(hd,df,k,1);hd=df;var bQ=X*Q.textureDepth.v.val*(1/100)*(1/255);
if(Q.InvT.v)bQ=-bQ;for(var y=0;y<L;y++)fm[y]+=-bQ*hd[y];if(b)console.log("applying texture",Date.now()-H)}var is=(Q.bvlT.v.bvlT=="SfBL"?1:.5)*(Q.bvlD.v.BESs=="In"?1:-1)*Q.srgR.v.val/100;
for(var y=0;y<L;y++)fm[y]*=is;if(b)console.log("scaling",Date.now()-H);var bi=Q.uglg&&Q.uglg.v?J.XI():Q.lagl.v.val;
bi=bi*(Math.PI/180);var jX=Q.uglg&&Q.uglg.v?J.So():Q.Lald.v.val;jX=jX*(Math.PI/180);var eS=Math.cos(bi)*Math.cos(jX),bN=-Math.sin(bi)*Math.cos(jX),h9=Math.sin(jX),bz=new Float64Array(L),i0=new Float64Array(L),hp=q=="PlEb";
for(var hY=0;hY<p;hY++)for(var ji=0;ji<z;ji++){var y=hY*z+ji,aM=0,a1=0,fi=1;if(hY!=0&&hY!=p-1&&ji!=0&&ji!=z-1){var jJ=fm[y-z-1],gg=fm[y-z+1],iN=fm[y+z-1],ad=fm[y+z+1];
aM=-.125*(gg+2*fm[y+1]+ad-(jJ+2*fm[y-1]+iN));a1=-.125*(iN+2*fm[y+z]+ad-(jJ+2*fm[y-z]+gg))}else{var h6=fm[y];
a1=-(hY==0?fm[y+z]-h6:hY==p-1?h6-fm[y-z]:.5*(fm[y+z]-fm[y-z]));aM=-(ji==0?fm[y+1]-h6:ji==z-1?h6-fm[y-1]:.5*(fm[y+1]-fm[y-1]))}var iY=1/Math.sqrt(aM*aM+a1*a1+1);
aM*=iY;a1*=iY;fi*=iY;var kh=aM*eS+a1*bN+fi*h9,gN=kh;if(hp)gN=-aM*eS-a1*bN+fi*h9;if(kh>0)bz[y]=kh;if(gN>0)i0[y]=gN}if(b)console.log("raycasting",Date.now()-H);
if(Q.Sftn.v.val!=0){W.HL.u$(bz,gC,k,Q.Sftn.v.val*.43);var aT=gC,gC=bz,bz=aT;if(hp){W.HL.u$(i0,gC,k,Q.Sftn.v.val*.43);
var aT=gC,gC=i0,i0=aT}else W.dq(bz,i0)}if(b)console.log("softening",Date.now()-H);var cR=W.r9.ew(Q.TrnS.v.Crv.v,1024);
for(var y=0;y<L;y++){bz[y]=cR[~~(bz[y]*1024)];i0[y]=cR[~~(i0[y]*1024)]}if(b)console.log("contour remap",Date.now()-H);
z=Math.round(z);p=Math.round(p);var iv=W.Q(z*p*4);bd.tB(iv,Q.hglC.v);var fs=W.Q(z*p*4);bd.tB(fs,Q.sdwC.v);
var gm=W.Q(z*p*4);bd.tB(gm,Q.hglC.v);var g8=W.Q(z*p*4);bd.tB(g8,Q.sdwC.v);var b_=1/h9,ko=1/(1-h9),hN=1/g,gk=new Float64Array(1e3);
for(var y=0;y<1e3;y++)gk[y]=Math.pow(y*.001,.2);for(var hY=0;hY<p;hY++)for(var ji=0;ji<z;ji++){var y=hY*z+ji,bx=4*y+3,ai=0,hf=0;
ai=bz[y];hf=i0[y];var aa=Math.max(0,Math.min(.9999,(dC[y]+g*.993)*hN));aa=gk[Math.floor(aa*1e3)];var iS=aa*(1-Math.min(1,ai*b_)),hl=aa*(1-Math.min(1,(1-ai)*ko)),jR=aa*(1-Math.min(1,hf*b_)),jC=aa*(1-Math.min(1,(1-hf)*ko));
fs[bx]=Math.round(255*iS);iv[bx]=Math.round(255*hl);g8[bx]=Math.round(255*jR);gm[bx]=Math.round(255*jC)}if(b)console.log("baking textures",Date.now()-H);
k=v.rect().clone();k.r1(Y,Y);k.offset(n,C);S={atV:Q.bvlS.v.BESl=="strokeEmboss"};var h8=db.qw(Q.hglM.v.BlnM),cW=Q.hglO.v.val/100,kn=db.qw(Q.sdwM.v.BlnM),fQ=Q.sdwO.v.val/100;
if(["InrB","Embs","PlEb"].indexOf(q)!=-1){S.tw={Ly:iv,ha:k,i0:h8,Uv:cW};S.Fs={Ly:fs,ha:k,i0:kn,Uv:fQ}}if(["OtrB","Embs","PlEb"].indexOf(q)!=-1){S.JZ={Ly:gm,ha:k,i0:h8,Uv:cW};
S.AO={Ly:g8,ha:k,i0:kn,Uv:fQ}}if(b)console.log(Date.now()-H)}else if(a=="patternFill"){var i7=v.rect(),D=W.Q(i7.O()*4);
bd.Tq(Q,D,i7,J.add.Patt,E);var G=i7.clone();G.offset(n,C);S={Ly:D,ha:G}}else if(a=="ChFX"){var D=W.Q(v.Mv().length*4);
bd.tB(D,Q.Clr.v);var X=Q.blur.v.val,jq=v.rect().clone();jq.r1(X,X);var iJ=W.Q(jq.O()),dR=W.Q(jq.O());
W.XT(v.Mv(),v.rect(),dR,jq);W.HL.Bv(dR,iJ,jq,X*.43);var cH=W.r9.Qw(Q.MpgS.v.Crv.v,256,!0);W.cZ(iJ,cH);
var c4=W.Q(v.Mv().length),cx=W.Q(v.Mv().length),gp=v.rect().clone();bd.pX(gp,Q,J,0);W.XT(iJ,jq,c4,gp);
gp=v.rect().clone();bd.pX(gp,Q,J,Math.PI);W.XT(iJ,jq,cx,gp);var gb=c4.length;for(var y=0;y<gb;y++)D[4*y+3]=Math.abs(c4[y]-cx[y]);
if(Q.Invr.v)for(var y=0;y<gb;y++)D[4*y+3]=255-D[4*y+3];var G=v.rect().clone();G.offset(n,C);S={Ly:D,ha:G}}else if(a=="OrGl"){var f;
if(Q.GlwT.v.BETE=="SfBL")f=v.bj(M,X-M,!0);else f=v.awv(X,B,!0);var F=f.Mv,G=f.ZE,bg=F.slice(0);bd.ap1(F,Q);
var D=W.Q(G.O()*4);if(Q.Grad==null){bd.tB(D,Q.Clr.v);bd.xe(F,Q,!1)}else{bd.xe(F,Q,null);var cu={eF:F,Px:255,KC:0,_$:G};
bd.ZB(Q,D,G,J,cu);var jP=Q.Nose.v.val/100,k4=G.b;for(var y=0;y<bg.length;y++){var kg=255,ek=bg[y];if(ek<32){var i_=(ek+bg[y-1]+bg[y+1]+bg[y-k4]+bg[y+k4])*.2-1;
kg=Math.min(255,Math.round(Math.max(0,i_)*8))}F[y]=kg}bd.acy(F,Q)}W.Mz(F,D,3);G.offset(n,C);S={Ly:D,ha:G}}else if(a=="IrGl"){var f;
if(Q.GlwT.v.BETE=="SfBL")f=v.bj(M,X-M,!1);else f=v.awv(X,B,!1);var F=f.Mv,G=f.ZE;bd.ap1(F,Q);if(Q.glwS.v.IGSr=="SrcC")W.Pa(F);
var D=W.Q(G.O()*4);if(Q.Grad==null){bd.tB(D,Q.Clr.v);bd.xe(F,Q,!0)}else{bd.xe(F,Q,null);var cu={eF:F,Px:255,KC:0,_$:G};
bd.ZB(Q,D,G,J,cu);F.fill(255);bd.acy(F,Q)}W.Mz(F,D,3);G.offset(n,C);S={Ly:D,ha:G}}else if(a=="FrFX"){var gX=bd.cT(Q),eE=gX[0],dP=gX[1],G=v.rect().clone(),ie=null,d7=null;
G.r1(Math.ceil(_),Math.ceil(_));if(dP>0){var f=v.bj(dP,0,!0);d7=f.Mv;if(d7.length<G.O()){d7=W.Q(G.O());
W.XT(f.Mv,f.ZE,d7,G)}}if(eE>0){var f=v.bj(eE,0,!1);ie=W.Q(G.O());ie.fill(255);W.XT(f.Mv,f.ZE,ie,G)}G.offset(n,C);
var D=W.Q(G.O()*4),bT=Q.PntT.v.FrFl;if(bT=="SClr")bd.tB(D,Q.Clr.v);if(bT=="GrFl")bd.ZB(Q,D,G,J,v.amr(eE,dP));
if(bT=="Ptrn")bd.Tq(Q,D,G,J.add.Patt,E);S={Ly:D,ha:G,mU:d7,fB:ie}}T.type[a].push(S);if(a=="ebbl"){if(S.tw)T.all.push(S.tw,S.Fs);
if(S.JZ)T.all.push(S.JZ,S.AO)}else{S.i0=db.qw(Q.Md.v.BlnM);S.Uv=Q.Opct.v.val/100,T.all.push(S)}}}return T};
bd.Pq=function(K){var E=1/Math.sqrt(K.x*K.x+K.y*K.y+K.EB*K.EB);K.x*=E;K.y*=E;K.EB*=E};bd.arQ=function(K,E){return{x:K.y*E.EB-K.EB*E.y,y:K.EB*E.x-K.x*E.EB,EB:K.x*E.y-K.y*E.x}};
bd.afh=function(K,E){return K.x*E.x+K.y*E.y+K.EB*E.EB};bd.acy=function(K,E){var x=E.Nose.v.val/100;if(x>0)for(var y=0;
y<K.length;y++){var c=K[y];c=Math.min(510-(1+x)*W.style.WJ(y),c);K[y]=c}};bd.TC=function(K){var E=bd.HQ(),x=K.Dg,c=!1;
for(var y=0;y<32;y+=8)if(x[y]+x[y+1]+x[y+4]+x[y+5]!=0||x[y+2]+x[y+3]+x[y+6]+x[y+7]!=1020)c=!0;if(c){x=x.slice(0);
for(var y=0;y<40;y+=4){var J=x[y]/255,i=x[y+1]/255,P=x[y+2]/255,_=x[y+3]/255;x[y]=J-.001;x[y+1]=J==i?1e6:1/(i-J);
x[y+2]=P==_?-1e6:1/(P-_);x[y+3]=_+.001}}var a=K.add.iOpa!=null?K.add.iOpa/255:E.fill,j=K.add.vstk;if(j&&!j.fillEnabled.v&&(!j.strokeEnabled.v||j.strokeStyleLineWidth.v.val==0))a=0;
return{fill:a,mA:c?x:null,q$:K.add.brst!=null?K.add.brst:E.q$,anV:K.add.knko!=null?K.add.knko:E.anV,style:!1,su:!1}};
bd.HQ=function(){return{fill:1,mA:null,q$:[1,1,1],anV:0,style:!1,su:!1}};bd.a5R=function(K,E,x,c,J,i,P,_){if(_==null)_=1;
if(P==null)P=new iQ;var a=K.gW[1].b,j=K.gW[1].n,e=new iQ,d=J<2;if(d)e.translate(-a/2,-j/2);if(J==0){_*=Math.max(x/a,c/j)}else if(J==1){_*=Math.min(x/a,c/j)}else if(J==2){e.scale(1/a,1/j);
e.concat(P);e.scale(x,c)}else if(J==3){_=_}e.scale(_,_);if(d)e.translate(x/2,c/2);e.concat(i);E.Ptrn.v.Idnt.v=K.id;
E.Scl.v.val=Math.round(100*e.pA());E.Angl.v.val=Math.round(180*Math.atan2(-e.k,e.Cc)/Math.PI);E.Algn.v=!0;
var I=E.phase.v;I.Hrzn.v=Math.round(e.qW);I.Vrtc.v=Math.round(e.Ju)};bd.I6=function(K,E){if(E==null)return null;
var x=K.Idnt.v,c=K.Nm.v;for(var y=0;y<E.length;y++)if(E[y].id==x)return E[y];for(var y=0;y<E.length;
y++)if(E[y].name==c)return E[y];return null};bd.adq=function(K,E,x){var c=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var y=0;y<c.length;y++){var J=K.v[c[y]].v;for(var i=0;i<J.length;i++)if(J[i].v.Ptrn)E.Wu(bd.I6(J[i].v.Ptrn.v,x))}};
bd.a9u=function(K,E,x){var c=["patternFillMulti","ebblMulti","frameFXMulti"];for(var y=0;y<c.length;
y++){var J=K.v[c[y]].v;for(var i=0;i<J.length;i++)if(J[i].v.Ptrn){var P=J[i].v.Ptrn.v,_=bd.I6(P,x),a=bd.I6(P,E.add.Patt);
if(_==null&&a)x.push(a)}}};bd.Tq=function(K,E,x,c,J){var i=bd.I6(K.Ptrn.v,c);if(i!=null&&!x.um()){var P=i.gW,_=P[0],a=P[1],j=0;
W.gX(P);var e=(K.Scl?K.Scl.v.val:100)/100;while((e<.3||e==.5)&&P[j+2]){e*=a.b/P[j+3].b;j+=2;_=P[j];a=P[j+1]}var d=W.scale.Tq(_,a.b,a.n),I=K.phase?K.phase.v:{Hrzn:{v:0},Vrtc:{v:0}},v=K.Angl?K.Angl.v.val:0,n=-x.x+I.Hrzn.v-1,C=-x.y+I.Vrtc.v-1;
if(K.Algn!=null&&!K.Algn.v){}else{n+=J.x;C+=J.y}if(E)W.scale.awK(d,E,x.b,x.n,e,e,n+1,C+1,v*Math.PI/180);
else return[d,e,n+1,C+1,v*Math.PI/180]}};bd.ZB=function(K,E,x,c,J,i){if(i==null)i=x;var P=K.Type?K.Type.v.GrdT:"shapeburst",_=K.Algn&&K.Algn.v?i:new cS(0,0,c.b,c.n),a=K.Angl?W.M.hC(K,_):[new iP(0,0),new iP(100,0)],j=a[0].x,e=a[0].y,d=a[1].x-j,I=a[1].y-e,v=Math.sqrt(d*d+I*I);
v=1/(2*v*v);var n=[d*v,I*v,-I*v,d*v],C=K.Rvrs?K.Rvrs.v:!1,T=K.Dthr?K.Dthr.v:!1;W.M.iS(K.Grad.v,E,x,n,j,e,C,dz.M.types.indexOf(P),0,0,J,T)};
bd.aaN=function(K,E,x){for(var y=0;y<K.all.length;y++){var c=K.all[y];c.Hk=c.ha.clone();c.Hk.offset(E,x)}};
bd.ae0=function(K,E,x,c,J,i){var P=f4.Eg?bd.amX:bd.adH;bd.aaN(E,x.x,x.y);var _=E.type.DrSh;for(var y=0;
y<_.length;y++)if(!_[y].ajc)P(_[y],c,J,i)};bd.ax7=function(K,E,x,c,J,i,P,_,a,j){var e=x,d=f4.Eg?bd.amX:bd.adH,I=f4.Eg?f4.h.Rb:W.h.bG,v;
v=E.type.DrSh;for(var y=0;y<v.length;y++)if(v[y].ajc)d(v[y],c,J,i);v=E.type.OrGl;for(var y=0;y<v.length;
y++)d(v[y],c,J,i);var n="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");for(var C=0;C<n.length;C++){var v=E.type[n[C]];
for(var y=0;y<v.length;y++)d(v[y],P,e,i)}var T=E.type.ebbl[0],o=T!=null&&T.atV;v=E.type.FrFX;for(var y=0;
y<v.length;y++){var s=v[y];dI.Vd.XT(_,j,a,j,i);d(s,a,j,i);if(o&&y==v.length-1){if(T.AO)d(T.AO,a,j,i);
if(T.JZ)d(T.JZ,a,j,i);if(T.Fs)d(T.Fs,a,j,i);if(T.tw)d(T.tw,a,j,i)}if(s.fB||s.HD)I(a,j,P,e,f4.Eg?s.HD:s.fB,s.Hk,0,i,1);
if(s.mU||s.jH)I(a,j,c,J,f4.Eg?s.jH:s.mU,s.Hk,0,i,1)}if(!o&&T!=null){if(T.AO)d(T.AO,c,J,i);if(T.JZ)d(T.JZ,c,J,i);
if(T.Fs)d(T.Fs,P,e,i);if(T.tw)d(T.tw,P,e,i)}};bd.adH=function(K,E,x,c){var J=bd.HQ();J.fill=K.Uv;J.style=!0;
W.h.Nh(K.i0,K.Ly,K.Hk,E,x,c,1,J)};bd.amX=function(K,E,x,c){var J=bd.HQ();J.fill=K.Uv;J.style=!0;f4.h.or(K.i0,K.fb,K.Hk,E,x,c,1,J)};
bd.ap1=function(K,E){var x=1-E.Inpr.v.val/100,c=1+Math.tan(x*(Math.PI/2)),J=K.length;for(var y=0;y<J;
y++)K[y]=Math.min(255,Math.round(K[y]*c))};bd.xe=function(K,E,x,c){var J=E.blur.v.val,i=Math.round(J*(E.Ckmt.v.val/100));
if(J>i){var P=W.r9.Qw(E.TrnS.v.Crv.v,256,c!=!0);W.cZ(K,P)}if(x!=null&&E.Nose.v.val>0)W.style._V(K,E.Nose.v.val/100,x)};
bd.tB=function(K,E,x){if(x==null)x=255;var c=W.M.Et(E),J=x<<24|c.k<<16|c.J<<8|c.o,i=new Uint32Array(K.buffer);
i.fill(J)};bd.pX=function(K,E,x,c){var J=E.uglg&&E.uglg.v?x.XI():E.lagl.v.val;J=J*Math.PI/180+c;var i=Math.cos(J)*E.Dstn.v.val,P=Math.sin(J)*E.Dstn.v.val;
K.x-=Math.round(i);K.y+=Math.round(P)};bd.KF=function(K){if(K==null)return null;var E=K.frameFXMulti.v;
if(E.length==0)return null;E=E[0].v;var x=JSON.parse(JSON.stringify(dz.Ae.default));bd.acI(E,x);return x};
bd.acI=function(K,E){var x=dz.stroke.Vu.indexOf(K.PntT.v.FrFl),c=[dz.zg,dz.Ab,dz.Tk][x],J=E.strokeStyleContent.v={classID:dz.Ae.Iy[x]};
for(var y=0;y<c.length;y++)J[c[y]]=K[c[y]];E.strokeEnabled=K.enab;E.strokeStyleLineWidth=K.Sz;E.strokeStyleLineAlignment.v.strokeStyleLineAlignment=dz.Ae.Zi[dz.stroke.types.indexOf(K.Styl.v.FStl)];
E.strokeStyleOpacity=K.Opct;E.strokeStyleBlendMode=K.Md;E.strokeStyleLineJoinType.v.strokeStyleLineJoinType="strokeStyleRoundJoin"};
bd.jP=function(K,E){var x=[];for(var y=0;y<K.length;y++)x.push({t:"UntF",v:{type:"#Nne",val:Math.round(K[y]*E)}});
return x};bd.axd=function(K,E){var x=K.opacity/255*(K.add.iOpa?K.add.iOpa/255:1),c=K.add.TySh,J=K.wC()||K.Au()&&K.add.vmsk&&K.add.vstk.fillEnabled.v&&K.add.vstk.strokeEnabled.v;
if(c){var i=c.kd.EngineDict.StyleRun.RunArray,P=i[0].StyleSheet.StyleSheetData,_=0;if(P.FillFlag)_++;
if(P.StrokeFlag)_++;if(P._FillBackgroundFlag)_++;if(_>1)J=!0}return J&&(E||x!=1||K.Vk!="pass"&&K.Vk!="norm")};
bd.z4=function(K,E,x,c){this.H0=E.clone();this.a0z=E.clone();this.a0z.r1(x,x);if(c){this.H0.r1(1,1);
this.qi=W.Q(this.H0.O());W.XT(K,E,this.qi,this.H0)}else this.qi=K;this.f_=null;this.Ok=null;this.$q=null};
bd.z4.prototype.Mv=function(){return this.qi};bd.z4.prototype.rect=function(){return this.H0};bd.z4.prototype.ur=function(){return this.a0z};
bd.z4.prototype.og=function(){if(this.f_)return this.f_;this.f_=this.Mv().slice(0);W.Pa(this.f_);return this.f_};
bd.z4.prototype.be=function(){if(this.Ok)return this.Ok;this.Ok=new Float64Array(this.rect().O());W.style.Rm(this.og(),this.Ok,this.rect().b,this.rect().n);
return this.Ok};bd.z4.prototype.Kl=function(){if(this.$q)return this.$q;var K=this.ur(),E=W.Q(K.O());
W.XT(this.Mv(),this.rect(),E,K);this.$q=new Float64Array(K.O());W.style.Rm(E,this.$q,K.b,K.n);return this.$q};
bd.z4.prototype.amr=function(K,E){var x={Px:-E,KC:K,_$:null,eF:null};if(E==0){x._$=this.rect();x.eF=this.be();
return x}var c=this.Kl().slice(0),J=this.ur();x._$=J;x.eF=c;for(var y=0;y<c.length;y++)c[y]=-c[y];if(K==0)return x;
var i=this.be(),P=this.rect();for(var _=0;_<P.n;_++)for(var a=0;a<P.b;a++){var j=_*P.b+a,e=(_+P.y-J.y)*J.b+a+P.x-J.x;
c[e]+=i[j]}return x};bd.z4.prototype.bj=function(K,E,x){var c=Math.ceil(K+E),J={ZE:this.rect().clone(),Mv:null};
J.ZE.r1(c,c);J.Mv=W.Q(J.ZE.O());if(K==0&&E==0)W.dq(x?this.Mv():this.og(),J.Mv);else{var i=W.Q(J.ZE.O());
W.XT(this.Mv(),this.rect(),i,J.ZE);if(!x)W.Pa(i);if(K!=0){if(x)W.style.kv(i,J.ZE,this.Kl(),this.ur(),K);
else W.style.kv(i,J.ZE,this.be(),this.rect(),K)}if(E!=0)W.HL.Bv(i,J.Mv,J.ZE,Math.max(1,E*.43));else J.Mv=i}return J};
bd.z4.prototype.awv=function(K,E,x){var c=K*(E-.5),J={ZE:this.rect().clone(),Mv:null};if(x)J.ZE.r1(K,K);
J.Mv=W.Q(J.ZE.O());var i=J.ZE.b,P=J.ZE.n,_=x?this.Kl():this.be(),a=x?this.ur():this.rect(),j=J.ZE,e=j.Sl(a),i=e.b,P=e.n,d=e.x-j.x,I=e.y-j.y,v=e.x-a.x,n=e.y-a.y,C=1-E*2;
for(var T=0;T<P;T++)for(var o=0;o<i;o++){var s=_[(T+n)*a.b+o+v],Q=s/K;J.Mv[(T+I)*j.b+o+d]=Math.max(0,Math.min(255,255-255*((Q+C)/(1+C))))}return J};
bd.a1U=function(K,E,x,c){var J=K.Lefx,i=K.blendOptions;if(J){var P=E.add.lmfx;if(x==null)x=P?P.Scl.v.val:100;
E.add.lmfx=JSON.parse(JSON.stringify(J.v));if(E.add.lmfx.Scl==null)E.add.lmfx.Scl={t:"UntF",v:{type:"#Prc",val:100}};
bd.R1(E.add.lmfx,x/E.add.lmfx.Scl.v.val);if(P)E.add.lmfx.Scl.v.val=P.Scl.v.val;var _=J.v.gagl;if(_&&c)c.I0(_.v.val)}else delete E.add.lmfx;
if(i){i=i.v;if(i.Md)E.Vk=db.qw(i.Md.v.BlnM);if(i.Opct)E.opacity=Math.round(i.Opct.v.val*255/100);if(i.fillOpacity)E.add.iOpa=Math.round(i.fillOpacity.v.val*255/100);
if(i.Blnd){var a=[];for(var y=0;y<10;y++)a.push(0,0,255,255);var j=i.Blnd.v,e="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var y=0;y<j.length;y++){var d=j[y].v,I=8*["Gry","Rd","Grn","Bl"].indexOf(d.Chnl.v[0].v.enum);for(var v=0;
v<8;v++){a[I+v]=d[e[v]].v}}E.Dg=a}}};bd.a84=function(K){var E="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),x=[],c=K.Dg;
for(var y=0;y<4;y++){var J=y*8;if(c[J]+c[J+1]+c[J+4]+c[J+5]==0&&c[J+2]+c[J+3]+c[J+6]+c[J+7]==4*255)continue;
var i={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][y]}}]}}};
x.push(i);for(var P=0;P<8;P++)i.v[E[P]]={t:"long",v:c[y*8+P]}}var _={classID:"blendOptions"};if(K.Vk!="norm")_.Md={t:"enum",v:{BlnM:db.zJ(K.Vk)}};
if(K.opacity!=255)_.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(K.opacity*100/255)}};if(K.add.iOpa!=null)_.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(K.add.iOpa*100/255)}};
if(x.length!=0)_.Blnd={t:"VlLs",v:x};var a={Sj:{classID:"null",Idnt:{t:"TEXT",v:gD.g4()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Custom Style"}},BT:{classID:"Styl",blendOptions:{t:"Objc",v:_}}},j=K.add.lmfx;
if(j)a.BT.Lefx={t:"Objc",v:j};return a};function jE(){}jE.f2=function(K){return JSON.parse(JSON.stringify(K))};
jE.Ve=function(K){var E=jE.f2(jE.a2P),x=E.Brsh.v;if(K!=null){delete x.Hrdn;x.classID="sampledBrush";
x.Nm={t:"TEXT",v:"layer.png"},x.sampledData={t:"TEXT",v:K}}return E};jE.a2P={classID:"brushPreset",Nm:{t:"TEXT",v:"Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
jE.Pq={};jE.Pq.check=function(K){var E=jE.Pq.Bs;for(var y=0;y<E.length;y++)if(K[E[y]]==null)K[E[y]]=JSON.parse(jE.Pq.yQ[E[y]]);
var x=[];for(var y=0;y<E.length;y++)x.push(E[y]);var c=jE.Pq.agP;for(var y=0;y<c.length;y++){var J=c[y][0],i=c[y][1],P=!0;
for(var _=0;_<J.length;_++)P=P&&K[J[_]].v==!0;if(P)for(var _=0;_<i.length;_++){if(K[i[_]]==null)console.log("Missing conditional parameter "+i[_]);
else x.push(i[_])}}for(var a in K)if(x.indexOf(a)==-1)console.log("Extra parameter "+a);K=K.Brsh.v;E=jE.Pq.BL.Bs;
for(var y=0;y<E.length;y++)if(K[E[y]]==null)K[E[y]]=JSON.parse(jE.Pq.BL.yQ[E[y]]);x=[];for(var y=0;y<E.length;
y++)if(K[E[y]])x.push(E[y]);else console.log("Missing default parameter "+E[y]);c=jE.Pq.BL.arV[K.classID];
for(var y=0;y<c.length;y++)if(K[c[y]]==null&&c[y]!="dtipsGridSize"&&c[y]!="dtipsErodibleTipHeightMap"&&K.a0s!=1)console.log("Missing conditional parameter "+c[y]);
else x.push(c[y]);for(var a in K)if(x.indexOf(a)==-1)console.log("Extra parameter "+a)};jE.Pq.ayE=function(K){var E=jE.Pq.agP;
for(var y=0;y<E.length;y++){var x=E[y][0],c=E[y][1],J=!0;for(var i=0;i<x.length;i++)J=J&&K[x[i]]&&K[x[i]].v==!0;
if(J){for(var i=0;i<c.length;i++)if(K[c[i]]==null){K[c[i]]=JSON.parse(jE.Pq.yQ[c[i]])}}else for(var i=0;
i<c.length;i++)if(K[c[i]]!=null){delete K[c[i]]}}};jE.Pq.BL={};jE.Pq.BL.Bs="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
jE.Pq.BL.yQ={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};jE.Pq.BL.arV={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
jE.Pq.agP=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
jE.Pq.Bs="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
jE.Pq.yQ={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function c$(K,E){this.ayq=K;this.Zm=E==null?0:E;this.dir=0}c$.prototype.bW=function(K,E){var x=this.ayq,c=new iP(K.x-x.x,K.y-x.y),J=new iQ;
J.rotate(-this.Zm);c=J.iR(c);if(this.dir==0&&!x.ac(K))this.dir=Math.abs(c.x)<Math.abs(c.y)?1:2;if(E.l(j6.iu)){if(this.dir==1)c.x=0;
if(this.dir==2)c.y=0}J.Pa();c=J.iR(c);var i=new iP(x.x+c.x,x.y+c.y);return i};c$.prototype.ajL=function(K){if(K.l(j6.iu))return this.dir;
return 0};var aI=function(){function K(){this.atF={}}K.ayD=function(E,x){var c=E.clone();c.qW-=Math.floor(c.qW);
c.Ju-=Math.floor(c.Ju);var J=new iP(x,0),i=new iP(0,x),P=c.iR(J),_=c.iR(i),a=new iP(c.qW,c.Ju);return[P,_,a]};
K.aee=function(E,x){var c=iP.B4;return c(E[0],x[0])+c(E[1],x[1])+c(E[2],x[2]);return dsum};K.prototype.atN=function(E){var x=this.atF,c=x[E];
if(c==null)c=x[E]={lf:[],zj:0,O:0,acR:0,akH:0};c.zj=Date.now();while(Object.keys(x).length>3){var J="",i=Date.now();
for(var P in x){var _=x[P].zj;if(_<i){i=_;J=P}}delete x[J]}return c};K.prototype.arz=function(E,x){var c=E.lf,J,i=1e6;
for(var y=0;y<c.length;y++){var P=c[y],_=K.aee(P.Zs,x);if(_<i){J=P;i=_}}return J};K.prototype.ahW=function(E,x){var c=E.lf;
c.push(x);E.O+=x.rect.O();if(c.length>1e3||E.O>100*100*1600){console.log("pruning",E.O,c.length);c.sort(function(i,P){return P.zj-i.zj});
while(c.length>500||E.O>100*100*800){var J=c.pop();E.O-=J.rect.O()}}};return K}();function bL(K,E,x,c,J,i,P,_,a){this.qq=E;
this.V8=x;this.xw=i;this.WX=c;this.fV=null;this.EM=null;this.k2=0;this.a39=0;this.atp=0;this.Sr=0;this.zP=0;
this.Vh=a==null?Math.floor(Math.random()*16777215):a;this.Vx=a==null?Math.floor(Math.random()*16777215):a;
this.yA=new cS;this.F_=new cS;if(_!=null){this.Ly=_}else{var j=bL.axf;if(j.length!=P.O()*4)j=W.Q(P.O()*4);
else j.fill(0);this.Ly=bL.axf=j}this.rect=P.clone();this.yp=[];this.RH=[];this.vw=null;this.U9=0;this.k=null;
this.a3C="";this.kb=null;this.agU(K,J)}bL.axf=W.Q(16);bL.prototype.agU=function(K,E){this.U9=E;this.k=K;
this.a3C=JSON.stringify(K)+JSON.stringify(this.WX.XF);this.kb=bL.a1O(this.k,this.qq,this.V8)};bL.prototype.moveTo=function(K,E,x){x=this.a3O(x);
this.k2=x;var c=new iP(K,E),J=this.k.Brsh.v.Dmtr.v.val;this.fV=c.clone();this.EM=c.clone();this.vw=c.clone();
this.yp=[K,E];this.RH=[x];if(this.WX.fO!=bL.Rh){var i=this.k.angleDynamics,P=i?i.v.bVTy.v==6:!1;this.dS(P?new cS:this.awD(c,this.a1j(x),x,new iP(0,0)))}this.Sr=c.clone()};
bL.prototype.lineTo=function(K,E,x){x=this.a3O(x);var c=this.yp,J=c.length,i=c[J-2],P=c[J-1];if(K==i&&E==P)return;
var _=this.k.Brsh.v.Dmtr.v.val,a=Math.ceil(_)+1,j=new cS(Math.round(i),Math.round(P),0,0);j.r1(a,a);
var e=new cS(Math.round(K),Math.round(E),0,0);e.r1(a,a);this.yp.push(K,E);this.RH.push(x);J+=2;if(J>=6)this.dS(this.a2q(J))};
bL.prototype.a3O=function(K){if(K==null)K=1;K=Math.max(.05,Math.min(5,K));if(isNaN(K)){alert("Pressure is not a number");
throw"e"}return K};bL.prototype.dS=function(K){this.yA=K;this.F_=this.F_.XN(K)};bL.prototype.finish=function(){var K=this.yp,E=K.length,x;
if(E==4)x=this.ak_(K[E-2],K[E-1],this.RH[(E>>1)-1],!0);if(E>4)x=this.a2q(E+2);if(x)this.dS(x)};bL.prototype.ZS=function(){return this.rect.clone()};
bL.prototype.kq=function(){return this.yA.Sl(this.rect)};bL.prototype.D2=function(){return this.F_.Sl(this.rect)};
bL.prototype.fe=function(){return this.Ly};bL.prototype.a2q=function(K){var E=this.yp,x=this.RH,c=E[K-6],J=E[K-5],i=E[K-4],P=E[K-3],_=x[(K>>1)-3],a=x[(K>>1)-2],j=new iP(0,0),e=new iP(0,0);
if(8<=K)j=bL.aty(E[K-8],E[K-7],c,J,i,P);if(K<=E.length)e=bL.aty(E[K-2],E[K-1],i,P,c,J);var d=c+j.x,I=J+j.y,v=i+e.x,n=P+e.y,C=new cS,T=this.agO()?1:10;
for(var y=0;y<T;y++){var o=(y+1)/T,s=1-o,Q=s*s*s*c+3*o*s*s*d+3*o*o*s*v+o*o*o*i,X=s*s*s*J+3*o*s*s*I+3*o*o*s*n+o*o*o*P,B=this.ak_(Q,X,_+o*(a-_));
C=C.XN(B)}return C};bL.aty=function(K,E,x,c,J,i){var P=K-x,_=E-c,a=J-x,j=i-c,e=Math.sqrt(P*P+_*_),d=Math.sqrt(a*a+j*j),I=Math.acos((P*a+_*j)/(e*d))/Math.PI,v=.35,n=.1;
I=n+I*(v-n);var C=J-K,T=i-E,o=Math.sqrt(C*C+T*T),s=I*d/o;return new iP(C*s,T*s)};bL.prototype.ak_=function(K,E,x,c){var J=new cS,i=this.WX.a4O;
if(i==null)i=0;if(i==0||c){J=this.auO(K,E,x);return J}var P=this.vw,_=K-P.x,a=E-P.y,j=Math.sqrt(_*_+a*a);
_/=j;a/=j;if(j>i){var e=P.x+_*(j-i),d=P.y+a*(j-i);J=this.auO(e,d,x);this.vw.tn(e,d)}return J};bL.prototype.agO=function(){var K=this.k,E=K.Brsh.v.Dmtr.v.val;
return this.WX.XF&&E==1};bL.prototype.auO=function(K,E,x){var c=new cS,J=new iP(K,E),i=this.WX.fO,P=J.aZ(this.EM);
P.normalize(1);var _=iP.B4(this.EM,J),a=-this.a39,j=this.EM.clone();if(this.agO()){if(_>.99){var e=this.EM;
bL.ah7(e,J,this.Ly,this.rect,this.lv(this.k));c=W.p.Uz([e.x,e.y,J.x,J.y]);a=_}else J=this.EM}else while(!0){var d=this.k2+(x-this.k2)*(Math.max(0,a)/_),I=this.a1j(d),v=this.a0C()*(I+this.atp)/2*this.kb.av8;
if(i==bL.Rh)v=1;v=Math.max(v,.5);if(a+v<_){a+=v;this.zP+=v;var n=new iP(this.EM.x+P.x*a,this.EM.y+P.y*a),o=1;
if(i==bL.Rh){var C=j.clone();C.x+=P.x>0?1:-1;var T=j.clone();T.y+=P.y>0?1:-1;if(iP.B4(C,n)<iP.B4(T,n))n=C;
else n=T;a=iP.B4(n,this.EM)}if(this.k.useScatter.v==!0){o=this.k.Cnt.v;var s=this.k.countDynamics.v.jitter.v.val/100,Q=s*(-1+2*this.Hv());
o+=Math.round(o*Q)}for(var y=0;y<o;y++){var X=this.awD(n,I,x,P);c=c.XN(X)}j=n}else break}this.a39=_-a;
this.EM=J;this.k2=x;return c};bL.prototype.a0C=function(){var K=this.k.Brsh.v,E=K.Spcn.v.val,x=Math.max(5,K.Rndn.v.val);
return x/100*(E/100)};bL.prototype.a1j=function(K){var E=this.k,x=E.Brsh.v.Dmtr.v.val;if(E.useTipDynamics.v){var c=x*(E.minimumDiameter.v.val/100);
x=c+(x-c)*(1-this.Hv(this.Vx)*(E.szVr.v.jitter.v.val/100));x*=bL.i4(E,"szVr",K,this.zP)}return x};bL.i4=function(K,E,x,c){var J=1,i=K[E].v,P=i.bVTy.v,_=i.fStp.v;
if(P==1)J*=Math.max(0,(_-c)/_);if(P==2)J*=x;return J};bL.prototype.awD=function(K,E,x,c){var J=this.WX.S5,C=0;
J=Math.min(1,J);var i=this.k,P=this.k.Brsh.v,_=P.Dmtr.v.val,a=this.WX,j=a.fO,e=a.aeE,d=this.kb.gW[1],I=new iQ;
I.translate(-d.b/2,-d.n/2);I.scale(1/this.kb.alu,1/this.kb.alu);I.scale(E/_,E/_);I.scale(1,Math.max(5,P.Rndn.v.val)/100);
if(i.usePaintDynamics&&i.usePaintDynamics.v){var v=i.opVr.v.jitter.v.val/100,n=i.prVr.v.jitter.v.val/100;
J*=1-this.Hv()*v;J*=1-this.Hv()*n;J*=bL.i4(i,"opVr",x,this.zP)*bL.i4(i,"prVr",x,this.zP)}if(i.useTipDynamics.v){var T=i.angleDynamics.v,o=i.minimumRoundness.v.val/100;
I.scale(1,o+(1-o)*Math.round(100-this.Hv()*i.roundnessDynamics.v.jitter.v.val)/100);C+=(-.5+this.Hv())*4*Math.PI*(T.jitter.v.val/100);
C+=bL.i4(i,"angleDynamics",x,this.zP)*2*Math.PI;if(T.bVTy.v==6)C+=Math.atan2(-c.y,c.x)}C+=P.Angl.v.val*(Math.PI/180);
I.rotate(C);if(i.useScatter.v){var s=(-1+2*this.Hv())*i.scatterDynamics.v.jitter.v.val/100;I.translate(-s*E*c.y,s*E*c.x)}I.translate(K.x,K.y);
var Q=this.alw(I,K,E),X=Q.rect.clone();if(j==null){var B=this.lv(i);W._m(Q.j$,Math.round(B.k*255)<<16|Math.round(B.J*255)<<8|Math.round(B.o*255)<<0,4278190080);
if(this.F_.um()&&this.rect.ac(Q.rect)&&J==1)this.Ly=Q.j$.slice(0);else{var M=-1,S=2,f=-1,F=2;if(!a.W3){M=f=0;
S=F=1}for(var G=f;G<F;G++)for(var D=M;D<S;D++){var b=Q.rect.clone();b.x+=D*this.rect.b;b.y+=G*this.rect.n;
if(b.iw(this.rect)){X=X.XN(b);W.h.amb(Q.j$,b,this.Ly,this.rect,b,J)}}}}if(j==bL.Rh){var H=new iP(Q.rect.x+Q.rect.b/2,Q.rect.y+Q.rect.n/2),q=Math.round(H.x-this.Sr.x),O=Math.round(H.y-this.Sr.y),w=Q.rect.clone();
w.offset(-q,-O);var V=w.Sl(this.rect);V.offset(q,O);W.UL(this.Ly,this.rect,Q.j$,w);W.h.UK(Q.j$,Q.rect,this.Ly,this.rect,Q.vP,Q.rect,J)}if(j==bL.ei||j==bL.Uk||j==bL.zO){var t=Q.rect.Sl(this.rect),m;
if(t.ac(Q.rect))m=Q.vP;else{m=W.Q(t.O());W.XT(Q.vP,Q.rect,m,t)}var g=W.Q(t.O()*4);W.UL(this.Ly,this.rect,g,t);
if(j==bL.Uk){var Y=g.slice(0),A=W.vm.vM([-1,-1,-1,-1,25,-1,-1,-1,-1]);W.vm.z3(g,Y,t.b,t.n,A,0);W.dq(Y,g)}else if(j==bL.zO){var k=dJ.JQ("UnsM");
k.Amnt.v.val=15;k.Thsh.v=0;k.Rds.v.val=5;var Y=W.Q(g.length);dJ.as("UnsM",{buffer:g,rect:t},k,0,0,{buffer:Y,rect:t});
W.dq(Y,g)}else{dJ.uh(1,W.HL.C9,g,t)}W.h.UK(g,t,this.Ly,this.rect,m,t,J)}this.atp=E;this.Sr=H;this.Vx++;
return X};bL.prototype.lv=function(K){var E=bL.adu(this.U9);if(K.useColorDynamics&&K.useColorDynamics.v){var x=1-this.Hv()*K.clVr.v.jitter.v.val/100,c=bL.adu(this.xw);
E.o=x*E.o+(1-x)*c.o;E.J=x*E.J+(1-x)*c.J;E.k=x*E.k+(1-x)*c.k;var J=(-.5+this.Hv())*K.H.v.val/100,i=(-1+2*this.Hv())*K.Strt.v.val/100,P=(-1+2*this.Hv())*K.Brgh.v.val/100,_=W.Rv(E.o,E.J,E.k);
_.o4=(_.o4+J+1)%1;_.hV=_.hV+i;if(_.hV<0)_.hV=-_.hV;if(_.hV>1)_.hV=1-(_.hV-1);_.W8=_.W8+P;if(_.W8<0)_.W8=-_.W8;
if(_.W8>1)_.W8=1-(_.W8-1);E=W.lx(_.o4,_.hV,_.W8)}return E};bL.prototype.Pq=function(K){return Math.max(0,Math.min(1,K))};
bL.prototype.Hv=function(K){if(K==null){K=this.Vh++}return bL.hash(K)};bL.adu=function(K){return{o:(K>>16&255)/255,J:(K>>8&255)/255,k:(K>>0&255)/255}};
bL.hash=function(K){K=K^61^K>>16;K=K+(K<<3);K=K^K>>4;K=K*668265261;K=K^K>>15;return(K&16777215)/16777215};
bL.a68=new aI;bL.prototype.alw=function(K,E,x){var c=Math.sqrt(this.kb.gW[1].O()),J=c*K.pA(),i=J<10?1:J<50?1.5:J<200?3:8;
if(J<30)i=0;var P=bL.a68,_=P.atN(this.a3C),a=this.WX.XF;if(a){K=K.clone();K.qW=Math.floor(K.qW);K.Ju=Math.floor(K.Ju)}var j=aI.ayD(K,c),e=P.arz(_,j);
if(e&&aI.aee(e.Zs,j)>i)e=null;if(e){e.rect.x=Math.round(e.a5$.x+K.qW);e.rect.y=Math.round(e.a5$.y+K.Ju);
if(a){e.rect.x=Math.round(E.x-e.rect.b/2);e.rect.y=Math.round(E.y-e.rect.n/2)}e.zj=Date.now()}else{var d=Math.round(this.k.Brsh.v.Dmtr.v.val),I;
if(a&&d<=3){I={channel:W.Q(d*d),rect:new cS(Math.round(E.x-d/2),Math.round(E.y-d/2),d,d)};I.channel.fill(255)}else if(K.Cc==1&&K.k==0&&K.o0==0&&K.Ga==1){I={channel:this.kb.gW[0],rect:this.kb.gW[1].clone()};
I.rect.x=Math.round(K.qW);I.rect.y=Math.round(K.Ju)}else{I=$.Xq.a6b(this.kb.gW,K)}if(a){for(var y=0;
y<I.channel.length;y++)I.channel[y]=I.channel[y]>127?255:0}if(I==null)I={channel:W.Q(0),rect:new cS};
e={j$:W.Q(I.rect.O()*4),vP:I.channel,rect:I.rect,a5$:new iP(I.rect.x-K.qW,I.rect.y-K.Ju),Zs:j,zj:Date.now()};
W.Mz(e.vP,e.j$,3);if(_)P.ahW(_,e)}return e};bL.a1O=function(K,E,x){var c,J,i,P=K.Brsh.v.Dmtr.v.val,_=K.Brsh.v.classID;
if(_=="computedBrush"){var a=K.Brsh.v.Hrdn.v.val/100;J=P<100?1.4:1;i=1;c=W.aqf.ap3(P,a,J)}if(_=="sampledBrush"){var j;
for(var y=0;y<E.length;y++)if(E[y].id==K.Brsh.v.sampledData.v)j=E[y];c=j.gW;var e=c[1];J=Math.max(e.b,e.n)/P;
i=Math.min(e.b,e.n)/Math.max(e.b,e.n)}return{alu:J,av8:i,gW:c}};bL.T=null;bL.gI=null;bL.yi=function(K,E,x,c,J,i){var P=bL.T,_=bL.gI;
if(P==null){bL.T=P=document.createElement("canvas");bL.gI=_=P.getContext("2d")}if(i==null)i=c;if(P.width!=i||P.height!=J){P.width=i;
P.height=J}else _.clearRect(0,0,i,J);_.fillStyle="#000000";_.font=Math.floor(10*$.V())+"px sans-serif";
var a=K.Brsh.v.Dmtr.v.val,j=""+a,e=K.useBrushSize;if(e&&e.v)j="---";var d=_.measureText(j);_.fillText(j,(c-d.width)/2,J-2);
var I=c,v=J-10*$.V(),n=Math.min(I,v),C=K.Brsh.v.classID;if(C=="computedBrush"){_.translate(I/2,v/2);
_.rotate(-K.Brsh.v.Angl.v.val*Math.PI/180);_.scale(1,.1+.9*K.Brsh.v.Rndn.v.val/100);var T=Math.min(.95*n/2,a/2)+.5,o=.9*K.Brsh.v.Hrdn.v.val/100,s=_.createRadialGradient(0,0,0,0,0,T);
s.addColorStop(o,"rgba(0,0,0,1)");s.addColorStop((.5+o)/1.5,"rgba(0,0,0,.5)");s.addColorStop(1,"rgba(0,0,0,0)");
_.fillStyle=s;_.fillRect(-T,-T,2*T,2*T);_.setTransform(1,0,0,1,0,0)}else if(C=="sampledBrush"){var X,F=0;
for(var y=0;y<E.length;y++)if(E[y].id==K.Brsh.v.sampledData.v)X=E[y];var B=X.gW;W.Oi(B);var M=B[0],S=B[1].b,f=B[1].n;
while((S>I||f>v)&&B[F+2]){F+=2;M=B[F];S=B[F+1].b;f=B[F+1].n}if(S*f!=0){var G=W.Q(S*f*4);W.Mz(M,G,3);
var D=new ImageData(new Uint8ClampedArray(G.buffer),S,f);_.putImageData(D,Math.round((I-S)/2),Math.round((v-f)/2))}}else{}return P.toDataURL()};
bL.ap=function(K,E,x,c){if(x==0)x=1;var J=K.Brsh.v,i=J.Dmtr.v.val,P=J.Dmtr.v.val=Math.min(c!=null?Math.round(c*2.6):3e3,i*x),_=J.Hrdn?J.Hrdn.v.val/100:1,a=c!=null?c:Math.round(P*(1+.55*(1-_)))+4,d;
a=Math.max(15,Math.min(a,3e3));var j=new cS(0,0,a,a),e=new bL(K,E,null,{S5:1},16711712,0,j);J.Dmtr.v.val=i;
e.moveTo(j.b/2,j.n/2);var I=e.fe(),v=e.ZS();if(j.ac(v))d=I;else{d=W.Q(j.O()*4);W.UL(I,v,d,j)}return[d,j,P]};
bL.a3A=function(K,E,x,c){var J=E.b,i=J>>>1;for(var y=0;y<4;y++){var P=6-y;K[J*(i-P)+i-1]=c;K[J*(i-P)+i]=x;
K[J*(i-P)+i+1]=c;K[J*(i+P)+i-1]=c;K[J*(i+P)+i]=x;K[J*(i+P)+i+1]=c;K[J*(i-1)+i-P]=c;K[J*i+i-P]=x;K[J*(i+1)+i-P]=c;
K[J*(i-1)+i+P]=c;K[J*i+i+P]=x;K[J*(i+1)+i+P]=c}};bL.YL=function(K,E,x,c){var J=bL.ap(K,E,x),i=J[0].slice(0),P=J[1],_=J[2],a=P.O(),j=W.Q(a);
W.Bp(i,j,3);var e=W.Q(a);W.P.aw5(j,e,P,$.V()>1.9);if(_<3||W.SN(e,0)||c&&_>12){bL.a3A(e,P,255,0)}var d=[3,5,3,4,8,4,3,5,3];
d=W.vm.vM(d);W.vm.q0(e,j,P.b,P.n,d);W._m(i,4294967295);W.Mz(j,i,3);for(var y=0;y<a;y++)if(e[y]==255){i[y<<2]=i[(y<<2)+1]=i[(y<<2)+2]=0;
i[(y<<2)+3]=255}return{Dr:i,ZE:P,mJ:new iP(P.b/2,P.n/2)}};bL.ah7=function(K,E,x,c,J){var i=4278190080|Math.round(J.k*255)<<16|Math.round(J.J*255)<<8|Math.round(J.o*255)<<0;
x=new Uint32Array(x.buffer);var P=Math.floor(K.x),_=Math.floor(K.y),a=Math.floor(E.x),j=Math.floor(E.y),e=Math.abs(a-P),d=Math.abs(j-_),I=P<a?1:-1,v=_<j?1:-1,n=e-d;
while(!0){x[_*c.b+P]=i;if(P==a&&_==j)break;var C=2*n;if(C>-d){n-=d;P+=I}if(C<e){n+=e;_+=v}}};bL.Rh="0";
bL.ei="1";bL.Uk="2";bL.zO="3";var cl={};cl.jY=function(K,E,x){if(x==null)x=!0;var c=K.add.TySh,J=new dQ(c.kd,E),i=cl.mE(J,c);
K.vJ.path=i.path;K.vJ.gW=[i.Ly,i.ZE];W.gX(K.vJ.gW);K.vJ.Il=i.ZE.clone();if(x){K.rect=i.ZE;K.buffer=i.Ly;
K.U()}return[J,i]};cl.mE=function(K,E){var x=K.Ds(),P=0,j;if(x.x==Infinity||x.um())return{Ly:W.Q(0),ZE:new cS,T6:new cS};
var c=K.Ds(),J=cl.Ol(K,E),i=W.p.Uz(J.C);for(var y=0;y<K.BY.length;y++){var _=K.BY[y].uY;if(_.StrokeFlag&&_._LineWidth)P=Math.max(P,Math.ceil(E.u.pA()*_._LineWidth/2))}i.r1(P,P);
if(i.um())return{Ly:W.Q(0),ZE:new cS,T6:new cS};var a=W.G3(i.b,i.n);a.translate(-i.x,-i.y);cl.aoB(J,a);
if(K.BY.length!=0){var e=ev.la(E),d=a.getImageData(0,0,i.b,i.n);j=new Uint8Array(d.data.buffer);if(e==0)for(var y=0;
y<j.length;y+=4)j[y+3]=j[y+3]>80?255:0;if(e==3)for(var y=0;y<j.length;y+=4)j[y+3]=Math.min(255,j[y+3]*1.5)}else j=W.Q(i.O()*4);
a.resetTransform();a.beginPath();return{Ly:j,ZE:i,T6:c,path:J}};cl.Ol=function(K,E){var x=E.u,c=E.kd;
cl.Ag=x.pA();var J=ev.la(E),i=Math.max(x.k*x.k,x.o0*x.o0)<1e-9?x:null;if(J==3||J==4)i=null;var P={W:[],C:[]};
cl.aoW(K,P,i,!0);cl.aoW(K,P,i,!1);P=cl.ND(P,E,K);return P};cl.Ag=1;cl.ND=function(K,E,x){if(K==null)return K;
if(x&&x.ay)W.p.u(K.C,x.ay,K.C);if(x&&!W.HA.eS(E.K_)){var c=ev.ZS(E,x);if(!c.um()){if(K.W){K=W.p._n(K);
var J=Math.min(c.b,c.n)/8;if(J<1)J=1;K=W.p.nL(K,J)}var i=W.HA.q5(E.K_,c);W.HN.u(i,K.C,c)}}var P=E.u;
W.p.u(K.C,P,K.C);return K};cl.aoB=function(K,E){E.save();E.miterLimit=2;Typr.U.pathToContext({crds:K.C,cmds:K.W},E);
E.restore()};cl.nf=function(K,E,x){var c=dQ.a7p(x),J=K.kd,i=J.ResourceDict.FontSet,P=J.ResourceDict.StyleSheetSet[0].StyleSheetData,_=J.EngineDict.StyleRun.RunLengthArray,a=J.EngineDict.StyleRun.RunArray,j=ev.w1(J),e=!0,d={},I=0;
for(var y=0;y<a.length;y++){var v=a[y].StyleSheet.StyleSheetData.Font;if(v==null)v=P.Font;for(var n=0;
n<_[y];n++){var C=j.charCodeAt(I+n),T=v+","+(C>128?C:-1);if(d[T]==null){d[T]=1;if(E.i2(i[v].Name,C)==null)e=!1}}I+=_[y]}return e&&c};
cl.pZ=function(K,E,x){var c=!0;for(var J=0;J<K.B.length;J++){var i=K.B[J],P=i.add.TySh;if(P!=null&&!cl.nf(P,E,x))c=!1}return c};
cl.ah3=function(K,E,x){for(var c=0;c<K.B.length;c++){var J=K.B[c],i=J.add.TySh;if(i!=null&&cl.nf(i,E,x)){cl.jY(J,E);
K.U()}}};cl.aoW=function(K,E,x,c){var J=new iQ;for(var y=0;y<K.sn.length;y++)cl.ayo(K.BY,K.sn[y],E,J,x,c)};
cl.ayo=function(K,E,x,c,J,i){c.translate(E.Th.x,E.Th.y);for(var y=0;y<E.R$.length;y++){var P={},_=E.R$[y];
if(!_.hv)break;var a=c.clone();a.translate(_.Th.x,_.Th.y);if(J){var j=J.Ju+a.Ju*J.Ga;a.Ju=(Math.round(j)-J.Ju)/J.Ga}for(var e=_.start;
e<_.end;e++)cl.awF(K,E.YW[e],E,P,x,a,i)}c.translate(-E.Th.x,-E.Th.y)};cl.a9q="()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
cl.awF=function(K,E,x,c,J,i,P){i.translate(E.Th.x,E.Th.y);for(var _=E.iv;_<=E.ck;_++){var a=x.xZ[_],j=a.ZE.b,e=K[x.amQ+a.xd],d=e.uY._FillBackgroundFlag;
if(e.Zj=="\n"||P&&!d)continue;var I=e.uY.FontSize/e.dH.head.unitsPerEm,v=i.clone();v.translate(a.Th.x+a.vr*I,a.Th.y-a.g9*I);
var n=new iQ;n.scale(I,-I);if(e.Yd==1&&cl.a9q.indexOf(e.Zj)!=-1)n.concat(new iQ(-1,0,0,1,j,0));if(e.uY.FauxItalic)n.concat(new iQ(1,0,-Math.tan(.18),1,0,0));
n.translate(0,e.LH);n.scale(e.scale.x,e.scale.y);if(e.uY.BaselineShift!=null)n.translate(0,-e.uY.BaselineShift);
if(a.Zm!=0){n.rotate(-a.Zm)}n.concat(v);var C=(e.uY._LineWidth?e.uY._LineWidth:1)*cl.Ag;if(P){J.W.push(cl.lv(e.uY._FillBackgroundColor));
var T=1.005*a.ZE.n/I,o=new cS(-a.vr,-T*.27,1.03*a.ZE.b/(I*e.scale.x),T);if(e.uY.StrokeFlag)o.r1(C/I,C/I);
W.p.concat(J,W.p.VD(o),n);J.W.push("X");continue}if(e.uY.FillFlag)J.W.push(cl.lv(e.uY.FillColor));if(e.uY.StrokeFlag)J.W.push("O-"+cl.lv(e.uY.StrokeColor)+"-"+C);
if(a.path.W.length!=0&&e.Zj!="\t"){if(e.uY.FauxBold){var s=e.uY.FontSize/2048*27*e.scale.x;n.qW+=s;W.p.concat(J,a.path,n);
n.qW-=s+s;W.p.concat(J,a.path,n)}else W.p.concat(J,a.path,n)}if(e.Zj!="\n"){if(e.uY.Underline){if(c.Mm==null)c.Mm=e.dH.post.underlineThickness;
if(c.amU==null)c.amU=e.dH.post.underlinePosition;var Q=0,X=c.amU-c.Mm/2,B=a.H9*1.05,M=-c.Mm;W.p.concat(J,{W:["M","L","L","L","Z"],C:[Q,X,Q+B,X,Q+B,X+M,Q,X+M]},n)}if(e.uY.Strikethrough){var S=e.dH["OS/2"].yStrikeoutSize,f=e.dH["OS/2"].yStrikeoutPosition,Q=0,X=f+S/2,B=a.H9*1.05,M=-S;
W.p.concat(J,{W:["M","L","L","L","Z"],C:[Q,X,Q+B,X,Q+B,X+M,Q,X+M]},n)}}if(e.uY.FillFlag)J.W.push("X");
if(e.uY.StrokeFlag)J.W.push("OX")}i.translate(-E.Th.x,-E.Th.y)};cl.lv=function(K){var E=ev.Et(K),x=(Math.round(E.o)<<16)+(Math.round(E.J)<<8)+Math.round(E.k);
return"#"+W.E8(x)};function dQ(K,E){var x=ev.p1(K),c,J,i=ev.Cn(K),P=K._LineOrientation==2?new iQ:null,e,I;
if(K.Curve)J=dQ.zY(K.Curve);if(x!=0){c=new cS(i[0],i[1],i[2],i[3]);if(P){var _=c.b;c.b=c.n;c.n=_;P.translate(0,-i[2])}if(x==2){c.b=J[5]-J[4];
c.n=9999}}this.sn=[];this.BY=[];this.cl=x;this.ay=P;var a=this.agp=ev.w1(K),j=-1,d=-1;for(var y=0;y<a.length;
y++){var v=e,n=ev.a3s(K,y);if(n!=j){j=n;v=e=ev.atX(K,n)}var C=I,n=ev.ah$(K,y);if(n!=d){d=n;C=I=ev.agK(K,n)}var T={Zj:a.charAt(y),uY:v,dH:null,Dk:-1,y1:ev.abU(K,y),LH:0,scale:new iP(0,0),YY:0,lineHeight:0,Yd:0},o=K.ResourceDict.FontSet[v.Font].Name,s=T.dH=E.i2(o,a.charCodeAt(y));
T.scale.x=v.HorizontalScale==null?1:v.HorizontalScale;T.scale.y=v.VerticalScale==null?1:v.VerticalScale;
var Q=s["OS/2"],X=s.hhea;if(v.FontCaps==1&&T.Zj!=T.Zj.toUpperCase()){var B=Q.sxHeight?Q.sxHeight/Q.sTypoAscender:.76;
T.scale.x*=B;T.scale.y*=B}var M=1/s.head.unitsPerEm*v.FontSize;if(v.FontBaseline==1){var B=K.ResourceDict.SuperscriptSize;
T.scale.x*=B;T.scale.y*=B;T.LH-=K.ResourceDict.SuperscriptPosition*v.FontSize}if(v.FontBaseline==2){var B=K.ResourceDict.SubscriptSize;
T.scale.x*=B;T.scale.y*=B;T.LH+=K.ResourceDict.SubscriptPosition*v.FontSize}T.YY=dQ.YY(s)*v.FontSize;
var S=C.AutoLeading;T.lineHeight=v.FontSize*(S==null?1.2:S);if(v.AutoLeading==!1)T.lineHeight=v.Leading;
if(T.lineHeight==0)T.lineHeight=.01;this.BY.push(T)}var f=this.sn,F=[0];for(var y=0;y<K.EngineDict.ParagraphRun.RunLengthArray.length;
y++){var G=new dQ.ZC(K,E,this.BY,y,c,F,x==1?J:null);f.push(G)}if(P){if(x==0)P.translate(0,f[0].YW[0].YY/2);
P.rotate(-Math.PI/2)}if(x==2){var D=K.Curve.Points,b=J[0],H=J[1],q=J[2],O=J[3],w=J[4],V=J[5];for(var y=0;
y<f.length;y++)for(var t=0;t<f[y].R$.length;t++)if(!(y==0&&t==0))f[y].R$[t].hv=!1;var G=f[0],m=G.R$[0];
G.Th.tn(0,0);m.Th.tn(0,0);for(var t=m.start;t<m.end;t++){var g=G.YW[t],Y=g.Th.x;g.Th.x=0;for(var A=g.iv;
A<=g.ck;A++){var k=G.xZ[A],z=k.ZE.b/2;k.Th.x+=Y;var p=dQ.anU(b,(w+k.Th.x+z)%O);k.Th.x=p[0]-z*p[2];k.Th.y=p[1]-z*p[3];
k.Zm=Math.atan2(p[3],p[2])}}}}dQ.YY=function(K){var E=K._hh;if(E==null){var x=Typr.U,c=x.codeToGlyph(K,104),J=W.p.hp(Typr.U.glyphToPath(K,c).crds).n;
E=K._hh=J*(1/K.head.unitsPerEm)}return E};dQ.prototype.au0=function(){return!this.alP(0)};dQ.prototype.arR=function(){return this.alP(1)};
dQ.prototype.alP=function(K){var E=this.sn,x=!0,c=0;for(var y=0;y<E.length;y++){var J=E[y].R$,i=J.length;
c+=i;for(var P=0;P<i;P++)x&=J[P].hv}return[x,c][K]};dQ.zY=function(K,E,x){if(E==null)E=.25;var c=K.Points,J=c.length,i=J>>>3,P=K.TextOnPathTRange,_=K.Reversed,I=0,v=0;
if(_){var a=c.slice(0);for(var y=0;y<J;y+=2){a[y]=c[J-2-y];a[y+1]=c[J-1-y]}c=a;P=[i-P[1]%i,i-P[0]%i]}var j=[],e=[0],d=[0];
for(var y=0;y<J;y+=8){var n=c[y+6]-c[y+0],C=c[y+7]-c[y+1],T=Math.round(Math.sqrt(n*n+C*C)/E),o=x&&y==J-8?T+1:T;
for(var s=0;s<o;s++){var Q=s/T,X=1-Q,B=X*X*X*c[y+0]+3*X*X*Q*c[y+2]+3*X*Q*Q*c[y+4]+Q*Q*Q*c[y+6],M=X*X*X*c[y+1]+3*X*X*Q*c[y+3]+3*X*Q*Q*c[y+5]+Q*Q*Q*c[y+7];
j.push(B,M);if(y+s!=0){var n=B-I,C=M-v;d.push(d[d.length-1]+Math.sqrt(n*n+C*C));e.push((y>>>3)+Q)}I=B;
v=M}}var E=d.length,S=d[E-1],f=dQ.CH(P[0]%i,e),F=dQ.CH(P[1]%i,e),G=d[f%E],D=d[F%E];if(G>=D)D+=S;return[j,e,d,S,G,D]};
dQ.CH=function(K,E){var y=0;while(E[y]<K)y++;return y};dQ.anU=function(K,E){var x=0,y=0,c,J,i;while(x<E){c=K[y+2]-K[y];
J=K[y+3]-K[y+1];i=Math.sqrt(c*c+J*J);x+=i;y+=2}return[K[y],K[y+1],c/i,J/i]};dQ.prototype.ay6=function(K){return this.BY[K]};
dQ.prototype.ad2=function(K){for(var E=0;E<this.sn.length;E++){var x=this.sn[E];for(var c=0;c<x.R$.length;
c++){var J=x.R$[c],i=x.YW[J.start].start,P=x.YW[J.end-1].end;if(i<K&&K<P)return[i,P-1]}}return[0,1]};
dQ.prototype.a1V=function(K,E){var x=-1,c=this.sn;if(this.cl==2){var J=1e9,i=0,P=c[0],_=P.R$[0];for(var a=_.start;
a<_.end;a++){var j=P.YW[a];for(var e=j.iv;e<=j.ck;e++){var d=P.xZ[e],I=d.ZE.b,v=K.x-d.Th.x,n=K.y-d.Th.y,C=v*v+n*n;
if(C<J){J=C;i=d.xd}}}if(i!=0&&this.agp.codePointAt(i-1)>65535)i--;return i}for(var T=0;T<c.length;T++){var P=c[T];
for(var o=0;o<P.R$.length;o++){x++;var _=P.R$[o],s=P.R$[o+1];if(s==null&&T<c.length-1)s=c[T+1].R$[0];
if(E!=null){if(x!=E)continue}else{if(s!=null&&P.Th.y+_.Th.y<K.y)continue}for(var a=_.start;a<_.end;a++){var j=P.YW[a];
for(var e=j.iv;e<=j.ck;e++){var d=P.xZ[e],I=d.ZE.b,Q=P.Th.x+_.Th.x+j.Th.x,X=Q+d.Th.x,B=Q+(e<j.ck?P.xZ[e+1].Th.x:d.Th.x+I);
if(K.x<=B||a+1==_.end&&e==j.ck){var M=P.amQ+d.xd,S=this.BY[M],f=S.Yd&1;if(S.Zj!="\n"&&(f==0&&K.x>X+I/2||f==1&&K.x<X+I/2))M+=this.agp.codePointAt(M)>65535?2:1;
return M}}}}}};dQ.prototype.Za=function(K){var E={ZE:new cS,fN:0},x=0;for(var c=0;c<this.sn.length;c++){var J=this.sn[c];
for(var i=0;i<J.R$.length;i++){var P=J.R$[i];E.fN=x;x++;for(var _=P.start;_<P.end;_++){var a=J.YW[_];
for(var j=a.start;j<a.end;j++){if(j==K){var e=this.BY[j],d=e.Dk,I=J.xZ[d].xd,v=1;while(J.xZ[d]!=null&&J.xZ[d].xd==I){var n=J.xZ[d],C=J.Th.x+P.Th.x+a.Th.x+n.Th.x,T=J.Th.y+P.Th.y+a.Th.y+n.Th.y;
E.ZE=E.ZE.XN(new cS(C,T-e.lineHeight,n.ZE.b,e.lineHeight));E.Zm=n.Zm;d+=v}return E}}}}}};dQ.prototype.Ds=function(){var K=Infinity,E=Infinity,x=-Infinity,c=-Infinity;
for(var y=0;y<this.sn.length;y++){var J=this.sn[y];for(var i=0;i<J.R$.length;i++){var P=J.R$[i];if(!P.hv)break;
for(var _=P.start;_<P.end;_++){var a=J.YW[_];for(var j=a.iv;j<=a.ck;j++){var e=J.xZ[j],d=e.ZE,I=J.Th.x+P.Th.x+a.Th.x+e.Th.x,v=J.Th.y+P.Th.y+a.Th.y+e.Th.y;
K=Math.min(K,I+d.x);E=Math.min(E,v+d.y);x=Math.max(x,I+d.x+d.b);c=Math.max(c,v+d.y+d.n)}}}}return new cS(K,E,x-K,c-E)};
dQ.Bu=function(K){return 19968<=K&&K<=40959||12288<=K&&K<=12543};dQ.a18=function(K,E,x,c,J,i,P){var _=[i],a=0;
for(var y=i;y<P;y++){if(x[y]==null)console.log(y,i,P,x);var j=x[y].Zj,e=j.charCodeAt(0);if(e==32||e==9){_.push(a,y,1,y+1);
a=0}else if(e==3851){_.push(a+1,y+1);a=0}else if(dQ.Bu(e)){_.push(a,y);a=1}else if(y!=i&&x[y].Yd!=x[y-1].Yd){_.push(a,y);
a=1}else a++}_.push(a);var d=[];for(var y=0;y<_.length;y+=2){var I=_[y],v=_[y+1];if(v==0)continue;d.push(new dQ.a1K(K,E,x,c,J,I,v))}return d};
dQ.aiJ=function(K,E,x,c,J,i,P){var _=[0,E?E.b:1e9],a=[];if(c){var j=K[i].YY,e=J+(J==0?j:K[i].lineHeight),d=e-j*.9,I=W.p.Vc(c[0],d),v=I.length,n=W.p.Vc(c[0],e),C=n.length;
if(v!=0&&C!=0){var T=0,o=0,s=[];while(T<v&&o<C){var Q=Math.max(I[T],n[o]),X=I[T+1],B=n[o+1],M=Math.min(X,B);
if(Q<M)s.push(Q,M);if(X<B)T+=2;else o+=2}if(s.length!=0)_=s}}for(var S=0;S<_.length;S+=2){var f=0,F=i,G=E?_[S+1]-_[S]-x.StartIndent-x.EndIndent-(i==0?x.FirstLineIndent:0):Infinity;
while(i!=K.length){var D=K[i],b=f==0||(D.zi||D.UB)||f+D.ZE.b<G;if(!b)break;f+=D.ZE.b;i++}a.push(i-F)}P[0]=a;
P[1]=_;P[2]=i};dQ.asl=function(K,E){var x=K.length,c=new Uint32Array(x),J=new Uint8Array(x),i=0;for(var y=0;
y<x;y++){J[y]=0;var P=K.charCodeAt(y);c[y]=P;if(P>i)i=P}if(i>1424)J=dQ.a6a(c,E);return J};dQ.afB=function(K){return K=="\xDF"?K:K.toUpperCase()};
dQ.ZC=function(K,E,x,c,J,i,P){this.YW=[];this.R$=[];this.Th=new iP(0,0);this.xZ=null;this.YW=null;this.uY=ev.agK(K,c);
var _=this.uY,d=0,n="",Q=0,X=1,k=0;if(c!=0){var a=_.SpaceBefore;if(a!=null)i[0]+=a}var j=K.EngineDict.ParagraphRun.RunLengthArray,e=j[c];
for(var y=0;y<c;y++)d+=j[y];var I=_._Direction?_._Direction:0;this.amQ=d;var v=ev.w1(K).slice(d,d+e);
for(var C=0;C<v.length;C++){var T=v.charAt(C);n+=x[d+C].uY.FontCaps==0?T:dQ.afB(T)}v=n;var o=dQ.asl(v,I),s=[],B=o[y]&1,M=x[d].dH;
x[d].Yd=o[0];for(var y=1;y<v.length;y++){var T=x[d+y],S=o[y];T.Yd=S;if(S!=B||T.dH!=M){s.push(Q,X);Q=y;
X=1;B=S;M=T.dH}else X++}s.push(Q,X);var f=this.xZ=[];for(var y=0;y<s.length;y+=2){var F=s[y],G=s[y+1],D=(x[d+F].Yd&1)==0,b=v.slice(F,F+G),H=Typr.U.shapeHB(x[d+F].dH,b,D),q=[],V=0;
for(var C=0;C<H.length;C++){var O=H[C];q.push({J:O.g,xd:O.cl,H9:O.ax,HX:O.ay,vr:O.dx,g9:O.dy})}H=q;var w=H.slice(0);
if(!D)w.reverse();for(var C=0;C<b.length;C++){while(V+1<w.length&&w[V+1].xd<=C){V++}while(V>0&&w[V-1].xd==C)V--;
x[d+F+C].Dk=f.length+(D?V:w.length-V-1)}for(var C=0;C<H.length;C++){f.push(H[C]);H[C].xd+=F;var T=x[d+H[C].xd];
if(T.y1!=-1&&T.y1<T.dH.maxp.numGlyphs){H[C].J=T.y1;var t=T.dH.hmtx;if(t){var m=Object.keys(t)[0];H[C].H9=t[m][T.y1]}}if(T.Zj=="\n")H[C].H9=0;
if(T.Zj=="\t")H[C].H9=T.dH.head.unitsPerEm*36/T.uY.FontSize}}var g=ev.Xy(_),Y=this.YW=dQ.a18(K,E,x,d,f,d,d+e),A=this.R$,z=-1,n=[null,null,0];
while(k<Y.length){dQ.aiJ(Y,J,_,P,i[0],k,n);z++;var p={start:k,end:0,ZE:new cS,Th:new iP(0,0),hv:!0},ik=0,hd=0;
A.push(p);p.end=n[2];if(p.start==p.end)throw"e";var L=p.end==Y.length;function N(w,F,is){var bi=is-F>>>1;
for(var y=0;y<bi;y++){var jX=w[F+y];w[F+y]=w[is-1-y];w[is-1-y]=jX}}for(var gC=1;gC<5;gC++){var r=-1;
for(var y=p.start;y<p.end;y++){var S=x[Y[y].start].Yd;if(r==-1&&S>=gC)r=y;else if(r!=-1&&S<gC){N(Y,r,y);
r=-1}}var h=p.end;if(I==0&&Y[h-1].zi)h--;if(r!=-1)N(Y,r,h)}var l=n[0],g5=n[1],r=k,fm=k;for(var dC=0;
dC<g5.length;dC+=2){var ex=J?g5[dC+1]-g5[dC]-_.StartIndent-_.EndIndent-(k==0?_.FirstLineIndent:0):Infinity,cR=0;
r=fm;fm+=l[dC>>>1];var d0=this.abo(r,fm,Y,I,J!=null);if(J){if(g==1||L&&g==4)cR=d0[1]+(ex-d0[0]);if(g==2||L&&g==5)cR=d0[1]+(ex-d0[0])/2;
if(fm-r==1&&Y[r].ZE.b>ex)cR=0;if(z==0)cR+=_.FirstLineIndent;cR+=_.StartIndent}else{if(g==0)cR=_.StartIndent+_.FirstLineIndent;
if(g==1)cR=-d0[0]-_.EndIndent;if(g==2)cR=-d0[0]/2}cR+=g5[dC];if(J&&g>2&&(g==6||!L))this.awG(r,fm,Y,ex,I,cR);
else{var hN=cR;for(var y=r;y<fm;y++){var ey=Y[y],cr=ey.ZE.b;ey.Th.x=hN;if(ey.pg=="\t")cr=Math.ceil((hN+4)/36)*36-hN;
hN+=cr}}}k=p.end;for(var y=p.start;y<p.end;y++){var df=Y[y].ZE.clone();df.HR(Y[y].Th);p.ZE=p.ZE.XN(df);
ik=Math.max(ik,Y[y].YY);hd=Math.max(hd,Y[y].lineHeight)}p.Th.y=z==0?0:A[z-1].Th.y+hd;if(z==0){if(c==0&&J)i[0]+=ik;
if(c!=0)i[0]+=hd;this.Th.y=i[0]}else i[0]+=hd;if(J)p.hv=this.Th.y+p.Th.y<J.y+J.n||c==0&&z==0}var bQ=_.SpaceAfter;
if(bQ!=null)i[0]+=bQ};dQ.ZC.prototype.abo=function(K,E,x,c,J){var i=0,P=0;for(var y=K;y<E;y++)i+=x[y].ZE.b;
if(J){if(c==0)for(var y=E-1;y>=K;y--)if(x[y].zi||x[y].UB)i-=x[y].ZE.b;else break;if(c==1)for(var y=K;
y<E;y++)if(x[y].zi||x[y].UB){var _=x[y].ZE.b;i-=_;P-=_}else break}return[i,P]};dQ.ZC.prototype.awG=function(K,E,x,c,J,i){var P=0,_=0,a=0,j=0;
for(var y=K;y<E;y++)if(x[y].zi)a++;else{P+=x[y].ZE.b;_++}if(J==0)for(var y=E-1;y>=K;y--)if(x[y].zi||x[y].UB){if(x[y].zi){a--}}else break;
if(J==1)for(var y=K;y<E;y++)if(x[y].zi||x[y].UB){if(x[y].zi){a--;j++}}else break;if(_<=1||a==0){if(_==1)x[K].Th.x=i;
return}var e=(c-P)/a,d=-j*e;for(var y=K;y<E;y++){if(x[y].zi)this.xZ[x[y].iv].ZE.b=x[y].ZE.b=e;x[y].Th.x=i+d;
d+=x[y].ZE.b}};dQ.a1K=function(K,E,x,c,J,i,P){this.pg="";for(var y=0;y<P;y++)this.pg+=x[i+y].Zj;this.zi=P==1&&(x[i].Zj==" "||x[i].Zj=="\t");
this.UB=P==1&&x[i].Zj=="\n";this.start=i;this.end=i+P;this.ZE=new cS;this.Th=new iP(0,0);this.YY=0;this.lineHeight=0;
var _=0,a=0;if(P==0){this.lineHeight=x[i].lineHeight;this.YY=x[i].YY;this.ZE=new cS(0,-x[i].lineHeight,0,x[i].lineHeight)}var j=x[i].Dk,e=x[i+P-1].Dk;
if(e<j){var d=j;j=e;e=d}while(e+1<J.length&&J[e].xd==J[e+1].xd){e++}this.iv=j;this.ck=e;for(var I=j;
I<=e;I++){var v=J[I],n=x[c+v.xd],C=K._LineOrientation==2&&(n.uY.BaselineDirection!=2||dQ.Bu(n.Zj.charCodeAt(0))),T=Typr.U.glyphToPath(n.dH,v.J),B=0;
v.path={W:T.cmds,C:T.crds};var o=n.uY.FontSize,s=1/n.dH.head.unitsPerEm*o;if(!n.uY.AutoKerning)_+=n.uY.Kerning*2*s*n.scale.x;
v.Th=new iP(_,0);v.Zm=0;if(C&&v.path.C.length>0){v.Zm=-Math.PI/2;v.Th.x+=o*.83;v.Th.y=-o*.3+v.H9*s/2;
v.H9=o/s}var Q=v.H9*s*n.scale.x;v.ZE=new cS(0,-n.lineHeight,Q,n.lineHeight);var X=v.ZE.clone();X.HR(v.Th);
if(n.uY.Tracking!=null)B=n.uY.Tracking*.001*o;if(n.uY.FauxBold==!0)B+=.027*o;_+=Q+B;if(P==1&&n.Zj==" ")X.b+=2*B;
else if(P==1&&n.Zj!=null&&dQ.Bu(n.Zj.charCodeAt(0)))X.b+=B;this.ZE=this.ZE.XN(X);this.YY=Math.max(this.YY,n.YY);
this.lineHeight=Math.max(this.lineHeight,n.lineHeight)}};dQ.Yu=0;dQ.a7p=function(K){if(dQ.Yu==2)return!0;
if(dQ.Yu==1)return!1;dQ.Yu=1;function E(){fetch("code/ext/fribidi.wasm").then(function(x){return x.arrayBuffer()}).then(function(x){return WebAssembly.instantiate(x)}).then(function(x){var c=x.instance.exports,J=c.memory,i=16,P=256,_=1,a=i|P,j=i|P|_;
dQ.a6a=function(d,I){var v=d.length,n=v*4+4+v*4+v*4+v;gr.jx(c,n+v+1e7);var C=new Uint8Array(J.buffer),T=new Uint32Array(J.buffer),o=c.calloc(n,1),Q=o+v*4,X=Q+4,B=X+v*4,M=B+v*4;
T.set(d,o>>>2);T[Q>>>2]=I==0?a:j;c.fribidi_get_bidi_types(o,v,X);c.fribidi_get_bracket_types(o,v,X,B);
c.fribidi_get_par_embedding_levels_ex(X,B,v,Q,M);var S=C.slice(M,M+v);c.free(o);return S};dQ.Yu=2;var e=new i3(u.E.L,!0);
e.data={_:u.c.Na,bA:"add",ry:eu.r8,M1:null};K.S(e)})}Typr.U.initHB("code/ext/hb.wasm",E);return!1};function ev(){}ev.f2=function(K){return JSON.parse(JSON.stringify(K))};
ev._7=function(K,E){for(var x in E)K[x]=E[x]};ev.l4=function(K,E,x,c){var J=ev.a6H();if(x)ev.q1(J,0,0,x);
var i=new iQ;if(c!=null)i.rotate(c);i.translate(Math.round(K),Math.round(E));var P={u:i,kd:J};P.G8=ev.ayu();
P.K_=W.HA.Q();P.T6=new cS;return P};ev.a9n=function(K){var E=["CharacterDirection",0];for(var y=0;y<E.length;
y+=2){if(K[E[y]]!=null&&K[E[y]]!=E[y+1]){throw"e";console.log(E[y],K[E[y]])}}if(K instanceof Array)for(var y=0;
y<K.length;y++)ev.a9n(K[y]);else if(K instanceof Object)for(var x in K)ev.a9n(K[x])};ev.Xy=function(K,E){if(E==null)E=K.Justification;
var x=K._Direction?K._Direction:0;if(x==1){if(E==0||E==3)E++;else if(E==1||E==4)E--}return E};ev.Be=function(K){if(K.add==null)return;
var E=K.kd,x=E.Curve,c=K.add.vmsk,J=c.i,i=W.p.P0(J,!0).C,P=K.u.clone();P.Pa();W.p.u(i,P,i);var _=i.slice(0,8);
for(var a=8;a<i.length;a+=6)_.push(i[a-2],i[a-1],i[a],i[a+1],i[a+2],i[a+3],i[a+4],i[a+5]);x.Points=_;
x.TextOnPathTRange=c.D7.slice(0);x.Reversed=c.jn;if(ev.p1(E)==1){var x=dQ.zY(E.Curve),j=W.p.hp(x[0]);
ev.sV(E,[0,0,j.b,j.n].map(Math.round));for(var y=0;y<_.length;y+=2){_[y]-=j.x;_[y+1]-=j.y}var e=new iQ(1,0,0,1,j.x,j.y);
e.concat(K.u);K.u=e}};ev.M6=function(K){if(K.add==null)return;var E=K.add.vmsk,x=K.kd.Curve,c=x.Points,J={W:["M"],C:[c[0],c[1]]};
for(var y=0;y<c.length;y+=8){J.W.push("C");J.C.push(c[y+2],c[y+3],c[y+4],c[y+5],c[y+6],c[y+7])}W.p.u(J.C,K.u,J.C);
var i=W.p.uR(J,!0);E.i=i;E.jn=x.Reversed;E.D7=x.TextOnPathTRange.slice(0);K.add.vogk=Z.yt(i)};ev.Et=function(K){var E={o:0,J:0,k:0};
if(K){var x=K.Values;if(K.Type==1)E={o:x[1]*255,J:x[2]*255,k:x[3]*255};else if(K.Type==2){var c={classID:"CMYC",Cyn:{t:"doub",v:x[1]*100},Mgnt:{t:"doub",v:x[2]*100},Ylw:{t:"doub",v:x[3]*100},Blck:{t:"doub",v:x[4]*100}};
E=W.M.Et(c)}else console.log("Unknown color type")}return E};ev.aqm=function(K){for(var y=0;y<K.length;
y++){var E=K[y].StyleSheet.StyleSheetData,x=E.FillColor;if(x&&x.Type==2){var c=ev.Et(x);x.Type=1;x.Values=[1,c.o/255,c.J/255,c.k/255]}}};
ev.ZS=function(K,E){var x;if(ev.p1(K.kd)==1){var c=ev.Cn(K.kd);x=new cS(0,0,c[2]-c[0],c[3]-c[1])}else{x=E.Ds();
if(E.ay){var J=E.ay.clone(),i=W.p.VD(x);W.p.u(i.C,J,i.C);x=W.p.hp(i.C)}}return x};ev.hH=function(K){var E=K[0];
for(var y=0;y<K.length;y++)E=ev.agF(E,K[y]);return E};ev.agF=function(K,E){var x={};for(var c in K)if(JSON.stringify(K[c])==JSON.stringify(E[c]))x[c]=K[c];
return x};ev.H8=function(K,E){var x=K.Ho,c=-1;for(var y=0;y<x.length;y++)if(x[y].Name==E)c=y;if(c==-1){c=x.length;
x.push({FontType:1,Name:E,Script:0,Synthetic:0})}K.BY.Font=c};ev.w1=function(K){return K.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
ev.Ig=function(K,E){K.EngineDict.Editor.Text=E.replace(/\n/g,"\r")};ev.p1=function(K){return K.Curve&&K.Curve.TextOnPathTRange[0]>=0?2:K.EngineDict.Rendered.Shapes.Children[0].ShapeType};
ev.IT=function(K,E){var x=K.EngineDict.Rendered.Shapes.Children[0];x.ShapeType=E;var c=x.Cookie.Photoshop;
c.ShapeType=E;c.Base.ShapeType=E;if(E==0){delete c.BoxBounds;c.PointBase=[0,0]}if(E==1){delete c.PointBase;
c.BoxBounds=[0,0,1,1]}};ev.Cn=function(K){return K.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
ev.sV=function(K,E){K.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=E};ev.abU=function(K,E){var x=K.EngineDict.AlternateGlyphRun;
if(x==null)return-1;var c=ev.Db(x.RunLengthArray,E).ep;if(x.RunArray[c]==null)return-1;var J=x.RunArray[c].Glyph;
return J==null?-1:J};ev.avY=function(K,E,x){var c=K.EngineDict.AlternateGlyphRun;if(c==null){c=K.EngineDict.AlternateGlyphRun=ev.a8f();
c.RunArray.push({});c.RunLengthArray.push(ev.w1(K).length)}var J=ev.Db(c.RunLengthArray,E),i=J.ep,P=E-J.fW,_=c.RunArray[i],a=JSON.stringify(_),j=c.RunLengthArray[i];
if(P!=0){c.RunArray.splice(i,0,JSON.parse(a));c.RunLengthArray.splice(i,0,P);c.RunLengthArray[i+1]-=P;
i++;j-=P;P=0}if(j!=1){c.RunArray.splice(i+1,0,JSON.parse(a));c.RunLengthArray.splice(i+1,0,j-1);c.RunLengthArray[i]=1;
j=1}_.Glyph=x};ev.a3s=function(K,E){var x=K.EngineDict.StyleRun.RunLengthArray;return ev.Db(x,E).ep};
ev.atX=function(K,E){var x=K.ResourceDict.StyleSheetSet[0].StyleSheetData,c={};for(var J in x)c[J]=x[J];
var i=K.EngineDict.StyleRun.RunArray[E].StyleSheet.StyleSheetData;ev._7(c,i);return c};ev.ah$=function(K,E){var x=K.EngineDict.ParagraphRun.RunLengthArray;
return ev.Db(x,E).ep};ev.agK=function(K,E){var x=K.ResourceDict.ParagraphSheetSet[0].Properties,c={};
for(var J in x)c[J]=x[J];var i=K.EngineDict.ParagraphRun.RunArray[E].ParagraphSheet.Properties;ev._7(c,i);
var P=["StartIndent","EndIndent","FirstLineIndent"];for(var y=0;y<3;y++)if(c[P[y]]==null)c[P[y]]=0;return c};
ev.tW=function(K,E,x){if(x=="")return;var c=ev.w1(K);ev.Ig(K,c.substring(0,E)+x+c.substring(E,c.length));
var J=K.EngineDict.StyleRun,i=J.RunLengthArray,P=ev.Db(i,E-1);i[P.ep]+=x.length;var _=K.EngineDict.AlternateGlyphRun;
if(_){var i=_.RunLengthArray,P=ev.Db(i,E-1);i[P.ep]+=x.length}var a=K.EngineDict.ParagraphRun,i=a.RunLengthArray,j=ev.Db(i,E),e=x.split("\n");
if(e.length==1){i[j.ep]+=x.length;return}i.splice(j.ep+1,0,i[j.ep]-(E-j.fW));a.RunArray.splice(j.ep+1,0,ev.f2(a.RunArray[j.ep]));
i[j.ep]-=i[j.ep+1];i[j.ep]+=e[0].length+1;for(var y=1;y<e.length-1;y++){a.RunArray.splice(j.ep+y,0,ev.f2(a.RunArray[j.ep+y-1]));
a.RunLengthArray.splice(j.ep+y,0,e[y].length+1)}i[j.ep+e.length-1]+=e[e.length-1].length};ev.rf=function(K,E,x){var c=ev.w1(K);
ev.Ig(K,c.substring(0,E)+c.substring(x,c.length));ev.pu(K.EngineDict.ParagraphRun,E,x,!0);ev.pu(K.EngineDict.StyleRun,E,x,!1);
var J=K.EngineDict.AlternateGlyphRun;if(J)ev.pu(J,E,x,!1)};ev.pu=function(K,E,x,c){var J=K.RunLengthArray,i=ev.Db(J,E),P=ev.Db(J,x),_=[];
for(var y=0;y<J.length;y++)for(var a=0;a<J[y];a++)_.push(y);_.splice(E,x-E);var j=[];for(var y=0;y<J.length;
y++)j.push(0);for(var y=0;y<_.length;y++)j[_[y]]++;for(var y=0;y<J.length;y++){if(j[y]==0){j.splice(y,1);
J.splice(y,1);K.RunArray.splice(y,1);y--}else if(j[y]<J[y])J[y]=j[y]}if(c&&i.ep!=P.ep&&i.fW!=E){J[i.ep]+=J[i.ep+1];
J.splice(i.ep+1,1);K.RunArray.splice(i.ep+1,1)}};ev.q1=function(K,E,x,c){var J=K.EngineDict.Editor.Text.length;
if(x==J-2)x++;if(c.BY.Font!=null)K.ResourceDict.FontSet=c.Ho.slice(0);if(E<=x)ev.aka(K.EngineDict.StyleRun,c.BY,E,x,!0);
ev.aka(K.EngineDict.ParagraphRun,c.sn,E,x,!1)};ev.Jw=function(K,E,x){var c={Ho:K.ResourceDict.FontSet.slice(0),BY:[],sn:[]},J=K.EngineDict.StyleRun.RunLengthArray,i=ev.Db(J,E).ep,P=ev.Db(J,x).ep;
for(var y=i;y<=P;y++){var _=ev.f2(K.ResourceDict.StyleSheetSet[0].StyleSheetData),a=K.EngineDict.StyleRun.RunArray;
if(a.length==0)continue;var j=a[y].StyleSheet.StyleSheetData;ev._7(_,j);c.BY.push(_)}var e=K.EngineDict.ParagraphRun.RunLengthArray,d=ev.Db(e,E).ep,I=ev.Db(e,x).ep;
for(var y=d;y<=I;y++){var v=K.EngineDict.ParagraphRun.RunArray;if(v.length==0)continue;c.sn.push(ev.f2(v[y].ParagraphSheet.Properties))}c.BY=c.BY.length==0?{}:ev.hH(c.BY);
c.sn=c.sn.length==0?{}:ev.hH(c.sn);return c};ev.aka=function(K,E,x,c,J){var i=K.RunLengthArray;if(J){var P=ev.Db(i,x);
if(P.fW!=x){var _=i[P.ep];i.splice(P.ep,0,x-P.fW);i[P.ep+1]=_-i[P.ep];K.RunArray.splice(P.ep+1,0,ev.f2(K.RunArray[P.ep]))}var a=ev.Db(i,c);
if(a.fW+i[a.ep]-1!=c){var _=i[a.ep];i.splice(a.ep,0,c-a.fW+1);i[a.ep+1]=_-i[a.ep];K.RunArray.splice(a.ep+1,0,ev.f2(K.RunArray[a.ep]))}}var P=ev.Db(i,x),a=ev.Db(i,c);
if(J)for(var y=P.ep;y<=a.ep;y++)ev._7(K.RunArray[y].StyleSheet.StyleSheetData,E);else for(var y=P.ep;
y<=a.ep;y++)ev._7(K.RunArray[y].ParagraphSheet.Properties,E)};ev.at5=function(K,E,x){var c=K.EngineDict.StyleRun.RunLengthArray,J=[],i=0;
for(var y=0;y<c.length;y++){var P=c[y];for(var _=0;_<P;_++)if(E<=i+_&&i+_<x)J.push(y);i+=P}var a=J[0],j=[];
for(var y=0;y<J.length;y++){var e=J[y]-a;if(e==j.length)j.push(0);j[e]++}return j};ev.arf=function(K){var E=K.EngineDict.StyleRun,x=E.RunArray,c=E.RunLengthArray;
for(var y=0;y<c.length-1;y++){var J=x[y].StyleSheet.StyleSheetData,i=x[y+1].StyleSheet.StyleSheetData;
if(JSON.stringify(J)==JSON.stringify(i)){x.splice(y+1,1);c[y]+=c[y+1];c.splice(y+1,1);y--}}};ev.la=function(K){var E=K.G8.AntA.v.Annt;
E=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf(E);if(E==-1)E=1;return E};ev.kE=function(K,E){K.G8.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][E]};
ev.df=function(K,E){var x,c;x=["FontSize","Leading","BaselineShift","_LineWidth"];c=K.BY;for(var y=0;
y<x.length;y++)if(c[x[y]]!=null)c[x[y]]*=E;x=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
c=K.sn;for(var y=0;y<x.length;y++)if(c[x[y]]!=null)c[x[y]]*=E};ev.afV=function(){return ev.Jw(ev.ats,0,0)};
ev.ayu=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0}}};
ev.Db=function(K,E){var x=0,y=0;while(x+K[y]<=E){x+=K[y];y++}return{ep:y,fW:x}};ev.a6H=function(){var K=ev.f2(this.ats);
return K};ev.a5y=function(K,E){var x=E.sn};ev.a8q=function(K,E){var x=E.BY,c;c=K.Undl;if(c&&c.v.Undl=="underlineOnLeftInVertical")x.Underline=!0;
c=K.syntheticItalic;if(c)x.FauxItalic=c.v};ev.aws={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0,_ComposerEngine:1};
ev.agE={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},_FillBackgroundColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,_LineWidth:1,_FillBackgroundFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
ev.a8f=function(){return{RunArray:[],RunLengthArray:[],IsJoinable:2}};ev.ats={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(ev.aws))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u30FC\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(ev.aws))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(ev.agE))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var iu={};iu.ai9=function(K){var E=iu.aoF(K._0,K._1);iu.a76(E,K._0);return E};iu.aqc=function(K,E,x){var c={};
c._98={_0:"i7"};c._0=iu.a88(K,E,x?x._0:null);c._1=iu.a06(K,E,c._0,x?x._1:null);return c};iu.a88=function(K,E,x){var c={};
c._1=iu.akU(K,x?x._1:null);c._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};c._3=JSON.parse(JSON.stringify(iu.axj));
c._4=JSON.parse(JSON.stringify(iu.apU));c._5=iu.arq(K,c._1._0,x?x._5:null);c._6=iu.ac7(K,x?x._6:null);
c._8=iu.ayz(K,E,x?x._8:null);c._9=iu.aic;return c};iu.a76=function(K,E){iu.a30(K,E._5,E._1._0)};iu.akU=function(K,E){var x=[],c=[];
for(var y=0;y<K.length;y++){var J=K[y].ResourceDict.FontSet;for(var i=0;i<J.length;i++){var P=J[i];if(c.indexOf(P.Name)!=-1)continue;
x.push(P);c.push(P.Name)}}var _={_0:[]};for(var y=0;y<x.length;y++){var a=x[y],j={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+a.Name,_1:"i"+a.Script,_2:"i"+a.FontType}}};
if(a.Script==0)delete j._0._0._1;_._0.push(j)}return _};iu.arq=function(K,E,x){var c={_0:[],_1:[]},J={_0:JSON.parse(JSON.stringify(iu.a5H))};
iu.a5U(J._0,K[0].ResourceDict.StyleSheetSet[0],E,K[0].ResourceDict.FontSet);c._0.push(J);c._1.push({_0:"i0"});
c._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});c._1.push({_0:"i1"});return c};iu.a30=function(K,E,x){var c=E._0[0];
for(var y=0;y<K.length;y++)iu.a3G(c._0,K[y].ResourceDict.StyleSheetSet[0],x,K[y].ResourceDict.FontSet)};
iu.ac7=function(K,E){var x={_0:[],_1:[]},c={_0:JSON.parse(JSON.stringify(iu._Z))};iu.U2(c._0,K[0].ResourceDict.ParagraphSheetSet[0]);
x._0.push(c);x._1.push({_0:"i0"});c={_0:JSON.parse(JSON.stringify(iu._Z))};iu.U2(c._0,K[0].ResourceDict.ParagraphSheetSet[0]);
c._0._0="sBasic Paragraph";c._0._6="i0";x._0.push(c);x._1.push({_0:"i1"});return x};iu.ayz=function(K,E,x){var c={_0:[]};
for(var y=0;y<K.length;y++){var J=K[y].Curve,i={};c._0.push({_0:i});var P=ev.p1(K[y]);i._2={};i._2._0="i"+P;
if(K[y]._LineOrientation==2)i._2._1="i2";if(P==0){i._2._6=["f-1","f-1"];i._2._11={_4:"i-1",_7:!1}}else if(P==1&&J==null){var _=ev.Cn(K[y]),a=_[2],j=_[3];
i._1={_0:iu.zI("f",[0,0,0,0,a,0,a,0,a,0,a,0,a,j,a,j,a,j,a,j,0,j,0,j,0,j,0,j,0,0,0,0])};i._2._6=["f-2","f-2"];
i._2._11={_4:"i-2",_7:!1}}else if(P==1){var _=ev.Cn(K[y]),a=_[2],j=_[3];i._1={_0:iu.zI("f",J.Points)};
i._2._6=["f-3","f-3"];i._2._11={_4:"i-3",_7:!1}}else if(P==2){i._1={_0:iu.zI("f",J.Points)};i._2._6=iu.zI("f",J.TextOnPathTRange);
i._2._11={_0:J.Reversed,_3:"i0",_5:"f0",_7:!1}}}return c};iu.a06=function(K,E,x,c){var J={};J._0=JSON.parse(JSON.stringify(iu.afi));
J._1=iu.a5j(K,E,x,c?c._1:null);J._2=JSON.parse(JSON.stringify(iu.a5H._6));J._3=JSON.parse(JSON.stringify(iu._Z._5));
return J};iu.aoF=function(K,E){return iu.apD(K,E._1)};iu.a5j=function(K,E,x,c){var J=[],i=x._1._0;for(var y=0;
y<K.length;y++){var P=K[y],_={_0:{}};J.push(_);_._0._0="s"+P.EngineDict.Editor.Text;_._0._0=_._0._0;
var a=_._0._5={_0:[]},j=P.EngineDict.ParagraphRun;for(var e=0;e<j.RunArray.length;e++){var d={_0:{}};
a._0.push(d);d._0._0={_0:"s",_5:{},_6:"i1"};iu.U2(d._0._0,j.RunArray[e].ParagraphSheet);d._1="i"+j.RunLengthArray[e]}var I=_._0._6={_0:[]};
j=P.EngineDict.StyleRun;for(var e=0;e<j.RunArray.length;e++){var v={_0:{}};I._0.push(v);v._0._0={_0:"s",_5:"i1",_6:{}};
iu.a5U(v._0._0,j.RunArray[e].StyleSheet,i,P.ResourceDict.FontSet);v._1="i"+j.RunLengthArray[e]}j=P.EngineDict.AlternateGlyphRun;
if(j){var n=_._0._9={_0:[]};for(var e=0;e<j.RunArray.length;e++){var C={_0:{}};n._0.push(C);var T=j.RunArray[e];
if(T.Glyph!=null){C._0._0={_0:"i"+T.Glyph,_1:"e"}}C._1="i"+j.RunLengthArray[e]}}_._0._10={_0:"i4",_2:!0};
_._1=iu.view.a6v(P,null,y,null)}return J};iu.apD=function(K,E){var x=[],c=K._1._0;for(var y=0;y<E.length;
y++){var J=ev.a6H();x.push(J);var i=E[y];J.EngineDict.Editor.Text=i._0._0.slice(1);var P=J.EngineDict.ParagraphRun.RunArray[0],_=J.EngineDict.ParagraphRun,a=i._0._5;
if(a)for(var j=0;j<a._0.length;j++){var e=a._0[j];_.RunLengthArray[j]=parseInt(e._1.slice(1));_.RunArray[j]=JSON.parse(JSON.stringify(P));
iu.ar$(e._0._0,_.RunArray[j].ParagraphSheet)}else{_.RunLengthArray[0]=ev.w1(J).length}var d=i._0._6;
_=J.EngineDict.StyleRun;if(d)for(var j=0;j<d._0.length;j++){var I=d._0[j];_.RunLengthArray[j]=parseInt(I._1.slice(1));
_.RunArray[j]={StyleSheet:{StyleSheetData:{}}};iu.a3G(I._0._0,_.RunArray[j].StyleSheet,c,J.ResourceDict.FontSet)}else{_.RunLengthArray[0]=ev.w1(J).length;
_.RunArray[0]={StyleSheet:{StyleSheetData:{}}}}}return x};iu.a5U=function(K,E,x,c,J){K._0="s"+(E.Name?E.Name:"");
var i=K._6,P=J?J._6:null,_=E.StyleSheetData;if(_.Font==null)return;var a=c[_.Font].Name,j=-1;for(var y=0;
y<x.length;y++)if("s"+a==x[y]._0._0._0){j=y;break}i._0="i"+j;if(_.FontSize!=null)i._1="f"+_.FontSize;
if(_.FauxBold!=null)i._2=_.FauxBold;if(_.FauxItalic!=null)i._3=_.FauxItalic;if(_.AutoLeading!=null)i._4=_.AutoLeading;
if(_.Leading!=null)i._5="f"+_.Leading;if(_.HorizontalScale!=null)i._6="f"+_.HorizontalScale;if(_.VerticalScale!=null)i._7="f"+_.VerticalScale;
if(_.Tracking!=null)i._8="i"+_.Tracking;if(_.BaselineShift!=null)i._9="f"+_.BaselineShift;if(_.AutoKerning!=null)i._11="i"+(_.AutoKerning?1:0);
if(_.FontCaps!=null)i._12="i"+_.FontCaps;if(_.FontBaseline!=null)i._13="i"+_.FontBaseline;if(_.Strikethrough!=null)i._15="i"+(_.Strikethrough?1:0);
if(_.Underline!=null)i._16="i"+(_.Underline?2:0);if(_.Ligatures!=null)i._18=_.Ligatures;if(_.DLigatures!=null)i._19=_.DLigatures;
if(_.BaselineDirection!=null)i._35="i"+_.BaselineDirection;if(_.Language!=null)i._38="i"+_.Language;
if(_.FillColor!=null)i._53=iu.lv(_.FillColor);if(_.StrokeColor!=null)i._54=iu.lv(_.StrokeColor);if(_.FillFlag!=null)i._56=_.FillFlag;
if(_.StrokeFlag!=null)i._57=_.StrokeFlag;if(_._LineWidth!=null)i._63="f"+_._LineWidth;if(_._FillBackgroundColor!=null)i._79=iu.lv(_._FillBackgroundColor);
if(_._FillBackgroundFlag!=null)i._80=_._FillBackgroundFlag};iu.lv=function(K){return{_99:"/SimplePaint",_0:{_0:"i1",_1:iu.zI("f",K.Values)}}};
iu.a3G=function(K,E,x,c){var J=K._6;if(J==null)return;var i=E.StyleSheetData;if(J._0){var P=parseInt(J._0.slice(1)),_=x[P]._0._0._0.slice(1);
ev.H8({BY:i,Ho:c},_)}if(J._1!=null)i.FontSize=parseFloat(J._1.slice(1));if(J._2!=null)i.FauxBold=J._2;
if(J._3!=null)i.FauxItalic=J._3;if(J._4!=null)i.AutoLeading=J._4;if(J._5!=null)i.Leading=parseFloat(J._5.slice(1));
if(J._6!=null)i.HorizontalScale=parseFloat(J._6.slice(1));if(J._7!=null)i.VerticalScale=parseFloat(J._7.slice(1));
if(J._8!=null)i.Tracking=parseFloat(J._8.slice(1));if(J._9!=null)i.BaselineShift=parseFloat(J._9.slice(1));
if(J._11!=null)i.AutoKerning=parseFloat(J._11.slice(1))==1;if(J._12!=null)i.FontCaps=parseFloat(J._12.slice(1));
if(J._13!=null)i.FontBaseline=parseFloat(J._13.slice(1));if(J._15!=null)i.Strikethrough=parseFloat(J._15.slice(1))==1;
if(J._16!=null)i.Underline=parseFloat(J._16.slice(1))==1;if(J._18!=null)i.Ligatures=J._18;if(J._19!=null)i.DLigatures=J._19;
if(J._35!=null)i.BaselineDirection=parseFloat(J._35.slice(1));if(J._38!=null)i.Language=parseFloat(J._38.slice(1));
if(J._53!=null)i.FillColor=iu.Hf(J._53);if(J._54!=null)i.StrokeColor=iu.Hf(J._54);if(J._56!=null)i.FillFlag=J._56;
if(J._57!=null)i.StrokeFlag=J._57;if(J._63!=null)i._LineWidth=parseFloat(J._63.slice(1));if(J._79!=null)i._FillBackgroundColor=iu.Hf(J._79);
if(J._80!=null)i._FillBackgroundFlag=J._80};iu.Hf=function(K){var E=K._0._0,x=K._0._1,c=[1,0,0,0],J=[];
for(var y=0;y<x.length;y++)J[y]=parseFloat(x[y].slice(1));if(E=="i0")c[1]=c[2]=c[3]=J[1];else if(E=="i1")c=J;
else if(E=="i2")c=[1].concat(UDOC.C.cmykToRgb(J.slice(1)));else console.log("unknown color type",E,J);
return{Type:1,Values:c}};iu.U2=function(K,E){K._0="s"+(E.Name?E.Name:"");var x=K._5,c=E.Properties;if(c.Justification!=null)x._0="i"+c.Justification;
if(c.FirstLineIndent!=null)x._1="f"+c.FirstLineIndent;if(c.StartIndent!=null)x._2="f"+c.StartIndent;
if(c.EndIndent!=null)x._3="f"+c.EndIndent;if(c.SpaceBefore!=null)x._4="f"+c.SpaceBefore;if(c.SpaceAfter!=null)x._5="f"+c.SpaceAfter;
if(c.AutoLeading!=null)x._7="f"+c.AutoLeading;if(c.AutoHyphenate!=null)x._9=c.AutoHyphenate;if(c._Direction!=null)x._33="i"+c._Direction;
if(c._ComposerEngine!=null)x._35="i"+c._ComposerEngine};iu.ar$=function(K,E){var x=K._5;if(x==null)return;
var c=E.Properties;if(x._0)c.Justification=parseInt(x._0.slice(1))};iu.zI=function(K,E){var x=[];for(var y=0;
y<E.length;y++)x.push(K+E[y]);return x};iu.axj={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
iu.apU={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
iu.a5H={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
iu._Z={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
iu.aic={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
iu.afi={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var kt={};kt.a1B=function(K){return kt.mK(K,kt.yb,0)};kt.aj_=function(K){return kt.Xz(K,kt.yb)};kt.mK=function(K,E,x){var c;
if(typeof K=="string")return K;if(K instanceof Array){c=[];for(var y=0;y<K.length;y++)c[y]=kt.mK(K[y],E,x+1)}else{c={};
var J={};for(var i in E){var P=E[i],_="_"+P[0];if(K[_]!=null){c[i]=P[1]?kt.mK(K[_],P[1],x+1):K[_];J[_]=!0}}for(var i in K){if(J[i]==null){if(i.length>3)continue;
console.log(E,J);console.log(i,K);throw"e"}}}return c};kt.Xz=function(K,E){var x;if(typeof K=="string")return K;
else if(K instanceof Array){x=[];for(var y=0;y<K.length;y++)x[y]=kt.Xz(K[y],E)}else{x={};var c={};for(var J in E){var i=E[J],P="_"+i[0];
if(K[J]!=null){x[P]=i[1]?kt.Xz(K[J],i[1]):K[J];c[J]=!0}}for(var J in K){if(c[J]==null){console.log(E,c);
console.log(J,K);throw"e"}}}return x};kt.tJ={_Color:[0,{_Type:[0],_Values:[1]}],_CAIKnownStyleID:[5],_StreamTag:[99]};
kt.ws={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,kt.tJ],_StrokeColor:[54,kt.tJ],_Blend:[55,{_1:[1],_3:[3],_Knockout:[4],_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,kt.tJ],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_MarkYDistFromBaseline:[87],_AutoMydfb:[88],_RefFontSize:[89],_FontSizeRefType:[90]};
kt.a8Y={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,kt.ws],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_KashidaWidth:[40]};
kt.a5I={_Name:[0],_Features:[5,kt.a8Y],_Parent:[6],_UUID:[97]};kt.a1q={_Name:[0],_Parent:[5],_Features:[6,kt.ws],_UUID:[97]};
kt.yb={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4],_MMAxis:[5]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,kt.a1q]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,kt.a5I]}],_DisplayList:[1,{_Resource:[0]}]}],_7:[7,{_Resources:[0,{_Resource:[0,{_0:[0,{_0:[0],_1:[1,{_0:[0]}]}],_1:[1]}]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_4:[4],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_9:[9],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_1:[1],_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_6:[6],_7:[7],_18:[18]}],_12:[12],_13:[13]}],_3:[3,{_0:[0]}],_UUID:[97]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_LevelStyle:[5,{_IndentUnits:[0],_TextIndent:[1],_LabelIndent:[2],_LabelAlignment:[3],_SequenceGenerator:[5,{_Prefix:[0],_Postfix:[1],_2:[2],_CaseType:[3],_Bullet:[9],_StreamTag:[99]}],_Font:[6],_7:[7]}],_PredefinedTag:[6],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_10:[10],_11:[11],_LinguisticSettings:[15,{_PreferredProvider:[0],_LinguisticProviderInfo:[1]}],_13:[13],_UseSmartLists:[16],_DefaultStoryDir:[17],_18:[18],_GreekingSize:[20]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,kt.a5I]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,kt.a1q]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_AlternateGlyphRun:[9,{_RunArray:[0,{_RunData:[0,{_AlternateGlyphSheet:[0,{_Glyph:[0],_Name:[1],_2:[2]}]}],_Length:[1]}]}],_StorySheet:[10,{_AntiAlias:[0],_1:[1],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}],_KernRun:[15],_HyperlinkRun:[16]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}],_OpticalAlignment:[2]}],_OriginalNormalStyleFeatures:[2,kt.ws],_OriginalNormalParagraphFeatures:[3,kt.a8Y]}]};
iu.view={};iu.view.a6v=function(K,E,x,c){var J={},i=ev.p1(K);J._0=[{_0:"i"+x}];return J};function CSS(){}CSS.a0I=function(K,E){var x=K.add,c=x.vmsk,J=x.vstk,i=x.lmfx,P=x.TySh,_=[],a=CSS.a7O(i,x);
if(K.Au()&&c){var j=W.r.a3(c.i);if(!j.um()){_.push("width: "+Math.round(j.b)+"px");_.push("height: "+Math.round(j.n)+"px")}var e=W.r.atM(c.i);
if(e>0)_.push("border-radius: "+Math.round(e)+"px")}else if(P){var d=P.kd;if(ev.p1(d)==1){var j=ev.Cn(d);
_.push("width: "+Math.round(j[2])+"px");_.push("height: "+Math.round(j[3])+"px")}CSS.a51(_,ev.Jw(d,0,0),P.u,!1,!1,a[0])}CSS.adO(E,i,_);
if(P==null)CSS.aa9(a,_);if(J==null||!J.strokeEnabled.v)J=bd.KF(i);if(J&&J.strokeEnabled.v){var I=J.strokeStyleContent.v,v=I.classID,n=dz.Ae.cG.indexOf(J.strokeStyleLineCapType.v.strokeStyleLineCapType),C=dz.Ae.join.indexOf(J.strokeStyleLineJoinType.v.strokeStyleLineJoinType),T=J.strokeStyleOpacity.v.val/100,o=J.strokeStyleLineWidth.v.val,s="";
if(v=="solidColorLayer")s=CSS.b_(I.Clr.v,T);_.push("border: "+o+"px solid "+s)}return _};CSS.adO=function(K,E,x){if(E==null||!E.masterFXSwitch.v)return;
var c=E.dropShadowMulti.v.concat(E.innerShadowMulti.v);for(var y=0;y<c.length;y++){var J=c[y].v;if(J.enab.v){var i=J.classID=="IrSh",P=J.Dstn.v.val,_=J.lagl.v.val*Math.PI/180;
if(J.uglg&&J.uglg.v)_=K.XI()*Math.PI/180;var a=P*Math.cos(_),j=P*Math.sin(_),e=(a==0?"0 ":CSS.aiD(-a)+"px ")+(j==0?"0 ":CSS.aiD(j)+"px ")+J.blur.v.val/2+"px "+CSS.b_(J.Clr.v,J.Opct.v.val/100);
if(i)x.push("box-shadow: inset "+e);else x.push("filter: drop-shadow("+e+")")}}};CSS.a7O=function(K,E){var x=bd.Z5(K,E),c=x[0],J=x[1],i,P;
if(c){i=CSS.b_(c.Clr.v,E.iOpa!=null?E.iOpa/255:1)}else if(J){P=CSS.a2_(J)}return[i,P]};CSS.aa9=function(K,E){if(K[0])E.push("background-color: "+K[0]);
if(K[1])E.push("background-image: "+K[1])};CSS.xG={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.aiD=function(hr){return""+parseFloat(hr.toFixed(3))};CSS.Af=function(K){if(K==null)return{o:0,J:0,k:0};
var E=K.indexOf("(");if(E!=-1){var x=K.slice(E+1,K.length-1).split(",");for(var y=0;y<x.length;y++){var c=x[y].trim();
x[y]=parseFloat(c)*(c.endsWith("%")?255/100:1)}return{o:x[0],J:x[1],k:x[2]}}if(K.charAt(0)!="#"){var J=CSS.xG;
if(J[K])K=J[K];else console.log("unknown color "+K)}K=K.slice(1);if(K.length==4)K=K[0]+K[0]+K[1]+K[1]+K[2]+K[2]+K[3]+K[3];
if(K.length==3)K=K[0]+K[0]+K[1]+K[1]+K[2]+K[2];var i=-1;if(K.length==8){i=parseInt(K.slice(6),16);K=K.slice(0,6)}K=parseInt(K,16);
var P={o:K>>16&255,J:K>>8&255,k:K&255};if(i!=-1)P.Cc=i;return P};CSS.b_=function(K,E){return CSS.WN(W.M.Et(K),E)};
CSS.WN=function(K,E){if(E==null)E=1;var x=Math.round(K.o),c=Math.round(K.J),J=Math.round(K.k),i=x<<16|c<<8|J;
return E==1?"#"+W.E8(i):"rgba("+x+","+c+","+J+","+E+")"};CSS.a2_=function(K){var E=K.Grad.v;if(E.Clrs==null)return"";
var x=E.Clrs.v.slice(0),c=E.Trns.v.slice(0),J=K.Ofst.v,i=K.Type.v.GrdT=="Rdl"?1:0,P=(i==1?"radial":"linear")+"-gradient",_=i==0?Math.round(-K.Angl.v.val+90)+"deg":"circle at center",a=K.Rvrs.v,j=W.M.Ha(E,a);
for(var y=0;y<j.length;y++){var e=j[y],d=e[1];_+=", "+CSS.WN({o:d[0]*255,J:d[1]*255,k:d[2]*255},e[2])+" "+Math.round(e[0]*100)+"%"}return P+"("+_+")"};
CSS.a51=function(K,E,x,c,J,i){var P=E.BY,_=c?1:x.pA(),a=Math.round(P.FontSize*_);K.push("font-size: "+a+"px");
var j=P.Tracking;if(!c&&j!=null&&j!=0)K.push("letter-spacing: "+Math.round(j*a/1e3)+"px");if(!P.AutoLeading)K.push("line-height: "+Math.round(P.Leading*_)+"px");
if(P.Strikethrough)K.push("text-decoration: line-through");if(P.Underline)K.push("text-decoration: underline");
if(P.FontCaps==2)K.push("text-transform: uppercase");var e=ev.Et(P.FillColor);e=[e.o,e.J,e.k].map(Math.round);
K.push((c?"fill: ":"color: ")+(i?i:"#"+W.E8(e[0]<<16|e[1]<<8|e[2])));var d=E.Ho[P.Font].Name;if(d){var I=cd.ic.i2(d),v="",n=null,C=null;
if(I!=null&&d!=cd.ts(I))I=null;if(J&&I)v+="\""+d+"\", ";var T=d.toLowerCase();if(I){n=cd.D0(I)[0];if(I["OS/2"])C=I["OS/2"].usWeightClass}else{n=CSS.a2J(d);
if(T.indexOf("light")!=-1)C=300;else if(T.indexOf("medium")!=-1)C=500;else if(T.indexOf("black")!=-1||T.indexOf("extrabold")!=-1)C=800;
else if(T.indexOf("bold")!=-1)C="bold"}if(n!=null)v+="\""+n+"\"";if(C!=null)K.push("font-weight: "+C);
if(T.indexOf("italic")!=-1||T.indexOf("oblique")!=-1)K.push("font-style: italic");if(v)K.push("font-family: "+v)}var o=E.sn.Justification;
if(o!=null&&o!=0)if(c){}else K.push("text-align: "+["left","right","center"][o%3])};CSS.a2J=function(K){K=K.split("-")[0];
while(K.endsWith("MT")||K.endsWith("PS"))K=K.slice(0,K.length-2);var E=!0;for(var y=0;y<K.length;y++){var x=K.charAt(y);
if(!E&&x.toLowerCase()!=x){K=K.slice(0,y)+" "+K.slice(y);y++;E=!0}else E=!1}return K};function g9(){}g9.Kz={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0,FNTS:!0};
g9.k0=function(K,E){var x=Date.now(),c=K.split("\n"),J;for(var y=0;y<c.length;y++)if(c[y].trim()[0]=="#"){c[y]=""}K=c.join("\n");
try{J=acorn.parse(K)}catch(hg){console.log(hg);return}var i=JSON.parse(JSON.stringify(g9.Hm.Xf));i.__return=!1;
i.__continue=!1;i.__break=!1;i.__throw=!1;i.__fs={};i.__window={};g9.eval(J,E,i);var P=i.__fs;if(Object.keys(P).length!=0){var _=UZIP.encode(P);
hP.save(_,"output.zip")}};g9.eval=function(K,E,x){var c=K.type;if(!1){}else if(c=="Program"||c=="BlockStatement"){var J=K.body;
for(var y=0;y<J.length;y++){var i=J[y].type;if(i=="FunctionDeclaration")x[J[y].id.name]=J[y]}for(var y=0;
y<J.length;y++){var i=J[y].type,P=g9.eval(J[y],E,x);if(x.__continue){x.__continue=!1;return P}if(x.__return||x.__break||x.__throw)return P}}else if(c=="ReturnStatement"){x.__return=!0;
return K.argument?g9.cn(K.argument,E,x):null}else if(c=="BreakStatement"){x.__break=!0}else if(c=="ContinueStatement"){x.__continue=!0}else if(c=="VariableDeclaration"){var _=K.declarations;
for(var y=0;y<_.length;y++)g9.eval(_[y],E,x)}else if(c=="VariableDeclarator"){x[K.id.name]=K.init?g9.cn(K.init,E,x):null}else if(c=="FunctionDeclaration"){x[K.id.name]=K}else if(c=="MemberExpression"){var a=g9.cn(K.object,E,x),j=K.computed?g9.cn(K.property,E,x):g9.eval(K.property,E,x),P;
if(a.NW!=null)P=g9.Hm.za(a,j,E,x);else if(a==window&&g9.Kz[j]){}else P=a[j];return P}else if(c=="ArrayExpression"){var e=[],d=K.elements;
for(var y=0;y<d.length;y++)e.push(g9.cn(d[y],E,x));return e}else if(c=="ObjectExpression"){var e={},d=K.properties;
for(var y=0;y<d.length;y++){var I=d[y],v=d[y].key.name?d[y].key.name:d[y].key.value;e[v]=g9.cn(d[y].value,E,x)}return e}else if(c=="ExpressionStatement"){return g9.eval(K.expression,E,x)}else if(c=="NewExpression"){var n=K.arguments,C=K.callee,T=C.type,o=C.name,s=[],e=null;
for(var y=0;y<n.length;y++)s.push(g9.cn(n[y],E,x));if(o=="Array")e=new window[o];else if(T=="Identifier")e=g9.Hm.alT(o,s,E,x);
else throw"e";if(e==null)throw"new "+o;return e}else if(c=="CallExpression"){var n=K.arguments,C=K.callee,T=C.type,Q={};
for(var X in x)Q[X]=x[X];var s=[];for(var y=0;y<n.length;y++)s.push(g9.cn(n[y],E,x));if(T=="Identifier"){var B=C.name,M=x[B];
if(M){if(M.params){var S=M.params;for(var y=0;y<S.length;y++)Q[S[y].name]=s[y];return g9.eval(M.body,E,Q)}else{return M.apply(null,s)}}else if(g9.Hm.aqw.indexOf(B)!=-1)return g9.Hm.u9({NW:"Application"},B,s,E,x);
else if(window[B]==null)console.log("Unknown function "+B);else if(g9.Kz[B])alert(B+"() not available");
else{var f=window[B].apply(window,s);return f}}else if(T=="MemberExpression"){var a=g9.cn(C.object,E,x),j=C.computed?g9.cn(C.property,E,x):g9.eval(C.property,E,x);
if(a==window&&g9.Kz[j])return;if(a.NW!=null)return g9.Hm.u9(a,j,s,E,x);else if(j=="sort"&&a[0]&&a[0].NW=="Layer"){return a.sort(function(p,L){return p.Z.getName()>L.Z.getName()?1:-1})}else return a[j].apply(a,s)}else if(T=="FunctionExpression"){return g9.eval(C.body,E,x)}else console.log(K)}else if(c=="AssignmentExpression"){var F=K.operator,G=K.left,D=G.type,b=g9.cn(G,E,x),H=g9.cn(K.right,E,x),P=null;
if(!1){}else if(F=="=")P=H;else if(F=="+=")P=b+H;else if(F=="-=")P=b-H;else if(F=="*=")P=b*H;else if(F=="/=")P=b/H;
else if(F=="%=")P=b%H;else if(F=="&=")P=b&H;else if(F=="|=")P=b|H;else if(F=="&&=")P=b&&H;else if(F=="||=")P=b||H;
else console.log(K);if(D=="Identifier"){var q=G.name;if(x.hasOwnProperty(q))x[q]=P;else x.__window[q]=P}else if(D=="MemberExpression"){var O=g9.eval(G.property,E,x),w=g9.cn(G.object,E,x);
if(w.NW!=null)g9.Hm.a1Z(w,O,P,E,x);else w[O]=P}else console.log(K)}else if(c=="Identifier")return K.name;
else if(c=="Literal")return K.value;else if(c=="UpdateExpression"){var F=K.operator,V=K.argument.name,e=g9.cn(K.argument,E,x),t=x;
if(t[V]==null)t=x.__window;if(!1){}else if(F=="++"){t[V]++;return K.prefix?t[V]:t[V]-1}else if(F=="--"){t[V]--;
return K.prefix?t[V]:t[V]+1}else console.log(K)}else if(c=="UnaryExpression"){var F=K.operator,m=g9.cn(K.argument,E,x);
if(m.NW=="UnitValue"){if(F=="-")return-m.Z;else return g9.aoJ(m.Z,F)}else return g9.aoJ(m,F)}else if(c=="BinaryExpression"||c=="LogicalExpression"){var F=K.operator,G=g9.cn(K.left,E,x),m=g9.cn(K.right,E,x);
if(G==null||m==null)return g9.cV(G,m,F);else if(G.NW=="UnitValue"&&m.NW=="UnitValue")return g9.cV(G.Z,m.Z,F);
else if(G.NW=="UnitValue")return g9.cV(G.Z,m,F);else if(m.NW=="UnitValue"){if(F=="-")return-(G-m.Z);
else return g9.cV(G,m.Z,F)}else return g9.cV(G,m,F)}else if(c=="IfStatement"){var g=g9.cn(K.test,E,x);
if(g)return g9.eval(K.consequent,E,x);else if(K.alternate)return g9.eval(K.alternate,E,x)}else if(c=="ConditionalExpression"){var g=g9.cn(K.test,E,x);
if(g)return g9.cn(K.consequent,E,x);else if(K.alternate)return g9.cn(K.alternate,E,x)}else if(c=="ForInStatement"){g9.eval(K.left,E,x);
var Y=K.left.declarations[0].id.name,A=g9.cn(K.right,E,x);for(var X in A){x[Y]=X;var k=g9.eval(K.body,E,x);
if(x.__break)break;if(x.__return)return k}x.__break=!1}else if(c=="ForStatement"){g9.eval(K.init,E,x);
while(g9.eval(K.test,E,x)){var k=g9.eval(K.body,E,x);if(x.__break)break;if(x.__return)return k;g9.eval(K.update,E,x)}x.__break=!1}else if(c=="DoWhileStatement"){do{var k=g9.eval(K.body,E,x);
if(x.__break)break;if(x.__return)return k}while(g9.eval(K.test,E,x));x.__break=!1}else if(c=="TryStatement"){g9.eval(K.block,E,x);
if(x.__throw){var z=K.handler;x[z.param.name]=x.__throw;x.__throw=!1;g9.eval(z.body,E,x);delete x[z.param.name]}}else if(c=="EmptyStatement"){}else console.log(K)};
g9.cV=function(K,E,x){if(x=="+")return K+E;else if(x=="-")return K-E;else if(x=="*")return K*E;else if(x=="/")return K/E;
else if(x=="%")return K%E;else if(x=="^")return K^E;else if(x=="&")return K&E;else if(x=="&&")return K&&E;
else if(x=="|")return K|E;else if(x=="||")return K||E;else if(x=="<")return K<E;else if(x==">")return K>E;
else if(x=="=="){if(K.NW&&E.NW)return K.Z==E.Z;return K==E}else if(x=="===")return K===E;else if(x=="<=")return K<=E;
else if(x==">=")return K>=E;else if(x=="!=")return K!=E;else if(x=="!==")return K!==E;else if(x=="<<")return K<<E;
else if(x==">>")return K>>E;else console.log(x)};g9.aoJ=function(K,E){if(E=="-")return-K;else if(E=="!")return!K;
else if(E=="~")return~K;else if(E=="+")return K;else if(E=="typeof")return typeof K;else console.log(E,K)};
g9.cn=function(K,E,x){var c=K.type;if(c=="Identifier")return g9.ad5(K.name,E,x);else return g9.eval(K,E,x)};
g9.ad5=function(K,E,x){if(K=="undefined")return undefined;else if(x.hasOwnProperty(K))return x[K];else if(K=="app")return{NW:"Application"};
else if(K=="Folder")return{NW:"Folder"};else if(K=="$")return{NW:"$"};else if(g9.Hm.a2n.indexOf(K)!=-1)return g9.Hm.za({NW:"Application"},K,E,x);
else if(x.__window.hasOwnProperty(K))return x.__window[K];else if(window[K]&&!g9.Kz[K])return window[K];
else{x[K]=null;return null}};g9.Hm={};g9.Hm.alT=function(K,E,x,c){var J;if(K=="SolidColor")J={NW:K,Z:[1,0,0,0]};
if(K=="RGBColor")J={NW:K,Z:[1,0,0,0]};if(K=="Window")J={NW:K,Z:new bP(E[0],E[1],E[2])};if(K=="ExportOptionsSaveForWeb")J={NW:K,Z:{fC:"png",aJ:100}};
if(K=="PhotoshopSaveOptions")J={NW:K,Z:{fC:"psd"}};if(K=="PNGSaveOptions")J={NW:K,Z:{fC:"png",aJ:100}};
if(K=="JPEGSaveOptions")J={NW:K,Z:{fC:"jpg",aJ:100}};if(K=="PDFSaveOptions")J={NW:K,Z:{fC:"pdf",awH:""}};
if(K=="File")J={NW:K,Z:E[0]};if(K=="ActionReference")J={NW:K,Z:[]};if(K=="ActionDescriptor")J={NW:K,Z:{}};
if(K=="ActionList")J={NW:K,Z:[]};if(K=="UnitValue")J={NW:K,Z:E.length==0?0:parseFloat(E[0])};return J};
g9.Hm.a2n="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor version".split(" ");
g9.Hm.aqw="charIDToTypeID stringIDToTypeID typeIDToStringID executeAction executeActionGet doAction".split(" ");
g9.Hm.za=function(K,E,x,c){var J=x.dR,i=x.Qx();if(!1){}else if(E=="typename"){if(K.NW=="Layer")return K.Z.wC()?"LayerSet":"ArtLayer";
else return K.NW}else if(["Document","Layer"].indexOf(K.NW)!=-1&&["layers","artLayers","layerSets"].indexOf(E)!=-1){var P=i;
if(K.NW=="Document")P=K.Z;else P=K.fr;var _=P.root,a={NW:"Layers",adc:E,Z:[],fr:P};if(K.NW=="Layer")_=P.root.R7(P.B.indexOf(K.Z));
if(_.children==null)return null;for(var y=0;y<_.children.length;y++){var j=_.children[y].j,e=j.wC();
if(e&&E=="artLayers"||!e&&E=="layerSets")continue;a.Z.push({NW:"Layer",Z:j,fr:P})}a.Z.reverse();return a}else if(K.NW=="Documents"||K.NW=="Layers"||K.NW=="HistoryStates"||K.NW=="LayerComps"){if(!1){}else if(E=="length")return K.Z.length;
else if(Number.isInteger(E))return K.Z[E];else console.log(K.NW+": unknown property ",E)}else if(K.NW=="Application"){if(!1){}else if(E=="activeDocument")return{NW:"Document",Z:x.Qx()};
else if(E=="documents"){var a={NW:"Documents",Z:[]};for(var y=0;y<x.Mt.length;y++)a.Z.push({NW:"Document",Z:x.Mt[y]});
return a}else if(E=="fonts")return{NW:"TextFonts"};else if(E=="preferences")return{NW:"Preferences"};
else if(E=="displayDialogs")return{NW:"DialogModes"};else if(E=="foregroundColor"||E=="backgroundColor"){var d=E[0]=="f"?J.U9:J.xw;
return{NW:"SolidColor",Z:[1,(d>>>16&255)/255,(d>>>8&255)/255,(d>>>0&255)/255]}}else if(E=="UI")return{NW:"UI"};
else if(E=="version")return 30;else console.log(K,E)}else if(K.NW=="Document"){var i=K.Z;if(!1){}else if(E=="activeLayer"){var j=i.B[i.g[0]];
return{NW:"Layer",Z:j,fr:i}}else if(E=="resolution")return i.B8;else if(E=="width")return i.b;else if(E=="height")return i.n;
else if(E=="name")return i.name;else if(E=="saved")return!i.zv();else if(E=="selection")return{NW:"Selection"};
else if(E=="activeHistoryState")return{NW:"HistoryState",JD:i.qh};else if(E=="source")return i.pM;else if(E=="layerComps"){var I=i.s8.list.v,v=[];
for(var y=0;y<I.length;y++)v.push({NW:"LayerComp",Z:y});return{NW:"LayerComps",Z:v}}else if(E=="historyStates"){var n=[];
for(var y=0;y<i.history.length;y++)n.push({NW:"HistoryState",JD:y});return{NW:"HistoryStates",Z:n}}else if(E=="mode")return 7;
else console.log(K,E)}else if(K.NW=="LayerComp"){if(E=="name")return i.s8.list.v[K.Z].v.Nm.v;else throw E}else if(K.NW=="Layer"){var C={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},j=K.Z;
if(!1){}else if(E=="visible")return j.bL();else if(E=="selected")return i.g.indexOf(i.B.indexOf(j))!=-1;
else if(E=="grouped")return j.Z2;else if(C[E]!=null)return j.M0(C[E]);else if(E=="opacity")return j.opacity*100/255;
else if(E=="blendMode")return j.Vk;else if(E=="name")return j.getName();else if(E=="textItem")return{NW:"TextItem",Z:j};
else if(E=="bounds"){var T=$.Xq.ZS(i,[i.B.indexOf(j)]);return g9.Hm.aku(T,i)}else if(E=="parent"){var o=x.Mt,P;
for(var y=0;y<o.length;y++)if(o[y].B.indexOf(j)!=-1)P=o[y];var s=P.root.R7(P.B.indexOf(j)).parent;return s.depth==0?{NW:"Document",Z:P}:{NW:"Layer",Z:s.j,fr:P}}else if(E=="kind"){var Q=g9.Hm.It;
for(var y=0;y<Q.length;y++)if(j.add[Q[y]]!=null)return y;return 0}else if(E=="isBackgroundLayer")return j.add.lnsr="bgnd";
else console.log(K,E)}else if(K.NW=="Selection"){if(!1){}else if(E=="bounds"){if(i.P==null)c.__throw={message:"no selection"};
else return g9.Hm.aku(i.P.rect,i)}else console.log(K,E)}else if(K.NW=="TextItem"){var X=K.Z.add.TySh,B=X.kd,M=ev.w1(B),S=X.u.pA(),f=ev.Jw(B,0,Math.max(0,M.length-2));
if(E=="contents")return M.slice(0,M.length-1).replace(/\n/g,"\r");else if(E=="font")return f.BY.Font!=null?f.Ho[f.BY.Font].Name:null;
else if(E=="size")return g9.Hm.aV(f.BY.FontSize*S,i);else if(E=="leading")return g9.Hm.aV(f.BY.Leading*S,i);
else if(E=="tracking")return g9.Hm.aV(f.BY.Tracking);else if(E=="baselineShift")return g9.Hm.aV(f.BY.BaselineShift);
else if(E=="fauxBold")return f.BY.FauxBold;else if(E=="fauxItalic")return f.BY.FauxItalic;else if(E=="kind")return 1-ev.p1(B);
else if(E=="useAutoLeading")return f.sn.AutoLeading;else if(E=="hyphenation")return f.sn.AutoHyphenate;
else if(E=="justification")return g9.Hm.aV(f.sn.Justification);else if(E=="color")return{NW:"SolidColor",Z:f.BY.FillColor.Values.slice(0)};
else if(E=="width"||E=="height"){var F=ev.Cn(B),G=(F[2]-F[0])*S,D=(F[3]-F[1])*S;return g9.Hm.aV(E=="width"?G:D,i)}else if(E=="position"){var b=X.u;
return g9.Hm.a8Z([b.qW,b.Ju],i)}else if(E=="horizontalScale"||E=="verticalScale"){var H=E[0].toUpperCase()+E.slice(1);
return Math.round(f.BY[H]*100)}else if(E=="antiAliasMethod")ev.la(X);else if(E=="totalTextStyle"){var a={};
for(var q=0;q<2;q++){var O=["Style","Paragraph"][q],w=B.EngineDict[O+"Run"].RunLengthArray,V=[],t=0;
for(var y=0;y<w.length;y++){var m=ev.Jw(B,t,Math.min(t+w[y],M.length-2));t+=w[y];V.push(q==0?m.BY:m.sn);
a.fontSet=m.Ho}a[O]={runs:w,styles:V}}return JSON.stringify(a)}else if(E=="transform"){var b=X.u;return JSON.stringify([b.Cc,b.k,b.o0,b.Ga,b.qW,b.Ju])}else console.log(K,E)}else if(K.NW=="Preferences"){if(E=="rulerUnits")return J.Vp.OZ;
else console.log(K,E)}else if(K.NW=="SolidColor"){if(E=="rgb")return{NW:"RGBColor",Z:K.Z};else console.log(K,E)}else if(K.NW=="RGBColor"){var T=Math.round(255*K.Z[1]),g=Math.round(255*K.Z[2]),Y=Math.round(255*K.Z[3]);
if(!1){}else if(E=="red")return T;else if(E=="green")return g;else if(E=="blue")return Y;else if(E=="hexValue")return"#"+W.E8(T<<16|g<<8|Y).toUpperCase();
else console.log(K,E)}else if(K.NW=="UnitValue"){if(E=="value")return K.Z;else throw"e"}else if(K.NW=="ExportOptionsSaveForWeb"){if(E=="format")return K.Z.fC;
else if(E=="PNG8"||E=="interlaced")return!1;else if(E=="quality")return K.Z.aJ;else if(E=="transparency")return!0;
else throw E}else if(K.NW=="PNGSaveOptions"||K.NW=="JPEGSaveOptions"||K.NW=="PDFSaveOptions"){return 0}else if(K.NW=="$"){if(E=="localize")return!1}else if(K.NW=="ActionList"){if(E=="count")return K.TN.length;
else throw E}else console.log(K,E)};g9.Hm.aku=function(K,E){return g9.Hm.a8Z([K.x,K.y,K.x+K.b,K.y+K.n],E)};
g9.Hm.a8Z=function(K,E){var x=[];for(var y=0;y<K.length;y++)x.push(g9.Hm.aV(K[y],E));return x};g9.Hm.arE=function(K){var E=[];
for(var y=0;y<K.length;y++)E.push(K[y].NW?K[y].Z:K[y]);return E};g9.Hm.aV=function(K,E){return{NW:"UnitValue",Z:K}};
g9.Hm.a6W=function(K,E){if(K.NW=="UnitValue")return K.Z;return K};g9.Hm.a1Z=function(K,E,x,c,J){var i=new i3(u.E.v,!0),P=new i3(u.E.L,!0),_=c.Qx(),a=c.dR;
if(!1){}else if(K.NW=="Application"){if(!1){}else if(E=="activeDocument"){P.data={_:u.c.CS,c1:x.Z};c.S(P)}else if(E=="displayDialogs"){}else if(E=="foregroundColor"||E=="backgroundColor"){var j=x.Z,e=j[1]*255<<16|j[2]*255<<8|j[3]*255<<0;
P.data={_:u.c.Na,ry:eu.Fa,S8:E=="foregroundColor"?0:1,Z:e};c.S(P)}else console.log(K,E,x)}else if(K.NW=="Document"){var d=K.Z;
if(!1){}else if(E=="name"){i.G=$.Os;i.data={_:Z.x6,Z:x,asp:!0,wy:d};_.Bi=!0}else if(E=="source")d.pM=x;
else if(E=="activeLayer"){d.g=[d.B.indexOf(x.Z)]}else if(E=="activeHistoryState"){i.G=$.Ww;i.data={_:"h_itemchange",index:x.JD}}else console.log(K,E)}else if(K.NW=="Layer"){i.G=$.Os;
var I={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},v=K.Z,n=_.B.indexOf(v);
if(!1){}else if(E=="visible"){if(v.bL()!=x)i.data={_:Z.gn,j:n}}else if(E=="opacity"){i.data={_:Z.O4,j:n,iz:Math.round(255*x/100)}}else if(E=="blendMode"){i.data={_:Z.vq,j:n,iz:db.bV.indexOf(x)}}else if(E=="name"){i.data={_:Z.tZ,j:n,name:x}}else if(I[E]!=null){i.data={_:Z.Io,j:n,iz:[[x],[I[E]]]}}else if(E=="kind"){i.data={_:Z._O,j:n,Tf:g9.Hm.It[x]}}else if(E=="grouped"){i.data={_:Z.u_,j:n,iz:x}}else console.log(K,E,x)}else if(K.NW=="TextItem"){i.G=$.H4;
var v=K.Z,C=v.add.TySh,T=JSON.parse(JSON.stringify(C.kd)),o=C.u.clone(),Q=C.u.pA(),X=ev.w1(T),B=ev.Jw(T,0,X.length-2),M=!1;
if(!1){}else if(E=="contents"){ev.rf(T,0,X.length-1);ev.tW(T,0,x.replace(/\r/g,"\n"))}else if(E=="size"){B.BY.FontSize=(x.Z!=null?x.Z:x)/Q;
M=!0}else if(E=="leading"){B.BY.Leading=(x.Z!=null?x.Z:x)/Q;M=!0}else if(E=="tracking"){B.BY.Tracking=x.Z!=null?x.Z:x;
M=!0}else if(E=="baselineShift"){B.BY.BaselineShift=x.Z!=null?x.Z:x;M=!0}else if(E=="fauxBold"){B.BY.FauxBold=x;
M=!0}else if(E=="fauxItalic"){B.BY.FauxItalic=x;M=!0}else if(E=="kind"){var S=ev.p1(T);if(S==1&&x==1){var f=new dQ(T,c.dR.ir).sn[0],F=f.R$[0].end,G=f.YW[F-1].end;
ev.rf(T,0,X.length-1);ev.tW(T,0,X.slice(0,G-1))}if(S==x)ev.IT(T,1-x)}else if(E=="useAutoLeading"){B.sn.AutoLeading=x;
M=!0}else if(E=="hyphenation"){B.sn.AutoHyphenate=x;M=!0}else if(E=="justification"){B.sn.Justification=x;
M=!0}else if(E=="font"){ev.H8(B,x);M=!0}else if(E=="color"){B.BY.FillColor.Values=x.Z.slice(0);M=!0}else if(E=="width"||E=="height"){var D=ev.Cn(T).slice(0),b=g9.Hm.a6W(x);
if(E=="width")D[2]=Math.round(D[0]+b/Q);else D[3]=Math.round(D[1]+b/Q);ev.sV(T,D)}else if(E=="position"){o.qW=x[0];
o.Ju=x[1]}else if(E=="horizontalScale"||E=="verticalScale"){var H=E[0].toUpperCase()+E.slice(1);B.BY[H]=x/100;
M=!0}else if(E=="antiAliasMethod")ev.kE(C,x);else console.log(K,E,x);if(M)ev.q1(T,0,X.length-1,B);i.data={_:"newED",RB:_.B.indexOf(v),wr:T,u:o}}else if(K.NW=="Preferences"){if(!1){}else if(E=="rulerUnits"){var q=JSON.parse(JSON.stringify(a.Vp));
q.OZ=x;P.data={_:u.c.Na,ry:eu.f6,iz:q};c.S(P)}else console.log(K,E,x)}else if(K.NW=="SolidColor"){if(E=="rgb")K.Z=x.Z;
else throw E}else if(K.NW=="RGBColor"){if(!1){}else if(E=="red")K.Z[1]=x/255;else if(E=="green")K.Z[2]=x/255;
else if(E=="blue")K.Z[3]=x/255;else if(E=="hexValue"){var O=W.r6(x.slice(1));K.Z[1]=(O>>>16&255)/255;
K.Z[2]=(O>>>8&255)/255;K.Z[3]=(O>>>0&255)/255}else console.log(K,E)}else if(K.NW=="ExportOptionsSaveForWeb"){if(E=="format")K.Z.fC=x;
else if(E=="PNG8"||E=="transparency"||E=="interlaced"){}else if(E=="quality")K.Z.aJ=x;else throw E}else if(K.NW=="PNGSaveOptions"||K.NW=="JPEGSaveOptions"){if(E=="quality")K.Z.aJ=Math.round(100*x/12)}else if(K.NW=="PDFSaveOptions"){if(E=="preset")K.Z.awH=x}else if(K.NW=="$"){if(E=="localize"){}}else console.log(K,E,x);
if(i.data!=null)c.S(i)};g9.Hm.u9=function(K,E,x,c,J){var i=K.NW,P=null,_=new i3(u.E.v,!0),a=new i3(u.E.Hg,!0),j=new i3(u.E.L,!0),e=c.Qx(),d=c.Mt;
if(!1){}else if(i=="Application"){if(!1){}else if(E=="charIDToTypeID"){var I=x[0].trim(),v={slct:"select",Dlt:"delete",Mk:"make"};
return v[I]?v[I]:I}else if(E=="stringIDToTypeID"){var n=x[0].trim(),v={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",type:"Type",using:"Usng"},C=v[n];
return C==null?n:C}else if(E=="typeIDToStringID"){return x[0].trim()}else if(E=="executeAction"){console.log(x);
var T;if(x[1]){T=x[1].Z;T.classID=x[0]}var o={setd:"set"},Q=o[x[0]];if(Q==null)Q=x[0];var X=c2.kK[x[0]];
if(X&&c2.Qn[X])Q=c2.Qn[X];a.data={va:Q,Ks:T}}else if(E=="executeActionGet"){return{NW:"ActionDescriptor",Z:{classID:"null",null:{t:"obj ",v:x[0].Z}},TN:e.B[e.g[0]]}}else if(E=="doAction"){j.data={_:u.c.jI,WX:[x[0],x[1]]}}else if(E=="bringToFront"){}else if(E=="open"){j.data={_:u.c.Pp,ry:{url:x[0]}};
if(x[2]&&d.length!=0)j.data.ry.p6=d.indexOf(e)}else if(E=="echoToOE"){j.data={_:u.c.tv,ry:x[0]}}else console.log(E)}else if(i=="LayerComp"){if(E=="apply"){_.G=$.VP;
_.data={_:"setLC",JD:e.s8.list.v[K.Z].v.compID.v}}else throw E}else if(i=="Document"){var e=K.Z;if(!1){}else if(E=="crop"){a.data=$.$a.abL(x[0])}else if(E=="trim"){var B=[];
for(var y=0;y<4;y++)B.push(x[y+1]!=null?x[y+1]:!0);a.data=$.$a.yW(x[0]!=null?x[0]:0,B)}else if(E=="suspendHistory"){var M=acorn.parse(x[1]);
g9.eval(M,c,J)}else if(E=="save"){j.data={_:u.c.$L}}else if(E=="saveToOE"){j.data={_:u.c.$L,vL:x}}else if(E=="rotateCanvas"){a.data=$.Xq.JG(!0,x[0])}else if(E=="resizeImage"||E=="resizeCanvas"){var S=x[0],f=x[1];
if(typeof S!="number"){S=e.b*parseFloat(S.slice(0,S.length-1))/100;f=e.n*parseFloat(f.slice(0,f.length-1))/100}if(E=="resizeCanvas")a.data=$.$a.a9V(Math.round(S),Math.round(f),x[2]);
else a.data=$.$a.a3X(Math.round(S),Math.round(f),null,1)}else if(E=="paste"){j.data={_:u.c.qp,zl:x.length!=0&&x[0],Sv:!0}}else if(E=="close"){j.data={_:u.c.V6,z9:e}}else if(E=="exportDocument"||E=="saveAs"){var F=J.__fs,G=E=="exportDocument"?x[2].Z:x[1].Z,D=x[0].Z.replace(":","").replace("~/","");
if(!D.toLowerCase().endsWith("."+G.fC))D+="."+G.fC;var b=gr.ca(e,G.fC,null,null,G.fC=="pdf"?null:[G.aJ],c.dR);
F[D]=new Uint8Array(b)}else if(E=="flatten"){a.data={va:"flattenImage"}}else console.log(K,E,x)}else if(i=="Layer"){var H=K.Z,q=e.B.indexOf(H);
if(!1){}else if(E=="copy"){g9.Hm.mx(e,c,0);j.data={_:u.c.UR,GQ:x[0],OV:q,Sv:!0};c.S(j);delete j.data;
g9.Hm.mx(e,c,1)}else if(E=="clear"){g9.Hm.mx(e,c,0);a.data={va:"delete"};c.S(a);delete a.data;g9.Hm.mx(e,c,1)}else if(E=="duplicate"){if(x.length==0){var O=e.g.slice(0);
_.data={_:Z.On,j:q};_.G=$.Os;c.S(_);_.data=null;P={NW:"Layer",Z:e.B[e.g[0]],fr:K.fr};e.g=O}else if(x[0].NW=="Document"){_.data={_:Z.EE,B:e.JV(q),Tr:e,t1:x[0].Z};
_.G=$.Os}}else if(E=="merge"||E=="remove"){_.data={_:E=="merge"?Z.GH:Z.vp,j:q};_.G=$.Os;if(E!="remove")P={NW:"Layer",Z:e.B[e.g[0]],fr:K.fr}}else if(E=="move"){_.data={_:Z.W0,source:q,target:e.B.indexOf(x[0].Z),bO:x[1]!=3?.6:.3};
_.G=$.Os}else if(E=="rasterize"){a.data={va:"rasterizeLayer",Ks:{classID:"rasterizeLayer",null:b$.oe("Lyr",!0)}}}else if(E=="rotate"){_.data={_:"rot",vZ:[2,5],Z:-x[0]*Math.PI/180,If:x[1],j:q};
_.G=$.Cy}else if(E=="resize"){_.data={_:"scl",vZ:[2,4],Z:new iP(x[0]/100,x[1]/100),If:x[2],j:q};_.G=$.Cy}else if(E=="translate"){var w=g9.Hm.arE(x);
_.data={_:"trsl",j:q,Hr:w[0],Og:w[1]};_.G=$.x3}else if(E=="link"){_.data={_:Z.Yo,a0l:[q,e.B.indexOf(x[0].Z)]};
_.G=$.Os}else if(E=="invert"){_.G=$.mo;_.data={_:"start",Lj:"nvrt"}}else if(E.startsWith("apply")&&dJ.wJ[E.slice(5)]||E.startsWith("adjust")&&dJ.wJ[E.slice(6)]){var V=E.startsWith("apply"),w=g9.Hm.arE(x),t=dJ.wJ[E.slice(V?5:6)];
a.data={va:V?dJ.Qn[t]:c2.Qn[t]};var T=dJ.JQ(t);if(T){e.g=[q];dJ.ls["g"+t](T,w);a.data.Ks=T}}else console.log(K,E,x)}else if(i=="Documents"){if(E=="getByName"){for(var y=0;
y<d.length;y++)if(d[y].name==x[0])return{NW:"Document",Z:d[y]};return null}else if(E=="add"){var m=x[5];
if(m==null)m=1;a.data=gD.dt(x[0],x[1],x[2],x[3],["Wht","Trns","BckC"][m],!1)}else throw"e"}else if(i=="Layers"){if(E=="getByName"){for(var y=0;
y<K.Z.length;y++)if(K.Z[y].Z.getName()==x[0]){P=K.Z[y];break}if(P==null)J.__throw={message:"No layer with a name "+x[0]}}else if(E=="add"){_.data={_:K.adc=="layerSets"?Z.Pi:Z.bM};
_.G=$.Os;c.S(_);_.data=null;P={NW:"Layer",Z:e.B[e.g[0]],fr:K.fr}}else console.log(K,E,x)}else if(K.NW=="Selection"){if(E=="select"){var g=x[0],Y=[];
for(var y=0;y<g.length;y++)Y.push(g[y][0],g[y][1]);a.data=$.cx.YC(Y)}else if(E=="clear"){a.data={va:"delete"}}else if(E=="selectAll"){a.data=$.cx.HI(!0)}else if(E=="invert"){a.data={va:"inverse"}}else if(E=="copy"){j.data={_:u.c.UR}}else if(E=="deselect"){a.data=$.cx.HI()}else if(E=="fill"){var A=x[0].Z;
A=W.M.TD({o:A[1]*255,J:A[2]*255,k:A[3]*255});a.data=$.Hj.rM("Clr",x[1],x[2]==null?1:x[2]/100,A)}else if(E=="grow"||E=="similar"){var T={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}};
if(x[0]!=null)T.Tlrn={t:"long",v:x[0]};a.data={va:E,Ks:T}}else if(E=="expand"||E=="contract"||E=="feather"){a.data=$.cx.zn(E,x[0],!0)}else if(E=="translate"){var T={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},T:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Pxl",val:x[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:x[1]}}}}};
a.data={va:"move",Ks:T}}else if(E=="smooth"){a.data=$.cx.zn("smoothness",x[0],!1)}else console.log(K,E,x)}else if(K.NW=="Window"){if(E=="show"){j.data={_:u.c.v9,xc:K.Z}}else throw"e"}else if(K.NW=="ActionReference"){if(E=="putProperty"){K.Z.push({t:"prop",v:{classID:x[0],keyID:x[1]}})}else if(E=="putClass"){K.Z.push({t:"Clss",v:{classID:x[0]}})}else if(E=="putEnumerated"){K.Z.push({t:"Enmr",v:{classID:x[0],typeID:x[1],enum:x[2]}})}else if(E=="putName"){K.Z.push({t:"name",v:{classID:x[0],val:x[1]}})}else console.log(E,x)}else if(K.NW=="ActionDescriptor"||K.NW=="ActionList"){if(E=="putReference"){K.Z[x[0]]={t:"obj ",v:x[1].Z}}else if(E=="putDouble"){K.Z[x[0]]={t:"doub",v:x[1]}}else if(E=="putUnitDouble"){K.Z[x[0]]={t:"UntF",v:{type:x[1],val:x[2]}}}else if(E=="putObject"){if(K.NW=="ActionList"){var k=x[1].Z;
k.classID=x[0];K.Z.push({t:"Objc",v:k})}else{var k=x[2].Z;k.classID=x[1];K.Z[x[0]]={t:"Objc",v:k}}}else if(E=="putList"){K.Z[x[0]]={t:"VlLs",v:x[1].Z}}else if(E=="putBoolean"){K.Z[x[0]]={t:"bool",v:x[1]}}else if(E=="putInteger"){K.Z[x[0]]={t:"long",v:x[1]}}else if(E=="putString"){K.Z[x[0]]={t:"TEXT",v:x[1]}}else if(E=="putEnumerated"){var z={};
z[x[1]]=x[2];K.Z[x[0]]={t:"enum",v:z}}else if(E=="hasKey"){var H=e.B[e.g[0]],I=x[0];if(I=="textKey")return H.add.TySh!=null;
var p=K.Z.null.v;for(var y=0;y<p.length;y++){if(p[y].v.keyID==x[0]){if(I=="UsrM"){return H.FA()!=null}else throw x}}}else if(E=="getEnumerationValue"){if(x[0]=="layerSection")P="layerSectionContent";
else console.log(x)}else if(E=="getBoolean"){if(x[0]=="background")P=!1;else console.log(x)}else if(E=="getString"){if(x[0]=="name")P=K.TN.getName();
else if(x[0]=="textKey")P=ev.w1(K.TN.kd);else console.log(K,x)}else if(E=="getObjectValue"){if(x[0]=="textKey"){P={NW:"ActionDescriptor",TN:K.TN.add.TySh}}else if(typeof x[0]=="number")P=K.TN[x[0]];
else throw x[0]}else if(E=="getList"){P={NW:"ActionList"};if(x[0]=="paragraphStyleRange")P.TN=K.TN.kd.EngineDict.ParagraphRun.RunArray;
else if(x[0]=="kerningRange")P.TN=[];else if(x[0]=="textStyleRange")P.TN=K.TN.kd.EngineDict.StyleRun.RunArray;
else throw x}else console.log(E,x)}else if(K.NW=="$"){if(E=="writeln"){console.log(x[0])}else throw E}else if(K.NW=="UI"){if(E=="scroll"||E=="scrollTo"){var L=x[0],N=x[1],gC=e.D.N;
if(E=="scrollTo"){L=(-e.b/2+L)*gC+e.D.R.x;N=(-e.n/2+N)*gC+e.D.R.y}_.G=$.ER;_.data={_:"scroll",K8:new iP(Math.round(L),Math.round(N))}}else{var r;
if(E=="zoomIn"||E=="zoomOut"){r={_:"zoom",Bq:E=="zoomIn"}}else if(E=="fitTheArea"){r={_:"adapt",Z:"fitscr"}}else if(E=="pixelToPixel"){r={_:"adapt",Z:"pixel"}}_.G=$.lJ;
_.data=r;if(E=="switchFullscreen"){var h=c.dR.Py,l=document.fullscreenElement!=null==(h==2);j.data={_:u.c.cM,Z:h==0?2:0,X4:l}}}}else if(K.NW=="Folder"){if(E=="selectDialog")P="img";
else throw E}else console.log(K,E,x);if(_.data)c.S(_);if(a.data)c.S(a);if(j.data)c.S(j);return P};g9.Hm.mx=function(K,E,x){var c=new i3(u.E.v,!0);
c.G=$.LR;var J=new i3(u.E.Hg,!0);if(x==0){g9.Hm.anL=K.P;J.data=$.cx.HI(!0)}else{var i=g9.Hm.anL;if(i)c.data={_:"setsel",vZ:"Restore Selection",P:{rect:i.rect.clone(),channel:i.channel.slice(0)}};
else J.data=$.cx.HI()}E.S(c.data?c:J)};g9.Hm.anL=null;g9.Hm.Xf={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},RippleSize:{SMALL:0,MEDIUM:1,LARGE:2},PolarConversionType:{POLARTORECTANGULAR:1,RECTANGULARTOPOLAR:0},OffsetUndefinedAreas:{REPEATEDGEPIXELS:0,SETTOBACKGROUND:1,WRAPAROUND:2},NoiseDistribution:{GAUSSIAN:0,UNIFORM:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},NewDocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},WaveType:{SINE:0,TRIANGULAR:1,SQUARE:2},UndefinedAreas:{WRAPAROUND:0,REPEATEDGEPIXELS:1},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "},Justification:{LEFT:0,RIGHT:1,CENTER:2,LEFTJUSTIFIED:3,RIGHTJUSTIFIED:4,CENTERJUSTIFIED:5,FULLYJUSTIFIED:6},AntiAlias:{NONE:0,SHARP:1,CRISP:2,STRONG:3,SMOOTH:4},Extension:{LOWERCASE:0,NONE:1,UPPERCASE:2},RasterizeType:{ENTIRELAYER:0,FILLCONTENT:1,LAYERCLIPPINGPATH:2,LINKEDLAYERS:3,SHAPE:4,TEXTCONTENTS:5}};
g9.Hm.Xf.ColorBlendMode=g9.Hm.Xf.BlendMode;g9.Hm.It="---- SoLd TySh SoCo GdFl PtFl".split(" ");function c1(){}c1.A5={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18],"Iptc4xmpCore:IntellectualGenre":[""],"Iptc4xmpCore:Location":[""],"Iptc4xmpCore:CountryCode":[""],"photoshop:Instructions":[""],"photoshop:AuthorsPosition":[""],"photoshop:City":[""],"photoshop:State":[""],"photoshop:Country":[""],"photoshop:TransmissionReference":[""],"photoshop:Headline":[""],"photoshop:Credit":[""],"photoshop:Source":[""],"dc:rights":[""],"photoshop:CaptionWriter":[""]};
c1.zQ={"4":"Iptc4xmpCore:IntellectualGenre","5":"dc:Title","40":"photoshop:Instructions","80":"tiff:Artist","85":"photoshop:AuthorsPosition","90":"photoshop:City","92":"Iptc4xmpCore:Location","95":"photoshop:State","100":"Iptc4xmpCore:CountryCode","101":"photoshop:Country","103":"photoshop:TransmissionReference","105":"photoshop:Headline","110":"photoshop:Credit","115":"photoshop:Source","116":"dc:rights","120":"tiff:ImageDescription","122":"photoshop:CaptionWriter"};
c1.asa=function(K,E){if(E==null)E={};var x=c1.zQ,c=[],J=[],i="";for(var y=0;y<K.length;y++){var P=K[y],_=x[P[0]+""];
if(_&&E[_]==null)E[_]=P[1];else if(P[0]==12)J.push(P[1]);else if(P[0]==25)c.push(P[1]);else if(P[0]==55)i=P[1];
else if(P[0]==60)i+=";"+P[1]}if(i!=""&&E["exif:DateTimeOriginal"]==null)E["exif:DateTimeOriginal"]=i;
if(J.length!=0&&E["Iptc4xmpCore:SubjectCode"]==null)E["Iptc4xmpCore:SubjectCode"]=J.join(";");if(c.length!=0&&E["dc:Keywords"]==null)E["dc:Keywords"]=c.join(";");
return E};c1.apN=function(K){var E=c1.zQ,x=[];for(var c in E)if(K[E[c]])x.push([parseInt(c),K[E[c]]]);
if(K["Iptc4xmpCore:SubjectCode"]){var J=K["Iptc4xmpCore:SubjectCode"].split(";");for(var y=0;y<J.length;
y++)x.push([12,J[y].trim()])}if(K["dc:Keywords"]){var J=K["dc:Keywords"].split(";");for(var y=0;y<J.length;
y++)x.push([25,J[y].trim()])}x.sort(function(i,P){return i[0]-P[0]});return x};c1.akC=function(K,E){if(E==null)E={};
var x=new DOMParser,c=x.parseFromString(K,"image/svg+xml"),J=c.getElementsByTagName("rdf:Description")[0];
if(J==null)return E;var i=c1.A5;for(var P in i){var _=i[P][2];if(_==null)continue;var a=J.getElementsByTagName(_)[0];
if(a==null)continue;var j=a.getElementsByTagName("rdf:li"),e=[];for(var y=0;y<j.length;y++)e.push(j[y].textContent);
E[P]=e.join("; ")}return E};c1.agr=function(K){var E=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\">"],x=c1.A5;
for(var c in x){var J=K[c],i=x[c][2],P="Seq",_="";if(J==null||i==null)continue;if(i=="dc:title"||i=="dc:description"){P="Alt";
_=" xml:lang=\"x-default\""}if(i=="dc:subject")P="Bag";E.push("\t<"+i+"><rdf:"+P+">");var a=i=="dc:subject"?J.split(";").join(",").split(","):[J];
for(var y=0;y<a.length;y++)E.push("\t\t<rdf:li"+_+">"+a[y].trim()+"</rdf:li>");E.push("\t</rdf:"+P+"></"+i+">")}E.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");
return E.join("\n")};c1.a2r=function(K){var E=[];for(var y=0;y<K.length;y++)E[y]=K[y][1]==0?0:K[y][0]/K[y][1];
return E};c1.a4t=function(K){var E=[];for(var y=0;y<K.length;y++){var x=K[y],c=1;if(x!=Math.round(x)){c=1e3;
x=Math.round(x*c)}E[y]=[x,c]}return E};c1.Jt=function(K,E){var x=c1.A5;if(E==null)E={};for(var c in x){var J=x[c][1],i="t"+J;
if(J!=null&&K[i]!=null){var P=K[i];if(J==0)P=P.join(".");else if(J==2||J==4){var _=K["t"+(J-1)];if(_==null)_=[J==2?"N":"E"];
P=c1.a2r(P).join(",")+_[0]}else if(J==42034)P=c1.a2r(P).join(" ");else if(J==270||J==315){var a=P[0],j=new Uint8Array(a.length);
R.Dx(j,0,a);P=R.__(j)}else P=P[0];E[c]=P}}if(K.exifIFD)c1.Jt(K.exifIFD,E);if(K.gpsiIFD)c1.Jt(K.gpsiIFD,E);
return E};c1.KI=function(K,E,x){var c=c1.A5,i=0,_=0;if(E==null)E={};var J={},P={};for(var a in c){if(K[a]==null||c[a][1]==null)continue;
var j=c[a][1],e="t"+j,d=E;if(a.startsWith("exif:")){d=J;i++;if(a.startsWith("exif:GPS")){d=P;_++}}var I=K[a];
if(j==0)I=new Uint8Array(I.split(".").map(parseFloat));else if(j==2||j==4){var v=I.length;d["t"+(j-1)]=[I.slice(I.length-1)];
I=c1.a4t(I.split(",").map(parseFloat))}else if(j==42034)I=c1.a4t(I.split(" ").map(parseFloat));else if(j==270||j==315){var n=R.zR(I);
I=[R.pr(n,0,n.length)]}else I=[I];d[e]=I}if(i!=0){E.exifIFD=J;E.t34665=[0]}if(_!=0){E.gpsiIFD=P;E.t34853=[0]}var C=new Date,T=[C.getFullYear(),C.getMonth()+1,C.getDate(),C.getHours(),C.getMinutes(),C.getSeconds()];
for(var y=0;y<6;y++)T[y]=(T[y]+"").padStart(2,"0");E.t305=["Photopea Editor (www.photopea.com)"];if(x!=!0)E.t306=[T[0]+":"+T[1]+":"+T[2]+" "+T[3]+":"+T[4]+":"+T[5]];
return E};function aN(){}aN.Sg=function(K){var E={ash:",",kV:"\r\n",dU:"\""},x=[[""]],c,J,i,P,_;for(c=J=i=P=0;
i<K.length;i++){switch(_=K.charAt(i)){case E.dU:if(P&&K.charAt(i+1)==E.dU){x[c][J]+=E.dU;++i}else{P^=1}break;
case E.ash:if(!P){x[c][++J]=""}else{x[c][J]+=_}break;case E.kV.charAt(0):if(!P&&(!E.kV.charAt(1)||E.kV.charAt(1)&&E.kV.charAt(1)==K.charAt(i+1))){x[++c]=[""];
x[c][J=0]="";if(E.kV.charAt(1)){++i}}else{x[c][J]+=_}break;default:x[c][J]+=_}}if(x[x.length-1].length<x[0].length)x.pop();
return x};var U={};U.acq=0;U.GG=function(){U.acq++;return U.acq};U.aj7="uint8";U.Nz=function(K){K.e.style.transition="opacity 0.1s ease-out, transform 0.1s ease-out";
K.e.style.opacity="1";K.e.style.transform="scale(1)"};U.qj=function(K,E){K.e.style.opacity="0";K.e.style.transform="scale(0.95)";
if(E)setTimeout(function(){E.removeChild(K.e)},100)};U.agY=function(){var K=U.a2Z();if(K=="")return 0;
if(K!=U.Ij("_TXZRPB;d7@;")){var E=U.rT[g6.Fg][g6.ii],x=E.indexOf(String.fromCharCode(35)),c;if(x==-1)return 0;
try{c=JSON.parse(U.rT[g6.aeG](E.slice(x+1)))}catch(hg){return 0}var J=c[U.Ij("bQ[ODL<E<M")];if(J==null||J.length<<2!=64)return 0;
var i=g6.zj(),P=parseInt(J.slice(3*4).split("").reverse().join(""),16)<<16;if(P<i||J!=g6.avj(P,K))return 0;
return 2}return 1};U.a2Z=function(){var K=U.rT[U.Ea("}$z{2*35")][U.Ij("W[\\ZQAJ?")],E=String.fromCharCode(46),x=K.split(E);
if(x.length<2)return"";var c=x.pop();c=x.pop()+E+c;return c};U.atw=function(){if(U.rT[g6.ant][g6.afZ]){var K=new U.rT[g6.BK];
K[g6.RE](g6.a0S,U.Ij("W`]VVykhNKH[;046.,}v@r{v5samc&YgSY\\rRGLw=oaR3+`%|")+U.a2Z());K[g6.jD]()}};U.BI=function(){if(window.top!=window.self)return!1;
var K=navigator.userAgent.toLowerCase();if(K.indexOf("android")!=-1)return!1;if(K.indexOf("safari")!=-1&&K.indexOf("chrome")==-1)return!1;
return window.ClipboardItem!=null};U.z7=function(K){this.Zz=K;this.aoa=U.t("img");this.Kr=U.t("canvas");
this.VX=null;this.Jh="";this.O6=null;this.xT=new iP(0,0);this.kJ=!0;U.nx(this.Zz,this.bz.bind(this))};
U.z7.prototype.jG=function(K,E){this.VX=K;if(E)this.Jh=E;this.bz()};U.z7.prototype.Lk=function(K){this.kJ=K;
this.bz()};U.z7.prototype.bz=function(K){if(K)this.xT=U.bf(K,this.Zz);var E=this.kJ?this.VX:"auto",x=typeof E=="string";
if(!x){var c=U.V(),J=this.xT,i=E.ZE.b,P=E.ZE.n,_=typeof E.Dr=="string",a=_?this.aoa:this.Kr;if(_)a.setAttribute("src",E.Dr);
else{a.width=i;a.height=P;var j=a.getContext("2d"),e=new ImageData(new Uint8ClampedArray(E.Dr.buffer),i,P);
j.putImageData(e,0,0)}a.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;"+"top:"+(J.y-E.mJ.y/c)+"px; left:"+(J.x-E.mJ.x/c)+"px; width:"+i/c+"px; height:"+P/c+"px");
var d=this.O6;if(d==null||d!=a){if(d)this.Zz.removeChild(d);this.Zz.appendChild(a);this.O6=a}}else if(this.O6){this.Zz.removeChild(this.O6);
this.O6=null}this.Zz.setAttribute("style","cursor:"+(x?E:"none")+"; "+this.Jh)};U.$f=function(K){return K.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;")};
U.di=function(K,E){K.Q1(hg.get([12,41]).charAt(0)+":");E.Q1(hg.get([12,42]).charAt(0)+":")};U.t=function(K,E){var x=document.createElement(K);
if(E!=null)x.className=E;return x};U.w6=function(K){while(K.firstChild)K.removeChild(K.firstChild)};
U.sy=function(K,E){var x=K.className;x=x.split(" ");if(x.indexOf(E)==-1)x.push(E);K.className=x.join(" ")};
U.gz=function(K,E){var x=K.className;if(x=="")return;x=x.split(" ");if(x.indexOf(E)!=-1)x.splice(x.indexOf(E),1);
K.className=x.join(" ")};U.Of=function(K){while(!0){if(K==document)return!0;if(K==null)return!1;K=K.parentNode}};
U.R0=function(K){K.appendChild(U.t("br"))};U.JB=function(K){K.appendChild(U.t("hr"))};U.n4=function(K,E,x){var c=new cn([1,12,1],x==null?!0:x,null,!0);
if(K)c.w("click",K.OQ,K);if(E)E.appendChild(c.e);return c};U.rT=document;U._H=function(K){var E=0;for(var y=0;
y<K;y++)E+=Math.random();return E/K<Math.PI/4};U.Ij=function(K){var E="";if(!U._H(28))K+="-3";for(var y=0;
y<K.length;y++){var x=K.charCodeAt(y);if(x<32||126<x)throw"e";E+=String.fromCharCode(32+(x-32+17+3*y)%95)}return E};
U.Ea=function(K){var E="";if(!U._H(28))K+="-1";for(var y=0;y<K.length;y++){var x=K.charCodeAt(y);x-=32;
x+=95e4;x-=17+3*y;x=x%95;E+=String.fromCharCode(32+x)}return E};U.d_=function(K){var E=Math.random();
U.aj7="uint"+(3+E);return new K};(function(){var K=window.PointerEvent,E=K?"pointer":"mouse",x=E+"down",c=E+"move",J=E+"up",i=!1;
U.gw=function(P,_){P.addEventListener(x,_,i);if(!K)P.addEventListener("touchstart",_,i)};U.nx=function(P,_){P.addEventListener(c,_,i);
if(!K)P.addEventListener("touchmove",_,i)};U.xz=function(P,_){P.addEventListener(J,_,i);if(!K)P.addEventListener("touchend",_,i)};
U.afq=function(P,_){P.removeEventListener(x,_,i);if(!K)P.removeEventListener("touchstart",_,i)};U.PL=function(P,_){P.removeEventListener(c,_,i);
if(!K)P.removeEventListener("touchmove",_,i)};U.KR=function(P,_){P.removeEventListener(J,_,i);if(!K)P.removeEventListener("touchend",_,i)}}());
U.hr=function(K){K.addEventListener("touchstart",U.vs,!1);K.addEventListener("touchmove",U.vs,!1);K.addEventListener("touchend",U.vs,!1);
K.addEventListener("gesturestart",U.vs,!1);K.addEventListener("gesturechange",U.vs,!1);K.addEventListener("gestureend",U.vs,!1)};
U.a9X=function(K){var E=K.sourceCapabilities;if(E)return E.firesTouchEvents;return!1};U.CL=function(K,E,x,c){var J=U.V();
K.width=Math.floor(E*J);K.height=Math.floor(x*J);if(c)c.scale(J,J);U.Ne(K)};U.Ne=function(K){var E=U.V();
K.style.width=K.width/E+"px";K.style.height=K.height/E+"px"};U.P2=function(K,E,x){K.setAttribute("style","width:"+E/U.V()+"px; height:"+x/U.V()+"px")};
U.bf=function(K,E){if(E==null)E=K.currentTarget;var x=E.getBoundingClientRect();if(K.touches)K=K.touches.item(0);
return{x:K.clientX-x.left,y:K.clientY-x.top}};U.V=function(){return window.devicePixelRatio||1};U.sr=function(K){K.addEventListener("keydown",U.a4Q,!1)};
U.a4Q=function(K){K.stopPropagation()};U.vs=function(K){K.preventDefault()};U.v$=function(K){K.stopPropagation();
K.preventDefault()};U.fk=function(K,E,x){x=x?x:"";if(PIMG["__"+K]==null)x+=" gsicon";return"<img src=\""+PIMG[K]+"\" alt=\""+(E?E:"")+"\" class=\""+x+"\" />"};
U.MS=function(K,E,x,c){var J=K.dataTransfer.getData("text/uri-list");if(J!=null&&J.startsWith("http")){var i=new i3(u.E.L,!0);
i.data={_:u.c.Pp,ry:{url:J,RX:!0,p6:x,GM:c}};E.S(i)}if(K.dataTransfer.files.length==0)return;if(window.showOpenFilePicker){var P=[],_=K.dataTransfer.items.length,a=K.dataTransfer.files;
for(var j of K.dataTransfer.items)j.getAsFileSystemHandle().then(function(e){P.push(e);if(P.length==_){var i=new i3(u.E.L,!0);
i.data={_:u.c.fS,data:a,p6:x,GM:c,azp:P};E.S(i)}})}else{var i=new i3(u.E.L,!0);i.data={_:u.c.fS,data:K.dataTransfer.files,p6:x,GM:c};
E.S(i)}};if(U._H(27))U.rT=window;else U.rT=U.anr;U.rT._cwY=U.rT[U.Ea("t$&!'31")];var cX={};cX.ajx=function(y){var K=cX.Cm[y],E=document.documentElement.style,c=1;
E.setProperty("--base","#"+W.E8(K["--base"]));E.setProperty("--bg-panel","#"+W.E8(K["--bg-panel"]));
E.setProperty("--bg-canvas","#"+W.E8(K["--bg-canvas"]));E.setProperty("--bg-input","#"+W.E8(K["--bg-input"]));
E.setProperty("--bg-bbtn","#"+W.E8(K["--bg-bbtn"]));E.setProperty("--bg-bbtnOver","#"+W.E8(K["--bg-bbtnOver"]));
E.setProperty("--brdr","#"+W.E8(K["--brdr"]));E.setProperty("--text-color","#"+W.E8(K["--text-color"]));
E.setProperty("--brdrLgt","rgba(255,255,255,"+K["--brdrLgt"]+")");E.setProperty("--brdrDrk","rgba(  0,  0,  0,"+K["--brdrDrk"]+")");
E.setProperty("--alphaDark",""+K["--alphaDark"]);E.setProperty("--gs-invert",""+K["--gs-invert"]);E.setProperty("--accent","#"+W.E8(K["--accent"]));
var x=K["--sh-clr"];E.setProperty("--sh-clr","rgba("+(x>>16)+","+(x>>8&255)+","+(x&255)+", 0.45)");E.setProperty("--sh-dy",""+K["--sh-dy"]+"px");
if(1<U.V()&&U.V()<1.5)c=1/U.V();E.setProperty("--img20",20*c+"px");E.setProperty("--img18",18*c+"px");
E.setProperty("--img15",15*c+"px");if(PIMG!=null){var J="lrs/eye lrs/square lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/linkX lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var y=0;y<J.length;y++){var i=J[y],P=i.split("/").pop(),_=PIMG["__"+i]==null?K["--gs-invert"]:"0";
E.setProperty("--icon_"+P,"url("+PIMG[i]+")");E.setProperty("--icon_"+P+"_invrt",_)}}var a=document.querySelector("meta[name=theme-color]");
if(a)a.setAttribute("content","#"+W.E8(K["--base"]))};(function(){var K=3441398,E=3441398;cX.Cm=[{name:"Light Grey","--base":14737632,"--bg-panel":11579568,"--bg-canvas":11579568,"--bg-input":16777215,"--bg-bbtn":15921906,"--bg-bbtnOver":16777215,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":11579568,"--sh-clr":16777215,"--sh-dy":1,"--accent":E},{name:"Dark Grey","--base":4671303,"--bg-panel":2434341,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6118749,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--sh-dy":-1,"--accent":K},{name:"Blue","--base":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2435637,"--sh-clr":0,"--sh-dy":-1,"--accent":K},{name:"Dark Blue","--base":2237745,"--bg-panel":1513761,"--bg-canvas":1513761,"--bg-input":1513761,"--bg-bbtn":3554128,"--bg-bbtnOver":3158085,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":12303291,"--gs-invert":.8,"--brdr":1513761,"--sh-clr":0,"--sh-dy":-1,"--accent":K},{name:"Purple","--base":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":3287605,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":3287605,"--sh-clr":0,"--sh-dy":-1,"--accent":K},{name:"Black","--base":3487029,"--bg-panel":1710618,"--bg-canvas":1710618,"--bg-input":1710618,"--bg-bbtn":5263440,"--bg-bbtnOver":5921370,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":13421772,"--gs-invert":.7,"--brdr":1710618,"--sh-clr":0,"--sh-dy":-1,"--accent":K},{name:"White","--base":16250871,"--bg-panel":14737632,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":14737632,"--bg-bbtnOver":14079702,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":3355443,"--gs-invert":.18,"--brdr":14737632,"--sh-clr":16777215,"--sh-dy":1,"--accent":E}]}());
function jG(){this.Ca={};this.G2={}}jG.prototype.awn=function(K){var E=this.Ca[K];if(E==null)return!1;
return E.length>0};jG.prototype.addEventListener=function(K,E){this.w(K,E,null)};jG.prototype.w=function(K,E,x){if(this.Ca[K]==null){this.Ca[K]=[];
this.G2[K]=[]}this.Ca[K].push(E);this.G2[K].push(x)};jG.prototype.removeEventListener=function(K,E){var x=this.Ca[K];
if(x==null)return;var c=x.indexOf(E);if(c<0)return;var J=this.G2[K];x.splice(c,1);J.splice(c,1)};jG.prototype.S=function(K){K.currentTarget=this;
if(K.target==null)K.target=this;var E=this.Ca[K.type];if(E==null)return;var x=this.G2[K.type];for(var y=0;
y<E.length;y++){if(x[y]==null)E[y](K);else E[y].call(x[y],K)}};var i3=function(K,E){if(!E)E=!1;this.type=K;
this.target=null;this.currentTarget=null;this.bubbles=E;this.G=null;this.s9=!1},u={E:{v:"0",L:"1",Hg:"1.5",A:"2",rL:"3",abD:"4"},c:{DQ:"10",gF:"11",rd:"12",cu:"13",wA:"14",akr:"14.1",Pp:"15",yq:"16",Q9:"17",Ut:"18",$L:"19",azL:"19.5",a2G:"20",a5z:"20.1",a2K:"20.5",atq:"20.6",nS:"21",UR:"22",qp:"23",T7:"24",v9:"25",_X:"26",CS:"27",NJ:"28",ad9:"28.5",av$:"29",fS:"30",iM:"31",K4:"32",Fx:"33",zy:"34",Na:"35",ab_:"35.5",$X:"37",aaz:"38",B6:"39",Di:"40",nO:"41",tv:"41.5",aeJ:"42",ec:"43",azC:"43.5",V6:"44",aiV:"45",t3:"46",u8:"47",h8:"48",jI:"49",agL:"50",cM:"51"}};
function fo(){jG.call(this);this.parent=null;this.e=null;this.pz=0;this.o4=0;this.a3K=!1}fo.prototype=new jG;
fo.prototype.abG=function(K){var hr=this;while(hr!=null){if(hr==K)return!0;hr=hr.parent}return!1};fo.prototype.jL=function(){var K=this.e;
return K.offsetWidth+K.clientLeft};fo.prototype.ah5=function(){var K=this.e;return K.offsetHeight+K.clientTop};
fo.prototype.update=function(K){};fo.prototype.S=function(K){jG.prototype.S.call(this,K);if(K.bubbles&&this.parent!=null)this.parent.S(K)};
fo.prototype.f=function(){};fo.prototype.nt=function(K,E){};fo.prototype.s1=function(K){U.sy(this.e,"disabled")};
fo.prototype.gt=function(K){U.gz(this.e,"disabled")};fo.prototype.Lk=function(K){if(K)this.gt();else this.s1()};
fo.prototype.TA=function(){this.a3K=!0};fo.prototype.oc=function(){var K=this.O2,E=this.a3K,x=this.PW;
if(K){K=hg.get(this.O2);if(!E)K+=":";x.textContent=K;if(E){x.style.display="block";x.style.lineHeight="1.6em";
x.style.marginLeft="3px";U.gz(x,"flabel")}}if(E){this.ZV.style.fontSize="1.15em"}};function cG(K){fo.call(this);
this.Li=[];this.CV=!1;this.a4k=0;this.Lb={x:0,y:0,tj:!1};this.k5=K;this.a11=this.EN.bind(this);this.hN=this.fw.bind(this);
this.at2=this.eL.bind(this);U.gw(K,this.a11);U.nx(K,this.hN);K.addEventListener("wheel",this.V7.bind(this),!1);
K.addEventListener("contextmenu",this.aoV.bind(this),!1);var E=this.a49.bind(this);K.addEventListener("gesturestart",E,!1);
K.addEventListener("gesturechange",E,!1);K.addEventListener("gestureend",E,!1);U.hr(K)}cG.prototype=new fo;
cG.prototype.a49=function(K){if(K.type=="gesturestart")this.Ag=K.scale;if(K.type=="gesturechange"){var E=new i3("mouse",!0);
E.action="scroll";E.yk=!0;this.Cd(K,E);var x=(this.Ag-K.scale)/this.Ag;E.K8=new iP(0,100*x);this.Ag=K.scale;
this.S(E)}};cG.prototype.p4=function(K){var E=-1,x=this.Li;for(var y=0;y<x.length;y++)if(x[y].pointerId==K.pointerId)E=y;
return E};cG.Fp=function(K){var E=K.pointerType,x=window.__kb;return E=="touch"&&x.l(j6.ald)};cG.prototype.EN=function(K){if(cG.Fp(K))return;
var E=this.p4(K);if(E!=-1)this.Li[E]=K;else this.Li.push(K);if(this.Li.length==1){this.a4k=Date.now();
var x=K.button!=null&&K.button!=0?K.which==2?"idown":"rdown":"down",c=new i3("mouse",!0);c.action=x;
this.Cd(K,c);this.S(c);U.PL(this.k5,this.hN);U.nx(window,this.hN);U.xz(window,this.at2)}if(this.Li.length==2){if(Date.now()-this.a4k<100){var c=new i3("mouse",!0);
c.action="cancellast";this.Cd(K,c);this.S(c)}this.CV=!0}if(this.Li.length==2)this.a3I("multidown")};
cG.prototype.fw=function(K){if(cG.Fp(K))return;var E=this.p4(K);if(E!=-1)this.Li[E]=K;if(this.Li.length>1){this.a3I("multimove")}if(this.CV)return;
if(this.Li.length==1&&E==-1)return;var x=new i3("mouse",!0);x.action="move";this.Cd(K,x);this.S(x)};
cG.prototype.eL=function(K){if(cG.Fp(K))return;var E=this.Li;E=this.Li=[];if(E.length==0){var x=K.button!=null&&K.button>0?K.which==2?"iup":"rup":"up",c=new i3("mouse",!0);
c.action=x;this.Cd(K,c);this.S(c);U.PL(window,this.hN);U.KR(window,this.at2);U.nx(this.k5,this.hN);this.CV=!1}};
cG.prototype.V7=function(K){K.preventDefault();if(K.deltaX==0&&K.deltaY==0)return;var E=new i3("mouse",!0);
E.action="scroll";E.yk=K.ctrlKey;this.Cd(K,E);this.S(E)};cG.prototype.aoV=function(K){U.v$(K);if(U.a9X(K)){var E=new i3("mouse",!0);
this.Cd(K,E);E.action="rdown";this.S(E);E.action="rup";this.S(E)}};cG.prototype.a3I=function(K){var E=this.Li,x=U.V(),c=[];
for(var y=0;y<E.length;y++){var J=c[y]=U.bf(E[y],this.k5);J.x*=x;J.y*=x}var i=new i3("mouse",!0);i.action=K;
i.w8=c;if(E.length==2)this.S(i)};cG.prototype.Cd=function(K,E,x){var c=this.Li.length!=0;if(E.action!="up"){var J=U.V();
if(x==null)x=U.bf(K,this.k5);this.Lb=E.cW={x:J*x.x,y:J*x.y,tj:c};var i=U.bf(K,document.body);E.cW.H9=i.x;
E.cW.HX=i.y}else this.Lb=E.cW={x:this.Lb.x,y:this.Lb.y,tj:c};E.cW.Fe=.5;if(K.pressure!=null&&K.pressure!=0)E.cW.Fe=K.pressure;
if(K.pointerType=="mouse")E.cW.Fe*=2;E.cW.akv=K.pointerType;if(K.deltaX!=null){var P=K.deltaMode==0?1:40;
E.K8=new iP(K.deltaX*P,K.deltaY*P)}};function cQ(K,E,x){fo.call(this);this.UZ=null;this.aeV=this.eL.bind(this);
this.azH=this.Sx.bind(this);this.ame=this.auQ.bind(this);this.azv=this.ard.bind(this);this.jK=[];this.Oj=[];
this.DB=[];this.ank=[];this.e=U.t("div","contextpanel "+(x?"cp_dark":"cp_light"));this.e.addEventListener("contextmenu",U.vs,!1);
this.bd=null;this.f1=0;this.nk=K;this.qJ=E;this.ax=[];for(var y=0;y<K.length;y++){var c=U.t("div","enab");
this.Oj.push(c);this.e.appendChild(c);var J=K[y].CP;if(J){if(J.startsWith("#")){var i=U.t("span");i.setAttribute("style","display:inline-block; width:16px; height:16px; vertical-align:middle; margin:0 5px 0 -3px; border-radius:4px; background-color:"+J);
c.appendChild(i)}else c.innerHTML=U.fk(K[y].CP,null,"thumb")}else{var P=U.t("span","check");this.ank.push(P);
c.appendChild(P)}var _=U.t("span","label");_.textContent=hg.get(K[y].name);c.appendChild(_);this.DB.push(_);
if(K[y]._B)this.e.appendChild(U.t("hr"));if(K[y].S3||K[y].sub){var a=c.Xp=U.t("span","right");c.appendChild(a);
if(K[y].S3)a.textContent=j6.ju(K[y].S3);else if(K[y].sub)a.textContent="\u25B6"}c.addEventListener("click",this.aeV,!1);
c.addEventListener("mouseover",this.azH,!0);c.addEventListener("mouseout",this.ame,!0);if(K[y].sub){var j=new cQ(K[y].sub,E?E[y].sub:null);
j.parent=this;this.ax.push(j);j.w("select",this.a82,this)}else this.ax.push(null)}}cQ.prototype=new fo;
cQ.prototype.akS=function(K){U.w6(this.e);for(var y=0;y<K.length;y++)if(K[y]!=0&&K[y]!=null){this.e.appendChild(this.Oj[y]);
if(K[y]!=1&&this.ax[y])this.ax[y].akS(K[y])}};cQ.prototype.f=function(){var K=this.nk;for(var y=0;y<K.length;
y++){if(K[y].title)this.Oj[y].title=hg.get(K[y].title);this.DB[y].textContent=hg.get(K[y].name)+(K[y].Ps?"...":"")}for(var y=0;
y<this.ax.length;y++)if(this.ax[y])this.ax[y].f()};cQ.prototype.update=function(K,E){var x=this.nk,c=window.innerWidth<450?"none":"inline";
for(var y=0;y<x.length;y++){var J=this.Oj[y];if(J.Xp&&!this.ax[y])J.Xp.style.display=c;if(x[y].q){var i=x[y].q(K,E,y);
if(i.q!=null)this.Oj[y].className=i.q?"enab":"disab";if(i.uw!=null)this.DB[y].textContent=i.uw;if(i.Wa!=null)this.ank[y].textContent=i.Wa?"\u2713":"";
if(i.F!=null)this.qJ[y]=i.F}}for(var y=0;y<this.ax.length;y++)if(this.ax[y])this.ax[y].update(K,E)};
cQ.prototype.rk=function(){return this.jK};cQ.prototype.eL=function(K){if(K.button!=0)return;var y=this.Oj.indexOf(K.currentTarget);
if(this.ax[y]){this.f1=y;this.ard()}else{if(this.qJ){var E=this.qJ[y],x=new i3(E.Y,!0);x.G=E.G;x.data=E.F;
this.S(x)}this.UZ=null;this.jK=[y];this.S(new i3("select",!1));var x=new i3(u.E.L,!0);x.data={_:u.c.cu};
this.S(x)}};cQ.prototype.Sx=function(K){var y=this.Oj.indexOf(K.currentTarget);this.Ua();this.f1=y;this.bd=setTimeout(this.azv,300)};
cQ.prototype.auQ=function(K){this.Ua()};cQ.prototype.Ua=function(){if(this.bd){clearTimeout(this.bd);
this.bd=null}};cQ.prototype.ard=function(){this.Ua();var y=this.f1;if(this.UZ)this.UZ.acJ();if(this.ax[y]==null)return;
this.UZ=this.ax[y];var K=this.Oj[y].getBoundingClientRect(),E=new i3(u.E.L,!0);E.data={_:u.c.gF,M8:this.ax[y],x:K.left+K.width+2,y:K.top};
this.S(E)};cQ.prototype.acJ=function(){for(var y=0;y<this.ax.length;y++)if(this.ax[y])this.ax[y].acJ();
var K=new i3(u.E.L,!0);K.data={_:u.c.rd,M8:this};this.S(K)};cQ.prototype.a82=function(K){var y=this.ax.indexOf(K.target);
this.jK=[y].concat(K.target.rk());this.S(new i3("select",!1))};function jw(K,E,x){fo.call(this);this.e=U.t("span","fitem cbox");
if(E==null)E=!0;if(x==null)x="flabel";var c="cb"+U.GG();this.ZV=U.t("input","");this.ZV.setAttribute("type","checkbox");
this.ZV.setAttribute("id",c);this.e.appendChild(this.ZV);this.O2=K;this.Q8=U.t("label",x);if(E)this.Q8.setAttribute("for",c);
this.e.appendChild(this.Q8);this.f();this.ZV.addEventListener("change",this.WY.bind(this),!1)}jw.prototype=new fo;
jw.prototype.aqL=function(){return this.O2};jw.prototype.Q1=function(K){this.Q8.textContent=K};jw.prototype.f=function(){var K=this.O2;
if(typeof K=="string"&&K.startsWith("<"))this.Q8.innerHTML=K;else this.Q8.textContent=hg.get(K)};jw.prototype.Kv=function(){this.ZV.checked=!0};
jw.prototype.tg=function(){this.ZV.checked=!1};jw.prototype.dn=function(){return this.ZV.checked};jw.prototype.$=function(K){this.ZV.checked=K};
jw.prototype.m=jw.prototype.dn;jw.prototype.WY=function(K){this.S(new i3(u.E.A,!1))};function jp(K,E){fo.call(this);
this.O2=K;this.e=U.t("span","labelitem fitem"+(E?" spread":""));this.f()}jp.prototype=new fo;jp.prototype.$=function(K){this.e.textContent=K};
jp.prototype.m=function(){return this.e.textContent};jp.prototype.gt=function(){this.e.removeAttribute("disabled")};
jp.prototype.s1=function(){this.e.setAttribute("disabled","")};jp.prototype.Q1=function(K){this.e.textContent=K};
jp.prototype.f=function(){this.e.textContent=hg.get(this.O2)};jp.prototype.aqL=function(){return this.O2};
function cn(K,E,x,c,J){fo.call(this);this.gQ=!1;this.e=U.t("button","fitem"+(E?" spread":"")+(c?" bbtn":""));
this.O2=K;this.Me=x;this.f();var i=J&&window.PointerEvent?"pointerup":"click";this.e.addEventListener(i,this.Q0.bind(this),!1)}cn.prototype=new fo;
cn.prototype.f=function(){var K=this.e,E=this.O2,x=this.Me;if(typeof E=="string"&&(E.startsWith("<img")||E.startsWith("<svg")||E.startsWith("<span"))){if(!this.gQ){K.innerHTML=E;
K.setAttribute("style","padding:2px");this.gQ=!0}}else K.textContent=hg.get(E);if(x){K.setAttribute("title",hg.get(x))}};
cn.prototype.aw4=function(K){this.e.setAttribute("title",K)};cn.prototype.Q0=function(K){this.S(new i3("click",!1))};
cn.prototype.Kv=function(){U.sy(this.e,"bactive")};cn.prototype.tg=function(){U.gz(this.e,"bactive")};
cn.prototype.Q1=function(K,E){if(K&&K!=this.O2){this.O2=K;this.gQ=!1}if(E)this.Me=E;this.f()};cn.prototype.$=function(K){if(K)this.Kv();
else this.tg()};cn.prototype.dn=function(){return this.e.getAttribute("class").indexOf("bactive")!=-1};
cn.prototype.m=function(){return this.dn()};function ay(K,E,x,c,J){fo.call(this);var i=U.GG();this.e=U.t("span","fitem tinput");
if(K){this.O2=K;this.PW=U.t("label","flabel");this.e.appendChild(this.PW);this.PW.setAttribute("for",i);
this.f()}if(J){this.ZV=U.t("span")}else if(c==null){this.ZV=U.t("input");this.ZV.setAttribute("type","text")}else this.ZV=U.t("textarea","scrollable");
this.ZV.setAttribute("id",i);if(x)this.ZV.setAttribute("style","width:"+x+"em;"+(J?" display:inline-block; margin-left:6px;":""));
if(c)this.ZV.setAttribute("rows",c);this.e.appendChild(this.ZV);if(E){this.N_=U.t("span");this.N_.textContent=E;
this.N_.style.marginLeft="2px";this.e.appendChild(this.N_)}U.sr(this.ZV);this.ZV.addEventListener("change",this.WY.bind(this),!1);
this.ZV.addEventListener("input",this.a1y.bind(this),!1);if(c==null)this.ZV.addEventListener("keyup",this.kD.bind(this),!1)}ay.prototype=new fo;
ay.prototype.f=function(){this.oc()};ay.prototype.kD=function(K){var E=j6.MQ(K.code,j6.go),x=j6.MQ(K.code,j6.Tt);
if(x||E)this.ZV.blur()};ay.prototype.Q1=function(K){this.PW.textContent=K};ay.prototype.$=function(K){var E=this.ZV,x=K==null?"":K,c=E.tagName=="SPAN";
if(c){E.textContent=" "+x;if(this.N_)E.appendChild(this.N_)}else E.value=x};ay.prototype.az2=function(K){this.N_.textContent=K};
ay.prototype.m=function(){return this.ZV.value};ay.prototype.W9=function(){this.ZV.select();this.ZV.focus()};
ay.prototype.WY=function(K){this.S(new i3(u.E.A,!1))};ay.prototype.a1y=function(K){this.S(new i3("input",!1))};
function a3(K,E,x,c,J,i,P,_,a){fo.call(this);if(J==null)J=0;this.e=U.t("span","fitem");var j=U.GG();
this.O2=K;this.Me=_;this.VX=0;this.v_=a;this.Px=E;this.KC=x;this.KB=null;if(c instanceof Array){this.KB=c;
c=c[0]}this.qK=c;this.IJ=J;this.a4h=i;this.HC=P;this.uf=0;this.PW=U.t("label","flabel");this.PW.setAttribute("style","cursor:col-resize;");
this.HH=U.t("input");this.HH.setAttribute("type","range");if(P){this.HH.min=0;this.HH.max=400}else{this.HH.min=E;
this.HH.max=x;if(J!=0)this.HH.step=(x-E)/200}this.ZV=U.t("input");this.ZV.setAttribute("type","text");
this.ZV.setAttribute("id",j);this.N_=U.t("span");this.N_.textContent=c;U.sr(this.ZV);this.ZV.addEventListener("change",this.WY.bind(this),!1);
this.ZV.addEventListener("keydown",this.w4.bind(this),!1);this.ZV.addEventListener("keyup",this.kD.bind(this),!1);
this.ZV.addEventListener("wheel",this.V7.bind(this),!1);this.HH.addEventListener("input",this.WY.bind(this),!1);
if(a)this.HH.addEventListener("change",this.WY.bind(this),!1);this.HH.addEventListener("click",this.aq_.bind(this),!1);
this.aqo=this.ab2.bind(this);this.a10=this.auE.bind(this);this.ayN=this.ad8.bind(this);this.eD=0;this.$F=0;
this.QH=!1;U.gw(this.PW,this.aqo);U.hr(this.PW)}a3.prototype=new fo;a3.prototype.gi=function(K){this.IJ=K};
a3.prototype.Q1=function(K){this.PW.style.display=K?"inherit":"none";if(K)this.PW.textContent=hg.get(K)};
a3.prototype.f=function(){var hr=this.O2,K=this.Me;if(hr){if(typeof hr=="string"&&hr.startsWith("<"))this.PW.innerHTML=hr;
else this.oc()}if(K){K=hg.get(K);if(hr)this.PW.setAttribute("title",K);this.ZV.setAttribute("title",K)}};
a3.prototype.$=function(K,E){var x=this.Px==this.KC,J;if(!x&&this.Px>=0)K=Math.max(this.Px,K);if(this.IJ==0)K=Math.round(K);
var c=this.qK;this.VX=K;this.ZV.value=(this.IJ!=0?K.toFixed(this.IJ):K)+(this.a4h&&c?(c.toLowerCase()==c.toUpperCase()?"":" ")+c:"");
if(-this.Px==this.KC)J=200+Math.sign(K)*200*Math.pow(Math.abs(K)/this.KC,1/2.7);else J=400*Math.pow((K-this.Px)/(this.KC-this.Px),1/2.7);
this.HH.value=this.HC?J:K;if(E)this.m1()};a3.prototype.m=function(){var K=this.VX;if(isNaN(K))K=0;return K};
a3.prototype.mG=function(){return this.qK};a3.prototype.WY=function(K){var E=0;if(K.currentTarget==this.ZV){var x=K.target.value,c=0;
E=x==""?0:this.qK?parseFloat(x):eval(x);if(isNaN(E))E=0;while(c<x.length&&(x.charAt(c)=="."||48<=x.charCodeAt(c)&&x.charCodeAt(c)<=57))c++;
var J=x.slice(c).trim();if(this.KB&&this.KB.indexOf(J)!=-1)this.qK=J}else{if(Date.now()-this.uf<10)return;
E=parseFloat(K.target.value);if(this.HC){if(-this.Px==this.KC)E=Math.sign(E-200)*Math.pow(Math.abs(E-200)/200,2.7)*this.KC;
else E=this.Px+Math.pow(E/400,2.7)*(this.KC-this.Px);E=this.akl(E)}}this.$(E);if(K.type=="input"&&this.v_)return;
this.m1()};a3.prototype.m1=function(){this.S(new i3(u.E.A))};a3.prototype.akl=function(K){if(this.KC-this.Px>50&&K>10)K=Math.round(K);
return K};a3.prototype.w4=function(K){var E=0;if(j6.MQ(K.code,j6.Wp))E=1;if(j6.MQ(K.code,j6.YD))E=-1;
if(E!=0)this.aqy(E,K.shiftKey)};a3.prototype.kD=function(K){var E=j6.MQ(K.code,j6.go),x=j6.MQ(K.code,j6.Tt);
if(E)this.$(this.m());if(x||E)this.ZV.blur()};a3.prototype.V7=function(K){this.aqy(K.deltaY>0?-1:1,K.shiftKey)};
a3.prototype.aqy=function(K,E){var x=this.m(),c=this.IJ,J=K*(c==null||c==0||x>5?1:.1);if(E)J*=10;var i=x+J;
if(!this.HC&&this.KC!=this.Px)i=Math.min(this.KC,i);this.$(i);this.m1()};a3.prototype.aq_=function(K){var E=Date.now()-this.uf;
this.uf=Date.now();if(E>200)return;var x=this.Px,c=this.KC,J=(x+c)/2;if(x<1&&c>1&&c<10)J=1;else if(x<90&&c>110)J=100;
else if(x<0&&c>0)J=0;this.$(J);this.m1()};a3.prototype.ab2=function(K){U.nx(document,this.a10);U.xz(document,this.ayN);
this.eD=U.bf(K,document.body).x;this.$F=this.m()};a3.prototype.auE=function(K){U.v$(K);var E=this.Px==this.KC,x=U.bf(K,document.body).x,c=(x-this.eD)*(E?1:1/120*(this.KC-this.Px)),J=this.$F+c;
if(E)J=Math.round(J);if(!E){if(!0){J=Math.max(this.Px,J);if(J==this.Px){this.eD=x;this.$F=this.Px}}if(!this.HC){J=Math.min(this.KC,J);
if(J==this.KC){this.eD=x;this.$F=this.KC}}J=this.akl(J)}this.QH=!0;this.$(J);if(!this.v_)this.m1()};
a3.prototype.ad8=function(K){if(!this.QH)this.ZV.focus();this.QH=!1;if(this.v_)this.m1();U.PL(document,this.a10);
U.KR(document,this.ayN)};a3.prototype.W9=function(){this.ZV.select();this.ZV.focus()};function eW(K,E,x,c,J,i,P,_,a,j){a3.call(this,K,E,x,c,J,!0,i,a,j);
U.sy(this.e,"rangedropinput");this.e.appendChild(this.PW);this.ZV.setAttribute("style","width:"+(_?_:3.3)+"em");
this.e.appendChild(this.ZV);this.aoZ=U.t("span","rangecontFloat");this.aoZ.appendChild(this.HH);this.Y8=U.t("button");
this.Y8.textContent="\u25BC";U.gw(this.Y8,this.ae4.bind(this));if(P!=!0)this.e.appendChild(this.Y8);
this.mM=new fo;this.mM.e=this.aoZ}eW.prototype=new a3;eW.prototype.ae4=function(K){if(U.Of(this.mM.e))return;
K.stopPropagation();var E=this.e.getBoundingClientRect();this.HH.setAttribute("style","width:"+E.width+"px;");
var x=new i3(u.E.L,!0);x.data={_:u.c.gF,M8:this.mM,x:E.left-10,y:E.top+E.height};this.S(x)};function a4(K,E,x,c,J,i){a3.call(this,K,E,x,c,J,!1,i);
this.e.appendChild(this.PW);var P=U.t("span");this.e.appendChild(P);P.appendChild(this.HH);this.e.appendChild(this.ZV);
this.ZV.setAttribute("style","width:3.3em");if(this.qK)this.e.appendChild(this.N_)}a4.prototype=new a3;
function bJ(K,E,x,c,J,i,P,_){a3.call(this,K,E,x,c,J,!0,i,null,P);U.sy(this.e,"trangeinput");this.e.appendChild(this.PW);
this.e.appendChild(this.ZV);var a=U.t("span");if(_!=!0)this.e.appendChild(a);a.appendChild(this.HH)}bJ.prototype=new a3;
function aw(K,E,x){fo.call(this);if(!E)return;this.J8=0;this.O2=K;this.zQ=null;this.acA=x;this.bs=[];
var c="dd"+U.GG();this.e=U.t("span","fitem ddmenu");if(K){this.PW=U.t("label","flabel");this.e.appendChild(this.PW);
this.PW.setAttribute("for",c)}this.ZV=U.t("select");this.ZV.setAttribute("id",c);this.e.appendChild(this.ZV);
this.ZV.addEventListener("change",this.WY.bind(this),!1);function J(i){var P=0;if(j6.MQ(i.code,j6.Wp))P=1;
if(j6.MQ(i.code,j6.YD))P=-1;if(P!=0)i.stopPropagation()}this.ZV.addEventListener("keydown",J,!1);this.ZV.addEventListener("keyup",J,!1);
this.uH=[];this.rY=null;this.C8(E,x);this.f()}aw.prototype=new fo;aw.prototype.Q1=function(K){this.O2=K;
this.f()};aw.prototype.f=function(){this.oc();if(this.rY)this.C8(this.rY,this.acA);this.$(this.J8)};
aw.prototype.m=function(){return this.J8};aw.prototype.C8=function(K,E){U.w6(this.ZV);var x=[],c=0;if(E){x.push(E[0]);
for(var y=1;y<E.length;y++)x.push(x[y-1]+E[y])}this.rY=K;this.zQ=[];this.acA=E;for(var y=0;y<K.length;
y++){var J=U.t("option");if(this.bs.indexOf(y)!=-1)J.setAttribute("disabled","");J.textContent=hg.get(K[y]);
J.setAttribute("value",y);this.ZV.appendChild(J);this.uH.push(J);this.zQ.push(y+c);if(x.indexOf(y+1)!=-1&&y!=K.length-1){var i=U.t("option");
i.setAttribute("disabled","");i.textContent="";this.ZV.appendChild(i);c++}}};aw.prototype.aaP=function(y){var K=this.bs,E=K.indexOf(y);
if(E==-1)K.push(y);this.f()};aw.prototype.atb=function(y){var K=this.bs,E=K.indexOf(y);if(E!=-1)K.splice(E,1);
this.f()};aw.prototype.$=function(K){this.J8=K;this.ZV.selectedIndex=this.zQ[K]};aw.prototype.WY=function(K){this.J8=this.zQ.indexOf(this.ZV.selectedIndex);
this.S(new i3(u.E.A,!1))};aw.prototype.W9=function(){this.ZV.focus()};function fn(K,E,x,c){fo.call(this);
if(!E)return;this.J8=0;this.aq4=c;this.e=U.t("span","fitem bbmenu");this.Q8=U.t("label","flabel");if(K){this.O2=K;
this.Q8.textContent=K+":";this.e.appendChild(this.Q8)}this.uH=[];this.T2=U.t("span");this.e.appendChild(this.T2);
this.rY=null;this.C8(E,x);this.$(0)}fn.prototype=new fo;fn.prototype.Q1=function(K){this.O2=K;this.f()};
fn.prototype.f=function(){var K=this.Q8.parentNode!=null,E=this.e;if(this.O2!=null){if(!K){E.appendChild(this.Q8);
E.appendChild(this.T2)}this.Q8.textContent=hg.get(this.O2)+": "}else if(K)E.removeChild(this.Q8);for(var y=0;
y<this.uH.length;y++)this.uH[y].f()};fn.prototype.m=function(){return this.J8};fn.prototype.C8=function(K,E){U.w6(this.T2);
this.uH=[];this.rY=K;for(var y=0;y<K.length;y++){var x=new cn(K[y],!1,E?E[y]:null,this.aq4);x.w("click",this.WY,this);
this.T2.appendChild(x.e);this.uH.push(x)}this.f()};fn.prototype.$=function(K){this.J8=K;for(var y=0;
y<this.uH.length;y++)this.uH[y].tg();this.uH[K].Kv()};fn.prototype.WY=function(K){var y=this.uH.indexOf(K.target);
this.$(y);this.S(new i3(u.E.A,!1))};fn.b9=function(K,E,x){if(E==null)E=16;var c=fn.Kr,J=c.getContext("2d"),i=E>>>1;
c.width=c.height=E;var P=[];for(var y=0;y<K.length;y++){if(K[y][0]=="-")P.push(K[y].slice(1));else if(K[y]=="checker"||K[y].startsWith("#")){if(K[y]=="checker"){J.fillStyle="white";
J.fillRect(0,0,E,E);J.fillStyle="#bbbbbb";J.fillRect(i,0,i,i);J.fillRect(0,i,i,i)}else if(K[y].startsWith("#")){J.fillStyle=K[y];
J.fillRect(0,0,E,E)}P.push("<img src=\""+c.toDataURL()+"\" />")}else P.push(U.fk(K[y],null,x?x:"autoscale"))}return P};
fn.Kr=U.t("canvas");function iM(K,E,x,c,J,i){fo.call(this);this.e=U.t("span","fitem mbox");this.ah1=x;
this.amh=J;if(K){this.O2=K;this.Q8=U.t("label","flabel");this.e.appendChild(this.Q8)}this.qy=E;this.yn=[];
for(var y=0;y<E.length;y++){var P=x?new cn(E[y],!1,c?c[y]:null,!1,i):new jw(E[y],!0,"");P.w(x?"click":u.E.A,this.WY,this);
this.yn.push(P);this.e.appendChild(P.e)}this.f()}iM.prototype=new fo;iM.prototype.$=function(K){for(var E=0;
E<this.qy.length;E++)this.yn[E].$(K[E])};iM.prototype.m=function(){var K=[];for(var E=0;E<this.qy.length;
E++)K[E]=this.yn[E].m();return K};iM.prototype.f=function(){if(this.O2)this.Q8.innerHTML=hg.get(this.O2)+": ";
var K=this.yn;for(var E=0;E<K.length;E++){K[E].f();if(E==K.length-1)K[E].e.style.marginRight="0px"}};
iM.prototype.WY=function(K){var y=this.yn.indexOf(K.currentTarget),E=this.yn[y];if(this.ah1)E.$(!E.m());
if(this.amh){var x=E.m();for(var y=0;y<this.yn.length;y++)this.yn[y].$(!1);E.$(x)}this.S(new i3(u.E.A,!1))};
function hA(K,E){fo.call(this);this.Ma=[];this.g=[];this.a9g=K;this.MA=E;this.iF=0;this.KN=null;this.xT=new iP(0,0);
if(E!=null){this.RN=new cQ([{name:[6,37]},{name:[5,4]}]);this.RN.parent=this;this.RN.w("select",this.Cq,this)}this.e=U.t("div","imageset scrollable");
this.e.addEventListener("contextmenu",U.vs,!1)}hA.prototype=new fo;hA.prototype.f=function(){if(this.RN)this.RN.f()};
hA.prototype.Cq=function(K){var y=this.RN.rk()[0],E=new i3(u.E.L,!0),x={_:u.c.Na,ry:this.MA,yf:this.g.slice(0)};
if(y==0){var c=this.KN[1][this.g[0]];x.bA="rnm";E.data={_:u.c.v9,xc:"namewindow",_5:c,Vv:{Y:u.E.L,F:x}}}else{E.data=x;
x.bA="del"}this.S(E)};hA.prototype.ajR=function(){return this.iF};hA.prototype.ST=function(K){this.iF=K;
if(this.KN)this.I5()};hA.prototype.U3=function(K,E,x,c){this.KN=[K,E,x,c];this.I5()};hA.prototype.I5=function(){var K=this.KN,E=K[0],x=K[1],c=K[2],J=K[3];
this.Ma=[];this.e.innerHTML="";var i=this.Q0.bind(this),P=this.iF;if(P==0)U.sy(this.e,"imageset");else U.gz(this.e,"imageset");
for(var y=0;y<E.length;y++){var _=E[y],a=null;if(_==null){this.Ma.push(null);continue}if(typeof _=="string"){a=U.t("img","image");
a.setAttribute("src",_)}else a=_;if(c)U.P2(a,c,J);if(this.a9g)U.sy(a,"gsicon");if(P==0){}else{var j=U.t("div","listitem");
j.appendChild(a);var e=U.t("span");e.textContent=x?x[y]:"Item "+(y+1);e.setAttribute("style","margin-left:4px;");
j.appendChild(e);a=j}if(x)a.setAttribute("title",x[y]);a.addEventListener("mousedown",i,!1);this.Ma.push(a);
this.e.appendChild(a)}};hA.prototype.Q0=function(K){if(this.MA==null)K.preventDefault();var E=this.Ma.indexOf(K.currentTarget),x=window.__kb,c=this.g,J=c.length;
if(x.l(j6.iu)){var i=Math.min(c[0],c[c.length-1],E),P=Math.max(c[0],c[c.length-1],E);c=[];for(var y=i;
y<=P;y++)c.push(y)}else if(x.l(j6.Se)){var _=c.indexOf(E);if(_==-1)c.push(E);else c.splice(_,1)}else c=[E];
c.sort(function(d,I){return d-I});if(K.button==0||J==1)this.$(c);this.xT=U.bf(K,K.currentTarget);if(K.button==0)this.S(new i3(u.E.A));
if(K.button==2&&this.RN){var a=this.RN;a.update(null);var j=U.bf(K,document.body),e=new i3(u.E.L,!0);
e.data={_:u.c.gF,M8:a,x:j.x,y:j.y+2};this.S(e)}};hA.prototype.m=function(){return this.g.slice(0)};hA.prototype.a6L=function(){var K=this.xT;
return new iP(K.x,K.y)};hA.prototype.$=function(K){this.g=K.slice(0);for(var y=0;y<this.Ma.length;y++){var E=this.Ma[y];
if(E==null)continue;if(K.indexOf(y)!=-1)U.sy(E,"selected");else U.gz(E,"selected")}};function jy(K,E,x,c,J,i,P){fo.call(this);
this.e=U.t("span","fitem "+x);this.yY=new fo;this.yY.e=U.t("div","floatcont");this.yY.e.setAttribute("style","width: "+(c+1.5)+"em;");
this.yY.parent=this;this.a1N=U.t("div");this.yY.e.appendChild(this.a1N);this._0=U.t("div");this.yY.e.appendChild(this._0);
if(K){this.O2=K;this.Q8=U.t("label","flabel");this.e.appendChild(this.Q8)}this._=U.t("button",P?"nopadding":"");
this._.setAttribute("style","position:relative;");var _=this.w2.bind(this),a=this.pE.bind(this);U.gw(this._,E?a:_);
this.e.appendChild(this._);this.tt=U.t("img",P?"gsicon":"");this._.appendChild(this.tt);if(E){var j=U.t("button");
j.textContent="\u25BC";U.gw(j,_);this.e.appendChild(j)}else{var e=U.t("span");e.textContent="\u25BC";
e.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this._.appendChild(e)}var d=U.t("span");
this._0.appendChild(d);d.setAttribute("style","display:inline-block;  vertical-align:top; width:"+c+"em;");
this.LU=new hA(P,i);d.appendChild(this.LU.e);this.LU.parent=this.yY;this.LU.w(u.E.A,this.hs,this);this.LU.e.style.height=J+"em";
this.hM=U.t("button");this.hM.textContent="\u25BC";this.hM.setAttribute("style","padding:3px");U.gw(this.hM,this.qS.bind(this));
this._0.appendChild(this.hM);var I=this.wb(),v=this.agB=i!=eu.aH&&i!=eu.dF?i:null,n=this.ag1=i==null?!1:eu.BU[i][4]!=0,C=i==null?"":eu.BU[i][0].toUpperCase(),T=[];
if(v)T.push({name:[12,87]});T.push({name:["VAR0 / VAR1",[25,3,0],[25,3,1]],_B:!0});T.push({name:[[23,6],"."+(C=="ICC"?"icc .cube .look .3dl":C)]},{name:["VAR0 ."+C,[1,8]]},{name:[6,37]},{name:[5,4],_B:I.length!=0});
for(var y=0;y<I.length;y++)T.push({name:I[y].split("/").pop()});this.avF=T;this.MA=i;this.RM=null;this.NX=!0;
this.KK=null}jy.prototype=new fo;jy.prototype.wb=function(){return[]};jy.prototype.pE=function(){};jy.prototype.f=function(){this.LU.f();
var K=this.O2;if(K)this.Q8.textContent=hg.get(K)+":"};jy.prototype.Q1=function(K){this.Q8.textContent=K};
jy.prototype.ly=function(K){var E=this.MA,x=0;if(E==eu.ZQ){x=this.RM?this.RM.length:0;K=K.slice(0)}this.RM=K;
this.NX=!0;if(U.Of(this.LU.e)||E==eu.ZX)this.Ns();if(E==eu.ZQ&&K.length-x==1&&U.Of(this.e)){this.$(K[x]);
this.NX=!0;this.Ns();this.LU.$([x]);this.S(new i3(u.E.A))}};jy.prototype.Cq=function(K){var E=K.target.rk()[0];
if(this.agB==null)E++;var x=new i3(u.E.L,!0);if(E==0){var c=this.TG();if(this.MA==eu.ZQ&&c[0].profile==null)return;
x.data={_:u.c.Na,bA:"add",ry:this.agB,M1:c}}else if(E==1)this.LU.ST(1-this.LU.ajR());else if(E<=5)this.Qp(E-2);
else{var J=this.wb();x.data={_:u.c.Pp,ry:{url:"rsrc/"+J[E-6]}}}if(x.data)this.S(x)};jy.prototype.Qp=function(K){var E=new i3(u.E.L,!0),x=this.LU.m(),c={_:u.c.Na,ry:this.MA,yf:x};
if(K>1&&x.length==0){alert("No items selected");return}if(K==0)E.data={_:u.c.yq};else if(K==1)E.data={_:u.c.t3,axr:this.MA,yf:x.length==0?null:x};
else if(K==2){var J=this.LU.KN[1][x[0]];c.bA="rnm";E.data={_:u.c.v9,xc:"namewindow",_5:J,Vv:{Y:u.E.L,F:c}}}else if(K==3){E.data=c;
c.bA="del"}this.S(E)};jy.prototype.TG=function(){return[this.m()]};jy.prototype.qS=function(K){if(this.RN==null){this.RN=new cQ(this.avF);
this.RN.parent=this.yY;this.RN.w("select",this.Cq,this)}if(U.Of(this.RN.e))return;K.stopPropagation();
var E=this.RN;E.f();E.update(null);var x=K.currentTarget.getBoundingClientRect(),c=new i3(u.E.L,!0);
c.data={_:u.c.gF,M8:E,x:x.left,y:x.top+x.height};this.S(c)};jy.prototype.w2=function(K,E,x){if(U.Of(this.yY.e))return;
if(K)K.stopPropagation();this.Ns();if(E==null){var c=this._.getBoundingClientRect(),E=c.left,x=c.top+c.height}var J=new i3(u.E.L,!0);
J.data={_:u.c.gF,M8:this.yY,x:E,y:x,Mc:!0};this.S(J)};jy.prototype.apY=function(K,E){this.w2(null,K,E)};
function aU(){fo.call(this);this.e=U.t("div");this.VX=!1;this.YV=[new aw([12,19,1],[[13,1,7]].concat(c2.V2)),new ir([17,1]),new ir([12,46])];
for(var y=0;y<3;y++){var K=this.YV[y];this.e.appendChild(K.e);K.w(u.E.A,this.h4,this)}this.f()}aU.prototype=new fo;
aU.prototype.f=function(){for(var y=0;y<3;y++)this.YV[y].f()};aU.prototype.m=function(){return this.VX.slice(0)};
aU.prototype.$=function(K){this.VX=K.slice(0);var E=this.YV,x=E[0].m();E[1].$(K.slice(x*8,x*8+4),x);
E[2].$(K.slice(x*8+4,x*8+8),x)};aU.prototype.h4=function(K){var E=this.YV,x=E.indexOf(K.currentTarget);
if(x==0)this.$(this.VX);else{var c=E[0].m()*8+(x==1?0:4),J=E[x].m();for(var y=0;y<4;y++)this.VX[c+y]=J[y];
this.S(new i3(u.E.A,!1))}};function ir(K){fo.call(this);this.e=U.t("div");this.T=U.t("canvas");this.dv=K;
this.VX=[0,20,200,255];this.OU=0;this.fJ=-1;this.arW=[];for(var y=0;y<5;y++){var E=U.t("span");E.setAttribute("style","display:inline-block;width:"+(y==0?8:y==2?7:2)+"em");
this.arW.push(E);this.e.appendChild(E)}this.LX=this.EN.bind(this);this.hI=this.fw.bind(this);this.Fc=this.eL.bind(this);
U.hr(this.T);U.gw(this.T,this.LX);this.e.appendChild(this.T);this.I5()}ir.prototype=new fo;ir.prototype.f=function(){this.I5()};
ir.prototype.$=function(K,E){this.VX=K;this.OU=E;this.I5()};ir.prototype.m=function(){return this.VX.slice(0)};
ir.prototype.EN=function(K){var E=this.VX,x=U.bf(K,this.T),c=x.x-8,J=-1,i=1e9;for(var y=0;y<4;y++){var P=c-E[y],_=Math.abs(P);
if(_<8&&_<i&&((y&1)==0&&P<0||(y&1)==1&&P>0)){i=P;J=y}}if(J==-1)return;this.fJ=J;this.Hu=window.__kb.l(j6.iE)||E[(J>>>1)*2]!=E[(J>>>1)*2+1];
U.nx(window,this.hI);U.xz(window,this.Fc)};ir.prototype.fw=function(K){var E=this.VX,x=this.fJ,c=(x>>>1)*2,J=c+1,i=U.bf(K,this.T),P=Math.round(Math.max(0,Math.min(255,i.x-8)));
E[x]=P;if(this.Hu&&E[c]>=E[J])this.Hu=!1;if(!this.Hu)E[c]=E[J]=P;this.I5();this.S(new i3(u.E.A,!1))};
ir.prototype.eL=function(K){U.PL(window,this.hI);U.KR(window,this.Fc)};ir.prototype.I5=function(){var K=this.T;
U.CL(K,255+16,16);var E=K.getContext("2d"),x=K.width,c=K.height,J=Math.round(255*U.V()),i=Math.round(8*U.V());
E.translate(i,0);var P=E.createLinearGradient(0,0,J,0);P.addColorStop(0,"black");P.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.OU]);
E.fillStyle=P;E.fillRect(0,0,J,i);var _=this.arW,a=hg.get(this.dv)+":";_[0].textContent=a;for(var y=0;
y<4;y++){var j=this.VX[y];_[1+y].textContent=j;var e=Math.round(j*U.V());E.beginPath();E.moveTo(e,i);
E.lineTo(e,i+i);E.lineTo(e+((y&1)==0?-1:1)*i,i+i);E.closePath();E.fillStyle=y<2?"#666666":"#cccccc";
E.fill();E.strokeStyle="black";E.stroke()}};function jH(K,E,x){fo.call(this);if(x==null)x=!1;this.Z=[0,0,1];
this.apt=E;this.a0B=x;this.afs=0;var c="ai"+U.GG();this.e=U.t("span","fitem angleinput");if(K){this.Q8=U.t("label","flabel");
this.O2=K;this.e.appendChild(this.Q8);this.Q8.setAttribute("for",c)}this.YH=x?44:20;this.T=U.t("canvas","gsicon");
this.gI=this.T.getContext("2d");U.hr(this.T);U.CL(this.T,this.YH*2+1,this.YH*2+1);this.gI.scale(U.V(),U.V());
this.e.appendChild(this.T);U.gw(this.T,this.BA.bind(this));this.Su=this.IK.bind(this);this.Kk=this.S6.bind(this);
var J=this.WY.bind(this),i=U.t("div");i.setAttribute("style","display:inline-block;  vertical-align:middle;");
if(!x)this.e.appendChild(i);this.NP=[];for(var y=0;y<2;y++){var P=U.t("input");this.NP.push(P);P.setAttribute("type","text");
U.sr(P);if(y==0)P.setAttribute("id",c);P.addEventListener("change",J,!1);var _=U.t("span");_.textContent="\xB0";
if(y==0||E){i.appendChild(P);i.appendChild(_);U.R0(i)}}this.$(this.Z)}jH.prototype=new fo;jH.prototype.f=function(){if(this.O2)this.Q8.textContent=hg.get(this.O2)+":"};
jH.prototype.Q1=function(K){this.Q8.textContent=K};jH.prototype.m=function(){return this.Z.slice(0)};
jH.prototype.$=function(K,E){var x=this.Z;K=K.slice(0);if(K[0]==null)K[0]=x[0];if(K[1]==null)K[1]=x[1];
if(K[2]==null)K[2]=x[2];this.Z=K;var c=K[0],J=K[1],i=K[2],P=this.apt,_=this.a0B,a=this.YH*.85;if(!P)J=0;
this.NP[0].value=c;this.NP[1].value=J;var j=this.gI;j.clearRect(0,0,100,100);c=Math.PI*c/180;J=a*(90-J)/90;
var e=this.YH+.5;j.save();j.translate(e,e);j.rotate(-c);j.strokeStyle="rgba(0,0,0,0.5)";j.beginPath();
j.ellipse(0,0,a,a*i,0,0,2*Math.PI);if(_){j.moveTo(0,-a*i);j.lineTo(0,a*i);j.moveTo(-J,0)}else j.moveTo(0,0);
j.lineTo(J,0);j.stroke();var d=this.YH*.15;j.fillStyle="black";j.beginPath();if(_){j.arc(0,-a*i,d*.66,0,2*Math.PI);
j.arc(0,a*i,d*.66,0,2*Math.PI)}if(P){j.arc(J,0,d*.4,0,2*Math.PI)}else{j.moveTo(e-d,-d*.66);j.lineTo(e,0);
j.lineTo(e-d,d*.66)}j.fill();j.restore();if(E)this.WY()};jH.prototype.WY=function(K){var E=parseInt(this.NP[0].value);
if(isNaN(E))E=0;var x=parseInt(this.NP[1].value);if(isNaN(x))x=0;E=E%360;x=x%360;this.$([E,x]);this.S(new i3(u.E.A,!1))};
jH.prototype.BA=function(K){U.nx(window,this.Su);U.xz(window,this.Kk);var E=U.bf(K,this.T),e=0,d=1e9;
E.x-=this.YH;E.y-=this.YH;var x=this.Z,c=x[0]*Math.PI/180,J=(90-x[1])/90,i=x[2],P=this.YH*.85,_=Math.sin(-c),a=Math.cos(-c),j=[new iP(a*P,_*P)];
if(this.a0B)j.push(new iP(-_*P*i,a*P*i),new iP(_*P*i,-a*P*i));for(var y=0;y<j.length;y++){var I=iP.B4(E,j[y]);
if(I<d){d=I;e=y}}this.afs=e;if(e==0)this.IK(K)};jH.prototype.IK=function(K){var E=U.bf(K,this.T),x=this.afs,c=[],J=E.x-this.YH,i=E.y-this.YH,P=this.YH*.85;
if(x==0){var _=180*Math.atan2(-i,J)/Math.PI,a=90-90*Math.min(1,Math.sqrt(J*J+i*i)/P);if(K.shiftKey)_=Math.round(_/15)*15;
c=[Math.round(_),Math.round(a)]}else c=[null,null,Math.max(.01,Math.min(1,Math.sqrt(J*J+i*i)/P))];this.$(c);
this.S(new i3(u.E.A,!1))};jH.prototype.S6=function(K){this.S(new i3(u.E.A,!1));U.PL(window,this.Su);
U.KR(window,this.Kk)};function dt(K,E){fo.call(this);this.VX=0;this.LG=E;this.e=U.t("span","fitem angleinput");
if(K){this.Q8=U.t("label","flabel");this.O2=K;this.e.appendChild(this.Q8)}this.T=U.t("canvas","gsicon");
this.gI=this.T.getContext("2d");U.CL(this.T,E,E);this.e.appendChild(this.T);U.hr(this.T);U.gw(this.T,this.BA.bind(this));
this.Su=this.IK.bind(this);this.Kk=this.S6.bind(this);this.$(0)}dt.prototype=new fo;dt.prototype.f=function(){if(this.O2)this.Q8.textContent=hg.get(this.O2)+":"};
dt.prototype.Q1=function(K){this.Q8.textContent=K};dt.prototype.m=function(){return this.VX};dt.prototype.a6F=function(K){var E=this.VX,x=Math.floor(E/3),c=E-x*3;
c=Math.max(0,Math.min(2,c+K.x));x=Math.max(0,Math.min(2,x+K.y));this.$(x*3+c)};dt.prototype.$=function(K){this.VX=K;
var E=this.T.width,x=Math.floor(K/3),c=K-3*x,J=(c+.5)*E/3,i=(x+.5)*E/3,P=this.gI,_=[.5,Math.round(E/3)+.5,Math.round(2*E/3)+.5,E-.5];
P.clearRect(0,0,E,E);var a=this.LG<30;P.setLineDash([]);P.strokeStyle=a?"rgba(0,0,0,0.5)":"#000000";
P.beginPath();for(var y=0;y<4;y++){var j=_[y];P.moveTo(j,0);P.lineTo(j,E);P.moveTo(0,j);P.lineTo(E,j)}P.stroke();
if(K==9)return;if(!a){P.setLineDash([1,2]);var e=E*.53,d=Math.max(0,Math.min(E-e,J-e/2)),I=Math.max(0,Math.min(E-e,i-e/2));
P.strokeRect(Math.round(d)+.5,Math.round(I)+.5,Math.round(e),Math.round(e))}P.fillStyle="#000000";P.beginPath();
P.arc(J,i,E/8,0,Math.PI*2);P.fill()};dt.prototype.BA=function(K){U.nx(document.body,this.Su);U.xz(document.body,this.Kk);
this.IK(K)};dt.prototype.IK=function(K){var E=U.bf(K,this.T),x=Math.max(0,Math.min(2,Math.floor(E.x/(this.LG/3)))),c=Math.max(0,Math.min(2,Math.floor(E.y/(this.LG/3))));
this.$(c*3+x)};dt.prototype.S6=function(K){this.S(new i3(u.E.A,!1));U.PL(document.body,this.Su);U.KR(document.body,this.Kk)};
function ar(hr){fo.call(this);this.e=U.t("span","fitem cswatch");this.a0E=0;this.SX=[];this.Ow=[];var K=this.akM.bind(this);
for(var y=0;y<hr;y++){this.SX.push(0);var E=U.t("span","colorsample");E.addEventListener("click",K,!1);
this.Ow.push(E);this.e.appendChild(E)}var x=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],c=Math.min(hr,x.length);
for(var y=0;y<c;y++)this.SX[y]=x[y];this.SI()}ar.prototype=new fo;ar.prototype.akM=function(K){this.a0E=this.Ow.indexOf(K.currentTarget);
this.S(new i3(u.E.A))};ar.prototype.m=function(){return this.SX[this.a0E]};ar.prototype.$=function(K){var E=this.SX,x=E.indexOf(K);
if(x!=-1)E.splice(x,1);else E.pop();E.unshift(K);this.SI()};ar.prototype.SI=function(){for(var y=0;y<this.SX.length;
y++){this.Ow[y].setAttribute("style","background-color:#"+W.E8(this.SX[y]))}};function eX(K){fo.call(this);
this.tJ={o:0,J:0,k:0};this.G$=K;this.e=U.t("span","fitem colorsample");this.e.addEventListener("click",this.cg.bind(this),!1)}eX.prototype=new fo;
eX.prototype.f=function(){};eX.prototype.cg=function(K){var E=this.tJ;this.S(new i3("click"));var x=new i3(u.E.L,!0);
x.data={_:u.c.v9,xc:"colorpicker",Hw:E.o<<16|E.J<<8|E.k,ze:this.Ba.bind(this),iI:this.G$};this.S(x)};
eX.prototype.Ba=function(K){this.aD(K);this.S(new i3(u.E.A))};eX.prototype.GD=function(){this.cg(null)};
eX.prototype.ap5=function(){var K=this.tJ;return K.o<<16|K.J<<8|K.k};eX.prototype.m=function(){return W.M.TD(this.tJ)};
eX.prototype.aD=function(K){this.tJ={o:K>>16&255,J:K>>8&255,k:K&255};this.auk()};eX.prototype.$=function(K){this.tJ=W.M.Et(K);
this.auk()};eX.prototype.auk=function(){var K=this.tJ,E=K.o,x=K.J,c=K.k,J=E<<16|x<<8|c;this.e.setAttribute("style","background-color:#"+W.E8(J))};
function jA(){fo.call(this);this.e6=!1;this.Vi=20;this.ahK=10;this.qg=0;this.e6=!1;this.JC={o:255,J:0,k:0};
this.jX={o:0,J:0,k:0};this.e=U.t("canvas");this.I5();U.hr(this.e);U.gw(this.e,this.LX.bind(this))}jA.prototype=new fo;
jA.prototype.a92=function(K){if(this.e6==K)return;this.e6=K;this.I5()};jA.prototype.f=function(){};jA.prototype.anS=function(K,E){function x(c){return{o:c>>16&255,J:c>>8&255,k:c&255}}if(K!=null)this.JC=x(K);
if(E!=null)this.jX=x(E);this.I5()};jA.prototype.LX=function(K){var E=U.bf(K,this.e),x=E.x*U.V(),c=E.y*U.V(),J=this.Vi,i=this.ahK,P=0;
if(x<i&&c<i){P=0}else if(x>J-i&&c>J-i){P=1}else if(x<i){P=2}else{P=3}this.GD(P)};jA.prototype.GD=function(K){var E=new i3(u.E.L,!0);
if(K>1)E.data={_:u.c.Na,ry:eu.Fa,S8:K};else{this.qg=K;var x=K==0?this.JC:this.jX;E.data={_:u.c.v9,xc:"colorpicker",Hw:x.o<<16|x.J<<8|x.k,ze:this.Ba.bind(this)}}this.S(E)};
jA.prototype.Ba=function(K){var E=new i3(u.E.L,!0);E.data={_:u.c.Na,ry:eu.Fa,S8:this.qg,Z:K};this.S(E)};
jA.prototype.I5=function(){var K=this.e,E=K.getContext("2d"),x=U.V(),J="#aaaaaa",i=.62;U.CL(K,34,34);
K.setAttribute("style",K.getAttribute("style")+";cursor:pointer");var c=this.Vi=K.width,P=this.ahK=Math.round(c*i);
function _(n,C){var T=n.o,o=n.J,s=n.k;if(C)T=o=s=Math.round(W.bg(T,o,s));var Q=T<<16|o<<8|s;return"#"+W.E8(Q)}function a(E,n,C,T,o,s){E.beginPath();
if(T>=s*2&&o>=s*2){E.moveTo(n+s,C);E.lineTo(n+T-s,C);E.quadraticCurveTo(n+T,C,n+T,C+s);E.lineTo(n+T,C+o-s);
E.quadraticCurveTo(n+T,C+o,n+T-s,C+o);E.lineTo(n+s,C+o);E.quadraticCurveTo(n,C+o,n,C+o-s);E.lineTo(n,C+s);
E.quadraticCurveTo(n,C,n+s,C)}E.closePath()}function j(n,C,P,T,o){E.strokeStyle=o?o:"black";E.fillStyle=T;
a(E,n+.5,C+.5,P-1,P-1,P*.2);E.fill();E.stroke()}j(c-P,c-P,P,_(this.jX,this.e6));j(0,0,P,_(this.JC,this.e6));
var e=c-P,d=Math.round(e*i);j(c-d,e-d,d,"white",J);j(c-e,0,d,"black",J);E.save();E.fillStyle=J;E.translate(0,c);
E.rotate(-Math.PI/2);e=c-P;var I=Math.round(e*.28),v=Math.round(e*.25);for(var y=0;y<2;y++){E.fillRect(I,I,e-I,1);
E.beginPath();E.moveTo(e-v,I+.5-v);E.lineTo(e,I+.5);E.lineTo(e-v,I+.5+v);E.closePath();E.fill();E.transform(0,1,1,0,0,0)}E.restore()};
function gx(K){jy.call(this,K,!1,"brushbutton nopadding",19,10,eu.Xb,!0);var E=this.a1N;U.sy(E,"flexrow");
var x=U.t("div");E.appendChild(x);var c=U.t("div");E.appendChild(c);c.setAttribute("style","margin-left:8px");
this.eX=new jH(null,null,!0);this.eX.w(u.E.A,this.zh,this);x.appendChild(this.eX.e);this.h1=new bJ([12,14,0],1,1e3," px",0,!0);
this.h1.w(u.E.A,this.zh,this);c.appendChild(this.h1.e);this.ad=new bJ([12,17],0,100,"%");this.ad.w(u.E.A,this.zh,this);
c.appendChild(this.ad.e);this.lW=new iM(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
this.lW.w(u.E.A,this.zh,this);c.appendChild(this.lW.e)}gx.prototype=new jy;gx.prototype.wb=function(){var K=["pencil","trees"];
for(var y=0;y<K.length;y++)K[y]="brushes/"+K[y]+".abr";return K};gx.prototype.$=function(K,E,x){this.KK=JSON.parse(JSON.stringify(K));
var c=Math.floor(20*U.V()),J=Math.floor(36*U.V()),i=Math.floor(24*U.V()),P=bL.yi(K,E,x,c,i,J);this.tt.setAttribute("src",P);
U.P2(this.tt,J,i);var _=K.Brsh.v;this.h1.$(_.Dmtr.v.val);if(_.Hrdn!=null){this.ad.gt();this.ad.$(_.Hrdn.v.val)}else this.ad.s1();
if(_.Angl!=null)this.eX.$([_.Angl.v.val]);if(_.Rndn!=null)this.eX.$([null,null,_.Rndn.v.val/100]);var a=[!1,!1];
if(K.opVr)a[0]=K.opVr.v.bVTy.v==2;if(K.szVr)a[1]=K.szVr.v.bVTy.v==2;this.lW.$(a)};gx.prototype.TG=function(){return{list:[{t:"Objc",v:this.m()}],qq:[],V8:[]}};
gx.prototype.m=function(){return this.KK};gx.prototype.Ns=function(){if(!this.NX)return;var K=[],E=[],x=this.RM,c=Math.floor(33*U.V()),J=Math.floor(40*U.V());
for(var y=0;y<x.list.length;y++){var i=x.list[y].v,P=bL.yi(i,x.qq,x.V8,c,J);K.push(P);E.push(i.Nm.v.split("=").pop())}this.LU.U3(K,E,c,J);
this.NX=!1};gx.prototype.hs=function(K){var E=this.RM;this.$(E.list[this.LU.m()[0]].v,E.qq,E.V8);this.S(new i3(u.E.A))};
gx.prototype.f=function(){jy.prototype.f.call(this);this.eX.f();this.h1.f();this.ad.f()};gx.prototype.zh=function(K){var E=this.RM,x=this.KK,c=x.Brsh.v;
c.Dmtr.v.val=this.h1.m();if(c.Hrdn!=null)c.Hrdn.v.val=this.ad.m();if(c.Angl!=null)c.Angl.v.val=this.eX.m()[0];
if(c.Rndn!=null)c.Rndn.v.val=Math.round(this.eX.m()[2]*100);if(K.target==this.lW){var J=this.lW.m(),i=["opVr","szVr"],P=["usePaintDynamics","useTipDynamics"];
for(var y=0;y<2;y++){var _=i[y];if(x[_]==null)x[_]=JSON.parse(jE.Pq.yQ[_]);x[_].v.bVTy.v=J[y]?2:0;if(J[y])x[P[y]].v=!0}jE.Pq.ayE(x)}this.$(x,E.qq,E.V8);
this.S(new i3(u.E.A))};function jk(K){jy.call(this,K,!0,"contourbutton",17,10.5,eu.XE)}jk.prototype=new jy;
jk.prototype.hs=function(K){this.$(this.RM[K.target.m()]);this.S(new i3(u.E.A))};jk.prototype.pE=function(K){var E=new i3(u.E.L,!0);
E.data={_:u.c.v9,xc:"contoureditor",E5:this.KK,response:this.ahH.bind(this)};this.S(E)};jk.prototype.ahH=function(K){this.$(K);
this.S(new i3(u.E.A))};jk.prototype.Ns=function(){if(!this.NX)return;var K=Math.floor(38*U.V()),E=Math.floor(38*U.V()),x=[],c=[],J=this.RM;
for(var y=0;y<J.length;y++){c.push(J[y].Nm?J[y].Nm.v:"");x.push(W.r9.yi(J[y].Crv.v,K,E))}this.LU.U3(x,c,K,E);
this.NX=!1};jk.prototype.$=function(K){this.KK=JSON.parse(JSON.stringify(K));var E=this.KK.Crv.v;for(var y=0;
y<E.length;y++)if(E[y].v.Cnty==null)E[y].v.Cnty={t:"bool",v:!0};this.vo()};jk.prototype.vo=function(){var K=Math.floor(30*U.V()),E=Math.floor(30*U.V()),x=W.r9.yi(this.KK.Crv.v,K,E);
this.tt.setAttribute("src",x);U.P2(this.tt,K,E)};jk.prototype.m=function(){return JSON.parse(JSON.stringify(this.KK))};
function f7(K){fo.call(this);this.jc=null;this.ll=null;this.Xs=null;this.O0=null;this.ax8=[];this.anc=[];
this.e=U.t("span","fitem fillbutton");this.yY=new fo;this.yY.e=U.t("div","floatcont form");this.yY.e.setAttribute("style","width: 21em;");
this.yY.parent=this;this.zp=K;this.Q8=this.Q8=U.t("label","flabel");this.e.appendChild(this.Q8);this.T=U.t("canvas");
this.gI=this.T.getContext("2d");this.ate=null;this.e.appendChild(this.T);U.gw(this.T,this.w2.bind(this));
this.Jl=new fn([12,66],["","Color","Grad","Patt"]);this.yY.e.appendChild(this.Jl.e);this.Jl.w(u.E.A,this.h4,this);
this.yY.e.appendChild(U.t("hr"));this.akK=U.t("span");this.rw=new eX(!1);this.rw.parent=this.yY;this.rw.w(u.E.A,this.h4,this);
this.qd=new ar(10);this.qd.w(u.E.A,this.h4,this);this.N$=U.t("div","marged hiline");this.N$.appendChild(this.rw.e);
U.R0(this.N$);this.N$.appendChild(this.qd.e);this.UP=new fE("GrFl",!0);this.UP.parent=this.yY;this.UP.w(u.E.A,this.h4,this);
this.Ee=U.t("div","marged hiline");var E="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var y=0;
y<E.length;y++){var x=this.UP.x0[E[y]].e;this.Ee.appendChild(x)}this.Uw=new fE("patternFill",!0);this.Uw.parent=this.yY;
this.Uw.w(u.E.A,this.h4,this);this.Pb=U.t("div","marged hiline");var E=["Ptrn","Angl","Scl","Algn","phase"];
for(var y=0;y<E.length;y++){var x=this.Uw.x0[E[y]].e;this.Pb.appendChild(x)}}f7.prototype=new fo;f7.prototype.Q3=function(K,E){var x=c3.a8(K,E);
if(x!=null)this.qd.$(x);if(E==eu.up){this.ax8=[];this.anc=[];if(this.jc)this.$(this.Xs,this.m(),this.jc)}this.ll=K;
this.UP.Q3(K,E);this.Uw.Q3(K,E)};f7.prototype.f=function(){this.Q8.textContent=hg.get(this.zp)+": ";
this.Jl.f();this.rw.f();this.UP.f();this.Uw.f()};f7.prototype.h4=function(K){var E=K.currentTarget;if(E==this.Jl){var x=this.Jl.m(),c={ez:x,QT:this.jc[x]};
if(x>0&&c.QT==null)c.QT=JSON.parse(JSON.stringify(dz.gk[x-1]));if(this.jc)this.$(this.Xs,c,this.jc)}if(E==this.qd)this.rw.aD(E.m());
this.S(new i3(u.E.A,!1))};f7.prototype.w2=function(K){if(U.Of(this.yY.e))return;K.stopPropagation();
var E=this.T.getBoundingClientRect(),x=new i3(u.E.L,!0);x.data={_:u.c.gF,M8:this.yY,x:E.left,y:E.top+E.height+4};
this.S(x)};f7.prototype.$=function(K,E,x){this.jc=x;this.Xs=K;var c=[[13,1,0],[13,0],[12,37],[12,62]],J=this.ax8,i=this.anc,P=!1,e;
for(var y=0;y<4;y++){var _={ez:y,QT:x[y]},a=f7.ajW(_);if(i[y]==a)continue;P=!0;var j=f7.a7N(null,_,this.ll,this.Xs,22,22,!1);
J[y]="<img width=\"22\" height=\"22\" src=\""+j+"\" />";i[y]=a}if(P)this.Jl.C8(J,c);this.Jl.$(E.ez);
var a=f7.ajW(E);if(a!=this.ate)f7.a7N(this.gI,E,this.ll,this.Xs,30,23,!0);this.ate=a;var d=E.ez;if(d==0){e=this.akK}if(d==1){this.rw.$(E.QT.Clr.v);
e=this.N$}if(d==2){this.UP.update(K,E.QT);e=this.Ee}if(d==3){this.Uw.update(K,E.QT);e=this.Pb}if(e!=this.O0){if(this.O0!=null){this.yY.e.removeChild(this.O0)}this.yY.e.appendChild(e);
this.O0=e}};f7.prototype.m=function(){var K={ez:this.Jl.m()};if(K.ez==1){K.QT=JSON.parse(JSON.stringify(dz.gk[0]));
K.QT.Clr.v=this.rw.m()}if(K.ez==2){K.QT=this.UP.m()}if(K.ez==3){K.QT=this.Uw.m()}return K};f7.ajW=function(K){var E=K.ez,x=K.QT,c="empty";
if(E==1){c=W.M.Et(x.Clr.v);c=c.o+","+c.J+","+c.k}if(E==2)c=JSON.stringify(x.Grad.v);if(E==3)c=x.Ptrn.v.Idnt.v;
return c};f7.a7N=function(K,E,x,c,J,i,P){if(K==null)K=f7.gI;var _=Math.floor(J*U.V()),a=Math.floor(i*U.V()),j=K.canvas,e;
j.width=_;j.height=a;U.P2(j,_,a);var d=E.ez;if(d==0){K.fillStyle="#ffffff";K.fillRect(0,0,_,a);K.strokeStyle="#ff0000";
K.lineWidth=2;K.moveTo(0,0);K.lineTo(_,a);K.moveTo(0,a);K.lineTo(_,0);K.stroke()}if(d==1){var I=E.QT.Clr.v;
I=W.M.Et(I);K.fillStyle="#"+W.E8(I.o<<16|I.J<<8|I.k);K.fillRect(0,0,_,a)}if(d==2){$.Mf.yi(E.QT.Grad.v,_,a,0,x.U9,x.xw,K)}if(d==3){var v=E.QT.Ptrn.v,n;
if(c!=null)n=bd.I6(v,c.add.Patt);if(n==null)n=bd.I6(v,x.$A);hz.yi(n,_,a,j)}if(P){K.beginPath();K.strokeStyle="#000000";
K.fillStyle="#ffffff";K.lineWidth=2;var C=_*.7,T=Math.floor(a*.7),o=7*U.V();K.moveTo(C,T);K.lineTo(C+o,T);
K.lineTo(C+o/2,T+o/2);K.closePath();K.stroke();K.fill()}if(K==f7.gI)return j.toDataURL()};f7.gI=U.t("canvas").getContext("2d");
function hz(K){jy.call(this,K,!1,"patternbutton",18,10,eu.up);this.pL=null}hz.prototype=new jy;hz.prototype.hs=function(K){var E=this.RM[this.LU.m()];
this.KK={classID:"Ptrn",Nm:{t:"TEXT",v:E.name},Idnt:{t:"TEXT",v:E.id}};this.S(new i3(u.E.A));this.vo()};
hz.prototype.Ns=function(){if(!this.NX)return;var K=this.RM,E=Math.floor(34*U.V()),x=Math.floor(34*U.V()),c=[],J=[];
for(var y=0;y<K.length;y++){c.push(hz.yi(K[y],E,x));J.push(K[y].name)}this.LU.U3(c,J,E,x);this.NX=!1};
hz.prototype.$=function(K,E){if(this.KK&&K.Idnt.v==this.KK.Idnt.v)return;this.KK=JSON.parse(JSON.stringify(K));
this.vo(E)};hz.prototype.m=function(){return JSON.parse(JSON.stringify(this.KK))};hz.prototype.TG=function(){return this.pL?[this.pL]:[]};
hz.prototype.vo=function(K){var E=Math.floor(50*U.V()),x=Math.floor(50*U.V()),c;if(K!=null)c=bd.I6(this.KK,K.add.Patt);
if(c==null)c=bd.I6(this.KK,this.RM);this.pL=c;var J=hz.yi(c,E,x);this.tt.setAttribute("src",J);U.P2(this.tt,E,x)};
hz.T=U.t("canvas","");hz.yi=function(K,E,x,c){if(c==null)c=hz.T;var J=c.getContext("2d");c.width=E;c.height=x;
if(K){var i=K.gW[1],P=i.b,_=i.n,a=K.gW[0],j=Math.min(E/P,x/_),e=j;if(e*P<2)e=2/P;var d=j;if(d*_<2)d=2/_;
var I=$.Xq.iH([a,i],new iQ(e,0,0,d,0,0),e>2),v=I.rect.b,n=I.rect.n,C=J.createImageData(v,n);W.dq(I.buffer,C.data);
J.putImageData(C,Math.floor((E-v)/2),Math.floor((x-n)/2))}return c.toDataURL()};function fz(K,E,x){if(E==null)E=24.2;
if(x==null)x=17;jy.call(this,K,!1,"patternbutton",E,x,eu.aH);this.vR=""}fz.prototype=new jy;fz.prototype.hs=function(K){this.KK=JSON.parse(JSON.stringify(this.RM[0][this.LU.m()[0]]));
this.S(new i3(u.E.A))};fz.prototype.Ns=function(){var K=this.RM;if(K==null||!this.NX)return;var E=Math.floor(50*U.V()),x=Math.floor(50*U.V()),c=[],J=[];
for(var y=0;y<K[0].length;y++){c.push(fz.yi(this.RM[0][y].BT,E,x,this.RM[1]));J.push(K[0][y].Sj.Nm.v.split("=").pop())}this.LU.U3(c,J,E,x);
this.NX=!1};fz.prototype.$=function(K,E,x,c){var J=JSON.stringify(K.BT)+","+x+","+c;if(this.vR!=J){this.vR=J;
this.KK=JSON.parse(JSON.stringify(K));this.vo(E,x,c)}};fz.prototype.m=function(){return JSON.parse(JSON.stringify(this.KK))};
fz.prototype.vo=function(K,E,x){var c=Math.floor(68*U.V()),J=Math.floor(68*U.V()),i=fz.yi(this.KK.BT,c,J,K?K:this.RM[1],E,x);
this.tt.setAttribute("src",i);U.P2(this.tt,c,J)};fz.yi=function(K,E,x,c,J,i){var P=new gD;P.b=E;P.n=x;
P.buffer=W.Q(E*x*4);P.add.Patt=c;P.I0(J==null?90:J);P.Zv(i==null?30:i);var _=new cS(0,0,Math.round(E*.5),Math.round(x*.5));
_.x=Math.round((E-_.b)/2);_.y=Math.round((x-_.n)/2);var a=P.EY();a.rect=_;a.buffer=W.Q(_.O()*4);W._m(a.buffer,4284045657);
bd.a1U(K,a,.5*100);P.B.push(a);P.p7();P.U();var j=f4.Eg;f4.Eg=!1;P.DJ();var e=P.S7();f4.Eg=j;var d=gr.NO(e.buffer,P.b,P.n);
return d};function bF(K){jy.call(this,null,!1,"tpresetbutton",18,24,eu.Ro,!0);U.gz(this.e,"fitem");this.LU.ST(1);
this.id=K;this.vo();this._.style.overflow="hidden";this.hD=new jw([15,7,9]);this.hD.$(!0);this.hD.w(u.E.A,this.au4,this);
this._0.appendChild(this.hD.e)}bF.prototype=new jy;bF.prototype.avp=function(K){if(this.id==K)return;
this.id=K;this.ly(this.RM)};bF.prototype.hs=function(K){var E=this.RM[this.LU.m()],x=new i3(u.E.L,!0);
x.data={_:u.c.Na,bA:"set",ry:eu.Ro,M1:E};this.S(x)};bF.prototype.f=function(){jy.prototype.f.call(this);
this.hD.f()};bF.prototype.au4=function(){this.NX=!0;this.Ns()};bF.prototype.Ns=function(){if(!this.NX)return;
var K=Math.floor(16*U.V()),E=Math.floor(16*U.V()),x=[],c=[],J=this.RM,i=this.hD.m();for(var y=0;y<J.length;
y++){var P=$.a4a(J[y]);if(!i||P==this.id){c.push(J[y][0]?J[y][0].split("=").pop():"");x.push(P==-1?"":PIMG[$.I3[P][0]])}else{x.push(null);
c.push(null)}}this.LU.U3(x,c,K,E);this.NX=!1};bF.prototype.vo=function(){var K=this.tt;K.setAttribute("src",PIMG[$.I3[this.id][0]]);
U.sy(K,"toolicon")};bF.prototype.TG=function(){return null};bF.yb={};bF.yi=function(K,E,x){var c=bF.gI,J=bF.yb,i=W.E8(K.o<<16|K.J<<8|K.k);
if(J[i])return J[i];if(c==null){var P=U.t("canvas");c=bF.gI=P.getContext("2d")}var P=c.canvas;P.width=E;
P.height=x;c.fillStyle="#"+i;c.fillRect(0,0,E,x);var _=J[i]=P.toDataURL();return _};function ke(K,E,x){fo.call(this);
this.e=U.t("span","fitem curveeditor");this.py=null;this.atl=0;this.OU="";this.mode=0;this.Y6=K;this.ah0=E;
this.azk=x;this.m0=null;this.sf=null;this.asf=0;this.asG=0;this.EM=new iP;this.DL=this.IK.bind(this);
this.ql=this.S6.bind(this);this.LG=256;this.T=U.t("canvas");this.gI=this.T.getContext("2d");U.hr(this.T);
this.e.appendChild(this.T);this.nt(256,256);U.gw(this.T,this.BA.bind(this));this.coords=U.t("div");this.coords.setAttribute("style","width:250px");
this.e.appendChild(this.coords);var c=this.KC=x?100:255,J=null;this.aM=new eW("X (in)",0,c,J,0,!1,!0);
this.vb=new eW("Y (out)",0,c,J,0,!1,!0);this.X$=new jw([19,3,0]);this.aM.w(u.E.A,this.PJ,this);this.vb.w(u.E.A,this.PJ,this);
this.X$.w(u.E.A,this.PJ,this);this.coords.appendChild(this.aM.e);if(x)this.coords.appendChild(this.X$.e);
this.coords.appendChild(this.vb.e)}ke.prototype=new fo;ke.prototype.f=function(){this.X$.f();this.aM.f();
this.vb.f()};ke.prototype.nt=function(K,E){this.LG=Math.round(K);this.gI.resetTransform();U.CL(this.T,this.LG,this.LG,this.gI);
this.gI.scale(this.LG/256,this.LG/256);if(this.m0)this.tO()};ke.prototype.PJ=function(K){var y=this.aa8(),E=this.m0[y],x=255/this.KC;
E.v.Hrzn.v=this.aM.m()*x;E.v.Vrtc.v=this.vb.m()*x;if(this.azk)E.v.Cnty.v=this.X$.m();this.m0.sort(function(c,J){return c.v.Hrzn.v-J.v.Hrzn.v});
this.tO();this.S(new i3(u.E.A))};ke.prototype.$=function(K,y){var E=JSON.stringify(K);if(E==JSON.stringify(this.m0))return;
this.mode=K.length==256?1:0;this.m0=JSON.parse(E);if(y!=null)this.sf=this.m0[y];this.tO()};ke.prototype.g5=function(K,E,x){this.py=K;
this.atl=E;this.OU=x;this.tO()};ke.prototype.m=function(){return JSON.parse(JSON.stringify(this.m0))};
ke.prototype.aa8=function(){return this.m0.indexOf(this.sf)};ke.prototype.BA=function(K){var E=256/this.LG,x=U.bf(K,this.T);
x.x*=E;x.y*=E;var c=x.x,J=256-x.y;if(this.Y6){var i=c;c=256-J;J=i}this.EM.tn(c,J);if(this.mode==0){var P=0,_=1e9,I;
for(var y=0;y<this.m0.length;y++){var a=this.m0[y].v,j=a.Hrzn.v-c,e=a.Vrtc.v-J,d=Math.sqrt(j*j+e*e);
if(d<_){_=d;P=y}}if(_<15)I=this.m0[P];else{I=W.r9.w7(c,J,!0);this.m0.push(I);this.m0.sort(function(v,n){return v.v.Hrzn.v-n.v.Hrzn.v})}this.sf=I;
this.asG=this.m0.slice(0)}U.nx(document.body,this.DL);U.xz(document.body,this.ql);this.IK(K)};ke.prototype.IK=function(K){var E=256/this.LG,x=U.bf(K,this.T);
x.x*=E;x.y*=E;var c=x.x,J=256-x.y;if(this.Y6){var i=c;c=256-J;J=i}if(this.mode==0){var P=this.m0,_=this.sf,a=this.asG,j=a.indexOf(_),e=P.indexOf(_)!=-1,d=a.length-1,I=c;
if(j==0){I=Math.max(0,Math.min(a[1].v.Hrzn.v-1,c))}else if(j==d){I=Math.min(255,Math.max(a[d-1].v.Hrzn.v+1,c))}else{var v=c<0||c>255||J<0||J>255;
if(c<=a[j-1].v.Hrzn.v||c>=a[j+1].v.Hrzn.v)v=!0;if(!v&&!e)P.splice(j,0,_);if(v&&e)P.splice(j,1)}if(this.ah0&&(j==0||j==a.length-1)){}else _.v.Hrzn.v=Math.round(I);
_.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(J)))}else{c=Math.round(c);J=Math.round(J);c=Math.max(0,Math.min(255,c));
J=Math.max(0,Math.min(255,J));var n=this.EM.x,C=c,T=this.EM.y,o=J;if(c<this.EM.x){C=n;n=c;o=T;T=J}this.m0[c]=J;
if(n!=C)for(var s=n;s<=C;s++)this.m0[s]=Math.round(T+(s-n)*(o-T)/(C-n))}this.EM.tn(c,J);this.tO();this.S(new i3(u.E.A))};
ke.prototype.S6=function(K){U.PL(document.body,this.DL);U.KR(document.body,this.ql);this.S(new i3(u.E.A))};
ke.prototype.tO=function(){var K=this.gI,E=this.T;K.fillStyle="#ffffff";K.fillRect(0,0,256,256);var x=256/E.width;
if(this.py){K.save();K.translate(0,256);K.scale(1,-1);hc.azU(K,this.py,5700/this.atl,this.OU);K.restore()}K.strokeStyle="#aaaaaa";
K.lineWidth=1*x;K.beginPath();for(var y=1;y<4;y++){var c=(Math.floor(64*y/x)+.5)*x;K.moveTo(0,c);K.lineTo(255,c);
K.moveTo(c,0);K.lineTo(c,255)}K.stroke();if(this.Y6){K.save();K.transform(0,1,-1,0,256,0)}if(this.mode==0){var J=this.m0,i=W.r9.Qw(J,256);
K.strokeStyle="#000000";K.beginPath();K.moveTo(0,255.5-i[0]);for(var y=0;y<256;y++)K.lineTo(y,255.5-i[y]);
K.stroke();K.lineWidth=2*x;for(var y=0;y<J.length;y++){var P=J[y].v;K.fillStyle=this.sf==J[y]?"#333":"#fff";
K.beginPath();K.moveTo(P.Hrzn.v,255.5-P.Vrtc.v);K.arc(P.Hrzn.v,255.5-P.Vrtc.v,5*x,0,2*Math.PI);K.stroke();
K.fill()}}else{var i=this.m0;K.strokeStyle="#000000";K.beginPath();K.moveTo(0,255.5-i[0]);for(var y=0;
y<256;y++)K.lineTo(y,255.5-i[y]);K.stroke()}if(this.Y6)K.restore();var y=this.aa8();this.coords.className=y==-1?"disabled":"";
if(y==-1)return;var P=this.m0[y].v,_=255/this.KC;this.aM.$(Math.round(P.Hrzn.v/_));this.vb.$(Math.round(P.Vrtc.v/_));
if(P.Cnty)this.X$.$(P.Cnty.v)};function hc(K,E){fo.call(this);this.e=U.t("span","");this.ye=new aw([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);
this.ye.w(u.E.A,this.I5,this);this.e.appendChild(this.ye.e);U.R0(this.e);var x=U.t("div");this.e.appendChild(x);
x.setAttribute("style","background-color: var(--bg-canvas); margin:6px 0;");this.T=U.t("canvas");var c=this.T;
x.appendChild(c);c.width=Math.round(K*U.V());c.height=Math.round(100*U.V());U.P2(c,c.width,c.height);
c.style.display="block";this.gI=c.getContext("2d");this.py=null;this.cq=0;this.a6D=null;this.ao8=[];
this.Op=[];var J=["Mean:","Pixels:"],i=this.e;if(E)for(var y=0;y<J.length;y++){var P=new jp(J[y]);this.ao8.push(P);
i.appendChild(P.e);var _=new jp("hi");this.Op.push(_);i.appendChild(_.e);U.R0(i)}}hc.prototype=new fo;
hc.prototype.f=function(){this.ye.f()};hc.prototype.ST=function(K){this.ye.$(K);this.I5()};hc.prototype.$=function(K,E){this.py=K;
this.a6D=E;this.I5()};hc.prototype.aD=function(K){if(K==this.cq)return;this.cq=K;this.I5()};hc.prototype.I5=function(){if(this.py==null)return;
var K=this.T,E=this.gI,x=this.py,c=this.a6D,J=this.ye.m(),i=6e3/x[4],P="#"+W.E8(this.cq),_=hc.azU;K.width=K.width;
E.setTransform(K.width/256,0,0,-K.height/100,0,K.height);E.globalCompositeOperation="lighter";if(J==0)_(E,x[0],i/3,P);
else if(J<4)_(E,x[J],i,P);else{_(E,x[1],i,"#ff0000");_(E,x[2],i,"#00ff00");_(E,x[3],i,"#0000ff")}E.setTransform(1,0,0,1,0,0);
if(c!=null){if(J==4)J=0;var a=0;for(var y=0;y<256;y++)a+=y*x[J][y];if(J==0)a/=3;this.Op[0].$((a/c).toFixed(1)+"");
this.Op[1].$(c+"")}};hc.azU=function(K,E,x,c){K.beginPath();K.moveTo(0,0);for(var J=0;J<256;J++)K.lineTo(J,E[J]*x);
K.lineTo(256,0);K.closePath();K.fillStyle=c;K.fill()};function jQ(K,E){fo.call(this);this.u7={o:0,J:0,k:0};
if(Math.abs(K-256/U.V())<10)K=256/U.V();var x=this.e=U.t("div","flexrow");x.style.position="relative";
var c=this.a8R=U.t("div");x.appendChild(c);this.gU=new iP;this.fG=new iP;this.Su=this.aaI.bind(this);
this.Kk=this.ahk.bind(this);this.T=U.t("canvas","");this.gI=this.T.getContext("2d");this.T.width=this.T.height=256;
this.a32=this.gI.getImageData(0,0,256,256);this.aq0=-1;this.avP="";U.hr(this.T);U.gw(this.T,this.agm.bind(this));
c.appendChild(this.T);this.abn=this.ayT.bind(this);this.atJ=this.azz.bind(this);this.s$=U.t("canvas","");
this.Ti=this.s$.getContext("2d");this.s$.width=20;this.s$.height=256;this.a9b=this.Ti.getImageData(0,0,20,256);
jQ.asS(this.a9b.data,20,256);U.hr(this.s$);U.gw(this.s$,this.ajl.bind(this));x.appendChild(this.s$);
this.T.setAttribute("style","width:"+K+"px; height:"+K+"px");this.s$.setAttribute("style","width:16px; height:"+K+"px");
this.Uy=new jw("Web Colors\u2001");this.Uy.w(u.E.A,this.update,this);this.ul=new jw("CMYK gamut");this.ul.w(u.E.A,this.update,this);
if(E){U.R0(c);c.appendChild(this.Uy.e);c.appendChild(this.ul.e)}var J=this.lw=document.createElementNS("http://www.w3.org/2000/svg","svg");
x.appendChild(J)}jQ.prototype=new fo;jQ.prototype.nt=function(K,E){this.T.style.width=this.a8R.style.width=K-16+"px"};
jQ.prototype.$=function(K){if(this.Uy.m()){var E=JSON.parse(JSON.stringify(K));jQ.LV(E);var x=this.m();
if(E.o==x.o&&E.J==x.J&&E.k==x.k)K=this.u7}this.u7=K;this.update()};jQ.prototype.m=function(){var K=JSON.parse(JSON.stringify(this.u7));
if(this.Uy.m())jQ.LV(K);return K};jQ.prototype.update=function(){var K=this.u7,E=W.Rv(K.o,K.J,K.k),_=18;
if(E.W8==0)E.hV=this.gU.x/255;if(E.hV==0||E.W8==0)E.o4=(255-this.Pq(this.fG.y))/255;if(E.W8!=0)this.gU.x=E.hV*255;
this.gU.y=(1-E.W8)*255;this.fG.y=(1-E.o4)*255;var x=this.a32,c=this.Uy.m(),J=this.ul.m(),i=c+","+J;if(Math.abs(E.o4-this.aq0)>.002||this.avP!=i){this.ann(x.data,256,256,E.o4,c,J);
this.aq0=E.o4;this.avP=i}var P=this.gI;P.putImageData(x,0,0);x=this.a9b;P=this.Ti;P.putImageData(x,0,0);
P.strokeStyle="#ffffff";P.beginPath();P.moveTo(0,this.fG.y);P.lineTo(20,this.fG.y);P.lineWidth=2;P.stroke();
var a=this.gU.y/255,j=parseFloat(this.T.style.width),e=parseFloat(this.T.style.height),d=this.lw;d.setAttribute("width",_);
d.setAttribute("height",_);var I=Math.round(K.o*255)<<16|Math.round(K.J*255)<<8|Math.round(K.k*255),v="<circle cx=\""+_/2+"\" cy=\""+_/2+"\" r=\""+_/2+"\" fill=\"#"+W.E8(I)+"\"></circle>";
v+="<circle cx=\""+_/2+"\" cy=\""+_/2+"\" r=\""+(-.5+_/2)+"\" fill=\"none\" stroke=\"rgba(255,255,255,"+(.5-.2*a)+")\" stroke-width=\"1\"></circle>";
v+="<circle cx=\""+_/2+"\" cy=\""+_/2+"\" r=\""+(-1.2+_/2)+"\" fill=\"none\" stroke=\"rgba(0,0,0,0.07)\" stroke-width=\"0.4\"></circle>";
d.innerHTML=v;d.style.pointerEvents="none";d.style.filter="drop-shadow(0px 3px 2px rgba(0,0,0,0.4)";
d.style.position="absolute";d.style.left=j*(this.gU.x/255)-_/2+"px";d.style.top=e*(this.gU.y/255)-_/2+"px"};
jQ.LV=function(K){K.o=~~(.5+K.o*5)*.2;K.J=~~(.5+K.J*5)*.2;K.k=~~(.5+K.k*5)*.2};jQ.prototype.ann=function(K,E,x,c,J,i){var P=1/E,_=1/x;
for(var a=0;a<x;a++)for(var j=0;j<E;j++){var e=W.lx(c,j*P,(x-a-1)*_);if(J)jQ.LV(e);var y=a*E+j<<2;K[y+0]=~~(e.o*255);
K[y+1]=~~(e.J*255);K[y+2]=~~(e.k*255);K[y+3]=255}if(i){var d=K.slice(0),I=gD.jg[0],v=gD.jg[1];ICC.U.applyLUT(v,I,d,d);
for(var y=0;y<K.length;y+=4){var n=K[y]-d[y],C=K[y+1]-d[y+1],T=K[y+2]-d[y+2],o=n*n+C*C+T*T;if(o>300)K[y]=K[y+1]=K[y+2]=200}}};
jQ.asS=function(K,E,x,c,J){if(c==null)c=1;if(J==null)J=0;var i=new Uint32Array(K.buffer);for(var P=0;
P<x;P++){var _=W.lx((1+c*(1-P/x)+J)%1,1,1),a=255<<24|_.k*255<<16|_.J*255<<8|_.o*255;for(var j=0;j<E;
j++)i[P*E+j]=a}};jQ.prototype.agm=function(K){U.nx(window,this.Su);U.xz(window,this.Kk);this.aaI(K);
this.lw.style.transition="transform 150ms cubic-bezier(.4,2.2,.6,.5)";this.lw.style.transform="scale(2.4)"};
jQ.prototype.ahk=function(K){U.PL(window,this.Su);U.KR(window,this.Kk);this.lw.style.transition="transform 200ms cubic-bezier(.4,2.2,.6,.5)";
this.lw.style.transform="scale(1)"};jQ.prototype.aaI=function(K){var E=U.bf(K,this.T);E.x=E.x*(256/parseFloat(this.T.style.width));
E.y=E.y*(256/parseFloat(this.T.style.height));this.gU.tn(this.Pq(E.x),this.Pq(E.y));this.m1()};jQ.prototype.m1=function(){this.u7=this.anb();
this.S(new i3(u.E.A))};jQ.prototype.anb=function(){var K=W.lx((255-this.Pq(this.fG.y))/255,this.Yl(this.gU.x/255),this.Yl(1-this.gU.y/255));
return{o:K.o,J:K.J,k:K.k}};jQ.prototype.ajl=function(K){U.nx(window,this.abn);U.xz(window,this.atJ);
this.ayT(K)};jQ.prototype.azz=function(K){U.PL(window,this.abn);U.KR(window,this.atJ)};jQ.prototype.ayT=function(K){var E=U.bf(K,this.s$);
E.y=E.y*(256/parseFloat(this.s$.style.height));this.fG.tn(this.Pq(E.x),this.Pq(E.y));this.m1()};jQ.prototype.Pq=function(K){return Math.max(0,Math.min(255,K))};
jQ.prototype.Yl=function(K){return Math.max(0,Math.min(1,K))};function cA(K,E,x,c){var J=fn.b9(E,c);
fn.call(this,K,J,x)}cA.prototype=new fn;function cD(){fo.call(this);this.W5=null;this.Np=new en;this.Np.w(u.E.A,this.a6d,this);
this.Np.parent=this;this.kN=new eW([12,14,0],1,150,"px",0,!0);this.kN.w(u.E.A,this._R,this);this.kN.parent=this;
this.TR=new eW([16,0],.01,100,"px",2,!0,null,5);this.TR.w(u.E.A,this._R,this);this.TR.parent=this;this.Jc=new jw("Auto");
this.Jc.w(u.E.A,this._R,this);this._K=new eW([16,1],-500,5e3,"%",0,!0);this._K.w(u.E.A,this._R,this);
this._K.parent=this;this.xr=new eW("\u2B0D",1,300,"%",null,null,null,null,[[2,7],[22,4,3]]);this.xr.w(u.E.A,this._R,this);
this.xr.parent=this;this.ks=new eW("\u2B0C",1,300,"%",null,null,null,null,[[2,7],[22,4,2]]);this.ks.w(u.E.A,this._R,this);
this.ks.parent=this;this.gJ=new eW([16,2],-10,10,"px");this.gJ.w(u.E.A,this._R,this);this.gJ.parent=this;
this.wc=new eX(!0);this.wc.w(u.E.A,this.yI,this);this.wc.parent=this;this._c=new eX(!0);this._c.w(u.E.A,this.yI,this);
this._c.parent=this;this.In=new eX(!0);this.In.w(u.E.A,this.yI,this);this.In.parent=this;this.Bh=new eX(!0);
this.Bh.w(u.E.A,this.yI,this);this.Bh.parent=this;this.Ja=new jw([2,3]);this.Ja.w(u.E.A,this._R,this);
this.wW=new jw([14,9]);this.wW.w(u.E.A,this._R,this);this.i9=new jw([12,46]);this.i9.w(u.E.A,this._R,this);
this.sI=new cn("...",null,null,!0);this.sI.e.style.marginLeft="-8px";U.gw(this.sI.e,this.ahl.bind(this));
this.yY=new fo;var K=this.yY.e=U.t("div","floatcont form"),J=100;this.yY.parent=this;this._2=new eW([12,41],1,20,"px",0,!0,!0);
this._2.e.style.marginLeft="16px";this._2.w(u.E.A,this._R,this);this._2.parent=this.yY;K.appendChild(this._c.e);
K.appendChild(this.Ja.e);U.R0(this.yY.e);K.appendChild(this.In.e);K.appendChild(this.wW.e);K.appendChild(this._2.e);
U.R0(this.yY.e);K.appendChild(this.Bh.e);K.appendChild(this.i9.e);this.a2=new cn("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />");
this.$I=new cn("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");this.r4=new cn("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");
this.td=new cn("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");this.vK=new cn("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");
this.G0=new cn("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");this.Eu=new cn("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");
this.ig=new cn("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");var E=[this.a2,this.$I,this.r4,this.td,this.vK,this.G0,this.Eu,this.ig];
for(var y=0;y<E.length;y++)E[y].w("click",this.agR,this);this.Qb=new cn("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.yS=new cn("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.ov=new cn("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.a9s=new cn("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.aue=new cn("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.aoS=new cn("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.aip=new cn("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.oS=[this.Qb,this.yS,this.ov,this.a9s,this.aue,this.aoS,this.aip];for(var y=0;y<this.oS.length;y++)this.oS[y].w("click",this._R,this);
var x=["lind","rind","flind","bind","aind"],c=[];for(var y=0;y<5;y++)c.push("<img src=\""+PIMG["par/"+x[y]]+"\" class=\"autoscale gsicon\" /> ");
this.WH=new eW(c[0],-J,J,"px");this.JF=new eW(c[1],-J,J,"px");this.C7=new eW(c[2],-J,J,"px");this.iN=new eW(c[3],-J,J,"px");
this._T=new eW(c[4],-J,J,"px");this.Kd=new fn([12,33],["Abc ...","... \u0623\u064A \u0628\u064A"]);this.bH=new eW(["Auto VAR0",[16,0]],0,500,"%");
this.XW=[this.WH,this.JF,this.C7,this.iN,this._T,this.Kd,this.bH];for(var y=0;y<this.XW.length;y++){var i=this.XW[y];
i.w(u.E.A,this._R,this);i.parent=this}}cD.prototype=new fo;cD.prototype.ahl=function(K){if(U.Of(this.yY.e))return;
K.stopPropagation();var E=this.sI.e.getBoundingClientRect(),x=new i3(u.E.L,!0);x.data={_:u.c.gF,M8:this.yY,x:E.left,y:E.top+E.height+4};
this.S(x)};cD.prototype.f=function(){this.Np.f();this.kN.f();this.TR.f();this._K.f();this.gJ.f();this.xr.f();
this.ks.f();this.Ja.f();this.wW.f();this.i9.f();this._2.f();for(var y=0;y<this.XW.length;y++)this.XW[y].f()};
cD.prototype.$=function(K,E,x){this.H5=JSON.parse(JSON.stringify(K));var c=this.H5,J=c.BY,i=c.sn;this.a2.$(J.FauxBold!=null?J.FauxBold:!1);
this.$I.$(J.FauxItalic!=null?J.FauxItalic:!1);this.r4.$(J.FontCaps==2);this.td.$(J.FontCaps==1);this.G0.$(J.FontBaseline==1);
this.vK.$(J.FontBaseline==2);this.Eu.$(J.Underline);this.ig.$(J.Strikethrough);this.Np.$(J.Font==null?null:c.Ho[J.Font].Name,E,x);
var P=J.FontSize==null?20:J.FontSize;this.kN.$(P);var _=J.Tracking;this._K.$(_==null?0:_);this._2.$(J._LineWidth!=null?J._LineWidth:1);
this.TR.$(J.Leading!=null&&J.Leading!=0?J.Leading:P);this.Jc.$(J.AutoLeading);this.xr.$((J.VerticalScale!=null?J.VerticalScale:0)*100);
this.ks.$((J.HorizontalScale!=null?J.HorizontalScale:0)*100);this.gJ.$(J.BaselineShift!=null?J.BaselineShift:0);
this.Ja.$(J.FillFlag!=null?J.FillFlag:!1);this.wW.$(J.StrokeFlag!=null?J.StrokeFlag:!1);this.i9.$(J._FillBackgroundFlag!=null?J._FillBackgroundFlag:!1);
this.cj(J.FillColor,this.wc);this.cj(J.FillColor,this._c);this.cj(J.StrokeColor,this.In);this.cj(J._FillBackgroundColor,this.Bh);
var a=i._Direction!=null?i._Direction:0,j=ev.Xy(i);for(var y=0;y<this.oS.length;y++)this.oS[y].$(j==y);
this.Kd.$(a);this.bH.$((i.AutoLeading!=null?i.AutoLeading:1.2)*100);this.WH.$(i.StartIndent!=null?i.StartIndent:0);
this.JF.$(i.EndIndent!=null?i.EndIndent:0);this.C7.$(i.FirstLineIndent!=null?i.FirstLineIndent:0);this.iN.$(i.SpaceBefore!=null?i.SpaceBefore:0);
this._T.$(i.SpaceAfter!=null?i.SpaceAfter:0)};cD.prototype.cj=function(K,E){if(K){var x=ev.Et(K);E.aD(Math.round(x.o)<<16|Math.round(x.J)<<8|Math.round(x.k))}else E.aD(0)};
cD.prototype.gY=function(){var K=new i3(u.E.L,!0);K.data={_:u.c.Na,ry:eu.xl,H5:this.H5};this.S(K);var K=new i3(u.E.v,!0);
K.G=$.H4;K.data={_:"updateStyles"};this.S(K)};cD.prototype.agR=function(K){var E=this.H5.BY,x=K.target,c=!x.dn();
if(x==this.a2)E.FauxBold=c;if(x==this.$I)E.FauxItalic=c;if(x==this.r4)E.FontCaps=c?2:0;if(x==this.td)E.FontCaps=c?1:0;
if(x==this.G0)E.FontBaseline=c?1:0;if(x==this.vK)E.FontBaseline=c?2:0;if(x==this.Eu)E.Underline=c;if(x==this.ig)E.Strikethrough=c;
this.gY()};cD.prototype._R=function(K){var E=this.H5.BY,x=this.H5.sn,c=K.target;if(c==this._K){var J=this._K.m();
E.Tracking=J}if(c==this.TR){E.AutoLeading=!1;E.Leading=this.TR.m()}if(c==this.Jc){E.AutoLeading=this.Jc.m()}if(c==this._2)E._LineWidth=c.m();
if(c==this.kN)E.FontSize=c.m();if(c==this.xr)E.VerticalScale=c.m()/100;if(c==this.ks)E.HorizontalScale=c.m()/100;
if(c==this.gJ)E.BaselineShift=c.m();if(c==this.Ja)E.FillFlag=c.m();if(c==this.wW)E.StrokeFlag=c.m();
if(c==this.i9)E._FillBackgroundFlag=c.m();if(this.oS.indexOf(c)!=-1){x.Justification=ev.Xy(x,this.oS.indexOf(c))}if(c==this.WH)x.StartIndent=c.m();
if(c==this.JF)x.EndIndent=c.m();if(c==this.C7)x.FirstLineIndent=c.m();if(c==this.iN)x.SpaceBefore=c.m();
if(c==this._T)x.SpaceAfter=c.m();if(c==this.Kd)x._Direction=c.m();if(c==this.bH)x.AutoLeading=c.m()/100;
this.gY()};cD.prototype.a6d=function(K){var E=this.H5,x=this.Np.m(),c=-1;for(var y=0;y<E.Ho.length;y++)if(E.Ho[y].Name==x)c=y;
if(c==-1){c=E.Ho.length;var J=JSON.parse(JSON.stringify(E.Ho[0]));J.Name=x;E.Ho.splice(c,0,J)}E.BY.Font=c;
this.gY()};cD.prototype.yI=function(K){var E=K.target,x=E.ap5(),c={Type:1,Values:[1,(x>>16&255)/255,(x>>8&255)/255,(x>>0&255)/255]};
for(var y=0;y<4;y++)c.Values[y]=Math.round(c.Values[y]*1e3)/1e3;var J=E==this.wc||E==this._c?0:E==this.In?1:2;
this.H5.BY[["FillColor","StrokeColor","_FillBackgroundColor"][J]]=c;this.gY()};function en(){fo.call(this);
this.e=U.t("span","fontinput");this.pU=null;this.sL=null;this.IE=null;this.nq="";this.Ma={};this.sM=[];
this.rF={};this.aar={};this.iY=[];this.w_=!1;this.oY=U.t("button","fitem");this.oY.setAttribute("style","width:9em;");
this.oY.textContent="Family Name \u25BC";this.e.appendChild(this.oY);U.gw(this.oY,this.aze.bind(this));
this.n3=new fo;this.n3.parent=this;var K=this.n3.e=U.t("div","floatcont");K.style.padding="7px 7px 3px 7px";
var E=new jp("Recent");K.appendChild(E.e);var x=this.aqM=new cn([[23,6],[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);
x.w("click",this.anH,this);x.e.style.float="right";K.appendChild(x.e);U.R0(K);this.Ez=U.t("span","fitem imageset scrollable");
this.Ez.style.maxHeight="8em";K.appendChild(this.Ez);var c=U.t("div","form");this.n3.e.appendChild(c);
this.lT=new cn(U.fk("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");this.lT.w("click",this.a6O,this);
c.appendChild(this.lT.e);this.Lm=new ay([12,86],null,7.5);this.Lm.w("input",this.fF,this);c.appendChild(this.Lm.e);
this.PN=new ck(6.8,"\u2630");c.appendChild(this.PN.e);this.PN.parent=this.n3;this.PN.w(u.E.A,this.y9,this);
this.PN.e.style.float="right";this.PN.e.style.marginRight="0";this.mO=U.t("span","fitem imageset scrollable");
this.mO.style.height="30em";this.n3.e.appendChild(this.mO);this.mO.addEventListener("scroll",this.ah4.bind(this),!1);
this.e_=U.t("button","fitem");this.e_.setAttribute("style","width:7em;");this.e_.textContent="SubFamily Name \u25BC";
this.e.appendChild(this.e_);U.gw(this.e_,this.aze.bind(this));this.g3=new fo;this.g3.parent=this;this.g3.e=U.t("div","floatcont");
this.c8=U.t("span","fitem imageset scrollable");this.g3.e.appendChild(this.c8);this.axO=this.ax4.bind(this);
this.aiO=this.a4E.bind(this)}en.prototype=new fo;en.prototype.ah4=function(K){var E=this.mO.scrollTop,x=this.sM,c=Math.floor(E/27),J=Math.min(c+20,x.length);
for(var y=c;y<J;y++)this.abW(x[y])};en.prototype.anH=function(){var K=new i3(u.E.L,!0);K.data={_:u.c.yq,af$:".otf,.ttf,.ttc"};
this.S(K)};en.prototype.f=function(){this.PN.f();this.aqM.f();this.lT.Q1(U.fk("tools/cshape",null,"autoscale"))};
en.prototype.a6O=function(K){this.lT.$(!this.lT.dn());this.y9()};en.prototype.fF=function(K){this.nq=this.Lm.m().toLowerCase();
this.y9()};en.prototype.aze=function(K){U.v$(K);var E=K.currentTarget,x=E.getBoundingClientRect(),c=E==this.oY,J=c?this.n3:this.g3;
if(U.Of(J.e)){this.akO(J);return}if(!c&&this.pU.fa()[this.IE]==null)return;var i=new i3(u.E.L,!0);i.data={_:u.c.gF,M8:J,x:x.left,y:x.top+x.height};
this.S(i);if(c){this.y9(null,!0)}};en.prototype.ax4=function(K){var E=K.currentTarget.firstChild.nextSibling.textContent;
if(K.target.tagName.toLowerCase()=="button"){var x=this.sL.slice(0),c=x.indexOf(E);if(c==-1){x=x.slice(Math.max(0,x.length-29));
x.push(E)}else x.splice(c,1);var J=new i3(u.E.L,!0);J.data={_:u.c.Na,ry:eu.uF,iz:x};this.S(J);this.w_=!0;
this.y9()}else{this.aco(E,null)}};en.prototype.a4E=function(K){this.aco(null,K.currentTarget.firstChild.textContent)};
en.prototype.aco=function(K,E){var x=K==null?this.g3:this.n3,c=this.pU;if(K==null)K=c.fa()[this.IE][0];
else{var J=c.B$(K),i=c.fa()[this.IE];E=cd.fi(J,i?i[1]:"regular")}var P=c.sK(K,E)[2];this.$(P,c);this.S(new i3(u.E.A,!1));
this.akO(x);this.y9()};en.prototype.akO=function(K){var E=new i3(u.E.L,!0);E.data={_:u.c.rd,M8:K};this.S(E)};
en.prototype.m=function(){return this.IE};en.prototype.$=function(K,E,x){var c=this.pU;if(K!=null)this.IE=K;
else K=this.IE;this.pU=E;this.sL=x;if(K!=null){var J=E.fa()[K],i,P;if(J==null){i="- "+K;P="-------"}else{i=J[0];
P=J[1];var _=this.iY;for(var y=0;y<_.length;y++)if(_[y][0][0]==i)_.splice(y,1);_.push([J,Date.now()]);
_.sort(function(d,I){return I[1]-d[1]});_=_.slice(0,10);U.w6(this.Ez);for(var y=1;y<_.length;y++){var a=_[y][0],j=this.Am(a,!0);
this.Eb(j,a,!0);this.Ez.appendChild(j)}var e=E.B$(i);e.sort(cd.afQ);this.c8.textContent="";for(var y=0;
y<e.length;y++){var J=E.sK(i,e[y]);if(!this.PN.$O(J))continue;var j=this.Am(J,!1);this.c8.appendChild(j)}}this.oY.textContent=i.substring(0,15)+" \u25BC";
this.oY.setAttribute("title",i+", \""+K+"\"");this.e_.textContent=P.substring(0,10)+" \u25BC";this.e_.setAttribute("title",P)}};
en.prototype.y9=function(K,E){var x=this.pU.fa()[this.IE],c=this.sL,J=this.pU.fA();this.sM=[];for(var i in J){var P=c.indexOf(i)!=-1,_=this.pU.B$(i),a=!1;
for(var y=0;y<_.length;y++){var j=this.pU.sK(i,_[y]),e=!0;if(this.nq.length>0&&j[0].toLowerCase().indexOf(this.nq)==-1)e=!1;
else if(!this.PN.$O(j))e=!1;else if(this.lT.dn()&&!P)e=!1;if(e)a=!0}var d=this.Ma[i];if(d==null){var I=cd.fi(J[i],"regular"),v=this.pU.sK(i,I),d=this.Am(v,!0);
this.Ma[i]=d;this.mO.appendChild(d);this.rF[i]="[true,false,false]"}if(a)this.sM.push(i);var n=x!=null&&x[0]==i;
this.aar[i]="["+a+","+n+","+P+"]";if(!E)this.abW(i)}if(x&&!this.w_){var C=this.Ma[x[0]];this.mO.scrollTop=C.offsetTop-210}this.ah4();
this.w_=!1};en.prototype.abW=function(K){var E=this.Ma[K];if(E.firstChild==null){var x=this.pU.fA(),c=cd.fi(x[K],"regular"),J=this.pU.sK(K,c);
this.Eb(E,J,!0)}var i=this.rF[K],P=this.aar[K];if(i==P)return;var _=JSON.parse(i),a=JSON.parse(P);if(_[0]!=a[0]||_[1]!=a[1]){var j=a[0]?"":"display:none; ";
if(a[1])j+="background-color:rgba(0,0,0,0.13);";E.setAttribute("style",j)}if(_[2]!=a[2])E.firstChild.setAttribute("style","opacity: "+(a[2]?"1":"0.2"));
this.rF[K]=P};en.prototype.Am=function(K,E){var x=U.t("div","fontitem");if(!E)this.Eb(x,K,E);return x};
en.prototype.Eb=function(K,E,x){var c=E[x?0:1],J=x?this.axO:this.aiO,a="";K.addEventListener("click",J,!1);
if(x)K.appendChild(U.t("button","star"));var i=U.t("span","label");i.setAttribute("title",c);i.textContent=c;
K.appendChild(i);var P=U.V(),_=1/P,j=cd.mn*_,e=cd.Gr*_;if(1<P&&P<1.5)a="width:"+j+"px; height:"+e+"px;";
var d=U.t("span","thumb gsicon");if(E.aqT){a+="background: url("+E.aqT+");";if(1<P&&P<1.5)a+="background-size: "+j+"px "+e+"px;"}else{var I=Math.ceil(FNTS.list.length/cd.cols),v=Math.floor(E.JD/I),n=E.JD%I,C=v*cd.mn,T=n*cd.Gr;
if(1<P&&P<1.5){a+="background-size: "+cd.cols*j+"px "+I*e+"px;";C*=_;T*=_}a+="background-position:-"+C+"px -"+T+"px;"}d.setAttribute("style",a);
K.appendChild(d)};function ck(K,E){fo.call(this);this.e=U.t("button","fitem bbtn");this.e.addEventListener("click",this.a1i.bind(this),!1);
this.yY=new fo;this.yY.e=U.t("div","floatcont");this.yY.parent=this;this.oB=U.t("div","flexrow");this.yY.e.appendChild(this.oB);
this.dv=E;this.sl=[];this.Dn=[];var x=this.oB,c=U.t("div",""),J=U.t("div","");x.appendChild(c);x.appendChild(J);
this.cz=[];for(var y=0;y<FNTS.cats.length;y++)this.cz.push({name:FNTS.cats[y],index:y,fL:0});this.xx=new jw([7,0]);
this.xx.$(!0);this.xx.w(u.E.A,this.awI,this);c.appendChild(this.xx.e);this.o7=U.t("div","vlist marged scrollable");
this.o7.setAttribute("style","width:10.3em; height:"+K+"em; ");c.appendChild(this.o7);this.$E=[];for(var y=0;
y<this.cz.length;y++){var i=this.cz[y],P=new jw(i.name);this.$E.push(P);P.w(u.E.A,this.a0P,this);P.$(!0);
this.o7.appendChild(P.e);this.sl.push(1)}this.ajT=new jw([7,0]);this.ajT.w(u.E.A,this.aj$,this);this.MF=U.t("div","vlist marged scrollable");
this.MF.setAttribute("style","width:8.6em; height:"+(K+1.5)+"em; ");J.appendChild(this.MF);this.tq=[];
for(var y=0;y<FNTS.subsetNames.length;y++){var P=new jw(FNTS.subsetNames[y]);this.tq.push(P);P.w(u.E.A,this.aiG,this);
P.$(!1);this.MF.appendChild(P.e);this.Dn.push(P.m()?1:0)}}ck.prototype=new fo;ck.prototype.apA=function(K){var E=this.tq;
for(var y=0;y<E.length;y++){var x=(K>>>y&1)==1;this.Dn[y]=x;E[y].$(x)}};ck.prototype.avd=function(){return this.oB};
ck.prototype.f=function(){this.e.textContent=this.dv?this.dv:hg.get([25,1,0])+" \u25BC";this.xx.f();
this.ajT.f()};ck.prototype.a1i=function(K){var E=this.e.getBoundingClientRect(),x=new i3(u.E.L,!0);x.data={_:u.c.gF,M8:this.yY,x:E.left,y:E.top+E.height,Mc:!1};
this.S(x)};ck.prototype.$O=function(K){if(this.sl[K[4]]==0)return!1;else for(var E=0;E<this.Dn.length;
E++)if(this.Dn[E]==1&&(K[3]>>>E&1)==0)return!1;return!0};ck.prototype.awI=function(K){var E=K.target.m(),x=this.$E,c=this.sl;
for(var y=0;y<x.length;y++){x[y].$(E);c[y]=E?1:0}this.S(new i3(u.E.A,!1))};ck.prototype.aj$=function(K){var E=K.target.m(),x=this.tq,c=this.Dn;
for(var y=0;y<x.length;y++){x[y].$(E);c[y]=E?1:0}this.S(new i3(u.E.A,!1))};ck.prototype.a0P=function(K){var y=this.$E.indexOf(K.target),E=this.cz[y].index;
this.sl[E]=1-this.sl[E];this.S(new i3(u.E.A,!1));this.a89(this.$E,this.xx)};ck.prototype.aiG=function(K){var y=this.tq.indexOf(K.target);
this.Dn[y]=1-this.Dn[y];this.S(new i3(u.E.A,!1))};ck.prototype.a89=function(K,E){var x=!0;for(var y=0;
y<K.length;y++)x=x&&K[y].m();E.$(x)};function au(K,E,x){jy.call(this,E,!0,"gradientbutton",18,10,eu.B5);
this.U9=-1;this.xw=-1;this.a35=null;this.aos=K;this.G$=x}au.prototype=new jy;au.prototype.hs=function(K){var E=this.RM;
this.$(E[this.LU.m()]);this.S(new i3(u.E.A))};au.prototype.pE=function(K){var E=new i3(u.E.L,!0);E.data={_:u.c.v9,xc:"gradienteditor",M:this.KK,ze:this.avV.bind(this),iI:this.G$};
this.S(E)};au.prototype.avV=function(K){this.$(K);this.S(new i3(u.E.A))};au.prototype.Ns=function(){if(!this.NX)return;
var K=Math.floor(36*U.V()),E=Math.floor(36*U.V()),x=[],c=[],J=this.RM,i=Date.now();for(var y=0;y<J.length;
y++){var P=J[y];c.push(P.Nm?P.Nm.v.split("=").pop():"");var _=$.Mf.yi(P,K,E,Math.PI/4,this.U9,this.xw);
x.push(_)}this.LU.U3(x,c,K,E);this.NX=!1};au.prototype.Zx=function(K,E){this.aq3(this.KK,K,E)};au.prototype.$=function(K){this.aq3(K,this.U9,this.xw)};
au.prototype.aq3=function(K,E,x){this.U9=E;this.xw=x;if(K==null)return;var c=JSON.stringify(K),J=c+E+","+x;
if(J==this.a35)return;this.a35=J;this.KK=JSON.parse(c);var i=Math.floor(80*U.V()),P=Math.floor(16*U.V()),_=$.Mf.yi(this.KK,i,P,0,this.U9,this.xw);
this.tt.setAttribute("src",_);U.P2(this.tt,i,P)};au.prototype.m=function(){var K;if(this.aos)K=$.Mf.a1D(this.KK,this.U9,this.xw);
else K=JSON.parse(JSON.stringify(this.KK));return K};function iF(K){jy.call(this,K,!1,"swatchbutton",16,8.75,eu.ZX)}iF.prototype=new jy;
iF.prototype.hs=function(K){this.$(this.RM[K.target.m()]);this.S(new i3(u.E.A))};iF.prototype.Ns=function(){if(!this.NX)return;
var K=Date.now(),E=Math.floor(10*U.V()),x=Math.floor(10*U.V()),c=[],J=[],i=this.RM;for(var y=0;y<i.length;
y++){J.push(i[y].Qt?i[y].Qt.split("=").pop():"");c.push(iF.yi(i[y],E,x))}this.LU.U3(c,J,E,x);this.NX=!1};
iF.prototype.$=function(K){this.KK=JSON.parse(JSON.stringify(K));this.vo()};iF.prototype.vo=function(){var K=Math.floor(24*U.V()),E=Math.floor(20*U.V()),x=iF.yi(this.KK,K,E);
this.tt.setAttribute("src",x);U.P2(this.tt,K,E)};iF.prototype.m=function(){return JSON.parse(JSON.stringify(this.KK))};
iF.yb={};iF.yi=function(K,E,x){var c=iF.gI,J=iF.yb,i=W.E8(K.o<<16|K.J<<8|K.k);if(J[i])return J[i];if(c==null){var P=U.t("canvas");
c=iF.gI=P.getContext("2d")}var P=c.canvas;P.width=E;P.height=x;c.fillStyle="#"+i;c.fillRect(0,0,E,x);
var _=J[i]=P.toDataURL();return _};function gV(K,E,x){fo.call(this);this.e=U.t(x?"div":"span");var c=this.NC=U.t("input");
this.NC.setAttribute("type","file");if(E)c.setAttribute("multiple","");this.NC.addEventListener("change",this.afo.bind(this),!1);
this.a2a=this.ahQ.bind(this);this.$t={};this.Nt=0;this.PW=K;var J=this.a3R=new cn(hg.get(K)+" (0)",null,null,!0);
this.e.appendChild(J.e);J.addEventListener("click",function(i){c.click()});if(x){this.sp=U.t("div","scrollable");
this.sp.setAttribute("style","height:120px; width:100%; line-height:1.5em;");this.e.appendChild(this.sp);
this.I5()}}gV.prototype=new fo;gV.prototype.$=function(K){};gV.prototype.m=function(K){return this.$t};
gV.prototype.afo=function(K){var E=K.target.files;this.Nt=E.length;this.$t={};for(var y=0;y<E.length;
y++){var x=E[y],c=new FileReader;c.onload=this.a2a;c.O2=x.name;c.readAsArrayBuffer(x)}this.a3R.Q1(hg.get(this.PW)+" ("+E.length+")")};
gV.prototype.ahQ=function(K){var E=this.$t[K.target.O2]=new Uint8Array(K.target.result);this.Nt--;if(this.Nt==0){if(this.sp)this.I5();
this.S(new i3(u.E.A));this.NC.value=null}};gV.prototype.I5=function(){var K=this.sp;U.w6(K);for(var E in this.$t){var x=U.t("div");
x.textContent=E;K.appendChild(x)}};function ea(K,E,x,c,J){if(K==null)K=!1;if(E==null)E=!1;if(x==null)x=!1;
fo.call(this);this.bo=new iP;this.Qy=new iP;this.pl=72;this.y7=72;this.Uc=!0;this.tA=!1;this.e=U.t("span");
this.Kf=new eW([12,41],0,0,null,0,!1,!0,4);this.e.appendChild(this.Kf.e);this.Kf.w(u.E.A,this.h4,this);
var i=["px","%"];if(K)i=i.concat(["mm","in"]);if(J){i=[[12,76,2],[12,76,6]];if(K)i=i.concat([[12,76,5],[12,76,3]])}this.Ql=new aw(null,i);
this.e.appendChild(this.Ql.e);U.R0(this.e);this.Ql.w(u.E.A,this.h4,this);this.tx=new eW([12,42],0,0,null,0,!1,!0,4);
this.e.appendChild(this.tx.e);this.tx.w(u.E.A,this.h4,this);var P=new cn("\u21F5",!1,null,!0);P.w("click",this.adn,this);
this.Pf=new cn("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);this.Pf.w("click",this.h4,this);
this.Ck=new jp("");this.Ck.e.style.margin="0";this.Ck.e.style.padding="0";if(E){this.e.appendChild(this.Pf.e);
this.e.appendChild(this.Ck.e);this.Pf.Kv()}else this.e.appendChild(P.e);this.ah=new eW("DPI",0,0,null,3,!1,!0,4);
this.aQ=new aw(null,[["VAR0 / Inch",[12,76,2]],["VAR0 / Cm",[12,76,2]]]);if(K&&c==null){U.R0(this.e);
this.e.appendChild(this.ah.e);this.e.appendChild(this.aQ.e)}this.aQ.w(u.E.A,this.h4,this);this.ah.w(u.E.A,this.h4,this);
this.fu=new jw([12,23,1]);this.fu.w(u.E.A,this.h4,this);if(x){U.R0(this.e);this.e.appendChild(this.fu.e)}U.R0(this.e)}ea.prototype=new fo;
ea.prototype.nt=function(K,E){this.Kf.ZV.style.width=this.tx.ZV.style.width=(K-74-this.Pf.jL())/2+"px"};
ea.prototype.TA=function(){this.Kf.TA();this.tx.TA();this.Ql.TA();var K=this.e;U.w6(K);this.Ql.e.style.marginRight="0";
K.appendChild(this.Kf.e);K.appendChild(this.Pf.e);K.appendChild(this.tx.e);K.appendChild(this.Ql.e)};
ea.prototype.W9=function(){this.Kf.W9()};ea.prototype.a3d=function(K,E){this.Uc=K;if(E!=null)this.tA=E;
if(!this.Uc&&!this.tA&&this.Ql.m()==0){this.Ql.$(3);this.No()}};ea.prototype.a3w=function(K){this.Pf.$(K)};
ea.prototype.f=function(){this.Kf.f();this.tx.f();this.ah.f();this.aQ.f();this.Pf.f();this.fu.f();this.Ql.f()};
ea.prototype.adn=function(K){var E=this.Qy.x;this.Qy.x=this.Qy.y;this.Qy.y=E;this.No();this.S(new i3(u.E.A,!1))};
ea.prototype.h4=function(K){if(K.target==this.Ql&&!this.Uc&&!this.tA&&this.Ql.m()==0)this.Ql.$(3);if(K.target==this.Ql||K.target==this.fu){this.No();
return}if(K.target==this.Pf)K.target.$(!K.target.m());var E=this.bo,x=parseFloat(this.Kf.m());if(isNaN(x))x=1;
var c=parseFloat(this.tx.m());if(isNaN(c))c=1;var J=this.ah.m()*[1,2.54][this.aQ.m()],i=this.Ql.m();
if(this.Uc){var P=this.y7;if(i==1){x=this.bo.x*(x/100);c=this.bo.y*(c/100)}var _=[1,1,25.4/P,1/P][i];
x/=_;c/=_;if(this.fu.m()){x+=this.bo.x;c+=this.bo.y}if(K.target==this.ah){var a=J;if(!this.tA){var j=a/P;
x*=j;c*=j}P=a}if(this.Pf.m()){if(K.target==this.Kf)c=x*(E.y/E.x);else x=c*(E.x/E.y)}x=Math.max(Math.abs(x),1);
c=Math.max(Math.abs(c),1)}else{var P=this.pl;if(K.target==this.ah)P=J;else{if(this.Pf.m()){if(K.target==this.Kf)c=x*(E.y/E.x);
else x=c*(E.x/E.y)}var _=[1,1,25.4/P,1/P][i],e=x/(i==1?100:E.x*_);P=P/e}x=E.x;c=E.y}this.Qy=new iP(Math.round(x),Math.round(c));
this.y7=P;this.No();this.S(new i3(u.E.A,!1))};ea.prototype.ad0=function(y){this.Ql.$(y);this.No()};ea.prototype.$=function(K,E,x){if(x!=!0)this.bo=K.clone();
this.Qy=K.clone();if(E!=null){this.pl=E;this.y7=E}this.No()};ea.prototype.No=function(){var K=this.Qy.x,E=this.Qy.y,x=this.y7,c=(K/E).toFixed(3);
while(c.charAt(c.length-1)=="0")c=c.substring(0,c.length-1);if(c.charAt(c.length-1)==".")c=c.substring(0,c.length-1);
var J="  "+c+" : 1",i=function(e,d){while(d!=0){var I=d;d=e%d;e=I}return e},P=i(K,E);if(Math.min(K,E)/P<10)J="  "+Math.round(K/P)+" : "+Math.round(E/P);
this.Ck.$(J);if(this.fu.m()){K-=this.bo.x;E-=this.bo.y}var _=this.Ql.m();if(_==1){if(this.Uc){K=100*K/this.bo.x;
E=100*E/this.bo.y}else{K=E=100*this.pl/this.y7}}else{K=Math.round(K);E=Math.round(E)}var a=[1,1,25.4/x,1/x][_];
K*=a;E*=a;var j=_==1||_==3?2:0;this.Kf.gi(j);this.tx.gi(j);this.Kf.$(K);this.tx.$(E);this.ah.$(x*[1,1/2.54][this.aQ.m()])};
ea.prototype.m=function(){return this.Qy.clone()};ea.prototype.YU=function(){return this.y7};function ii(K,E,x){fo.call(this);
var c=K==0?["W","X","H","Y"]:["\u250F","\u2513","\u2517","\u251B"];this.Sq=K;this.azR=E;this.DS=1;this.jV=[1,1,0];
var J=this.e=U.t("div","numlist"),i=this.$C=[];for(var y=0;y<4;y++){var P=new eW(c[y],0,0,null,2,!1,!0,4,null,x&&(y==0||y==2));
P.w(u.E.A,this.h4,this);J.appendChild(P.e);i[y]=P;if(y==1||y==3)U.R0(J)}i[4]=new jw(K==0?[12,51]:[12,91,2]);
i[4].$(!0);J.appendChild(i[4].e)}ii.prototype=new fo;ii.prototype.f=function(){var K=this.$C;for(var y=0;
y<5;y++)K[y].f();if(this.Sq==0)U.di(K[0],K[2])};ii.prototype.$=function(K,E,x){if(E)this.jV=E;E=this.jV;
var c=x?K:this.Sq==0?[K[2],K[0],K[3],K[1]]:[K[0],K[1],K[3],K[2]];this.DS=c[0]/c[2];for(var y=0;y<4;y++){var J=this.$C[y];
J.gi(E[2]==0&&this.azR?0:2);J.$(W.uz.aa0(c[y],E[0],E[1],E[2]))}};ii.prototype.m=function(K){var E=[],x=this.jV;
for(var y=0;y<4;y++){var c=W.uz.KX(this.$C[y].m(),x[0],x[1],x[2]);E[y]=this.azR?Math.round(c):c}return K?E:this.Sq==0?[E[1],E[3],E[0],E[2]]:[E[0],E[1],E[3],E[2]]};
ii.prototype.h4=function(K){var E=this.Sq,x=this.$C.indexOf(K.currentTarget),c=this.m(!0),J=this.$C[4].m();
if(E==0){c[0]=Math.max(1,c[0]);c[2]=Math.max(1,c[2]);if(J&&x==0)c[2]=c[0]/this.DS;if(J&&x==2)c[0]=c[2]*this.DS}if(E==1){c[x]=Math.max(0,c[x]);
if(J)for(var y=0;y<4;y++)c[y]=c[x]}this.$(c,null,!0);this.S(new i3(u.E.A,!1))};function cb(){fo.call(this);
this.UM=0;this.Op=[0,0,1,1,100,100];this.e=U.t("span","fitem");this.Uh=new aw(null,[[12,89,0],[12,89,1],[12,89,2]]);
this.e.appendChild(this.Uh.e);this.Uh.w(u.E.A,this.h4,this);this.Kf=new eW("W",0,0,null,0,!1,!0);this.e.appendChild(this.Kf.e);
this.Kf.w(u.E.A,this.h4,this);this.tx=new eW("H",0,0,null,0,!1,!0);this.e.appendChild(this.tx.e);this.tx.w(u.E.A,this.h4,this);
this.$({kt:0,x:0,y:0})}cb.prototype=new fo;cb.prototype.f=function(){U.di(this.Kf,this.tx);this.Uh.f()};
cb.prototype.h4=function(K){if(K.target==this.Uh){var E=this.m(),x=this.Op;x[this.UM*2]=E.x;x[this.UM*2+1]=E.y;
this.UM=E.kt;this.$({kt:E.kt,x:x[E.kt*2],y:x[E.kt*2+1]})}if(this.Kf.m()<1)this.Kf.$(1);if(this.tx.m()<1)this.tx.$(1);
this.S(new i3(u.E.A,!1))};cb.prototype.$=function(K){this.Uh.$(K.kt);this.Kf.$(K.x);this.tx.$(K.y);if(K.kt==0){this.Kf.s1();
this.tx.s1()}else{this.Kf.gt();this.tx.gt()}};cb.prototype.m=function(){return{kt:this.Uh.m(),x:this.Kf.m(),y:this.tx.m()}};
function bk(K){fo.call(this);this.e=U.t("span","");this.awm=K;this.UO=new a4("Off X",-100,100,K?"%":"px",0,!1);
this.oz=new a4("Off Y",-100,100,K?"%":"px",0,!1);this.UO.w(u.E.A,this.h4,this);this.oz.w(u.E.A,this.h4,this);
this.e.appendChild(this.UO.e);this.e.appendChild(this.oz.e)}bk.prototype=new fo;bk.prototype.f=function(){this.UO.f();
this.oz.f()};bk.prototype.h4=function(K){this.S(new i3(u.E.A,!1))};bk.prototype.aad=function(K){this.UO.$(K.x);
this.oz.$(K.y)};bk.prototype.a5i=function(){return new iP(this.UO.m(),this.oz.m())};bk.prototype.$=function(K,E){var x=K.Hrzn.v,c=K.Vrtc.v;
if(this.awm){x=x.val;c=c.val}this.UO.$(x);this.oz.$(c);if(E==!0)this.h4()};bk.prototype.m=function(){var K=this.UO.m(),E=this.oz.m();
if(this.awm)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:K}},Vrtc:{t:"UntF",v:{type:"#Prc",val:E}}};
else return{classID:"Pnt",Hrzn:{v:K,t:"doub"},Vrtc:{v:E,t:"doub"}}};function am(){fo.call(this);this.e=U.t("span","fitem strokebutton");
this.Vg=[[null,null,null,50,""],[null,0,null,50,"4 2"],[1,1,null,50,"0 2"]];this._3=JSON.parse(JSON.stringify(dz.Ae.default));
this.tc=U.t("button");this.e.appendChild(this.tc);U.gw(this.e,this.w2.bind(this));var K=U.t("canvas","gsicon");
this.gI=K.getContext("2d");this.tc.appendChild(K);var E=U.t("span");E.textContent=" \u25BC";this.tc.appendChild(E);
this.yY=new fo;this.yY.parent=this;this.yY.e=U.t("div","floatcont form");var x=this.yY.e;x.setAttribute("style","width: 16.7em;");
this.Ma=[new aw([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new fn([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new fn([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new eW("Limit",0,50,null,null,null,!0,2.5),new ay([19,9,2])];
for(var y=0;y<this.Ma.length;y++){var c=this.Ma[y];x.appendChild(c.e);c.w(u.E.A,this.h4,this)}U.R0(x);
this.Ow=[];var J=this.ok.bind(this);this._3.strokeStyleLineWidth.v.val=3;for(var y=0;y<this.Vg.length;
y++){var i=U.t("button","fitem");this.Ow.push(i);x.appendChild(i);i.addEventListener("click",J,!1);var K=U.t("canvas","gsicon"),P=K.getContext("2d");
i.appendChild(K);this.ad1(P,40,20,this.Vg[y])}this._3.strokeStyleLineWidth.v.val=1}am.prototype=new fo;
am.prototype.w2=function(K){if(U.Of(this.yY.e))return;K.stopPropagation();var E=this.tc.getBoundingClientRect(),x=new i3(u.E.L,!0);
x.data={_:u.c.gF,M8:this.yY,x:E.left,y:E.top+E.height+4};this.S(x)};am.prototype.h4=function(K){var E=this.Ma,x=[];
for(var y=0;y<5;y++)x.push(E[y].m());this._3=this.atE(x);this.S(new i3(u.E.A,!1))};am.prototype.ok=function(K){var E=this.Ow.indexOf(K.currentTarget);
this.$(this.atE(this.Vg[E]));this.S(new i3(u.E.A,!1))};am.prototype.atE=function(K){var E=JSON.parse(JSON.stringify(this._3)),x=K[0],c=K[1],J=K[2],i=K[3],P=K[4];
if(x!=null)E.strokeStyleLineAlignment.v.strokeStyleLineAlignment=dz.Ae.Zi[x];if(c!=null)E.strokeStyleLineCapType.v.strokeStyleLineCapType=dz.Ae.cG[c];
if(J!=null)E.strokeStyleLineJoinType.v.strokeStyleLineJoinType=dz.Ae.join[J];E.strokeStyleMiterLimit.v=i;
var _=E.strokeStyleLineDashSet.v=[];P=P.split(" ");while((P.length&1)!=0)P.pop();for(var y=0;y<P.length;
y++)_.push({t:"UntF",v:{type:"#Nne",val:parseInt(P[y])}});return E};am.prototype.f=function(){for(var y=0;
y<this.Ma.length;y++)this.Ma[y].f()};am.prototype.$=function(K){this._3=JSON.parse(JSON.stringify(K));
var E=dz.Ae.Zi.indexOf(K.strokeStyleLineAlignment.v.strokeStyleLineAlignment),x=dz.Ae.cG.indexOf(K.strokeStyleLineCapType.v.strokeStyleLineCapType),c=dz.Ae.join.indexOf(K.strokeStyleLineJoinType.v.strokeStyleLineJoinType),J=K.strokeStyleMiterLimit.v,i=[],P=K.strokeStyleLineDashSet.v;
for(var _=0;_<P.length;_++)i.push(P[_].v.val);var a=this.Ma;a[0].$(E);a[1].$(x);a[2].$(c);a[3].$(J);
a[3].Lk(c==0);a[4].$(i.join(" "));var j=[];for(var y=0;y<5;y++)j.push(a[y].m());this.ad1(this.gI,40,16,j)};
am.prototype.m=function(){return JSON.parse(JSON.stringify(this._3))};am.prototype.ad1=function(K,E,x,c){var J=c[0],i=c[1],P=c[2],_=c[3],a=c[4].split(" ").map(parseFloat);
U.CL(K.canvas,E,x);var j=Math.min(5,this._3.strokeStyleLineWidth.v.val);for(var y=0;y<a.length;y++)a[y]*=j;
K.clearRect(0,0,E,x);K.setLineDash(a);K.lineCap=["butt","round","square"][i];K.lineJoin=["miter","round","bevel"][P];
K.lineWidth=j;K.beginPath();K.moveTo(0,x/2);K.lineTo(E*2,x/2);K.stroke()};function kb(K){jy.call(this,K,!1,"contourbutton",34,16,eu.dF,!0);
this.Lm=new ay([12,86],null,16);this.Lm.w("input",this.fF,this);this.yY.e.appendChild(this.Lm.e);this.cX=null;
this.nq="";this.Cf=null;this.$(aS.JQ())}kb.prototype=new jy;kb.prototype.f=function(){jy.prototype.f.call(this);
this.Lm.f()};kb.prototype.hs=function(K){this.$(this.cX[K.target.m()[0]]);this.S(new i3(u.E.A))};kb.prototype.fF=function(K){this.nq=this.Lm.m().toLowerCase();
this.abO()};kb.aaj=!1;kb.prototype.Ns=function(){if(!this.NX)return;var K=this.RM;if(K==null||!kb.aaj){var E=new i3(u.E.L,!0);
E.data={_:u.c.Pp,ry:{url:"rsrc/basic/fa_basic.csh"}};this.S(E);kb.aaj=!0}else{var x=Math.floor(38*U.V()),c=Math.floor(38*U.V());
this.Cf=[];for(var y=0;y<K.length;y++)this.Cf.push(kb.a4l(K[y],x,c));this.abO();this.NX=!1}};kb.prototype.abO=function(){var K=Math.floor(38*U.V()),E=Math.floor(38*U.V());
this.cX=[];var x=[],c=[],J=this.RM;for(var y=0;y<J.length;y++){if(J[y].xN.toLowerCase().indexOf(this.nq)==-1)continue;
this.cX.push(J[y]);x.push(this.Cf[y]);c.push(J[y].xN)}this.LU.U3(x,c,K,E)};kb.prototype.$=function(K){this.KK=kb.clone(K);
this.vo()};kb.prototype.vo=function(){var K=Math.floor(23*U.V()),E=Math.floor(23*U.V()),x=kb.a4l(this.KK,K,E);
this.tt.setAttribute("src",x);U.P2(this.tt,K,E)};kb.prototype.m=function(){return kb.clone(this.KK)};
kb.clone=function(K){return{xN:K.xN,Sj:K.Sj,i:Z.Wf.Z8(K.i),Xt:K.Xt.clone()}};kb.T=null;kb.Lu=null;kb.a4l=function(K,E,x){var c=Z.Wf.Z8(K.i),J=K.Xt,i=Math.min(E/J.b,x/J.n)*.9,P=new iQ;
P.translate(-.5,-.5);P.scale(.95,.95);P.translate(.5,.5);P.scale(i*J.b,i*J.n);W.r.it(c,P);var _=new Z.Wf;
_.i=c;var a=_.FA();a.rect.x=Math.floor((E-a.rect.b)/2);a.rect.y=Math.floor((x-a.rect.n)/2);var j=W.Q(a.rect.O()*4);
W.Mz(a.channel,j,3);var e=kb;if(e.T==null)e.T=U.t("canvas");var d=e.T,I=d.getContext("2d");if(d.width!=E||d.height!=x||e.Lu==null){d.width=E;
d.height=x;e.Lu=I.createImageData(E,x)}var v=e.Lu;v.data.fill(0);W.UL(j,a.rect,v.data,new cS(0,0,E,x));
I.putImageData(v,0,0);return d.toDataURL()};function cf(K){jy.call(this,K,!1,"ICCButton",16,12,eu.ZQ,!0);
this.LU.ST(1)}cf.prototype=new jy;cf.prototype.wb=function(){var K="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var y=0;y<K.length;y++)K[y]="luts/"+K[y]+".CUBE";return K};cf.prototype.hs=function(K){this.$(this.RM[K.target.m()]);
this.S(new i3(u.E.A))};cf.prototype.Ns=function(){if(!this.NX)return;var K=Math.floor(1*U.V()),E=Math.floor(1*U.V()),x=[],c=[],J=this.RM;
for(var y=0;y<J.length;y++){var i=J[y].Nm.v.split("\\").pop().split("/").pop();c.push(i);x.push(cf.yi(J[y],K,E))}this.LU.U3(x,c,K,E);
this.NX=!1};cf.prototype.$=function(K){this.KK=JSON.parse(JSON.stringify(K));this.vo()};cf.yi=function(K,E,x){var c=U.t("canvas"),P="ICC / 3DL / look / cube";
c.width=E;c.height=x;var J=c.getContext("2d"),i=Math.floor(14*U.V());J.font=i+"px sans-serif";if(K.Nm)P=K.Nm.v.split("\\").pop().split("/").pop();
J.fillText(P,10,i);return c.toDataURL()};cf.prototype.vo=function(){var K=Math.floor(120*U.V()),E=Math.floor(20*U.V());
this.tt.setAttribute("src",cf.yi(this.KK,K,E));U.P2(this.tt,K,E)};cf.prototype.m=function(){return JSON.parse(JSON.stringify(this.KK))};
function c0(){fo.call(this);this.u7=null;this.e=U.t("span","fitem");this.W7=new f7([14,9]);this.kQ=new eW(null,0,150,"px",1,!0,null,null,[19,2,5]);
this.Pt=new am;this.NY=[this.W7,this.kQ,this.Pt];for(var y=0;y<this.NY.length;y++){var K=this.NY[y];
this.e.appendChild(K.e);K.parent=this;K.w(u.E.A,this.h4,this)}}c0.prototype=new fo;c0.prototype.f=function(){for(var y=0;
y<this.NY.length;y++)this.NY[y].f()};c0.prototype.Q3=function(K,E){this.W7.Q3(K,E)};c0.prototype.h4=function(K){var E=this.u7,x=this.W7.m(),c=x.ez;
E.strokeEnabled.v=c!=0;if(c!=0){E.strokeStyleContent.v=x.QT;x.QT.classID=dz.Ae.Iy[c-1]}E.strokeStyleLineWidth.v.val=this.kQ.m();
if(K.target==this.Pt)E=this.Pt.m();this.u7=E;this.S(new i3(u.E.A,!1))};c0.prototype.$=function(K,E,x){this.u7=JSON.parse(JSON.stringify(E));
var c=E.strokeEnabled.v,J=E.strokeStyleContent.v,i=c?{ez:1+dz.Ae.Iy.indexOf(J.classID),QT:J}:{ez:0};
this.W7.$(K,i,x);this.kQ.$(E.strokeStyleLineWidth.v.val);this.Pt.$(E)};c0.prototype.m=function(){return JSON.parse(JSON.stringify(this.u7))};
function aQ(K){var E=[[18,0],[18,1],[18,2],[18,3]],x=fn.b9(["set/front","set/union","set/difference","set/intersection"]);
fn.call(this,K?[12,36]:null,x,E)}aQ.prototype=new fn;function cB(){fo.call(this);this.e=U.t("button","fitem bbtn");
U.gw(this.e,this.w2.bind(this));this.yY=new fo;this.yY.e=U.t("div","floatcont form");this.yY.e.setAttribute("style","max-width: 200px;");
this.yY.parent=this;var K=bJ;this.QA=[new jw("Start"),new jw("End"),new K([12,41],0,100,"px",null,!0,null,!0),new K([12,80,0],0,100,"px",null,!0,null,!0),new K("Concavity",-50,50,"%",null,null,null,!0)];
for(var y=0;y<this.QA.length;y++){var E=this.QA[y];E.parent=this;E.w(u.E.A,this.m1,this);this.yY.e.appendChild(E.e)}this.a7E=U.t("div");
this.yY.e.appendChild(this.a7E)}cB.prototype=new fo;cB.prototype.$=function(K){for(var y=0;y<5;y++)this.QA[y].$(K[y]);
this.I5()};cB.prototype.m=function(K){var E=[];for(var y=0;y<5;y++)E[y]=this.QA[y].m();return E};cB.prototype.f=function(){this.e.textContent=hg.get([12,93,4]);
for(var y=0;y<this.QA.length;y++)this.QA[y].f()};cB.prototype.m1=function(K){this.S(new i3(u.E.A,!1));
this.I5()};cB.prototype.I5=function(K){var E=this.m(),x=200,c=60;E[2]/=U.V();E[3]/=U.V();var J=W.r.Ic.bp(0,c/2,x,c/2,5,E),i=W.r.nQ(J);
this.a7E.innerHTML="<svg width=\""+x+"\" height=\""+c+"\" class=\"gsicon\">\t\t\t<path d=\""+i.v6+"\" />\t\t\t</svg>"};
cB.prototype.w2=function(K){if(U.Of(this.yY.e))return;K.stopPropagation();var E=this.e.getBoundingClientRect(),x=new i3(u.E.L,!0);
x.data={_:u.c.gF,M8:this.yY,x:E.left,y:E.top+E.height,Mc:!0};this.S(x)};function jF(){fo.call(this);
this.e=U.t("div");this.$C=[];this.amB=[];var K=this.ic=U.t("div"),E=U.t("h2");E.textContent="Create Teams";
K.appendChild(E);E.style.margin="26px 0 16px 0";var x=new cn("More about Teams",!1,null,!0);E.appendChild(x.e);
x.e.style.float="right";x.w("click",this.a2X,this);this.AN=U.t("div");K.appendChild(this.AN);this.av4=new ay("Team Name",null,10);
K.appendChild(this.av4.e);var c=this.akz=new cn("Create Team",null,null,!0);K.appendChild(c.e);c.w("click",this.avC,this);
var E=U.t("h2");E.textContent="Join Teams";K.appendChild(E);E.style.margin="26px 0 16px 0";this.T4=U.t("div");
K.appendChild(this.T4);this.apG=new ay("Team ID",null,10);K.appendChild(this.apG.e);var c=new cn("Join Team",null,null,!0);
K.appendChild(c.e);c.w("click",this.avC,this);this.aa4;this.aj9=this.jG.bind(this);this.arS=this.ad$.bind(this);
this.gC=!1;this.Dl();this.QJ=null;this.abV=""}jF.prototype=new fo;jF.prototype.a2X=function(K){var E=new i3(u.E.L,!0);
E.data={_:u.c.$X,link:"https://www.photopea.com/api/accounts#teams"};this.S(E)};jF.prototype.Dl=function(){clearTimeout(this.abj);
this.abj=setTimeout(this.arS,this.QJ?10:3e3)};jF.prototype.ad$=function(){var K=dq.A9();if(document.hidden||!U.Of(this.e)||K==null){this.Dl();
return}var E=dq.b5();if(this.QJ==null&&E==null)return;dq.S9(this.QJ?this.QJ:E,this.aj9);this.gC=!0;this.QJ=null};
jF.prototype.afu=function(K){K.acc.update=!0;this.e.style.pointerEvents="none";this.e.style.opacity="0.5";
if(this.gC)this.QJ=K;else{clearTimeout(this.abj);dq.S9(K,this.aj9)}};jF.prototype.Q7=function(K){var E=typeof K=="string"?this.aa4:this.$C.indexOf(K.target),x=this.amB[E],c=x[0],J=dq.b5();
if(J==null)J={};var P=J.acc,_=P.tjoin,a=P.tstart;if(c=="leave"){_.splice(_.indexOf(x[1]),1)}if(c=="add"||c=="remove"||c=="delTeam"||c=="showRename"||c=="rename"){var j=-1,e=0;
for(var y=0;y<a.length;y++){e+=a[y][1].length;if(a[y][2]==x[1])j=y}var d=a[j];if(c=="add"){var I=dq.bI();
if(I&&I[0]==0&&I[1][2]<=e){alert("You can have at most "+I[1][2]+" members in your Premium.");return}d[1].push(x[2])}if(c=="remove")d[1].splice(d[1].indexOf(x[2]),1);
if(c=="delTeam"){if(d[1].length!=0){alert("Remove members first.");return}a.splice(j,1)}if(c=="showRename"){var v=new i3(u.E.L,!0);
v.data={_:u.c.v9,xc:"namewindow",_5:d[0],sO:this.Q7.bind(this)};this.S(v);this.aa4=E;x[0]="rename";return}if(c=="rename")d[0]=K}this.afu(J)};
jF.prototype.avC=function(K){var E=this.akz==K.target,x=(E?this.av4:this.apG).m().trim();if(x==""){alert("The Team "+(E?"Name":"ID")+" is empty.");
return}if(!E){x=parseInt(x);if(isNaN(x)){alert("The ID must be a number");return}}var c=dq.b5();if(c==null)c={};
var J=c.acc;if(J==null)J=c.acc={};var i=J.tstart,P=J.tjoin;if(E){if(i==null)i=J.tstart=[];if(i.length>5){alert("You can have at most 5 teams");
return}i.push([x,[]])}else{if(i)for(var y=0;y<i.length;y++)if(i[y][2]==x){alert("You are the owner of this team");
return}if(P==null)P=J.tjoin=[];if(P.indexOf(x)!=-1){alert("You already asked to join this team.");return}J.tjoin.push(x)}J.update=!0;
this.afu(c)};jF.prototype.jG=function(){this.gC=!1;var K=dq.A9(),E=K!=null,x=this.ic.parentNode!=null;
if(E!=x){U.w6(this.e);if(E)this.e.appendChild(this.ic);else this.e.textContent="Log In to access Team Settings."}if(!E)return;
var c=dq.b5();if(c==null)c={};var J=c.acc;if(J==null)J={};var i=JSON.stringify(J)+"===="+JSON.stringify(K);
if(i!=this.abV){this.abV=i;var P=this.AN,_=this.T4;U.w6(P);U.w6(_);var a=this.$C=[],j=this.amB=[],e=this.Q7.bind(this);
function d(q,O){q.addEventListener("click",e);a.push(q);j.push(O)}function I(X,q){var S=U.t("div"),O="rgba(255,255,255,0.15)";
S.appendChild(n("ID: "+X[2],44,O));S.appendChild(n(X[0],160,null,!0));if(q){S.appendChild(n(X[1].length+" members",80,null,!0))}else{S.appendChild(n(X[1]==-1?"... not accepted yet":"Accepted",160));
if(Date.now()<X[1]*1e3)S.appendChild(n("Premium",80,"rgba(0,140,0,1)"))}var w=n("",120);S.appendChild(w);
w.setAttribute("style","float:right;text-align:right");if(q){var V=new cn("Rename",null,null,!0);d(V,["showRename",X[2]]);
w.appendChild(V.e)}var V=new cn(q?"Delete":"Leave",null,null,!0);d(V,[q?"delTeam":"leave",X[2]]);w.appendChild(V.e);
return S}function v(q,O,H){var S=U.t("div");S.style.paddingLeft="36px";S.appendChild(n(O?"\u2713":"...",8,O?"#229922":"#aa7700"));
S.appendChild(n(q[1],200));S.appendChild(n(q[2],240));var w=n("",120);S.appendChild(w);w.setAttribute("style","float:right;text-align:right");
var V=new cn(O?"Remove":"Add",null,null,!0);d(V,[O?"remove":"add",H,q[0]]);w.appendChild(V.e);return S}function n(q,O,w,V){var t=U.t("span");
t.textContent=q;t.setAttribute("style","display:inline-block;  padding:0 10px;  border-radius:4px;  overflow:hidden;  width:"+O+"px;  "+(w!=null?"background-color:"+w+";":"")+(V?"font-weight:bold;":""));
return t}var C=J.tstart,T=J.tjoin,o=K.wantToJoin,s=K.inTeams;if(C)for(var Q=0;Q<C.length;Q++){var X=C[Q],B=o["t"+X[2]];
if(B==null)B=[];var M={};for(var y=0;y<B.length;y++)M["u"+B[y][0]]=B[y];var S=I(X,!0);P.appendChild(S);
S.style.marginTop="10px";for(var y=0;y<X[1].length;y++){var f=X[1][y],F=M["u"+f];if(F==null)F=[f,"========","... user has left your team"];
delete M["u"+f];var G=v(F,!0,X[2]);P.appendChild(G)}for(var D in M){var F=M[D],G=v(F,!1,X[2]);P.appendChild(G)}}if(T){var b={};
for(var y=0;y<s.length;y++)b["t"+s[y][2]]=s[y];for(var Q=0;Q<T.length;Q++){var H=T[Q],X=b["t"+H],S=I(X?X:["==========",-1,H],!1);
_.appendChild(S)}}this.S(new i3(u.E.A))}if(this.QJ==null){this.e.style.pointerEvents="auto";this.e.style.opacity="1"}this.Dl()};
function aH(){fo.call(this);this.KN=[16,!0,!0];this.e=U.t("span","");this.YV=[new eW([12,24],0,255),new jw([12,25,1]),new jw([12,25,0])];
for(var y=0;y<3;y++){var K=this.YV[y];K.parent=this;K.$(this.KN[y]);this.e.appendChild(K.e);K.w(u.E.A,this.h4,this)}}aH.prototype=new fo;
aH.prototype.h4=function(){for(var y=0;y<3;y++)this.KN[y]=this.YV[y].m();this.S(new i3(u.E.A,!1))};aH.prototype.$=function(K){this.KN=K.slice(0);
for(var y=0;y<3;y++)this.YV[y].$(K[y])};aH.prototype.m=function(){return this.KN.slice(0)};aH.prototype.f=function(){for(var y=0;
y<3;y++)this.YV[y].f()};function kx(K,E){fo.call(this);if(E==null)E=!1;this.Cf=[];this.d9=Math.floor(120*U.V());
this.a19=Math.floor(23*U.V());this.Sm=0;this.IN=[];this.n7=[];for(var x in W.HA.type){if(x=="warpCustom"&&!E)continue;
this.IN.push(x);this.n7.push(W.HA.type[x])}this.e=U.t("span","fitem warpbutton");this.yY=new fo;this.yY.e=U.t("div","floatcont");
if(K){this.PW=K;this.Q8=U.t("label","flabel");this.e.appendChild(this.Q8)}this._=U.t("button");this.e.appendChild(this._);
U.gw(this._,this.w2.bind(this));this.qx=new hA(!0);this.yY.e.appendChild(this.qx.e);this.qx.w(u.E.A,this.aex,this);
this.yY.e.setAttribute("style","width:"+Math.floor(8+this.d9/U.V())+"px;");this.f()}kx.prototype=new fo;
kx.prototype.Q1=function(K){this.Q8.textContent=K};kx.prototype.f=function(){if(this.PW)this.Q8.innerHTML=hg.get(this.PW)+":";
this.vo()};kx.a8_={};kx.a4_=function(K,E,x){var c=hg.get(W.HA.type[K]),J=c+"-"+K+"-"+E+"-"+x,i=kx.a8_[J];
if(i)return i;var P=kx.gI;if(_==null){var _=U.t("canvas");P=kx.gI=_.getContext("2d")}var _=P.canvas;
if(_.width!=E||_.height!=x){_.width=E;_.height=x}P.font=Math.floor(13*U.V())+"px sans-serif";P.lineWidth=1;
P.strokeStyle="#000000";var a=Math.floor(16*U.V()),j=new cS(0,0,a,a);P.clearRect(0,0,_.width,_.height);
var e=W.HA.HA(j,K,!0,.3,0,0),d=W.p.VD(j);d.W.push("M","L","M","L");d.C.push(0,a/2,a,a/2);d.C.push(a/2,0,a/2,a);
d=W.p._n(d);d=W.p.nL(d,a/5);W.HN.u(e,d.C,j);W.p.u(d.C,new iQ(1,0,0,1,Math.floor(8*U.V())+.5,Math.floor(3*U.V())+.5),d.C);
P.beginPath();Typr.U.pathToContext({cmds:d.W,crds:d.C},P);P.stroke();P.fillText(c,Math.floor(40*U.V()),Math.floor(16*U.V()));
i=kx.a8_[J]=_.toDataURL();return i};kx.prototype.w2=function(K){if(U.Of(this.yY.e))return;K.stopPropagation();
var E=this.d9,x=this.a19;for(var y=0;y<this.IN.length;y++)this.Cf[y]=kx.a4_(this.IN[y],E,x);this.qx.U3(this.Cf,null,E,x);
var c=this._.getBoundingClientRect(),J=new i3(u.E.L,!0);J.data={_:u.c.gF,M8:this.yY,x:c.left,y:c.top+c.height+4};
this.S(J)};kx.prototype.aex=function(K){var E=new i3(u.E.L,!0);E.data={_:u.c.rd,M8:this.yY};this.S(E);
this.Sm=K.target.m()[0];this.vo();this.S(new i3(u.E.A))};kx.prototype.vo=function(){var K=this.d9,E=this.a19;
this.qx.$([this.Sm]);this._.innerHTML="<img src=\""+kx.a4_(this.IN[this.Sm],K,E)+"\" class=\"gsicon\" />";
U.P2(this._.firstChild,K,E)};kx.prototype.m=function(){return this.IN[this.Sm]};kx.prototype.$=function(K){this.Sm=this.IN.indexOf(K);
this.vo()};function ha(K,E,x){fo.call(this);if(K==null)K=!1;if(E==null)E=!1;if(x==null)x=!1;this.an8=E;
this.HA=null;this.IB=new kx([12,22],x);this.IB.parent=this;this.IB.w(u.E.A,this.gY,this);this.K1=new aw([22,0],[[22,4,0],[22,4,1]]);
this.K1.w(u.E.A,this.gY,this);var c=K?eW:bJ;this.dW=new c([22,1],-100,100,"%");this.Yw=new c("Horizontal Distortion:",-100,100,"%");
this.cw=new c("Vertical Distortion:",-100,100,"%");this.dW.parent=this.Yw.parent=this.cw.parent=this;
this.dW.w(u.E.A,this.gY,this);this.Yw.w(u.E.A,this.gY,this);this.cw.w(u.E.A,this.gY,this)}ha.prototype=new fo;
ha.prototype.f=function(){this.IB.f();this.K1.f();this.dW.f();var K=this.an8?1:100;this.Yw.Q1(hg.get([22,2]).substring(0,K)+":");
this.cw.Q1(hg.get([22,3]).substring(0,K)+":")};ha.prototype.gY=function(){var K=this.HA,E=this.IB.m(),x=K.warpStyle.v.warpStyle;
if(E=="warpCustom")W.HA.xh(W.HA.q5(K),K);else delete K.customEnvelopeWarp;K.warpStyle.v.warpStyle=this.IB.m();
K.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.K1.m()];K.warpValue.v=this.dW.m();K.warpPerspective.v=this.Yw.m();
K.warpPerspectiveOther.v=this.cw.m();if(E=="warpNone"||E=="warpCustom"){K.warpValue.v=0;K.warpPerspective.v=0;
K.warpPerspectiveOther.v=0}else if(x=="warpNone"||x=="warpCustom")K.warpValue.v=50;this.S(new i3(u.E.A,!1));
this.$(K)};ha.prototype.m=function(K){return JSON.parse(JSON.stringify(this.HA))};ha.prototype.$=function(K){this.HA=JSON.parse(JSON.stringify(K));
this.IB.$(K.warpStyle.v.warpStyle);this.K1.$(K.warpRotate.v.Ornt=="Hrzn"?0:1);this.dW.$(K.warpValue.v);
this.Yw.$(K.warpPerspective.v);this.cw.$(K.warpPerspectiveOther.v);var E=K.warpStyle.v.warpStyle,x=E=="warpNone"||E=="warpCustom",c=[this.K1,this.dW,this.Yw,this.cw];
for(var y=0;y<c.length;y++)if(x)c[y].s1();else c[y].gt()};function b3(K){fo.call(this);this.ar_={};this.e=U.t("div");
this.l6=K;this.pI=null;this.xT=new iP(0,0);this.Jh="position:relative;overflow:hidden;background-color:var(--bg-canvas);";
this.vQ=null;this.eY=new U.z7(this.e);this.Zb("grab");this.T=U.t("canvas","canv");this.e.appendChild(this.T);
this.gI=this.T.getContext("2d");this.awt=null;this.om=null;this.$K=null;this.TF=0;this.k8=0;this.S0=0;
this.amO=this.a6u.bind(this);this.aqR=null;this.D=new av({b:1,n:1});this.ce=null;this.o2=null;this.Li=[];
this.a61=0;this.s2=0;this.a9G=this.EN.bind(this);this.acQ=this.fw.bind(this);this.asC=this.eL.bind(this);
this.aup=this.V7.bind(this);this.ar8=0;this.Qi=null;this.axy(this.T);this.o$(this)}b3.prototype=new fo;
b3.prototype.a46=function(K){this.ar_=K;this.tO()};b3.apw=function(K){var E=new j6(!0);if(K>=0)E._S("Space");
if(K>=1){E._S("ControlLeft");if(K==2)E._S("AltLeft")}return E};b3.prototype._G=function(K){var E=this.vQ,x=null;
if(K.l(j6.rm)){x="grab";if(K.l(j6.Se)){x="zoom-in";if(K.l(j6.iE))x="zoom-out"}}this.pI=x;if(x)E=x;this.eY.jG(E,this.Jh);
if(K.l(j6.Se)){var c=0;if(K.l(j6.Q5))c=1;if(K.l(j6.jb))c=-1;if(c!=0){this.wS(new iP(this.T.width/2,this.T.height/2),c==1)}}};
b3.prototype.Zb=function(K){this.vQ=K;if(this.pI)return;this.eY.jG(K,this.Jh)};b3.prototype.axy=function(K){U.gw(K,this.a9G);
U.hr(K);K.addEventListener("wheel",this.aup,!1)};b3.prototype.o$=function(K){K.w("viewchange",this.avK,this)};
b3.prototype.avK=function(K){var E=this.D.N,x=K.currentTarget.oJ();this.D.N=x.N;this.D.R=x.R.clone();
if(E!=x.N)this.rR();this.tO()};b3.prototype.oJ=function(){return{N:this.D.N,R:this.D.R}};b3.prototype.$=function(K,E){var x=K[0].yA;
if(this.om!=null&&this.om[0].yA.ac(x)){}else{this.D.c1={b:x.b,n:x.n};this.D.R=new iP(0,0);this.D.N=1}this.om=K;
this.rR();this.NL();this.TF=0;this.k8=0;this.S0=E==null?0:E;this.a6u()};b3.prototype.V7=function(K){K.preventDefault();
if(K.deltaY==0||Date.now()-this.ar8<100)return;var E=U.bf(K);E.x=U.V()*E.x;E.y=U.V()*E.y;this.ar8=Date.now();
this.wS(E,K.deltaY<0)};b3.prototype.wS=function(K,E){$.gM.Jf(this.D,K,E);this.azS()};b3.prototype.G1=function(){var K=this.D,E=K.c1;
this.D.N=$.gM.aih(E.b,E.n,K.E5.b,K.E5.n);this.azS()};b3.prototype.azS=function(){this.rR();this.S(new i3("viewchange"));
this.S(new i3("zoom"))};b3.prototype.rR=function(){this.$K=[];var K=this.D.N;if(this.om==null)return;
for(var y=0;y<this.om.length;y++){var E=this.om[y],x=new Uint8Array(E.data),c;if(K>=1)c={Ly:x,rect:E.yA};
else c=W.aho(x,E.yA,K);this.$K.push(c)}};b3.prototype.NL=function(){clearTimeout(this.aqR)};b3.prototype.tO=function(){if(this.om==null||!U.Of(this.T))return;
var K=this.awt,E=this.T.width,x=this.T.height,n,C;if(K==null||K.width!=E||K.height!=x){K=this.awt=this.gI.createImageData(E,x);
console.log("creating image data")}var c=this.om[this.TF],J=this.$K[this.TF],i=this.D,P=i.c1,_=i.E5,a=_.b,j=_.n,e=P.b*i.N,d=P.n*i.N,I=Math.round((a-e)/2+i.R.x),v=Math.round((j-d)/2+i.R.y);
if(i.N<=1){C=J.rect.clone();C.x=I;C.y=v;e=C.b;d=C.n;n=J.Ly}else{var T=1/i.N,o=new cS(Math.floor((_.x-I)*T),Math.floor((_.y-v)*T),Math.ceil(_.b*T)+1,Math.ceil(_.n*T)+1),s=new cS(0,0,o.b*i.N,o.n*i.N);
s.x=o.x*i.N+I;s.y=o.y*i.N+v;if(i.QF==null||i.QF.length!=o.O()*4){i.QF=W.Q(o.O()*4)}if(i.LP==null||i.LP.length!=s.O()*4){i.LP=W.Q(s.O()*4)}W._m(i.QF,0);
W.UL(J.Ly,J.rect,i.QF,o);W.scale.Mn(i.QF,o.b,o.n,i.LP,s.b,s.n,i.N);n=i.LP;C=s}var Q=new Uint8Array(K.data.buffer);
W.Ii(Q,a,j,8,-I,-v);W.h.Nh("norm",n,C,Q,_,_,1);var X=this.gI;X.setTransform(1,0,0,1,0,0);X.putImageData(K,0,0);
X.clearRect(I-1e3,v,1e3,d);X.clearRect(I+e,v,1e3,d);X.clearRect(I-1e3,v-1e3,e+2e3,1e3);X.clearRect(I-1e3,v+d,e+2e3,1e3);
var B=b3.a6$(i.N,"#ffffff");X.putImageData(B,0,i.E5.n-B.height);var M=this.ar_,i=this.D;if(M){var S=aV.tQ([.1,.5,1,1]),f=aV.tQ([1,0,0,1]),F=i.uL(!1);
F.Pa();X.save();X.setTransform(F.Cc,F.k,F.o0,F.Ga,F.qW,F.Ju);X.strokeStyle=f;if(M.arA){aV.kY(M.arA,null,X);
X.lineWidth=1/i.N;X.stroke()}X.strokeStyle=S;X.fillStyle=aV.tQ([1,1,1,1]);if(M.Xv){aV.kY(M.Xv,null,X);
X.lineWidth=1/i.N;X.stroke()}if(M.Lt){aV.ac$(M.Lt,X,i,.5);X.lineWidth=2/i.N;X.stroke();X.fill()}X.restore()}X.getImageData(0,0,1,1)};
b3.ab8="";b3.aw6=null;b3.a6$=function(K,E,x,c){if(x==null){x=0;c=0}var J=x+" \xD7 "+c,i="z"+K+","+E+","+x+","+c;
if(i==b3.ab8)return b3.aw6;var P=Math.round(50*U.V()),_=Math.round(18*U.V()),a=x==0?0:Math.round((J.length+2)*_*.35),j=U.t("canvas"),e=j.getContext("2d");
j.width=P+a;j.height=_;e.fillStyle="rgba(1,1,1,1)";e.fillRect(0,0,P,_);if(x!=0)e.fillRect(P+2,0,a,_);
e.font=Math.round(11*U.V())+"px monospace";e.fillStyle=E;var d=K*100;if(d<100)d=d.toFixed(2);else d=Math.round(d);
d=d+"%";var I=e.measureText(d).width;e.fillText(d,(P-I)/2,Math.round(_*.7));if(x!=0){var v=e.measureText(J).width;
e.fillText(J,P+(a-v)/2+1,Math.round(_*.7))}var n=e.getImageData(0,0,P+a,_);b3.ab8=i;b3.aw6=n;return n};
b3.prototype.a6u=function(){var K=this.om,E=K.length,x=this.TF,c=this.om[x],J=(x+1)%E;this.tO();if(E!=1&&K[J].yA.ac(c.yA)){var i=c.tE?parseInt(c.tE.split(",").pop()):30;
if(i==0)i=16;if(J==0)this.k8++;if(this.S0==0||this.k8<this.S0)this.aqR=setTimeout(this.amO,i)}this.TF=J};
b3.prototype.nt=function(K,E){if(K<=0||E<=0)return;var x=Math.floor(K*U.V()),c=Math.floor(E*U.V());this.D.E5=new cS(0,0,x,c);
this.T.width=x;this.T.height=c;this.T.setAttribute("style","width:"+x/U.V()+"px; height:"+c/U.V()+"px; display:block;");
this.tO()};b3.prototype.p4=function(K){var E=-1,x=this.Li;for(var y=0;y<x.length;y++)if(x[y].pointerId==K.pointerId)E=y;
return E};b3.prototype.EN=function(K){var E=this.p4(K),x=this.Li;if(E!=-1)x[E]=K;else x.push(K);if(x.length==1){this.Qi=K.target;
U.nx(window,this.acQ);U.xz(window,this.asC);this.ce=U.bf(K,this.T);this.ce.x*=U.V();this.ce.y*=U.V();
this.xT=this.ce;this.o2=this.D.R.clone();if(this.l6&&this.Qi==this.T&&!this.pI)this.S(new i3("mousedown"))}else this.a61=this.s2=iP.B4(U.bf(x[0],this.T),U.bf(x[1],this.T))};
b3.prototype.fw=function(K){var E=this.p4(K),x=this.Li;if(E!=-1)x[E]=K;var c=this.D,J=this.pI,P=this.om[this.TF].yA.clone();
P.b*=c.N;P.n*=c.N;var _=U.bf(K,this.T);_.x*=U.V();_.y*=U.V();this.xT=_;if(this.l6&&this.Qi==this.T&&!J)this.S(new i3("mousemove"));
else if(J=="grab"||J==null){if(x.length>1){var a=U.bf(x[0],this.T),j=U.bf(x[1],this.T),e=new iP(U.V()*(a.x+j.x)/2,U.V()*(a.y+j.y)/2),d=iP.B4(a,j),I=null;
if(d>this.s2+50){this.s2+=50;I=!0}if(d<this.s2-50){this.s2-=50;I=!1}if(I!=null)this.wS(e,I);return}else{var v=_.x-this.ce.x,n=_.y-this.ce.y;
c.R.x=this.o2.x+Math.round(v);c.R.y=this.o2.y+Math.round(n)}this.S(new i3("viewchange"))}};b3.prototype.eL=function(K){var E=this.p4(K),x=this.Li;
x.splice(E,1);if(x.length==0){U.PL(window,this.acQ);U.KR(window,this.asC);var c=this.pI;if(K.detail>1){this.D.N=1;
this.D.R.tn(0,0);this.tO()}if(this.l6&&this.Qi==this.T&&!this.pI)this.S(new i3("mouseup"));else{if(c=="zoom-in"||c=="zoom-out")this.wS(this.xT,c=="zoom-in")}}else{var J=this.ce=U.bf(x[0],this.T);
J.x*=U.V();J.y*=U.V()}};b3.prototype.kA=function(K){var E=this.xT;if(K){E=U.bf(K,this.T);E.x*=U.V();
E.y*=U.V()}return this.D.gg(E.x,E.y)};function bh(){fo.call(this);this.e3=null;this.Vi=null;this.QV=null;
this.KV=null;this.a6o="";this.yJ=[];this.rE=0;this.Ht=[];this.UT=0;this.ll=null;var K=this.e=U.t("div",""),E=this.adN=U.t("div","form");
E.setAttribute("style","line-height:0; margin-bottom:0.5em;");K.appendChild(E);var x=this.PW=U.t("span");
E.appendChild(x);x.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");var c=this.aeo=new jw([25,2,0]);
c.$(!0);E.appendChild(c.e);c.w(u.E.A,this.SI,this);var J=this.Mg=new jw([25,2,1]);J.$(!0);E.appendChild(J.e);
J.w(u.E.A,this.SI,this);var i=new jp(" ");E.appendChild(i.e);var P=this.me=new ay([25,1,1]);E.appendChild(P.e);
P.w(u.E.A,this.SI,this);this.PN=new ck(14);this.PN.apA(3);E.appendChild(this.PN.e);this.PN.parent=this;
this.PN.w(u.E.A,this.a14,this);var _=this.agk=new cn([25,1,2],null,null,!0);E.appendChild(_.e);_.w("click",this.e5,this);
var a=new cn("?",null,null,!0);E.appendChild(a.e);a.addEventListener("click",function(){alert("All our images come from Pixabay.com and are free to use for commercial purposes.")});
this.alS=this.akD.bind(this);this.gV=U.t("div","svggallery scrollable");K.appendChild(this.gV);this.gV.addEventListener("scroll",this.ad6.bind(this))}bh.prototype=new fo;
bh.prototype.Q3=function(K){this.ad4=K};bh.prototype.f=function(){this.PW.textContent=hg.get([25,0]);
this.PN.f();this.aeo.f();this.Mg.f();this.me.f();this.agk.f()};bh.prototype.nt=function(K,E){this.e3=new iP(K,E);
this.adN.setAttribute("style","width:"+K+"px");var x=this.adN.getBoundingClientRect();E-=x.height;this.gV.setAttribute("style","width:"+K+"px; height:"+E+"px");
if(U.Of(this.e))this.SI()};bh.prototype.$=function(K){this.Vi=K;this.SI()};bh.prototype.ad6=function(K){var E=this.gV;
if(E.scrollTop+E.clientHeight+10>=E.scrollHeight){this.SI(!0)}};bh.prototype.a14=function(K){this.QV=null;
this.SI()};bh.prototype.akD=function(K){if(Date.now()-this.UT<2e3)return;this.UT=Date.now();this.rE=this.Ht.indexOf(K.currentTarget);
var E=this.Y$(this.Vi.x,this.Vi.y);if(E[1]){var x=E[1].largeImageURL,c=new XMLHttpRequest;c.responseType="arraybuffer";
c.open("GET",x,!0);c.onload=this.air.bind(this);c.send();return}this.au2(E)};bh.prototype.air=function(K){var E=K.target.response,x=gr.lX(E),c=gr.Zf(x),J=c.TJ(E),i=this.Y$(this.Vi.x,this.Vi.y,[E,J[0].yA.b,J[0].yA.n]);
this.au2(i)};bh.prototype.au2=function(K){var E=K[0],x=gr.lX(E),c=gr.Zf(x),J=new gD("template.psd");
c.TJ(E,J);var i=new i3("tempready",!0);i.data={c1:J};this.S(i)};bh.prototype.e5=function(K){var E=K.target;
this.yJ=[];this.QV=null;this.SI()};bh.prototype.aci=function(K){var E=JSON.parse(K.target.response),x=this.KV=E.hits;
for(var y=0;y<x.length;y++)if(x[y].user_id==6314823)x.splice(y,1);this.SI()};bh.prototype.SI=function(K){if(this.Vi==null||this.e3==null||this.ad4==null)return;
if(this.e3.x<=0)return;var E=this.Vi.x,x=this.Vi.y;if(Math.min(E,x)<50)return;if(K!=!0){this.Ht=[];U.w6(this.gV);
this.gV.scrollTop=0}if(this.Ht.length>300)return;var c=Math.min(1,300/Math.max(E,x)),J=this.e3.clone();
J.x-=20;var i=Math.max(1,Math.floor(J.x/(E*c))),P=Math.max(1,Math.ceil(J.y/(x*c)));c=J.x/i/E;var _=i*P;
if(this.QV==null){var a=this.ad4.ir.fa(),j=[];for(var e in a){var d=a[e],I=d[3];if(!this.PN.$O(d))continue;
if(d[5]==null||d[5].slice(0,2)=="gf")continue;j.push(d)}if(j.length==0)j.push(a.DejaVuSans);var v=j.length;
for(var y=0;y<v*10;y++){var n=Math.floor(Math.random()*v),C=Math.floor(Math.random()*v),T=j[n];j[n]=j[C];
j[C]=T}j=j.slice(0,10);this.QV=j}var o=this.Mg.m(),s=this.me.m().trim();this.me.Lk(o);if(o&&(this.KV==null||s!=this.a6o)){var Q=new XMLHttpRequest,X="https://pixabay.com/api/?image_type=photo"+(s==""?"":"&q="+encodeURIComponent(s))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88&safesearch=true";
if(s=="")X="plugins/gallery.json";Q.open("GET",X,!0);Q.onload=this.aci.bind(this);Q.onerror=function(G){console.log(G.target.response)};
Q.send();this.a6o=s;return}c*=(E*c-5)/(E*c);var B=this.Ht.length;for(var y=0;y<_;y++){var M=this.rE=B+y;
if(this.yJ[M]==null)this.yJ[M]=Math.floor(Math.random()*4294967295);var S=this.Y$(Math.round(E*c),Math.round(x*c)),f=S[0];
f=R.__(new Uint8Array(f));var F=U.t("span");F.innerHTML=f;this.Ht.push(F);this.gV.appendChild(F);F.addEventListener("click",this.alS,!1)}};
bh.prototype.Y$=function(K,E,x){var c=this.Mg.m(),J=this.aeo.m(),i=c&&this.KV.length!=0?this.KV:null;
if(J&&!c)i=null;if(J&&c&&(this.rE&1)==0)i=null;return gi.Ic(K,E,this.yJ[this.rE],this.QV,x?x:i)};function co(){fo.call(this);
this.e=U.t("div");this.ic=null;this.ar9=null;this.Vq=-1;this.AF={JPG:[{lF:new bJ([12,52,0],0,100,"%",null,null,!0),Fz:70},{lF:new jw("attach metadata"),Fz:!1}],TIFF:[{lF:new jw("attach metadata"),Fz:!1}],WEBP:[{lF:new bJ([12,52,0],0,100,"%",null,null,!0),Fz:70}],GIF:[{lF:new bJ([12,52,0],0,100,"%",null,null,!0),Fz:100},{lF:new jw([12,23,3]),Fz:!1}],PNG:[{lF:new bJ([12,52,0],0,100,"%",null,null,!0),Fz:100},{lF:new jw("don't use palettes"),Fz:!1}],PDF:[{lF:new ay([12,52,1]),Fz:""},{lF:new bJ([12,52,0],0,100,"%",null,null,!0),Fz:100},{lF:new jw("reverse pages"),Fz:!1},{lF:new jw("rasterize all"),Fz:!1},{lF:new jw("vectorize text"),Fz:!1},{lF:new bJ("Add Margin",0,5,"in",2),Fz:0}],EMF:[{lF:new ay([12,52,1]),Fz:""},{lF:new bJ([12,52,0],0,100,"%",null,null,!0),Fz:100},{lF:new jw("reverse pages"),Fz:!1},{lF:new jw("rasterize all"),Fz:!1},{lF:new jw("vectorize text"),Fz:!1},{lF:new bJ("Add Margin",0,5,"in",2),Fz:0}],SVG:[{lF:new jw("add raster graphics"),Fz:!0},{lF:new jw("add hidden layers"),Fz:!1},{lF:new jw("vectorize text"),Fz:!1},{lF:new jw("rasterize text"),Fz:!1},{lF:new jw("minify"),Fz:!1}],RAW:[{lF:new fn([12,72],["1","3","4"]),Fz:2},{lF:new fn([12,34],["8 Bits","16 Bits"]),Fz:0},{lF:new fn("Byte Order",["12-34","34-12"]),Fz:0}],DDS:[{lF:new aw("Compression",["8x | BC1","4x | BC3","4x | BC7","None"]),Fz:0},{lF:new jw("Add Mipmaps"),Fz:!0}],anim:[{lF:new bJ("Speed",10,800,"%",null,!0,!0),Fz:100},{lF:new eW("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),Fz:0},{lF:new jw("reverse frames"),Fz:!1},{lF:new jw("boomerang"),Fz:!1}],slcs:[{lF:new jw([8,11,0]),Fz:!0}],artb:[{lF:new jw([1,16,1]),Fz:!0}],hicc:[{lF:new jw("convert to sRGB"),Fz:!0}]};
for(var K in this.AF){var E=this.AF[K];for(var y=0;y<E.length;y++){E[y].lF.$(E[y].Fz);E[y].lF.w(u.E.A,this.Wz,this)}}}co.prototype=new fo;
co.prototype.azm=function(){this.Vq=-1};co.prototype.f=function(){for(var K in this.AF)for(var y=0;y<this.AF[K].length;
y++)this.AF[K][y].lF.f()};co.prototype.Wz=function(){this.SI();this.S(new i3(u.E.A,!1))};co.prototype.SI=function(){var K=this.ic,E=K[0],x=K[1],c=K[2],J=K[3],i=K[4],P=this.AF[E];
if(P==null)P=[];else P=P.slice(0);if(x)P=P.concat(this.AF.anim);if(["GIF","PNG","JPG"].indexOf(E)!=-1&&c)P=P.concat(this.AF.slcs);
else if(["GIF","PNG","JPG"].indexOf(E)!=-1&&J)P=P.concat(this.AF.artb);if(i)P=P.concat(this.AF.hicc);
var _=K.join(",");if(_!=this.Vq){this.Vq=_;U.w6(this.e);for(var y=0;y<P.length;y++){if(E=="PDF"&&!J&&(y==0||y==2))continue;
this.e.appendChild(P[y].lF.e);U.R0(this.e)}}var a=this.ar9=[];for(var y=0;y<P.length;y++)a.push(P[y].lF.m())};
co.prototype.g0=function(K,E,x,c,J){this.ic=[K,E,x,c,J];this.SI()};co.prototype.m=function(){return this.ar9.slice(0)};
co.prototype.$=function(K,E){var x=this.ic,c=x[0],J=this.AF[c],i=Math.min(J.length,K.length);for(var y=0;
y<i;y++)J[y].lF.$(K[y]);this.SI();if(E!=!0)this.Wz()};function fv(){fo.call(this);this.e=U.t("span","fitem");
this.VX=!1;this.N1=new cn("No",!1,"Cancel");this.hU=new cn("Yes",!1,"Confirm");this.e.appendChild(this.N1.e);
this.e.appendChild(this.hU.e);this.N1.w("click",this.Rq,this);this.hU.w("click",this.Rq,this);this.f()}fv.prototype=new fo;
fv.prototype.f=function(){this.N1.Q1(U.fk("cross",null,"autoscale"));this.hU.Q1(U.fk("checkmark",null,"autoscale"))};
fv.prototype.Rq=function(K){this.VX=K.target==this.hU;this.S(new UIEvent("click"))};fv.prototype.m=function(){return this.VX};
function e3(K){fo.call(this);this.e=U.t("span","fitem");this.bN=new cn("\u25BC",null,"Auto Options",!0);
U.gw(this.bN.e,this.a5k.bind(this));this.e.appendChild(this.bN.e);this.ar=new cn("Auto",null,null,!0);
this.ar.w("click",this.m1,this);this.e.appendChild(this.ar.e);this.qk=new iM("Algorithms",["Enhance Monochromatic Contrast","Enhance Per Channel Contrast","Find Dark & Light Colors","Enhance Brightness And Contrast"],null,null,!0);
this.qk.w(u.E.A,this.m1,this);this.qk.$([!1,!1,!1,!0]);this.yY=new fo;var E=this.yY.e=U.t("div","floatcont form");
E.setAttribute("style","width: 250px;");this.yY.parent=this;E.appendChild(this.qk.e);this.ou=[];for(var y=0;
y<2;y++){var x=new eW((y==0?"Shadows":"Highlights")+" Clip",0,9.99,"%",2,!1,!0);x.$(.1);x.w(u.E.A,this.m1,this);
this.ou.push(x);E.appendChild(x.e)}}e3.prototype=new fo;e3.prototype.m1=function(K){this.S(new i3(u.E.A,!1))};
e3.prototype.f=function(){};e3.prototype.m=function(){return[this.qk.m().indexOf(!0),this.ou[0].m(),this.ou[1].m()]};
e3.prototype.a5k=function(K){if(U.Of(this.yY.e))return;K.stopPropagation();var E=this.bN.e.getBoundingClientRect(),x=new i3(u.E.L,!0);
x.data={_:u.c.gF,M8:this.yY,x:E.left,y:E.top+E.height+4};this.S(x)};function eB(){fo.call(this);var K=this.e=U.t("div","fitem");
this.Js=new aw([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.Js.w(u.E.A,this.h4,this);K.appendChild(this.Js.e);
this.jd=new eX(!1);this.jd.parent=this;this.jd.aD(16777215);this.jd.w(u.E.A,this.h4,this);K.appendChild(this.jd.e)}eB.prototype=new fo;
eB.prototype.f=function(){this.Js.f();this.jd.f()};eB.prototype.ayr=function(K){var E=[K.artboardBackgroundType.v-1];
if(K.Clr)E.push(K.Clr.v);this.$(E)};eB.prototype.aeQ=function(){var K=this.m();return{classID:"artboard",Clr:{t:"Objc",v:K[1]},artboardBackgroundType:{t:"long",v:K[0]+1}}};
eB.prototype.$=function(K){this.Js.$(K[0]);if(K[1])this.jd.$(K[1])};eB.prototype.m=function(){return[this.Js.m(),this.jd.m()]};
eB.prototype.h4=function(K){if(K.target==this.jd)this.Js.$(3);this.S(new i3(u.E.A,!1))};function bZ(K){fo.call(this);
this.dP=K;this.TT=0;this.att=!1;this.qQ=K?new bZ.kg:null;this.e=U.t("div","flexrow storageset");this.e.style.background="var(--bg-panel)";
this.x_=U.t("div");this.e.appendChild(this.x_);this.Xp=U.t("div");this.e.appendChild(this.Xp);this.Ow=[];
var E=Storage.list.length;if(K)E++;var x=this.Dd.bind(this);for(var y=0;y<E;y++){var c=U.t("div");this.Ow.push(c);
this.x_.appendChild(c);c.addEventListener("click",x,!1)}this.Dd(null,0)}bZ.prototype=new fo;bZ.sp=[];
bZ.fo=function(K){bZ.sp.push(K);K.I5()};bZ.Vt=function(){var K=bZ.sp;K.pop();K[K.length-1].I5()};bZ.prototype.I5=function(){console.log(this.TT);
this.Dd(null,this.TT)};bZ.prototype.Q3=function(K,E){if(!K.dN&&!this.att){var x=this.dP?2:1;for(var y=x;
y<this.Ow.length;y++)this.x_.removeChild(this.Ow[y]);this.att=!0;if(this.dP)this.qQ.Q3(K,E)}};bZ.prototype.f=function(){if(this.dP)this.qQ.f();
if(this.az)this.az.f()};bZ.prototype.Dd=function(K,E){var x=this.Ow,c;if(E==null)E=x.indexOf(K.currentTarget);
this.TT=E;for(var y=0;y<x.length;y++)U.gz(x[y],"active");U.sy(x[E],"active");if(this.dP)E--;U.w6(this.Xp);
if(E==-1)c=this.qQ;else c=Storage.a7r(E);this.az=c;c.parent=this;this.Xp.appendChild(c.e);this.nt(this.pz,this.o4);
this.f()};bZ.prototype.nt=function(K,E){this.pz=K;this.o4=E;var x=K<850,c=x?50:200,J=Storage.list;if(this.dP)J=[["Home",null,"strg/home"]].concat(J);
for(var y=0;y<J.length;y++){var i=this.Ow[y],P="padding: 8px "+(x?13:36)+"px; cursor:pointer;";i.setAttribute("style",P);
i.innerHTML="<img style=\"margin:0 10px -6px 0; width:22px;\" class=\"gsicon\" src=\""+PIMG[J[y][2]]+"\" /> "+(x?"":J[y][0])}this.e.style.width=K+"px";
this.e.style.height=E+"px";this.x_.style.width=c+"px";this.x_.style.paddingTop="32px";if(this.az)this.az.nt(K-c,E)};
bZ.kg=function(){var K=this.e=U.t("div");K.style.background="var(--bg-canvas)";var E=this.lB=U.t("div");
K.appendChild(E);var x=U.t("style");K.appendChild(x);x.textContent=" .bhover       { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0   );} "+" .bhover:hover { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0.05);}";
for(var y=0;y<2;y++){var c=U.t("div"),x="filter: drop-shadow(4px 6px 4px rgba(0,0,0,0.25)); ";E.appendChild(c);
if(y==0)x+="padding: 12px 0px";if(y==1)x+="position:absolute;  bottom:0;";c.setAttribute("style",x);
var J=U.t("img");c.appendChild(J);J.setAttribute("src",PIMG[y==0?"l"+"o"+"g"+"o":"b"+"o"+"t"+"t"+"o"+"m"]);
if(y==0)this.qY=J;else this.a6Q=J;if(y==0)this.a02=c;else this.amv=c}this.Ow=[];x="display:inline-block;  font-size:1.25em; border:1px solid #aaa;  border-radius:6px;  margin:20px 0 0 20px;";
var i=this.lj.bind(this);for(var y=0;y<3;y++){var P=U.t("span","bhover");this.Ow.push(P);P.setAttribute("style",x+"cursor:pointer; padding:12px;");
P.addEventListener("click",i,!1);E.appendChild(P)}U.R0(E);U.R0(E);var P=U.t("div");P.setAttribute("style",x+"width:min(80%,556px);  padding:60px 0;  text-align:center; opacity:0.3;");
P.textContent="Drop any files here";E.appendChild(P);this.T=U.t("canvas");this.T.setAttribute("style","position:absolute;top:0;pointer-events:none; mix-blend-mode: screen;");
this.gI=this.T.getContext("2d");this.a5J=W.Q(4);K.appendChild(this.T);var _=new Date().getDate(),a=new Date().getMonth();
if(a==11&&_>20||a==0&&_<10){var j=Math.random()<.5,e={o:255,J:255,k:255};if(!j){e=W.lx(Math.random(),Math.random()*.7,1);
e.o*=255;e.J*=255;e.k*=255}this.BC=[Math.round(1048575*Math.random()),j?.05:.02,Math.round(4+Math.random()*8),1,j?3:15,e,0,!0,j,j?1:.2,3];
this.aml=j?.1:.2;this.GL=this.Tz.bind(this);window.requestAnimationFrame(this.GL)}};bZ.kg.prototype=new fo;
bZ.kg.prototype.Tz=function(){window.requestAnimationFrame(this.GL);if(!U.Of(this.e))return;var K=this.a5J,E=this.T,x=this.gI,c=E.width,J=E.height;
this.BC[6]=Date.now()*.001*this.aml;W.$N.Wi(K,c,J,this.BC,!0);x.putImageData(new ImageData(new Uint8ClampedArray(K.buffer),c,J),0,0)};
bZ.kg.prototype.lj=function(K){var y=this.Ow.indexOf(K.currentTarget),E=new i3(u.E.L,!0);if(y==0)E.data={_:u.c.v9,xc:"newproject"};
if(y==1)E.data={_:u.c.yq};if(y==2)E.data={_:u.c.v9,xc:"res0"};this.S(E)};bZ.kg.prototype.f=function(){var K=this.Ow,E=[[11,7],[1,6],["PSD VAR0",[25,0]]],x=["\u2605","\uD83E\uDC7F","\u25A3"];
for(var y=0;y<K.length;y++)K[y].textContent=x[y]+"\u2000"+hg.get(E[y]);var c="l"+"o"+"g"+"o",J=new Date;
if(J.getMonth()==3&&J.getDate()==1)c="lo"+"go_cuc"+"umber";this.qY.setAttribute("src",PIMG[c]);this.a6Q.setAttribute("src",PIMG["b"+"o"+"t"+"t"+"o"+"m"])};
bZ.kg.prototype.nt=function(K,E){var x=Math.min(E*1.5,Math.min(K,600));U.CL(this.T,K,x*.26);var c=this.T.width,J=this.T.height;
this.a5J=W.Q(c*J*4);this.e.style.width=K+"px";this.e.style.height=E+"px";this.amv.style.width=K+"px";
this.lB.style.marginLeft=Math.max(0,Math.round((K+200-600)/2)-200)+"px";this.qY.style.width=x+"px";this.a6Q.style.width=x+"px"};
bZ.kg.prototype.Q3=function(K,E){if(!K.dN)this.lB.removeChild(this.Ow[2])};function Storage(K){fo.call(this);
var E=this.e=U.t("div","storage");U.sr(E);var x=this.anx=U.t("style");E.appendChild(x);E.setAttribute("tabindex","0");
E.style.outline="none";E.addEventListener("keydown",this.agd.bind(this),!1);this.bB=this.atm.bind(this);
var c=U.t("div");E.appendChild(c);var J=this.a5f.bind(this);this.jU=U.t("div","bar");c.appendChild(this.jU);
this.d0=U.t("div","fls scrollable");c.appendChild(this.d0);this.nl=U.t("div");c.appendChild(this.nl);
this.nl.setAttribute("style","position:absolute; bottom:0;  background-color:white; padding: 2px 8px 0px 8px;");
this.dx=U.t("div","bar");this.dx.textContent="Name: ";var i=this.XV=U.t("input");i.setAttribute("type","text");
this.dx.appendChild(i);var P=this.J5=U.t("div","btn");P.textContent="Save";this.dx.appendChild(P);U.xz(P,J);
U.gw(this.d0,this.bB);this.VZ=0;this.EL=K;this.WR=U.t("div","btn");U.xz(this.WR,this.a9j.bind(this));
this.Rx=new cQ([{name:[6,20]}]);this.Rx.parent=this;this.Hc=new cQ([{name:[5,4]},{name:[6,37]}]);this.Hc.parent=this;
this.Rx.w("select",this.awa,this);this.Hc.w("select",this.awa,this);this.d0.addEventListener("contextmenu",this.bB);
this.a0Z=U.t("span");this.DR=U.t("span");this.DR.setAttribute("style","position:absolute; right:0; top:5px;");
this.X8=[];this.XM=[];for(var y=0;y<3;y++){var _=U.t("div","btn");this.X8.push(_);this.a0Z.appendChild(_);
U.xz(_,J);_.textContent=["\u2B9C","\u2B9E","\uD83E\uDC09"][y]}for(var y=0;y<4;y++){var _=U.t("div","btn");
this.XM.push(_);this.DR.appendChild(_);U.xz(_,J)}window.addEventListener("message",this.awX.bind(this),!1);
this.a2L=!1;setInterval(this.as9.bind(this),300);this.gQ()}Storage.prototype=new fo;Storage.Wb=!1;Storage.prototype.as9=function(){var K=U.Of(this.e),E=this.a2L;
if(K&&!E){history.pushState(null,null,location.href);window.onpopstate=function(){history.go(1)}}if(!K&&E){window.onpopstate=function(){};
history.go(-1)}this.a2L=K};Storage.prototype.gQ=function(){if(this.V0)document.body.removeChild(this.V0);
this.u6=[[]];this.FN=0;this.aac={"/":[]};this.qP="";this.mV=null;this.YV=[];this.uV=[];var K="code/storages/"+Storage.list[this.EL][1],E=this.V0=U.t("iframe");
E.setAttribute("src",K);E.setAttribute("style","display:none");document.body.appendChild(E)};Storage.prototype.U_=function(){return this.aac[this.pn()]};
Storage.prototype.oW=function(K){this.aac[this.pn()]=K};Storage.a7r=function(y){var K=Storage.$0[y];
if(K==null)K=Storage.$0[y]=new Storage(y);return K};Storage.$0=[];Storage.Sq=0;Storage.ahS="";Storage.ST=function(K,E){Storage.Sq=K;
Storage.ahS=E;var x=Storage.$0;for(var y=0;y<x.length;y++)if(x[y])x[y].I5()};Storage.WQ=0;Storage.sb=2;
Storage.I9=0;Storage.list=[["This Device","deviceStorage.html","strg/tdevice"],["Google Drive","googledriveStorage.html?mode=0","strg/gdrive"],["Shared Drives","googledriveStorage.html?mode=1","strg/gdrive"],["Private Folder","googledriveStorage.html?mode=3","strg/gdrive"],["OneDrive","onedriveStorage.html","strg/onedrive"],["Dropbox","dropboxStorage.html","strg/dropbox"],["Beta","peadriveStorage.html","strg/dropbox",!0]];
Storage.a6M=function(K){for(var y=0;y<Storage.$0.length;y++){if(Storage.$0[y]&&Storage.$0[y].V0.contentWindow==K)return!0}return!1};
Storage.prototype.agd=function(K){if(K.target.tagName=="INPUT")return;var E=j6;if(E.MQ(K.code,E.C3)&&this.pn().length!=0)this.aqJ();
else if(K.ctrlKey){if(E.MQ(K.code,E.c)){var x=[];this.oW(x);for(var y=0;y<this.mV.length;y++)x.push(y);
this.zx()}if(E.MQ(K.code,E.ww)){}if(E.MQ(K.code,E.od)){}}else if(E.MQ(K.code,E.Tt)){var c=this.U_();
if(c.length!=0)this.as0(c[0])}else if(E.MQ(K.code,E.oh)){this.FN=Math.max(this.FN-1,0);this.u0()}else{var J=0;
for(var y=65;y<=90;y++)if(K.code=="Key"+String.fromCharCode(y))J=y;if(J!=0){var i=String.fromCharCode(J).toLowerCase(),P=[],_=this.mV,a;
for(var y=0;y<_.length;y++)if(_[y][0][0].toLowerCase()==i)P.push(y);if(P.length==0)return;var c=this.U_();
if(c.length==0)a=P[0];else{var j=P.indexOf(c[0]);if(j==-1){a=P[0];for(var y=0;y<P.length;y++)if(P[y]>c[0]){a=P[y];
break}}else a=P[(j+1)%P.length]}this.oW([a]);this.zx(!0)}}};Storage.prototype.nt=function(K,E){this.pz=K;
this.o4=E;this.e.style.width=K+"px";this.e.style.height=E+"px";var x=K-30,c=Math.floor(x/230),x=Math.floor(x/c)-70;
this.anx.textContent=".storage .tile .name {  width:"+x+"px;  }";this.XV.style.width=K-140+"px";this.d0.style.width=this.jU.style.width=K-20+"px";
this.d0.style.height=E-70-(Storage.Sq==0?0:45)+"px"};Storage.prototype.a9j=function(){this.u0()};Storage.prototype.u0=function(){this.jD("show",this.pn())};
Storage.prototype.pn=function(K){var E=this.u6[this.FN],x="/"+E.join("/");if(K&&E.length!=0)x+="/";return x};
Storage.prototype.a5f=function(K){var E=K.currentTarget,x=this.FN,c=this.X8.indexOf(E),J=this.XM.indexOf(E);
if(c>=0&&!this.azV(c))return;if(c==0){this.FN=Math.max(x-1,0);this.u0()}if(c==1){this.FN=Math.min(x+1,this.u6.length-1);
this.u0()}if(c==2){var i=this.u6[x+1]=this.u6[x].slice(0);i.pop();this.FN++;this.u6=this.u6.slice(0,this.FN+1);
this.u0()}if(J==0){Storage.WQ=(Storage.WQ+1)%2;this.I5()}if(J==1){Storage.sb=(Storage.sb+1)%3;this.I5()}if(J==2){Storage.I9=(Storage.I9+1)%3;
this.I5()}if(J==3){this.jD("forget","")}if(E==this.J5){var P=this.XV.value.trim(),_=this.mV,a=-1;if(!P.toLowerCase().endsWith("psd")){alert("File Name has to end with \".psd\".");
return}for(var y=0;y<_.length;y++)if(_[y][0]==P)a=y;if(a!=-1){this.amu("Do you really want to replace \""+P+"\"?",this.alJ.bind(this))}else this.alJ()}};
Storage.prototype.alJ=function(){var K=this.XV.value.trim(),E=[this.EL,this.pn(!0)+K];this.mF({_:u.c.atq,Kp:E});
this.S(new i3("canclose",!0))};Storage.prototype.awa=function(K){var E=K.target.rk()[0];if(K.target==this.Rx){var x=[hg.get([6,20]),-1,0];
this.mV.push(x);this.I5();var y=this.mV.indexOf(x),c=this.YV[y].querySelector(".name");console.log(c);
var J=new ap.u1(c,function(P){this.mF({_:u.c.B6,kB:hg.get([1,2])+" ..."});var _=this.pn(!0)+P+"/";console.log(_);
this.jD("save",_)}.bind(this),!0)}else{if(E==0)this.aqJ();else{var y=this.U_()[0],i=this.mV[y],c=this.YV[y].querySelector(".name");
console.log(c);c.innerHTML=i[0];var J=new ap.u1(c,function(P){P=P.trim();var _=this.mV;for(var y=0;y<_.length;
y++)if(_[y][0]==P){alert("Item with such name already exists.");this.I5();return}var a=this.pn(!0)+i[0]+":"+P;
console.log(a);this.jD("rename",a)}.bind(this))}}};Storage.prototype.aqJ=function(){var K=this.U_();
this.amu("Do you really want to delete "+(K.length==1?"\""+this.mV[K[0]][0]+"\"":"these files")+"?",this.x1.bind(this))};
Storage.prototype.amu=function(K,E){var x={_:u.c.v9,xc:"confirm",Z:K,sO:E};this.mF(x)};Storage.prototype.x1=function(){this.mF({_:u.c.B6,kB:hg.get([5,4])+" ..."});
this.uV=this.aix();this.a0Q()};Storage.prototype.a0Q=function(){if(this.uV.length==0){this.mF({_:u.c.Di,kB:hg.get([5,4])+" ..."});
this.oW([]);this.u0()}else this.jD("delete",this.uV.pop()[1])};Storage.prototype.aix=function(){var K=[],E=this.pn(!0),x=this.U_();
for(var y=0;y<x.length;y++){var c=this.mV[x[y]];K.push([this.EL,E+c[0]])}return K};Storage.prototype.jD=function(K,E){this.qP=K;
if(Storage.Wb)console.log(Math.floor(Date.now()/1e3),"{\"code\": \""+K+"\", \"prm\": "+JSON.stringify(E)+"  }");
this.V0.contentWindow.postMessage("{\"code\": \""+K+"\", \"prm\": "+JSON.stringify(E)+"  }","*")};Storage.prototype.awX=function(K){if(K.source!=this.V0.contentWindow)return;
if(typeof K.data=="string"){if(Storage.Wb)console.log("==",Math.floor(Date.now()/1e3),K.data);var E=JSON.parse(K.data),x=E.code,c=E.prm;
if(x=="ready"){var J=Storage.list[this.EL][3];if(J&&!c){var i=dq.A9(),P=dq.b5(),_=P.acc;if(i==null||i.id!=1){alert("work in progress ...");
return}if(i==null){alert("Log in to use this storage (press Account at the top).");return}var a=[],j=i.wantToJoin;
for(var e in j)a.push(parseInt(e.slice(1)));var d={uid:i.id,limit:1e8,inTeams:i.inTeams,myTeams:a};d.secret=_&&_.pds?_.pds:"";
this.jD("login",d);return}if(J&&E.secret){var P=dq.b5(),_=P.acc;if(_==null)_=P.acc={};_.pds=E.secret;
dq.S9(P)}if(c)this.u0();else{U.w6(this.jU);U.w6(this.d0);this.jU.appendChild(this.WR)}}else if(x!="0"){alert(c);
this.I5()}else if(this.qP=="show"){this.mV=c;this.I5()}else if(this.qP=="save"){this.mF({_:u.c.Di,kB:hg.get([1,2])+" ..."});
this.u0()}else if(this.qP=="delete"){this.a0Q()}else if(this.qP=="forget"){this.gQ()}else if(this.qP=="rename"){this.u0()}else throw x}else{if(Storage.Wb)console.log(Math.floor(Date.now()/1e3,"==","ArrayBuffer[]"));
this.mF({_:u.c.a2K,Kp:this.aix()[0],AJ:K.data});this.mF({_:u.c.Di,kB:"Opening ..."})}};Storage.prototype.azV=function(y){if(y==0)return this.FN>0;
if(y==1)return this.FN<this.u6.length-1;if(y==2)return this.pn()!="/"};Storage.prototype.I5=function(){var K=this.mV,E=Storage.sb,x=Storage.WQ,c=Storage.I9;
if(K==null)return;K.sort(function(f,F){var G=f[1]==-1?1:5,D=F[1]==-1?1:5,b=0;if(Math.min(G,D)==1&&G!=D)return G-D;
else if(G==1||E==0)b=f[0].toLowerCase()<F[0].toLowerCase()?-1:1;else if(E==1)b=f[1]-F[1];else if(E==2)b=f[2]-F[2];
if(x==1)b=-b;return b});var J=this.d0,i=this.jU,P=this.u6[this.FN];U.w6(J);U.w6(i);this.YV=[];for(var y=0;
y<3;y++)if(this.azV(y))U.gz(this.X8[y],"disabled");else U.sy(this.X8[y],"disabled");i.appendChild(this.a0Z);
i.appendChild(this.DR);var _=U.t("span");_.textContent="/";i.appendChild(_);for(var y=0;y<P.length;y++){var _=U.t("span");
_.textContent=P[y];i.appendChild(_);var _=U.t("span");_.textContent="/";i.appendChild(_)}var a=["tile","icon","litm"][c];
for(var y=0;y<K.length;y++){var j=K[y],e=j[1]==-1,d=e?"":ew.ev(j[1]),I=U.t("div","cont "+a);J.appendChild(I);
this.YV.push(I);I.setAttribute("title",j[0]+(e?"":"\nSize: "+d+"\nDate Modified: "+new Date(j[2]*1e3).toLocaleString().replaceAll(". ",".")));
var v=U.t("img");v.setAttribute("src",e?Storage.aiU:j[3]?j[3]:Storage.sS);if(!e&&j[3])v.setAttribute("style","box-shadow: 1px 1px 2.5px rgba(0,0,0, .4);");
var n=U.t("span","name"),C=j[0];if(a=="icon"&&C.length>30)C=C.slice(0,24)+".."+C.slice(C.length-5);n.textContent=C;
I.appendChild(v);I.appendChild(n);if(a!="icon"&&!e){if(a=="tile")U.R0(n);var T=U.t("span");T.textContent=d;
T.style.opacity="0.8";(a=="tile"?n:I).appendChild(T)}var o=j[0].split("."),s=(o.length==1?"":o.pop()).toUpperCase();
if(a!="litm"&&!e&&j[3]==null){var Q=U.t("span","ext");Q.textContent=s;var X=Storage.xG[s];Q.style.backgroundColor=X?X:Storage.a9Z(s);
I.appendChild(Q)}U.gw(I,this.bB);I.addEventListener("contextmenu",this.bB)}this.zx();var B=this.dx.parentNode!=null,M=Storage.Sq,S=this.e;
if(B&&M==0)S.removeChild(this.dx);if(!B&&M==1)S.appendChild(this.dx);this.nt(this.pz,this.o4);this.f()};
Storage.prototype.zx=function(K){var E=this.YV,x=this.mV,c=this.U_(),J=!1,i=0;for(var y=0;y<E.length;
y++){var P=x[y],_=P[1]==-1,a=E[y];if(Storage.Sq==1&&!_&&!P[0].toLowerCase().endsWith(".psd"))a.style.display="none";
else a.style.display="auto";if(c.indexOf(y)==-1)U.gz(a,"active");else{if(_)J=!0;else i+=P[1];U.sy(a,"active");
if(K)a.scrollIntoView({block:"center",behavior:"smooth"})}}var j=J?"":ew.ev(i);this.nl.textContent=c.length==0?"":c.length+" item"+(c.length==1?"":"s")+" selected\u2001"+j;
this.XV.value=c.length==1&&!J?x[c[0]][0]:Storage.ahS};Storage.prototype.as0=function(y){var K=this.mV[y];
if(K[1]==-1){var E=this.u6[this.FN].slice(0);E.push(K[0]);this.FN++;this.u6[this.FN]=E;this.u6=this.u6.slice(0,this.FN+1);
this.oW([]);this.u0()}else if(Storage.Sq==0){this.mF({_:u.c.B6,kB:"Opening ..."});this.S(new i3("canclose",!0));
var x=this.pn(!0)+K[0];this.jD("load",x)}};Storage.prototype.f=function(){var K=Storage.sb,E=Storage.WQ,x=Storage.I9;
this.XM[0].textContent=["\uD83E\uDC0B","\uD83E\uDC09"][E];this.XM[1].textContent=hg.get([[12,48],[12,14,0],"Date"][K]);
this.XM[2].textContent=hg.get(["Tiles","Icons",[25,3,1]][x]);this.XM[3].textContent="\u2716";this.WR.textContent=hg.get([[23,6],Storage.list[this.EL][0]])};
Storage.prototype.atm=function(K){this.mF({_:u.c.cu});if(K.button==3||K.button==4){if(Date.now()-this.apC>50){var E=this.FN;
if(K.button==3)this.FN=Math.max(E-1,0);else this.FN=Math.min(E+1,this.u6.length-1);this.u0()}this.apC=Date.now();
return}K.stopPropagation();var y=this.YV.indexOf(K.currentTarget);if(K.type=="contextmenu"){if(this.mV==null)return;
K.preventDefault();var x=y==-1?this.Rx:this.Hc;x.parent=this;x.f();this.mF({_:u.c.gF,M8:x,x:K.clientX+4,y:K.clientY});
return}var c=this.U_(),J=c.indexOf(y);if(K.button!=0&&J!=-1)return;if(K.target==this.d0)this.oW([]);
else{if(K.ctrlKey){if(J==-1)c.push(y);else c.splice(J,1)}else if(K.shiftKey&&c.length!=0){var i=c[0];
if(i<y){var P=y;y=i;i=P}c=[];this.oW(c);for(var _=y;_<=i;_++)c.push(_)}else{this.oW([y]);if(Date.now()-this.VZ<300&&c.length!=0&&c[0]==y){this.as0(y);
this.VZ=0}}}this.VZ=Date.now();this.zx()};Storage.prototype.mF=function(K){var E=new i3(u.E.L,!0);E.data=K;
this.S(E)};Storage.prototype.a9k=function(K,E){this.mF({_:u.c.B6,kB:hg.get([1,2])+" ..."});this.jD("save",K);
if(Storage.Wb)console.log(Math.floor(Date.now()/1e3),"ArrayBuffer[]");this.V0.contentWindow.postMessage(E,"*")};
Storage.xG={PDF:"#ff2222",PSD:"#005599",PSB:"#005599"};Storage.a9Z=function(K){K=K.toLowerCase();var E=0;
for(var y=0;y<K.length;y++)E+=K.charCodeAt(y)*613<<8*y;return"#"+W.E8(E&16777215)};Storage.aiU="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0ODggNDEwIiB3aWR0aD0iNDg4IiBoZWlnaHQ9IjQxMCI+PHRpdGxlPmZvbGRlci1zdmc8L3RpdGxlPjxzdHlsZT50c3BhbiB7IHdoaXRlLXNwYWNlOnByZSB9LnNocDAgeyBmaWxsOiAjZGJiMDY1IH0gLnNocDEgeyBmaWxsOiAjOTY3YTQ0IH0gLnNocDIgeyBmaWxsOiAjZjVjZTg1IH0gPC9zdHlsZT48cGF0aCBjbGFzcz0ic2hwMCIgZD0iTTcuMiA0MDMuNEw3LjIgNi42TDEzOC45NSA2LjZMMTc3LjM1IDQ1TDQ4MC44IDQ1TDQ4MC44IDQwMy40TDcuMiA0MDMuNFoiIC8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGFzcz0ic2hwMSIgZD0iTTE0MS42IDAuMkwxODAgMzguNkw0ODcuMiAzOC42TDQ4Ny4yIDQwOS44TDAuOCA0MDkuOEwwLjggMC4yTDE0MS42IDAuMlpNMTMuNiAxM0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxNzQuNyA1MS40TDEzNi4zIDEzTDEzLjYgMTNaIiAvPjxnID48cGF0aCBjbGFzcz0ic2hwMiIgZD0iTTcuMiA0MDMuNEw3LjIgNzAuNkwxNDMuNTMgNzAuNkwxODEuOTMgNDVMNDgwLjggNDVMNDgwLjggNDAzLjRMNy4yIDQwMy40WiIgLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsYXNzPSJzaHAxIiBkPSJNNDg3LjIgMzguNkw0ODcuMiA0MDkuOEwwLjggNDA5LjhMMC44IDY0LjJMMTQxLjYgNjQuMkwxODAgMzguNkw0ODcuMiAzOC42Wk0xODMuODggNTEuNEwxNDUuNDggNzdMMTMuNiA3N0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxODMuODggNTEuNFoiIC8+PC9nPjwvc3ZnPg==";
Storage.sS="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNDggNDI0IiB3aWR0aD0iMzQ4IiBoZWlnaHQ9IjQyNCI+PHRpdGxlPmZpbGUtc3ZnPC90aXRsZT48c3R5bGU+dHNwYW4geyB3aGl0ZS1zcGFjZTpwcmUgfS5zaHAwIHsgZmlsbDogI2ZmZmZmZiB9IC5zaHAxIHsgZmlsbDogI2M3ZDdlMiB9IC5zaHAyIHsgZmlsbDogIzQ1NGI1NCB9IDwvc3R5bGU+PHBhdGggY2xhc3M9InNocDAiIGQ9Ik0yOTYgNDEyTDUyIDQxMkMzMCA0MTIgMTIgMzk0IDEyIDM3MkwxMiA1MkMxMiAzMCAzMCAxMiA1MiAxMkwyOTYgMTJDMzE4IDEyIDMzNiAzMCAzMzYgNTJMMzM2IDM3MkMzMzYgMzk0IDMxOCA0MTIgMjk2IDQxMloiIC8+PHBhdGggY2xhc3M9InNocDEiIGQ9Ik01MiA1MkwyOTYgNTJMMjk2IDExMkw1MiAxMTJMNTIgNTJaTTI3MiAxOTJMNjggMTkyQzYxLjIgMTkyIDU2IDE4Ni44IDU2IDE4MEM1NiAxNzMuMiA2MS4yIDE2OCA2OCAxNjhMMjcyIDE2OEMyNzguOCAxNjggMjg0IDE3My4yIDI4NCAxODBDMjg0IDE4Ni44IDI3OC44IDE5MiAyNzIgMTkyWk0yNzIgMjUyTDY4IDI1MkM2MS4yIDI1MiA1NiAyNDYuOCA1NiAyNDBDNTYgMjMzLjIgNjEuMiAyMjggNjggMjI4TDI3MiAyMjhDMjc4LjggMjI4IDI4NCAyMzMuMiAyODQgMjQwQzI4NCAyNDYuOCAyNzguOCAyNTIgMjcyIDI1MlpNMTc0IDMxMkw2OCAzMTJDNjEuMiAzMTIgNTYgMzA2LjggNTYgMzAwQzU2IDI5My4yIDYxLjIgMjg4IDY4IDI4OEwxNzQgMjg4QzE4MC44IDI4OCAxODYgMjkzLjIgMTg2IDMwMEMxODYgMzA2LjggMTgwLjggMzEyIDE3NCAzMTJaIiAvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xhc3M9InNocDIiIGQ9Ik0yOTYgNDI0TDUyIDQyNEMyMy4yIDQyNCAwIDQwMC44IDAgMzcyTDAgNTJDMCAyMy4yIDIzLjIgMCA1MiAwTDI5NiAwQzMyNC44IDAgMzQ4IDIzLjIgMzQ4IDUyTDM0OCAzNzJDMzQ4IDQwMC44IDMyNC44IDQyNCAyOTYgNDI0Wk01MiAyNEMzNi40IDI0IDI0IDM2LjQgMjQgNTJMMjQgMzcyQzI0IDM4Ny42IDM2LjQgNDAwIDUyIDQwMEwyOTYgNDAwQzMxMS42IDQwMCAzMjQgMzg3LjYgMzI0IDM3MkwzMjQgNTJDMzI0IDM2LjQgMzExLjYgMjQgMjk2IDI0TDUyIDI0WiIgLz48L3N2Zz4=";
function g3(K){fo.call(this);var E=this.e=U.t("div","form scrollable padded label12");this.m2=K;this.Qy=null;
var x=[],c=g3.cz[K];this.gL=[];for(var J in c){var i=parseInt(J.slice(1)),P=i%10==0?"":"\u2800\u2800- ";
x.push(P+c[J]);this.gL.push(i)}this.mS=[new ay("Name",null,30),new ay("Description",null,30,4),K==0?new ay("File"," www.Photopea.com#i...",17):new gV("File",!1,!1),new ay("Thumbnail URL","* Use Imgur.com etc.",17),new aw("Category",x),new jw("Make Public"),new cn("<< Back",null,null,!0),new cn("Save",null,null,!0)];
if(K==0)this.mS.push(new jp("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."),new jp("Get a Thumbnail URL: File - Publish Online - JPG. At Imgur.com, right-click your image and choose \"Copy Image Address\"."));
if(K==1)this.mS.push(new jp("\"File\" - select a .JSON file of a plugin from your computer. The content must be: {\"name\": ..., \"url\":..., \"icon\":... }"));
if(K!=0)this.mS.push(new jp("Do not load any file to preserve the old version."));for(var y=0;y<this.mS.length;
y++){var _=this.mS[y];E.appendChild(_.e);_.parent=this;if(y!=4&&y!=6)U.R0(E);if(_ instanceof cn)_.w("click",this.abb,this)}}g3.prototype=new fo;
g3.prototype.abb=function(K){if(K.target==this.mS[6]){this.S(new i3("back"));return}var E=this.mS[3].m().trim(),x=E.startsWith("http")&&(E.endsWith(".jpeg")||E.endsWith(".jpg")||E.endsWith(".png")||E.endsWith(".gif"));
if(!x){alert("Thumbnail URL is incorrect.");return}var c=new XMLHttpRequest,J=(E);
c.open("GET",J);c.responseType="arraybuffer";c.onload=this.atc.bind(this);c.send()};g3.prototype.atc=function(K){var E=K.target.response,x=E.byteLength;
if(x>2e5&&gr.lX(E)!="gif"){alert("Thumbnail is too large ("+ew.ev(x)+"). Make it under 200 kB.");return}var c=this.mS[2].m(),J=Object.keys(c);
if(this.m2!=0&&J.length!=0){console.log(c);hP.ic.agl(c[J[0]].buffer,J[0],this.avL.bind(this),"pp-resources");
return}this.avL()};g3.prototype.avL=function(K){var E=this.m2,x="name desc file thmb catg publ".split(" "),c=this.Qy;
for(var y=0;y<6;y++){if(E!=0&&y==2)continue;var J=this.mS[y].m();if(y<=3){J=J.trim();if(J.length==0){alert("One of values is empty.");
return}}if(y==2){var i=J.split("#i");if(i.length!=2||i[1].length!=8){alert("File ID is incorrect.");
return}J=i.pop()}if(y==4)J=this.gL[J];c[x[y]]=J}if(E!=0){if(K)c.file=K;else if(c.file==null){alert("Select a file from your computer.");
return}}if(c.utme.length==0)c.utme=""+Math.round(Date.now()/1e3);c.type=E;this.S(new i3("save"))};g3.prototype.f=function(){};
g3.prototype.$=function(K){var E=this.Qy=JSON.parse(JSON.stringify(K)),x="name desc file thmb catg publ".split(" ");
for(var y=0;y<6;y++){var c=E[x[y]];if(c!=""&&y==2)c="https://photopea.com#i"+c;if(y==4)c=this.gL.indexOf(c);
if(y==5&&c==null)c=!0;this.mS[y].$(c)}};g3.prototype.m=function(){return JSON.parse(JSON.stringify(this.Qy))};
g3.cz=[{c0:"Mockups",c1:"Mobile & Web",c2:"Prints",c3:"Product",c10:"Social Media",c11:"Youtube",c12:"Instagram",c13:"Facebook",c14:"Memes",c15:"Signs",c16:"Animations",c20:"Print",c21:"Cards",c22:"Invitations",c23:"Brochures",c24:"Resumes",c25:"Diploma / Certificate",c30:"Mobile",c40:"Websites",c50:"Presentations",c60:"Other"},{c0:"Resources",c1:"Image Elements",c2:"Fonts",c10:"Effects",c11:"Filters",c12:"Combine Elements",c13:"Text Effects",c20:"Generate Content",c30:"Other Plugins"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"}];
function az(K){fo.call(this);this.w5=K;this.e=U.t("div","");this.yD=[];this.dD=null;this.afA=[]}az.prototype=new fo;
az.prototype.Nx=function(K){};az.prototype.UW=function(){return!1};az.prototype.nt=function(K,E){};az.prototype.Q3=function(K,E){};
az.prototype.g5=function(K){};az.prototype.$=function(K,E,x,c,J,i){var P=[],_=this.yD,a=0,j=dJ.ls["s"+this.w5];
j?j(K,P,i):this.Sp(K,P,i);for(var y=0;y<_.length;y++)if(!(_[y]instanceof jp))_[y].$(P[a++]);if(K.RndS)this.dD=K.RndS.v};
az.prototype.m=function(){var K=dJ.JQ(this.w5),E=[],x=this.yD,c=0;for(var y=0;y<x.length;y++)if(!(x[y]instanceof jp))E[c++]=x[y].m();
var J=dJ.ls["g"+this.w5];J?J(K,E):this.AK(K,E);if(K.RndS)K.RndS.v=this.dD;return K};az.prototype._G=function(K){};
az.prototype.gY=function(K){if(K&&K.target instanceof cn){this.dD=Math.floor(Math.random()*4294967295)}var E=this.afA;
for(var y=0;y<E.length;y+=2){var x=this.yD[E[y]],c=this.yD[E[y+1]],J=x.m(),i=c.m();if(K.target==x)c.$(Math.max(J,i));
else x.$(Math.min(J,i))}this.S(new i3(u.E.A))};az.prototype.f=function(){for(var y=0;y<this.yD.length;
y++)this.yD[y].f();var K=this.am3;if(K)K.f()};az.prototype.w9=function(K){U.sy(this.e,"form");var E=this.yD;
for(var y=0;y<E.length;y++){var x=E[y];x.parent=this;x.w(u.E.A,this.gY,this);this.e.appendChild(x.e);
if(x instanceof jw&&E[y+1]instanceof eX)continue;if(K&&K.indexOf(y)!=-1)U.JB(this.e);else U.R0(this.e)}var c=dJ.JQ(this.w5);
if(c.RndS){var J=this.am3=new cn([25,1,2],null,null,!0);this.e.appendChild(J.e);J.w("click",this.gY,this)}};
az.prototype.Qh=function(){return!1};az.prototype.zb=function(K,E,x,c,J){};az.prototype.il=function(K,E,x,c,J){};
az.prototype.N2=function(K,E,x,c,J){};az.prototype.AK=function(K,E){};az.prototype.Sp=function(K,E){};
az.prototype.BE=function(K){var E=K.target.m().indexOf(!0)!=-1,x=new i3(u.E.L,!0);x.s9=!0;x.data={_:E?u.c.iM:u.c.K4,G:$.$P};
this.S(x);x=new i3(u.E.v,!0);x.G=$.$P;x.s9=!0;x.data={_:"supertool",G:E?this:null};this.S(x)};az.a5n=function(K){K.Qh=function(){return!0};
K.zb=function(E,x,c,J,i){this.IR=!0;this.acx(E,i)};K.il=function(E,x,c,J,i){if(!this.IR)return;this.acx(E,i)};
K.N2=function(E,x,c,J,i){this.IR=!1};K.acx=function(E,x){var c=new cS(0,0,E.b,E.n);if(E.P)c=E.P.rect;
var J=E.D.gg(x.x,x.y);J.x-=c.x;J.y-=c.y;function i(P,_){return Math.round(Math.max(0,Math.min(100,100*P/_)))}this.yD[2].$(i(J.x,c.b));
this.yD[3].$(i(J.y,c.n));this.gY()}};az.Bokh=function(){az.call(this,"Bokh");this.yD=[new aw("Depth Map",["A","b"]),new bJ("Focal Distance",0,255),new jw([4,11]),new aw([12,76,1],["Triangle (3)",["VAR0 (4)",[12,93,3]],"Pentagon (5)","Hexagon (6)","Heptagon (7)","Octagon (8)"]),new bJ([12,56],0,100),new bJ([12,15],0,360),new bJ([12,2],0,100),new bJ([4,13],0,255),new bJ([24,6],0,100),new fn([12,58],[[12,59,0],[12,59,1]]),new jw([12,60])];
this.w9([5,7])};az.Bokh.prototype=new az;az.Bokh.prototype.Sp=function(K,E,x){var c=[[22,5,0],[6,5,3],[6,2]],J=K.BkDi.v.BtDi,i=K.BkDc,P=0;
if(J=="BeIn")P=0;else if(J=="BeIt"&&i.v.BtDc=="BeCt")P=1;else if(J=="BeIt"&&i.v.BtDc=="BeCm")P=2;else P=3+i.v;
for(var y=0;y<x[1].length;y++)c.push(x[1][y].name);this.yD[0].C8(c,[3]);E[0]=P;E[1]=K.BkDp.v;E[2]=K.BkDs.v;
E[3]=parseInt(K.BkIs.v.BtIs.slice(3))-3;E[4]=K.BkIb.v;E[5]=K.BkIr.v;E[6]=K.BkSb.v;E[7]=K.BkSt.v;E[8]=K.BkNa.v;
E[9]=K.BkNt.v.BtNt=="BeNu"?0:1;E[10]=K.BkNm.v};az.Bokh.prototype.AK=function(K,E){var x;if(E[0]==0){x="BeIn";
delete K.BkDc}else if(E[0]<3){x="BeIt";K.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][E[0]-1]}}}else{x="BeIa";
K.BkDc={t:"long",v:E[0]-3}}K.BkDi.v.BtDi=x;K.BkDp.v=E[1];K.BkDs.v=E[2];K.BkIs.v.BtIs="BeS"+(3+E[3]);
K.BkIb.v=E[4];K.BkIr.v=E[5];K.BkSb.v=E[6];K.BkSt.v=E[7];K.BkNa.v=E[8];K.BkNt.v.BtNt=["BeNu","BeNg"][E[9]];
K.BkNm.v=E[10]};az.oilPaint=function(){az.call(this,"oilPaint");this.yD=[new bJ([12,56],.1,10,"px",!0),new bJ("Cleanliness",0,10,"px",!0),new bJ([12,38],.1,10,null,!0),new bJ("Bristle Detail",0,10,null,!0),new jw("Lighting"),new bJ("Shine",0,10,null,!0),new jH([12,15])];
this.w9()};az.oilPaint.prototype=new az;az.oilPaint.prototype.Sp=function(K,E){var x="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var y=0;y<x.length;y++)E[y]=K[x[y]].v;E[6]=[K.LghD.v]};az.oilPaint.prototype.AK=function(K,E){var x="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var y=0;y<x.length;y++)K[x[y]].v=E[y];K.LghD.v=E[6][0]};az.TrcC=function(){az.call(this,"TrcC");
this.yD=[new bJ("Level",0,255),new fn([12,69],[[19,4,1],[19,4,0]])];this.w9()};az.TrcC.prototype=new az;
az.TrcC.prototype.Sp=function(K,E){E[0]=K.Lvl.v;E[1]=["Lwr","Upr"].indexOf(K.Edg.v.CntE)};az.TrcC.prototype.AK=function(K,E){K.Lvl.v=E[0];
K.Edg.v.CntE=["Lwr","Upr"][E[1]]};az["Dfs "]=function(){az.call(this,"Dfs ");this.yD=[new fn([12,36],[[15,10,0],[15,10,6],[15,10,11],"Anisotropic"])];
this.w9()};az["Dfs "].prototype=new az;az["Dfs "].prototype.Sp=function(K,E){E[0]=["Nrml","DrkO","LghO","anisotropic"].indexOf(K.Md.v.DfsM)};
az["Dfs "].prototype.AK=function(K,E){K.Md.v.DfsM=["Nrml","DrkO","LghO","anisotropic"][E[0]]};az.Embs=function(){az.call(this,"Embs");
this.yD=[new jH([12,15]),new bJ([12,42],1,100,"px"),new bJ([12,57],1,500,"%")];this.w9()};az.Embs.prototype=new az;
az.Embs.prototype.Sp=function(K,E){E[0]=[K.Angl.v];E[1]=K.Hght.v;E[2]=K.Amnt.v};az.Embs.prototype.AK=function(K,E){K.Angl.v=E[0][0];
K.Hght.v=E[1];K.Amnt.v=E[2]};az["Wnd "]=function(){az.call(this,"Wnd ");this.yD=[new fn([12,32],["Wind","Blast","Stagger"]),new fn([12,33],["From the Right","From the Left"])];
this.w9()};az["Wnd "].prototype=new az;az["Wnd "].prototype.Sp=function(K,E){E[0]=["Wnd","Blst","Stgr"].indexOf(K.WndM.v.WndM);
E[1]=["Left","Rght"].indexOf(K.Drct.v.Drct)};az["Wnd "].prototype.AK=function(K,E){K.WndM.v.WndM=["Wnd","Blst","Stgr"][E[0]];
K.Drct.v.Drct=["Left","Rght"][E[1]]};az.denoise=function(){az.call(this,"denoise");this.yD=[new bJ([12,64],0,10),new bJ([12,65],0,100,"%")];
this.w9()};az.denoise.prototype=new az;az.denoise.prototype.Sp=function(K,E){var x=K.channelDenoise.v[0].v;
E[0]=x.Amnt.v;E[1]=x.EdgF.v};az.denoise.prototype.AK=function(K,E){var x=K.channelDenoise.v[0].v;x.Amnt.v=E[0];
x.EdgF.v=E[1]};az.lightFilterGradient=function(){az.call(this,"lightFilterGradient");this.yD=[new bJ([24,3,1],0,100,"px",1,!0),new bJ([12,38],0,200,"%"),new jw([4,11]),new bJ("High",0,100,"%"),new bJ("Medium",0,100,"%"),new bJ("Low",0,100,"%")];
this.w9()};az.lightFilterGradient.prototype=new az;az.lightFilterGradient.prototype.Sp=function(K,E){E[0]=K.blur.v;
E[1]=K.textureScale.v*100;E[2]=K.Scl.v==-1;var x=K.Dtl.v;E[3]=x[0].v*100;E[4]=x[1].v*100;E[5]=x[2].v*100};
az.lightFilterGradient.prototype.AK=function(K,E){K.blur.v=E[0];K.textureScale.v=E[1]/100;K.Scl.v=E[2]?-1:1;
var x=K.Dtl.v;x[0].v=E[3]/100;x[1].v=E[4]/100;x[2].v=E[5]/100};az.Fbrs=function(){az.call(this,"Fbrs");
this.yD=[new bJ("Variance",1,64),new bJ([12,64],1,64)];this.w9()};az.Fbrs.prototype=new az;az.Fbrs.prototype.Sp=function(K,E){E[0]=K.Vrnc.v;
E[1]=K.Strg.v};az.Fbrs.prototype.AK=function(K,E){K.Vrnc.v=E[0];K.Strg.v=E[1]};az.LnsF=function(){az.call(this,"LnsF");
this.yD=[new bJ([12,2],10,300,"%"),new fn([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new bJ("Position X",0,100,"%"),new bJ("Position Y",0,100,"%")];
this.w9()};az.LnsF.prototype=new az;az.LnsF.prototype.Sp=function(K,E){E[0]=K.Brgh.v;E[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(K.Lns.v.Lns);
var x=K.FlrC.v;E[2]=Math.round(x.Hrzn.v*100);E[3]=Math.round(x.Vrtc.v*100)};az.LnsF.prototype.AK=function(K,E){K.Brgh.v=E[0];
K.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][E[1]];var x=K.FlrC.v;x.Hrzn.v=E[2]/100;x.Vrtc.v=E[3]/100};az.a5n(az.LnsF.prototype);
az.blendOptions=function(){az.call(this,"blendOptions");this.yD.push(new aw([12,19,0],db.n7,db.eP));
this.yD.push(new bJ([12,0],0,100,"%"));this.w9()};az.blendOptions.prototype=new az;az.blendOptions.prototype.Sp=function(K,E){E[0]=db.ws.indexOf(K.Md.v.BlnM);
E[1]=K.Opct.v.val};az.blendOptions.prototype.AK=function(K,E){K.Md.v.BlnM=db.ws[E[0]];K.Opct.v.val=E[1]};
az.LnCr=function(){az.call(this,"LnCr");this.yD=[new bJ([12,57],-100,100),new bJ([12,38],10,150,"%")];
this.w9()};az.LnCr.prototype=new az;az.LnCr.prototype.Sp=function(K,E){E[0]=K.LnIa.v;E[1]=K.LnSi.v};
az.LnCr.prototype.AK=function(K,E){K.LnIa.v=E[0];K.LnSi.v=E[1]};az.adaptCorrect=function(){az.call(this,"adaptCorrect");
var K=a4;this.yD=[new jp([19,6,0]),new K([12,57],0,100,"%"),new K("Tone",0,100,"%"),new K([12,56],0,200,"px"),new jp([19,6,2]),new K([12,57],0,100,"%"),new K("Tone",0,100,"%"),new K([12,56],0,200,"px"),new jp([3]),new K([13,0],-100,100)];
this.w9([3,7])};az.adaptCorrect.prototype=new az;az.adaptCorrect.prototype.Sp=function(K,E){var x=K.sdwM.v;
E[0]=x.Amnt.v.val;E[1]=x.Wdth.v.val;E[2]=x.Rds.v;var x=K.hglM.v;E[3]=x.Amnt.v.val;E[4]=x.Wdth.v.val;
E[5]=x.Rds.v;E[6]=K.ClrC.v};az.adaptCorrect.prototype.AK=function(K,E){var x=K.sdwM.v;x.Amnt.v.val=E[0];
x.Wdth.v.val=E[1];x.Rds.v=E[2];var x=K.hglM.v;x.Amnt.v.val=E[3];x.Wdth.v.val=E[4];x.Rds.v=E[5];K.ClrC.v=E[6]};
az.Flam=function(){az.call(this,"Flam");var K=this.yD=[new aw([12,44],"One Flame Along Path,Multiple Flames Along Path,Multiple Flames One Direction,Multiple Flames Path Directed,Multiple Flames Various Angle,Candle Light".split(",")),new bJ([12,80,0],20,1e3,"px"),new jw("Randomize Length"),new bJ([12,41],5,600,"px"),new bJ([12,15],0,360,"\xB0"),new bJ("Interval",10,200,"px"),new jw("Adapt Interval for Loops"),new eX(!1),new aw([12,52,0],["1: Draft","2: Low","3: Medium","4: High","5: Fine"]),new bJ("Turbulent",0,100),new bJ("Jag",0,100),new bJ([12,0],0,100),new bJ("Lines",2,30),new bJ("Bottom",0,100),new aw([12,22],["Normal","Violent","Flat"]),new aw([12,76,1],["Parallel","To the center","Spread","Oval","Pointing"]),new jw("Randomize Shape"),new bJ("Random Seed",0,100)];
this.w9();var E=this.e;U.w6(E);var x=new fn(null,["Basic","Advanced"]);x.w(u.E.A,this.aqP,this);E.appendChild(x.e);
U.JB(E);var c=U.t("div"),J=U.t("div");this.a1h=[c,J];E.appendChild(c);for(var y=0;y<K.length;y++){(y<9?c:J).appendChild(K[y].e);
if(y==6)U.R0(c)}K[0].w(u.E.A,this.acY,this);this.acY()};az.Flam.prototype=new az;az.Flam.prototype.acY=function(K){var E=this.yD,y=E[0].m();
E[1].Lk(y!=0&&y!=5);E[2].Lk(y!=0&&y!=5);E[4].Lk(y!=0&&y!=5&&y!=1);E[5].Lk(y!=0&&y!=5);E[6].Lk(y!=0&&y!=5)};
az.Flam.prototype.aqP=function(K){var y=K.target.m(),E=this.a1h,x=this.e;x.removeChild(E[1-y]);x.appendChild(E[y])};
az.boxblur=function(){az.call(this,"boxblur");this.yD=[new bJ([12,56],1,200," px")];this.w9()};az.boxblur.prototype=new az;
az.boxblur.prototype.Sp=function(K,E){E[0]=K.Rds.v.val};az.boxblur.prototype.AK=function(K,E){K.Rds.v.val=E[0]};
az.GsnB=function(){az.call(this,"GsnB");this.yD=[new bJ([12,56],.1,400,"px",1,!0)];this.w9()};az.GsnB.prototype=new az;
az.Dila=function(){az.call(this,"Dila");this.yD=[new bJ([11,12,1],0,20,"px",0),new bJ([12,56],0,400,"px",0,!0)];
this.w9()};az.Dila.prototype=new az;az.MtnB=function(){az.call(this,"MtnB");this.yD=[new jH([12,15]),new bJ([12,28],1,100," px")];
this.w9()};az.MtnB.prototype=new az;az.RdlB=function(){az.call(this,"RdlB");this.yD=[new bJ([12,57],1,100),new fn([12,36],["Spin","Zoom"]),new bJ("Position X",0,100,"%"),new bJ("Position Y",0,100,"%")];
this.w9()};az.RdlB.prototype=new az;az.RdlB.prototype.Sp=function(K,E){E[0]=K.Amnt.v;E[1]=["Spn","Zm"].indexOf(K.BlrM.v.BlrM);
E[2]=K.Cntr.v.Hrzn.v*100;E[3]=K.Cntr.v.Vrtc.v*100};az.RdlB.prototype.AK=function(K,E){K.Amnt.v=E[0];
K.BlrM.v.BlrM=["Spn","Zm"][E[1]];K.Cntr.v.Hrzn.v=E[2]/100;K.Cntr.v.Vrtc.v=E[3]/100};az.a5n(az.RdlB.prototype);
az.Dspl=function(){az.call(this,"Dspl");this.yD=[new aw([6,36,3],["a","b"]),new bJ([22,4,0],-100,100,"px"),new bJ([22,4,1],-100,100,"px"),new aw([24,18,0],[[24,18,3],[24,18,2]])];
this.w9()};az.Dspl.prototype=new az;az.Dspl.prototype.Sp=function(K,E,x){this.aht=[];this.ld=[];var c=-1,J=x?x[0]:null;
if(J==null)J=this.auz;else this.auz=J;if(J)for(var y=0;y<J.length;y++){var i=J[y];this.aht.push(i.sU.trim());
this.ld.push(i.Vn);if(i.Vn==K.DspF.v.pth)c=y}this.yD[0].C8(this.aht);E[0]=c==-1?0:c;E[1]=K.HrzS.v;E[2]=K.VrtS.v;
E[3]=["WrpA","RptE"].indexOf(K.UndA.v.UndA)};az.Dspl.prototype.AK=function(K,E){if(this.ld.length==0)return;
K.DspF.v.pth=this.ld[E[0]];K.HrzS.v=E[1];K.VrtS.v=E[2];K.UndA.v.UndA=["WrpA","RptE"][E[3]]};az.Pnch=function(){az.call(this,"Pnch");
this.yD=[new bJ([12,57],-100,100,"%")];this.w9()};az.Pnch.prototype=new az;az["Plr "]=function(){az.call(this,"Plr ");
this.yD=[new fn(null,["Rect to Polar","Polar to Rect"])];this.w9()};az["Plr "].prototype=new az;az.Rple=function(){az.call(this,"Rple");
this.yD=[new bJ([12,57],-999,999),new aw([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];this.w9()};az.Rple.prototype=new az;
az["Shr "]=function(){az.call(this,"Shr ");this.yD=[new ke(!0,!0),new aw([24,18,0],[[24,18,3],[24,18,2]])];
this.w9()};az["Shr "].prototype=new az;az["Shr "].prototype.Sp=function(K,E){var x=new iQ(0,255/127,255/127,0,-2,128),c=JSON.parse(JSON.stringify(K.ShrP.v));
W.r9.u(c,x);E[0]=c;E[1]=["WrpA","RptE"].indexOf(K.UndA.v.UndA)};az["Shr "].prototype.AK=function(K,E){var x=new iQ(0,255/127,255/127,0,-2,128);
x.Pa();W.r9.u(E[0],x);K.ShrP.v=E[0];K.ShrE.v=E[0].length-1;K.UndA.v.UndA=["WrpA","RptE"][E[1]]};az.Sphr=function(){az.call(this,"Sphr");
this.yD=[new bJ([12,57],-100,100),new aw([12,36],[[15,10,0],[22,4,0],[22,4,1]])];this.w9()};az.Sphr.prototype=new az;
az.Sphr.prototype.Sp=function(K,E){E[0]=K.Amnt.v;E[1]=["Nrml","HrzO","VrtO"].indexOf(K.SphM.v.SphM)};
az.Sphr.prototype.AK=function(K,E){K.Amnt.v=E[0];K.SphM.v.SphM=["Nrml","HrzO","VrtO"][E[1]]};az.Dthr=function(){az.call(this,"Dthr");
this.yD=[new aw("Palette",[[4,7],"RGB 2x2x2","RGB 4x4x4","RGB 8x8x4"]),new fn("Method",["None","Floyd-Steinberg","Bayer 4x4"])];
this.w9()};az.Dthr.prototype=new az;az.Dthr.prototype.Sp=function(K,E){E[0]=K.Plte.v;E[1]=K.Mthd?K.Mthd.v:1};
az.Dthr.prototype.AK=function(K,E){K.Plte.v=E[0];K.Mthd.v=E[1]};az.Part=function(){az.call(this,"Part");
this.yD=[new bJ([15,5,1],0,100,"%"),new bJ([12,14,0],1,50,"px"),new bJ([12,34],0,100,"%"),new bJ([12,2],10,1e3,"%"),new eX(!0),new bJ("Time",0,1,null,3),new bJ("Turbulence",0,100,"%"),new jw("Blink"),new jw("Fall")];
this.w9([4])};az.Part.prototype=new az;az.Part.prototype.Sp=function(K,E){E[0]=K.Cont.v;E[1]=K.Size.v;
E[2]=K.Dpth.v;E[3]=K.Brgh.v;E[4]=K.Clr.v;E[5]=K.Time.v;E[6]=K.Turb.v;E[7]=K.Blnk.v;E[8]=K.Fall.v};az.Part.prototype.AK=function(K,E){K.Cont.v=E[0];
K.Size.v=E[1];K.Dpth.v=E[2];K.Brgh.v=E[3];K.Clr.v=E[4];K.Time.v=E[5];K.Turb.v=E[6];K.Blnk.v=E[7];K.Fall.v=E[8]};
az.Twrl=function(){az.call(this,"Twrl");this.yD=[new bJ([12,15],-999,999)];this.w9()};az.Twrl.prototype=new az;
az.Wave=function(){az.call(this,"Wave");this.afA=[1,2,3,4];this.yD=[new bJ("Number of Generators",1,100),new a4("Min Length",1,999),new a4("Max Length",1,999),new a4("Min Ampl.",1,999),new a4("Max Ampl.",1,999),new a4("Scale X",1,100,"%"),new a4("Scale Y",1,100,"%"),new fn([12,44],["Sine","Triangle",[12,93,3]]),new aw([24,18,0],[[24,18,3],[24,18,2]])];
this.w9()};az.Wave.prototype=new az;az.ZgZg=function(){az.call(this,"ZgZg");this.yD=[new bJ([12,57],-100,100),new bJ("Ridges",0,20),new aw([12,22],["Around Center","Out From Center","Pond Ripples"])];
this.w9()};az.ZgZg.prototype=new az;az.surfaceBlur=function(){az.call(this,"surfaceBlur");this.yD=[new bJ([12,56],1,200," px"),new bJ([4,13],1,255," px")];
this.w9()};az.surfaceBlur.prototype=new az;az.surfaceBlur.prototype.Sp=function(K,E){E[0]=K.Rds.v.val;
E[1]=K.Thsh.v};az.surfaceBlur.prototype.AK=function(K,E){K.Rds.v.val=E[0];K.Thsh.v=E[1]};az.AdNs=function(){az.call(this,"AdNs");
this.yD=[new bJ([12,57],0,200," %"),new aw([12,58],[[12,59,1],[12,59,0]]),new jw([12,60])];this.w9()};
az.AdNs.prototype=new az;az.DstS=function(){az.call(this,"DstS");this.yD=[new bJ([12,56],1,200," px"),new bJ([4,13],1,255," px")];
this.w9()};az.DstS.prototype=new az;az["Mdn "]=function(){az.call(this,"Mdn ");this.yD=[new bJ([12,56],1,200," px")];
this.w9()};az["Mdn "].prototype=new az;az["Mdn "].prototype.Sp=function(K,E){E[0]=K.Rds.v.val};az["Mdn "].prototype.AK=function(K,E){K.Rds.v.val=E[0]};
az.ClrH=function(){az.call(this,"ClrH");this.yD=[new bJ([12,56],4,100," px")];for(var y=1;y<4;y++)this.yD.push(new bJ("Angle "+y,0,90," \xB0"));
this.w9()};az.ClrH.prototype=new az;az.ClrH.prototype.Sp=function(K,E){E[0]=K.Rds.v;for(var y=1;y<4;
y++)E[y]=K["Ang"+y].v};az.ClrH.prototype.AK=function(K,E){K.Rds.v=E[0];for(var y=1;y<4;y++)K["Ang"+y].v=E[y]};
az.ClrH.prototype.f=function(){var K=this.yD;K[0].f();for(var y=1;y<4;y++)K[y].Q1(hg.get([12,15])+" "+y)};
az.Crst=function(){az.call(this,"Crst");this.yD=[new bJ([12,61],3,100," px")];this.w9()};az.Crst.prototype=new az;
az.Crst.prototype.Sp=function(K,E){E[0]=K.ClSz.v};az.Crst.prototype.AK=function(K,E){K.ClSz.v=E[0]};
az.Mztn=function(){az.call(this,"Mztn");this.yD.push(new aw([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),[4,3,3]));
this.ld="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.w9()};az.Mztn.prototype=new az;
az.Mztn.prototype.Sp=function(K,E){E[0]=this.ld.indexOf(K.MztT.v.MztT)};az.Mztn.prototype.AK=function(K,E){K.MztT.v.MztT=this.ld[E[0]]};
az["Msc "]=function(){az.call(this,"Msc ");this.yD=[new bJ([12,61],2,200," px")];this.w9()};az["Msc "].prototype=new az;
az["Msc "].prototype.Sp=function(K,E){E[0]=K.ClSz.v.val};az["Msc "].prototype.AK=function(K,E){K.ClSz.v.val=E[0]};
az.Pntl=function(){az.call(this,"Pntl");this.yD=[new bJ([12,61],3,100," px")];this.w9()};az.Pntl.prototype=new az;
az.Pntl.prototype.Sp=function(K,E){E[0]=K.ClSz.v};az.Pntl.prototype.AK=function(K,E){K.ClSz.v=E[0]};
az.smartSharpen=function(){az.call(this,"smartSharpen");this.yD=[new bJ([12,57],1,200,"%"),new bJ([12,56],0,200,"px",1,!0)];
this.w9()};az.smartSharpen.prototype=new az;az.smartSharpen.prototype.Sp=function(K,E){E[0]=K.Amnt?K.Amnt.v.val:200;
E[1]=K.Rds?K.Rds.v.val:1};az.smartSharpen.prototype.AK=function(K,E){K.Amnt.v.val=E[0];K.Rds.v.val=E[1]};
az.UnsM=function(){az.call(this,"UnsM");this.yD=[new bJ([12,57],1,200," %"),new bJ([12,56],.1,400,"px",1,!0),new bJ([4,13],0,255," ")];
this.w9()};az.UnsM.prototype=new az;az.HghP=function(){az.call(this,"HghP");this.yD=[new bJ([12,56],.1,400,"px",1,!0)];
this.w9()};az.HghP.prototype=new az;az.HsbP=function(){az.call(this,"HsbP");this.yD=[new fn("Input",["RGB","HSB","HSL"]),new fn("Output",["RGB","HSB","HSL"])];
this.w9()};az.HsbP.prototype=new az;az["Mxm "]=function(){az.call(this,"Mxm ");this.yD=[new bJ([12,56],.1,200," px",1,!0),new aw([12,76,1],[[12,93,3],"Circle"])];
this.w9()};az["Mxm "].prototype=new az;az["Mnm "]=function(){az.call(this,"Mnm ");this.yD=[new bJ([12,56],.1,200," px",1,!0),new aw([12,76,1],[[12,93,3],"Circle"])];
this.w9()};az["Mnm "].prototype=new az;az.Ofst=function(){az.call(this,"Ofst");this.yD=[new bJ([22,4,0],-1024,1024," px"),new bJ([22,4,1],-1024,1024," px"),new aw([24,18,0],[[24,18,2],[24,18,1],[24,18,3]])];
this.w9()};az.Ofst.prototype=new az;az.Kale=function(){az.call(this,"Kale");this.yD=[new a4("Mirrors",2,20),new a4([12,15],0,360,"\xB0")];
this.w9()};az.Kale.prototype=new az;az.Kale.prototype.Sp=function(K,E){E[0]=K.Mirr.v;E[1]=K.MRot.v};
az.Kale.prototype.AK=function(K,E){K.Mirr.v=E[0];K.MRot.v=E[1]};az.Rept=function(){az.call(this,"Rept");
this.yD=[new a4([12,38],1,300," %"),new a4("Row Shift",-50,50," %"),new a4("Space X",-99,200," %"),new a4("Space Y",-99,200," %"),new jw([4,16,2]),new jH([12,15])];
this.w9()};az.Rept.prototype=new az;az.Rept.prototype.Sp=function(K,E){E[0]=K.Scl.v.val;E[1]=K.Rsft.v.val;
E[2]=K.SpcX.v.val;E[3]=K.SpcY.v.val;E[4]=K.SpcC.v;E[5]=[K.Angl.v]};az.Rept.prototype.AK=function(K,E){K.Scl.v.val=E[0];
K.Rsft.v.val=E[1];K.SpcX.v.val=E[2];K.SpcY.v.val=E[3];K.SpcC.v=E[4];K.Angl.v=E[5][0];return K};az.Ctoa=function(){az.call(this,"Ctoa");
this.yD=[new jp([13,0]),new eX(!0),new bJ(["VAR0 VAR1","Transparency",[4,13]],0,100," %"),new bJ(["VAR0 VAR1",[12,0],[4,13]],0,100," %")];
this.w9()};az.Ctoa.prototype=new az;az.Ctoa.prototype.Sp=function(K,E){E[0]=K.Clr.v;E[1]=K.Trsp.v.val;
E[2]=K.Opct.v.val};az.Ctoa.prototype.AK=function(K,E){K.Clr.v=E[0];K.Trsp.v.val=E[1];K.Opct.v.val=E[2]};
az.LqFy=function(){az.call(this,"LqFy");this.e7=!1;this.k6=!1;this.Lb=null;this.aeZ=null;this.G=0;this.yL=-1;
this.a={GP:[[{G:{id:0,name:[24,1,0,1,0],AX:"liq/smudge"}}],[{G:{id:1,name:[24,1,0,1,1],AX:"liq/reconstruct"}}],[{G:{id:2,name:[24,1,0,1,2],AX:"liq/smooth"}}],[{G:{id:3,name:[24,1,0,1,3],AX:"liq/twirl"}}],[{G:{id:4,name:[24,1,0,1,4],AX:"liq/shrink"}}],[{G:{id:5,name:[24,1,0,1,5],AX:"liq/blow"}}],[{G:{id:6,name:[24,1,0,1,6],AX:"liq/pleft"}}],[{G:{id:7,name:"Hand",AX:"tools/hand"}}],[{G:{id:8,name:"Zoom In",AX:"zoomIn"}}],[{G:{id:9,name:"Zoom Out",AX:"zoomOut"}}]],keys:[]};
this.oI=new jL(this.a,!1);this.oI._P(0);this.oI.w(u.E.L,this.aa$,this);this.A3=jE.Ve();this.yb=null;
this.y_=[];this.YA=-1;this._$=null;this.at9=null;this.OW=null;this.pv=null;this.bE=null;var K=U.t("div","flexrow");
this.Zz=K;this.e.appendChild(K);K.appendChild(this.oI.e);this.view=new b3(!0);this.view.nt(100,100);
this.view.w("mousedown",this.EN,this);this.view.w("mousemove",this.fw,this);this.view.w("mouseup",this.eL,this);
this.view.w("zoom",this.vc,this);K.appendChild(this.view.e);var E=U.t("div","form");K.appendChild(E);
this.Sk=E;E.style.width="230px";this.yn=[new bJ([12,14,0],0,1e3,null,!1,!0),new bJ([12,74],0,100,null,!1,!1),new bJ([12,84],0,100,null,!1,!1),new jw([12,46]),new bJ([12,0],0,100,null,!1,!1),new jw([24,18,5])];
var x=this.A3.Brsh.v;x.Dmtr.v.val=100;var c=[100,50,100,!1,100,!0];for(var y=0;y<this.yn.length;y++){var J=this.yn[y];
J.$(c[y]);if(y==4)J.s1();J.w(u.E.A,this.ao4,this);E.appendChild(J.e)}var i=this.asZ=new cn([1,12,2],!0,null,!0);
i.w("click",this.e5,this);E.appendChild(i.e);this.a2s=this.iT.bind(this);this.xX=new fo;this.xX.e=U.t("div","floatcont");
this.Rj=new cn("Menu",!1,null,!0);var P=this.Rj.e;P.setAttribute("style","position:absolute; right:13px; top:47px");
U.gw(P,this.a3J.bind(this))};az.LqFy.prototype=new az;az.LqFy.prototype.UW=function(){return!0};az.LqFy.prototype.Nx=function(K){this.Sk.appendChild(K)};
az.LqFy.prototype.a3J=function(K){if(U.Of(this.xX.e))return;K.stopPropagation();var E=this.Rj.e.getBoundingClientRect();
this.xX.e.appendChild(this.Sk);var x=new i3(u.E.L,!0);x.data={_:u.c.gF,M8:this.xX,x:E.right+E.width-290,y:E.top+E.height};
this.S(x)};az.LqFy.prototype._G=function(K){this.e7=K.l(j6.iE);var E=$.Hj.f3(this.A3,K);if(E!=null){this.A3=E;
this.vc();this.yn[0].$(E.Brsh.v.Dmtr.v.val)}else if(K.l(j6.Se)&&K.l(j6.WV)){var x=this.y_;if(K.l(j6.iu)){if(this.YA+1<x.length)this.YA++}else if(this.YA>0)this.YA--;
this.yb.map=x[this.YA].slice(0);this.I5(null)}else if(this.G<=6)this.view._G(K);var c=this.G,J=-1,i=K.l(j6.iE);
if(i&&this.yL==-1){if(c==0)J=1;if(c==4)J=5;if(c==5)J=4;if(J!=-1)this.yL=c}if(!i&&this.yL!=-1){J=this.yL;
this.yL=-1}if(J!=-1){this.G=J;this.oI._P(this.G)}};az.LqFy.prototype.aa$=function(K){if(K.data._==u.c.iM){var E=this.G=K.data.G;
this.oI._P(this.G);this.view._G(E>6?b3.apw(E-7):new j6)}};az.LqFy.prototype.ao4=function(K){var E=K.currentTarget,y=this.yn.indexOf(E),x=this.A3.Brsh.v;
if(y==0){x.Dmtr.v.val=E.m();this.vc()}this.yn[4].Lk(this.yn[3].m());if(y>2)this.I5(null)};az.LqFy.prototype.Qd=function(){var K=this.y_;
this.YA++;K[this.YA]=this.yb.map.slice(0);while(K.length>this.YA+1)K.pop();while(K.length>50){K=K.slice(1);
this.YA--}};az.LqFy.prototype.EN=function(K){this.Lb=this.view.kA();this.aeZ=new iP(0,0);this.k6=!0;
window.requestAnimationFrame(this.a2s)};az.LqFy.prototype.fw=function(K){var E=this.view.kA(),x=new iP(E.x-this.Lb.x,E.y-this.Lb.y);
if(this.G==0||this.G==6)this.alR(x);this.Lb=E};az.LqFy.prototype.eL=function(K){this.Qd();this.k6=!1};
az.LqFy.prototype.iT=function(K){if(this.G!=0&&this.G!=6)this.alR(new iP(0,0));if(this.k6)window.requestAnimationFrame(this.a2s)};
az.LqFy.prototype.alR=function(K){var E=this.yb,x=E.pz/this._$.b,c=this.Lb,J=this.A3.Brsh.v,i=J.Dmtr.v.val,P=Date.now(),_=E.pz,a=E.o4,j=Math.sqrt(K.x*K.x+K.y*K.y),e=Math.max(1,Math.ceil(j/2)),d=K.x/e,I=K.y/e,v=c.clone(),n=this.G,C=this.yn[1].m()/100,T=this.yn[2].m()/100,o=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],s=o[n*2],Q=o[n*2+1],X=(1-C)*s+C*Q,B=i*x/2;
for(var y=0;y<e;y++){var M=[];v.x+=d;v.y+=I;W.u4.a5L(E.map,_,a,n,v.x*x,v.y*x,B,C,T,d*x,I*x,M,this.e7);
W.u4.axl(_,a,E.map,M,2*X*T)}var S=new cS(0,0,_,a),f=new cS(c.x*x,c.y*x,0,0);f.r1(i*x*.5,i*x*.5);var F=f.clone();
F.offset(K.x*x,K.y*x);f=f.XN(F);var G=new cS(f.x/x,f.y/x,f.b/x,f.n/x);G=W.p.OC(G).Sl(this._$);this.yn[5].$(!0);
this.I5(G)};az.LqFy.prototype.vc=function(){var K=bL.YL(this.A3,null,this.view.oJ().N);this.view.Zb(K)};
az.LqFy.prototype.$=function(K,E,x,c,J){x=x.clone();if(E==null)return;if(!c.ac(x)){var i=x.XN(c),P=W.Q(i.O()*4);
W.UL(E,x,P,i);E=P;x=i;var _=W.Q(i.O()*4);W.UL(J,c,_,i);J=_}x.x=x.y=0;this.OW=E;this.at9=J;this.bE=E.slice(0);
this.pv=E.slice(0);this._$=x;this.yb=bR.Sg(new Uint8Array(K.LqMe.v).buffer);var a=x.b,j=x.n;if(this.yb.pz/a<.22){this.yb={pz:Math.floor(a/4),o4:Math.floor(j/4)};
this.yb.map=new Float32Array(this.yb.pz*this.yb.o4*2)}this.y_=[];this.YA=-1;this.Qd();this.I5(null);
this.view.G1();this.vc()};az.LqFy.prototype.m=function(){var K=dJ.JQ("LqFy"),E=new Uint8Array(bR.sP(this.yb)),x=[];
for(var y=0;y<E.length;y++)x.push(E[y]);K.LqMe.v=x;return K};az.LqFy.prototype.nt=function(K,E){this.oI.nt(K,E);
var x=this.Rj.e,c=this.Sk;this.Zz.appendChild(c);this.Zz.appendChild(x);if(K>450&&K-E>200){c.style.marginLeft="1em";
this.Zz.removeChild(x);this.view.nt(K-238-45,E)}else{c.style.marginLeft="";this.Zz.removeChild(c);this.view.nt(K-40,E)}};
az.LqFy.prototype.f=function(){this.oI.f();this.asZ.f();for(var y=0;y<this.yn.length;y++)this.yn[y].f()};
az.LqFy.prototype.e5=function(){this.yb.map.fill(0);this.Qd();this.I5(null)};az.LqFy.prototype.I5=function(K){var E=this._$,x=this.OW,c=this.bE,J=this.yb;
if(this.yn[5].m())W.u4.PH(x,this.pv,E.b,E.n,K,J.map,J.pz,J.o4,0);else this.pv.set(x);if(this.yn[3].dn()){W.UL(this.at9,E,c,E,K?K:E);
W.h.Nh("norm",this.pv,E,c,E,K?K:E,this.yn[4].m()/100)}else W.dq(this.pv,c);this.view.$([{yA:E,data:c.buffer}])};
az.GEfc=function(){az.call(this,"GEfc");this.AY=0;this.oT=0;this.OW=null;this.bE=null;this._$=null;this.ll=null;
this.Qy=null;this.nH=0;var K=U.t("div","flexrow");this.Zz=K;this.e.appendChild(K);this.view=new b3(null);
this.view.nt(100,100);K.appendChild(this.view.e);this.pm="";this.uJ=270;var E=this._Q=U.t("div","form scrollable");
K.appendChild(E);E.setAttribute("style","width:"+this.uJ+"px;");var x=this.DR=U.t("div","form");K.appendChild(x);
x.setAttribute("style","width:230px;  margin:0 10px");this.PS={};for(var c in eD.names){var J=new az.GEfc.K5(c);
J.parent=this;this.PS[c]=J;J.w(u.E.A,this.aaG,this)}this.HM=!0;this.Rj=new cn("Menu",null,null,!0);this.Rj.w("click",this.adz,this);
K.appendChild(this.Rj.e);this.sw=new cn(">>",null,null,!0);this.sw.w("click",this.ax9,this);x.appendChild(this.sw.e);
this.sq=U.t("div");this.sq.setAttribute("style","margin-bottom:1.5em;  display:inline-block;  width:calc(100% - 40px);");
x.appendChild(this.sq);this.q7=U.t("div");this.q7.style.minHeight="14em";this.q7.style.marginBottom="1em";
x.appendChild(this.q7);this.nN=U.t("div","lpbody scrollable");this.Gd=U.t("div","lpfoot");x.appendChild(this.nN);
x.appendChild(this.Gd);this.w("click",this.asn,this);this.A8=[];br.dj([[5,3],[5,4]],this.A8,this.Gd,this.hx.bind(this))};
az.GEfc.prototype=new az;az.GEfc.prototype.UW=function(){return!0};az.GEfc.prototype.Nx=function(K){this.sq.appendChild(K)};
az.GEfc.prototype.Q3=function(K,E){this.ll=K};az.GEfc.prototype.ax9=function(K){var E=this._Q.style.display!="none";
this._Q.style.display=E?"none":"";this.sw.Q1(E?"<<":">>");this.nt()};az.GEfc.prototype.adz=function(K){this.HM=!this.HM;
this.nt()};az.GEfc.prototype.nt=function(K,E){var x=this._Q.style.display!="none";if(K!=null){this.AY=K;
this.oT=E;if(K<1e3&&x||K>=1e3&&!x){this.ax9();x=!x}this.HM=K>600}else{K=this.AY;E=this.oT}var c=this.HM?240+(x?this.uJ+10:0):0;
if(U.Of(this.DR)&&!this.HM){this.Zz.removeChild(this._Q);this.Zz.removeChild(this.DR)}if(!U.Of(this.DR)&&this.HM){this.Zz.appendChild(this._Q);
this.Zz.appendChild(this.DR)}this._Q.style.height=E+"px";this.view.nt(K-c,E);this.nN.style.height=E-Math.max(this.q7.getBoundingClientRect().height,186)-96+"px";
this.Rj.e.setAttribute("style","position:absolute; top:46px;  right:"+(c+16)+"px")};az.GEfc.prototype.agf=function(){var K=gr.nu.get("img/beach",!0)[0],E=K.yA,x=this._Q,c=Math.floor(U.V()*(this.uJ-40)/3),J=~~(c*.7),i=new cS(0,0,c,J),P=W.Q(c*J*4),_=P.slice(0),a=Math.round(10*U.V()),j=new ImageData(new Uint8ClampedArray(_.buffer),c,J);
W.UL(new Uint8Array(K.data),E,P,new cS(Math.round((E.b-c)/2),Math.round((E.n-J)/2),c,J));var e=U.t("canvas"),d=e.getContext("2d");
e.width=c;e.height=J+Math.round(a*1.5);d.font=a+"px sans-serif";this.hu={};var I=this.aqj.bind(this);
for(var y=0;y<eD.cz.length;y++){var v=eD.cz[y],n=U.t("div");x.appendChild(n);n.setAttribute("style","background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
n.textContent=hg.get(v);for(var C in eD.names){var T=eD.names[C];if(T[0]!=y)continue;eD.as(C,{rect:i,buffer:P},eD.JQ(C),{o:0,J:0,k:0},{o:255,J:255,k:255},{rect:i,buffer:_},{});
d.fillStyle="black";d.fillRect(0,0,500,500);d.putImageData(j,0,0);var o=hg.get(T[1]);d.fillStyle="white";
d.fillText(o,(c-d.measureText(o).width)/2,J+Math.round(a*1.1));var s=U.t("div");x.appendChild(s);s.setAttribute("style","display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
s.addEventListener("click",I,!1);var n=U.t("img");s.appendChild(n);n.setAttribute("src",e.toDataURL());
n.setAttribute("style","width:"+c/U.V()+"px; margin-bottom:0px;");this.hu[C]=s}}};az.GEfc.prototype.aqj=function(K){var E;
for(var x in this.hu)if(this.hu[x]==K.currentTarget)this.pm=x;this.aaG()};az.GEfc.prototype.hx=function(K){var E=br.Ek(this.A8,K),x=this.Qy.GEfs.v,c=x[this.nH].v;
if(E==0){x.push(JSON.parse(JSON.stringify(x[this.nH])));this.nH=x.length-1}else if(x.length>1){x.splice(this.nH,1);
if(this.nH==x.length)this.nH--}this.mm();this.I5()};az.GEfc.prototype.aaG=function(K){var E=this.pm,x;
if(K==null)x=eD.JQ(E);else x=this.PS[E].m();this.Qy.GEfs.v[this.nH].v=x;this.mm();this.I5()};az.GEfc.prototype.$=function(K,E,x,c,J){if(this.hu==null)this.agf();
K=this.Qy=JSON.parse(JSON.stringify(K));if(K.GEfs==null)K=this.Qy={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:K}]}};
var i=K.GEfs.v;for(var y=0;y<i.length;y++)if(i[y].v.GELv==null)i[y].v.GELv={t:"bool",v:!0};this.nH=i.length-1;
this.mm();x=x.clone();if(E==null)return;if(!c.ac(x)&&eD.t5(K).x!=0){var P=x.XN(c),_=W.Q(P.O()*4);W.UL(E,x,_,P);
E=_;x=P}x.x=x.y=0;this.OW=E;this.bE=E.slice(0);this._$=x;this.I5();this.view.G1()};az.GEfc.prototype.asn=function(K){var E=K.data,y=E.JD,x=this.Qy.GEfs.v;
if(E.EH){x[y].v.GELv.v=!x[y].v.GELv.v;this.I5()}else this.nH=y;this.mm()};az.GEfc.prototype.mm=function(){var K=this.Qy.GEfs.v,E=K[this.nH].v,x=E.GEfk.v.GEft,c=this.q7;
if(eD.names[x]==null){alert("Unsupported gallery filter");U.w6(c)}else{this.pm=x;for(var J in this.hu)U.gz(this.hu[J],"selected");
U.sy(this.hu[x],"selected");var i=this.PS[x];i.$(E);if(c.firstChild!=i.e){U.w6(c);c.appendChild(i.e)}}var P=[];
for(var y=0;y<K.length;y++){var _=K[y].v,a=eD.names[_.GEfk.v.GEft],j=new iV(y,!0,!0,null,a?a[1]:"Filter",y==this.nH,_.GELv.v);
j.parent=this;P.push(j.e)}U.w6(this.nN);P.reverse();for(var y=0;y<P.length;y++)this.nN.appendChild(P[y]);
this.nt()};az.GEfc.prototype.m=function(){return JSON.parse(JSON.stringify(this.Qy))};az.GEfc.prototype.I5=function(K){var E=this._$,x=this.OW,c=this.bE,J=this.pm,i=this.Qy,P=this.ll;
function _(a){return{o:a>>>16,J:a>>>8&255,k:a&255}}dJ.as("GEfc",{rect:this._$,buffer:this.OW},i,_(P.U9),_(P.xw),{rect:this._$,buffer:this.bE},null);
this.view.$([{yA:E,data:c.buffer}])};az.GEfc.prototype.f=function(){for(var K in this.PS)this.PS[K].f();
br.fR(this.A8,["lrs/newlayer","lrs/bin"])};az.GEfc.K5=function(K){fo.call(this);this.Iy=K;this.e=U.t("div");
this.Yn={};var E=eD.JQ(K);for(var x in E){var c=null;if(x=="__name"||x=="classID"||x=="GEfk"||x=="GELv"||["FlRs"].indexOf(x)!=-1)continue;
else if(x=="EdgW")c=new bJ("Edge Width",1,14);else if(x=="EdgB")c=new bJ("Edge Brightness",0,K=="AccE"?50:20);
else if(x=="Smth")c=new bJ([19,3,3],1,K=="Stmp"?50:15);else if(x=="ClSz")c=new bJ([12,61],3,100);else if(x=="BrdT")c=new bJ([7,9],1,20);
else if(x=="HghS")c=new bJ([12,64],0,20);else if(x=="HlSz")c=new bJ([12,14,0],1,15);else if(x=="Cntr")c=new bJ([12,3,0],0,K=="WtrP"?100:50);
else if(x=="Shrp")c=new bJ("Sharpness",0,40);else if(x=="SprR")c=new bJ("Spray Radius",0,25);else if(x=="LgDr")c=new bJ("Light/Dark Balance",0,K=="Stmp"?50:100);
else if(x=="Drkn")c=new bJ("Darkness",1,50);else if(x=="Dstr")c=new bJ("Distortion",0,20);else if(x=="Scln")c=new bJ([12,38],50,200);
else if(x=="Rlf")c=new bJ("Relief",0,K=="Ptch"||K=="NtPr"?25:50);else if(x=="ChAm")c=new bJ("Thickness",1,7);
else if(x=="Pncl")c=new bJ([19,2,5],1,30);else if(x=="StrP")c=new bJ("Stroke Pressure",0,15);else if(x=="PprB")c=new bJ("Paper Brightness",0,50);
else if(x=="BrsS")c=new bJ("Brush Size",0,10);else if(x=="BrsD")c=new bJ("Brush Detail",0,10);else if(x=="Txtr")c=new bJ([12,67],1,3);
else if(x=="Grn")c=new bJ("Grain",0,20);else if(x=="HghA")c=new bJ("Highlight Area",0,20);else if(x=="Intn")c=new bJ("Intensity",0,10);
else if(x=="Brgh")c=new bJ("Glow Brightness",0,K=="WtrP"?100:50);else if(x=="StrS")c=new bJ("Stroke Size",1,50);
else if(x=="StDt")c=new bJ("Stroke Detail",1,3);else if(x=="Sftn")c=new bJ("Softness",0,10);else if(x=="EdgT")c=new bJ("Edge Thickness",0,10);
else if(x=="EdgI")c=new bJ("Edge Intensity",0,10);else if(x=="Pstr")c=new bJ("Posterization",0,6);else if(x=="Dfnt")c=new bJ("Definition",0,25);
else if(x=="TxtC")c=new bJ("Texture Coverage",0,50);else if(x=="ShdI")c=new bJ("Shadow Intensity",0,10);
else if(x=="DrcB")c=new bJ("Direction Balance",0,100);else if(x=="Strg")c=new bJ([12,64],1,3);else if(x=="Blnc")c=new bJ("Balance",0,10);
else if(x=="BlcI")c=new bJ("Black Intensity",0,10);else if(x=="WhtI")c=new bJ("White Intensity",0,10);
else if(x=="DrkI")c=new bJ("Dark Intensity",0,50);else if(x=="LghI")c=new bJ("Light Intensity",0,50);
else if(x=="StrW")c=new bJ("Stroke Width",3,15);else if(x=="Grns")c=new bJ("Graininess",0,K=="NtPr"?20:10);
else if(x=="GlwA")c=new bJ("Glow Amount",0,20);else if(x=="ClrA")c=new bJ("Clear Amount",0,20);else if(x=="ChrA")c=new bJ("Charcoal Area",0,20);
else if(x=="ChlA")c=new bJ("Chalk Area",0,20);else if(x=="FrgL")c=new bJ("Foreground Level",1,15);else if(x=="BckL")c=new bJ("Background Level",1,15);
else if(x=="WhtL")c=new bJ("Background Level",0,50);else if(x=="BlcL")c=new bJ("Foreground Level",0,50);
else if(x=="ImgB")c=new bJ("Image Balance",0,50);else if(x=="Dnst")c=new bJ([12,74],0,50);else if(x=="FbrL")c=new bJ("Fiber Length",3,50);
else if(x=="CrcS")c=new bJ("Crack Sapcing",2,100);else if(x=="CrcD")c=new bJ("Crack Depth",0,10);else if(x=="CrcB")c=new bJ("Crack Brightness",0,10);
else if(x=="TlSz")c=new bJ("Tile Size",2,100);else if(x=="GrtW")c=new bJ("Grout Width",1,15);else if(x=="LghG")c=new bJ("Lighten Grout",0,10);
else if(x=="SqrS")c=new bJ("Square Size",0,10);else if(x=="RplS")c=new bJ("Ripple Size",1,15);else if(x=="RplM")c=new bJ("Ripple Magnitude",0,20);
else if(x=="NmbL")c=new bJ("Number of Levels",2,8);else if(x=="EdgS")c=new bJ("Edge Simplicity",0,10);
else if(x=="EdgF")c=new bJ("Edge Fidelity",1,3);else if(x=="Sz")c=K=="NGlw"?new bJ("Glow Size",-24,24):new bJ("Brush Size",1,50);
else if(x=="Dtl")c=K=="Chrc"?new bJ("Detail",0,5):new bJ("Detail",1,15);else if(x=="StrL")c=K=="InkO"?new bJ("Stroke Length",1,50):new bJ("Stroke Length",0,20);
else if(x=="TxtT")c=new aw([12,67],"Blocks,Canvas,Frosted,Tiny Lens,Bricks,Burlap,Sandstone".split(","));
else if(x=="BrsT")c=new aw("Brush Type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(x=="Grnt")c=new aw("Grain Type","Regular Soft Sprinkles Clumped Contrasty Enlarged Stippled Horizontal Vertical Speckle".split(" "));
else if(x=="SDir")c=new aw([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]);else if(x=="ScrT")c=new aw([12,62],["Circle","Dot",[10,35]]);
else if(x=="LghD"||x=="LghP")c=new aw("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(x=="Clr")c=new eX("Glow Color");else if(x=="InvT")c=new jw([4,11]);else console.log(x);c.w(u.E.A,this.m1,this);
c.parent=this;this.Yn[x]=c;this.e.appendChild(c.e)}};az.GEfc.K5.prototype=new fo;az.GEfc.K5.prototype.m1=function(K){this.S(new i3(u.E.A,!1))};
az.GEfc.a8y="Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM Pncl StrP PprB BrsS BrsD Txtr Grn HghA Intn Brgh Clr StrS StDt Sftn EdgT EdgI Pstr Dfnt TxtC ShdI DrcB Strg Blnc BlcI WhtI DrkI LghI StrW Grns GlwA ClrA ChrA ChlA FrgL BckL WhtL BlcL ImgB Dnst FbrL CrcS CrcD CrcB TlSz GrtW LghG SqrS NmbL EdgS EdgF".split(" ");
az.GEfc.K5.prototype.$=function(K){for(var E in this.Yn){var x;if(az.GEfc.a8y.indexOf(E)!=-1)x=K[E].v;
else if(E=="TxtT")x=eD.Ft.indexOf(K[E].v[E]);else if(E=="BrsT")x=eD.anW.indexOf(K[E].v[E]);else if(E=="LghD")x=eD.hA.indexOf(K[E].v[E]);
else if(E=="LghP")x=eD.nM.indexOf(K[E].v[E]);else if(E=="Grnt")x=eD.ny.indexOf(K[E].v[E]);else if(E=="ScrT")x=eD.t2.indexOf(K[E].v[E]);
else if(E=="SDir")x=eD.N4.indexOf(K[E].v.StrD);this.Yn[E].$(x)}};az.GEfc.K5.prototype.m=function(){var K=eD.JQ(this.Iy);
for(var E in this.Yn){var x=this.Yn[E].m();if(az.GEfc.a8y.indexOf(E)!=-1)K[E].v=x;else if(E=="TxtT")K[E].v[E]=eD.Ft[x];
else if(E=="BrsT")K[E].v[E]=eD.anW[x];else if(E=="LghD")K[E].v[E]=eD.hA[x];else if(E=="LghP")K[E].v[E]=eD.nM[x];
else if(E=="Grnt")K[E].v[E]=eD.ny[x];else if(E=="ScrT")K[E].v[E]=eD.t2[x];else if(E=="SDir")K[E].v.StrD=eD.N4[x]}return K};
az.GEfc.K5.prototype.f=function(){for(var K in this.Yn)this.Yn[K].f()};az["Adobe Camera Raw Filter"]=function(K){az.call(this,"Adobe Camera Raw Filter");
var E=this.e;this.aem=K;this.j9=null;this.Zy=null;this.qY=null;U.sy(E,"flexrow");var x=U.t("div"),c=U.t("div","padded");
E.appendChild(x);E.appendChild(c);this.Dy=new b3;x.appendChild(this.Dy.e);this.py=new hc(225);this.py.ST(4);
c.appendChild(this.py.e);this.yg=U.t("div");this.yg.setAttribute("style","width:18em;");c.appendChild(this.yg);
this.aqN=new jp("Hi",!0);this.yg.appendChild(this.aqN.e);this.wI=U.t("div","scrollable");this.yg.appendChild(this.wI);
this.Yn=[new bJ("Temperature",-100,100),new bJ("Tint",-100,100),new bJ([4,3],-4,4,null,!0),new bJ([12,3,0],-100,100),new bJ([4,4],-100,100),new bJ([12,9],-100,100)];
this.zQ="Temp Tint Ex12 Cr12 Vibr Strt".split(" ");for(var y=0;y<this.Yn.length;y++){var J=this.Yn[y];
J.$(0);J.w(u.E.A,this.I5,this);this.wI.appendChild(J.e);if(y==1||y==3)this.wI.appendChild(U.t("hr"))}};
az["Adobe Camera Raw Filter"].prototype=new az;az["Adobe Camera Raw Filter"].prototype.UW=function(){return!0};
az["Adobe Camera Raw Filter"].prototype.Nx=function(K){this.yg.appendChild(K)};az["Adobe Camera Raw Filter"].prototype.Q3=function(K,E){this.py.aD(cX.Cm[K.T8]["--text-color"])};
az["Adobe Camera Raw Filter"].prototype.$=function(K,E,x,c,J){this.Qy=K;var i=x.b,P=x.n,_=i*P;this.aqN.$(i+" x "+P+", "+(i*P/1e6).toFixed(1)+" MPx");
this._$=x;this.Zy=new Float32Array(i*P*3);this.qY=new Uint8Array(i*P*4);this.qY.fill(255);if(E instanceof Float32Array)this.j9=E;
else{var a=this.j9=new Float32Array(i*P*3);for(var y=0;y<_;y++){var j=y*3,e=y*4;a[j+0]=E[e+0]*(1/255);
a[j+1]=E[e+1]*(1/255);a[j+2]=E[e+2]*(1/255)}}var d=this.zQ;for(var y=0;y<d.length;y++){var I=d[y];this.Yn[y].$(K[I]?K[I].v:0)}this.I5(null,!0)};
az["Adobe Camera Raw Filter"].prototype.m=function(K){if(K)return this.qY;return JSON.parse(JSON.stringify(this.Qy))};
az["Adobe Camera Raw Filter"].prototype.ab6=function(){this.j9=null;this.Zy=null;this.qY=null};az["Adobe Camera Raw Filter"].prototype.I5=function(K,E){var x=this.zQ;
for(var y=0;y<x.length;y++){var c=x[y];this.Qy[c]={t:c=="Ex12"?"doub":"long",v:this.Yn[y].m()}}var J=this._$,i=J.O();
hU(this.j9,J.b,J.n,this.Zy,this.Qy,this.aem);var P=Date.now(),_=this.Zy,a=this.qY;for(var y=0;y<i;y++){var j=y*3,e=y*4;
a[e+0]=~~(.5+_[j+0]*255);a[e+1]=~~(.5+_[j+1]*255);a[e+2]=~~(.5+_[j+2]*255)}console.log(Date.now()-P,"integer conversion");
P=Date.now();var d=W.ZT(a,Math.max(1,Math.floor(i/2e5)));this.py.$(d);console.log(Date.now()-P,"histogram done");
P=Date.now();this.Dy.$([{yA:J,data:a.buffer}]);if(E)this.Dy.G1()};az["Adobe Camera Raw Filter"].prototype.nt=function(K,E){this.agq=K-248;
this.agv=E;this.Dy.nt(this.agq,this.agv);this.wI.style.height=E-236+"px"};az["Adobe Camera Raw Filter"].prototype.f=function(){for(var y=0;
y<this.Yn.length;y++)this.Yn[y].f()};az.blnc=function(){az.call(this);var K=this.e;this.VX=null;this.lK=new aw([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
this.lK.w(u.E.A,this.I5,this);K.appendChild(this.lK.e);this.nR=[];for(var y=0;y<3;y++){var E=new bJ(["VAR0 - VAR1",c2.aaT[y],c2.V2[y]],-100,100);
E.w(u.E.A,this.gY,this);this.nR.push(E);K.appendChild(E.e)}this.L8=new jw([13,4]);this.L8.w(u.E.A,this.gY,this);
K.appendChild(this.L8.e)};az.blnc.prototype=new az;az.blnc.prototype.f=function(){this.lK.f();for(var y=0;
y<3;y++)this.nR[y].f();this.L8.f()};az.blnc.prototype.$=function(K){this.VX=JSON.parse(JSON.stringify(K));
this.I5()};az.blnc.prototype.m=function(K){var E=["ShdL","MdtL","HghL"],x=this.VX[E[this.lK.m()]].v;
for(var y=0;y<3;y++)x[y].v=this.nR[y].m();this.VX.PrsL.v=this.L8.m();return JSON.parse(JSON.stringify(this.VX))};
az.blnc.prototype.I5=function(K){var E=["ShdL","MdtL","HghL"],x=this.VX[E[this.lK.m()]].v;for(var y=0;
y<3;y++)this.nR[y].$(x[y].v);this.L8.$(this.VX.PrsL.v)};az.brit=function(){az.call(this,"brit");this.yD.push(new bJ([12,2],-150,150,""));
this.yD.push(new bJ([12,3,0],-100,100,""));this.yD.push(new jw([12,3,1]));this.w9()};az.brit.prototype=new az;
az.curv=function(){az.call(this);this.value=null;this.lf=null;this.ll=null;var K=this.e;this.pb=new aw("Preset",["basic","advanced"]);
this.pb.w(u.E.A,this.a0U,this);K.appendChild(this.pb.e);U.R0(K);this.B3=new aw([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.B3.w(u.E.A,this.tO,this);K.appendChild(this.B3.e);this.Uh=new aw(null,["Spline","Sketch"]);this.Uh.w(u.E.A,this.a0U,this);
K.appendChild(this.Uh.e);this.ar=new e3;this.ar.parent=this;this.ar.w(u.E.A,this.hc,this);K.appendChild(this.ar.e);
U.R0(K);this.xu=new ke;this.xu.w(u.E.A,this.OH,this);K.appendChild(this.xu.e);this.TB=null;this.ac6=0;
this.c_=0;U.R0(K);this.$s=new iM("Sample from image",fn.b9(["-\u2195","#000000","#888888","#ffffff"]),!0,null,!0);
this.$s.w(u.E.A,this.BE,this);this.$s.e.style.marginRight="0";K.appendChild(this.$s.e)};az.curv.prototype=new az;
az.curv.prototype.Q3=function(K,E){if(E==eu.$r||E==eu.mD){var x=K.B2,c=["Default"];for(var y=0;y<x.length;
y++)c.push(x[y].presetFileName.v);c.push("Custom");this.pb.C8(c,[1,x.length,1]);this.ll=K}};az.curv.prototype.nt=function(K,E){this.xu.nt(K,E)};
az.curv.prototype.f=function(){this.B3.f();this.xu.f()};az.curv.prototype.O5=function(){this.pb.$(this.ll.B2.length+1)};
az.curv.prototype.a0U=function(K){if(K.target==this.pb){var E=this.pb.m(),x=this.ll.B2,c;if(E==0)c=dJ.JQ("curv");
else if(E-1<x.length)c=JSON.parse(JSON.stringify(x[E-1]));else return;this.$(c);this.gY();return}this.O5();
var J=hb.GE(this.value,0),i=J.length==256?1:0,P=this.Uh.m();if(i==P)return;var c=dJ.JQ("curv");if(P==1){var _=[];
for(var y=0;y<256;y++)_.push(y);hb.l2(c,0,_)}this.$(c);this.gY()};az.curv.prototype.OH=function(){this.O5();
hb.l2(this.value,this.B3.m(),this.xu.m());this.gY()};az.curv.prototype.tO=function(){var K=this.B3.m(),E=hb.GE(this.value,K),x=E.length==256?1:0;
this.Uh.$(x);if(this.lf)this.xu.g5(this.lf[K],this.lf[4]*[1,.33,.33,.33][K],["#ccc","#fcc","#cfc","#ccf"][K]);
this.xu.$(E)};az.curv.prototype.Qh=function(){return!0};az.curv.prototype.zb=function(K,E,x,c,J){var i=this.value;
this.value=dJ.JQ("curv");this.gY();var P=$.QS.hn(K,J,1),_=this.TB=[P>>>16&255,P>>>8&255,P&255];this.ac6=J.y;
var a=this.$s.m().indexOf(!0);if(a==0){var j=(_[0]+_[1]+_[2])/3,e=this.B3.m(),d=hb.GE(i,e),I=e==0?j:_[e-1],v=-1;
for(var y=0;y<d.length;y++)if(d[y].v.Hrzn.v==I)v=y;if(v==-1){var n=JSON.parse(JSON.stringify(d[0]));
n.v.Hrzn.v=I;n.v.Vrtc.v=I;d.push(n);d.sort(function(C,T){return C.v.Hrzn.v-T.v.Hrzn.v});hb.l2(i,e,d);
this.c_=d.indexOf(n)}else this.c_=v}this.$(i);this.gY()};az.curv.prototype.il=function(K,E,x,c,J){if(this.TB==null)return;
if(this.$s.m().indexOf(!0)==0){var i=this.value,P=this.B3.m(),_=hb.GE(i,P),a=_[this.c_];a.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(a.v.Hrzn.v+(this.ac6-J.y))));
hb.l2(i,P,_);this.$(i);this.gY()}};az.curv.prototype.N2=function(K,E,x,c,J){var i=this.value,P=this.TB,_=(P[0]+P[1]+P[2])/3,a=this.$s.m().indexOf(!0)-1;
if(a<=-1){}else for(var y=0;y<3;y++){var j=hb.GE(i,1+y);if(a==0)j[0].v.Hrzn.v=P[y];if(a==1){var e=Math.log(P[y]/255)/Math.log(_/255),d=Math.min(999,Math.max(10,Math.round(100*e)));
if(j.length==2)j.splice(1,0,JSON.parse(JSON.stringify(j[0])));j[1].v.Hrzn.v=127-Math.log(d/100)*127;
j[1].v.Vrtc.v=127}if(a==2)j[j.length-1].v.Hrzn.v=P[y];hb.l2(i,1+y,j)}this.$(i);this.gY();this.O5();this.TB=null};
az.curv.prototype.$=function(K){this.value=K;this.tO()};az.curv.prototype.g5=function(K){this.lf=K;this.tO()};
az.curv.prototype.m=function(K){return JSON.parse(JSON.stringify(this.value))};az.curv.prototype.hc=function(){var K=this.ar.m(),E=this.lf,x=this.value,c=W.h$(K,E);
for(var y=0;y<4;y++){var J=c[y][0],i=c[y][1],P=c[y][2],_=[W.r9.w7(J,0,!0),W.r9.w7(i,255,!0)];if(P!=null)_.splice(1,0,W.r9.w7(128,P,!0));
hb.l2(x,y,_)}this.tO();this.gY()};az.expA=function(){az.call(this,"expA");this.yD.push(new bJ([12,5],-20,20,null,2,!0));
this.yD.push(new bJ([12,6],-.5,.5,null,2));this.yD.push(new bJ([12,7],.01,9.99,null,2,!0));this.w9()};
az.expA.prototype=new az;az.expA.prototype.Sp=function(K,E){E[0]=K.Exps.v;E[1]=K.Ofst?K.Ofst.v:0;E[2]=K.gammaCorrection?K.gammaCorrection.v:1};
az.expA.prototype.AK=function(K,E){K.Exps={t:"doub",v:E[0]};K.Ofst={t:"doub",v:E[1]};K.gammaCorrection={t:"doub",v:E[2]}};
az.grdm=function(){az.call(this,"grdm");this.yD.push(new au(!0,null,!0));this.yD.push(new jw([12,23,0]));
this.w9()};az.grdm.prototype=new az;az.grdm.prototype.Sp=function(K,E){E[0]=K.Grad.v;E[1]=K.Rvrs?K.Rvrs.v:!1};
az.grdm.prototype.AK=function(K,E){K.Grad.v=E[0];K.Rvrs={t:"bool",v:E[1]}};az.grdm.prototype.Q3=function(K,E){this.yD[0].Zx(K.U9,K.xw);
if(E==eu.$r||E==eu.Fa||E==eu.B5)this.yD[0].ly(K.zd)};az.selc=function(){az.call(this);var K=this.e;this.CC=[];
this.L7=null;this.lK=new aw([12,82],c2.Ka.concat([[13,1,8],[13,1,13],[13,1,10]]));this.lK.w(u.E.A,this.m1,this);
K.appendChild(this.lK.e);U.R0(K);for(var y=0;y<4;y++){var E=new bJ(c2.aaT[y],-100,100,"%");E.w(u.E.A,this.m1,this);
this.CC.push(E);K.appendChild(E.e)}this.AT=new jw([13,3]);K.appendChild(this.AT.e);this.AT.w(u.E.A,this.m1,this)};
az.selc.prototype=new az;az.selc.prototype.f=function(){this.lK.f();this.AT.f();for(var y=0;y<4;y++)this.CC[y].f()};
az.selc.prototype.$=function(K){this.L7=JSON.parse(JSON.stringify(K));this.I5()};az.selc.prototype.m=function(K){return JSON.parse(JSON.stringify(this.L7))};
az.selc.prototype.m1=function(K){if(K.target!=this.lK){var E=this.L7,x=[];for(var y=0;y<4;y++)x[y]=this.CC[y].m();
jO.l2(E,this.lK.m(),x);E.Mthd={t:"enum",v:{CrcM:this.AT.m()?"Absl":"Rltv"}}}this.I5();this.gY()};az.selc.prototype.I5=function(){var K=this.L7,E=jO.GE(K,this.lK.m());
for(var y=0;y<4;y++)this.CC[y].$(E[y]);this.AT.$(K.Mthd?K.Mthd.v.CrcM=="Absl":!1)};az.blwh=function(){az.call(this,"blwh");
this.yD.push(new jw([12,11]));this.yD.push(new eX(!0));for(var y=0;y<6;y++)this.yD.push(new bJ(c2.Ka[y],-200,300));
this.w9()};az.blwh.prototype=new az;az.blwh.prototype.Sp=function(K,E){E[0]=K.useTint.v;E[1]=K.tintColor.v;
var x="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var y=0;y<6;y++)E[2+y]=K[x[y]].v};az.blwh.prototype.AK=function(K,E){K.useTint.v=E[0];
K.tintColor.v=E[1];var x="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var y=0;y<6;y++)K[x[y]].v=E[2+y]};
az.hue2=function(){az.call(this);this.value=null;this.UO=null;this.adU=null;this.Ct=[[0,0,0],[0,50,0]];
var K=this.e;this.$s=new iM(null,["\u2194"],!0,["Click and drag in image to change saturation"],!0);
this.$s.w(u.E.A,this.alY,this);this.$s.w(u.E.A,this.BE,this);K.appendChild(this.$s.e);var E=this.yD=[new aw([12,12],["Master"].concat(c2.Ka)),new bJ([12,8],-180,180),new bJ([12,9],-100,100),new bJ([12,10],-100,100),new jw([12,11])];
for(var y=0;y<E.length;y++){var x=E[y];x.w(u.E.A,y==0?this.tO:this.a4D,this);K.appendChild(x.e)}this.lK=E[0];
this.Vy=E[1];this.$d=E[2];this.eW=E[3];this._6=E[4];this.cH=new iM("Sample Hue",["<img src=\""+PIMG["tools/eyedropper"]+"\" class=\"autoscale gsicon\" />","+","-"],!0,null,!0);
this.cH.w(u.E.A,this.alY,this);this.cH.w(u.E.A,this.BE,this);this.cH.e.style.marginLeft="20px";K.appendChild(this.cH.e);
this.bQ=U.t("div");K.appendChild(this.bQ);this.DL=this.IK.bind(this);this.ql=this.S6.bind(this);this.T=U.t("canvas");
this.gI=this.T.getContext("2d");this.fJ=null;U.hr(this.T);U.CL(this.T,282,18);K.appendChild(this.T);
U.gw(this.T,this.BA.bind(this))};az.hue2.prototype=new az;az.hue2.prototype.nt=function(K,E){U.CL(this.T,Math.round(K),18);
if(this.value)this.tO()};az.hue2.prototype.alY=function(K){var E=K.target.m().indexOf(!0);if(E==-1)return;
if(K.target==this.$s)this.cH.$([!1,!1,!1]);else this.$s.$([!1,!1,!1])};az.hue2.prototype.BA=function(K){if(this.lK.m()==0||this._6.m())return;
var E=U.bf(K,this.T).x/(this.T.width/U.V()),i=1e6;function x(d,I,v){return d<I&&I<v||v<d&&(d<I||I<v)}var c=this.Mb(),J=-1;
for(var y=0;y<4;y++){var P=Math.abs(E-(c[y]+y*1e-5));if(P<i){i=P;J=y}}if(i>.025){J=-1;var _=c[0],a=c[1],j=c[2],e=c[3];
if(x(_,E,a))J=4;if(x(a,E,j))J=5;if(x(j,E,e))J=6}if(J==-1)return;this.fJ=J;U.nx(document.body,this.DL);
U.xz(document.body,this.ql)};az.hue2.prototype.IK=function(K){var E=U.bf(K,this.T).x/(this.T.width/U.V()),x=this.Mb(),c=this.fJ;
for(var y=1;y<4;y++)if(x[y]<x[y-1]){x[y]+=1}if(c<4){var J=1e6,i=0;for(var y=-20;y<20;y++){var P=Math.abs(x[c]-(E+y));
if(P<J){J=P;i=y}}E+=i;x[c]=E;for(var y=c+1;y<4;y++)if(x[y]<x[y-1]){x[y]=x[y-1]}for(var y=c-1;y>=0;y--)if(x[y]>x[y+1]){x[y]=x[y+1]}}else{var _=E-(x[c-4]+x[c-3])/2;
if(_<-.5)_+=1;if(c==4){x[0]+=_;x[1]+=_;x[2]=Math.max(x[1],x[2]);x[3]=Math.max(x[1],x[3])}if(c==5)for(var y=0;
y<4;y++)x[y]+=_;if(c==6){x[2]+=_;x[3]+=_;x[0]=Math.min(x[0],x[2]);x[1]=Math.min(x[1],x[2])}}for(var y=1;
y<4;y++)if(x[y]<x[y-1])throw"e";this.a0h(x);this.tO();this.gY()};az.hue2.prototype.S6=function(K){U.PL(document.body,this.DL);
U.KR(document.body,this.ql)};az.hue2.prototype.f=function(){for(var y=0;y<this.yD.length;y++)this.yD[y].f()};
az.hue2.prototype.a4D=function(K){var E=this.value.Clrz.v=this._6.m();if(E)this.lK.$(0);if(K&&K.target==this._6){var x=E?1:0;
this.Ct[1-x]=c7.GE(this.value,0);var c=this.Ct[x];c7.l2(this.value,0,c);if(this.lK.m()==0){this.Vy.$(c[0]);
this.$d.$(c[1]);this.eW.$(c[2])}}var J=this.lK.m(),i=c7.GE(this.value,J),c=J==0?i:i.nR;c[0]=this.Vy.m();
var P=this.$d.m();c[1]=E?Math.max(0,P):P;c[2]=this.eW.m();c7.l2(this.value,J,i);this.tO();this.gY()};
az.hue2.prototype.tO=function(){var K=this.lK.m(),E=this.value.Clrz?this.value.Clrz.v:!1;this._6.$(E);
this.lK.Lk(!E);this.cH.Lk(!E&&K!=0);var x=c7.GE(this.value,K),c=K==0?x:x.nR;this.Vy.$(c[0]);this.$d.$(c[1]);
this.eW.$(c[2]);var J=this.T.width,i=this.T.height,P=this.gI;P.clearRect(0,0,J,i);if(E||K==0){this.bQ.innerHTML="";
return}var _=x.zN;this.bQ.innerHTML=_[0]+"\xB0 / "+_[1]+"\xB0<span style=\"float:right\">"+_[2]+"\xB0 \\ "+_[3]+"\xB0</span>";
var a=W.Q(J*4);jQ.asS(a,1,J,-1,.5);var j=new ImageData(new Uint8ClampedArray(a.buffer),J,1),e=Math.round(i/4);
for(var y=0;y<e;y++)P.putImageData(j,0,y);function d(o,s,Q){P.fillStyle=Q;var X=e*2;if(o<=s)P.fillRect(o*J,X,(s-o)*J,e);
else{P.fillRect(0,X,s*J,e);P.fillRect(o*J,X,(1-o)*J,e)}}var I=this.Mb();d(I[0],I[1],"#888888");d(I[1],I[2],"#cccccc");
d(I[2],I[3],"#888888");P.fillStyle="#ffffff";P.lineWidth=1;P.beginPath();var v=e+.5,n=4*e+.5;for(var y=0;
y<4;y++){var C=Math.floor(J*I[y])+.5,T=(y<2?-1:1)*e*(y==1||y==2?1:2);P.moveTo(C,v);P.lineTo(C,n);P.lineTo(C+T,n);
P.lineTo(C+T,e+e+.5);P.closePath()}P.fill();P.stroke()};az.hue2.prototype.Mb=function(){var K=this.lK.m(),E=c7.GE(this.value,K).zN;
for(var y=0;y<4;y++)E[y]=(1000.5+E[y]/360)%1;return E};az.hue2.prototype.a0h=function(K){var E=this.lK.m(),x=c7.GE(this.value,E);
for(var y=0;y<4;y++)x.zN[y]=Math.round(36e3+(K[y]-.5)*360)%360;c7.l2(this.value,E,x)};az.hue2.prototype.Qh=function(){return!0};
az.hue2.prototype.asV=function(){var K=this.$s.m().indexOf(!0),E=this.cH.m().indexOf(!0);return K!=-1?K:E!=-1?E+1:-1};
az.hue2.prototype.zb=function(K,E,x,c,J){var i=this.asV();if(i==-1)return;var P=this.value;this.value=dJ.JQ("hue2");
this.gY();var _=$.QS.hn(K,J,1);this.$(P);var a=[_>>>16&255,_>>>8&255,_&255],j=W.Rv(a[0]/255,a[1]/255,a[2]/255);
if(i==0){this.lK.$(1+Math.round(j.o4*6)%6)}else{var e=this.Mb(),d=.5+j.o4,I=1/12,v=e[1],n=e[2];if(n<v){n++;
if(d<v&&d+1-n<v-d)d++}var C=v<=d&&d<=n;if(i==1){v=d-I/2;n=d+I/2}else if(i==2&&!C){v=Math.min(d,v);n=Math.max(d,n)}else if(i==3&&C){if(d-v<n-d)v=d;
else n=d}e=[v-I,v,n,n+I];this.a0h(e)}this.gY();this.UO=J.x;this.adU=this.$d.m()};az.hue2.prototype.il=function(K,E,x,c,J){var i=this.asV();
if(i==-1)return;if(i==0){if(this.UO!=null){var P=J.x-this.UO;P=Math.max(-100,Math.min(100,this.adU+.5*P));
this.$d.$(P);this.a4D()}}};az.hue2.prototype.N2=function(K,E,x,c,J){this.UO=null};az.hue2.prototype.$=function(K){this.value=JSON.parse(JSON.stringify(K));
var E=this.value.Clrz?this.value.Clrz.v:!1;this.Ct[E?1:0]=c7.GE(this.value,0);this.tO()};az.hue2.prototype.m=function(K){return JSON.parse(JSON.stringify(this.value))};
az.levl=function(){function K(){az.call(this);this.value=null;this.lf=null;this.k7=[new iP(0,0),new iP(0,0),new iP(0,0),new iP(0,0),new iP(0,0)];
this.jj=-1;this.DL=this.IK.bind(this);this.ql=this.S6.bind(this);var E=this.e;this.B3=new aw([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.B3.w(u.E.A,this.tO,this);E.appendChild(this.B3.e);this.ar=new e3;this.ar.parent=this;this.ar.w(u.E.A,this.hc,this);
E.appendChild(this.ar.e);var x=U.t("div","");E.appendChild(x);var c=U.t("div","");E.appendChild(c);this.T=U.t("canvas");
x.appendChild(this.T);this.gI=this.T.getContext("2d");this.Bb=new iP(256,120);this.T.setAttribute("style","display:block");
U.hr(this.T);U.gw(this.T,this.BA.bind(this));this.s$=U.t("canvas","");c.appendChild(this.s$);this.Ti=this.s$.getContext("2d");
this.G_=new iP(this.Bb.x,40);this.s$.setAttribute("style","display:block");U.hr(this.s$);U.gw(this.s$,this.akA.bind(this));
var J=this.Ko=[];for(var y=0;y<5;y++){var i=new ay(null,null,3);J.push(i);i.w(u.E.A,this.a2e,this);(y<2||y==4?x:c).appendChild(i.e)}x.appendChild(J[1].e);
this.$s=new iM("Sample from image",fn.b9(["#000000","#888888","#ffffff"]),!0,null,!0);this.$s.w(u.E.A,this.BE,this);
E.appendChild(this.$s.e);this.nt(250,100)}K.prototype=new az;K.prototype.hc=function(){var E=this.ar.m(),x=this.lf,c=this.value,J=W.h$(E,x);
for(var y=0;y<4;y++){var i=J[y][0],P=J[y][1],_=J[y][2],a=[W.r9.w7(i,0,!0),W.r9.w7(P,255,!0)];if(_!=null)a.splice(1,0,W.r9.w7(128,_,!0));
var j=[~~i,~~P,0,255,_==null?100:~~(100+.75*100*(_-128)/128)];bH.l2(c,y,j)}this.tO();this.gY()};K.prototype.nt=function(E,x){E+=6;
this.Bb.x=this.G_.x=E;U.CL(this.T,E,this.Bb.y,this.gI);U.CL(this.s$,E,this.G_.y,this.Ti);var c=this.Ko;
c[3].e.setAttribute("style","margin-left: "+(E-104)+"px");c[4].e.setAttribute("style","margin: 0 "+(E/2-74)+"px");
if(this.value)this.tO()};K.prototype.f=function(){this.B3.f()};K.prototype.a2e=function(E){var x=[];
for(var y=0;y<5;y++){var c=255,J=1;if(y==4){c=999;J=100}var i=parseFloat(this.Ko[y].m());x[y]=Math.max(0,Math.min(c,i*J))}bH.l2(this.value,this.B3.m(),x);
this.tO();this.gY()};K.prototype.tO=function(E){var x=this.Bb.x,c=this.Bb.y,J=this.B3.m(),i=this.gI;
i.clearRect(0,0,x,c);i.fillStyle="#cccccc";i.fillRect(8,8,x-16,c-16-8);if(this.lf){var P=this.lf[0].slice(0),n=0;
if(J==0){P.fill(0);var _=JSON.parse(JSON.stringify(this.value));bH.l2(_,0,[0,255,0,255,100]);var a=c2.We("levl",_),j=[a.ay,a.oM,a.i0];
for(var e=0;e<3;e++){var d=this.lf[1+e],I=j[e];for(var y=0;y<256;y++)P[I[y]]+=d[y]}}var v=J==0?P:this.lf[J];
for(var y=0;y<v.length;y++)n+=v[y];i.fillStyle="#333333";i.beginPath();i.moveTo(8,c-16);for(var y=0;
y<256;y++){var C=55*v[y]/n;i.lineTo(8+y/256*(x-16),Math.max(8,c-16-c*C))}i.lineTo(x-8,c-16);i.closePath();
i.fill()}var T=bH.GE(this.value,J);for(var y=0;y<5;y++)this.Ko[y].$(T[y]/(y==4?100:1));this.k7[0].tn(8+T[0]/255*(x-16),c-14);
this.k7[1].tn(8+T[1]/255*(x-16),c-14);var o=Math.log(T[4]/100)/Math.log(9.99);o=.5-o/2;this.k7[4].tn(this.k7[0].x+o*(this.k7[1].x-this.k7[0].x),c-14);
this.tC(i,this.k7[0],"#000000");this.tC(i,this.k7[1],"#ffffff");this.tC(i,this.k7[4],"#777777");var x=this.G_.x,c=this.G_.y;
i=this.Ti;i.clearRect(0,0,x,c);var s=i.createLinearGradient(0,0,x-16,0);s.addColorStop(0,"black");s.addColorStop(1,"white");
i.fillStyle=s;i.fillRect(8,8,x-16,16);this.k7[2].tn(8+T[2]/255*(x-16),c-14);this.k7[3].tn(8+T[3]/255*(x-16),c-14);
this.tC(i,this.k7[2],"#000000");this.tC(i,this.k7[3],"#ffffff")};K.prototype.tC=function(E,x,c){E.fillStyle=c;
E.fillRect(x.x-5,x.y,10,10)};K.prototype.BA=function(E){var x=U.bf(E,this.T),c=this.a54([0,1,4],x);if(c!=-1)this.jj=c;
this.agD()};K.prototype.akA=function(E){var x=U.bf(E,this.s$),c=this.a54([2,3],x);if(c!=-1)this.jj=c;
this.agD()};K.prototype.a54=function(E,x){var c=-1,J=1e9;for(var y=0;y<E.length;y++){var i=Math.abs(this.k7[E[y]].x-x.x);
if(i<J){J=i;c=E[y]}}return J<16?c:-1};K.prototype.agD=function(E){if(this.jj==-1)return;U.nx(document.body,this.DL);
U.xz(document.body,this.ql)};K.prototype.IK=function(E){var x=bH.GE(this.value,this.B3.m()),c=U.bf(E,this.jj==2&&this.jj==3?this.s$:this.T),J=255*(c.x-8)/(this.Bb.x-16);
J=Math.max(0,Math.min(255,J));if(this.jj==0)J=Math.min(J,x[1]-2);if(this.jj==1)J=Math.max(J,x[0]+2);
if(this.jj!=4)x[this.jj]=Math.round(J);else{var i=(J-x[0])/(x[1]-x[0]);i=1-2*i;i=Math.pow(9.99,i);x[4]=Math.min(999,Math.max(10,Math.round(i*100)))}bH.l2(this.value,this.B3.m(),x);
this.tO();this.gY()};K.prototype.S6=function(E){U.PL(document.body,this.DL);U.KR(document.body,this.ql);
this.jj=-1};K.prototype.Qh=function(){return!0};K.prototype.N2=function(E,x,c,J,i){var P=this.value,_=this.$s.m().indexOf(!0);
if(_==-1)return;this.value=dJ.JQ("levl");this.gY();var a=$.QS.hn(E,i,1),j=[a>>>16&255,a>>>8&255,a&255];
for(var y=0;y<3;y++){var e=bH.GE(P,1+y);if(_==0)e[0]=j[y];if(_==1){var d=Math.log(j[y]/255)/Math.log((j[0]+j[1]+j[2])*.333/255);
e[4]=Math.min(999,Math.max(10,Math.round(100*d)))}if(_==2)e[1]=j[y];bH.l2(P,1+y,e)}this.$(P);this.gY()};
K.prototype.$=function(E){this.value=E;this.tO()};K.prototype.g5=function(E){this.lf=E;this.tO()};K.prototype.m=function(E){return JSON.parse(JSON.stringify(this.value))};
return K}();az.phfl=function(){az.call(this,"phfl");this.yD.push(new eX);this.yD.push(new bJ([12,74],0,100,"%"));
this.yD.push(new jw([13,4]));this.w9()};az.phfl.prototype=new az;az.phfl.prototype.Sp=function(K,E){E[0]=K.Clr.v;
E[1]=K.Dnst.v;E[2]=K.PrsL.v};az.phfl.prototype.AK=function(K,E){var x=W.M.Et(E[0]),c=K.Clr.v,J=W.bK(x.o,x.J,x.k);
c.Lmnc.v=J.sm;c.A.v=J.Cc;c.B.v=J.k;K.Dnst.v=E[1];K.PrsL.v=E[2]};az.vibA=function(){az.call(this,"vibA");
this.yD.push(new bJ([12,13],-100,100,null));this.yD.push(new bJ([12,9],-100,100,null));this.w9()};az.vibA.prototype=new az;
az.vibA.prototype.Sp=function(K,E){E[0]=K.vibrance?K.vibrance.v:0;E[1]=K.Strt?K.Strt.v:0};az.vibA.prototype.AK=function(K,E){K.vibrance.v=E[0];
K.Strt.v=E[1]};az.thrs=function(){az.call(this,"thrs");this.yD.push(new bJ([4,13],1,255,null));this.w9()};
az.thrs.prototype=new az;az.thrs.prototype.Sp=function(K,E){E[0]=K.Lvl.v};az.thrs.prototype.AK=function(K,E){K.Lvl.v=E[0]};
az.mixr=function(){az.call(this);var K=this.e;this.CC=[];this.L7=null;this.lK=new aw([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.a9v=!1;this.lK.w(u.E.A,this.m1,this);K.appendChild(this.lK.e);U.R0(K);this.Od=new jw([12,60]);K.appendChild(this.Od.e);
this.Od.w(u.E.A,this.m1,this);for(var y=0;y<4;y++){var E=new bJ([[13,1,1],[13,1,4],[13,1,5],[13,2]][y],-200,200,"%");
E.w(u.E.A,this.m1,this);this.CC.push(E);K.appendChild(E.e)}};az.mixr.prototype=new az;az.mixr.prototype.f=function(){this.lK.f();
this.Od.f();for(var y=0;y<4;y++)this.CC[y].f()};az.mixr.prototype.$=function(K){this.L7=JSON.parse(JSON.stringify(K));
this.I5()};az.mixr.prototype.m=function(K){return JSON.parse(JSON.stringify(this.L7))};az.mixr.prototype.m1=function(K){if(K.target!=this.lK){var E=c2.p$(this.L7);
if(K.target==this.Od){E.Od=this.Od.m();if(E.Od)E.Z=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else E.Z=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var x=(E.Od?0:this.lK.m())*5,y=this.CC.indexOf(K.target);
E.Z[x+(y<3?y:4)]=K.target.m()}this.L7=c2.a79(E)}this.I5();this.gY()};az.mixr.prototype.I5=function(){var K=c2.p$(this.L7);
if(K.Od!=this.a9v)this.lK.C8(K.Od?[[13,1,7]]:c2.V2);this.a9v=K.Od;this.Od.$(K.Od);var E=(K.Od?0:this.lK.m())*5;
for(var y=0;y<4;y++)this.CC[y].$(K.Z[E+(y<3?y:4)])};az.post=function(){az.call(this,"post");this.yD.push(new bJ([4,1],2,255,null));
this.w9()};az.post.prototype=new az;az.post.prototype.Sp=function(K,E){E[0]=K.Lvls.v};az.post.prototype.AK=function(K,E){K.Lvls.v=E[0]};
az.clrL=function(){az.call(this,"clrL");this.yD.push(new cf("LUTs"));this.w9()};az.clrL.prototype=new az;
az.clrL.prototype.Sp=function(K,E){E[0]=K};az.clrL.prototype.AK=function(K,E){var x=E[0];for(var c in x)K[c]=x[c]};
az.clrL.prototype.Q3=function(K,E){if(E==eu.$r||E==eu.ZQ)this.yD[0].ly(K.ahe)};az.rplc=function(){az.call(this,"rplc");
this.yD.push(new bJ([12,92],0,200));this.yD.push(new eX);this.yD.push(new bJ([12,8],-180,180));this.yD.push(new bJ([12,9],-100,100));
this.yD.push(new bJ([12,10],-100,100));this.w9()};az.rplc.prototype=new az;az.rplc.prototype.Sp=function(K,E){E[0]=K.Fzns.v;
E[1]=K.Mxm.v;E[2]=K.H.v;E[3]=K.Strt.v;E[4]=K.Lght.v};az.rplc.prototype.AK=function(K,E){function x(J,i){i.Lmnc.v=J.sm;
i.A.v=J.Cc;i.B.v=J.k}K.Fzns.v=E[0];K.H.v=E[2];K.Strt.v=E[3];K.Lght.v=E[4];var c=W.M.Et(E[1]),J=W.bK(c.o,c.J,c.k);
x(J,K.Mnm.v);x(J,K.Mxm.v)};az.fade=function(){az.call(this,"fade");this.yD.push(new bJ([12,0],0,100,"%"));
this.yD.push(new aw([12,19,0],db.n7,db.eP));this.w9()};az.fade.prototype=new az;az.fade.prototype.Sp=function(K,E){E[0]=K.Opct.v.val;
E[1]=db.ws.indexOf(K.Md.v.BlnM)};az.fade.prototype.AK=function(K,E){K.Opct.v.val=E[0];K.Md.v.BlnM=db.ws[E[1]]};
az.aply=function(){var K=db.ws.concat(["Add","Sbtr"]);K.splice(21,1);var E=db.n7.concat([[15,10,28],[15,10,21]]);
E.splice(21,1);var x=db.eP.slice(0);x[4]--;function c(){az.call(this,"aply");this.yD.push(new aw([0,3],[]));
this.yD.push(new aw([12,4],["RGB"].concat(c2.V2).concat(["Transparency"])));this.yD.push(new jw([4,11]));
this.yD.push(new aw([12,19,0],E,x));this.yD.push(new bJ([12,0],0,100,"%"));this.yD.push(new eW([12,38],1,2,null,2));
this.yD.push(new eW([12,6],-255,255));this.yD.push(new jw([13,5]));this.w9([2]);this.r5=null}c.prototype=new az;
c.prototype.Sp=function(J,i,P){if(P){var _=P[2].B,a=this.r5=[];for(var y=0;y<_.length;y++){var j=_[y].getName();
a.push(j.length<30?j:j.slice(0,27)+"...")}a.reverse();this.yD[0].C8([[5,7]].concat(a),[1,a.length])}else var a=this.r5;
J=J.With.v;var e=J.T.v;i[0]=e[1].t=="name"?1+a.indexOf(e[1].v.val):0;i[1]=["RGB","Rd","Grn","Bl","Trsp"].indexOf(e[0].v.enum);
i[2]=J.Invr.v;var d=J.Clcl.v.Clcn;i[3]=K.indexOf(d);i[4]=J.Opct.v.val;i[5]=J.Scl.v;i[6]=J.Ofst.v;i[7]=J.PrsT.v};
c.prototype.AK=function(J,i){J=J.With.v;var P=J.T.v;if(i[0]==0)P[1]={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}};
else P[1]={t:"name",v:{classID:"Lyr",val:this.r5[i[0]-1]}};P[0].v.enum=["RGB","Rd","Grn","Bl","Trsp"][i[1]];
J.Invr.v=i[2];var _=J.Clcl.v.Clcn=K[i[3]];J.Opct.v.val=i[4];J.Scl.v=i[5];J.Ofst.v=i[6];J.PrsT.v=i[7];
var a=_=="Add"||_=="Sbtr";this.yD[5].Lk(a);this.yD[6].Lk(a)};return c}();az.matc=function(){var K,E,x=0;
function c(){az.call(this,"matc");this.yD.push(new bJ("Luminance",1,200));this.yD.push(new bJ("Color Intensity",1,200));
this.yD.push(new bJ([2,11],0,100,"%"));this.yD.push(new jw("Neutralize"));this.yD.push(new aw([12,70],[]));
this.yD.push(new aw([0,3],[]));this.w9([2])}function J(i,P){i.yD[5].C8([[5,7]].concat(P),[1,P.length])}c.prototype=new az;
c.prototype.Sp=function(i,P,_){x=0;P[0]=i.Lght.v;P[1]=i.ClrR.v;P[2]=i.Fade.v;P[3]=i.neutralizeColor?i.neutralizeColor.v:!1;
P[4]=P[5]=0;var a=i.Srce;if(a)a=a.v;if(_){K=[];E=[];var j=_[2],e=_[3];for(var y=0;y<e.length;y++){var d=e[y];
K.push(d.name);var I=d.B,v=[];E.push(v);for(var n=0;n<I.length;n++)v.push(I[n].getName());v.reverse()}this.yD[4].C8([[13,1,0]].concat(K),[1,K.length]);
var C=e.indexOf(j);if(a)C=K.indexOf(a[1].v.val);J(this,E[C])}if(a){var T=K.indexOf(a[1].v.val);P[3]=x=1+T;
if(a[0].t=="name")P[4]=1+E[T].indexOf(a[0].v.val)}};c.prototype.AK=function(i,P){i.Lght.v=P[0];i.ClrR.v=P[1];
i.Fade.v=P[2];i.neutralizeColor.v=P[3];if(P[4]==0){i.noReference={t:"bool",v:!0};delete i.Srce}else{if(P[4]!=x){x=P[4];
J(this,E[P[4]-1])}delete i.noReference;var _={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}},a=E[P[4]-1];
if(P[5]!=0)_={t:"name",v:{classID:"Lyr",val:a[P[5]-1]}};i.Srce={t:"obj ",v:[_,{t:"name",v:{classID:"Dcmn",val:K[P[4]-1]}}]}}};
return c}();function cm(K,E){fo.call(this);if(K==null)return;this.id=E;this.XX=K;this.MY=null;this.e=U.t("div","window "+E);
this.au5=null;this.YE=U.t("div","whead");this.asO=U.t("span","wname");this.YE.appendChild(this.asO);
this.aa5=!1;this.e.appendChild(this.YE);this.LX=this.aw3.bind(this);this.hI=this.ayj.bind(this);this.Fc=this.a8O.bind(this);
U.hr(this.YE);U.gw(this.YE,this.LX);this.a1o=U.t("span","cross gsicon");this.YE.appendChild(this.a1o);
cm.prototype.f.call(this);U.xz(this.a1o,this.ajO.bind(this));this.body=U.t("div","body");this.e.appendChild(this.body)}cm.prototype=new fo;
cm.prototype.eb=function(){return!1};cm.prototype.Qh=function(){return!1};cm.prototype.f=function(){if(this.XX==null)return;
this.asO.textContent=hg.get(this.XX)};cm.prototype.zb=function(K,E,x,c,J){};cm.prototype.Sb=function(K,E,x,c,J){};
cm.prototype.il=function(K,E,x,c,J){};cm.prototype.N2=function(K,E,x,c,J){};cm.prototype.oG=function(K,E,x,c,J){};
cm.prototype._G=function(K,E,x,c){if(c.l(j6.Tt)&&this.OQ)this.OQ();if(c.l(j6.Se)){var J=new i3(u.E.v);
J.s9=!0;$.gM.ayW(c,J);if(J.data)E.S(J)}};cm.prototype.Xo=function(K){return!1};cm.prototype.qO=function(K,E){return!0};
cm.prototype.jG=function(K,E,x,c){};cm.prototype.Q3=function(K,E){};cm.prototype.Hb=function(K,E){return null};
cm.prototype.azo=function(K){return this.au5};cm.prototype.nt=function(){};cm.prototype.close=function(){this.S(new i3(u.E.rL))};
cm.prototype.aw3=function(K){this.MY=U.bf(K,this.e);U.nx(window,this.hI);U.xz(window,this.Fc)};cm.prototype.ayj=function(K){var E=this.e.parentNode,x=U.bf(K,E),c=Math.round(x.x-this.MY.x),J=E.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(x.y-this.MY.y)));
this.au5=new iP(c,J);this.e.style.left=c+"px";this.e.style.top=J+"px"};cm.prototype.a8O=function(K){U.PL(window,this.hI);
U.KR(window,this.Fc)};cm.prototype.ajO=function(K){if(this.aa5){this.OQ();return}this.S(new i3("closebtn"));
this.close()};function cP(){cm.call(this,"About Photopea","aboutpp");var K=U.t("div","flexrow");this.body.appendChild(K);
var E=this.ar6=U.t("img");K.appendChild(E);this.body.setAttribute("style","margin:0; padding:0");var x=this.aeu=U.t("div");
x.innerHTML=cP.lB;K.appendChild(x);var c=this.dv=U.t("span");c.innerHTML="<big style=\"text-shadow: 2px 2px 3px #000000;\">Ivan holding Photopea in Prague</big>";
this.body.appendChild(c)}cP.prototype=new cm;cP.prototype.Hb=function(K,E){return new iP(0,0)};cP.prototype.nt=function(K,E){var x=this.ar6,c=this.aeu,J=this.dv,i=(K+E-42-42)/110;
i=Math.sqrt((K-42)*(E-42))/50;x.setAttribute("style","width:"+K/2+"px; height:"+E+"px; display:block; object-fit:cover;");
c.setAttribute("style","width:"+(K/2-42)+"px; height:"+(E-42)+"px; padding:20px; font-size:"+i+"px;");
J.setAttribute("style","position:absolute;  bottom:10px; right:"+(K/2+10)+"px")};cP.prototype.f=function(){};
cP.prototype.jG=function(K,E,x,c){this.ar6.setAttribute("src","promo/ivan_pp.webp")};cP.lB="\t<h1>Hi There!</h1>\t<p>My name is <b>Ivan Kutskir</b> and I'm the creator of Photopea.</p>\t<p>I'm a 30-year-old computer programmer. I was born in Ukraine, but I live in the Czech Republic most of my life (in <b>Prague</b> since 2009).</p>\t<p>I started developing Photopea back in 2012. I intended to call it <b>Photo Hammer</b>, \tbut I didn't register the .com domain right away, and when I tried to do so six months later, it was already taken.</p>\t\t<p>My friends and my family did not know about Photopea during the first four years of development.\tI was spending a lot of time building it, without making any money or learning new skills. So nothing to be proud of, \tbut the project was fun and I enjoyed working on it.\t</p>\t<p>\tNow, it's heartwarming to know that millions around the world use Photopea as their creative medium. \tTo this day I work on Photopea, driven by the positive impact of my creation.\t</p>\t\t<!--<p>You can not be completely sure if something is a good or a bad idea, until you actually try to do it.</p>-->\t\t<p style=\"text-align:right;\"><i><big>Ivan Kutskir</big><br/>support@photopea.com</i></p>\t";
function eO(){cm.call(this,[0,13,0],"account");this.yg=U.t("div","form scrollable");this.body.appendChild(this.yg);
this.body.style.padding="0";this.QP=[new eO.Ye,new eO.j5("::privacy.html"),new eO.j5(eO.aoz)];for(var y=0;
y<this.QP.length;y++)this.QP[y].parent=this;this.w("showpage",this.a6i,this)}eO.prototype=new cm;eO.prototype.qO=function(K,E){var x=navigator.onLine;
if(!x)alert("Go online first");return x};eO.prototype.nt=function(K,E){this.yg.setAttribute("style","width:"+Math.min(K-40,740)+"px;  height:"+(E-38)+"px;  padding:1.5em;");
this.QP[0].nt(K,E)};eO.prototype.Hb=function(K,E){return new iP(Math.max(0,Math.min(150,(K-740)/2)),Math.max(0,Math.min(100,(E-500)/2)))};
eO.prototype.a6i=function(K){U.w6(this.yg);this.yg.scrollTop=0;this.yg.appendChild(this.QP[K.data.JD].e)};
eO.prototype.f=function(){cm.prototype.f.call(this);for(var y=0;y<this.QP.length;y++)this.QP[y].f()};
eO.prototype.jG=function(K,E,x){if(!navigator.onLine)return;U.w6(this.yg);var c=this.QP[0];this.yg.appendChild(c.e);
c.jG();this.f()};eO.prototype.Q3=function(K,E){this.jG(null,null,null)};eO.Ye=function(){fo.call(this);
this.e=U.t("div");var K=this.e,_,a,e="font-size:1.25em;",d="text-align:center;",v="style=\"list-style-type: none; padding:0;  margin:0; font-size:1.15em;\"",n="style=\"font-weight:bold; color:#00aa00; padding-right:4px;\"",C="style=\"width:50%; vertical-align:top; padding:10px 20px;\"",o=12;
this.$g=U.t("div");K.appendChild(this.$g);this.jC=new cn([0,11],!1,null,!0);this.jC.e.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.jC.w("click",this.KQ,this);K.appendChild(this.jC.e);this.J1=new cn([0,13,1],!1,null,!0);this.J1.w("click",this.ae$,this);
K.appendChild(this.J1.e);this.WS=new cn("Business Terms",!1,null,!0);this.WS.w("click",this.avo,this);
K.appendChild(this.WS.e);var E=U.t("div");E.style.margin="20px 0";K.appendChild(E);var x=["Account Types","Go Premium","Team Settings","Distributors"],c=this.Oj=[],J=this.axt=[],i=this.E5=U.t("div");
K.appendChild(i);for(var y=0;y<x.length;y++){var P=U.t("span");P.textContent=x[y];E.appendChild(P);c.push(P);
P.setAttribute("style","font-weight:bold; display:inline-block;  margin-right:2em; font-size:1.1em; cursor:pointer;");
P.addEventListener("click",this.U5.bind(this));J.push(U.t("div"))}this.U5(0);var j=this.akq="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; color:#ffffff; cursor:pointer; margin:4px 0; width:100%;";
K=J[0];var a=U.t("table"),I="style=\" "+d+e+" padding-bottom:20px;\"";a.innerHTML="\t\t\t<tr>\t\t\t\t<th>FREE</th><th>PREMIUM</th>\t\t\t</tr>\t\t\t<tr>\t\t\t\t<td "+C+">\t\t\t\t\t<div "+I+">\t\t\t\t\t\t<sup>$</sup><big><big><b>0</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+n+">\u2713</span> All Features</li>\t\t\t\t\t\t</ul>\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t\t<td "+C+">\t\t\t\t\t<div "+I+">\t\t\t\t\t\tFrom <sup>$</sup><big><big><b>3.33</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+n+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+n+">\u2713</span> No Ads <a href=\"//www.photopea.com/promo/no_ads.png\" target=\"_blank\">\uD83D\uDC41</a></li>\t\t\t\t\t\t\t<li><span "+n+">\u2713</span> 2\xD7 more steps in history</li> \t\t\t\t\t\t\t<li><span "+n+">\u2713</span> quick <a href=\"mailto:support@photopea.com\">email support</a></li> \t\t\t\t\t\t</ul>\t\t\t\t\t\t<span style=\"margin:10px 0 12px 0; font-size:0.75em;\">* No subscription, just one-time payments</span> \t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t</tr>\t\t";
K.appendChild(a);var P=new cn("Go Premium");P.e.setAttribute("style",j+"padding:10px 0;");P.w("click",function(X){this.U5(1)},this);
a.children[0].children[1].children[1].appendChild(P.e);this.HF=U.t("div");K.appendChild(this.HF);K=J[1];
var T=this.atG=[[9,30,1],[10,90,1],[40,365,1],[15,30,5],[30,90,5],[120,365,5],[50,30,20],[100,90,20],[400,365,20],[100,30,50],[200,90,50],[800,365,50],[40,30,1e3],[80,90,1e3],[300,365,1e3],[100,30,5e3],[200,90,5e3],[700,365,5e3],[200,30,2e4],[400,90,2e4],[1400,365,2e4]];
this.rI=[];for(var y=0;y<T.length;y++)this.rI.push(new cn("Buy: $"+T[y][0],!1,null,!0));for(var y=0;
y<this.rI.length;y++){this.rI[y].w("click",this.avu,this)}this.Jy=new cn("...",!0);this.Jy.e.setAttribute("style",j);
K.appendChild(this.Jy.e);a=this.a1k(4,["Single user",this.rI[0],this.rI[1],this.rI[2],"Team of 5",this.rI[3],this.rI[4],this.rI[5],"Team of 20",this.rI[6],this.rI[7],this.rI[8],"Team of 50",this.rI[9],this.rI[10],this.rI[11]]);
K.appendChild(a);this.akc=new jw("I accept",!0,"");K.appendChild(this.akc.e);this.K6=new cn([0,13,1],!1,null,!0);
this.K6.w("click",this.ae$,this);K.appendChild(this.K6.e);this.xR=new cn("I have a key",!1,null,!0);
this.xR.e.setAttribute("style",j+" float:right; width:inherit;");this.xR.w("click",this.avu,this);K.appendChild(this.xR.e);
K=J[2];this.aG=new jF;this.aG.parent=this;this.aG.w(u.E.A,this.n5,this);K.appendChild(this.aG.e);K=J[3];
this.I2=new cn("...",!0);this.I2.e.setAttribute("style",j);K.appendChild(this.I2.e);a=this.a1k(3,["1000 views/mo",this.rI[o++],this.rI[o++],this.rI[o++],"5000 views/mo",this.rI[o++],this.rI[o++],this.rI[o++],"20000 views/mo",this.rI[o++],this.rI[o++],this.rI[o++]]);
K.appendChild(a);var s=U.t("p");s.innerHTML="Insert Photopea into your webpage, with no ads, under your own brand \t\t... <a href=\"https://www.photopea.com/api/accounts#distributors\" target=\"_blank\" style=\"color:inherit;\">More</a>";
K.appendChild(s);this.Tp=new ay("Domain name (e.g. domain.com)",null,14);K.appendChild(this.Tp.e);var Q=new cn("Save Domain Settings",!1,null,!0);
Q.Kv();K.appendChild(Q.e);Q.w("click",this.axq,this)};eO.Ye.prototype=new fo;eO.Ye.prototype.U5=function(K){var E=typeof K=="number"?K:this.Oj.indexOf(K.target);
for(var y=0;y<4;y++)this.Oj[y].style.opacity=.6;this.Oj[E].style.opacity=1;U.w6(this.E5);this.E5.appendChild(this.axt[E])};
eO.Ye.prototype.nt=function(K,E){var x=K<600?"d":" days",c=["30 days","90 days","365 days"];if(K<600)c=["30d","90d","365d"];
var J=this.atG;for(var y=0;y<J.length;y++){this.rI[y].Q1("<span>"+c[y%3]+": <sup>$</sup><big><b>"+J[y][0]+"</b></big>"+"</span>");
this.rI[y].e.setAttribute("style",this.akq)}};eO.Ye.prototype.ae$=function(K){var E=new i3("showpage",!0);
E.data={JD:1};this.S(E)};eO.Ye.prototype.avo=function(K){var E=new i3("showpage",!0);E.data={JD:2};this.S(E)};
eO.Ye.prototype.f=function(){this.jC.Q1(dq.Zc()?hg.get([0,11]):hg.get([0,10]));this.K6.f();this.J1.f();
this.WS.f()};eO.Ye.prototype.a2X=function(K){var E=new i3(u.E.L,!0);E.data={_:u.c.$X,link:"https://www.photopea.com/api/accounts#"+(K.target==this.aks?"teams":"distributors")};
this.S(E)};eO.Ye.prototype.aaF=function(K){var E=K.currentTarget==this.aog;this.aog.$(E);this.az0.$(!E)};
eO.Ye.prototype.aea=function(K){var E=this.aog.m(),x=this.akd.m().trim().toLowerCase(),c=this.adC.value.trim().toLowerCase();
if(x.length>60){alert("Too long email address");return}if(c.length>600){alert("Too many team members");
return}c=c.split(",").join(" ").trim();c=c.replace(/\s+/g," ");if(c=="")c=[];else c=c.split(" ");var J=dq.b5();
if(J==null)J={};if(J.acc==null)J.acc={};J.acc.team={jin:E,ldr:x,mmb:c};dq.S9(J,this.n5.bind(this));alert("Saved!");
this.jG()};eO.Ye.prototype.axq=function(K){var E=this.Tp.m().trim();if(!dq.Zc()){alert("You have to log in first.");
return}if(dq.we()==0){alert("Order a distributor account first.");return}var x=dq.b5();if(x==null)x={};
if(x.acc==null)x.acc={};if(E=="")delete x.acc.dname;else x.acc.dname=E;dq.S9(x,this.n5.bind(this));alert("Saved!");
this.jG()};eO.Ye.prototype.a4m=function(K){var E=dq.A9(),y=this.p6,x=dq.b5();if(x==null)x={};if(x.acc==null)x.acc={};
x.acc.bto=K;dq.S9(x,function(){});var c=eO.ajq(K.split("\n"),E.pmnts[y]);hP.save(c,"photopea_invoice.pdf")};
eO.Ye.prototype.ajQ=function(K){var E=dq.A9(),x=dq.b5(),c=x.acc?x.acc.bto:null;if(c==null)c=E.name+"\n"+E.email;
var y=-1,J=K.target.e.parentNode;while((J=J.previousSibling)!=null)y++;this.p6=y;var i=new i3(u.E.L,!0);
i.data={_:u.c.v9,xc:"billto",_5:c,sO:this.a4m.bind(this)};this.S(i)};eO.Ye.prototype.jG=function(){this.$g.innerHTML="";
U.w6(this.HF);if(dq.Zc()){var K=dq.A9(),E=K.pmnts;if(K==null)return;this.$g.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+K.name+"</span> "+K.email+" <br/>";
if(E){var x="<h2>Payments</h2>";for(var y=0;y<E.length;y++){var c=E[y],J=new Date(c[0]*1e3);x+="<div style=\"font-size:1.2em\">"+J.getDate()+". "+(J.getMonth()+1)+". "+J.getFullYear()+" - "+eO.ak1(c)+"</div>"}this.HF.innerHTML=x;
for(var y=0;y<E.length;y++){var i=new cn("Get Invoice",!1,null,!0);i.e.setAttribute("style","float:right");
i.w("click",this.ajQ,this);this.HF.children[y+1].appendChild(i.e)}}}else{}var P=dq.Zc()&&dq.bI();this.Jy.e.style.display=P?"block":"none";
if(P){var _,a,j=P;if(j[0]==0){_=dq._1(j[1])-Date.now()*(1/1e3);a=j[1][2]==1?"Single User":"Team Of "+j[1][2]}else{_=j[1][1]-Date.now()*(1/1e3);
a="Member of \""+j[1][0]+"\""}this.Jy.Q1("Premium active for "+Math.round(_/(60*60*24))+" more days! ("+a+")")}var e=dq.Zc()&&dq.we()*1e3>Date.now();
this.I2.e.style.display=e?"block":"none";if(e){var _=dq.we()-Date.now()/1e3;this.I2.Q1("Distributor active for "+Math.round(_/(60*60*24))+" more days!")}var d=dq.b5();
this.aG.jG();if(d&&d.acc&&d.acc.dname)this.Tp.$(d.acc.dname);else this.Tp.$("")};eO.Ye.prototype.a1k=function(K,E){var x=U.t("table");
if(!0){var c="<table><tr>";for(var y=0;y<K;y++)c+="<th>"+E[y*4]+"</th>";c+="</tr></table>";x.innerHTML=c;
for(var y=0;y<3;y++){var J=U.t("tr"),i;x.appendChild(J);for(var P=0;P<K;P++){i=U.t("td");i.style.width=Math.round(100/K)+"%";
J.appendChild(i);i.appendChild(E[P*4+1+y].e)}}}return x};eO.Ye.prototype.avu=function(K){var E=this.rI.indexOf(K.currentTarget),c=30,J=1;
if(!dq.Zc()){this.KQ();return}if(this.akc.m()==!1&&E<12){alert("You must accept Terms of Service");return}var x=dq.Zc()&&dq.bI();
if(E!=-1){var i=this.atG[E];c=i[1];J=i[2]}if(x&&J<1e3){alert("You already have premium.");return}console.log(i,c,J);
if(E==-1){var P=prompt("Please enter your key");if(P!=null){dq.a0d(P,this.n5.bind(this));this.ee()}return}if(c==30&&J==1){var _=confirm("You can have a 90 days version for $10. Do you still want a 30 days version for $9?");
if(!_)return}dq.order(c,J,this.n5.bind(this));this.ee()};eO.Ye.prototype.n5=function(K){this.jG();this.ee()};
eO.Ye.prototype.KQ=function(K){if(dq.Zc()){dq.ajr();this.ee();this.jG(null,null,null)}else dq.KQ(this.amP.bind(this))};
eO.Ye.prototype.amP=function(){var K=new i3(u.E.L,!0);K.data={_:u.c.ajC};this.S(K)};eO.Ye.prototype.ee=function(){var K=new i3(u.E.L,!0);
K.data={_:u.c.aaz};this.S(K)};eO.j5=function(K){fo.call(this);this.e=U.t("div");var E=this.e,x=this.a1z=new cn([0,13,2],!1,null,!0),c;
x.w("click",this.aev,this);E.appendChild(x.e);if(K.startsWith("::")){c=U.t("iframe");c.setAttribute("style","width:100%;height:1700px; background-color:white;");
c.setAttribute("src",K.slice(2))}else{c=U.t("div");c.innerHTML=K}E.appendChild(c)};eO.j5.prototype=new fo;
eO.j5.prototype.aev=function(K){var E=new i3("showpage",!0);E.data={JD:0};this.S(E)};eO.j5.prototype.f=function(){this.a1z.f()};
eO.aoz="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (I\u010C 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: H\xE1lkova 483, 517 41 Kostelec nad Orlic\xED, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Refund Policy</h1>\t\t<p>You can ask for a refund by writing us an email to support@photopea.com and. \t\tWe offer only one kind of service, and if you have been refunded in the past, you can not get another refund.\t\t</p>\t\t<h1>Terms of Delivery</h1>\t\t<p>You can pay with a debit or a credit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t\t<h1>Payment Provider</h1>\t\t<p>Payments are provided by <a style=\"color:white\" href=\"https://www.comgate.cz/cz/platebni-brana\">ComGate pamyments, a.s</a>.</p>\t\t<ul>\t\t\t<li>ComGate Payments, a.s.</li>\t\t\t<li>Go\u010D\xE1rova t\u0159\xEDda 1754 / 48b, Hradec Kr\xE1lov\xE9</li>\t\t\t<li>E-mail: platby-podpora@comgate.cz, Tel:  +420 228 224 267</li>\t\t</ul>\t\t<img src=\"https://www.comgate.cz/files/platebni-brana-comgate-paticka-e-shopu.png\" />\t";
eO.ak1=function(K){return"Photopea "+(K[1]<1e3?"Premium":"Distributor")+" ("+K[1]+" days, "+K[2]+" user"+(K[2]==1?"":"s")+")"};
eO.ajq=function(K,E){K=["Bill To:"].concat(K);var x=new ToPDF,c=595,J=842,i=40,P=18,_=12,a=500,j=100,e=400,C=0;
function d(G,D,b,H,q){v.font.Tf=q?"Helvetica-Bold":"Helvetica";v.ctm=[1,0,0,1,D,b];v.font.Tfs=H?H:_;
x.PutText(v,G,0)}function I(G,D,b,H){for(var y=0;y<G.length;y++){d(G[y],D,b-y*H,null,y==0)}}var v=UDOC.getState();
x.StartPage(0,0,c,J);d("INVOICE",c-i-140,J-i-30,30,!0);I(["Bill From:","Ivan Kuckir","H\xE1lkova 483, 517 41 Kostelec nad Orlic\xED","Tax ID: CZ9011014309"],i,J-i-40,P);
var n=new Date(E[0]*1e3);I(["Date: "+n.getDate()+". "+(n.getMonth()+1)+". "+n.getFullYear(),"Transaction ID: "+E[4]],c-i-140,J-i-40-P*2,P);
var T=K.join("");for(var y=0;y<T.length;y++)C=Math.max(C,T.charCodeAt(y));if(C>256){var o=4,s=U.t("canvas"),Q=s.getContext("2d"),X=0;
Q.font=_*o+"px sans-serif";for(var y=0;y<K.length;y++)X=Math.max(X,Q.measureText(K[y]).width);var B=Math.round(X)+20,M=K.length*o*P+20;
s.width=B;s.height=M;Q.font=_*o+"px sans-serif";for(var y=0;y<K.length;y++){Q.font=(y==0?"bold ":"")+_*o+"px sans-serif";
Q.fillText(K[y],10,(y+1)*o*P)}document.body.appendChild(s);var S=new Uint8Array(Q.getImageData(0,0,B,M).data.buffer);
v.ctm=[B/o,0,0,M/o,i-10/o,J-i-40-100-M/o];x.PutImage(v,S,B,M);v.ctm=[1,0,0,1,0,0]}else I(K,i,J-i-40-100,P);
v.colr=[.8,.8,.8];v.pth={cmds:["M","L","L","L","Z"],crds:[i,a,c-i,a,c-i,a-P,i,a-P]};x.Fill(v);v.colr=[0,0,0];
var f=[i,a,c-i,a,i,a-P,c-i,a-P,i,a-j,c-i,a-j,i,a,i,a-j,c-i,a,c-i,a-j,e,a,e,a-j],F=[];for(var y=0;y<f.length;
y+=4)F.push("M","L");v.pth={cmds:F,crds:f};x.Stroke(v);d("Order details",i+4,a-14);d(eO.ak1(E),i+4,a-P-14);
d("TOTAL:",i+4,a-j-14,null,!0);d("Price",c-i-50,a-14);d(E[3]+" USD",c-i-60,a-P-14);d(E[3]+" USD",c-i-60,a-j-14,null,!0);
d("www.Photopea.com",i,i);d("support@photopea.com",c-i-130,i);x.ShowPage();x.Done();return x.buffer};
function g7(){cm.call(this,[11,14],"addguides");this.ml;this.ll={Vp:{OZ:0}};this.Nq=null;var K=U.t("div","form");
this.body.appendChild(K);this.D_=[];this.rz=new fn(null,["Hi"]);K.appendChild(this.rz.e);U.R0(K);this.rz.w(u.E.A,this.SI,this);
this.tx=new ay([22,4,0],null,16);this.tx.w(u.E.A,this.dX,this);this.hh=new ay([22,4,1],null,16);this.hh.w(u.E.A,this.dX,this);
this.NK=new aw(null,W.uz.ko);this.NK.w(u.E.A,this.dX,this);K.appendChild(this.tx.e);K.appendChild(this.NK.e);
U.R0(K);K.appendChild(this.hh.e);this.hU=U.n4(this,K);this.w("closebtn",this.FL,this)}g7.prototype=new cm;
g7.prototype.qO=function(K,E){return K!=null};g7.prototype.eb=function(){return!0};g7.prototype.f=function(){cm.prototype.f.call(this);
this.tx.f();this.hh.f();this.NK.f();this.hU.f()};g7.prototype.Q3=function(K,E){var x=K.Vp.OZ;this.ll.Vp.OZ=x;
this.NK.$(x)};g7.prototype.jG=function(K,E){this.ml=K;this.Nq=JSON.stringify(K.pY());this.D_=[-1];var x=["Global"],c=K.root.children,J=K.Uq();
for(var y=0;y<c.length;y++){var i=c[y].j;if(i.add.artb){x.push(i.getName());this.D_.push(c[y].index)}}this.rz.C8(x);
this.rz.$(this.D_.indexOf(J));this.SI()};g7.prototype.SI=function(){var K=this.ml,E=K.pY(),x=this.D_[this.rz.m()],c=[0,0];
if(x!=-1){var J=K.B[x].IZ();c=[J.x,J.y]}var i=function(P,_,K,a,j){var e=P[0],d=[];for(var y=0;y<e.length;
y++)if(P[1][y]==x&&e[y][0]==_)d.push(W.uz.Vo(e[y][1]-c[_],K.B8,a,j));d.sort(function(I,v){return I-v});
return d.join(", ")};this.tx.$(i(E,0,K,this.ll,K.b));this.hh.$(i(E,1,K,this.ll,K.n))};g7.prototype.dX=function(K){if(K&&K.currentTarget==this.NK)this.ll.Vp.OZ=this.NK.m();
else{var E=this.aoN(),x=this.ml;x.WT(E);x.ZI=!0}this.SI()};g7.prototype.aoN=function(){var K=this.ml,E=K.pY(),x=this.D_[this.rz.m()],c=[0,0];
if(x!=-1){var J=K.B[x].IZ();c=[J.x,J.y]}var i=[];for(var P=0;P<2;P++){var _=P==0?this.tx:this.hh,a=P==0?this.ml.b:this.ml.n,j=_.m().replace(/,/g," ").replace(/  +/g," ").trim(),e=j==""?[]:j.split(" ");
for(var y=0;y<e.length;y++)i.push([P,W.uz.arJ(e[y],this.ml.B8,this.ll,a)+c[P]])}for(var y=0;y<E[0].length;
y++)if(E[1][y]==x){E[0].splice(y,1);E[1].splice(y,1);y--}for(var y=0;y<i.length;y++){E[0].push(i[y]);
E[1].push(x)}return E};g7.prototype.FL=function(K){var E=this.ml;E.WT(JSON.parse(this.Nq));E.ZI=!0;this.ml=null};
g7.prototype.OQ=function(K){this.dX(K);var E=new i3(u.E.v,!0);E.G=$.x3;E.data={_:"gids",Ji:JSON.parse(this.Nq),NM:this.ml.pY()};
this.ml=null;this.close();this.S(E)};function bA(K){cm.call(this,{pdfpres:"PDF Presentation",cformat:"Convert Formats"}[K],K);
var E=U.t("div","form");this.body.appendChild(E);E.setAttribute("style","width:300px");this.NC=new gV("Source Images",!0,!0);
E.appendChild(this.NC.e);this.h7=new aw([12,14,0],["A4 Portrait","A4 Lanscape",[12,93,3],"Adapt to images"]);
this.Nk=new jw("Order images by name");this.Nk.$(!0);var x=this.acj=gr.vv();for(var y=0;y<x.length;y++)if(gr.Zf(x[y]).pC){x.splice(y,1);
y--}this.z0=new aw([12,50],x);this.k4=new co;this.z0.w(u.E.A,this.kU,this);if(K=="pdfpres"){E.appendChild(this.h7.e);
E.appendChild(this.Nk.e)}else{E.appendChild(this.z0.e);E.appendChild(this.k4.e)}var c=["VAR0 PDF",[1,8]];
if(K=="cformat")c="Convert Images";var J=new cn(c,!0,null,!0);J.w("click",this.y6,this);E.appendChild(J.e);
this.kU()}bA.prototype=new cm;bA.prototype.kU=function(K){var E=this.acj[this.z0.m()];this.k4.g0(E)};
bA.prototype.y6=function(K){var E=this.NC.m(),x=[],i=595,P=842,_=40;for(var c in E)x.push(c);if(x.length==0){alert("No images selected");
return}if(this.Nk.m())x.sort();var J=this.h7.m(),a=new ToPDF,j=UDOC.getState(),e=this.acj[this.z0.m()],d=gr.Zf(e),I=this.k4.m(),v={};
for(var y=0;y<x.length;y++){var c=x[y],n=E[c],C=n[0]==255,T=gr.lX(n.buffer),o=gr.Zf(T),s;if(T=="psd")s=iI.ajf(n.buffer)[0];
else if(o.pC){alert(T.toUpperCase()+" can not be used.");continue}else s=o.TJ(n.buffer)[0];var Q=s.yA,X=new Uint8Array(s.data),B=Q.b,M=Q.n;
if(this.id=="pdfpres"){var S=[[595,842],[842,595],[595,595],[595,0]][J];if(J==3)S[1]=Math.round(S[0]*M/B);
var i=S[0],P=S[1],f=Math.min(i/B,P/M);a.StartPage(0,0,i,P);j.ctm=[B*f,0,0,M*f,(i-B*f)/2,(P-M*f)/2];a.PutImage(j,C?n:X,B,M);
a.ShowPage()}else{var F=c.split(".");F.pop();F.push(e.toLowerCase());v[F.join(".")]=new Uint8Array(d.bu([[s.data]],B,M,I))}}if(this.id=="pdfpres"){a.Done();
hP.save(a.buffer,"file.pdf")}else{hP.save(UZIP.encode(v),"images.zip")}};bA.prototype.f=function(){cm.prototype.f.call(this);
this.NC.f();this.h7.f();this.Nk.f()};function e1(K){var E=dJ.names[K];if(E==null)E=c2.names[K];if(K=="aply")E=[2,12];
if(K=="fade")E=[2,11];if(K=="matc")E=[4,18];if(K=="blendOptions")E=[14,10];cm.call(this,E,"afw_"+K);
this.LJ=K;this.NQ=null;this.fp=null;this.xu=new az[K];this.xu.w(u.E.A,this.gY,this);this.xu.parent=this;
this.body.appendChild(this.xu.e);this.hR=new jw([24,18,5]);this.hR.$(!0);this.hR.w(u.E.A,this.gY,this);
this.lS=new cn([1,12,2],!0,null,!0);this.lS.w("click",this.e5,this);this.hU=U.n4(this);if(this.MU())this.xu.Nx(this.hU.e);
else{U.sy(this.xu.e,"form");U.sy(this.body,"flexrow");this.xu.e.setAttribute("style","width:312px");
var x=U.t("div");this.body.appendChild(x);x.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em");
x.appendChild(this.hU.e);x.appendChild(this.lS.e);x.appendChild(this.hR.e)}this.w("closebtn",this.Ua,this)}e1.prototype=new cm;
e1.prototype.eb=function(){return!0};e1.prototype.MU=function(){return this.xu!=null&&this.xu.UW()};
e1.prototype.Hb=function(){return this.MU()?new iP(0,0):cm.prototype.Hb()};e1.prototype.Qh=function(){return this.xu.Qh()};
e1.prototype.zb=function(K,E,x,c,J){this.xu.zb(K,E,x,c,J)};e1.prototype.il=function(K,E,x,c,J){this.xu.il(K,E,x,c,J)};
e1.prototype.N2=function(K,E,x,c,J){this.xu.N2(K,E,x,c,J)};e1.prototype.qO=function(K,E){if(this.LJ=="fade")return e1.acE(K);
return!0};e1.prototype.e5=function(K){this.xu.$(dJ.JQ(this.LJ));this.gY()};e1.prototype.gY=function(K){this.Ap({_:"edit",W8:this.xu.m(),BQ:!this.hR.m()})};
e1.prototype.Ua=function(K){this.Ap({_:"cancel"})};e1.prototype.OQ=function(K){if(!this.hR.m()){this.hR.$(!0);
this.gY()}this.fp=this.xu.m();if(this.MU())this.gY();this.Ap({_:"confirm"});this.close()};e1.prototype.f=function(){cm.prototype.f.call(this);
this.hR.f();if(this.xu)this.xu.f();this.hU.f()};e1.prototype.Q3=function(K,E){if(this.xu)this.xu.Q3(K,E)};
e1.prototype._G=function(K,E,x,c){if(this.MU())this.xu._G(c);else cm.prototype._G.call(this,K,E,x,c)};
e1.prototype.jG=function(K,E,x,c){this.NQ=E.NQ;var J=K.add.lnk2?K.add.lnk2:[],i,P,_=new cS(0,0,K.b,K.n),a=K.B[K.g[0]],j=null;
i=a.buffer;P=a.rect;if(this.MU())j=K.S7(K.g[0]-1);var e=dJ.JQ(this.LJ),d=[J,K.Un,K,x];if(E.NQ==null){this.xu.$(e,i,P,_,j,d);
if(c2.names[this.LJ]){if(c.l(j6.iE)&&this.fp)this.xu.$(this.fp);var I=$.Yq.getData(K),v=W.ZT(I[0].AJ);
this.xu.g5(v)}}else{var n=!1,a=K.B[this.NQ.j];if(a.St()){var C=a.Xe(K);i=C.buffer;P=C.rect;var T=a.add.SoLd.filterFX.v.filterFXList.v;
if(T[this.NQ.index]){var o=T[this.NQ.index].v;this.xu.$(this.LJ=="blendOptions"?o.blendOptions.v:o.Fltr.v,i,P,_,j,d);
this.xu.g5(W.ZT(i));n=!0}}if(!n){this.xu.$(e,i,P,_,j,d);this.xu.g5(W.ZT(i))}}if(!this.MU()){this.gY();
var s=this.xu;if(s&&s.yD&&s.yD[0]&&s.yD[0].W9)s.yD[0].W9()}};e1.prototype.Ap=function(K){var E=new i3(u.E.v,!0);
K.LJ=this.LJ;K.NQ=this.NQ;E.data=K;E.G=dJ.names[this.LJ]||this.NQ?$.AL:$.mo;E.s9=!0;this.S(E)};e1.prototype.nt=function(K,E){if(!this.xu.UW()){}else{this.body.style.padding="0";
this.xu.nt(K,E)}};e1.acE=function(K){if(K==null)return!1;var E=K.$z();if(E==null||!(E.data instanceof Array)||E.data.length!=K.g.length)return!1;
for(var y=0;y<E.data.length;y++){var x=E.data[y];if(x.j<0&&K.Un[-1-x.j])return!0;if(x.j==null||K.B[x.j]==null||K.B[x.j].kS!=x.s4)return!1;
if(K.g.indexOf(x.j)==-1)return!1}return!0};function hR(){cm.call(this,[11,0],"camera");this.data=null;
this.v8=new iP(1,1);this.apM=[];var K=U.t("div","form hbar");this.body.appendChild(K);this.arX=new aw(null,[]);
this.si=new aw([21,0],[[21,2],[21,1]]);K.appendChild(this.si.e);this.RV=new aw(null,[]);this.RV.w(u.E.A,this.ag7,this);
K.appendChild(this.RV.e);this.C$=new cn([11,0],!1,null,!0);this.C$.w("click",this.a21,this);K.appendChild(this.C$.e);
this.Vl=new jp("");K.appendChild(this.Vl.e);this.stream=null;this.QQ=U.t("video","");this.QQ.setAttribute("autoplay","true");
this.body.appendChild(this.QQ);this.azt=this.asy.bind(this);this.alx=this.aif.bind(this);this.a3r=this.azP.bind(this);
this.w("closebtn",this.adS,this)}hR.prototype=new cm;hR.prototype.f=function(){cm.prototype.f.call(this);
this.si.f();this.C$.f();this.nt(this.pz,this.o4)};hR.prototype.S7=function(){var K=this.QQ.videoWidth,E=this.QQ.videoHeight,x=U.t("canvas","");
x.width=K;x.height=E;var c=x.getContext("2d");c.drawImage(this.QQ,0,0,K,E);var J=c.getImageData(0,0,K,E);
return{yA:new cS(0,0,K,E),data:J.data.buffer}};hR.prototype.a21=function(K){if(this.si.m()==0)this.aza();
else this.a1g()};hR.prototype.a1g=function(){var K=this.S7(),E={buffer:new Uint8Array(K.data),rect:K.yA},x=new i3(u.E.v,!0);
x.s9=!0;x.G=$.Os;x.data={_:Z.bw,$U:E};this.S(x);alert(hg.get([21,4]))};hR.prototype.aza=function(){var K=this.S7(),E=gr.vV("camera",[K]),x=new i3(u.E.L,!0);
x.data={_:u.c.CS,c1:E};this.S(x);alert(hg.get([21,5]))};hR.prototype.jG=function(K,E,x){navigator.mediaDevices.enumerateDevices().then(this.a6n.bind(this))};
hR.prototype.a6n=function(K){var E=this.apM=[],x=[];for(var y=0;y<K.length;y++)if(K[y].kind=="videoinput"){E.push(K[y]);
x.push("Camera "+E.length)}this.RV.C8(x);this.RV.$(0);this.ag7()};hR.prototype.ag7=function(K){this.adS();
var E={video:{deviceId:this.apM[this.RV.m()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(E).then(this.azt).catch(this.alx);
else navigator.webkitGetUserMedia(E,this.azt,this.alx)};hR.prototype.asy=function(K){this.stream=K;this.QQ.srcObject=K;
this.QQ.addEventListener("loadedmetadata",this.a3r,!1)};hR.prototype.azP=function(K){this.QQ.play();
this.nt(this.pz,this.o4)};hR.prototype.Hb=function(K,E){return new iP(0,0)};hR.prototype.nt=function(K,E){var x=this.QQ.videoWidth,c=this.QQ.videoHeight;
this.Vl.$(x+" x "+c+" px");this.Vl.e.setAttribute("style","position:absolute;  left:14px; bottom:10px; z-index:1;");
this.v8.tn(x,c);this.pz=K;this.o4=E;var J=K-28,i=E-28-30,P=this.v8.x/this.v8.y;if(J/i>P)J=i*P;else i=J/P;
this.QQ.setAttribute("style","display: block; width: "+Math.round(J)+"px; height:"+Math.round(i)+"px;")};
hR.prototype.aif=function(K){console.log("error",K);alert(hg.get([21,6]));this.close()};hR.prototype.adS=function(K){if(this.stream!=null){var E=this.stream.getTracks();
for(var y=0;y<E.length;y++)E[y].stop();this.stream=null}};function cF(){cm.call(this,[7,8],"crange");
this.ml=null;this.ak={sm:73,Cc:4.45,k:4};this.xI={sm:73,Cc:4.45,k:4};this.body.style.width="20em";this.Sq=new aw([0,5],["Sampled Colors",[19,6,0],[19,6,1],[19,6,2]]);
this.Sq.w(u.E.A,this.aiL,this);this.body.appendChild(this.Sq.e);this.lB=U.t("div","form");this.body.appendChild(this.lB);
var K=this.a6f=2,E=this.YV=[new bJ([12,92],0,200),new fn([12,36],[[18,0],"\uFF0B","-"]),new bJ([12,92],0,100,"%"),new eW("Min",0,255),new eW("Max",0,255)];
E[0].$(40);E[K].$(40);for(var y=0;y<E.length;y++){E[y].w(u.E.A,this.I5,this);E[y].parent=this}this.T=U.t("canvas");
this.body.appendChild(this.T);this.hU=U.n4(this,this.body)}cF.prototype=new cm;cF.prototype.qO=function(K,E){return K!=null};
cF.prototype.Qh=function(){return!0};cF.prototype.eb=function(){return!0};cF.prototype.aiL=function(K){var E=this.Sq.m(),x=this.YV,c=this.lB,J=0,i=x.length,P=this.a6f;
if(E==0)i=P;else{J=P;x[J+1].$([0,100,190][E-1]);x[J+1].Lk(E!=1);x[J+2].$([60,150,255][E-1]);x[J+2].Lk(E!=3)}U.w6(c);
for(var y=J;y<i;y++){c.appendChild(x[y].e)}this.I5()};cF.prototype.f=function(){cm.prototype.f.call(this);
this.hU.f();this.Sq.f();for(var y=0;y<this.YV.length;y++)this.YV[y].f()};cF.prototype.zb=function(K,E,x,c,J){var i=K.D.gg(J.x,J.y);
this.ak0(i.x,i.y)};cF.prototype.ak0=function(K,E){var x=Math.min,c=Math.max,J=this.ml,i=c(0,x(J.b-1,Math.floor(K))),P=c(0,x(J.n-1,Math.floor(E))),_=J.S7(),a=(P*J.b+i)*4,j=_[a],e=_[a+1],d=_[a+2],I=W.bK(j,e,d),v=this.YV[1].m(),n=this.ak,C=this.xI;
if(v==0){this.ak=JSON.parse(JSON.stringify(I));this.xI=I}else if(v==1){n.sm=x(n.sm,I.sm);n.Cc=x(n.Cc,I.Cc);
n.k=x(n.k,I.k);C.sm=c(C.sm,I.sm);C.Cc=c(C.Cc,I.Cc);C.k=c(C.k,I.k)}else if(v==2){var T=(n.sm+C.sm)/2,o=(n.Cc+C.Cc)/2,s=(n.k+C.k)/2;
if(I.sm<T)n.sm=c(n.sm,I.sm+10);else C.sm=x(C.sm,I.sm-10);if(I.Cc<o)n.Cc=c(n.Cc,I.Cc+1);else C.Cc=x(C.Cc,I.Cc-1);
if(I.k<s)n.k=c(n.k,I.k+1);else C.k=x(C.k,I.k-1)}this.I5()};cF.prototype.OQ=function(K){var E=this.Sq.m(),x=this.YV,c={__name:"Color Range",classID:"ClrR",colorModel:{t:"long",v:0}};
if(E==0){var J=this.ak,i=this.xI;c.Mnm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:J.sm},A:{t:"doub",v:J.Cc},B:{t:"doub",v:J.k}}};
c.Mxm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:i.sm},A:{t:"doub",v:i.Cc},B:{t:"doub",v:i.k}}};c.Fzns={t:"long",v:x[0].m()}}else{E--;
var P=["shadows","midtones","highlights"][E];c.Clrs={t:"enum",v:{Clrs:["Shdw","Mdtn","Hghl"][E]}};if(0<E)c[P+"LowerLimit"]={t:"long",v:x[3].m()};
if(E<2)c[P+"UpperLimit"]={t:"long",v:x[4].m()};c[P+"Fuzziness"]={t:"long",v:x[2].m()}}this.close();var _=new i3(u.E.Hg,!0);
_.data={va:"colorRange",Ks:c};this.S(_)};cF.prototype.jG=function(K,E){this.ml=K;this.ak0(0,0);this.aiL()};
cF.prototype.I5=function(){var K=this.ml,E=this.Sq.m(),x=this.ak,c=this.xI,J=this.YV,i=J[0].m()/200,P=!1;
if(E>0){x=J[3].m();c=J[4].m();if(x>=c)x=c-1;P=!0;i=J[2].m()/100}var _=$.cx.JJ(K,x,c,i,P),a=_.rect,j=_.channel,e=this.T,d=e.getContext("2d"),I=Math.floor(230*U.V()),v=Math.floor(I*(a.n/a.b));
e.width=I;e.height=v;U.P2(e,I,v);var n=W.Q(j.length*4);W._m(n,4294967295);for(var y=0;y<3;y++)W.Mz(j,n,y);
var C=$.Xq.iH([n,a],new iQ(I/a.b,0,0,v/a.n,0,0)),T=C.rect,o=new ImageData(new Uint8ClampedArray(C.buffer.buffer),T.b,T.n);
d.putImageData(o,0,0)};function bj(){cm.call(this,[12,76,1],"createshape");this.KN=null;var K=U.t("div","form");
K.setAttribute("style","width:20em");this.body.appendChild(K);this.Kf=new eW([12,41],0,0,null,0,!1,!0);
K.appendChild(this.Kf.e);U.R0(K);this.tx=new eW([12,42],0,0,null,0,!1,!0);K.appendChild(this.tx.e);U.R0(K);
this.zf=new jw([19,5,3]);K.appendChild(this.zf.e);this.Kf.$(100);this.tx.$(100);this.hU=U.n4(this,K)}bj.prototype=new cm;
bj.prototype.OQ=function(K){this.KN.a1T(this.KN.auK,this.Kf.m(),this.tx.m(),this.zf.m());this.close()};
bj.prototype.f=function(){if(this.KN)this.XX=hg.get([5,3])+": "+hg.get(this.KN.aw$);cm.prototype.f.call(this);
this.hU.f();this.Kf.f();this.tx.f();this.zf.f()};bj.prototype.jG=function(K,E){this.KN=E;this.f();this.Kf.W9()};
function jZ(){cm.call(this,[11,1],"colorpicker");this.Lg=null;this.u7=null;this.nz=null;this.r3=!1;this.G$=!1;
this.a3N=[.9642,1,.8249];var K=U.t("div","flexrow"),P,_;this.body.appendChild(K);this.YK=new jQ(256,!0);
this.YK.w(u.E.A,this.Ec,this);K.appendChild(this.YK.e);var E=U.t("div","form");E.setAttribute("style","width:14.5em; margin-left:1em;");
K.appendChild(E);var x=U.t("div","flexrow");E.appendChild(x);var c=U.t("div");x.appendChild(c);c.style="width:95px; margin-right:14px";
this.alc=U.t("div","full");c.appendChild(this.alc);this.ai7=U.t("div","full");c.appendChild(this.ai7);
var c=U.t("col");x.appendChild(c);c.style.width="80px";this.hU=U.n4(this,c);var x=U.t("div","flexrow");
E.appendChild(x);var J=U.t("div"),i=U.t("div");x.appendChild(J);x.appendChild(i);J.style=i.style="margin-left:14px; max-width:80px;";
P=["H","S","B"];_=J;this.To=[];for(var y=0;y<3;y++){var a=0,j=360,e="\xB0";if(y!=0){j=100;e="%"}var d=new eW(P[y],a,j,e,0,!1,!0);
this.To.push(d);d.w(u.E.A,this.axI,this);_.appendChild(d.e);if(y==2)d.e.style.marginBottom="8px"}P=["R","G","B"];
_=J;this.wF=[];for(var y=0;y<3;y++){var d=new eW(P[y],0,255,null,0,!1,!0);this.wF.push(d);d.w(u.E.A,this.aoO,this);
_.appendChild(d.e)}P=["L","a","b"];_=i;this.j4=[];for(var y=0;y<3;y++){var a=[0,-128,-128][y],j=[100,127,127][y],d=new eW(P[y],a,j,null,0,!1,!0);
d.$(0);this.j4.push(d);d.w(u.E.A,this.a4F,this)}P=["C","M","Y","K"];_=i;this.Pv=[];for(var y=0;y<4;y++){var d=new eW(P[y],0,100,"%",0,!1,!0);
d.$(0);this.Pv.push(d);d.w(u.E.A,this.asF,this);_.appendChild(d.e);if(y==3)d.e.style.marginBottom="8px"}this.tx=new ay("#",null,4.5);
this.tx.w(u.E.A,this.op,this);i.appendChild(this.tx.e);this.tx.e.style.marginRight="0";this.dQ=U.t("input","fitem");
this.dQ.setAttribute("type","color");this.dQ.setAttribute("style","width:59px;  margin-left:19px;");
this.dQ.addEventListener("change",this.op.bind(this),!1);i.appendChild(this.dQ);this.R2=new ar(9);this.R2.w(u.E.A,this.op,this);
E.appendChild(this.R2.e);this.w("closebtn",this.Ua,this);this.tb=!1}jZ.prototype=new cm;jZ.prototype.Qh=function(){return!0};
jZ.prototype.Hb=function(K,E){return new iP(Math.max(0,Math.min(150,(K-484)/2)),Math.max(0,Math.min(150,(E-316)/2)))};
jZ.prototype.nt=function(K,E){this.YK.nt(Math.min(256,K-226),E)};jZ.prototype.f=function(K,E){cm.prototype.f.call(this);
for(var y=0;y<3;y++){this.wF[y].f();this.To[y].f();this.j4[y].f()}for(var y=0;y<4;y++)this.Pv[y].f();
this.hU.f()};jZ.prototype.Ec=function(K){this.u7=this.YK.m();this.update()};jZ.prototype.zb=function(K,E,x,c,J){this.tb=!0;
this.a9W(K,J)};jZ.prototype.il=function(K,E,x,c,J){if(!this.tb)return;this.a9W(K,J)};jZ.prototype.N2=function(K,E,x,c,J){this.tb=!1};
jZ.prototype.a9W=function(K,E){var x=$.QS.hn(K,E,1),c=x&255,J=x>>8&255,i=x>>16&255;this.u7={o:i/255,J:J/255,k:c/255};
this.update()};jZ.prototype.aoO=function(K){var E=this.wF,x=this.Pq(parseInt(E[0].m())),c=this.Pq(parseInt(E[1].m())),J=this.Pq(parseInt(E[2].m()));
this.u7={o:x/255,J:c/255,k:J/255};this.update()};jZ.prototype.axI=function(K){var E=this.To,x=this.Yl(parseInt(E[0].m())/360),c=this.Yl(parseInt(E[1].m())/100),J=this.Yl(parseInt(E[2].m())/100);
this.u7=W.lx(x,c,J);this.update()};jZ.prototype.asF=function(K){var E=this.Pv,x=[];for(var y=0;y<4;y++){var c=this.a7Q(parseInt(E[y].m()));
E[y].$(c);x.push(c/100)}var J=W.gZ(x);this.u7={o:J[0],J:J[1],k:J[2]};this.update(!0)};jZ.prototype.a4F=function(K){var E=this.j4,x=parseInt(E[0].m()),c=parseInt(E[1].m()),J=parseInt(E[2].m()),i=W.NZ(x,c,J);
this.u7={o:i.o/255,J:i.J/255,k:i.k/255};this.update()};jZ.prototype.op=function(K){var E;if(K.currentTarget==this.R2)E=this.R2.m();
else{E=K.currentTarget==this.tx?this.tx.m():this.dQ.value;if(E.charAt(0)=="#")E=E.slice(1);if(E.length==3)E=E[0]+E[0]+E[1]+E[1]+E[2]+E[2];
E=W.r6(E)}this.u7={o:(E>>16&255)/255,J:(E>>8&255)/255,k:(E&255)/255};this.update()};jZ.prototype.rv=function(K){var E=K.o,x=K.J,c=K.k;
return Math.round(E*255)<<16|Math.round(x*255)<<8|Math.round(c*255)};jZ.prototype.OQ=function(K){this.ahL();
var E=this.rv(this.u7);this.nz(E);this.close();this.G$=!1;this.u7=null};jZ.prototype.Ua=function(K){this.ahL();
if(this.r3)this.nz(this.rv(this.Lg));this.G$=!1;this.u7=null};jZ.prototype.ahL=function(K){var E=new i3(u.E.L,!0);
E.data={_:u.c.akr};this.S(E)};jZ.prototype.Q3=function(K,E){var x=c3.a8(K,E);if(x!=null)this.R2.$(x);
if(E!=eu.Fa)return;if(this.u7!=null){this.u7={o:(x>>16&255)/255,J:(x>>8&255)/255,k:(x>>0&255)/255};this.update()}};
jZ.prototype.jG=function(K,E){var x=E.Hw,c={o:(x>>16&255)/255,J:(x>>8&255)/255,k:(x>>0&255)/255};if(this.u7==null){var J=new i3(u.E.L,!0);
J.data={_:u.c.wA,JK:"crosshair",push:!0};this.S(J);this.tb=!1;this.nz=E.ze;this.r3=!1;this.G$=E.iI;this.Lg=JSON.parse(JSON.stringify(c));
this.ai7.setAttribute("style","height:2.3em;background-color:#"+W.E8(x)+";")}this.u7=c;this.update()};
jZ.prototype.update=function(K){var E=this.u7,x=this.rv(E);this.tx.$(W.E8(x));this.dQ.value="#"+W.E8(x);
this.alc.setAttribute("style","height:2.3em;background-color:#"+W.E8(x)+";");var c=this.wF;c[0].$(Math.round(E.o*255));
c[1].$(Math.round(E.J*255));c[2].$(Math.round(E.k*255));var J=W.Rv(E.o,E.J,E.k);c=this.To;c[0].$(Math.round(J.o4*360));
c[1].$(Math.round(J.hV*100));c[2].$(Math.round(J.W8*100));var i=W.bK(E.o*255,E.J*255,E.k*255,this.a3N);
c=this.j4;c[0].$(Math.round(i.sm));c[1].$(Math.round(i.Cc));c[2].$(Math.round(i.k));if(K==null){var P=W.a6h([E.o,E.J,E.k]);
c=this.Pv;c[0].$(Math.round(P[0]*100));c[1].$(Math.round(P[1]*100));c[2].$(Math.round(P[2]*100));c[3].$(Math.round(P[3]*100))}this.YK.$(E);
if(this.G$){this.nz(this.rv(this.u7));this.r3=!0}};jZ.prototype.a7Q=function(K){return Math.max(0,Math.min(100,K))};
jZ.prototype.Pq=function(K){return Math.max(0,Math.min(255,K))};jZ.prototype.Yl=function(K){return Math.max(0,Math.min(1,K))};
function d3(){cm.call(this,[11,2],"contoureditor");this.arm=null;this.u3=null;this.response=null;this._k=U.t("div","cell");
this.body.appendChild(this._k);this.Rw=U.t("div","cell padded");this.body.appendChild(this.Rw);var K=U.t("div","bordered padded vmargin");
this._k.appendChild(K);this.xu=new ke(null,null,!0);this.xu.w(u.E.A,this.OH,this);K.appendChild(this.xu.e);
this.hU=U.n4(this,this.Rw);this.w("closebtn",this.v$,this)}d3.prototype=new cm;d3.prototype.OQ=function(){this.close()};
d3.prototype.f=function(){cm.prototype.f.call(this);this.hU.f();this.xu.f()};d3.prototype.OH=function(K){this.u3.Crv.v=this.xu.m();
this.response(this.u3)};d3.prototype.v$=function(K){this.response(this.arm)};d3.prototype.jG=function(K,E){this.arm=JSON.parse(JSON.stringify(E.E5));
this.u3=E.E5;this.response=E.response;this.xu.$(this.u3.Crv.v)};function f6(){cm.call(this,[11,3],"csize");
this.aA=0;this.yg=U.t("div","form");this.yg.setAttribute("style","width:22em; margin-bottom:1em;");this.body.appendChild(this.yg);
this.dE=new ea(!0,!0,!0,!0,!0);this.dE.a3w(!1);this.yg.appendChild(this.dE.e);this.Tj=new fn("Align with",[[8,7,0],[12,6]]);
this.Tj.w(u.E.A,this.a95,this);this.Jd=new dt([12,23,2],41);this.yg.appendChild(this.Jd.e);this.Jd.$(4);
this.qc=new bk(!1);this.qc.aad(new iP(0,0));this.hU=U.n4(this,this.body)}f6.prototype=new cm;f6.prototype.qO=function(K,E){return K!=null};
f6.prototype.eb=function(){return!0};f6.prototype.Xo=function(K){return[j6.m9,j6._J,j6.Wp,j6.YD].indexOf(K)!=-1};
f6.prototype._G=function(K,E,x,c){if(c.l(j6.Tt))this.OQ();this.Jd.a6F(c.lI())};f6.prototype.a95=function(){var K=[this.Jd.e,this.qc.e];
this.yg.removeChild(K[this.aA]);this.aA=this.Tj.m();this.yg.appendChild(K[this.aA])};f6.prototype.f=function(){cm.prototype.f.call(this);
this.dE.f();this.Tj.f();this.Jd.f();this.qc.f();this.hU.f()};f6.prototype.OQ=function(K){var E=this.dE.m(),x=E.x,c=E.y,J=new i3(u.E.Hg,!0);
J.data=$.$a.a9V(x,c,this.Jd.m());this.close();this.S(J)};f6.prototype.jG=function(K,E){this.dE.$(new iP(K.b,K.n),K.B8);
this.dE.W9()};function h7(){cm.call(this,[11,4],"duplinto");this.z9=null;this.Zg=null;this.gR=null;var K=U.t("div","form");
K.setAttribute("style","max-width:26em");this.body.appendChild(K);this.tk=new aw([12,43],["abc","def"]);
this.tk.w(u.E.A,this.m1,this);K.appendChild(this.tk.e);U.R0(K);this.Qc=new aw([1,16,0],["abc","def"]);
this.Qc.w(u.E.A,this.m1,this);K.appendChild(this.Qc.e);U.R0(K);this.iV=new ay([12,48],null,14);K.appendChild(this.iV.e);
this.hU=U.n4(this,K)}h7.prototype=new cm;h7.prototype.eb=function(){return!0};h7.prototype.f=function(){cm.prototype.f.call(this);
this.hU.f();this.tk.f();this.iV.f()};h7.prototype.m1=function(K){if(K&&K.target==this.Qc)return;var E=this.tk.m(),x=this.Zg[E],c=this.z9,J=x!=null&&x.add.artd!=null;
for(var y=0;y<c.g.length;y++)if(c.B[c.g[y]].add.artb)J=!1;this.iV.Lk(E==this.Zg.length);this.Qc.Lk(J);
if(J){var i=x.root.children,P=[],_=this.gR=[];for(var y=0;y<i.length;y++){var a=i[y].j;if(a.add.artb)P.push(a.getName());
_.push(i[y].index)}this.Qc.C8(P);this.Qc.$(0)}else this.gR=null};h7.prototype.jG=function(K,E,x){this.z9=K;
this.Zg=x;this.iV.$(K.g.length==0?"Layer":K.B[K.g[0]].getName());var c=[];for(var y=0;y<x.length;y++){var J=x[y].name;
c.push(J.length<30?J:J.slice(0,27)+"...")}c.push([11,7]);this.tk.C8(c);this.tk.$(x.indexOf(K));this.m1(null)};
h7.prototype.OQ=function(K){var E=this.tk.m();if(E==this.Zg.length){var x=new gD(this.iV.m()+".psd"),c=this.z9.b,J=this.z9.n,i=this.z9.Uq();
if(i!=-1){var P=this.z9.B[i].IZ();c=P.b;J=P.n}x.b=c;x.n=J;x.buffer=W.Q(x.b*x.n*4);var _=x.EY();_.yH("Background");
x.yu([_]);var a=new i3(u.E.L,!0);a.s9=!0;a.data={_:u.c.CS,c1:x};this.S(a)}var j=this.z9.JV(null,this.z9!=this.Zg[E]),a=new i3(u.E.v,!0);
a.data={_:Z.EE,B:j,Tr:this.z9,t1:this.Zg[E]};if(this.gR)a.data.uI=this.gR[this.Qc.m()];a.G=$.Os;a.s9=!0;
this.S(a);this.close()};function io(){cm.call(this,[1,9],"eassets");this.ll=null;this.Ul=null;var K=this.body;
U.sy(K,"form");K.style.width="32em";this.Sq=new fn(null,["Layers","Combinations"]);this.Sq.w(u.E.A,this.SI,this);
K.appendChild(this.Sq.e);U.JB(K);this.kB=U.t("span");K.appendChild(this.kB);this.I7=U.t("div");K.appendChild(this.I7);
var E=U.t("div"),x=U.t("div","flexrow");this.anX=[E,x];this.BJ=[new jw("Only layers / folders, whose name starts with \"-e-\""),new jw("Remove parts outside the canvas"),new jw("Trim transparent parts")];
for(var y=0;y<3;y++){var c=this.BJ[y];c.$(!0);c.w(u.E.A,this.SI,this);E.appendChild(c.e);U.R0(E)}this.qV=new iM([12,14,0],["1x","2x","3x","4x"]);
this.qV.$([!0,!1,!1,!1]);E.appendChild(this.qV.e);var J=U.t("div");x.appendChild(J);var i=U.t("img");
i.setAttribute("src","img/nft.png");i.style.width="150px";x.appendChild(i);var P=U.t("span");P.textContent="File Names:";
J.appendChild(P);this.O2=new iM(null,["1-0-1.XYZ","head1-eyes0-mouth1.XYZ","red-green-brown.XYZ"],!1,null,!0);
J.appendChild(this.O2.e);this.O2.$([!0,!1,!1]);U.JB(K);this.HZ=["PNG","JPG","SVG","TIFF","TGA"];this.GO=new aw([12,50],this.HZ);
this.GO.w(u.E.A,this.kU,this);K.appendChild(this.GO.e);this.k4=new co;K.appendChild(this.k4.e);this.hU=new cn([1,9],!0,null,!0);
this.hU.w("click",this.OQ,this);K.appendChild(this.hU.e);this.w("closebtn",this._u,this)}io.prototype=new cm;
io.prototype.kU=function(K){this.k4.g0(this.HZ[this.GO.m()],!1,!1,!1,this.Ul.bD()!=null)};io.prototype._u=function(K){this.Ul=null};
io.prototype.f=function(){cm.prototype.f.call(this);this.GO.f();this.qV.f();this.hU.f();this.k4.f()};
io.prototype.jG=function(K,E,x){this.Ul=K;this.SI()};io.prototype.SI=function(K){var E=this.Sq.m(),x;
U.w6(this.I7);this.I7.appendChild(this.anX[E]);if(E==0){var c=this.a5O();x=c.length+" exportable layers"}else{var c=this.a2c();
x=c[1]+" combinations ("+c[0].join(" \xD7 ")+")"}this.kB.textContent="- - - "+x;this.kU(null)};io.prototype.a5O=function(){var K=this.BJ[0].m(),E=[],x=this.Ul;
for(var y=0;y<x.B.length;y++){var c=x.B[y],J=c.getName();if(!K&&!c.wC()&&!c.rect.um()||J.startsWith("-e"))E.push(y)}return E};
io.prototype.a2c=function(){var K=this.Ul,E=K.root.children,x=[],c=1,J=[];for(var y=0;y<E.length;y++){var i=E[y],P=i.j;
if(P.wC()){var _=i.children.length;x.push(_);c*=_;J.push(i.index)}P}return[x,c,J]};io.prototype.Q3=function(K,E){this.ll=K};
io.prototype.OQ=function(K){var E=this.Ul,x=this.Sq.m(),c=[this.HZ[this.GO.m()]],J=[this.k4.m()],i={};
if(x==0){var P=this.qV.m(),_={},a=this.a5O();if(a.length==0){alert("No layers to export.");return}var j=[this.BJ[1].m(),this.BJ[2].m()];
for(var y=0;y<a.length;y++){var e=a[y],d=E.B[e],v=d.getName();if(_[v]!=null){_[v]++;v+=" "+_[v]}else _[v]=1;
var n=d.bL();d.g7(!0);for(var C=0;C<P.length;C++){if(!P[C])continue;var T=C+1,o=$.DU.abw(E,c,T,this.ll,e,J,j);
for(var s=0;s<c.length;s++){var Q=c[s],X=v.slice(v.startsWith("-e-")?3:0)+(T==1?"":"@"+T+"x")+"."+Q.toLowerCase();
if(o[s])i[X]=new Uint8Array(o[s])}}d.g7(n)}}else{var n=[];for(var y=0;y<E.B.length;y++)n.push(E.B[y].bL());
var B=this.a2c(),M=B[0],a=B[2],S=[];function f(t,e,m,g){if(e==t.length){g.push(m.slice(0));return}var Y=t[e];
for(var y=0;y<Y;y++){m.push(y);f(t,e+1,m,g);m.pop(y)}}f(M,0,[],S);var F=this.O2.m().indexOf(!0);for(var G=0;
G<S.length;G++){var D=S[G],b=[];for(var y=0;y<D.length;y++){var H=E.root.R7(a[y]);for(var C=0;C<H.children.length;
C++)H.children[C].j.g7(!1);var q=H.children[D[y]].j;b.push(F==2?q.getName():H.j.getName()+D[y]);q.g7(!0)}E.U();
E.DJ();var O=(F==0?D:b).join("-")+"."+c[0].toLowerCase();i[O]=new Uint8Array(gr.ca(E,c[0],E.b,E.n,J[0],this.ll))}for(var y=0;
y<E.B.length;y++)E.B[y].g7(n[y]);E.U()}var w=UZIP.encode(i),V=new i3(u.E.L,!0);V.data={_:u.c._X,data:w,name:"assets.zip"};
this.S(V)};function k6(){cm.call(this,"Export Color Lookup Tables","exlut");this.ll=null;this.Ul=null;
var K=U.t("div","form");K.setAttribute("style","width:20em");this.body.appendChild(K);this.BJ=[new eW("Grid Points",1,256),new fn([12,50],[".CUBE"])];
var E=[16,0];for(var y=0;y<this.BJ.length;y++){var x=this.BJ[y];x.$(E[y]);x.parent=this;x.w(u.E.A,this.SI,this);
K.appendChild(x.e);U.R0(K)}this.hU=U.n4(this,K);this.w("closebtn",this._u,this)}k6.prototype=new cm;
k6.prototype.qO=function(K,E){if(Math.min(K.b,K.n)<16){alert("The document must be at least 16 x 16 pixels.",3200);
return!1}if(K.B.length<2){alert("There must be a background layer and some adjustment layers.",3200);
return!1}return!0};k6.prototype._u=function(K){this.Ul=null};k6.prototype.Q3=function(K,E){this.ll=K};
k6.prototype.jG=function(K,E,x){this.Ul=K};k6.prototype.OQ=function(){var K=this.Ul,E=this.BJ[0].m(),x=[],c=new cS(0,0,K.b,K.n),J=W.Q(E*E*4),i=J.slice(0),P=new cS(K.b-E>>>1,K.n-E>>>1,E,E),_=K.B[0],a=_.buffer,j=_.rect;
_.rect=P;_.buffer=J;for(var e=0;e<E;e++){this.anG(E,e,J);_.U(P);K.U(P);var d=K.S7();W.UL(d,c,i,P);for(var I=0;
I<E;I++)for(var v=0;v<E;v++){var n=I*E+v<<2;x.push(i[n]/255,i[n+1]/255,i[n+2]/255)}}var C=d5.adY(x,E,K.name);
hP.save(C,K.name.split(".")[0]+".CUBE");_.buffer=a;_.rect=j;_.U();K.U()};k6.prototype.anG=function(K,E,x){var c=255/(K-1),J=Math.round(E*c);
for(var i=0;i<K;i++)for(var P=0;P<K;P++){var _=i*K+P<<2;x[_]=Math.round(P*c);x[_+1]=Math.round(i*c);
x[_+2]=J;x[_+3]=255}};k6.prototype.f=function(){cm.prototype.f.call(this);for(var y=0;y<this.BJ.length;
y++)this.BJ[y].f();this.hU.f()};function aP(){cm.call(this,[1,14],"finfo");this.Ug=null;this.yb=null;
this.s0=null;this.yg=U.t("div","form scrollable label12");this.yg.setAttribute("style","width:35em;  height:38em;  margin-bottom:8px");
this.body.appendChild(this.yg);var K=U.t("div","form");this.body.appendChild(K);this.DO=new aw(null,["Hello"]);
K.appendChild(this.DO.e);this.alj=new cn("Add Parameter",!1,null,!0);K.appendChild(this.alj.e);this.alj.w("click",this.Js,this);
this.J5=new cn("=== S A V E ===",!1,null,!0);K.appendChild(this.J5.e);this.J5.w("click",this.ub,this);
this.alA=""}aP.prototype=new cm;aP.prototype.Hb=function(K,E){return K<450||E<450?new iP(0,0):new iP(150,100)};
aP.prototype.Js=function(K){if(this.s0.length==0)return;var E=this.s0[this.DO.m()],x=this.wX();x[E]=c1.A5[E][0];
this.NS(x);this.yb[E].e.scrollIntoView();this.yb[E].W9()};aP.prototype.Gg=function(K){var E=this.wX();
delete E[K.currentTarget.ak$];this.NS(E)};aP.prototype.ub=function(K){var E=this.wX(),x=this.Ug,c=!0;
for(var J in x)if(JSON.stringify(x[J])!=JSON.stringify(E[J]))c=!1;for(var J in E)if(JSON.stringify(x[J])!=JSON.stringify(E[J]))c=!1;
if(c)return;var i=new i3(u.E.v,!0);i.G=$.Os;i.data={_:Z.Ot,SS:E};this.S(i);this.Ug=E;this.NS(E)};aP.a59=function(K){function E(J){var i=J.toLowerCase();
return J==i}var x=K.split(":").pop();for(var c=1;c<x.length-1;c++){if(x[c]==x[c].toUpperCase()&&(E(x[c+1])||E(x[c-1]))){x=x.slice(0,c)+" "+x.slice(c);
c++}}return x};aP.prototype.jG=function(K,E){this.Ug=K.VQ;this.NS(K.VQ)};aP.prototype.NS=function(K){var E=this.yg,J=0;
U.w6(E);var x=this.yb={},c=["tiff","exif","exif:GPS"],i=this.s0=[],P=[];for(var _ in c1.A5){var a=aP.a59(_),j=0,e=15,d=null;
if(K[_]==null){if(c1.A5[_].length!=1||_=="photoshop:Credit"||_=="photoshop:Source"){i.push(_);P.push(a)}continue}for(var y=0;
y<c.length;y++)if(_.startsWith(c[y]))j=y;if(j!=J){U.JB(E);J=j}if(_=="tiff:ImageDescription"||_=="dc:Keywords"){e=18.5;
d=3}var I=new ay(a,null,e,d);x[_]=I;var v=K[_];if(v instanceof Array)v=v[1]==0?"---":v[0]+"/"+v[1];var n=new cn("\u2716",null,hg.get([5,4]));
E.appendChild(n.e);n.w("click",this.Gg,this);n.ak$=_;I.$(v);E.appendChild(I.e);U.R0(E);if(_=="exif:GPSLongitude"&&K["exif:GPSLatitude"]){this.alA=aP.asx(K["exif:GPSLatitude"])+","+aP.asx(K["exif:GPSLongitude"]);
var C=new cn("Show on map",!1,null,!0);E.appendChild(C.e);U.R0(E);C.w("click",this.ala,this)}}this.DO.C8(P);
this.DO.$(0)};aP.prototype.wX=function(){var K=this.yb,E=c1.A5,x={};for(var c in E){var J=E[c][0],i=typeof J;
if(J==null||K[c]==null)continue;var P=K[c].m(),_="The value of \""+aP.a59(c)+"\" must ";if(i=="number"){P=parseFloat(P);
if(isNaN(P)){alert(_+"be a number.");P=J}}else if(J instanceof Array&&J.length==2){if(P.indexOf("/")==-1){alert(_+"be a fraction.");
P=J.slice(0)}else{P=P.split("/").map(parseFloat);if(isNaN(P[0])||isNaN(P[1])){P=J.slice(0)}}}x[c]=P}return x};
aP.asx=function(K){var E=K.length,x=K.slice(0,E-1).split(",").map(parseFloat),c=K.slice(E-1),J=x[0]+x[1]/60+x[2]/3600;
if(c!="N"&&c!="E")J=-J;return J};aP.prototype.ala=function(K){window.open("https://maps.google.com?q="+this.alA,"Map")};
function bq(){cm.call(this,[11,5],"gradienteditor");this.Lg=null;this.u7=null;this.HY=null;this.nz=null;
this.r3=!1;this.G$=!1;this.X7=null;this.wQ=null;this.JM=-1;this.hq=-1;this.uf=0;this.DL=this.IK.bind(this);
this.ql=this.S6.bind(this);this.T=U.t("canvas");this.gI=this.T.getContext("2d");this.T.setAttribute("style","display:block");
this.oH=null;U.hr(this.T);U.gw(this.T,this.BA.bind(this));this.W6=U.t("div","form");this.AN=U.t("div");
this.h_=U.t("div","form");this.T4=U.t("div");this.m2=new aw([12,44],[[15,10,0],[24,6]]);this.m2.w(u.E.A,this.X9,this);
this.body.appendChild(this.m2.e);U.JB(this.body);var K=this.W6;this.l8=new eW([19,3,3],0,100,"%");this.l8.w(u.E.A,this.X9,this);
this.l8.parent=this;K.appendChild(this.l8.e);U.R0(K);this.wU=new jp([12,0]);K.appendChild(this.wU.e);
this.OG=U.t("div","bordered padded noalign");K.appendChild(this.OG);this.S5=new eW([12,0],0,100,"%");
this.S5.parent=this;this.S5.w(u.E.A,this.X9,this);this.OG.appendChild(this.S5.e);this.$k=new eW([12,40],0,100,"%");
this.$k.parent=this;this.$k.w(u.E.A,this.X9,this);this.OG.appendChild(this.$k.e);this.tm=new cn([5,4],!1,null,!0);
this.tm.w("click",this.az9,this);this.OG.appendChild(this.tm.e);K.appendChild(this.AN);this.atA=new jp([13,0]);
K.appendChild(this.atA.e);this.Si=U.t("div","bordered padded noalign");K.appendChild(this.Si);this.wu=new aw([12,44],[[12,45],[12,46],[12,47]]);
this.wu.w(u.E.A,this.X9,this);this.Si.appendChild(this.wu.e);this.VB=new eX(!0);this.VB.parent=this;
this.VB.w(u.E.A,this.X9,this);this.Si.appendChild(this.VB.e);this.ga=new eW([12,40],0,100,"%");this.ga.parent=this;
this.ga.w(u.E.A,this.X9,this);this.Si.appendChild(this.ga.e);this.W4=new cn([5,4],!1,null,!0);this.W4.w("click",this.amE,this);
this.Si.appendChild(this.W4.e);var K=this.h_;this.pi=new eW("Roughness",0,100,"%");this.pi.w(u.E.A,this.X9,this);
this.pi.parent=this;K.appendChild(this.pi.e);K.appendChild(this.T4);this.Hv=new cn([25,1,2],!1,null,!0);
this.Hv.w("click",this.X9,this);K.appendChild(this.Hv.e);this.hU=U.n4(this);this.w("closebtn",this.Ua,this)}bq.prototype=new cm;
bq.prototype.Ua=function(K){if(this.r3)this.nz(this.Lg)};bq.prototype.f=function(){cm.prototype.f.call(this);
this.hU.f();this.l8.f();this.wU.f();this.atA.f();this.tm.f();this.W4.f();this.S5.f();this.$k.f();this.wu.f();
this.ga.f();this.Hv.f()};bq.prototype.Q3=function(K,E){this.HY=K};bq.prototype.jG=function(K,E){this.u7=JSON.parse(JSON.stringify(E.M));
this.Lg=JSON.parse(JSON.stringify(E.M));this.X7=this.wQ=null;this.nz=E.ze;this.r3=!1;this.G$=E.iI;this.tO();
this.FZ()};bq.prototype.OQ=function(K){var E=this.u7;this.nz(E);this.close()};bq.prototype.Xo=function(K){return K==j6.C3||K==j6.oh};
bq.prototype._G=function(K,E,x,c){if(c.l(j6.C3)||c.l(j6.oh)){if(this.wQ)this.az9();if(this.X7)this.amE()}};
bq.prototype.az9=function(K){var E=this.u7.Trns.v;if(this.wQ==null||E.length==1)return;E.splice(E.indexOf(this.wQ),1);
this.wQ=null;this.tO();this.FZ()};bq.prototype.amE=function(K){var E=this.u7.Clrs.v;if(this.X7==null||E.length==1)return;
E.splice(E.indexOf(this.X7),1);this.X7=null;this.tO();this.FZ()};bq.prototype.tO=function(){var K=this.T,E=this.gI,x=U.V();
K.width=Math.floor(410*x);K.height=Math.floor(70*x);U.P2(K,K.width,K.height);K.style.marginTop="8px";
this.oH=new cS(0,0,Math.floor(380*x),Math.floor(32*x));this.oH.x=Math.floor((K.width-this.oH.b)/2);this.oH.y=Math.floor((K.height-this.oH.n)/2);
var c=this.oH,J=c.b,i=c.n,P=c.x,_=c.y,a=new cS(0,0,J,i),j=E.getImageData(0,0,J,i),e=new Uint8Array(j.data.buffer);
W.Ii(e,J,i,8);var d=W.Q(J*i*4);W.M.iS(this.u7,d,a,[1/J,0,0,1/i],J/2,i/2,!1,0,this.HY.U9,this.HY.xw);
W.h.Nh("norm",d,c,e,c,c,1);E.clearRect(0,0,K.width,K.height);E.putImageData(j,P,_);var I=this.u7;if(I.Clrs){var v=I.Trns.v,n=I.Clrs.v,C=W.M.Y7(I,this.HY.U9,this.HY.xw),T=Math.round(6*U.V()),o=Math.round(14*U.V()),s=this.wQ?this.wQ.v:null,Q=this.X7?this.X7.v:null;
for(var y=0;y<v.length;y++){var X=v[y].v,B=Math.round(255-255*X.Opct.v.val/100);if((X==s||v[y-1]&&v[y-1].v==s||y==this.hq)&&y!=0){E.fillStyle="#000000";
E.fillRect(P-3+J*(v[y-1].v.Lctn.v+(X.Lctn.v-v[y-1].v.Lctn.v)*X.Mdpn.v/100)/4096,_-6-2,6,6)}if(X==s){E.fillStyle="#ffffff";
E.fillRect(P-T+J*(X.Lctn.v/4096)-2,_-2-o-2,2*T+4,o+4)}E.fillStyle="rgb("+B+","+B+","+B+")";E.fillRect(P-T+J*(X.Lctn.v/4096),_-2-o,2*T,o)}for(var y=0;
y<n.length;y++){var M=n[y].v,S=C[0][y][0];if((M==Q||n[y-1]&&n[y-1].v==Q||y==this.JM)&&y!=0){E.fillStyle="#000000";
E.fillRect(P-3+J*(n[y-1].v.Lctn.v+(M.Lctn.v-n[y-1].v.Lctn.v)*M.Mdpn.v/100)/4096,_+i+2,6,6)}if(M==Q){E.fillStyle="#ffffff";
E.fillRect(P-T+J*(M.Lctn.v/4096)-2,_+i+2-2,2*T+4,o+4)}E.fillStyle="rgb("+Math.round(S.o)+", "+Math.round(S.J)+","+Math.round(S.k)+")";
E.fillRect(P-T+J*(M.Lctn.v/4096),_+i+2,2*T,o)}}if(this.G$){this.nz(this.u7);this.r3=!0}};bq.prototype.FZ=function(){var K=this.u7,E=K.Clrs?0:1;
this.m2.$(E);if(U.Of(this.W6))this.body.removeChild(this.W6);if(U.Of(this.h_))this.body.removeChild(this.h_);
(E==0?this.AN:this.T4).appendChild(this.T);if(E==0){this.body.appendChild(this.W6);this.l8.$(Math.round(100*K.Intr.v/4096));
var x=K.Trns.v,c=K.Clrs.v,J=this.wQ!=null,i=this.hq!=-1;this.S5.Lk(J);this.$k.Lk(J||i);this.tm.Lk(J);
if(J){this.OG.setAttribute("style","");var P=this.wQ.v;this.$k.$(Math.round(100*P.Lctn.v/4096));this.S5.$(P.Opct.v.val)}if(i)this.$k.$(x[this.hq].v.Mdpn.v);
var J=this.X7!=null,i=this.JM!=-1;this.wu.Lk(J);this.VB.Lk(J);this.ga.Lk(J||i);this.W4.Lk(J);if(J){this.Si.setAttribute("style","");
var _=this.X7.v;this.ga.$(Math.round(100*_.Lctn.v/4096));var a=_.Type.v.Clry;this.wu.$(["FrgC","BckC","UsrS"].indexOf(a));
if(a=="FrgC")this.VB.aD(this.HY.U9);if(a=="BckC")this.VB.aD(this.HY.xw);if(a=="UsrS")this.VB.$(_.Clr.v)}if(i)this.ga.$(c[this.JM].v.Mdpn.v)}else{this.body.appendChild(this.h_);
this.pi.$(Math.round(100*K.Smth.v/4096))}this.body.appendChild(this.hU.e)};bq.prototype.X9=function(K){var E=this.u7,x=E.Clrs?0:1;
if(K.target==this.m2){var c=x==0?JSON.parse(dz.zT.aei).v:dJ.JQ("grdm").Grad.v;this.u7=c;this.FZ();this.tO();
return}if(x==0){E.Intr.v=Math.round(4096*this.l8.m()/100);var J=E.Trns.v,i=E.Clrs.v;if(this.wQ!=null){var P=this.wQ.v;
P.Lctn.v=Math.round(4096*(this.$k.m()/100));P.Opct.v.val=this.S5.m()}if(this.X7!=null){var _=this.X7.v;
_.Lctn.v=Math.round(4096*(this.ga.m()/100));if(K.target==this.VB)this.wu.$(2);var a=this.wu.m();_.Type.v.Clry=["FrgC","BckC","UsrS"][a];
if(a==2)_.Clr={t:"Objc",v:this.VB.m()};else if(_.Clr)delete _.Clr}if(this.hq!=-1)J[this.hq].v.Mdpn.v=this.$k.m();
if(this.JM!=-1)i[this.JM].v.Mdpn.v=this.ga.m()}else{E.Smth.v=Math.round(4096*this.pi.m()/100);if(K.target==this.Hv)E.RndS.v=Math.floor(Math.random()*4294967295)}this.tO()};
bq.prototype.BA=function(K){var E=U.bf(K,this.T),x=this.oH,c=(E.x*U.V()-x.x)/x.b,J=(E.y*U.V()-x.y)/x.n,i=this.u7.Trns.v,P=this.u7.Clrs.v,_=null,a=null,j=-1,e=-1;
if(J<1)for(var y=0;y<i.length;y++){var d=i[y].v;if(Math.abs(d.Lctn.v/4096-c)<.02)_=i[y];if(y>0)if(Math.abs((i[y-1].v.Lctn.v+(d.Lctn.v-i[y-1].v.Lctn.v)*d.Mdpn.v/100)/4096-c)<.01)j=y}if(J>0)for(var y=0;
y<P.length;y++){var I=P[y].v;if(Math.abs(I.Lctn.v/4096-c)<.02)a=P[y];if(y>0)if(Math.abs((P[y-1].v.Lctn.v+(I.Lctn.v-P[y-1].v.Lctn.v)*I.Mdpn.v/100)/4096-c)<.01)e=y}if(a==null&&_==null&&j==-1&&e==-1){if(J<0){var d={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
d.v.Lctn.v=Math.round(c*4096);i.push(d);i.sort(this.xU);_=d}if(J>1){var P=this.u7.Clrs.v,v=W.M.Y7(this.u7,this.HY.U9,this.HY.xw),n=W.M.cn(this.u7,v,c),I={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:W.M.TD({o:n&255,J:n>>8&255,k:n>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
I.v.Lctn.v=Math.round(c*4096);P.push(I);P.sort(this.xU);a=I}}if(a!=null)e=-1;if(_!=null)j=-1;if(a!=null||_!=null||j>-1||e>-1){this.wQ=_;
this.X7=a;this.hq=j;this.JM=e;this.FZ();this.tO();U.nx(window,this.DL);U.xz(window,this.ql)}};bq.prototype.IK=function(K){var E=U.bf(K,this.T),x=this.oH,c=(E.x*U.V()-x.x)/x.b,J=(E.y*U.V()-x.y)/x.n;
c=Math.max(0,Math.min(1,c));var i=this.u7.Trns.v,P=this.u7.Clrs.v;if(this.wQ!=null){var _=this.wQ.v;
_.Lctn.v=Math.round(4096*c);var a=i.indexOf(this.wQ);if(a!=-1&&J<-1&&i.length>1)i.splice(a,1);if(a==-1&&J>-1)i.push(this.wQ);
i.sort(this.xU)}if(this.X7!=null){var j=this.X7.v;j.Lctn.v=Math.round(4096*c);var e=P.indexOf(this.X7);
if(e!=-1&&J>2&&P.length>1)P.splice(e,1);if(e==-1&&J<2)P.push(this.X7);P.sort(this.xU)}if(this.hq>-1){var _=i[this.hq].v;
_.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(c*4096-i[this.hq-1].v.Lctn.v)/(_.Lctn.v-i[this.hq-1].v.Lctn.v))))}if(this.JM>-1){var j=P[this.JM].v;
j.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(c*4096-P[this.JM-1].v.Lctn.v)/(j.Lctn.v-P[this.JM-1].v.Lctn.v))))}if(this.wQ!=null||this.X7!=null||this.hq>-1||this.JM>-1){this.FZ();
this.tO()}};bq.prototype.S6=function(K){U.PL(window,this.DL);U.KR(window,this.ql);if(Date.now()-this.uf<300){if(this.JM!=-1||this.hq!=-1){var E=(this.JM!=-1?this.u7.Clrs.v[this.JM]:this.u7.Trns.v[this.hq]).v;
E.Mdpn.v=50;this.FZ();this.tO()}else if(this.X7!=null)this.VB.GD()}this.uf=Date.now()};bq.prototype.xU=function(K,E){return K.v.Lctn.v-E.v.Lctn.v};
function fx(){cm.call(this,[11,10],"isize");this.yg=U.t("div","form");this.yg.setAttribute("style","width:20em");
this.body.appendChild(this.yg);this.dE=new ea(!0,!0,null,null,!0);this.yg.appendChild(this.dE.e);this._Y=new jw([12,25,3]);
this._Y.$(!0);this.yg.appendChild(this._Y.e);this._Y.w(u.E.A,this.azs,this);this.Uh=new aw([12,14,1],[[12,14,2],[12,14,3],[12,14,4]]);
this.Uh.$(1);this.yg.appendChild(this.Uh.e);this.hU=U.n4(this,this.body)}fx.prototype=new cm;fx.prototype.qO=function(K,E){return K!=null};
fx.prototype.eb=function(){return!0};fx.prototype.azs=function(K){var E=this._Y.m(),x=this.dE,c=this.Uh;
if(E)c.gt();else c.s1();x.a3d(E)};fx.prototype.f=function(){cm.prototype.f.call(this);this._Y.f();this.hU.f();
this.Uh.f();this.dE.f()};fx.prototype.OQ=function(K){this.close();var E=this.dE.m(),x=E.x,c=E.y,J=this.Uh.m();
if(!this._Y.m())J=null;var i=new i3(u.E.Hg,!0);i.data=$.$a.a3X(x,c,this.dE.YU(),J);this.S(i)};fx.prototype.jG=function(K,E){this.dE.$(new iP(K.b,K.n),K.B8);
this.dE.W9()};function iW(){cm.call(this,"Import RAW","importraw");var K=U.t("div","flexrow"),E=U.t("div");
E.setAttribute("style","margin-bottom: 1em");this.body.appendChild(K);this.body.appendChild(E);var x=U.t("div","form");
x.setAttribute("style","width:18em");K.appendChild(x);var c=U.t("div","form");c.setAttribute("style","width:15em");
K.appendChild(c);this.KN=null;this.XV=null;this.tt=null;this.X2=null;this.afz=[];var J=[];for(var y=0;
y<iW.qU.length;y++)J.push(iW.qU[y]+" Bits");var i=this.QA=[new ea(!0,null,null,!0),new eW([12,72],1,8),new jw("Last one is Transparency"),new fn([12,34],J),new fn("Byte Order",["12-34","34-12"]),new aw("Guesses",[])];
for(var y=0;y<i.length;y++){var P=i[y];P.parent=this;P.w(u.E.A,y==5?this.alh:this.m1,this);var _=y==0?x:y==5?E:c;
_.appendChild(P.e)}this.T=U.t("canvas");this.gI=this.T.getContext("2d");this.body.appendChild(this.T);
this.hU=U.n4(this,this.body)}iW.prototype=new cm;iW.prototype.f=function(){cm.prototype.f.call(this);
var K=this.QA;this.hU.f();for(var y=0;y<K.length;y++)K[y].f()};iW.prototype.OQ=function(K){this.close();
var E=this.QA[0].m(),x=gr.vV(this.XV,[{data:this.tt,yA:new cS(0,0,E.x,E.y)}]);if(this.X2)x.Un=this.X2;
var c=new i3(u.E.L,!0);c.data={_:!0?u.c.CS:u.c.NJ,c1:x};this.S(c)};iW.qU=[8,16];iW.prototype.jG=function(K,E){this.KN=new Uint8Array(E.Z0);
this.XV=E.sU;var x=this.KN.length,c=[1,3,4],J=0,i=0,P=1,_=1,a=this.afz=[],j=Math.round(Math.sqrt(x)*2);
j=Math.max(j,4e3);for(var e=0;e<3;e++){for(var d=0;d<2;d++){var I=iW.qU[d],v=c[e],n=v*I,C=Math.round(x*8/n);
if(C!=x*8/n)continue;for(var T=0;T<=j;T++)for(var o=0;o<=j;o++)if(T*o==C){var s=0;if(T==o)s+=64;if(Math.round(T/100)==T/100&&Math.round(o/100)==o/100)s+=32;
if(Math.round(T/10)==T/10&&Math.round(o/10)==o/10)s+=16;if(Math.round(T/2)==T/2&&Math.round(o/2)==o/2)s+=8;
a.push([T,o,v,I,s])}}}var Q=function(S,f){if(f[4]!=S[4])return f[4]-S[4];var F=Math.max(S[0],S[1])/Math.min(S[0],S[1]),G=Math.max(f[0],f[1])/Math.min(f[0],f[1]);
if(F!=G)return F-G;return f[0]-S[0]};a.sort(Q);var X=this.QA,B=[];for(var y=0;y<a.length;y++){var M=a[y];
B.push(M[0]+" x "+M[1]+", "+M[2]+"ch, "+M[3]+"-bit")}X[5].C8(B);X[5].$(0);this.alh(null)};iW.prototype.alh=function(K){var E=this.QA,x=this.afz[this.QA[5].m()];
E[0].$(new iP(x[0],x[1]),72);E[1].$(x[2]);E[3].$(iW.qU.indexOf(x[3]));this.m1()};iW.prototype.m1=function(K){var E=this.QA,x=E[0].m(),c=x.x,J=x.y,i=iW.qU[E[3].m()],P=this.KN;
if(i==16&&E[4].m()==1){P=P.slice(0);for(var y=0;y<P.length;y+=2){var _=P[y];P[y]=P[y+1];P[y+1]=_}}var a=this.tt=this.TJ(P,c,J,E[1].m(),i,E[2].m()),j=this.T,e=this.gI,d=[a,new cS(0,0,c,J)];
W.gX(d);for(var y=0;y<d.length;y+=2)if(d[y+1].n<300){a=d[y];c=d[y+1].b;J=d[y+1].n;break}j.width=c;j.height=J;
U.P2(j,c,J);var I=new ImageData(new Uint8ClampedArray(a.buffer),c,J);e.putImageData(I,0,0)};iW.prototype.TJ=function(K,E,x,c,J,i){this.X2=null;
var P=[],_=E*x;for(var a=0;a<c;a++){var j=W.Q(_);P.push(j);if(J==8)for(var y=0;y<_;y++)j[y]=K[y*c+a];
else if(J==16)for(var y=0;y<_;y++)j[y]=Math.round((K[(y*c+a)*2]<<8|K[(y*c+a)*2+1])*(255/65535))}var e=W.Q(_*4);
new Uint32Array(e.buffer).fill(4278190080);if(i){W.Mz(P.pop(),e,3);c--}if(c==0){}else if(c==1)W.eE(P[0],e);
else{W.Mz(P[0],e,0);W.Mz(P[1],e,1);if(c>2){W.Mz(P[2],e,2);if(c>3){this.X2=[];for(var y=3;y<c;y++){var d=new Z.vW;
d.name="Alpha "+(y-2);d.rect=new cS(0,0,E,x);d.channel=P[y];this.X2.push(d)}}}}return e};function fE(K,E,x){fo.call(this);
this.e=U.t("div","");this.ws=K;this.x0=null;this.f4=E==null?!1:E;this.S1=null;this.WP=x;this.Id=[];this.F0=[];
this.SP=[];this.Ma=[];this.kk=0;this.x0=this.ay3(fE.Ma[K]);this.w9();this.BO=null;this.agZ;this.a0f}fE.prototype=new fo;
fE.prototype.zb=function(K,E,x,c,J){this.BO=J;this.agZ=JSON.parse(JSON.stringify(this.S1));if(this.x0.lagl)this.a0f=this.x0.lagl.m()[0]};
fE.prototype.il=function(K,E,x,c,J){var i=this.BO,P=this.ws,_=this.agZ;if(i==null)return;var a=(J.x-i.x)/K.D.N,j=(J.y-i.y)/K.D.N;
if(P=="GrFl"){var e=JSON.parse(JSON.stringify(_.Ofst.v));e.Hrzn.v.val+=a*.5;e.Vrtc.v.val+=j*.5;this.x0.Ofst.$(e,!0)}if(P=="patternFill"){var e=JSON.parse(JSON.stringify(_.phase.v));
e.Hrzn.v+=a;e.Vrtc.v+=j;this.x0.phase.$(e,!0)}if(P=="DrSh"||P=="IrSh"||P=="ChFX"){var d=_.Dstn.v.val,I=this.a0f*Math.PI/180,v=-Math.cos(I)*d+a,n=Math.sin(I)*d+j;
this.x0.Dstn.$(Math.sqrt(v*v+n*n),!0);this.x0.lagl.$([Math.atan2(n,-v)*180/Math.PI],!0)}};fE.prototype.N2=function(K,E,x,c,J){this.BO=null};
fE.prototype.a3h=function(){for(var y=0;y<this.Ma.length;y++){U.gz(this.Ma[y],"selected");if(this.SP[y]instanceof jw)this.SP[y].$(!1)}};
fE.prototype.avn=function(K){var E=this.a3U.bind(this);for(var y=0;y<this.SP.length;y++){var x=U.t("div","listitem");
this.Ma.push(x);if(y>0)x.textContent="\u2003";x.appendChild(this.SP[y].e);if(dz.ai0.indexOf(this.ws)!=-1){var c=new cn("+");
c.Kv();c.e.style.float="right";x.appendChild(c.e);var J=new cn("\u2B0D");J.Kv();J.e.style.float="right";
J.e.style["margin-right"]="2px";x.appendChild(J.e)}x.addEventListener("click",E,!1);K.appendChild(x)}};
fE.nw=function(K,E){var x=E.getBoundingClientRect();return(K.clientY-x.top)/x.height};fE.prototype.a3U=function(K){var E=K.target.tagName.toLowerCase();
if(E=="input"){return}if(E=="button"){var x=new i3(u.E.v,!0),c=K.target.textContent=="+",J=c?0:fE.nw(K,K.target)<.5?-1:1;
if(c)x.data={_:"st_dupsingle",j:this.parent.data.j,Av:this.WP};else x.data={_:"st_movsingle",j:this.parent.data.j,Av:this.WP,akt:J};
x.G=$.j8;x.s9=!0;this.S(x);x=new i3("redrawall",!0);x.data={akt:J};this.S(x);return}U.v$(K);this.qf();
this.kk=this.Ma.indexOf(K.currentTarget);this.S(new i3("showme"))};fE.prototype.qf=function(){if(this.x0.enab&&this.x0.enab.m()==!1)this.Ap({za:"enab",Z:!0})};
fE.prototype.akn=function(){var K=this.Ma[this.kk];if(K)U.sy(K,"selected");return this.F0[this.kk]};
fE.prototype.ay3=function(K){var E={};for(var y=0;y<K.length;y++){var x=K[y],c=null;if(x=="----")c={e:U.t("hr")};
if(x=="\n")c={e:U.t("br")};if(x=="blOptions")c=new jp([14,10]);if(x=="brst")c=new iM([12,72],["R","G","B"]);
if(x=="knko")c=new aw("Knockout",[[13,1,0],"Shallow","Deep"]);if(x=="enab")c=new jw(dz.names[dz.order.indexOf(this.ws)]);
if(x=="lrMd"||x=="Md")c=new aw([12,19,0],db.n7,db.eP);if(x=="Opct")c=new a4([12,0],0,100,"%");if(x=="iOpa")c=new a4([12,26],0,100,"%");
if(x=="blIf")c=new aU;if(x=="ShdN")c=new a4([12,68],0,100,"%");if(x=="lagl"||x=="Angl")c=new jH([12,15],this.ws=="ebbl");
if(x=="uglg")c=new jw([12,27]);if(x=="Dstn")c=new a4([12,28],0,200,"px");if(x=="Ckmt")c=new a4([12,29],0,100,"%");
if(x=="blur")c=new a4([12,14,0],0,200,"px");if(x=="TrnS"||x=="MpgS")c=new jk([12,21]);if(x=="Nose")c=new a4([12,30],0,100,"%");
if(x=="layerConceals")c=new jw([12,31]);if(x=="AntA"||x=="antialiasGloss")c=new jw([12,25,1]);if(x=="GlwT")c=new aw([12,32],dz.jp.names);
if(x=="glwS")c=new aw([12,70],dz.jp.azd);if(x=="Inpr")c=new a4([12,12],1,100,"%");if(x=="bvlS")c=new aw([12,22],dz._a.style);
if(x=="bvlT")c=new aw([12,32],dz._a.aek);if(x=="bvlD")c=new aw(null,dz._a.dir);if(x=="srgR")c=new a4([12,34],0,1e3,"%");
if(x=="Sftn")c=new a4([12,35],0,20,"px");if(x=="Lald")c=E.lagl;if(x=="hglM"||x=="sdwM")c=new aw([12,36],db.n7,db.eP);
if(x=="hglC"||x=="sdwC")c=new eX;if(x=="hglO"||x=="sdwO")c=new a4([12,0],0,100,"%");if(x=="Invr"||x=="InvT")c=new jw([4,11]);
if(x=="Sz")c=new a4([12,14,0],1,200,"px");if(x=="Styl")c=new aw([12,40],dz.stroke.names);if(x=="PntT")c=new aw([12,66],dz.stroke.a5C);
if(x=="Clr")c=new eX(!0);if(x=="Grad"){c=new au(!0,[12,37],!0);c.$(JSON.parse(dz.zT.apJ).v)}if(x=="Rvrs")c=new jw([12,23,0]);
if(x=="Dthr")c=new jw([12,23,3]);if(x=="Type")c=new aw([12,22],dz.M.names.slice(0,this.ws=="FrFX"?6:5));
if(x=="Ptrn")c=new hz([12,62]);if(x=="Scl")c=new a4([12,38],5,500,"%",0,!0);if(x=="Algn")c=new jw([12,39]);
if(x=="Ofst")c=new bk(!0);if(x=="phase")c=new bk(!1);if(x=="useShape")c=new jw([12,21]);if(x=="useTexture")c=new jw([12,67]);
if(x=="textureDepth")c=new a4([12,34],-300,300,"%");var J=x=="----"||x=="\n"?x+y:x;if(c!=null)E[J]=c}return E};
fE.prototype.amC=function(K){var E=this.F0[this.kk];for(var y=0;y<K.length;y++){var x=this.x0[K[y]];
if(x&&E.contains(x.e))E.removeChild(x.e)}};fE.prototype.aiS=function(K){var E=this.F0[this.kk];for(var y=0;
y<K.length;y++){var x=this.x0[K[y]];if(x&&!E.contains(x.e))E.appendChild(x.e)}};fE.prototype.Q3=function(K,E){if(this.x0==null)return;
var x=E==eu.$r;if(this.x0.Grad){this.x0.Grad.Zx(K.U9,K.xw);if(x||E==eu.Fa||E==eu.B5)this.x0.Grad.ly(K.zd)}if(this.x0.Ptrn){if(x||E==eu.up)this.x0.Ptrn.ly(K.$A)}if(this.x0.TrnS){if(x||E==eu.XE)this.x0.TrnS.ly(K.Nj)}if(this.x0.MpgS){if(x||E==eu.XE)this.x0.MpgS.ly(K.Nj)}};
fE.prototype.f=function(){for(var y=0;y<this.Id.length;y++)this.Id[y].f();for(var K in this.x0)if(this.x0[K]instanceof fo)this.x0[K].f()};
fE.prototype.w9=function(){for(var K in this.x0){var E=this.x0[K];E.parent=this;if(E instanceof fo)E.w(u.E.A,this.a41,this);
if(this.F0.length==0||K=="useShape"||K=="useTexture"){var x=new jp(E.aqL()),c=U.t("div","bordered padded");
if(this.f4==!1){c.appendChild(x.e);c.appendChild(U.t("hr",""))}this.Id.push(x);this.F0.push(c);this.SP.push(E)}else this.F0[this.F0.length-1].appendChild(E.e)}};
fE.prototype.update=function(K,E){if(this.x0==null)return;this.S1=JSON.parse(JSON.stringify(E));for(var x in E){if("Opct iOpa hglO sdwO Dstn Ckmt blur Nose Scl Sz Inpr srgR Sftn textureDepth ShdN".split(" ").indexOf(x)!=-1)this.x0[x].$(E[x].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals useShape useTexture Ofst phase blIf".split(" ").indexOf(x)!=-1){this.x0[x].$(E[x].v,K)}if(["Md","hglM","sdwM"].indexOf(x)!=-1)this.x0[x].$(db.ws.indexOf(E[x].v.BlnM));
if(x=="lrMd"){var c=(E.wC?[[15,10,27]]:[]).concat(db.n7),J=(E.wC?[1]:[]).concat(db.eP);this.x0[x].C8(c,J);
this.x0[x].$(E[x].v)}if(x=="Angl")this.x0[x].$([E[x].v.val]);if(x=="lagl"){var i=E.uglg&&E.uglg.v?K.XI():E.lagl.v.val;
this.x0[x].$([i])}if(x=="Lald"){var i=E.uglg&&E.uglg.v?K.So():E.Lald.v.val;this.x0[x].$([null,i])}if(x=="Type")this.x0[x].$(dz.M.types.indexOf(E.Type.v.GrdT));
if(x=="Styl")this.x0[x].$(dz.stroke.types.indexOf(E.Styl.v.FStl));if(x=="PntT"){var P=dz.stroke.Vu.indexOf(E.PntT.v.FrFl);
this.x0[x].$(P);if(!this.f4){this.amC(dz.zg.concat(dz.Ab.concat(dz.Tk)));this.aiS([dz.zg,dz.Ab,dz.Tk][P])}}if(x=="GlwT")this.x0[x].$(dz.jp.types.indexOf(E.GlwT.v.BETE));
if(x=="glwS")this.x0[x].$(dz.jp.arY.indexOf(E.glwS.v.IGSr));if(x=="bvlS")this.x0[x].$(dz._a.types.indexOf(E.bvlS.v.BESl));
if(x=="bvlT")this.x0[x].$(dz._a.afx.indexOf(E.bvlT.v.bvlT));if(x=="bvlD")this.x0[x].$(["In","Out"].indexOf(E.bvlD.v.BESs))}};
fE.prototype.a41=function(K){for(var E in this.x0){if(this.x0[E]!=K.target)continue;var x=null,c=!1;
if("Opct iOpa hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(E)!=-1)x={type:"#Prc",val:K.target.m()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(E)!=-1)x={type:"#Pxl",val:K.target.m()};if(["Angl","lagl"].indexOf(E)!=-1)x={type:"#Ang",val:K.target.m()[0]};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(E)!=-1)x=K.target.m();
if(["Md","hglM","sdwM"].indexOf(E)!=-1)x={BlnM:db.ws[K.target.m()]};if(E=="uglg"){x=K.target.m();c=!0}if(E=="PntT"){x={FrFl:dz.stroke.Vu[K.target.m()]};
c=!0}if(E=="Lald")x={type:"#Ang",val:K.target.m()[1]};if(E=="Type")x={GrdT:dz.M.types[K.target.m()]};
if(E=="Styl")x={FStl:dz.stroke.types[K.target.m()]};if(E=="GlwT")x={BETE:dz.jp.types[K.target.m()]};
if(E=="glwS")x={IGSr:dz.jp.arY[K.target.m()]};if(E=="bvlS")x={BESl:dz._a.types[K.target.m()]};if(E=="bvlT")x={bvlT:dz._a.afx[K.target.m()]};
if(E=="bvlD")x={BESs:["In","Out"][K.target.m()]};this.Ap({za:E,Z:x});if(c){if(this.f4)this.update(null,this.S1);
else{var J=this.parent,i=J.c1,P=this.WP,_=i.B[J.data.j].add.lmfx[dz.E9[P[0]]].v[P[1]].v;this.update(i,_)}}}};
fE.prototype.Ap=function(K){if(this.S1&&this.S1[K.za])this.S1[K.za].v=K.Z;if(this.f4){this.S(new i3(u.E.A))}else{K._="changeprop";
K.j=this.parent.data.j;K.JD=this.WP;var E=new i3(u.E.v,!0);E.data=K;E.G=$.j8;E.s9=!0;this.S(E);this.S(new i3("afterchange",!0))}};
fE.prototype.m=function(){return JSON.parse(JSON.stringify(this.S1))};fE.Ma={bops:"blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(dz.zg),GrFl:["enab","Md","Opct"].concat(dz.Ab),patternFill:["enab","Md","Opct"].concat(dz.Tk),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","PntT","\n"].concat(dz.zg.concat(dz.Ab.concat(dz.Tk)))};
function b7(){cm.call(this,[11,6],"layerstyle");this.aay=-1;this.data={};this.c1=null;this.ll=null;this._e=[];
this.p2=[];U.sy(this.body,"flexrow");this._k=U.t("div","bordered");this._k.setAttribute("style","min-width:13em;");
this.body.appendChild(this._k);this.Ml=U.t("div","");this.Ml.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.Ml);this.Rw=U.t("div","form");this.Rw.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.Rw);this.hU=U.n4(this,this.Rw);this.Em=new cn([12,87],!0,null,!0);this.Em.w("click",this.anF,this);
this.Rw.appendChild(this.Em.e);this.iD=new fz;this.iD.parent=this;this.iD.w(u.E.A,this.alZ,this);this.Rw.appendChild(this.iD.e);
this.w("closebtn",this.Ua,this);this.w("redrawall",this.a4x,this)}b7.prototype=new cm;b7.prototype.eb=function(){return!0};
b7.prototype.Qh=function(){return!0};b7.prototype.zb=function(K,E,x,c,J){var i=this.Fn();if(i)i.zb(K,E,x,c,J)};
b7.prototype.il=function(K,E,x,c,J){var i=this.Fn();if(i)i.il(K,E,x,c,J)};b7.prototype.N2=function(K,E,x,c,J){var i=this.Fn();
if(i)i.N2(K,E,x,c,J)};b7.prototype.Fn=function(K){if(K==null)K=this.data.index;return K==null?null:K==0?this._e[0]:this.p2[K[0]][K[1]]};
b7.prototype.alZ=function(K){var E=this.iD.m();this.Ap({_:"setstl",Z:E.BT});this.a4x(null)};b7.prototype.anF=function(K){var E=this.c1,x=this.data.j;
if(x==null)x=E.g[0];var c=this.c1.B[x],J=bd.a84(c),i=new i3(u.E.L,!0);i.data={_:u.c.Na,bA:"add",ry:eu.aH,M1:[JSON.parse(JSON.stringify(J))]};
this.S(i)};b7.prototype.aww=function(K){this.data.index=K.currentTarget.WP;this.UG(K.currentTarget.WP)};
b7.prototype.a4x=function(K){this.jG(this.c1,this.data)};b7.prototype.UG=function(K,E){U.w6(this.Ml);
for(var y=0;y<this._e.length;y++)this._e[y].a3h();var x=this.Fn(K);this.Ml.appendChild(x.akn());if(E)x.qf();
var c=this.c1;if(c){var J=c.B[this.data.j];this._e[0].update(c,$.FB.TC(c,J));var i=J.add.lmfx;if(i==null)return;
for(var y=0;y<dz.order.length;y++){var P=i[dz.E9[y]].v;for(var _=0;_<P.length;_++)this.p2[y][_].update(c,P[_].v)}}if(E)x.qf()};
b7.prototype.f=function(){cm.prototype.f.call(this);this.Em.f();this.iD.f();this.hU.f();for(var y=0;
y<this._e.length;y++)this._e[y].f()};b7.prototype.jG=function(K,E){var x=E.j==null;this.data.j=E.j;this.data.index=E.index;
E=this.data;this.c1=K;if(x)E.j=K.g.length==0?K.B.length-1:K.g[0];U.w6(this._k);var c=K.B[E.j].add.lmfx;
this.iJ();this._e=[new fE("bops",!1,0)];this.p2=[];for(var y=0;y<dz.order.length;y++){this.p2.push([]);
var J=c==null?[]:c[dz.E9[y]].v;for(var i=0;i<J.length;i++){var P=new fE(dz.order[y],!1,[y,i]);this._e.push(P);
this.p2[y].push(P)}if(J.length==0){var P=new fE(dz.order[y],!1,[y,0]);this._e.push(P);this.p2[y].push(P)}}this.f();
this.awA(this.ll,eu.$r);for(var y=0;y<this._e.length;y++){this._e[y].parent=this;this._e[y].avn(this._k);
this._e[y].w("showme",this.aww,this)}if(E.index==null||E.index==0||!x&&c[dz.E9[E.index[0]]].v.length==0){this.UG(0)}else this.UG(E.index,x);
this.w("afterchange",this.iJ,this)};b7.prototype.iJ=function(K){var E=this.c1,x=this.data.j;if(x==null)x=E.g[0];
var c=this.c1.B[x],J=bd.a84(c);this.iD.$(J,E.add.Patt?E.add.Patt:[],E.XI(),E.So())};b7.prototype.Q3=function(K,E){this.ll=K;
this.awA(K,E);if(E==eu.aH||E==eu.$r){this.iD.ly([K.n1,K.$A])}if(E==eu.dF){}};b7.prototype.awA=function(K,E){for(var y=0;
y<this._e.length;y++)this._e[y].Q3(K,E)};b7.prototype.Ua=function(K){this.Ap({_:"cancel"})};b7.prototype.OQ=function(K){this.Ap({_:"confirm"});
this.close()};b7.prototype.Ap=function(K){K.j=this.data.j;var E=new i3(u.E.v,!0);E.data=K;E.G=$.j8;E.s9=!0;
this.S(E);this.iJ()};b7.atI=function(){var K=function(E){if(E==null||E.g.length==0)return{q:!1};var x=E.B[E.g[0]];
return{q:x.add.lmfx!=null}};return{name:[11,6],_B:!0,sub:[{name:[5,1],q:K},{name:[5,2]},{name:[2,2],q:K}]}};
b7.a7I=function(){return{sub:[{Y:u.E.v,G:$.j8,F:{_:"st_copy"}},{Y:u.E.v,G:$.j8,F:{_:"st_paste"}},{Y:u.E.v,G:$.j8,F:{_:"st_clear"}}]}};
b7.fj=function(K){var E=[{name:[14,10],_B:!0}];for(var y=0;y<dz.names.length;y++)E.push({name:dz.names[y]});
if(K){E[E.length-1]._B=!0;E.push(b7.atI());E.push({name:[6,30,1],q:function(x){return{q:x!=null&&x.g.length!=0&&x.B[x.g[0]].L5()}}});
E.push({name:["VAR0 VAR1",[12,49],[9,1]],q:function(x){return{q:x!=null&&x.g.length!=0&&x.B[x.g[0]].add.lmfx!=null}}})}return E};
b7.h6=function(K){var E=[{Y:u.E.L,F:{_:u.c.v9,xc:"layerstyle"}}];for(var y=0;y<dz.names.length;y++)E.push({Y:u.E.L,F:{_:u.c.v9,xc:"layerstyle",index:[y,0]}});
if(K){E.push(b7.a7I());E.push({Y:u.E.L,F:{_:u.c.v9,xc:"scaleeffects",_5:100,Vv:{Y:u.E.v,G:$.j8,F:{_:"scaleeffects"}}}});
var x={classID:"Mk",null:b$.oe("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
E.push({Y:u.E.Hg,F:{va:"make",Ks:x}})}return E};b7.a8E=function(K){var E=[];if(K)E.push({name:[6,48,0,0],Ps:!0},{name:[6,48,0,1],Ps:!0},{name:[6,48,0,2],Ps:!0,_B:!0});
for(var x in c2.names)E.push({name:c2.names[x],_B:c2.a7A.indexOf(x)!=-1,Ps:az[x]!=null});return E};b7.t_=function(K){var E=[];
if(K){E.push({Y:u.E.v,G:$.ef,F:{_:"newfill",cl:0}});for(var y=1;y<3;y++)E.push({Y:u.E.Hg,F:$.SM.rM(y)})}for(var x in c2.names){var c=dJ.JQ(x);
if(c==null)c={};for(var J in c2.Zq)if(c2.Zq[J]==x)c.classID=J;var i={va:"make",Ks:{classID:"Mk",null:b$.oe("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:c}}}}};
E.push({Y:u.E.Hg,F:i})}return E};function dL(){cm.call(this,"Merge Channels","mergechannels");this.ix=null;
var K=U.t("div","form");this.body.appendChild(K);this.QA=[];for(var y=0;y<3;y++){var E=new aw(c2.V2[y],[]);
this.QA.push(E);K.appendChild(E.e);U.R0(K)}this.hU=U.n4(this,K)}dL.prototype=new cm;dL.prototype.f=function(){cm.prototype.f.call(this);
this.hU.f();for(var y=0;y<3;y++)this.QA[y].f()};dL.prototype.jG=function(K,E,x,c){this.ix=x;var J=[];
for(var y=0;y<x.length;y++)J.push(x[y].name);for(var y=0;y<3;y++){var i=this.QA[y];i.C8(J);i.$(Math.min(y,x.length-1))}};
dL.prototype.OQ=function(K){var E=this.ix,x=E[0],c=new i3(u.E.Hg,!0);c.data=gD.dt(x.b,x.n,x.B8,"Merged Document","Wht",!1);
this.S(c);var J=[];for(var y=0;y<3;y++)J.push(E[this.QA[y].m()].S7());var x=E[E.length-1],i=x.B[0],P=i.buffer;
for(var y=0;y<P.length;y+=4){P[y]=J[0][y];P[y+1]=J[1][y];P[y+2]=J[2][y]}i.U();x.U();this.close()};function bO(){cm.call(this,[1,10],"script");
var K=U.t("div","form");K.setAttribute("style","width:44em");this.body.appendChild(K);this.ll=null;this.Ow=[];
this.T9=[];this.a7V;var E=this.J5=new cn([1,2],!1,null,!0);E.w("click",this.ub,this);K.appendChild(E.e);
var x=new cn("JS Reference",!1,null,!0);x.w("click",this.ae8,this);K.appendChild(x.e);K.appendChild(new jp("Demos:").e);
this.abu=[];var c=bO.kn;for(var y=0;y<c.length;y++){var J=new cn(c[y].jF,!1,null,!0);this.abu.push(J);
K.appendChild(J.e);J.w("click",this.amI,this)}this.qG=U.t("textarea");U.sr(this.qG);this.qG.setAttribute("rows",16);
this.qG.setAttribute("style","display:block;tab-size:4; font-family:monospace;width:100%;");K.appendChild(this.qG);
var i=new cn("Run",!0,null,!0);i.w("click",this.OQ,this);K.appendChild(i.e);this.Zu=U.t("div");K.appendChild(this.Zu)}bO.prototype=new cm;
bO.prototype.f=function(){this.J5.f()};bO.prototype.ub=function(){var K=this.a7V;if(K==null)K="script.jsx";
var E=new i3(u.E.L,!0);E.data={_:u.c.v9,xc:"namewindow",_5:K.slice(0,K.length-4),sO:this.a9f.bind(this)};
this.S(E)};bO.prototype.a9f=function(K){var E=this.qG.value,x=R.zR(E),c=new i3(u.E.L,!0);c.data={_:u.c.u8,Z0:x.buffer,mg:K+".jsx",axH:!0};
this.S(c)};bO.prototype.ap6=function(K){var y=this.Ow.indexOf(K.target),E=this.a7V=this.T9[y],x=this.ll.vN.xP[E],c=new Uint8Array(x),J=R.__(c,0,c.length);
this.qG.value=J};bO.prototype.jG=function(K,E,x){this.qG.value=bO.kn[0].E3;this.a1P()};bO.prototype.a1P=function(){var K=this.ll.vN,E=this.Zu;
U.w6(E);this.Ow=[];this.T9=[];E.textContent="Saved scripts: ";for(var x in K.xP){if(x.endsWith(".jsx")){var c=new cn(x,!1,null,!0);
this.Ow.push(c);this.T9.push(x);c.w("click",this.ap6,this);E.appendChild(c.e)}}};bO.prototype.Q3=function(K,E){this.ll=K;
if(E==eu.pt)this.a1P()};bO.prototype.ae8=function(K){var E=new i3(u.E.L,!0);E.data={_:u.c.$X,link:"https://github.com/Adobe-CEP/CEP-Resources/blob/master/Documentation/Product%20specific%20Documentation/Photoshop%20Scripting/photoshop-javascript-ref-2020.pdf"};
this.S(E)};bO.prototype.OQ=function(K){var E=new i3(u.E.L,!0);E.data={_:u.c.nO,RI:this.qG.value};this.S(E)};
bO.prototype.amI=function(K){var E=this.abu.indexOf(K.currentTarget);this.qG.value=bO.kn[E].E3};bO.kn=[{jF:"Hello",E3:"\nalert(\"Hello Photopea!\");\n"},{jF:"Process Layers",E3:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{jF:"Clone Layers",E3:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function ka(){cm.call(this,[11,7],"newproject");this.data=null;this.ix=null;this.aw=0;var K=U.t("div","flexrow");
this.lB=K;this.body.appendChild(K);var E=U.t("div","form");this.yg=E;K.appendChild(E);this.iV=new ay([12,48],null,10);
E.appendChild(this.iV.e);U.R0(E);this.dE=new ea(!0,null,null,null,!0);this.dE.$(new iP(1280,720),72);
this.dE.a3d(!0,!0);this.dE.w(u.E.A,this.cs,this);E.appendChild(this.dE.e);this.qN=new eB;this.qN.parent=this;
E.appendChild(this.qN.e);this.ZP=new cn("\u02C5",null,[0,14],!0);this.ZP.w("click",this.qS,this);E.appendChild(this.ZP.e);
var x=this.ayF=U.t("span");E.appendChild(x);x.style.display="none";this.ari=new aw([13,6],["sRGB","Adobe RGB","ProPhoto RGB","Display P3"]);
x.appendChild(this.ari.e);this.zA=new jw([1,16,1]);x.appendChild(this.zA.e);this.hU=new cn([12,49],!0,null,!0);
this.hU.w("click",this.OQ,this);E.appendChild(this.hU.e);var c=ka.KN,J=[];for(var y=0;y<c.length;y++)J.push(c[y].name);
this.v3=new fn(null,J);this.v3.w(u.E.A,this.ahb,this);E.appendChild(this.v3.e);this.v3.e.style["margin-top"]="1em";
this.qo=new hA(!0);this.qo.w(u.E.A,this.asE,this);E.appendChild(this.qo.e);this.ahb();this.dV=new bh;
this.dV.parent=this;this.dV.e.setAttribute("style","margin-left:1em");this.dV.w("tempready",this.aji,this)}ka.prototype=new cm;
ka.prototype.qS=function(K){var E=this.ayF,x=E.style.display!="none";E.style.display=x?"none":"";this.ZP.Q1(x?"\u02C5":"\u02C4");
this.nt(this.pz,this.o4)};ka.prototype.Q3=function(K,E){this.dV.Q3(K)};ka.prototype.Hb=function(K,E){return new iP(Math.max(0,Math.min(70,(K-690)/2)),K>E?Math.max(0,Math.min(50,(E-400)/2)):0)};
ka.prototype.nt=function(K,E){this.pz=K;this.o4=E;this.yg.setAttribute("style","width:"+Math.min(K-24,338)+"px");
this.qo.e.style.height=E-248-(this.ayF.style.display=="none"?0:28)+"px";var x=this.dV.e,c=x.parentNode;
if(K<500){if(c!=null)this.lB.removeChild(x)}else{if(c==null)this.lB.appendChild(x);this.dV.nt(K-378,E-28)}};
ka.prototype.cs=function(){this.dV.$(this.dE.m())};ka.prototype.asE=function(K){var E=this.qo.m()[0],x=ka.KN[this.v3.m()].nR[E],c=x[4];
if(c==0)c=72;var J=x[1],i=x[2],P=["px","%","mm","in"].indexOf(x[3]),_=[1,1,25.4/c,1/c][P];J/=_;i/=_;
this.dE.$(new iP(Math.round(J),Math.round(i)),c);this.dE.ad0(P);this.cs();if(Date.now()-this.aw<300)this.OQ();
this.aw=Date.now()};ka.prototype.ahb=function(K){var E=ka.KN[this.v3.m()].nR,x=[],c=[],J=Math.round(106*U.V()),i=Math.round(106*U.V()),P=0;
for(var y=0;y<E.length;y++)P=Math.max(P,E[y][1],E[y][2]);for(var y=0;y<E.length;y++){var _=E[y],a=_[1]+" x "+_[2]+" "+_[3];
if(_[3]=="in")a=(_[1]*25.4).toFixed(0)+" x "+(_[2]*25.4).toFixed(0)+" mm";if(_[3]=="mm")a=(_[1]/25.4).toFixed(1)+" x "+(_[2]/25.4).toFixed(1)+" in";
if(_[4])a=a+" @ "+_[4]+" ppi";c.push(a);x.push(ka.yi(_,J,i,P))}this.qo.U3(x,c,J,i)};ka.yi=function(K,E,x,c){var J=U.t("canvas",""),i=J.getContext("2d");
J.width=E;J.height=x;var P=Math.round(E/8),_=Math.floor(11*U.V()),a=K[1],j=K[2];i.fillStyle="#000000";
i.font=Math.round(_*.9)+"px \"Open Sans\", Sans-Serif";var e=a+" x "+j+" "+K[3],d=i.measureText(e);i.fillText(e,Math.round((E-d.width)/2),x-Math.round(P/2));
if(K[0]!=null){i.font="bold "+_+"px \"Open Sans\", Sans-Serif";var e=K[0],d=i.measureText(e);i.fillText(e,Math.round((E-d.width)/2),x-Math.round(P/2)-Math.round(_*1.3))}x-=Math.round(2.5*_);
var I=Math.min((E-P)/a,(x-P)/j);I*=.5+.5*(Math.max(a,j)/c);var v=(E-a*I)/2,n=(x-j*I)/2;i.strokeRect(Math.round(v)+.5,Math.round(n)+.5,Math.round(a*I),Math.round(j*I));
return J.toDataURL()};ka.prototype.f=function(){cm.prototype.f.call(this);this.dE.f();this.iV.f();this.qN.f();
this.hU.f();this.iV.$(hg.get([11,7]));this.v3.f();this.zA.f();this.ZP.f();this.dV.f()};ka.prototype.OQ=function(K){var E=this.dE.m(),x=E.x,c=E.y;
this.close();var J=this.qN.m(),i=["sRGB IEC61966-2.1","Adobe RGB (1998)","ProPhoto RGB","image P3"][this.ari.m()],P=new i3(u.E.Hg,!0);
P.data=gD.dt(x,c,this.dE.YU(),this.iV.m(),["Wht","Blck","Trns","Clr"][J[0]],this.zA.m(),J[1],i);this.S(P);
this.aox()};ka.prototype.aji=function(K){var E=K.data.c1;E.B8=this.dE.YU();var x=new i3(u.E.L,!0);x.data={_:u.c.CS,c1:E};
this.S(x);this.close();this.aox()};ka.prototype.aox=function(){var K=this.ix[this.ix.length-1],E=this.data.aaQ;
if(E)fj.Lo(function(){var x=new XMLHttpRequest,c="https://www.googleapis.com/drive/v3/files?"+fj.KP();
x.open("POST",c,!0);x.setRequestHeader("Content-Type","application/json");x.addEventListener("load",function(J){var i=JSON.parse(J.target.response);
K.n_={file:i,VW:"psd"};alert(K.name+" created in Google Drive")});x.send(JSON.stringify({name:K.name,axv:[E]}))})};
ka.prototype.jG=function(K,E,x,c){this.ix=x;if(K!=null&&K.P!=null){var J=new cS(0,0,K.b,K.n).Sl(K.P.rect);
this.dE.$(new iP(J.b,J.n))}this.data=E;this.cs();if(U.BI())hP.a2m(this.a8P.bind(this))};ka.prototype.a8P=function(K){if(K=="granted")hP.Rf(this,this.a5W.bind(this))};
ka.prototype.a5W=function(K,E){this.dE.$(new iP(E.b,E.n))};ka.KN=[{name:"Social",nR:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],nR:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],nR:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],nR:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],nR:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],nR:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2\u1D3A",nR:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function h$(K,E,x){cm.call(this,E,"sel_"+K);this._=K;var c=U.t("div","form");this.body.appendChild(c);
this.iV=new eW(E,0,255,null,0,!1,!0);c.appendChild(this.iV.e);this.iV.$(1);var J=U.t("span");J.textContent=x;
c.appendChild(J);U.R0(c);this.ahG=new jw("Apply at canvas bounds");if(K!="border")c.appendChild(this.ahG.e);
this.hU=U.n4(this,c)}h$.prototype=new cm;h$.prototype.qO=function(K,E){if(K==null)return;if(K.P==null)alert("No selection!");
return K.P!=null};h$.prototype.OQ=function(K){var E=new i3(u.E.Hg,!0);E.data=$.cx.zn(this._,this.iV.m(),this.ahG.m());
E.s9=!0;this.S(E);this.close()};h$.prototype.f=function(){cm.prototype.f.call(this);this.hU.f();if(this.iV)this.iV.f()};
h$.prototype.jG=function(K,E){};function kv(K,E,x,c,J,i){cm.call(this,x,E);this.a1c=i;this.G$=J;this.KN=null;
this.yg=U.t("div","form");this.body.appendChild(this.yg);this.adR=U.t("div");this.yg.appendChild(this.adR);
this.iV=K==0?new ay(x,null,10):K==1?new a4(x,0,500,c,1):new ay(x,null,24,5);this.iV.w(u.E.A,this.Wz,this);
this.yg.appendChild(this.iV.e);this.hU=U.n4(this,this.yg);this.w("closebtn",this.Ua,this)}kv.prototype=new cm;
kv.prototype.Hb=function(K,E){return new iP(Math.max(0,Math.min(150,(K-250)/2)),Math.max(0,Math.min(150,(E-120)/2)))};
kv.prototype.eb=function(){return this.a1c};kv.prototype.Wz=function(K){var E=this.iV.m();if(this.G$)this.eH(E)};
kv.prototype.Ua=function(K){if(this.G$)this.eH("cancel")};kv.prototype.OQ=function(K){if(this.G$)this.eH("confirm");
else this.eH(this.iV.m());this.close()};kv.prototype.eH=function(K){if(this.KN.sO)this.KN.sO(K);else if(this.KN.Vv){var E=this.KN.Vv,x=new i3(E.Y,!0);
x.G=E.G;x.data=E.F;x.data.Z=K;x.s9=!0;this.S(x)}};kv.prototype.f=function(){cm.prototype.f.call(this);
this.hU.f();if(this.iV)this.iV.f()};kv.prototype.jG=function(K,E){this.KN=E;this.iV.$(E._5);this.iV.W9();
this.adR.innerHTML=E.ab7?E.ab7:"";this.Wz(null)};function eg(){cm.call(this,[1,5],"open_from_url");this.p6=null;
var K=U.t("div","form");this.body.appendChild(K);this.fz=new ay("URL",null,22);K.appendChild(this.fz.e);
U.R0(K);this.es=new fn([21,0],[[21,2],[21,1]]);K.appendChild(this.es.e);this.hU=U.n4(this,K)}eg.prototype=new cm;
eg.prototype.f=function(){cm.prototype.f.call(this);this.hU.f();this.es.f()};eg.prototype.jG=function(K,E,x){this.fz.W9();
this.p6=null;if(K&&x.indexOf(K)!=-1)this.p6=x.indexOf(K)};eg.prototype.OQ=function(K){var E=new i3(u.E.L,!0),x=this.fz.m();
E.data={_:u.c.Pp,ry:{url:x,RX:!0,p6:this.es.m()==1?this.p6:null}};this.S(E);this.close()};function jm(){cm.call(this,[12,79],"preferences");
this.ll=null;var K=U.t("div","form");this.body.appendChild(K);this.Ma=[new jw([8,2]),new jw([8,4]),new aw([12,80,3],[[12,93,3],[12,80,4]]),new a4([12,80,5],.02,100,null,2),new aw(null,W.uz.ko),new aw([12,80,6],W.uz.ko),new jw("Remind me to save")];
for(var y=0;y<this.Ma.length;y++){var E=this.Ma[y];K.appendChild(E.e);if(y!=3)U.R0(K);E.w(u.E.A,this.dX,this)}}jm.prototype=new cm;
jm.prototype.f=function(){cm.prototype.f.call(this);for(var y=0;y<this.Ma.length;y++)this.Ma[y].f()};
jm.prototype.jG=function(K,E,x){};jm.prototype.Q3=function(K,E){this.ll=K;var x=K.Vp;this.Ma[0].$(x.J$);
this.Ma[1].$(x.vh);this.Ma[2].$(x.uU);this.Ma[3].$(x.SH);this.Ma[4].$(x.Yb);this.Ma[5].$(x.OZ);this.Ma[6].$(K.Ep==1)};
jm.prototype.dX=function(K){var E=this.Ma;if(K.target==E[6])this.ll.Ep=1-this.ll.Ep;var x=JSON.parse(JSON.stringify(this.ll.Vp));
x.J$=E[0].m();x.vh=E[1].m();x.uU=E[2].m();x.SH=E[3].m();x.Yb=E[4].m();x.OZ=E[5].m();var c=new i3(u.E.L,!0);
c.data={_:u.c.Na,ry:eu.f6,iz:x};this.S(c)};function ew(){cm.call(this,[11,8],"saveforweb");this.a8I="";
this.w("closebtn",function(){this.Jn.NL()},this);this.c1=null;this.lE=null;this.aym=null;this.ll=null;
U.sy(this.body,"flexrow");this.body.style.padding="0";var K=U.t("div");K.setAttribute("style","position:relative;");
var E=U.t("div");this.body.appendChild(K);this.body.appendChild(E);this.Si=U.t("div","imgcont");K.appendChild(this.Si);
this.Jn=new b3;this.Jn.nt(512,512);this.jv=U.t("div");this.jv.setAttribute("style","position:absolute;  right:0px; bottom:0px; padding: 3px 6px;  background-color:black;");
K.appendChild(this.jv);var x=this.yg=U.t("div","form cell");x.setAttribute("style","width:195px; padding:9px 13px;");
E.appendChild(x);this.O2=new ay([12,48],null,7.6);this.O2.TA();x.appendChild(this.O2.e);var c=gr.vv();
c[c.indexOf("WEBP")]="webP";this.ol=new aw([12,50],c);this.ol.e.style.marginRight="0";this.ol.TA();x.appendChild(this.ol.e);
this.ol.w(u.E.A,this.SI,this);U.R0(x);this.dE=new ea(!0,!0,!1,!0);this.dE.TA();this.dE.w(u.E.A,this.SI,this);
this.dE.Kf.e.style.paddingBottom="8px";x.appendChild(this.dE.e);this.k4=new co;this.k4.w(u.E.A,this.SI,this);
x.appendChild(this.k4.e);this.dA=new cn([1,2],!0,null,!0);this.dA.w("click",this.OQ,this);x.appendChild(this.dA.e)}ew.prototype=new cm;
ew.prototype.qO=function(K,E){return K!=null};ew.prototype.f=function(){cm.prototype.f.call(this);this.dE.f();
this.O2.f();this.ol.f();this.k4.f();this.dA.f()};ew.prototype.OQ=function(K){var E=this.O2.m().trim(),x=gr.vv()[this.ol.m()],c=x=="JPG"||x=="PNG"||x=="GIF",J=gr.Zf(x),i="."+x.toLowerCase(),P=this.lE,_=E+i,a=this.c1,j=a.ea,e=this.k4.m();
if(a.bD())e.pop();if(j.length!=0&&c&&e.pop()){var d="<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n",I=[],v={},n=new cS(0,0,a.b,a.n),C=a.S7();
for(var y=0;y<j.length;y++)I.push($.ie.rQ(j,y));I.reverse();var T=W.rect.zC([0,0,a.b,a.n],I);for(var y=0;
y<T.length;y++){var o=T[y],s=new cS(o[0],o[1],o[2]-o[0],o[3]-o[1]),Q=o.length==5?j[o[4]].v:null,X=W.Q(s.O()*4);
W.UL(C,n,X,s);var B="img/img"+(y+1)+i;v[B]=new Uint8Array(J.bu([[X.buffer,0]],s.b,s.n,e));d+="<div style=\"background-image:url('"+B+"'); left:"+s.x+"px; top:"+s.y+"px; width:"+s.b+"px; height:"+s.n+"px\">";
if(Q&&Q.url.v!="")d+="\n\t<a href=\""+Q.url.v+"\" target=\""+Q.null.v+"\" style=\"display:block;width:100%;height:100%;\"></a>\n";
d+="</div>\n"}d+="</body>\n</html>\n";var M=W.Q(Math.round(d.length*1.5)),S=R.g$(d,M,0);v["index.html"]=M.slice(0,S);
P=UZIP.encode(v);_=E+".zip"}else if(a.add.artd&&a.add.artd.Cnt.v>1&&c&&e.pop()){var v={},n=new cS(0,0,a.b,a.n),C=a.S7(),f=a.root.children;
for(var y=0;y<f.length;y++){var F=f[y].j;if(F.add.artb==null||!F.bL())continue;var G=F.IZ(),D=W.Q(G.O()*4);
W.UL(C,n,D,G);v[F.getName()+i]=new Uint8Array(J.bu([[D.buffer,0]],G.b,G.n,e))}P=UZIP.encode(v);_=E+".zip"}if(a.RJ)hP.$n("act=1&id="+a.RJ);
this.Jn.NL();this.close();var b=function(){var q=new i3(u.E.L,!0);q.data={_:u.c._X,data:P,name:_};this.S(q)}.bind(this);
if(!this.ll.dN||dq.bI()){b();return}var H=aG.Wx()!=0;b();var q=new i3(u.E.L,!0),O=g6.Ij("3UMe\\ORYBB@EVG9* 08{\"\",-913-yXs^]Y\\Mm^UHKR3.8F6&+*.y1oo{%qm{m^Xo_SNLU]NA97N-7*B32*'##\"*WlprjhZS.k9XHSPYXt41:=36@;y*2$tn&womykcpZPIWP^IHH8]");
if(H)O=g6.Ij("0^Ne\\ORYLG:<2G&0>\\|W~~otku?|J_ce][MFaVKNB7O;9;C&6$+)1wq(jxdnreaUlNPH`UC9IQH;>E'/J9f un}l0!u\\lXZn[^XbAAMd");
q.data={_:u.c.v9,xc:g6.JE,Z:O,sO:function(){}};if(Math.random()<.1||H)this.S(q)};ew.prototype.jG=function(K,E){if(E.fC!=null)this.ol.$(E.fC);
this.c1=K;var x=this.c1.name,c=x.lastIndexOf("."),x=c==-1?x:x.slice(0,c);this.O2.$(x);var J=K.b+","+K.n;
if(J!=this.a8I){this.a8I=J;this.dE.$(new iP(K.b,K.n),K.B8)}this.k4.azm();if(E.a1u){this.dE.ad0(3);this.k4.AF.PDF[2].lF.$(!0)}this.SI(null,!0)};
ew.prototype.ayO=function(K,E){return K<E&&K<660};ew.prototype.Hb=function(K,E){return this.ayO(K,E)?new iP(0,0):new iP(Math.max(0,Math.min(150,(K-770)/2)),Math.max(0,Math.min(150,(E-590)/2)))};
ew.prototype.nt=function(K,E,x){this.pz=K;this.o4=E;if(this.c1==null)return;var c=this.dA.e,J=this.ayO(K,E),i,P,I="<span style=\"width:",v="display:inline-block; text-align:right;\">";
if(J){var _=this.yg.getBoundingClientRect().height;i=K;P=E-Math.max(_,252);U.gz(this.body,"flexrow")}else{i=Math.min(512,K-195-2*13);
P=Math.min(512,E-24);U.sy(this.body,"flexrow")}var a=J?K-2*13:195;this.yg.style.width=a+"px";this.O2.ZV.style.width=a-72+"px";
this.dE.nt(a);var j=gr.vv()[this.ol.m()],e=gr.Zf(j);if(e.pC||e.BQ)this.Si.firstChild.setAttribute("style","display:block; width:"+i+"px; height:"+P+"px;");
else this.Jn.nt(i,P);var d=this.lE.byteLength,n=I+64+"px;"+v+ew.ev(d)+"</span>";if(i>400)n+=I+90+"px; opacity:"+.5+";"+v+d.toLocaleString()+" B</span>";
this.jv.innerHTML=n;if(x)setTimeout(function(){this.nt(this.pz,this.o4)}.bind(this),20)};ew.ev=function(K){var E=K.toString(2),x=0;
while(x+10<E.length)x+=10;var c=(K/Math.pow(2,x)).toFixed(1);if(c.endsWith(".0"))c=c.slice(0,-2);var J="B KB MB GB TB PB".split(" ")[Math.floor(x/10)];
return c+" "+J};ew.prototype.Q3=function(K,E){this.ll=K};ew.prototype.SI=function(K,E){var x=this.c1,c=this.dE.m(),J=c.x,i=c.y,P=this.ol.m(),_=gr.vv()[P],a=gr.Sn(x)[0].length,j=["GIF","PNG","WEBP"].indexOf(_)!=-1&&a>1,o="";
if(j&&E&&(a>4&&J*i>1024*1024||J*i*a>800*800*50)){var e=1;while(Math.max(J>>>e,i>>>e)>800)e++;var d=window.confirm("Your animation is large ("+J+" x "+i+" px). Press \"OK\" to scale it to "+(100>>>e)+"%. Press \"Cancel\" to keep the size.");
if(d){this.dE.$(new iP(J>>>e,i>>>e),null,!0);J=J>>>e;i=i>>>e}}var I=x.add.artd,v=I!=null&&I.Cnt.v>1,n=x.bD();
this.k4.g0(_,j,x.ea.length!=0,v,n!=null);var C=localStorage.getItem("sfwPrms");if(C==null)C={};else C=JSON.parse(C);
var T=this.k4.m();if(K&&K.target==this.k4){C[_]=T;localStorage.setItem("sfwPrms",JSON.stringify(C))}else if(C[_]){this.k4.$(C[_],!0);
T=this.k4.m()}this.lE=gr.ca(x,_,J,i,T,this.ll);if(this.lE==null){this.c1=null;return}U.w6(this.Si);this.Jn.NL();
var s=gr.Zf(_);if(s.BQ){this.Si.innerHTML="<div></div>"}else if(s.pC){var Q=J,X=i,B;if(_=="PDF"){B=URL.createObjectURL(new Blob([this.lE],{type:"application/pdf"}))}else{B=URL.createObjectURL(new Blob([this.lE],{type:"image/svg+xml"}))}this.Si.innerHTML="<iframe src=\""+B+"\"></iframe>"}else{var M=this.aym=s.TJ(this.lE),S=M[0],f=S.yA,Q=f.b,X=f.n;
if(S.wM){var F=ICC.R(S.wM.buffer),G=17,D=ICC.U.sampleLUT(F,G);for(var y=0;y<M.length;y++){var b=new Uint8Array(M[y].data);
ICC.U.applyLUT(D,G,b,b)}}this.Jn.$(M,M.length>1?T[T.length-3]:0);this.Si.appendChild(this.Jn.e);o="background: rgba(0,0,0,0);"}this.Si.setAttribute("style","display:block; "+(s.BQ?"background:rgba(0,0,0,0);":"background-size:"+16/U.V()+"px;")+o);
this.nt(this.pz,this.o4,E)};function cL(){cm.call(this,[11,13],"shortcuts");var K=this.lB=U.t("div","scrollable");
K.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(K);
this.a04()}cL.prototype=new cm;cL.prototype.f=function(){cm.prototype.f.call(this);this.a04()};cL.prototype.a04=function(){var K="<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",E="",x=j6,c=x.Se,J=x.iu,i=x.iE;
E+="<h2 style=\"margin-top:0;\">Main Menu</h2>";E+=K;E+=this.hZ([[0,0],"---",[1,0],[c,x.m8],[1,2],[c,x.Ed],[1,3],[J,c,x.Ed],[1,8],[i,J,c,x.Ed],[0,1],"---",[2,0],[J,c,x.WV],[2,1],[c,x.WV],[5,0],[c,x.s7],[5,1],[c,x.ww],[5,2],[c,x.od],[2,2],"Delete",[2,3],[i,x.oh],[10,16],[i,c,x.vJ],[12,79],[c,x.ms],[3],"---",[4,1],[c,x.sm],[4,2],[c,x.m3],[4,5],[c,x.Vd],[4,11],[c,x.th],[0,3],"---",[6,13],[J,c,x.KA],[6,49,0],[c,x.QY],[6,6,0],[i,c,x.Zt],[6,9],[c,x.Zt],[6,10],[c,x.E],[0,5],"---",[7,0],[c,x.c],[7,1],[c,x.hY],[7,2],[J,c,x.th],[0,7],"---",[8,0],[c,x.Q5],[8,1],[c,x.jb],[8,3],[c,x.oE],[8,2],[c,x.Rn],[8,4],[c,x.cR],[11,13],"?"]);
E+="</div>";E+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";E+=K;E+=this.hZ(["Vertical scroll","Wheel","Horizontal scroll",[c,"Wheel"],"Zooming",[i,"Wheel"]]);
E+="</div>";E+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
E+=K;E+=this.hZ([[10,11],[c],[10,7],"Space",[10,17],[c,x.rm]]);E+="</div>";E+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
E+=K;var P=cL.a,_=[];for(var y=0;y<P.length;y+=3)if(P[y+1])_.push(P[y],P[y+1]);_=_.concat([[24,16],"---",[22,7,1],"D",[22,7,0],"X",[6,6,1],"Q","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}",[12,86],[c,x.ni]]);
E+=this.hZ(_);E+="</div>";this.lB.innerHTML=E};cL.prototype.hZ=function(K){var E="",x=!0;for(var y=0;
y<K.length;y+=2){var c=K[y],J=j6.ju(K[y+1]);if(J==null){x=!1;continue}var i=U.$f(hg.get(c));if(J=="---"){if(!x)E+="<br/>";
E+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+i+"</div>"}else E+="<div>"+i+" <span style=\"float:right; font-weight:bold;\">"+J+"</span> </div>";
x=!1}return E};cL.a=[[10,11],"V",0,[10,50],"V",70,[10,15],"M",1,[10,4],"M",2,[10,9],"L",5,[10,14],"L",6,[10,10],"L",7,[10,44],"W",3,[10,37],"W",8,[10,12],"W",9,[10,2],"C",10,[10,39],"C",11,[10,40],"C",12,[10,41],"C",13,[10,5],"I",14,[10,36],"I",16,[10,24],"J",18,[10,25],"J",19,[10,26],"J",20,[10,43],"J",22,[10,0],"B",23,[10,38],"B",24,[10,42],"B",25,[10,1],"S",27,[10,3],"E",31,[10,45],"E",32,[10,6],"G",34,[10,13],"G",35,[10,18],null,36,[10,19],null,37,[10,20],null,38,[10,21],"O",39,[10,22],"O",40,[10,23],"O",41,[10,8],"T",47,[10,29],"P",42,[10,30],"P",43,[10,27],"A",51,[10,28],"A",52,[10,32],"U",54,[10,33],"U",55,[10,35],"U",57,[10,34],"U",56,[10,31],"U",58,[10,7],"H",59,[10,17],"Z",61];
function hu(){cm.call(this,[8,11,1],"soptions");this.Qy=null;var K=U.t("div","form");K.style.width="20em";
this.body.appendChild(K);this.jR={Nm:[12,48],url:"URL",null:[12,71]};this.Ma={};for(var E in this.jR){var x=new ay(this.jR[E],null,15);
this.Ma[E]=x;K.appendChild(x.e)}this.hU=U.n4(this,K)}hu.prototype=new cm;hu.prototype.jG=function(K,E,x){var c=E.Z;
this.Qy=JSON.stringify(c);for(var J in this.jR){if(c[J])this.Ma[J].$(c[J].v)}};hu.prototype.OQ=function(K){var E=JSON.parse(this.Qy);
for(var x in this.jR){var c=this.Ma[x].m();E[x]={t:"TEXT",v:c}}var J=new i3(u.E.v,!0);J.G=$.n8;J.data=E;
J.s9=!0;this.S(J);this.close()};hu.prototype.f=function(){cm.prototype.f.call(this);this.hU.f()};function d2(){cm.call(this,[2,3],"fill");
this.ll=null;this.ml=null;var K=U.t("div","form padded");K.style.width="22em";this.body.appendChild(K);
this.wT="FrgC BckC Clr Blck Gry Wht contentAware Ptrn".split(" ");this.Jl=new aw([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3],[12,62]],[3,3,2]);
this.Jl.w(u.E.A,this.an3,this);K.appendChild(this.Jl.e);this.Si=U.t("span");K.appendChild(this.Si);this.M$=new eX;
this.M$.parent=this;this.M$.aD(0);this.V8=new hz;this.V8.parent=this;this.aq=new aw([12,19,0],db.n7,db.eP);
K.appendChild(this.aq.e);this.SV=new a4([12,0],0,100,"%",0,!1);this.SV.$(100);K.appendChild(this.SV.e);
this.r_=new jw([13,5]);this.r_.$(!1);K.appendChild(this.r_.e);this.hU=U.n4(this,this.body)}d2.prototype=new cm;
d2.prototype.qO=function(K,E){return K!=null};d2.prototype.eb=function(){return!0};d2.prototype.an3=function(){var K=this.Jl.m(),E=this.M$.e,x=this.V8.e,c=this.Si;
if(K==2)c.appendChild(E);else if(c.contains(E))c.removeChild(E);if(K==7)c.appendChild(x);else if(c.contains(x))c.removeChild(x)};
d2.prototype.f=function(){cm.prototype.f.call(this);this.Jl.f();this.aq.f();this.SV.f();this.r_.f();
this.hU.f()};d2.prototype.OQ=function(K){if(!this.ml.IC())return;var E=new i3(u.E.Hg,!0),x=this.Jl.m();
E.data=$.Hj.rM(this.wT[x],db.bV[this.aq.m()],this.SV.m()/100,this.M$.m(),this.r_.m(),this.V8.m());this.close();
this.S(E)};d2.prototype.jG=function(K,E){this.ml=K};d2.prototype.Q3=function(K,E){this.ll=K;if(E==eu.$r||E==eu.up){this.V8.ly(K.$A);
this.V8.$({classID:"Ptrn",Nm:{v:"orangeslices",t:"TEXT"},Idnt:{v:"c7acb22a-47a6-11de-919a-bf574370eaaf",t:"TEXT"}})}};
function dx(){cm.call(this,[14,9],"stroke");this.ll=null;this.yg=U.t("div","form");this.yg.setAttribute("style","width:24em");
this.body.appendChild(this.yg);this.Pt=new fE("FrFX",!0);this.Pt.parent=this;var K=["Sz","Styl","Md","Opct"].concat(dz.zg);
for(var y=0;y<K.length;y++){var E=this.Pt.x0[K[y]].e;this.yg.appendChild(E)}this.v1=!1;this.hU=U.n4(this,this.body)}dx.prototype=new cm;
dx.prototype.qO=function(K,E){return K!=null};dx.prototype.eb=function(){return!0};dx.prototype.f=function(){cm.prototype.f.call(this);
this.hU.f();this.Pt.f()};dx.prototype.OQ=function(K){var E=new i3(u.E.v,!0);E.G=$.Lz;E.data={_:"stroke",awx:this.Pt.m()};
this.close();this.S(E)};dx.prototype.jG=function(K,E){if(!this.v1){var x=dz.hQ[dz.order.indexOf("FrFX")];
x=JSON.parse(x);this.Pt.update(K,x);this.v1=!0}var x=this.Pt.m(),c=this.ll.U9;x.Clr.v=W.M.TD({o:c>>16&255,J:c>>8&255,k:c&255});
this.Pt.update(K,x)};dx.prototype.Q3=function(K,E){this.ll=K};function ge(){cm.call(this,[11,9],"textwarp");
this.Ma=new ha;this.Ma.w(u.E.A,this.gY,this);this.Ma.parent=this;this.yg=U.t("div","form");this.yg.setAttribute("style","width:20em");
this.body.appendChild(this.yg);this.yg.appendChild(this.Ma.IB.e);this.yg.appendChild(this.Ma.K1.e);this.yg.appendChild(this.Ma.dW.e);
this.yg.appendChild(this.Ma.Yw.e);this.yg.appendChild(this.Ma.cw.e);this.hU=U.n4(this,this.yg);this.w("closebtn",this.Ua,this)}ge.prototype=new cm;
ge.prototype.eb=function(){return!0};ge.prototype.f=function(){cm.prototype.f.call(this);this.hU.f();
this.Ma.f()};ge.prototype.gY=function(K){var E=this.Ma.m();this.eH({_:"warp",HA:E})};ge.prototype.eH=function(K){var E=new i3(u.E.v,!0);
E.G=$.H4;E.data=K;E.s9=!0;this.S(E)};ge.prototype.Ua=function(K){this.eH({_:"warpCancel"})};ge.prototype.OQ=function(K){this.eH({_:"warpConfirm"});
this.close()};ge.prototype.jG=function(K,E){var x=K.B[K.g[0]];this.Ma.$(x.add.TySh.K_)};function j8(){cm.call(this,[11,12,0],"trim");
var K=this.yg=U.t("div","form");this.yg.setAttribute("style","width:22em");this.body.appendChild(this.yg);
var E=new jp("Color To Trim:");K.appendChild(E.e);this.Sq=new iM(null,["Top Left Pixel Color","Bottom Right Pixel Color",[13,1,9]],null,null,!0);
this.Sq.$([!0]);this.yg.appendChild(this.Sq.e);var E=new jp("Sides:");K.appendChild(E.e);this.MO=new iM(null,["Top","Left","Bottom","Right"]);
this.MO.$([!0,!0,!0,!0]);this.yg.appendChild(this.MO.e);this.hU=U.n4(this,this.body)}j8.prototype=new cm;
j8.prototype.qO=function(K,E){return K!=null};j8.prototype.eb=function(){return!0};j8.prototype.f=function(){cm.prototype.f.call(this);
this.Sq.f();this.MO.f();this.hU.f()};j8.prototype.OQ=function(K){var E=this.Sq.m().indexOf(!0),x=this.MO.m(),c=new i3(u.E.Hg,!0);
c.data=$.$a.yW(E,x);this.close();this.S(c)};function hQ(){cm.call(this,"Raw Photopea","rawpea");this.tt=null;
this.cy=null;this.body.style.padding="0";var K=this.AG=new az["Adobe Camera Raw Filter"](!0),E="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.body.appendChild(K.e);this.hU=new cn([1,0],!0,null,!0);this.hU.w("click",this.OQ,this);this.KY=new cn(E+" JPG",!0,null,!0);
this.KY.w("click",this.a4q,this);this.KY.e.style.marginTop="6px";K.Nx(this.hU.e);K.Nx(this.KY.e)}hQ.prototype=new cm;
hQ.prototype.Hb=function(){return new iP(0,0)};hQ.prototype.nt=function(K,E){this.AG.nt(K,E)};hQ.prototype.f=function(){cm.prototype.f.call(this);
this.AG.f()};hQ.prototype.a4q=function(K){var E=this.tt,x=this.cy,c=gr.Zf("JPG").bu([[this.AG.m(!0).buffer]],x.rp,x.Gh,[85]),J=new i3(u.E.L,!0);
J.data={_:u.c._X,data:c,name:"photo.jpg"};this.S(J)};hQ.prototype.OQ=function(K){var E=this.tt,x=this.cy,c=c1.Jt(E),E={yA:new cS(0,0,x.rp,x.Gh),data:this.AG.m(!0).buffer,VQ:c},J=gr.vV("Raw Photo",[E]),i=new i3(u.E.L,!0);
i.data={_:u.c.CS,c1:J};this.S(i);this.CB();this.close()};hQ.prototype.CB=function(){this.tt=null;this.cy=null;
this.AG.ab6()};hQ.prototype.jG=function(K,E,x,c){this.tt=E.Dr;var J=this.cy=W.raw.atU(this.tt),i=W.raw.aoc(E.Dr),P=eG.Jk(i);
W.raw.MN(J.Ly,J.Ly,E.Dr,[P.Gk,P.dr]);var _=dJ.JQ("Adobe Camera Raw Filter");this.AG.$(_,J.Ly,new cS(0,0,J.rp,J.Gh))};
function il(K){cm.call(this,K?[11,11,0]:[11,11,1],K?"vbitmap":"rcolors");this.KN=null;this._l=null;this.OB=null;
this.rc=null;this.TQ=null;this.afv=null;this.Ul=null;this.QA="";this.Y9=K;this.m5=this.tO.bind(this);
this.AV=!1;this.body.style.padding="0";this.yg=U.t("div","form hbar padded");this.body.appendChild(this.yg);
var E=this.NP={cnum:new eW([12,82],2,50,null),nois:new jw([12,81]),mode:new aw(null,["Cartoon","Photo"]),segm:new jw("Segmentize"),poly:new jw("Polygon"),merg:new jw("Merge colors"),polE:new eW("Roughness",2,30,null),dthr:new jw([12,23,3]),ok:U.n4(this,null,!1)},i=16;
for(var x in E){var c=E[x];c.parent=this;if(x!="ok")c.w(u.E.A,this.tO,this)}var J=this.gc=U.t("div","flexrow");
this.body.appendChild(J);J.setAttribute("style","background-color:var(--bg-canvas)");this._I=new b3;
this._I.w("viewchange",this.wt,this);this.bP=new b3;this.T=U.t("canvas");this.T.setAttribute("style","margin:0 0 0 1px; padding:0; cursor:grab;");
this.gI=this.T.getContext("2d");var P=W.Q(16*16*4);W.Ii(P,i,i,8);this.y8=W.scale.Tq(P,i,i);this._I.axy(this.T);
this._I.o$(this.bP);this.bP.o$(this._I);J.appendChild(this._I.e);if(K)J.appendChild(this.T);else J.appendChild(this.bP.e)}il.prototype=new cm;
il.prototype.Hb=function(){return new iP(0,0)};il.prototype.eb=function(){return!0};il.prototype.nt=function(K,E){this.pz=K;
this.o4=E;E=E-44;if(K<600)E-=29;if(this.KN==null)return;var x=this.KN.yA,c=fW.a50(K,E,x.b,x.n);if(c==1)E-=3;
if(c==0){K=Math.floor(K/2);U.sy(this.gc,"flexrow")}else{E=Math.floor(E/2);U.gz(this.gc,"flexrow")}U.CL(this.T,K,E);
this._I.nt(K,E);if(this.Y9)this.wt();else this.bP.nt(K,E)};il.prototype._G=function(K,E,x,c){this._I._G(c)};
il.prototype.f=function(){cm.prototype.f.call(this);for(var K in this.NP)this.NP[K].f()};il.prototype.jG=function(K,E){this.Ul=K;
this.TQ=null;var x=K.B[K.g[0]],c=W.qe.VU(x.buffer.buffer,x.rect.b,x.rect.n).apV,J=c/((x.rect.b-2)*(x.rect.n-2)),i=this.NP;
i.cnum.$(20);i.nois.$(J<.75);i.mode.$(J<.75?1:0);i.segm.$(!1);i.poly.$(!1);i.merg.$(!0);i.polE.$(1);
i.dthr.$(!1);var P=x.rect.clone();P.x=P.y=0;this.KN={yA:P,data:x.buffer.buffer.slice(0)};this._l=null;
this.nt(this.pz,this.o4);this._I.$([this.KN]);this._I.G1();this.AV=!0;setTimeout(this.m5,20)};il.prototype.tO=function(){var K=!0,E=Date.now(),x=this.KN,c=this.NP,J=c.cnum.m(),i=c.nois.m(),P=c.mode.m(),_=c.segm.m(),a=c.poly.m(),j=c.merg.m(),e=c.polE.m(),F=null;
if(P==0)_=a=!1;var d=c.dthr.m(),I=["cnum","nois","mode"];if(P==1){I.push("segm");if(this.Y9){I.push("poly");
if(a)I.push("polE")}}if(this.Y9)I.push("merg");else I.push("dthr");I.push("ok");U.w6(this.yg);for(var y=0;
y<I.length;y++)this.yg.appendChild(c[I[y]].e);if(K)console.log("---------------------------------------");
var v=i||_,n=i+","+_;if(v&&(this._l==null||this.QA!=n)){this.QA=n;var C=new Uint8Array(x.data),T=x.yA.b,o=x.yA.n;
if(i){if(this.TQ==null){this.TQ=C.slice(0);W.WD.fm(this.TQ,this.TQ,T,o,15,W.WD.gs,[35]);if(K){console.log("denoise",Date.now()-E);
E=Date.now()}}C=this.TQ.slice(0)}else C=C.slice(0);if(_){var s=W.qe.eZ(C,T,o,40,10),Q=s.ms,X=new Uint8Array(Q*4);
for(var y=0;y<Q;y++){var B=y*4,M=y*6,S=1/s.CR[M+5];X[B]=s.CR[M]*S;X[B+1]=s.CR[M+1]*S;X[B+2]=s.CR[M+2]*S}for(var y=0;
y<C.length;y+=4){var f=s.yf[y>>>2]*4;C[y]=X[f];C[y+1]=X[f+1];C[y+2]=X[f+2]}if(K){console.log("segm",Date.now()-E);
E=Date.now()}}this._l={yA:x.yA.clone(),data:C.buffer}}if(v)x=this._l;var C=new Uint8Array(x.data),T=x.yA.b,o=x.yA.n;
for(var y=0;y<C.length;y+=4){if(C[y+3]<10)C[y]=C[y+1]=C[y+2]=C[y+3]=0}if(P==0){F=W.qe.arP(C,T,o,J,v?.1:2e-4);
if(K){console.log("quantize",Date.now()-E);E=Date.now()}}if(P!=0||F&&F.YN.length<2){F=eD.awg(C.buffer,J,T,o)}if(this.Y9){var G=F.yf.slice(0);
for(var y=0;y<G.length;y++)G[y]++;var D=new Uint8Array((T+2)*(o+2));W.XT(G,new cS(1,1,T,o),D,new cS(0,0,T+2,o+2));
if(!a){var b=Math.round((T+2)*(o+2)/1e4),H=iq.dg(D.slice(0),T+2,o+2,Math.min(12,b)),q=iq.Ox(H);if(K){console.log("trace smooth",Date.now()-E);
E=Date.now()}}else{var q=W.p.ZJ(D,T+2,o+2,e,K)}var O=q.length,w=new iQ(1,0,0,1,-1,-1);for(var y=0;y<O;
y++)W.p.u(q[y].path.C,w,q[y].path.C);this.rc=q;this.OB=F;for(var y=0;y<O;y++){var V=q[y];for(var t=y+1;
t<O;t++){var m=q[t];if(m.parent==y&&F.YN[m.color-1].est.q[3]<.05){var g=m.path.W.slice(1),Y=g.pop();
if(Y!="Z")g.push(Y);g.reverse();g=["M"].concat(g);if(Y=="Z")g.push("Z");var A=[],H=m.path.C.length;for(var k=0;
k<H;k+=2){A[k]=m.path.C[H-2-k];A[k+1]=m.path.C[H-2-k+1]}W.p.concat(V.path,{C:A,W:g})}}}if(K){console.log("finding holes",Date.now()-E);
E=Date.now()}for(var y=0;y<q.length;y++){var z=q[y];if(z.parent!=-1){var p=q[z.parent];z.parent=p;if(p.nD==null)p.nD=[];
p.nD.push(z)}z.depth=z.parent==-1?0:z.parent.depth+1}if(j){function L(df,r){var bQ={},is=0,bi=0;for(var y=0;
y<df.length;y++){var l=df[y].color,k="c"+l;if(l==r)throw l;if(bQ[k]==null)bQ[k]=0;bQ[k]++;if(bQ[k]>is){is=bQ[k];
bi=l}}return bi}var N=[],gC=[],r=-1,h=!0;for(var y=0;y<q.length;y++)if(q[y].parent==-1)gC.push(q[y]);
while(gC.length!=0){var l=L(gC,r);r=l;for(var y=0;y<gC.length;y++)if(gC[y].color==l){var g5=gC[y];N.push(g5);
gC.splice(y,1);y--;if(g5.nD)for(var t=0;t<g5.nD.length;t++){gC.push(g5.nD[t]);if(g5.nD[t].color!=l)h=!1}}}if(h)q=N;
else{var fm=[];for(var dC=0;dC<500;dC++){var ex=[],H=fm[dC-1];fm.push(ex);for(var y=0;y<q.length;y++){var z=q[y],p=z.parent;
if(dC==0&&p==-1||dC!=0&&H.indexOf(p)!=-1){ex.push(z);q.splice(y,1);y--}}ex.sort(function(df,bQ){return df.color-bQ.color});
if(q.length==0)break}for(var y=0;y<fm.length;y++)q=q.concat(fm[y])}}else{var N=[],cR=[];while(q.length!=0){cR.push(q.shift());
while(cR.length!=0){var d0=cR.pop();N.push(d0);if(d0.nD)for(var y=0;y<d0.nD.length;y++){var z=d0.nD[y];
q.splice(q.indexOf(z),1);cR.push(z)}}}q=N}this.rc=q;for(var y=0;y<q.length;y++){var V=q[y],hN=F.YN[V.color-1].est.q;
if(hN[3]<=.05){q.splice(y,1);y--;continue}}for(var y=1;y<q.length;y++){var ey=q[y-1],V=q[y];if(ey.color==V.color&&(j||ey.parent==V.parent&&ey.depth>=2)){W.p.concat(ey.path,V.path);
q.splice(y,1);y--;continue}}if(K){console.log("reordering layers",Date.now()-E,O,q.length);E=Date.now()}this.wt()}else{var cr=new Uint32Array(T*o),ik=T*o;
if(d){var hd=[];for(var y=0;y<F.YN.length;y++)hd.push(F.YN[y].est.rgba);var f=W.Q(T*o);UPNG.encode.dither(new Uint8Array(x.data),T,o,hd,new Uint8Array(cr.buffer),f)}else{for(var y=0;
y<ik;y++){var l=F.YN[F.yf[y]];cr[y]=l.est.rgba}}this.afv=new Uint8Array(cr.buffer);this.bP.$([{yA:x.yA,data:cr.buffer}]);
if(this.AV){this.bP.G1();this.AV=!1}}};il.prototype.wt=function(K){if(this.rc==null)return;var E=this.KN.yA.b,x=this.KN.yA.n,c=this.rc,J=this.OB.YN,i=this.T,P=this.gI,_=this._I.oJ();
P.setTransform(1,0,0,1,0,0);P.clearRect(0,0,i.width,i.height);P.translate(i.width/2,i.height/2);P.scale(_.N,_.N);
P.translate(_.R.x/_.N-E/2,_.R.y/_.N-x/2);P.scale(1/_.N,1/_.N);P.fillStyle=this.y8;P.fillRect(0,0,E*_.N,x*_.N);
P.scale(_.N,_.N);var a=[];for(var y=0;y<J.length;y++){var j=J[y].est.q;a.push({o:Math.round(255*j[0]),J:Math.round(255*j[1]),k:Math.round(255*j[2]),Cc:Math.round(255*j[3])})}for(var y=0;
y<c.length;y++){var e=c[y],j=a[e.color-1];if(j.Cc==0)continue;P.fillStyle="rgba("+j.o+","+j.J+","+j.k+","+j.Cc/255+")";
P.beginPath();Typr.U.pathToContext({crds:e.path.C,cmds:e.path.W},P);P.fill()}};il.prototype.OQ=function(K){var E=this.Ul,x=E.g[0],c=E.B[x],J=new i3(u.E.v,!0);
J.s9=!0;J.G=$.Os;if(this.Y9){var i=this.rc,P=i.length==1,_=E.B.slice(0,x);if(!P)_.push(E.NG());for(var y=0;
y<i.length;y++){var a=i[y],j=this.OB.YN[a.color-1].est.q;W.p.u(a.path.C,new iQ(1,0,0,1,c.rect.x,c.rect.y),a.path.C);
var e=E.EY();e.yH("Path "+y);_.push(e);e.opacity=Math.round(j[3]*255);e.LD|=16;e.add.SoCo={classID:"null",Clr:{t:"Objc",v:W.M.TD({o:255*j[0],J:255*j[1],k:255*j[2]})}};
e.add.vmsk=new Z.Wf;e.add.vstk=JSON.parse(JSON.stringify(dz.Ae.default));e.add.vmsk.i=W.p.uR(a.path,!1);
e.add.vogk=[];e.yt();e.DY(E)}var d=_[_.length-1];if(!P){var e=E.EY();e.yH(c.getName());e.add.lsct=fV.Bm;
e.Vk="pass";e.LD=24;_.push(e);d=e}var I=c.add.lmfx;if(I)d.add.lmfx=JSON.parse(JSON.stringify(I));for(var y=x+1;
y<E.B.length;y++)_.push(E.B[y]);J.data={_:Z.YG,Y1:_,sR:[x+i.length+(P?-1:1)],vZ:[11,11,0]}}else{var _=E.B.slice(0),e=E.EY();
e.yH(c.getName());_.splice(E.g[0]+1,0,e);e.rect=c.rect.clone();e.buffer=this.afv;e.U();J.data={_:Z.YG,Y1:_,sR:[E.g[0]+1],vZ:[11,11,1]}}this.S(J);
this.close()};function fW(K){cm.call(this,[[7,11],[7,13]][K],["redge","magiccut"][K]);this.Sq=K;this.KN={};
this.RY=null;this.W5=null;this.Ul=null;this.UN=null;this.Xa=null;this.body.style.padding="0";this.y_=[];
this.YA=-1;this.yg=U.t("div","form hbar padded");this.body.appendChild(this.yg);this.rz=new gx;this.rz.parent=this;
this.rz.w(u.E.A,this.vc,this);this.yg.appendChild(this.rz.e);var E=K==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"];
E=E.concat("tools/hand","zoomIn","zoomOut");var x=K==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.aF=new cA(null,E,x,28);this.aF.w(u.E.A,this._G,this);this.yg.appendChild(this.aF.e);this.OE=new eW([7,9],0,50,null);
this.OE.parent=this;this.OE.w(u.E.A,[this.a6R,this.tO][K],this);this.yg.appendChild(this.OE.e);var c=this.afT=new cn([2,2],!1,null,!0);
c.w("click",this.CB,this);this.yg.appendChild(c.e);var J=this.Xp=U.t("span","form");this.yg.appendChild(J);
var i=this.a8x=new cn([12,90],!1,null,!0);i.w("click",function(a){alert(K==0?hg.get([15,7,1]):"Mark the object with Green, background with Red. Two colors should never touch.",5e3)},this);
J.appendChild(i.e);var P=new cn("Tutorial",!1,null,!0);P.w("click",this.avh,this);J.appendChild(P.e);
this.UI=new cA([12,46],["checker","#ffffff","#000000"]);this.UI.w(u.E.A,this.axK,this);J.appendChild(this.UI.e);
this.nP=new aw(null,[[6,13],[6,2],[17,2]]);J.appendChild(this.nP.e);this.hU=U.n4(this,J,!1);var _=this.gc=U.t("div","flexrow");
this.body.appendChild(_);this.Y4=new b3(!0);this.tN=new b3;this.Y4.o$(this.tN);this.tN.o$(this.Y4);this.Y4.w("mousedown",this.EN,this);
this.Y4.w("mousemove",this.fw,this);this.Y4.w("mouseup",this.eL,this);this.Y4.w("zoom",this.vc,this);
this.tN.w("zoom",this.vc,this);_.appendChild(this.Y4.e);_.appendChild(this.tN.e)}fW.prototype=new cm;
fW.prototype.qO=function(K,E){var x=K!=null&&!K.B[K.g[0]].rect.um();if(!x)alert("The layer is empty.");
return x};fW.prototype.Hb=function(){return new iP(0,0)};fW.prototype.eb=function(){return!0};fW.prototype.nt=function(K,E){this.pz=K;
this.o4=E;E=E-12-33;if(K<900){this.Xp.setAttribute("style","display:block;  text-align:right;");E-=29}else{this.Xp.setAttribute("style","position:absolute;  right:0px")}this.UI.Q1(K<440?null:[12,46]);
this.OE.Q1(K<470?null:[7,9]);var x=this.KN.rect;if(x){var c=fW.a50(K,E,x.b,x.n);if(c==0){K=Math.floor(K/2);
U.sy(this.gc,"flexrow")}else{E=Math.floor(E/2);U.gz(this.gc,"flexrow")}this.Y4.nt(K,E);this.tN.nt(K,E)}};
fW.a50=function(K,E,x,c){var J=K/2,i=E/2,P=Math.min(J/x,E/c),_=Math.min(K/x,i/c);return P>_?0:1};fW.prototype.f=function(){cm.prototype.f.call(this);
this.rz.f();this.OE.f();this.hU.f();this.UI.f();this.nP.f();this.afT.f();this.a8x.f()};fW.prototype.avh=function(K){window.open("//www.photopea.com/"+["learn/refine-edge","tuts/magic-cut-remove-image-background-online"][this.Sq],"_blank")};
fW.prototype.Q3=function(K,E){this.W5=K;if(E==eu.Xb||E==eu.$r){this.rz.ly(K.ZR);this.rz.$(jE.Ve(),K.ZR.qq,K.ZR.V8)}};
fW.prototype._G=function(K,E,x,c){var J=this.aF.m();if(c==null){this.Y4._G(b3.apw(J-3));return}this.UN=c;
var i=$.Hj.f3(this.rz.m(),c);if(i!=null){this.rz.$(i);this.vc()}else if(c.l(j6.Se)&&c.l(j6.WV)){var P=this.y_,_=0;
if(c.l(j6.iu)){if(this.YA+1<P.length)_=1}else if(this.YA>0)_=-1;if(_!=0){this.YA+=_;var a=this.YA,j=this.KN;
if(_==1)W.UL(P[a][2],P[a][0],j.ZU,j.rect);else W.UL(P[a+1][1],P[a+1][0],j.ZU,j.rect);j.Ia=j.rect;this.tO()}}else if(J<3)this.Y4._G(c)};
fW.prototype.Qd=function(K){var E=this.KN,x=this.y_,c=W.Q(K.O()*4);W.UL(E.xg,E.rect,c,K);E.xg=null;var J=W.Q(K.O()*4);
W.UL(E.ZU,E.rect,J,K);this.YA++;x[this.YA]=[K.clone(),c,J];while(x.length>this.YA+1)x.pop();while(x.length>50){x=x.slice(1);
this.YA--}};fW.prototype.vc=function(){var K=this.W5,E=bL.YL(this.rz.m(),K.ZR.qq,this.Y4.oJ().N);this.Y4.Zb(E)};
fW.prototype.EN=function(K){var E=this.W5,x=this.KN,c=this.UN,J=this.rz.m(),i=this.Y4.kA(),P=[16777215,8421504,0][this.aF.m()];
this.RY=new bL(J,E.ZR.qq,E.ZR.V8,{S5:1,XF:!0},P,E.xw,x.rect);x.xg=x.ZU.slice(0);if(c!=null&&c.l(j6.iu)&&this.Xa){this.RY.moveTo(this.Xa.x,this.Xa.y);
this.RY.lineTo(i.x,i.y)}else this.RY.moveTo(i.x,i.y);this.awr()};fW.prototype.fw=function(K){var E=this.KN,x=this.Y4.kA();
this.RY.lineTo(x.x,x.y);this.awr()};fW.prototype.eL=function(K){this.Xa=this.Y4.kA();this.Qd(this.RY.D2());
this.tO()};fW.prototype.awr=function(){var K=this.KN,E=this.RY,x=E.kq();if(x.um())return;K.Ia=x;W.h.Nh("norm",E.fe(),E.ZS(),K.ZU,K.rect,x,1);
this.ask()};fW.prototype.CB=function(K){var E=this.KN;E.xg=E.ZU.slice(0);E.Ia=E.rect;W._m(E.ZU,[4278190080,4292730333][this.Sq]);
this.Qd(E.rect);this.tO()};fW.prototype.jG=function(K,E){this.Ul=K;var x=K.B[K.g[0]],c=x.rect.clone(),J=c.b,i=c.n;
this.OE.$(this.Sq==0?3:J*i<3e6?3:0);this.aF.$(K.P==null?0:1);this.OE.s1();if(this.Sq==0&&K.P!=null||this.Sq==1)this.OE.gt();
var P=this.Sq,_=W.Q(c.O()),a=new Float32Array(c.O());if(P==0&&K.P){W.XT(K.P.channel,K.P.rect,_,c);var j=W.Q(c.O());
for(var e=0;e<i;e++)for(var d=0;d<J;d++){var y=e*J+d,I=_[y];if(d>0&&_[y-1]!=I||d<J-1&&_[y+1]!=I||e>0&&_[y-J]!=I||e<i-1&&_[y+J]!=I)j[y]=255}W.style.Rm(j,a,J,i)}else a.fill(1e9);
c.x=c.y=0;this.KN={rect:c,Ly:x.buffer,RK:_,dM:a,Z$:W.Q(c.O()*4),qb:W.Q(c.O()*4),ZU:W.Q(c.O()*4),xg:null,aj:null,Ia:c,aqv:{}};
if(P==0)this.a6R();else{this.KN.aqv=$.ru.a7J(K);var v=this.KN.ZU;W._m(v,4287137928);var n=W.iy.getSelection(x.buffer,J,i),C=Math.round(J/60),T=Math.round(.7*i);
for(var e=0;e<i;e++)for(var d=0;d<J;d++){var o=(e*J+d)*4,s=n[o>>>2];s=s>128?255:128;if(e<C||e<T&&(d<C||d>J-1-C))s=0;
v[o]=v[o+1]=v[o+2]=s}this.tO()}this.y_=[1];this.YA=0;var Q=this.rz.m();Q.Brsh.v.Dmtr.v.val=Math.round(c.b/(P==0?10:20));
this.rz.$(Q);this.vc();this.nt(this.pz,this.o4);this.Y4.G1()};fW.prototype.a6R=function(){var K=this.KN,E=K.rect.O(),x=this.OE.m(),c=K.RK.slice(0);
for(var y=0;y<E;y++)if(K.dM[y]<x)c[y]=128;W._m(K.ZU,4294967295);W.Mz(c,K.ZU,0);W.Mz(c,K.ZU,1);W.Mz(c,K.ZU,2);
K.Ia=K.rect;this.tO()};fW.prototype.tO=function(){var K=this.KN,J,_,a=0,j=0,e=0;this.ask();var E=K.rect,x=E.b,c=E.n,i=W.Q(E.O()),P=K.Ly;
W.Bp(K.ZU,i,0);for(var y=0;y<i.length;y++){if(P[(y<<2)+3]!=255)continue;var d=i[y];if(d==0)a++;else if(d==255)j++;
else e++}if(a*j*e!=0){if(this.Sq==0)_=W.g6.g6(E,P,i);else{var I=this.aF.m();for(var v=1;v<c;v++)for(var n=1;
n<x;n++){var y=v*x+n,C=i[y],T=i[y-1];if(C==0&&T==255||C==255&&T==0){J="The Red and Green should never touch! Erase it with Grey.";
break}}var o=Date.now(),s=this.KN.aqv;W.dq(i,s.vP);$.ru.Wn(s,!0);var Q=Math.ceil(this.OE.m()/2);if(Q==0){_=P.slice(0);
W.Mz(s.P,_,3)}else{var X=s.P.slice(0),B=s.P.slice(0);for(var M=0;M<Q;M++){for(var v=1;v<c-1;v++)for(var n=1;
n<x-1;n++){var y=v*E.b+n,S=X[y];if(X[y-x]!=S||X[y-1]!=S||X[y+1]!=S||X[y+x]!=S)B[y]=128;else B[y]=S}var f=X;
X=B;B=f}_=W.g6.g6(E,P,X,20,!1)}}}else{_=P.slice(0);W.Mz(i,_,3)}for(var y=3;y<_.length;y+=4)if(_[y]>P[y])_[y]=P[y];
if(E.ac(K.rect))K.aj=_;else W.UL(_,E,K.aj,K.rect);this.axK();if(J)alert(J,4e3)};fW.prototype.ask=function(K){var E=this.KN,x=E.Ia;
W.UL(E.Ly,E.rect,E.Z$,E.rect,x,!0);var c=E.ZU;if(this.Sq==1){var J=new Uint32Array(256);J[0]=4278190335;
J[255]=4278255360;var i=E.rect.O();c=c.slice(0);var P=new Uint32Array(c.buffer);for(var y=0;y<i;y+=2){P[y]=J[P[y]&255];
P[y+1]=J[P[y+1]&255]}}W.h.Nh("norm",c,E.rect,E.Z$,E.rect,x,.3);this.Y4.$([{yA:E.rect,data:E.Z$.buffer}])};
fW.prototype.axK=function(K){var E=this.KN;W._m(E.qb,[0,4294967295,4278190080][this.UI.m()]);W.h.Nh("norm",E.aj,E.rect,E.qb,E.rect,E.rect,1);
this.tN.$([{yA:E.rect,data:E.qb.buffer}])};fW.prototype.OQ=function(K){var E=this.Ul,x=this.KN,c=this.nP.m(),J=E.B[E.g[0]],i=new i3(u.E.v,!0);
i.s9=!0;var P=J.rect.clone();if(c==0&&J.bL()||c!=0&&!J.bL()){i.G=$.Os;i.data={_:Z.gn,j:E.g[0]};this.S(i)}if(E.P!=null){i.G=$.LR;
i.data={_:"fromAction",t7:$.cx.HI()};this.S(i)}if(c==0){var _=E.B.slice(0),a=E.EY();a.yH(J.getName());
_.splice(E.g[0]+1,0,a);a.rect=P;a.buffer=x.aj;a.U();i.G=$.Os;i.data={_:Z.YG,Y1:_,sR:[E.g[0]+1],vZ:[7,11]};
this.S(i)}if(c==1){var j=J.FA();i.G=$.Os;i.data={_:Z.p5,aeW:!0};this.S(i);var e=J.FA();e.channel=W.Q(P.O());
e.rect=P;e.color=0;e.I_=!0;W.Bp(x.aj,e.channel,3);if(j){var d=e.hH(j);e.rect=d.rect;e.channel=d.channel;
e.color=d.color}e.oo();J.DY()}if(c==2){var I={rect:P,channel:W.Q(P.O())};W.Bp(x.aj,I.channel,3);i.G=$.LR;
i.data={_:"setsel",P:I,vZ:this.XX};this.S(i)}this.close()};function jY(){cm.call(this,[1,13],"locstor");
this.ll=null;this.IN=[];var K=this.body,E=U.t("p");E.textContent="These files are loaded every time you start Photopea.";
K.appendChild(E);this.a4j=0;this.TV=U.t("span");K.appendChild(this.TV);this.TV.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");
var x=U.t("span","form");K.appendChild(x);this.Gg=new cn([5,4],!1,null,!0);this.Gg.w("click",this.x1,this);
x.appendChild(this.Gg.e);this.Fi=new cn("Get all as ZIP",!1,null,!0);this.Fi.w("click",this.ub,this);
x.appendChild(this.Fi.e);this.N8=new hA(!0);this.N8.parent=this;this.N8.ST(1);K.appendChild(this.N8.e);
this.N8.e.setAttribute("style","width: 40em; height: 25em")}jY.prototype=new cm;jY.prototype.f=function(){cm.prototype.f.call(this);
this.TV.textContent=hg.get([13,2])+": "+ew.ev(this.a4j);this.Gg.f()};jY.prototype.Q3=function(K,E){this.ll=K;
if(E==eu.pt)this.jG()};jY.prototype.jG=function(K,E){var x=this.ll.vN.xP,a=0;this.IN=[];for(var c in x)this.IN.push(c);
this.IN.sort(function(e,d){e=e.split(".");d=d.split(".");return e[1]==d[1]?e[0]<d[0]?-1:1:e[1]<d[1]?-1:1});
var J=Math.floor(100*U.V()),i=Math.floor(16*U.V()),P=[],_=[];for(var y=0;y<this.IN.length;y++){var c=this.IN[y],j=jY.yi(c,x[c],J,i);
P.push(j);_.push(c);a+=x[c].byteLength}this.N8.U3(P,_,J,i);this.a4j=a;this.f()};jY.prototype.x1=function(K){var E=this.N8.m();
if(E.length==0){alert("Select a file first.");return}this.N8.$([]);var x=this.ll.vN.xP;for(var y=0;y<E.length;
y++)delete x[this.IN[E[y]]];var c=new i3(u.E.L,!0);c.data={_:u.c.Na,ry:eu.pt};this.S(c)};jY.prototype.ub=function(K){var E=this.ll.vN.xP,x={};
for(var c in E)x[c]=new Uint8Array(E[c]);var J=UZIP.encode(x);hP.save(J,"resources.zip")};jY.yi=function(K,E,x,c){var J=U.t("canvas"),_=0;
J.width=x;J.height=c;var i=J.getContext("2d"),P=K.split(".").pop().toLowerCase();for(var y=0;y<P.length;
y++)_+=P.charCodeAt(y)*613<<8*y;i.fillStyle="#"+W.E8(_&16777215);i.fillRect(0,0,20,c);var a=Math.floor(14*U.V());
i.fillStyle="#000000";i.font="bold "+a+"px sans-serif";var j=(c-a)/2,e=ew.ev(E.byteLength),d=i.measureText(e);
i.fillText(e,x-12-d.width,c-j);return J.toDataURL()};function fH(){cm.call(this,[1,15],"pmanager");this.ll=null;
this.ye=new aw([12,44],[[9,3],[12,37],[12,62],[11,6],[12,77],[12,21]]);this.ye.w(u.E.A,this.jG,this);
this.body.appendChild(this.ye.e);var K=U.t("div","flexrow");this.body.appendChild(K);var E=this.akL=U.t("div");
K.appendChild(E);var x=U.t("div","form");K.appendChild(x);x.setAttribute("style","width:140px; margin-left:12px");
this.axN=[eu.Xb,eu.B5,eu.up,eu.aH,eu.dF,eu.XE];this.Ow=[new gx,new au,new hz,new fz,new kb,new jk];for(var y=0;
y<this.Ow.length;y++)this.Ow[y].parent=this;this.x_=[];for(var y=0;y<4;y++){var c=new cn("Hello",!0,null,!0);
c.w("click",this.Q7,this);this.x_.push(c);x.appendChild(c.e)}this.jG()}fH.prototype=new cm;fH.prototype.Xo=function(K){return K==j6.C3||K==j6.oh};
fH.prototype.Q7=function(K){var y=this.x_.indexOf(K.target);this.Ow[this.ye.m()].Qp(y)};fH.prototype.f=function(){cm.prototype.f.call(this);
this.ye.f();for(var y=0;y<this.Ow.length;y++)this.Ow[y].f();var K=this.x_,E=this.ye.m(),x=eu.BU[this.axN[E]],c=x[0].toUpperCase();
K[0].Q1([[23,6],"."+c]);K[1].Q1(["VAR0 ."+c,[1,8]]);K[2].Q1([6,37]);K[3].Q1([5,4])};fH.prototype.Q3=function(K,E){this.ll=K;
this.jG()};fH.prototype.jG=function(K,E){if(!U.Of(this.e))return;this.f();U.w6(this.akL);this.akL.appendChild(this.Ow[this.ye.m()]._0);
var x=this.Ow,c=this.ll;if(c==null)return;x[0].ly(c.ZR);x[1].Zx(c.U9,c.xw);x[1].ly(c.zd);x[2].ly(c.$A);
x[3].ly([c.n1,c.$A]);x[4].ly(c.nK);x[5].ly(c.Nj)};function bP(K,E,x){cm.call(this,E,"cwindow");this.arF=new iP(x[0],x[1]-33);
this.yg=U.t("div","form");this.yg.setAttribute("style","width:"+(x[2]-x[0])+"px; height:"+(x[3]-x[1])+"px");
this.body.appendChild(this.yg)}bP.prototype=new cm;bP.prototype.Hb=function(K,E){return this.arF.clone()};
function ax(K){var E=ax.acB(K);cm.call(this,E,"res"+K);var x=this.amd.bind(this);window.addEventListener("message",function(J){if(typeof J.data=="string"&&J.data.startsWith("--et ")){console.log(J.data);
var i=this.apO=J.data.slice(5).split(",");i[0]=parseFloat(i[0]);dq.uq(i[0],i[1],x)}}.bind(this));this.O2=E;
this.m2=K;this.abP=null;this.gV=null;this.iC=0;this.C5=null;this.PA=null;this.apO=null;this.ll=null;
this.body.setAttribute("style","padding:0");this.KO=new cn("",null,null,!0);this.body.appendChild(this.KO.e);
this.KO.w("click",this.kX,this);this.KO.e.setAttribute("style","position:absolute; margin-top: -28px;  margin-left:150px");
this.Vx=U.t("span","form");this.body.appendChild(this.Vx);this.Vx.setAttribute("style","position:absolute; margin-top: -31px;  margin-left:270px");
this.x_=[];for(var y=0;y<9;y++){var c=new cn(ax.acB(y));this.x_.push(c);if(y==K)c.$(!0);this.Vx.appendChild(c.e);
c.w("click",this.a9$,this)}this.SB=new cn([5,3],null,null,!0);this.SB.w("click",this.ayU,this);this.ahO=new cn("Upload Current Document as a Template",null,null,!0);
this.ahO.w("click",this.ajs,this);this.EA=new ay("Creator / Brand name");this.dA=new cn([1,2],null,null,!0);
this.dA.w("click",this.ub,this);this.Ra=U.t("iframe","scrollable");this.Ra.setAttribute("style","border:none; margin:0; padding:0;");
this.V3=U.t("div","form scrollable padded");this.xu=new g3(K);this.xu.w("back",this.CB,this);this.xu.w("save",this.acT,this);
this.body.appendChild(this.Ra)}ax.prototype=new cm;ax.acB=function(K){var E;if(K==0)E=[25,0];else if(K==1)E="Plugins";
else for(var x in eu.BU)if(eu.BU[x][4]==K)E=eu.BU[x][3];return E};ax.prototype.a9$=function(K){var y=this.x_.indexOf(K.target);
if(y==this.m2)return;this.close();var E=new i3(u.E.L,!0);E.data={_:u.c.v9,xc:"res"+y};this.S(E)};ax.prototype.amd=function(K){this.kX();
this.PA=JSON.parse(K.target.response);this.YJ()};ax.prototype.Hb=function(K,E){return new iP(0,0)};ax.prototype.nt=function(K,E){this.pz=K;
this.o4=E;this.ml=null;E=E-4;K=K;var x=this.V3;x.style.width=K-12+"px";x.style.height=E-12+"px";var x=this.xu.e;
x.style.width=K-12+"px";x.style.height=E-12+"px";var x=this.Ra;x.style.width=K+"px";x.style.height=E+"px";
this.bZ()};ax.prototype.Q3=function(K,E){this.ll=K};ax.prototype.f=function(){cm.prototype.f.call(this);
for(var y=0;y<this.x_.length;y++)this.x_[y].f();this.SB.f()};ax.prototype.jG=function(K,E,x,c){this.ml=K;
this.kX(null,!1)};ax.prototype.kX=function(K,E){var x=E!=null?E:U.Of(this.Ra);if(x){if(!dq.Zc()){alert("You need to log in first!");
return}var c=dq.b5();this.gV=c.tpl?c.tpl.list:[];this.EA.$(c.tpl&&c.tpl.brnd?c.tpl.brnd:"");this.bZ()}else{this.Ra.setAttribute("src","");
this.Ra.setAttribute("src","templates/?type="+this.m2+"&rsrc="+this.ll.M1.join(","))}this.body.removeChild(this.body.children[this.body.children.length-1]);
this.body.appendChild(x?this.V3:this.Ra);var J=hg.get(this.O2);this.KO.Q1(x?"All "+J:"Add "+J)};ax.prototype.bZ=function(){var K=hg.get(this.O2),E=this.gV,x=this.m2,_=450;
if(E==null)return;var c=this.V3;U.w6(c);var J=U.t("h1");c.appendChild(J);J.textContent="Share your "+K+" with the world!";
var i=U.t("ul");c.appendChild(i);var P=U.t("li");i.appendChild(P);P.textContent="By publishing your "+K+", you agree to let others use them for all kinds of purposes, even commercially.";
c.appendChild(this.SB.e);if(x==0)c.appendChild(this.ahO.e);U.R0(c);c.appendChild(this.EA.e);c.appendChild(this.dA.e);
U.R0(c);_=(this.pz-20)/Math.max(1,Math.floor(this.pz/_))-42;var a="display:inline-block; width:"+_+"px; height:140px;  overflow:hidden; background-color:rgba(255,255,255,0.2);  margin:10px 20px 0px 0; line-height:1.5em; padding:10px;";
for(var y=E.length-1;y>=0;y--){var j=E[y];if(j.type==null)j.type=0;if(j.type!=x)continue;var e=U.t("div");
c.appendChild(e);e.setAttribute("style",a);var d=U.t("img");e.appendChild(d);d.setAttribute("src",j.thmb);
d.setAttribute("style","float:left; height:10em; width:10em;  object-fit: contain; margin-right: 1em; margin-bottom:1em;");
var I=U.t("h3");e.appendChild(I);I.textContent=j.name;I.setAttribute("style","margin:0 0 10px 0");var v=U.t("p");
e.appendChild(v);v.textContent=j.desc;v.setAttribute("style","height:76px;  overflow:hidden; margin-bottom: 6px;");
for(var n=0;n<2;n++){var C=new cn(n==0?"Edit":"Delete",null,null,!0);C.asT=y;C.YJ=n==0;C.w("click",this.aor,this);
e.appendChild(C.e)}}};ax.prototype.ajs=function(K){if(this.ml==null){alert("No document opened.");return}var E=confirm("Your document will be uploaded to Photopea.com and a preview to Imgur.com. Proceed?");
if(!E)return;var x=new i3(u.E.L,!0);x.data={_:u.c.Ut,fC:"psd",cf:this.a4C.bind(this)};this.S(x)};ax.prototype.a4C=function(K){this.ajG=K;
var E=new i3(u.E.L,!0);E.data={_:u.c.Ut,fC:"jpg",cf:this.are.bind(this),a0b:1400};this.S(E)};ax.prototype.are=function(K){this.C5={type:0,catg:0,desc:"",file:this.ajG,name:this.ml.name.split(".")[0],thmb:K,publ:!0,utme:""};
this.YJ()};ax.prototype.ayU=function(K){this.C5={type:0,catg:0,desc:"",file:"",name:"",thmb:"",publ:!0,utme:""};
this.YJ()};ax.prototype.aor=function(K){this.iC=K.target.asT;if(!K.target.YJ){if(!window.confirm("Are you sure you want to delete your template?"))return;
this.gV.splice(this.iC,1);this.ub();this.bZ();return}this.YJ()};ax.prototype.YJ=function(){if(U.Of(this.V3))this.body.removeChild(this.V3);
this.body.appendChild(this.xu.e);var K=this.C5?this.C5:this.PA?this.PA:this.gV[this.iC];if(K.type==null)K.type=0;
this.xu.$(K)};ax.prototype.acT=function(K){var E=this.xu.m();if(this.C5)this.gV.push(E);else if(this.PA){var x=this.apO;
dq.uq(x[0],x[1],this.CB.bind(this),JSON.stringify(E));return}else this.gV[this.iC]=E;this.ub();this.CB()};
ax.prototype.CB=function(){var K=this.PA;this.C5=null;this.PA=null;this.body.removeChild(this.xu.e);
this.body.appendChild(this.V3);this.bZ();if(K)this.kX()};ax.prototype.ub=function(){var K=dq.b5();if(this.gV.length==0)delete K.tpl;
else{K.tpl={list:JSON.parse(JSON.stringify(this.gV))};var E=this.EA.m().trim();if(E!="")K.tpl.brnd=E}dq.S9(K,function(){alert("Saved.")})};
function eM(){cm.call(this,"Make Selection","makesel");this.ll=null;var K=U.t("div","form");this.body.appendChild(K);
this.FD=new jw([12,25,1]);this.FD.$(!0);K.appendChild(this.FD.e);U.R0(K);this.Rg=new aQ(!0);K.appendChild(this.Rg.e);
this.hU=U.n4(this,this.body)}eM.prototype=new cm;eM.prototype.f=function(){cm.prototype.f.call(this);
this.Rg.f();this.FD.f();this.hU.f()};eM.prototype.OQ=function(K){var E=new i3(u.E.v,!0);E.G=$.LR;E.data={_:"frompath",WX:[null,0,this.Rg.m(),this.FD.m()]};
this.close();this.S(E)};function jS(){cm.call(this,["VAR0 PSD/PSB",[1,2]],"savepsb");this.ml=null;this.zT=null;
this.Ib=null;var K=this.agt=U.t("div","form");K.setAttribute("style","width:20em");this.body.appendChild(K);
this.z0=new fn([12,50],["PSD","PSB"]);this.z0.w(u.E.A,this.SI,this);K.appendChild(this.z0.e);U.JB(K);
var E=new jp("Minify the file");K.appendChild(E.e);U.R0(K);var x=["Blank preview image","ZIP for pixel data","Remove Smart Object pixels","Put the file into ZIP"];
this.iL=[];for(var y=0;y<x.length;y++){var c=new jw(x[y]);this.iL.push(c);K.appendChild(c.e);c.w(u.E.A,this.SI,this)}U.JB(K);
this.VC=new jp("aa.psd");this.NV=new jp("10 kB");K.appendChild(this.NV.e);this.a9D=new jp("1000 B");
K.appendChild(this.a9D.e);this.hU=new cn([1,2],!0,null,!0);this.hU.w("click",this.OQ,this);K.appendChild(this.hU.e);
this.dJ=new cn(["VAR0 (Google Drive)",[1,2]],!0,null,!0);this.dJ.w("click",this.OQ,this);K.appendChild(this.dJ.e);
this.w("closebtn",this.Ua,this)}jS.prototype=new cm;jS.prototype.jG=function(K,E,x,c){var J=U.Of(this.dJ.e),i=K.n_!=null&&K.n_.VW=="psd";
if(i&&!J)this.agt.appendChild(this.dJ.e);if(!i&&J)this.agt.removeChild(this.dJ.e);for(var y=0;y<this.iL.length;
y++)this.iL[y].$(!1);this.ml=K;this.SI()};jS.prototype.OQ=function(K){if(K.target==this.hU)hP.save(this.zT,this.Ib);
else{if(this.iL[3].m()){alert("You should not save a ZIP as a PSD to Google Drive.");return}j2.a12(this.ml,this.zT)}};
jS.prototype.Ua=function(){this.ml=null;this.zT=null};jS.prototype.SI=function(){var K=this.ml,E=[!1,!1,!1,!1];
for(var y=0;y<3;y++)E[y]=this.iL[y].m();var x=this.iL[3].m(),c=E[3]=this.z0.m()==1,J=K.name.slice(0,K.name.length-3),i=this.zT=gr.Zf("PSD").bu(K,0,0,E),hr=this.Ib=J+"ps"+(c?"b":"d");
if(x){var P={};P[hr]=new Uint8Array(i);i=this.zT=UZIP.encode(P);hr=this.Ib=J+"zip"}this.VC.$(hr);this.NV.$(ew.ev(i.byteLength));
this.NV.e.style["font-size"]="2em";this.a9D.$(" \u2001 "+i.byteLength+" B");this.hU.Q1(hg.get([1,2])+" \""+hr+"\"")};
jS.prototype.f=function(){cm.prototype.f.call(this);this.z0.f();this.hU.f();this.dJ.f()};function eL(){cm.call(this,"Confirm","confirm");
this.sO=null;var K=U.t("div");K.setAttribute("style","margin-bottom:1em");this.body.appendChild(K);this.iV=U.t("div");
this.iV.textContent="Hello";K.appendChild(this.iV);this.hU=U.n4(this,this.body)}eL.prototype=new cm;
eL.prototype.OQ=function(K){console.log("okconfirm");this.close();this.sO()};eL.prototype.jG=function(K,E){if(E.aoj)this.iV.innerHTML=E.Z;
else this.iV.textContent=E.Z;this.sO=E.sO;this.hU.e.focus();if(E.aoj!=null)this.e.style.top=Math.random()*(window.innerHeight-150)+"px";
this.aa5=E.aoj!=null};eL.prototype.Hb=function(K,E){return new iP(Math.max(0,(K-500)/2),Math.max(0,Math.min(60,(E-100)/2)))};
eL.prototype.nt=function(K,E){this.iV.style.width=K-30+"px"};function d9(){cm.call(this,[1,16,2],"newartb");
this.Sq=0;this.Ub=null;var K=U.t("div","form");K.style.width="260px";this.body.appendChild(K);this.N8=new ea;
K.appendChild(this.N8.e);this.hU=U.n4(this,K)}d9.prototype=new cm;d9.prototype.qO=function(K,E){return K!=null};
d9.prototype.OQ=function(K){var E=this.N8.m();this.Ub.b=E.x;this.Ub.n=E.y;var x=new i3(u.E.v,!0);x.G=$.Kg;
x.data={aqs:this.Ub,no:this.Sq};this.S(x);this.close()};d9.prototype.f=function(){cm.prototype.f.call(this);
this.N8.f();this.hU.f()};d9.prototype.jG=function(K,E){this.Sq=E.no;var x=new cS(0,0,K.b,K.n);if(K.g.length!=0){var c=K.B[K.g[0]];
if(c.add.artb){x=c.IZ();x.x+=x.b+100}if(E.no==1)x=$.Xq.ZS(K)}this.Ub=x;this.N8.$(new iP(x.b,x.n))};function gA(){cm.call(this,"Storage","storwindow");
this.body.setAttribute("style","padding:0");this.hf=null;this.w("closebtn",this.FL,this);this.w("canclose",this.FL,this)}gA.prototype=new cm;
gA.prototype.Q3=function(K,E){if(this.hf)this.hf.Q3(K,E)};gA.prototype.Hb=function(K,E){return new iP(Math.max(0,Math.min(150,(K-980)/2)),Math.max(0,Math.min(150,(E-590)/2)))};
gA.prototype.nt=function(K,E){this.pz=K;this.o4=E;K=Math.min(K,980);E=Math.min(E,590);if(this.hf)this.hf.nt(K,E)};
gA.prototype.f=function(){cm.prototype.f.call(this);if(this.hf)this.hf.f()};gA.prototype.jG=function(K,E,x,c){this.XX=E.no==0?"Open from Storage":"Save to Storage";
this.f();if(this.hf==null){this.hf=new bZ;this.hf.parent=this;this.body.appendChild(this.hf.e);this.f();
this.nt(this.pz,this.o4)}Storage.ST(E.no,K?K.name:"");bZ.fo(this.hf)};gA.prototype.FL=function(K){Storage.ST(0);
bZ.Vt();if(K.type=="canclose")this.close()};function hC(){cm.call(this,[2,14],"varsdats");var K=this.yg=U.t("div","form");
K.setAttribute("style","width:300px");this.body.appendChild(K);this.ml=null;this.oZ=0;this.ll=null;this.VT=new fn(null,[[2,14],"Data Sets",[1,8]]);
this.VT.w(u.E.A,this.aa3,this);this.Mi=new hC.TH;this.cI=new hC.fZ;this.qH=new hC.lp;this.cI.w("activate",this.Jj,this);
this.qH.w("export",this.y6,this);this.hU=U.n4(this)}hC.prototype=new cm;hC.prototype.aa3=function(K){var E=this.VT.m(),x=this.yg;
U.w6(x);x.appendChild(this.VT.e);U.JB(x);x.appendChild([this.Mi,this.cI,this.qH][E].e);x.appendChild(this.hU.e)};
hC.prototype.OQ=function(K){var E=new i3(u.E.v,!0);E.G=$.Os;E.data={_:Z._h,Z:JSON.stringify([this.Mi.m(),this.cI.m()])};
this.S(E);this.close()};hC.prototype.f=function(){cm.prototype.f.call(this);this.hU.f();this.qH.f()};
hC.prototype.jG=function(K,E){this.ml=K;if(K==null)return;this.Mi.jG(K,E);this.cI.jG(K,E);this.VT.$(0);
this.aa3();this.oZ=0};hC.prototype.Q3=function(K,E){this.ll=K};hC.prototype.y6=function(K){var E=this.Mi.m(),x=this.cI.m(),c=this.qH.m();
if(E.length==0){alert("There are no variables.");return}if(x.length==0){alert("There are no data sets.");
return}var J=gr.afj(this.ml,E,x,this.cI.ahJ(),c[0],c[1],this.ll,this);if(J!=null)hP.save(J,"images.zip")};
hC.prototype.Jj=function(K){var E=this.cI.g,x=this.Mi.m(),c=this.cI.m();if(x.length==0){alert("There are no variables.");
return}if(c.length==0){alert("There are no data sets.");return}this.A1();this.oZ+=gr.TY(this.ml,this,x,c,this.cI.ahJ(),E)};
hC.prototype.A1=function(){var K=new i3(u.E.v,!0);K.G=$.Ww;K.data={_:"h_stepbck"};while(this.oZ>0){this.S(K);
this.oZ--}};hC.lp=function(){fo.call(this);var K=this.e=U.t("div");this.GO=["JPG","PNG","PDF"];this.z0=new fn([12,50],this.GO);
this.z0.w(u.E.A,this.alp,this);K.appendChild(this.z0.e);this.k4=new co;K.appendChild(this.k4.e);this.alp();
this.Fi=new cn("Export all items",!0,null,!0);this.Fi.w("click",this.y6,this);K.appendChild(this.Fi.e)};
hC.lp.prototype=new fo;hC.lp.prototype.f=function(K){this.z0.f();this.Fi.f();this.k4.f()};hC.lp.prototype.alp=function(K){var E=this.GO[this.z0.m()];
this.k4.g0(E)};hC.lp.prototype.y6=function(K){this.S(new i3("export"))};hC.lp.prototype.m=function(){var K=this.GO[this.z0.m()];
return[K,this.k4.m()]};hC.fZ=function(){fo.call(this);this.dI=null;this.JA=[];this.g=0;var K=this.e=U.t("div","form");
this.Fk=new gV("Import a CSV file");K.appendChild(this.Fk.e);this.Fk.w(u.E.A,this.acm,this);this.Zu=U.t("div","scrollable");
this.Zu.setAttribute("style","overflow:scroll;  height:234px;");K.appendChild(this.Zu);this.aaw=new gV("Source Images",!0);
K.appendChild(this.aaw.e)};hC.fZ.prototype=new fo;hC.fZ.prototype.acm=function(K){var E=this.Fk.m();
for(var x in E){E=E[x];break}this.dI=aN.Sg(R.__(E));this.I5()};hC.fZ.prototype.ahJ=function(){return this.aaw.m()};
hC.fZ.prototype.jG=function(K,E){var x=this.dI=JSON.parse(JSON.stringify(K.$o));this.I5()};hC.fZ.prototype.m=function(){return this.dI};
hC.fZ.prototype.I5=function(){var K=this.ok.bind(this),E=this.dI,c="max-width: 100px; overflow:hidden; white-space: nowrap; border: 1px solid; padding:0px 5px;";
this.JA=[];var x=U.t("table");x.setAttribute("style","border-collapse: collapse;");for(var y=0;y<E.length;
y++){var J=U.t("tr"),i=E[y],P=y==0?"th":"td";x.appendChild(J);var _=U.t(P);J.appendChild(_);_.setAttribute("style",c+"cursor:pointer;");
if(y!=0)_.textContent="\u2713";this.JA.push(_);_.addEventListener("click",K,!1);for(var a=0;a<i.length;
a++){var _=U.t(P);_.textContent=i[a];J.appendChild(_);_.setAttribute("style",c);_.setAttribute("title",i[a])}}U.w6(this.Zu);
this.Zu.appendChild(x)};hC.fZ.prototype.ok=function(K){this.g=this.JA.indexOf(K.currentTarget);this.S(new i3("activate"))};
hC.TH=function(){fo.call(this);var K=this.e=U.t("div","form marged");this.pk=null;this.rP=[];this.T9=[];
this.yO=null;this.P4=new aw([0,3],[]);this.P4.w(u.E.A,this.a8r,this);K.appendChild(this.P4.e);this.uM=[];
var E=["Visibility","Text Content","Pixel Content"];for(var y=0;y<E.length;y++){U.JB(K);var x=new jw(E[y]);
x.w(u.E.A,this.m1,this);K.appendChild(x.e);U.R0(K);var c=new ay("Variable Name");c.w(u.E.A,this.m1,this);
K.appendChild(c.e);this.uM.push(x,c)}};hC.TH.prototype=new fo;hC.TH.prototype.m1=function(K){var E=this.P4.m(),x=this.yO[E],c=this.rP[E],J=this.pk["l"+x],i=this.uM;
if(J==null)this.pk["l"+x]=J=[];while(J.length!=0)J.pop();for(var y=0;y<3;y++){var P=i[2*y+1].m();if(!i[2*y].m())continue;
var _={varName:P,trait:["visibility","textcontent","fileref"][y]};J.push(_);if(y==2){_.align="center";
_.clip="false";_.placementMethod="fit";_.valign="middle"}}if(J.length==0)delete this.pk["l"+x];this.jG()};
hC.TH.prototype.a8r=function(K){var E=this.P4.m(),x=this.yO[E],c=this.rP[E],J=this.pk["l"+x],i=this.uM;
if(J==null)J=[];for(var y=0;y<3;y++){var P=y==0||y==1&&c==0||y==2&&c==1;i[2*y].Lk(P);i[2*y].$(!1);i[2*y+1].Lk(P);
i[2*y+1].$("")}for(var y=0;y<J.length;y++){var _=J[y],a=_.trait,j=["visibility","textcontent","fileref"].indexOf(a);
i[j*2].$(!0);i[j*2+1].$(_.varName)}};hC.TH.prototype.jG=function(K,E){if(K){var x=JSON.parse(JSON.stringify(K.ej)),c=this.pk={};
for(var y=0;y<x.length;y++){var J=x[y],i=J.docRef;i="l"+i.slice(4,i.length-2);if(c[i]==null)c[i]=[];
c[i].push(J)}this.yO=[];this.rP=[];this.T9=[];for(var y=K.B.length-1;y>=0;y--){var P=K.B[y],i=P.add.lyid;
if(P.getName()=="</Layer group>")continue;this.yO.push(i);this.rP.push(P.add.TySh?0:1);this.T9.push(P.getName())}}var _=[],a=this.T9;
for(var y=0;y<a.length;y++){_.push(a[y]+(this.pk["l"+this.yO[y]]?" *":""))}var j=this.P4.m();this.P4.C8(_);
this.P4.$(j);this.a8r()};hC.TH.prototype.m=function(){var K=this.pk,E=[];for(var x in K){var c=K[x];
for(var J=0;J<c.length;J++){c[J].docRef="id('"+x.slice(1)+"')";E.push(c[J])}}return E};function a5(){cm.call(this,["VAR0 VAR1",[15,10,22],[8,11,0]],"divslice");
this.Rd=!1;var K=this.WM=[],E=U.t("div","form");E.setAttribute("style","width:20em");this.body.appendChild(E);
for(var y=0;y<2;y++){var x=new jw([22,4,2+y]);E.appendChild(x.e);U.R0(E);var c=new fn(null,[["N equal parts"],["N pixels per part"]]);
E.appendChild(c.e);U.R0(E);var J=new eW("N",0,1e3);J.$(4);J.parent=this;E.appendChild(J.e);U.R0(E);if(y==0)U.JB(E);
K.push(x,c,J)}for(var y=0;y<K.length;y++)K[y].w(u.E.A,this.h4,this);K.push(U.n4(this,E));this.w("closebtn",this.A1,this)}a5.prototype=new cm;
a5.prototype.A1=function(){if(this.Rd){var K=new i3(u.E.v,!0);K.G=$.Ww;K.data={_:"h_stepbck"};this.S(K)}};
a5.prototype.h4=function(K){this.A1();this.Rd=!0;var E=[];for(var y=0;y<6;y++)E.push(this.WM[y].m());
var x={__name:"Divide",classID:"divide",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"slice",typeID:"Ordn",enum:"Trgt"}}]}};
for(var c=0;c<2;c++){if(!E[c*3])continue;var J=E[c*3+1],i=E[c*3+2];x[["slices","pixels"][J]+["Across","Down"][c]]={t:"long",v:i}}var P=new i3(u.E.Hg,!0);
P.data={va:"divide",Ks:x};this.S(P)};a5.prototype.OQ=function(K){this.close()};a5.prototype.f=function(){cm.prototype.f.call(this);
var K=this.WM;for(var y=0;y<K.length;y++)K[y].f()};a5.prototype.jG=function(K,E){this.Rd=!1};function ap(K,E,x,c){fo.call(this);
this.name=K;this.alm=x;this._E=c;this.hF=U.t("div","");this.hF.setAttribute("draggable","true");this.I$=U.t("div","pbody");
this.hT=new cn("",!1,"");this.hT.parent=this;this.aaY=U.t("span","cross gsicon");this.zp=U.t("span","label");
var J=this.a4s.bind(this);this.hF.addEventListener("mousedown",this.aqK.bind(this),!1);this.hF.addEventListener("contextmenu",J,!1);
this.hT.e.addEventListener("contextmenu",J,!1);this.aaY.addEventListener("mousedown",this._u.bind(this),!1);
this.hF.appendChild(this.zp);if(E)this.hF.appendChild(this.aaY);this.J8=!1;this.zp.textContent=K}ap.prototype=new fo;
ap.prototype._t=function(){return null};ap.prototype.f=function(){var K=hg.get(this.name),E=!1,x=this.pz==0?22:Math.round(2+this.pz/50);
if(K.endsWith(" *")){E=!0;K=K.slice(0,K.length-2);x-=2}var c=K.length>x;this.zp.textContent=c?K.slice(0,x-2):K;
if(c)for(var J=0;J<2;J++){var i=U.t("span");i.textContent=K.charAt(x-2+J);i.setAttribute("style","opacity:"+(.6-J*.4));
this.zp.appendChild(i)}if(E){var i=U.t("span");i.textContent=" *";this.zp.appendChild(i)}var P=K.split(" "),_=P.length==2?P[0].substring(0,2)+P[1][0]:K.substring(0,3);
if(_.charCodeAt(0)>=11776)_=_.substring(0,1);var a=this.alm;if(a==null)this.hT.Q1(_,K);else{var j;if(a.startsWith("---"))j="<img src=\""+PIMG[a.slice(3)]+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(a.startsWith("==="))j="<img src=\""+a.slice(3)+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(a.indexOf("\"")==-1)j="<img src=\""+a+"\" alt=\""+U.$f(K).replace(/"/g,"&quot;")+"\" height=\"18\" width=\"18\" loading=\"lazy\" style=\"margin:1px 3px;\" />";
this.hT.Q1(j,K)}};ap.prototype.enable=function(){this.I$.className="pbody"};ap.prototype.disable=function(){this.I$.className="pbody disabled"};
ap.prototype.Q3=function(K,E){};ap.prototype.jG=function(K,E,x){};ap.prototype.YQ=function(K){};ap.prototype.nt=function(K,E){};
ap.prototype.V$=function(K){this.name=K;this.f()};ap.prototype.Uo=function(){};ap.prototype.aqK=function(K){if(K.button==0)this.S(new i3("select",!1))};
ap.prototype.a4s=function(K){U.v$(K);if(this._E!=null&&isNaN(this._E))return;var E=U.bf(K,document.body),x=this.i_;
if(x==null){x=this.i_=new cQ([{name:[1,12,0]}]);this.i_.w("select",this._u,this)}x.update(null);x.f();
x.parent=this;var c=new i3(u.E.L,!0);c.data={_:u.c.gF,M8:x,x:E.x+1,y:E.y+1};this.S(c)};ap.prototype.OY=function(){this._u({})};
ap.prototype._u=function(K){if(K.stopPropagation)K.stopPropagation();if(this._E!=null&&!isNaN(this._E)){var E=new i3(u.E.L,!0);
E.data={_:u.c.rd,M8:this.i_};this.S(E);E.data={_:u.c.Na,ry:eu.f7,Z:parseFloat(this._E),bA:"del"};this.S(E)}else if(this.a85())this.S(new i3(u.E.rL,!1))};
ap.prototype.a85=function(K){return!0};ap.prototype.zb=function(K,E,x,c,J){};ap.prototype.il=function(K,E,x,c,J){};
ap.prototype.N2=function(K,E,x,c,J){};ap.u1=function(K,E,x){if(K.childElementCount!=0)return;var c=K.textContent;
this.kD=this.aeA.bind(this);this.aof=this.aaZ.bind(this);this.Ob=E;this.adA=x;this.k5=K;this.a37=c;var J=U.t("input","");
J.setAttribute("type","text");J.setAttribute("size","10");J.setAttribute("value",c);U.w6(K);K.appendChild(J);
J.select();J.focus();U.sr(K);K.addEventListener("keyup",this.kD,!1);document.body.addEventListener("mousedown",this.aof,!1)};
ap.u1.prototype.aeA=function(K){var E=j6.MQ,x=E(K.code,j6.Tt);if(E(K.code,j6.go)||x)this.akg(x)};ap.u1.prototype.aaZ=function(K){var E=K.target;
if(E.tagName&&E.tagName.toLowerCase()=="input")return;this.akg(!0)};ap.u1.prototype.akg=function(K){var E=this.k5,x=E.firstChild.value;
E.removeEventListener("keyup",this.kD);document.body.removeEventListener("mousedown",this.aof);if(this.adA||K&&x!=""&&x!=this.a37){this.Ob(x)}else{U.w6(E);
E.textContent=this.a37}};ap.oE={Ww:"0",a3Q:"1",Os:"2",ak5:"3",a5c:"4",a_:"5",CSS:"6",Xb:"7",ad7:"8",adJ:"9",aj4:"10",aoQ:"11",a4G:"12",Fa:"13",Ro:"14",alB:"15",aaV:"16",gj:"17",av2:"18",aaS:"19",agW:"20",aH:"21",a3c:"22"};
function fu(){ap.call(this,[9,9],!1,"---panels/actions",ap.oE.aoQ);this.ll=null;this.lG=[0,0]}fu.prototype=new ap("");
fu.prototype.gQ=function(){if(!U.Of(this.I$)||this.ic)return;this.ic=U.t("div","padded scrollable");
this.ic.setAttribute("style","width:260px;  height:260px");this.I$.appendChild(this.ic);this.w(u.E.A,this.Wz,this);
this.Gd=U.t("div","lpfoot");this.I$.appendChild(this.Gd);this.Ow=[];var K="<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\">",E="</svg>",x=K+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+E,c=K+"<path d=\"M0,0 L15,7.5 L0,15 Z\" />"+E;
this.ajz=K+"<circle cx=\"7.5\" cy=\"7.5\" r=\"7.5\" />"+E;this.atj=K+"<path d=\"M1,1 L14,1 L14,14 L1,14 Z\" />"+E;
var J=[this.ajz,c,"lrs/folder","lrs/newlayer","lrs/bin",x],i=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var y=0;y<J.length;y++){var P=J[y];if(1<y&&y!=J.length-1)P="<img src=\""+PIMG[J[y]]+"\" class=\"miniscale gsicon\" />";
var _=new cn(P,!1,i[y]);_.w("click",this.a0w,this);this.Gd.appendChild(_.e);this.Ow.push(_)}this.I5()};
fu.prototype.f=function(){ap.prototype.f.call(this);if(this.ic==null)return;for(var y=0;y<this.Ow.length;
y++)this.Ow[y].f()};fu.prototype.a0w=function(K){var y=this.Ow.indexOf(K.currentTarget),E=this.lG,x=this.ll,c=x.A$;
if(y==0){var J,i=x.ta;if(c.length==0){alert("Create an Action Set first.");return}if(E.length<2){alert("Select a target action first.");
return}if(i==null){J=this.atj;i=this.lG}else{J=this.ajz;i=null}this.Ow[0].Q1(J);x.ta=i}else if(y==1)this.adx();
else if(y==2||y==3){var P={vZ:"Action Set "+c.length,E5:[],exp:!0};if(y==2||c.length==0){E=[c.length];
c.push(P)}if(y==3){var _=c[E[0]].E5;E=[E[0],_.length];_.push({vZ:"Action "+_.length,color:0,E5:[],acp:!1,shift:!1,exp:!0,JD:_.length})}this.lG=E;
this.I5()}else if(y==4){var a;if(E.length==1)a=c;else if(E.length==2)a=c[E[0]].E5;else a=c[E[0]].E5[E[1]].E5;
var j=E.length-1;a.splice(E[j],1);if(a.length==0)E.pop();else while(E[j]>=a.length)E[j]--;if(E.length==0)E.push(0);
this.I5()}else if(y==5){if(c.length==0){alert("No Actions Present.");return}var e=new i3(u.E.L,!0);e.data={_:u.c.t3,axr:eu.v,Av:E[0]};
this.S(e)}};fu.prototype.Wz=function(K){var E=this.ll.A$,x=K.data._,c=K.data.Nd;if(x=="sel")this.lG=c;
if(x=="fold"){if(c.length==1)E[c[0]].exp=!E[c[0]].exp;else E[c[0]].E5[c[1]].exp=!E[c[0]].E5[c[1]].exp}if(x=="enab"){var J=E[c[0]].E5[c[1]].E5[c[2]];
J.q=!J.q}if(x=="nchange"){if(c.length==1)E[c[0]].vZ=K.data.e2;else E[c[0]].E5[c[1]].vZ=K.data.e2}this.I5()};
fu.prototype.jG=fu.prototype.Uo=function(){this.gQ()};fu.prototype.Q3=function(K,E){this.ll=K;if(this.ic==null)return;
if(E==eu.v||E==eu.$r)this.I5()};fu.prototype.I5=function(){if(this.ll==null)return;U.w6(this.ic);var K=this.ll.A$;
if(K.length==0)return;var E=JSON.stringify(this.lG);for(var y=0;y<K.length;y++){var x=K[y],c=new fu.sE([y],E,x.exp,x.vZ.split("=").pop());
c.parent=this;this.ic.appendChild(c.e);if(!x.exp)continue;for(var J=0;J<x.E5.length;J++){var i=x.E5[J],c=new fu.sE([y,J],E,i.exp,i.vZ.split("=").pop());
c.parent=this;this.ic.appendChild(c.e);if(!i.exp)continue;for(var P=0;P<i.E5.length;P++){var _=i.E5[P],c=new fu.sE([y,J,P],E,null,hg.get(b$.ak6(_)),_.q);
c.parent=this;this.ic.appendChild(c.e)}}}};fu.prototype.adx=function(){var K=this.ll.A$,E=this.lG;if(K.length==0){alert("No Actions Present");
return}if(E.length==1){alert("Select an Action first");return}if(this.ll.ta!=null){alert("You can not apply actions while recording actions");
return}if(E.length==1)E.push(0);var x=K[E[0]],c=x.E5[E[1]],J=new i3(u.E.L,!0);J.data={_:u.c.jI,WX:[c.vZ,x.vZ]};
this.S(J)};fu.sE=function(K,E,x,c,J){fo.call(this);this.Nd=K;var i=this.Nd.length-1;this.e=U.t("div","layeritem"+(JSON.stringify(K)==E?" selected":""));
this.YE=U.t("div","head");this.e.appendChild(this.YE);this.YE.setAttribute("style","height:24px");this.QB=U.t("div","headL");
this.YE.appendChild(this.QB);if(i!=0){var P=U.t("div");P.style.width=i*20+"px";this.QB.appendChild(P)}if(x!=null){var _=this.ai4=U.t("div",x?"open":"closed");
this.QB.appendChild(_)}else{var a=this.a6I=U.t("div","cmark");a.setAttribute("style","background-size:12px 12px; opacity:"+(J?1:.3));
this.QB.appendChild(a)}if(i==0){var j=U.t("div","folder");this.QB.appendChild(j)}var e=this.zp=U.t("div","label");
e.textContent=c;this.QB.appendChild(e);this.e.addEventListener("mouseup",this.Jj.bind(this),!1)};fu.sE.prototype=new fo;
fu.sE.prototype.Jj=function(K){if(K.detail==1&&K.target.tagName.toLowerCase()!="input"){var E="sel";
if(K.target==this.ai4)E="fold";if(K.target==this.a6I)E="enab";var x=new i3(u.E.A,!0);x.data={_:E,Nd:this.Nd};
this.S(x)}else if(this.Nd.length<3)var c=new ap.u1(this.zp,this.Ob.bind(this))};fu.sE.prototype.Ob=function(K){var E=new i3(u.E.A,!0);
E.data={_:"nchange",e2:K,Nd:this.Nd};this.S(E)};function fw(){ap.call(this,[3],!1,"---lrs/adj",ap.oE.av2)}fw.prototype=new ap("");
fw.prototype.gQ=function(){if(!U.Of(this.I$)||this.Ow)return;this.I$.setAttribute("style","text-align:center;  padding:6px; min-width:220px");
this.Ow=[];var y=0;for(var K in c2.names){var E=new cn("<img src=\""+PIMG["adj/"+K]+"\" class=\"autoscale gsicon\" style=\"margin:4px 4px;\"/>",!1,c2.names[K]);
E.w("click",this.afp,this);this.Ow.push(E);this.I$.appendChild(E.e);if(y==4||y==10)U.R0(this.I$);y++}this.f()};
fw.prototype.jG=function(){this.gQ()};fw.prototype.Uo=function(){this.gQ()};fw.prototype.f=function(){ap.prototype.f.call(this);
if(this.Ow==null)return;for(var y=0;y<this.Ow.length;y++)this.Ow[y].f()};fw.prototype.afp=function(K){var E=this.Ow.indexOf(K.target),x=b7.t_()[E],c=new i3(x.Y,!0);
c.data=x.F;this.S(c)};function jD(){ap.call(this,[12,22],!1,null,ap.oE.aH);this.ic=U.t("div","padded");
this.ll=null;this.I$.appendChild(this.ic);this.iD=new fz(null,17.7,10);this.iD.parent=this;this.iD.w(u.E.A,this.h4,this);
this.ic.appendChild(this.iD._0)}jD.prototype=new ap("");jD.prototype.h4=function(K){var E=this.iD.m(),x=new i3(u.E.v,!0);
x.data={_:"setstl",Z:E.BT};x.G=$.j8;this.S(x);x.data={_:"confirm"};this.S(x)};jD.prototype.Q3=function(K,E){this.ll=K;
this.I5()};jD.prototype.I5=function(){var K=this.ll,E=K.n1;this.iD.ly([E,K.$A])};jD.prototype.jG=function(){this.I5()};
jD.prototype.Uo=function(){this.I5()};var cz=function(){function K(){ap.call(this,[9,3],!1,"---panels/brush",ap.oE.Xb);
this.BL=null;this.ll=null}K.prototype=new ap("");K.prototype.gQ=function(){var J=U.t("div","");this.I$.appendChild(J);
this._k=U.t("div","bordered cell");this._k.setAttribute("style","width:10em; height:28.5em;");J.appendChild(this._k);
this.Ma=[];this.md=null;this.cP=[];var i=this.al2.bind(this);this._e=[new x("basic"),new x("useTipDynamics"),new x("useScatter"),new x("useColorDynamics"),new x("usePaintDynamics")];
for(var y=0;y<this._e.length;y++){var P=U.t("div","listitem"),_=this._e[y],j=null;_.parent=this;_.w("brushchange",this.axg,this);
var a=_.en;if(y==0){this.md=new jp(a);P.appendChild(this.md.e)}else{j=new jw(a,!1);j.w(u.E.A,this.atx,this);
P.appendChild(j.e)}this.cP.push(j);this._k.appendChild(P);this.Ma.push(P);P.addEventListener("click",i,!1)}this.Ml=U.t("div","cell padded");
J.appendChild(this.Ml);this.setItem(0);this.T=U.t("canvas");this.T.height=10;J.appendChild(this.T);this.gI=this.T.getContext("2d");
this.tO()};K.prototype.nt=function(J,i){if(this.pz==J)return;this.pz=J;this.o4=i;this.tO()};K.prototype.Uo=function(){if(!U.Of(this.I$))return;
if(this._k){this.tO();return}this.gQ();this.f();this.Q3(this.ll,eu.$r)};K.prototype.f=function(){ap.prototype.f.call(this);
if(this._k==null)return;this.md.f();for(var y=1;y<this.cP.length;y++)this.cP[y].f();for(var y=0;y<this._e.length;
y++)this._e[y].f()};K.prototype.axg=function(J){var i=this._e.indexOf(J.currentTarget),P=JSON.parse(JSON.stringify(this._e[i].BL)),_=new i3(u.E.L,!0);
_.data={_:u.c.Na,ry:eu.N7,BL:P};this.S(_)};K.prototype.atx=function(J){this.apf(this.cP.indexOf(J.currentTarget),J.currentTarget.dn())};
K.prototype.al2=function(J){var y=this.Ma.indexOf(J.currentTarget);if(J.target.tagName.toLowerCase()=="input")return;
if(this.cP[y]&&!this.cP[y].dn()){this.cP[y].Kv();this.apf(y,!0)}this.setItem(y)};K.prototype.apf=function(J,i){this._e[J].abx(i)};
K.prototype.setItem=function(J){for(var y=0;y<this._e.length;y++)this.Ma[y].className="listitem";if(this.Ml.firstChild)this.Ml.removeChild(this.Ml.firstChild);
this.Ma[J].className="listitem selected";this.Ml.appendChild(this._e[J].e)};K.prototype.Q3=function(J,i){this.ll=J;
if(this._k==null)return;for(var y=0;y<this._e.length;y++)this._e[y].Q3(J,i);if(i==eu.N7||i==eu.$r){this.BL=J.ZR.Ad;
this.tO()}if(i==eu.Fa)this.tO()};K.prototype.tO=function(){if(this.BL)this.enable();else{this.disable();
return}if(!U.Of(this.I$))return;var J=this.ll;for(var y=0;y<this._e.length;y++){this._e[y].$(this.BL);
if(this.cP[y])this.cP[y].$(this._e[y].dn())}var i=JSON.parse(JSON.stringify(this.BL));i.Brsh.v.Dmtr.v.val=Math.min(i.Brsh.v.Dmtr.v.val,50);
U.CL(this.T,this.pz,80);var P=new cS(0,0,this.T.width,this.T.height),_=this.ll.ZR,a=new bL(i,_?_.qq:null,_?_.V8:null,{S5:1},J.U9,J.xw,P,null,0),j=P.n/2,e=P.b-j*2;
a.moveTo(j,j);for(var y=0;y<=e;y+=10)a.lineTo(j+y,j+20*Math.sin(2*Math.PI*y/e));a.finish();var d=this.gI.createImageData(P.b,P.n);
W.UL(a.fe(),a.ZS(),d.data,P);this.gI.putImageData(d,0,0)};function E(J){fo.call(this);J=J.split(".")[0];
this.pB=J;var i=this.e=U.t("span"),P=["Off","Fade"];P.push(J=="angleDynamics"?"Direction":"Pen Pressure");
var _=this.ye=new aw("Control",P);_.w(u.E.A,this.m1,this);i.appendChild(_.e);var j=this.arN=new eW(null,0,100,null,null,null,!0);
j.$(50);j.w(u.E.A,this.m1,this)}E.prototype=new fo;E.prototype.$=function(J){J=J<2?J:2;this.ye.$(J);
this.I5()};E.prototype.m=function(){var J=this.ye.m(),i=this.pB;J=J<=1?J:i=="angleDynamics"?6:2;return J};
E.prototype.m1=function(J){this.I5();J.target=J.currentTarget=this;this.S(J)};E.prototype.I5=function(J){this.arN.Lk(this.ye.m()==1)};
function x(J){fo.call(this);this.e=U.t("div");this.BL=null;var i=["basic","useTipDynamics","useScatter","useColorDynamics","usePaintDynamics"].indexOf(J);
this.en=[[15,0],[15,1],[15,2],[15,3],"Transfer"][i];this.Sq=J;this.x0={};this.az1=null;var P=["--br Brsh.Dmtr Brsh.Angl Brsh.Rndn Brsh.Hrdn Brsh.Spcn".split(" "),"szVr.jitter szVr.bVTy szVr.fStp minimumDiameter angleDynamics.jitter angleDynamics.bVTy angleDynamics.fStp roundnessDynamics.jitter minimumRoundness".split(" "),["scatterDynamics.jitter","Cnt","countDynamics.jitter"],["clVr.jitter","H","Strt","Brgh"],"opVr.jitter opVr.bVTy opVr.fStp prVr.jitter prVr.bVTy prVr.fStp".split(" ")][i];
for(var y=0;y<P.length;y++){var _=P[y],a;if(_=="--br"){a=new gx;this.e.appendChild(a._0.firstChild)}else if(_=="Brsh.Dmtr")a=new bJ([12,14,0],1,1e3," px",0,!0);
else if(_=="Brsh.Angl")a=new bJ([12,15],0,359," \xB0");else if(_=="Brsh.Rndn")a=new bJ([12,16],0,100," %");
else if(_=="Brsh.Hrdn")a=new bJ([12,17],0,100," %");else if(_=="Brsh.Spcn")a=new bJ([12,18],1,300," %");
else if(_=="szVr.jitter")a=new bJ([15,4,0],0,100,"%");else if(_=="minimumDiameter")a=new bJ([15,4,1],0,100,"%");
else if(_=="angleDynamics.jitter")a=new bJ([15,4,2],0,100,"%");else if(_.endsWith("bVTy"))a=new E(_);
else if(_.endsWith("fStp"))a=new eW(null,0,100,null,null,null,!0);else if(_=="roundnessDynamics.jitter")a=new bJ([15,4,3],0,100,"%");
else if(_=="minimumRoundness")a=new bJ([15,4,4],1,100,"%");else if(_=="scatterDynamics.jitter")a=new bJ([15,5,0],0,1e3," %");
else if(_=="Cnt")a=new bJ([15,5,1],1,20);else if(_=="countDynamics.jitter")a=new bJ([15,5,2],0,100," %");
else if(_=="clVr.jitter")a=new bJ([15,6,0],0,100," %");else if(_=="H")a=new bJ([15,6,1],0,100," %");
else if(_=="Strt")a=new bJ([15,6,2],0,100," %");else if(_=="Brgh")a=new bJ([15,6,3],0,100," %");else if(_=="opVr.jitter")a=new bJ("Opacity Jitter",0,100," %");
else if(_=="prVr.jitter")a=new bJ("Flow Jitter",0,100," %");else throw _;this.x0[_]=a;a.parent=this;
a.w(u.E.A,this.m1,this)}}x.prototype=new fo;x.prototype.aun=function(){this.S(new i3("brushchange"))};
x.prototype.$=function(J){this.BL=JSON.parse(JSON.stringify(J));this.e.className=this.dn()?"":"disabled";
this.tO()};x.prototype.f=function(){for(var J in this.x0)this.x0[J].f()};x.prototype.dn=function(){return!0};
x.prototype.Q3=function(J,i){if(i==eu.Xb||i==eu.$r){var P=this.x0["--br"];if(P)P.ly(J.ZR)}};x.prototype.m1=function(J){var i=J.target,P=this.x0,_;
for(var j in P)if(P[j]==i)_=j;if(_=="--br"){var e=new i3(u.E.L,!0);e.data={_:u.c.Na,ry:eu.N7,BL:i.m()};
this.S(e)}else{var d=c(this.BL,_),I=i.m();if(d){if(_.endsWith("bVTy")||_.endsWith("fStp")||_=="Cnt")d.v=I;
else d.v.val=I;this.aun()}}};x.prototype.tO=function(){var J=this.BL,i=J.Brsh.v.classID,P=this.x0,_=i!=this.az1;
this.az1=i;if(_){U.w6(this.e);for(var a in P){if(i!="computedBrush"&&i!="sampledBrush"&&a=="Brsh.Rndn")continue;
if(i!="computedBrush"&&a=="Brsh.Hrdn")continue;var j=P[a],e=j.e;if(a=="--br"){e=j.LU.e;e.style.width="auto"}this.e.appendChild(e)}}for(var a in P){if(a=="--br")continue;
var d=c(J,a),I;if(d){if(a.endsWith("bVTy")||a.endsWith("fStp")||a=="Cnt")I=d.v;else I=d.v.val;P[a].$(I);
if(a.endsWith("fStp"))P[a].Lk(c(J,a.split(".")[0]+".bVTy").v==1)}}};x.prototype.dn=function(){var J=this.Sq;
return J=="basic"?!0:this.BL[J].v};x.prototype.abx=function(J){var i=this.Sq;if(i=="basic")return;this.BL[i].v=J;
jE.Pq.ayE(this.BL);this.aun()};function c(J,i){var P=i.split(".");J=J[P[0]];for(var y=1;y<P.length;y++){if(J==null)return J;
J=J.v[P[y]]}return J}return K}();function iZ(){ap.call(this,[9,0],!1,"---panels/history",ap.oE.Ww);this.I$.setAttribute("style","min-width:200px;");
this.Zz=U.t("div","hpbody scrollable");this.Zz.style.height="160px";this.I$.appendChild(this.Zz);this.ada=-1;
this.ua=[];this.WJ="";this.ci=new cQ([{name:"Clear History"}],[{Y:u.E.v,G:$.Ww,F:{_:"h_clear"}}])}iZ.prototype=new ap("");
iZ.prototype._t=function(){return this.ci};iZ.prototype.nt=function(K,E){this.Uo()};iZ.prototype.jG=function(K){if(K==null){U.w6(this.Zz);
this.WJ="";return}U.w6(this.Zz);var E=0;for(var y=0;y<K.history.length;y++)if(y<=K.qh&&!K.history[y].iG)E=y;
for(var y=0;y<K.history.length;y++){var x=K.history[y];if(x.iG)continue;var c=new cV(x,y,E);c.parent=this;
this.Zz.appendChild(c.e);this.ua.push(c)}if(K.qh==K.history.length-1)this.Uo()};iZ.prototype.Uo=function(){this.Zz.scrollTop=this.Zz.scrollHeight};
iZ.prototype.f=function(){ap.prototype.f.call(this);for(var y=0;y<this.ua.length;y++)this.ua[y].f()};
function cV(K,y,E){fo.call(this);this.index=y;this.e=U.t("div",y==E?"listitem selected":"listitem");
this.O2=K.name;this.f();if(y>E)this.e.style.opacity=.4;this.e.addEventListener("click",this.zb.bind(this),!1)}cV.prototype=new fo;
cV.prototype.f=function(){this.e.textContent=hg.get(this.O2)};cV.prototype.zb=function(K){if(this.index==this.parent.ada)return;
this.Ap({_:"h_itemchange",index:this.index})};cV.prototype.Ap=function(K){var E=new i3(u.E.v,!0);E.data=K;
E.G=$.Ww;this.S(E)};function cO(){ap.call(this,[9,10],!1,"---panels/histogram",ap.oE.a5c);var K=U.t("div","padded");
this.I$.appendChild(K);this.py=new hc(256,!0);K.appendChild(this.py.e);this.ml=null}cO.prototype=new ap("");
cO.prototype.jG=function(K){this.ml=K;this.I5()};cO.prototype.I5=function(){var K=this.ml;if(!U.Of(this.I$))return;
if(K==null||K.g.length==0){this.py.$(W.ZT(W.Q(4)));return}var E=K.S7(),x=new cS(0,0,K.b,K.n),c=x.O();
if(K.P){var J=K.P.rect,i=W.Q(J.O()*4);W.UL(E,x,i,J);W.Z4(K.P.channel,i);E=i;x=J;var P=K.P.channel;c=0;
for(var y=0;y<P.length;y++)c+=P[y];c=Math.round(c/255)}var _=W.ZT(E);_[0][255]+=3*(c-_[5]);for(var y=1;
y<4;y++)_[y][255]+=c-_[5];this.py.$(_,c)};cO.prototype.Q3=function(K,E){this.py.aD(cX.Cm[K.T8]["--text-color"])};
cO.prototype.f=function(){ap.prototype.f.call(this);this.py.f()};cO.prototype.Uo=function(){this.I5()};
function c3(){ap.call(this,[9,8],!1,"---adj/clrL",ap.oE.a3Q);this.ic=U.t("div","padded");this.I$.appendChild(this.ic);
this.iY=new ar(10);this.ic.appendChild(this.iY.e);this.c6=new iF;this.c6.parent=this;this.ic.appendChild(this.c6._0);
this.c6._0.style.marginTop="6px";this.iY.w(u.E.A,this.acF,this);this.c6.w(u.E.A,this.acF,this)}c3.prototype=new ap("");
c3.prototype.acF=function(K){var E;if(K.target==this.iY)E=this.iY.m();else{var x=this.c6.m();E=Math.round(x.o)<<16|Math.round(x.J)<<8|Math.round(x.k)}var c=new i3(u.E.L,!0);
c.data={_:u.c.Na,ry:eu.Fa,S8:0,Z:E};this.S(c)};c3.a8=function(K,E){var x=E==eu.$r,c=K.Eo,J=K.q8,i=J.strokeStyleContent.v,P=null;
if((E==eu.nX||x)&&c.ez==1){P=W.M.Et(c.QT.Clr.v);P=P.o<<16|P.J<<8|P.k}if((E==eu.fh||x)&&J.strokeEnabled.v&&i.classID=="solidColorLayer"){P=W.M.Et(i.Clr.v);
P=P.o<<16|P.J<<8|P.k}if(E==eu.Fa||x)P=K.U9;return P};c3.prototype.Q3=function(K,E){var x=K.U9,c=E==eu.$r,J=c3.a8(K,E);
if(J!=null){this.iY.$(J);this.c6.$({o:J>>>16&255,J:J>>>8&255,k:J>>>0&255,Qt:"Color #"+W.E8(J)})}if(E==eu.ZX||c){var i=K.awV;
this.c6.ly(i)}};function br(){ap.call(this,[12,72],!1,"---adj/mixr",ap.oE.aaV);this.aI=null;this.Xs=null;
this.Zz=U.t("div","lpbody scrollable");this.Zz.style.marginTop="4px";this.Gd=U.t("div","lpfoot");this.I$.appendChild(this.Zz);
this.I$.appendChild(this.Gd);this.DN=[];this.w("click",this.KL,this);this.A8=[];br.dj([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.A8,this.Gd,this.hx.bind(this),this.qs.bind(this));
this.ci=new cQ([{name:"Merge Channels",Ps:!0}],[{Y:u.E.L,F:{_:u.c.v9,xc:"mergechannels"}}])}br.prototype=new ap("");
br.prototype._t=function(){return this.ci};br.dj=function(K,E,x,c,J){for(var y=0;y<K.length;y++){var i=new cn("W",!1,K[y]);
E.push(i);U.gw(i.e,c);x.appendChild(i.e);var P=i.e;P.addEventListener("drop",J,!1);P.addEventListener("dragover",function(_){_.preventDefault()},!1);
P.addEventListener("dragenter",U.v$,!1)}};br.Ek=function(K,E){for(var y=0;y<K.length;y++)if(K[y].e==E.currentTarget)return y};
br.prototype.hx=function(K){var E=br.Ek(this.A8,K);if(E==0)this.S(iV.Mq(!0,null,K));else{E--;var x=new i3(u.E.Hg,!0),c={classID:"null"};
if(E==0)c.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};else if(E==1)c.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else c.null=b$.oe("Chnl",!0);x.data={va:["duplicate","make","delete"][E],Ks:c};this.S(x)}};br.prototype.qs=function(K){var E=br.Ek(this.A8,K);
if(E==2){var x=new i3(u.E.Hg,!0),c={classID:"null"};c.null=b$.oe("Chnl",!0);x.data={va:"duplicate",Ks:c};
this.S(x)}else this.hx(K)};br.prototype.XO=function(y){var K=this.DN,E=K[y];if(E==null){var x=U.t("canvas");
E=x.getContext("2d");K.push(E)}return E};br.prototype.KL=function(K){var E=this.aI.slice(0),x=K.data.JD,c=E[0]+E[1]+E[2],J=this.Xs;
if(-5<x&&x<0){var i=-x-1;if(K.data.EH){if(i==0)E=c==3?[0,0,0]:[1,1,1];else{if(E[i-1]==0)E[i-1]=1;else if(!0)E[i-1]=0}}else{if(i==0)E=[1,1,1];
else{E=[0,0,0];E[i-1]=1}for(var y=0;y<J.Un.length;y++)J.Un[y].U1=!1;J.N9=[]}var P=new i3(u.E.v,!0);P.G=$.ER;
P.data={_:"setcls",NW:E};this.S(P);return}if(-1<x){var _=J.B[x],a=_.kS==1?_.FA():_.Xe(J).z;if(K.data.EH)a.U1=!a.U1;
else{for(var y=0;y<J.Un.length;y++)J.Un[y].U1=!1;J.N9=[]}}else{var j=-x-5,a=J.Un[j];if(K.data.EH)a.U1=!a.U1;
else{for(var y=0;y<J.Un.length;y++)J.Un[y].U1=!1;a.U1=!0;J.N9=[j];if(c!=0){var P=new i3(u.E.v,!0);P.G=$.ER;
P.data={_:"setcls",NW:[0,0,0]};this.S(P)}}}J.ZI=J.Bi=!0};br.prototype.Uo=function(){this.SI()};br.prototype.jG=function(K){this.Xs=K;
this.SI()};br.prototype.SI=function(){var K=this.Xs,E=this.Zz,v=4;U.w6(E);if(K==null||!U.Of(E))return;
var x=K.b,c=K.n,J=new cS(0,0,x,c),i=this.aI=K.D.NW.slice(0),P=i[0]+i[1]+i[2],_=Math.round(34*U.V()),a=_;
if(x>c)a=Math.round(a*c/x);else _=Math.round(_*x/c);var j=["RGB"].concat(c2.V2);for(var y=0;y<4;y++){var e=this.XO(y);
W.CP.Tc(e,_,a,J,K.S7(),J,!1,y==0?null:y-1);var d=y==0?P==3:i[y-1]==1,I=new iV(-1-y,!0,!0,e,j[y],d,d);
I.parent=this;E.appendChild(I.e);U.Ne(e.canvas)}for(var y=0;y<K.g.length;y++){var n=K.B[K.g[y]],C=n.kS;
if(C!=1&&C!=3)continue;var T=C==1?n.FA():n.Xe(K).z,e=this.XO(v+y);v++;W.CP.Bz(e,_,a,J,T);var I=new iV(K.g[y],!0,!0,e,n.getName()+(C==1?"":" Filter")+" Mask",!0,T.U1);
I.parent=this;E.appendChild(I.e);U.Ne(e.canvas)}for(var y=0;y<K.Un.length;y++){var T=K.Un[y],e=this.XO(v+y);
W.CP.Bz(e,_,a,J,T);var I=new iV(-5-y,!0,T.name=="Quick Mask",e,T.name,K.N9.indexOf(y)!=-1,T.U1,$.Os,{_:Z.wE,S8:"rnm",JD:y});
I.parent=this;E.appendChild(I.e);U.Ne(e.canvas)}};br.prototype.nt=function(K,E){this.Zz.style.height=E-30-4+"px";
this.Zz.style.width=K+"px"};br.prototype.f=function(){ap.prototype.f.call(this);this.SI();br.fR(this.A8,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};
br.fR=function(K,E){var E=fn.b9(E,null,"miniscale");for(var y=0;y<K.length;y++)K[y].Q1(E[y])};function iV(K,E,x,c,J,i,P,_,a){fo.call(this);
this.e=U.t("div","layeritem");this.a4S=K;this.a1M=E;this.gI=c;this.am0=_;this.adF=a;this.YE=U.t("div",i?"head selected":"head");
this.YE.setAttribute("style","height: "+40+"px");var j=U.t("div","headL"),e=U.t("div","headR"),d=15;
this.e.appendChild(this.YE);this.YE.appendChild(j);this.YE.appendChild(e);this.t8=U.t("div","eye");if(1<U.V()&&U.V()<1.5)d=d/U.V();
this.t8.setAttribute("style","background-size: "+d+"px "+d+"px;");this.t8.style.opacity=P?1:.2;if(E)j.appendChild(this.t8);
this.f5=U.t("div","thumb");if(c)this.f5.appendChild(c.canvas);j.appendChild(this.f5);this.rB=U.t("div","label");
if(x)this.rB.style.fontStyle="italic";this.rB.textContent=hg.get(J);j.appendChild(this.rB);var I=this.YE;
I.setAttribute("draggable","true");I.addEventListener("dragstart",function(v){v.dataTransfer.setData("Text","")},!1);
U.gw(this.YE,this.auJ.bind(this));if(!x)this.YE.addEventListener("mouseup",this.a9I.bind(this),!1)}iV.prototype=new fo;
iV.prototype.Ob=function(K){var E=new i3(u.E.v,!0);E.G=this.am0;E.data=this.adF;E.data.name=K;this.S(E)};
iV.prototype.auJ=function(K){var E=K.ctrlKey||K.metaKey,x=this.a4S;if(E&&K.target==this.gI.canvas){this.S(iV.Mq(this.a1M,x,K))}else{var c=new i3("click",!0);
c.data={JD:x,EH:K.target==this.t8,yk:E};this.S(c)}};iV.prototype.a9I=function(K){if(K.detail==2&&K.target==this.rB){var E=new ap.u1(this.rB,this.Ob.bind(this))}};
iV.Mq=function(K,E,x){var c=0;if(x.shiftKey)c++;if(x.altKey)c+=2;var J=new i3(u.E.v,!0);J.G=$.LR;if(K){if(-5<E&&E<0){J=new i3(u.E.Hg,!0);
J.data=$.cx.alV(c,["RGB","Rd","Grn","Bl"][-1-E])}else J.data={_:"fromchannel",WX:[E,0,c]}}else J.data={_:"frompath",WX:[E,0,c]};
return J};function k8(){ap.call(this,[8,9],!1,"---panels/paths",ap.oE.gj);this.aI=null;this.Xs=null;
this.Zz=U.t("div","lpbody scrollable");this.Zz.style.marginTop="4px";this.Gd=U.t("div","lpfoot");this.I$.appendChild(this.Zz);
this.I$.appendChild(this.Gd);this.I$.addEventListener("click",this.avl.bind(this),!1);this.DN=[];this.w("click",this.KL,this);
this.A8=[];br.dj(["Fill Path","Stroke Path with Brush",[17,2],"Selection to Path",[5,3],[5,4]],this.A8,this.Gd,this.hx.bind(this),this.qs.bind(this))}k8.prototype=new ap("");
k8.prototype.hx=function(K,E){var x=br.Ek(this.A8,K),c;if(x<2){c=new i3(u.E.Hg,!0);c.data=$.hS.gh(x)}else if(x==2)c=iV.Mq(!1,null,K);
else if(x==3){c=new i3(u.E.Hg,!0);c.data={va:"make",Ks:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}}else if(x>3){var c=new i3(u.E.v,!0);
c.G=$.Xd;c.data={_:"pathedit",S8:["new","del"][x-4],a6_:E}}this.S(c)};k8.prototype.qs=function(K){this.hx(K,!0)};
k8.prototype.XO=function(y){var K=this.DN,E=K[y];if(E==null){var x=U.t("canvas");E=x.getContext("2d");
K.push(E)}return E};k8.prototype.avl=function(K){if(K.target==this.Zz){var E=this.Xs;E.Jq=[];E.FU=[];
E.Bi=!0;E.ZI=!0}};k8.prototype.KL=function(K){var E=K.data.JD,x=this.Xs,c=K.data.yk,J=0,i,P;if(E<0){J=-1-E;
i=x.Jq;P=x.FU}else{var _=x.Ox()[0];for(var y=0;y<_.length;y++){var a=_[y].JD;if(a==E)break;if(a>=0)J++}i=x.FU;
P=x.Jq}if(c){var j=i.indexOf(J);if(j==-1)i.push(J);else i.splice(j,1)}else{while(i.length!=0)i.pop();
while(P.length!=0)P.pop();i.push(J)}x.Bi=!0;x.ZI=!0};k8.prototype.Uo=function(){this.SI()};k8.prototype.jG=function(K){this.Xs=K;
this.SI()};k8.prototype.SI=function(){var K=this.Xs,E=this.Zz;U.w6(E);if(K==null||!U.Of(E))return;var x=K.b,c=K.n,J=new cS(0,0,x,c),i=this.aI=K.D.NW.slice(0),P=i[0]+i[1]+i[2],_=Math.round(34*U.V()),a=_;
if(x>c)a=Math.round(a*c/x);else _=Math.round(_*x/c);var j=K.Ox(),e=j[0];for(var y=0;y<e.length;y++){var d=e[y],I=this.XO(y);
W.CP.a2E(I,_,a,J,d.add.vmsk);var v=new iV(d.JD,!1,d.JD>=0,I,d.name,j[1].indexOf(y)!=-1,!1,$.Xd,{_:"pathedit",S8:"rnm",JD:d.JD});
v.parent=this;E.appendChild(v.e);U.Ne(I.canvas)}};k8.prototype.nt=function(K,E){this.Zz.style.height=E-30-4+"px";
this.Zz.style.width=K+"px"};k8.prototype.f=function(){ap.prototype.f.call(this);this.SI();br.fR(this.A8,"-\u2B24 -\u25EF lrs/makesel lrs/makepath lrs/newlayer lrs/bin".split(" "))};
function jB(K){ap.call(this,[9,K?4:5],!1,"---panels/"+(K?"character":"paragraph"),K?ap.oE.adJ:ap.oE.aj4);
this.I$.setAttribute("style","min-width:240px;");this.adW=K;this.Hh=null;this.ll=null}jB.prototype=new ap("");
jB.prototype.gQ=function(){this.Hh=new cD;var K=this.Hh,E=this.I$;K.parent=this;if(this.adW){var x=U.t("div","marged");
E.appendChild(x);x.appendChild(K.Np.e);E.appendChild(U.t("hr"));var c=U.t("div","marged");E.appendChild(c);
c.appendChild(K.kN.e);c.appendChild(K._K.e);var J=U.t("div","marged");E.appendChild(J);J.appendChild(K.TR.e);
J.appendChild(K.Jc.e);E.appendChild(U.t("hr"));var i=U.t("div","marged");E.appendChild(i);i.appendChild(K.xr.e);
i.appendChild(K.ks.e);var P=U.t("div","marged");E.appendChild(P);P.appendChild(K.gJ.e);P.appendChild(K.wc.e);
P.appendChild(K.sI.e);E.appendChild(U.t("hr"));var _=U.t("div","marged");E.appendChild(_);_.appendChild(K.a2.e);
_.appendChild(K.$I.e);_.appendChild(K.r4.e);_.appendChild(K.td.e);_.appendChild(K.G0.e);_.appendChild(K.vK.e);
_.appendChild(K.Eu.e);_.appendChild(K.ig.e)}else{var x=U.t("div","marged");E.appendChild(x);x.appendChild(K.Qb.e);
x.appendChild(K.ov.e);x.appendChild(K.yS.e);x.appendChild(K.a9s.e);x.appendChild(K.aoS.e);x.appendChild(K.aue.e);
x.appendChild(K.aip.e);E.appendChild(U.t("hr"));var c=U.t("div","marged");E.appendChild(c);c.appendChild(K.WH.e);
c.appendChild(K.JF.e);c.appendChild(K.C7.e);E.appendChild(U.t("hr"));var J=U.t("div","marged");E.appendChild(J);
J.appendChild(K.iN.e);J.appendChild(K._T.e);J.appendChild(K.bH.e);J.appendChild(K.Kd.e)}};jB.prototype.Uo=function(){if(!U.Of(this.I$))return;
if(this.Hh==null){this.gQ();var K=this.ll;if(K)this.Hh.$(K.H5,K.ir,K.rN);this.Hh.f()}};jB.prototype.f=function(){ap.prototype.f.call(this);
if(this.Hh)this.Hh.f()};jB.prototype.Q3=function(K,E){this.ll=K;if(E!=eu.$r&&E!=eu.xl&&E!=eu.r8&&E!=eu.uF)return;
if(this.Hh)this.Hh.$(K.H5,K.ir,K.rN)};function g_(){ap.call(this,[9,13],!1,"---panels/glyphs",ap.oE.aaS);
this.ll=null}g_.prototype=new ap("");g_.prototype.gQ=function(){this.Hh=new cD;this.Hh.parent=this;this.a8U=null;
this.a6y=null;this.Du=null;this.a4g=null;this.X3=Math.round(290*U.V());this.A7=45;this.alN=4;this.azT=this.I5.bind(this);
this.an0=0;this.Wq=new aw(null,["Hi","Hello"]);this.Wq.w(u.E.A,this.I5,this);var K=this.Px=new cn("-",null,null,!0);
K.w("click",this.azn,this);var E=this.azf=new cn("+",null,null,!0);E.w("click",this.azn,this);this.LU=new hA(!1);
this.LU.w(u.E.A,this.cg,this);this.LU.e.style.height=250+"px";var x=this.i7=U.t("div","form padded");
this.I$.appendChild(x);x.appendChild(this.Hh.Np.e);U.R0(x);x.appendChild(this.Wq.e);x.appendChild(K.e);
x.appendChild(E.e);this.I$.appendChild(this.LU.e)};g_.prototype.nt=function(K,E){if(this.pz==K||this.Hh==null)return;
this.pz=K;this.X3=Math.floor((K-13)*U.V());this.i7.setAttribute("style","width:"+this.X3/U.V()+"px;");
this.LU.e.style.height=E-73+"px";this.I5()};g_.prototype.cg=function(K){var E=this.a20(),x=Math.round(this.X3/E);
E/=U.V();var c=this.LU.m()[0]*x*this.alN,J=this.LU.a6L();c+=Math.floor(J.y/E)*x;c+=Math.floor(J.x/E);
var i=this.Du[this.Wq.m()];if(c>=i.length)return;var P=i[c],_=this.a4g[P],a=new i3(u.E.v,!0);a.G=$.H4;
if(_.px.length==0)a.data={_:"insertGlyph",Z:c+1};else a.data={_:"insertText",Z:String.fromCodePoint(_.px[0])};
this.S(a)};g_.prototype.azn=function(K){var E=1.2;if(K.target==this.Px){if(this.A7>20)this.A7/=E}else{if(this.A7<100)this.A7*=E}this.I5()};
g_.prototype.Uo=function(){this.Q3(this.ll)};g_.prototype.Q3=function(K,E){this.ll=K;if(!U.Of(this.I$))return;
if(this.Hh==null)this.gQ();this.Hh.$(K.H5,K.ir,K.rN);var x=K.H5,c=x.BY.Font,a=0;if(c==null)return;var J=x.Ho[c].Name;
if(this.a8U==J)return;var c=K.ir.i2(J);if(c==null)return;var i=c.maxp.numGlyphs,P=this.a4g=new Array(i);
for(var y=0;y<i;y++)P[y]={px:[]};var _=Date.now(),j=new Uint8Array(1048575);for(var y=0;y<1048575;y++){var e=Typr.U.codeToGlyph(c,y);
if(e!=0&&e<i){j[y]=1;if(P[e].px.length==0)a++;P[e].px.push(y)}}var d=g_.cz,I=[];for(var y=0;y<d.length;
y++)I.push([]);for(var e=1;e<i;e++){I[0].push(e);var v=P[e].px[0];if(v==null){continue}for(var n=1;n<d.length;
n++){var C=d[n].re;for(var y=0;y<C.length;y+=2)if(C[y]<=v&&v<=C[y+1]){I[n].push(e);break}}}this.Du=I;
var T=[];for(var y=0;y<d.length;y++)T.push(d[y].jF+" ("+I[y].length+")");var o=this.Wq.m();this.Wq.C8(T);
this.Wq.$(o);this.a8U=J;this.a6y=c;this.I5()};g_.prototype.a20=function(K){var E=Math.floor(this.X3/this.A7);
return Math.floor(this.X3/E)};g_.prototype.I5=function(K){if(!U.Of(this.I$)||this.Du==null)return;var E=this.Du[this.Wq.m()],x=E.length,c=this.a6y,J=Typr.U,i=this.a20(),P=i,_=P*.8,a=P*.8/c.head.unitsPerEm,j=[],e=Math.floor(this.X3/i),d=Math.ceil(x/e),I=this.alN,v=Date.now();
for(var n=0;n<d;n+=I){var C=U.t("canvas"),T=C.getContext("2d");C.width=i*e;C.height=P*I;T.strokeStyle="rgba(0,0,0,0.3)";
T.fillStyle="white";T.fillRect(0,0,e*i,P*I);for(var o=0;o<I;o++){for(var s=0;s<e;s++){var y=E[(n+o)*e+s];
if(y==null)break;var Q=J.glyphToPath(c,y),X=W.p.hp(Q.crds);if(!X.um()){T.fillStyle="#252525";T.beginPath();
var B=s*i+(i-X.b*a)*.5-X.x*a,M=o*P+_;T.translate(B,M);T.scale(a,-a);J.pathToContext(Q,T);T.scale(1/a,-1/a);
T.translate(-B,-M);T.fill()}}}T.beginPath();for(var s=0;s<e;s++){var S=s*i+i+.5;T.moveTo(S,0);T.lineTo(S,P*I)}for(var o=0;
o<I;o++){var f=o*P+P+.5;T.moveTo(0,f);T.lineTo(e*i,f)}T.stroke();j.push(C)}this.LU.U3(j,null,i*e,P*I)};
g_.cz=[{jF:"All Glyphs"},{jF:"Basic Latin, Latin 1",re:[0,127,128,143]},{jF:"Latin Extended-A",re:[256,383]},{jF:"Latin Extended-B",re:[384,591]},{jF:"Punctuations",re:[33,35,37,39,42,42,44,44,46,47,58,59,63,63,64,64,92,92,161,161,167,167,182,183,191,191,894,894,903,903,1370,1375,1417,1417,8192,8303,11776,11903]},{jF:"Greek",re:[880,1023]},{jF:"Cyrillic",re:[1024,1279]},{jF:"Hebrew",re:[1424,1535]},{jF:"Arabic",re:[1536,1791]},{jF:"Emoji",re:[9728,10095,127744,129535]}];
function hj(){ap.call(this,[13,0],!1,null,ap.oE.Fa);this.X1=0;this.am1=0;this.ll=null}hj.prototype=new ap("");
hj.prototype.gQ=function(){if(!U.Of(this.I$)||this.ib)return;var K=U.t("div","flexrow padded");this.I$.appendChild(K);
var E=U.t("div");K.appendChild(E);this.ib=[];for(var y=0;y<2;y++){var x=new eX;this.ib.push(x);x.w("click",this.a0j,this);
E.appendChild(x.e)}this.YK=new jQ(192);console.log("hsb picker");this.YK.w(u.E.A,this.Ec,this);this.ij=new jA;
this.ij.parent=this;K.appendChild(this.YK.e);this.Q3(this.ll,eu.$r)};hj.prototype.a0j=function(K){var E=K.currentTarget,x=this.ib.indexOf(E);
if(x==this.X1){this.ij.GD(x)}else{this.X1=x;this.I5()}};hj.prototype.Ec=function(K){var E=this.YK.m();
this.YK.$(E);var x=Math.round(E.o*255)<<16|Math.round(E.J*255)<<8|Math.round(E.k*255),c=new i3(u.E.L,!0);
c.data={_:u.c.Na,ry:eu.Fa,S8:this.X1,Z:x};this.S(c);this.am1=Date.now()};hj.prototype.I5=function(){if(this.ij==null)return;
var K=this.ll,E=this.X1,x=[K.U9,K.xw];for(var y=0;y<2;y++){var c=this.ib[y],J=c.e.style;c.aD(x[y]);if(y==E)J.filter="drop-shadow(0 0 1px #000000)"}var i=x[E];
if(Date.now()-this.am1>100)this.YK.$({o:(i>>>16)/255,J:(i>>>8&255)/255,k:(i&255)/255})};hj.prototype.Q3=function(K,E){this.ll=K;
if(this.ij==null)return;if(E==eu.$r||E==eu.Fa){this.ij.anS(K.U9,K.xw);this.I5()}};hj.prototype.jG=function(){this.gQ()};
hj.prototype.Uo=function(){this.gQ();this.I5()};function dp(){ap.call(this,"CSS",!1,"---panels/css",ap.oE.CSS);
this.ml=null;var K=U.t("div","padded");this.I$.appendChild(K);this.qG=U.t("textarea");U.sr(this.qG);
K.appendChild(this.qG)}dp.prototype=new ap("");dp.prototype.nt=function(K,E){if(this.pz==K)return;this.pz=K;
this.qG.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(K-10)+"px; height:"+(E-10)+"px")};
dp.prototype.jG=function(K){this.ml=K;this.I5()};dp.prototype.Q3=function(K,E){if(E==eu.r8)this.I5()};
dp.prototype.I5=function(){var K=this.ml;if(K==null||K.g.length==0)return;if(!U.Of(this.I$))return;var E=K.B[K.g[0]],x=CSS.a0I(E,K);
if(x.length!=0)this.qG.value=x.join(";\n")+";";else this.qG.value=""};dp.prototype.Uo=function(){this.I5()};
function ga(){ap.call(this,[9,6],!1,"---panels/info",ap.oE.ak5);this.I$.setAttribute("style","min-width:240px;");
this.ml=null;this.ll=null;var K=this.yn=[];for(var E=0;E<3;E++){var x=U.t("div","marged row");this.I$.appendChild(x);
var c=U.t("div","cell");c.setAttribute("style","width:10em");x.appendChild(c);var J=U.t("div","cell");
J.setAttribute("style","width:10em");x.appendChild(J);for(var y=0;y<(E==2?3:4);y++){var i=new jp("");
K.push(i);i.$(0);i.e.style.padding="0";var P=E!=1||y<2?c:J;P.appendChild(i.e);U.R0(P)}if(E<2)U.JB(this.I$)}this.aM=K[4];
this.vb=K[5];this.Kf=K[6];this.tx=K[7]}ga.prototype=new ap("");ga.prototype.il=function(K,E,x,c,J){if(!U.Of(this.I$)||K==null)return;
var i=K.D.gg(J.x,J.y),P=new iP(Math.floor(i.x),Math.floor(i.y));if(!J.tj){var _=0,a=0,j=0,e=0,d=this.yn;
if(!J.tj&&!K.a8l()&&new cS(0,0,K.b-1,K.n-1).YO(P)){var I=K.S7(),y=K.b*P.y+P.x<<2;_=I[y+0];a=I[y+1];j=I[y+2];
e=I[y+3]}d[0].$("R: "+_);d[1].$("G: "+a);d[2].$("B: "+j);d[3].$("A: "+e);var v=W.PX(_,a,j);d[8].$("H: "+Math.round(v.o4*360)+"\xB0");
d[9].$("S: "+Math.round(v.hV*100)+"%");d[10].$("B: "+Math.round(v.k*100/255)+"%")}var n=K.D.N>1?new iP(i.x,i.y):P;
this.aM.$("X: "+W.uz.Vo(n.x,K.B8,x,K.b));this.vb.$("Y: "+W.uz.Vo(n.y,K.B8,x,K.n));this.Vb()};ga.prototype.Vb=function(){var K=this.ml,E=this.ll,x=0,c=0;
if(K&&E){if(K.D.O8){x=K.D.O8.b;c=K.D.O8.n}else if(K.P){x=K.P.rect.b;c=K.P.rect.n}x=W.uz.Vo(Math.abs(x),K.B8,E,K.b);
c=W.uz.Vo(Math.abs(c),K.B8,E,K.n)}this.Kf.$(hg.get([12,41]).charAt(0)+": "+x);this.tx.$(hg.get([12,42]).charAt(0)+": "+c)};
ga.prototype.f=function(){ap.prototype.f.call(this);this.Vb()};ga.prototype.jG=function(K,E,x){this.ml=K;
this.ll=x;this.Vb()};function j0(){ap.call(this,[9,1],!1,"---panels/layers",ap.oE.Os);this.Q$=null;this.GZ=[];
this.c1=null;this.Zg=null;this.YE=U.t("div","lphead");this.Zz=U.t("div","lpbody scrollable");this.Zz.addEventListener("scroll",this.afX.bind(this),!1);
this.Gd=U.t("div","lpfoot");var K=this.a9P=U.t("span");K.setAttribute("style","display:inline-block; height:26px");
this.YE.appendChild(K);this.Cu=new aw(null,db.n7,db.eP);this.Cu.w(u.E.A,this.a1m,this);this.YE.appendChild(this.Cu.e);
this.HO=new eW([12,0],0,100,"%",0);this.HO.w(u.E.A,this.a7w,this);this.HO.parent=this;this.YE.appendChild(this.HO.e);
this.em=new iM([6,57,2],["<img src=\""+PIMG.trsp3+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/brush"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.pos+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/lock"]+"\" class=\"miniscale gsicon\" />"],!0,["Transparency",[12,76,2],[12,40],[7,0]]);
this.em.w(u.E.A,this.anQ,this);this.YE.appendChild(this.em.e);this.yB=new eW([12,26],0,100,"%",0);this.yB.w(u.E.A,this.ars,this);
this.yB.parent=this;this.YE.appendChild(this.yB.e);this.A8=[];this.dj();this.I$.appendChild(this.YE);
this.I$.appendChild(this.Zz);this.Zz.addEventListener("dragover",function(J){J.preventDefault()},!1);
this.Zz.addEventListener("dragenter",U.v$,!1);this.Zz.addEventListener("drop",this.adL.bind(this),!1);
this.I$.appendChild(this.Gd);this.I$.addEventListener("contextmenu",U.v$,!1);this.w("rclick",this.asD,this);
var E=function(J,i,y){return{Wa:this.ut[y]==1}}.bind(this);this.asP=new cQ([{name:[0,6],q:E},{name:[14,10],q:E},{name:[6,57,2],q:E,_B:!0},{name:"Long-tap as a right click",q:E,_B:!0},{name:"\u2796 Thumbnail Size"},{name:"\u2795 Thumbnail Size"},{name:"Thumbnails by Layer",q:function(){return{Wa:dI.Xm==0,q:!0}}},{name:"Thumbnails by Document",q:function(){return{Wa:dI.Xm==1,q:!0}}}]);
this.asP.w("select",this.a7j,this);this.ut=[0,1,1,0];var x=window.localStorage;if(x){var c=x.getItem("lpOpt");
if(c){c=JSON.parse(c);this.ut=c[0];dI.V4=c[1];dI.Xm=c[2]}}this.a7j()}j0.prototype=new ap("");j0.prototype.qT=function(){if(this.ab9)return;
var K=b7.fj(!0),E=b7.h6(!0);this.ab9=new cQ(K,E);var K=[{name:[14,10]},{name:[14,11],_B:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],_B:!0},{name:[6,7,0]},{name:"New Smart Obj. via Copy",q:function(x){return{q:x.B[x.g[0]].add.SoLd!=null}},_B:!0},{name:[6,8],q:j0.agT},{name:[6,34],q:function(x){var c=x.B[x.g[0]];
return{q:c.add.lmfx!=null&&!c.wC()}}},{name:[6,40],_B:!0,q:function(x){var c=x.B[x.g[0]];return{q:c.add.TySh!=null}}},{name:"",_B:!0,q:function(x){var c=x.B[x.g[0]],J=c.add.TySh,i=J?J.kd:null;
return{q:J!=null&&i.Curve==null,uw:hg.get(J&&ev.p1(i)==0?[16,3,1]:[16,3,0])}}},j0.aqI(!1),b7.atI(),{name:[6,12,0],q:function(x){var c=x==null?0:x.g.length;
return{q:c!=0&&(c!=1||x.g[0]!=0),uw:hg.get(c>1||c==1&&x.B[x.g[0]].wC()?[6,12,0]:[6,10])}}},{name:[6,12,1],_B:!0},{name:[13,0],sub:function(){var x=[];
for(var y=0;y<aj.j1.length;y++)x.push({name:[13,1,y],CP:"#"+W.E8(aj.j1[y])});return x}()}],E=[{Y:u.E.L,F:{_:u.c.v9,xc:"layerstyle"}},{Y:u.E.v,G:$.LR,F:{_:"fromlayer",WX:[null,0,0]}},{Y:u.E.v,G:$.Os,F:{_:Z.On}},{Y:u.E.L,F:{_:u.c.v9,xc:"duplinto"}},{Y:u.E.v,G:$.Os,F:{_:Z.vp}},{Y:u.E.Hg,F:{va:"newPlacedLayer"}},{Y:u.E.v,G:$.Os,F:{_:Z.LF}},{Y:u.E.Hg,F:{va:"rasterizeLayer",Ks:{classID:"rasterizeLayer",null:b$.oe("Lyr",!0)}}},{Y:u.E.v,G:$.Os,F:{_:Z.E$}},{Y:u.E.v,G:$.Os,F:{_:Z.atZ}},{Y:u.E.v,G:$.H4,F:{_:"switchPntPrgr"}},{Y:u.E.v,G:$.Os,F:{_:Z.u_}},b7.a7I(),{Y:u.E.Hg,F:{va:"mergeLayersNew",Ks:{__name:"Merge Layers",classID:"Mrg2"}}},{Y:u.E.Hg,F:{va:"flattenImage"}},{sub:function(){var x=[];
for(var y=0;y<8;y++)x.push({Y:u.E.v,G:$.Os,F:{_:Z.Aq,azl:y}});return x}()}];this.Ml=new cQ(K,E);var K=[{name:[6,45],q:function(x){var c=x.B[x.g[0]];
return{q:c.Xe(x).z==null}}},{name:[6,47]}],E=[{Y:u.E.v,G:$.Os,F:{_:Z.Dw}},{Y:u.E.v,G:$.Os,F:{_:Z.Ei}}];
this.azF=new cQ(K,E);var K=[{name:"enab/disab",q:function(x){return{uw:hg.get(x.B[x.g[0]].FA().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],q:function(x){return{q:x.IC(!1,!0)}}}],E=[{Y:u.E.v,G:$.Os,F:{_:Z.Or}},{Y:u.E.v,G:$.Os,F:{_:Z.Ni}},{Y:u.E.v,G:$.Os,F:{_:Z.Us}}];
this.ar0=new cQ(K,E);var K=[{name:"enab/disab",q:function(x){return{uw:hg.get(x.B[x.g[0]].Xe(x).z.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],E=[{Y:u.E.v,G:$.Os,F:{_:Z.NU}},{Y:u.E.v,G:$.Os,F:{_:Z.l5}}];
this.aaJ=new cQ(K,E);var K=[{name:"enab/disab",q:function(x){return{uw:hg.get(x.B[x.g[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]},{name:[6,8]}],E=[{Y:u.E.v,G:$.Os,F:{_:Z.d5}},{Y:u.E.v,G:$.Os,F:{_:Z.oN}},{Y:u.E.v,G:$.Os,F:{_:Z.nU}}];
this.a4v=new cQ(K,E);this.abA=new cQ(b7.a8E(!0),b7.t_(!0));this.a9A=new cQ(b7.fj(),b7.h6())};j0.prototype.afX=function(K){var E=this.Zz.scrollTop-600;
for(var y=0;y<this.GZ.length;y++){var x=this.GZ[y],c=x.oz;if(E<x.oz)x.asm();if(x.oz>E+this.o4+600)break}};
j0.prototype._t=function(){return this.asP};j0.prototype.a7j=function(K){var E=this.ut;if(K){var x=K.target.rk(),y=x[0];
if(y<4)E[y]=1-E[y];else if(y<6){if(y==4&&dI.V4-10>=10)dI.V4-=10;if(y==5&&dI.V4+10<=200)dI.V4+=10;if(this.c1)this.c1.Xw=!0}else{if(y==6)dI.Xm=0;
if(y==7)dI.Xm=1;if(this.c1)this.c1.Xw=!0}var c=window.localStorage;if(c)c.setItem("lpOpt",JSON.stringify([E,dI.V4,dI.Xm]))}if(E[0]==1)this.atd();
var J=[[{e:this.a9P}],[this.Cu,this.HO],[this.em,this.yB]];for(var y=0;y<3;y++)for(var i=0;i<J[y].length;
i++)J[y][i].e.style.display=E[y]==1?"inline-block":"none";this.nt(this.pz,this.o4)};j0.prototype.ahc=function(){var K=this.y$;
if(K==null)return!1;if(K.m()){var E=this.lH.m(),x=this.zB[E].m();if(E==0)return x.indexOf(!0)!=-1;if(E==1)return x!=""}return!1};
j0.aqI=function(K){var E=function(c){var J=c!=null&&c.g.length!=0&&c.B[c.g[0]].Z2;return{Wa:J,q:c!=null&&c.yd(c.g[0]),F:{Y:u.E.Hg,F:{va:J?"ungroup":"groupEvent",Ks:{classID:J?"Ungr":"GrpL",null:b$.oe("Lyr",!0)}}}}},x={name:[6,6,0],_B:!0,q:E};
if(K)x.S3=[j6.iE,j6.Se,j6.Zt];return x};j0.agT=function(K,E){if(K)for(var y=0;y<K.g.length;y++){var x=K.B[K.g[y]];
if(x.add.TySh||x.add.SoLd||x.add.SoCo||x.add.GdFl||x.add.PtFl)return{q:!0}}return{q:!1}};j0.prototype.adL=function(K){U.v$(K);
var E=K.dataTransfer.getData("Text"),x=1,c=0;if(E==""){U.MS(K,this,this.Zg.indexOf(this.c1),c+(x>.5?0:1))}else if(E!="--panel"){var E=JSON.parse(E),J=E.cl;
if(J=="l")this.Ap({_:Z.W0,source:E.Av,target:c,bO:x})}};j0.prototype.asD=function(K){var E=this.c1,x=K.data,J;
if(E.g.indexOf(x.j)==-1){var c={_:Z.ge,j:K.target.k5.index,FV:x.kS};this.Ap(c)}if(E.g.indexOf(x.j)==-1)return;
this.qT();if(x.kS==1){J=this.ar0}else if(x.kS==2){J=this.a4v}else if(x.kS==3){J=this.aaJ}else if(x.kS==4){J=this.azF}else if(x.kS==5){J=this.ab9}else{J=this.Ml}J.f();
J.update(E);J.parent=this;var i=new i3(u.E.L,!0);i.data={_:u.c.gF,M8:J,x:x.hP.x+1,y:x.hP.y+1};this.S(i)};
j0.prototype.f=function(){ap.prototype.f.call(this);this.Cu.f();this.HO.f();this.em.f();this.yB.f();
if(this.y$){this.y$.f();this.zB[0].f()}if(this.c1)this.jG(this.c1);var K="lrs/link lrs/fx lrs/adj lrs/mask lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var y=0;y<this.A8.length;y++){var E=this.A8[y];E.Q1(U.fk(K[y],null,"miniscale"));if(y==1||y==2){E.e.style.position="relative";
var x=U.t("img","gsicon");x.setAttribute("src",PIMG["tools/corner"]);x.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%;  height:100%;");
E.e.appendChild(x)}}};j0.prototype.jG=function(K,E){if(K&&!K.Xw)return;if(K==null)U.sy(this.I$,"disabled");
else U.gz(this.I$,"disabled");this.c1=K;this.Zg=E;if(this.Q$!=null){U.w6(this.Zz);this.Q$=null;this.GZ=[]}if(K==null)return;
var x=!1;for(var y=0;y<K.Un.length;y++)if(K.Un[y].U1)x=!0;this.Q$=new aj(K.root,this,K,{Hw:0,Qv:!1},{ai2:x,a3Z:this.ahc()},this.GZ,0,new cS(0,0,K.b,K.n));
if(K.g.length==0||K.B[K.g[0]]==null)U.sy(this.YE,"disabled");else{U.gz(this.YE,"disabled");if(K.g.length==1&&K.HB){var c=K.g[0];
for(var y=0;y<this.GZ.length;y++){var J=this.GZ[y];if(J.k5.index==c&&J.YE.scrollIntoView)J.YE.scrollIntoView({block:"nearest"})}}var i=K.B[K.g[0]];
if(i.wC()){this.Cu.C8([[15,10,27]].concat(db.n7),[1].concat(db.eP));var P=db.bV.indexOf(i.Vk);this.Cu.$(P+1)}else{this.Cu.C8(db.n7,db.eP);
var P=db.bV.indexOf(i.Vk);this.Cu.$(P)}this.HO.$(Math.round(100*i.opacity/255));this.em.$([i.M0(0),i.M0(1),i.M0(2),i.M0(31)]);
var _=K.ti();this.Cu.Lk(!_);this.yB.Lk(!_);this.HO.Lk(!_);this.em.Lk(!(_&&!i.M0(31)));this.yB.$(Math.round(100*(i.add.iOpa!=null?i.add.iOpa/255:1)))}this.afX(null)};
j0.prototype.nt=function(K,E){this.pz=K;this.o4=E;var x=this.YE.getBoundingClientRect().height;if(55<x&&x<56)x=60.2;
var c=this.Gd.getBoundingClientRect().height,J=E-(x+c+3);this.Zz.style.height=J+"px";this.Zz.style.width=K+"px"};
j0.prototype.a1m=function(K){this.Ap({_:Z.vq,iz:this.Cu.m()})};j0.prototype.a7w=function(K){this.Ap({_:Z.O4,iz:Math.round(255*this.HO.m()/100)})};
j0.prototype.anQ=function(K){this.Ap({_:Z.Io,iz:[this.em.m(),[0,1,2,31]]})};j0.prototype.ars=function(K){this.Ap({_:Z.XR,iz:Math.round(255*this.yB.m()/100)})};
j0.prototype.mL=function(K){if(K.target==this.lH)this.atd();var E=this.y$.m();if(E)U.gz(this.Yk,"disabled");
else U.sy(this.Yk,"disabled");this.f();this.c1.Xw=!0;this.jG(this.c1);this.c1.Xw=!1};j0.prototype.atd=function(){var K=this.Yk;
if(K==null){var E=this.a9P,x=this.y$=new jw([0,6]);x.w(u.E.A,this.mL,this);E.appendChild(x.e);K=this.Yk=U.t("span","disabled");
E.appendChild(K);this.lH=new aw(null,["Kind",[12,48]],[]);this.lH.w(u.E.A,this.mL,this);var c=this.zB=[new iM(null,["<img src=\""+PIMG.pix_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/adj"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/htype"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.shape_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.so_layer+"\" class=\"miniscale gsicon\" />"],!0,[[12,76,2],[3,0],[12,44],[12,77],[6,7,1]]),new ay(null,null,8)];
c[0].w(u.E.A,this.mL,this);c[1].w("input",this.mL,this)}U.w6(K);K.appendChild(this.lH.e);K.appendChild(this.zB[this.lH.m()].e)};
j0.prototype.aeh=function(K){this.qT();this.azj(K,this.abA)};j0.prototype.aqX=function(K){this.qT();
this.azj(K,this.a9A)};j0.prototype.azj=function(K,E){var x=K.currentTarget;if(U.Of(E.e))return;K.stopPropagation();
var c=x.getBoundingClientRect();E.f();E.update(this.c1);E.parent=this;var J=new i3(u.E.L,!0);J.data={_:u.c.gF,M8:E,x:c.left,y:c.top,ano:!0};
this.S(J)};j0.prototype.ahj=function(K){this.Ap({_:Z.axV})};j0.prototype.acU=function(K){this.Ap({_:this.c1.g.length>1?Z.YS:Z.Pi})};
j0.prototype.a2D=function(K){this.Ap({_:Z.bM})};j0.prototype.a2S=function(K){var E=this.c1;if(E.g.length==0)return;
var x=E.B[E.g[0]],c=x.kS;this.Ap({_:c<=0?x.gl?Z.oN:Z.vp:c==3?Z.l5:Z.Ni})};j0.prototype.al1=function(K){this.Ap({_:Z.Yo})};
j0.prototype.Ap=function(K){var E=new i3(u.E.v,!0);E.data=K;E.G=$.Os;this.S(E)};j0.prototype.dj=function(){var K=[[6,54,0],[11,6],[6,1],[6,21],[6,20],[6,13],[5,4]],E=[this.al1,this.aqX,this.aeh,this.ahj,this.acU,this.a2D,this.a2S],x=this.adi.bind(this);
for(var y=0;y<K.length;y++){var c=new cn("W",!1,K[y]);this.A8.push(c);U.gw(c.e,E[y].bind(this));this.Gd.appendChild(c.e);
if(y>=K.length-3){var J=c.e;J.addEventListener("drop",x,!1);J.addEventListener("dragover",function(i){i.preventDefault()},!1);
J.addEventListener("dragenter",U.v$,!1)}}};j0.prototype.adi=function(K){U.v$(K);var E=0,x=this.A8;while(x[E].e!=K.currentTarget)E++;
x[E].tg();var c=K.dataTransfer.getData("Text");if(c=="")return;var c=JSON.parse(c);if(c.cl=="l"){var J={_:[Z.YS,Z.On,Z.vp][E-4]};
if(this.c1.g.indexOf(c.Av)==-1)J.j=c.Av;this.Ap(J)}if(E!=6)return;if(c.cl=="sm"||c.cl=="s"){var i=new i3(u.E.v,!0);
i.G=$.j8;i.data={_:c.cl=="sm"?"st_clear":"st_delsingle",j:c.Av,Av:c.sd};this.S(i)}if(c.cl=="fm"||c.cl=="f"){this.Ap({_:c.cl=="fm"?Z.Ei:Z.iW,src:c.Av,sd:c.sd})}if(c.cl=="m"||c.cl=="vm"){this.Ap({_:c.cl=="m"?Z.Ni:Z.oN,j:c.Av})}};
function aj(K,E,x,c,J,i,P,_){fo.call(this);this.parent=E;this.oz=P;this.k5=K;i.push(this);this.Ul=x;
this.eh=c;var a=E.Zz,j=K.j,e=x.g.indexOf(K.index)!=-1,n=null;this.YE=U.t("div",e?"head selected":"head");
if(j.add.artb!=null){U.sy(this.YE,"artb");_=j.IZ()}var d=this.a0q=Math.floor(10+j.alr/U.V()),I="height: "+d+"px;";
if(e&&J.ai2)I+="background-color:rgba(255,50,50,0.4);";this.YE.setAttribute("style",I);this.Dy=_;var v=this.akf=this.aoU.bind(this),C=J.a3Z&&!this.abi();
if(!C){if(K.depth!=0){a.appendChild(this.YE);P+=d}if(j.L5()||j.St())if(j.Gw()){n=this.asg=U.t("div","lpineck");
a.appendChild(n);if(j.L5()){n.addEventListener("contextmenu",v,!1);var T=new j0.lV(hg.get([12,1]),"sm","layerstyle",K.depth,0,null);
P+=21;T.parent=this;n.appendChild(T.e);var o=j.add.lmfx,s=o.masterFXSwitch.v;T.g7(s);for(var y=0;y<dz.order.length;
y++){var Q=o[dz.E9[y]].v;if(Q.length==0)continue;for(var X=0;X<Q.length;X++){var T=new j0.lV(hg.get(dz.names[y]),"s","layerstyle",K.depth,1,[y,X]);
P+=21;T.g7(s&&Q[X].v.enab.v);T.parent=this;n.appendChild(T.e)}}}if(j.St()){var B=j.Xe(x).z;if(B)this.wk=U.t("div","thumb");
var T=new j0.lV(hg.get([12,55]),"fm",null,K.depth,0,-1,B?this.wk:null);P+=B?d:21;T.parent=this;n.appendChild(T.e);
this.awi=T.e;this.awi.addEventListener("contextmenu",v,!1);var o=j.add.SoLd.filterFX.v,M=o.filterFXList.v,s=o.enab.v;
T.g7(s);for(var y=M.length-1;y>=0;y--){var S=M[y].v,f=dJ.GG(S);if(c2.kK[f])f=c2.kK[f];var F=S.Nm.v;if(dJ.names[f])F=hg.get(dJ.names[f]);
if(c2.names[f])F=hg.get(c2.names[f]);var G="afw_"+f,T=new j0.lV(F,"f",G,K.depth,1,y);P+=21;T.g7(s&&S.enab.v);
T.parent=this;n.appendChild(T.e)}}}}var D=j.add.lclr;if(D==null)D=0;D=D==0?c.Hw:aj.j1[D];this.ag0=D;
if(j.wC()&&(j.add.lsct==fV.Bm||J.a3Z)){var b={Hw:D,Qv:c.Qv||j.M0(31)};for(var y=K.children.length-1;
y>=0;y--){var H=new aj(K.children[y],E,x,b,J,i,P,_);P=H.a0D}}this.a0D=P}aj.prototype=new fo;aj.j1=[16777215,16711680,16748544,16763904,4513024,22015,11141375,7829367];
aj.prototype.asm=function(){if(this.WE)return;var K=this.k5,E=K.j,x=this.Ul,c=this.eh,d=!0,b=!1;K.yi(x,this.Dy,!0);
var J=U.t("div","headL"),i=U.t("div","headR");this.YE.appendChild(J);this.YE.appendChild(i);var P=this.YE;
P.setAttribute("draggable","true");P.addEventListener("dragstart",this.wR.bind(this),!1);P.addEventListener("drop",this.mM.bind(this),!1);
P.addEventListener("dragover",this.GR.bind(this),!1);P.addEventListener("dragenter",U.v$,!1);P.addEventListener("dragleave",this.yN.bind(this),!1);
var _=[],a=[null,null,null,null],j=E.bL(),e=K;while(e.parent){e=e.parent;j=j&&e.j.bL()}if(E.Z2){for(var y=K.index-1;
y>=0;y--){var I=x.B[y];if(!I.Z2){d=I.bL();break}}}var v=E.bL()?j&&d?2:1:0;this.WE=U.t("div");var n=U.t("div",v==0?"sqr":"eye");
this.WE.appendChild(n);n.style.opacity=[.12,.33,1][v];var C=U.t("div","space");this.rB=U.t("div","label");
this.rB.setAttribute("style","max-width:calc(100% - "+(96+K.depth*20)+"px); margin-top:"+(this.a0q-19)/2+"px;");
this.rB.textContent=E.getName();this.QI=U.t("div","lock");this.acD=U.t("div","lrfx");this.q2=U.t("div","arfx");
var T=this.akf,o=this.a2i.bind(this);this.YE.addEventListener("click",o,!1);this.YE.addEventListener("contextmenu",T,!1);
var s=this.ag0,Q=[s>>16,s>>8&255,s&255];for(var y=0;y<3;y++){Q[y]=Math.round(.5*Q[y]+.5*220)}this.WE.setAttribute("style","background-color:rgba("+Q.join(",")+","+(s==0?0:1)+");");
var X=this.a99.bind(this);this.WE.addEventListener("mousedown",X,!1);this.WE.addEventListener("mouseover",X,!1);
this.q2.addEventListener("click",this.aaC.bind(this),!1);_[0]=this.WE;_[1]=C;_[10]=this.rB;if(E.wC()){var B=U.t("div","arrow"),M=U.t("div","folder");
this.AU(M);B.addEventListener("click",this.a4w.bind(this),!1);_[2]=B;_[3]=M;B.className=E.add.lsct==fV.Bm?"open":"closed"}else{this.f5=U.t("div","thumb");
_[5]=this.f5;aj.Ud(this.f5,E.lA);this.AU(this.f5);if(c2.get(E.add))U.sy(E.lA.canvas,"gsicon")}var S=E.FA();
if(S){this.V_=U.t("div","chain");this.Ms=U.t("div","thumb");aj.Ud(this.Ms,E.hw,!0);this.V_.style.opacity=S.B0?1:0;
this.V_.addEventListener("click",this.ahX.bind(this),!1)}var f=E.Au()&&E.add.vmsk;if(E.add.vmsk&&!f){this.Ku=U.t("div","chain");
this.Ki=U.t("div","thumb");aj.Ud(this.Ki,E.eo,!0);this.Ku.style.opacity=E.add.vmsk.B0?1:0;this.Ku.addEventListener("click",this.ay4.bind(this),!1)}if(E.St()&&E.Gw()&&E.Xe(x).z){aj.Ud(this.wk,E.ik,!1);
this.AU(this.wk);this.wk.addEventListener("click",o,!1);this.wk.addEventListener("contextmenu",T,!1)}if(K.index==x.g[0]){var F=E.kS,G;
if(F<=0)G=this.f5;else if(F==1)G=this.Ms;else if(F==3)G=this.wk;if(G)G.className="thumb active";if(E.gl&&this.Ki)this.Ki.className="thumb active"}C.setAttribute("style","width:"+Math.max(0,K.depth-1)*18+"px");
var D=E.add.lspf!=null&&E.add.lspf!=0||c.Qv;this.QI.style.opacity=E.M0(31)?1:.5;_[4]=E.Z2?U.t("div","clipp"):null;
_[6]=S?this.V_:null;_[7]=S?this.Ms:null;_[8]=E.add.vmsk&&!f?this.Ku:null;_[9]=E.add.vmsk&&!f?this.Ki:null;
var H=E.DP,q=x.g;if(H!=0)for(var y=0;y<q.length;y++)if(x.B[q[y]].DP==H){b=!0;break}if(b){a[0]=U.t("div",E.Yg?"link":"linkX");
a[0].addEventListener("click",this.aen.bind(this),!1)}a[1]=D?this.QI:null;a[2]=E.L5()?this.acD:null;
a[3]=E.L5()||E.St()?this.q2:null;this.q2.className=E.Gw()?"arfx open  gsicon":"arfx closed  gsicon";
var O=_;for(var y=0;y<O.length;y++)if(O[y])J.appendChild(O[y]);O=a;for(var y=0;y<O.length;y++)if(O[y])i.appendChild(O[y])};
aj.Ud=function(K,E,x){var c=E.canvas;U.Ne(c);if(x)K.setAttribute("draggable","true");K.appendChild(c);
c.setAttribute("style",c.getAttribute("style")+"; pointer-events:none")};aj.prototype.AU=function(K){U.gw(K,function(E){if(this.parent.ut[3]==0)return;
U.vs(E);U.xz(document.body,function(){clearTimeout(this.awB)}.bind(this));this.awB=setTimeout(function(){var x=new i3("rclick",!0);
x.data={j:this.k5.index,kS:this.kS(E),hP:U.bf(E,document.body)};this.S(x)}.bind(this),600)}.bind(this))};
aj.nw=function(K,E){var x=E.getBoundingClientRect();return(K.clientY-x.top)/x.height};aj.prototype.wR=function(K){K.stopPropagation();
var E=K.target==this.Ms?"m":K.target==this.Ki?"vm":"l";K.dataTransfer.setData("Text",JSON.stringify({cl:E,Av:this.k5.index}))};
aj.prototype.yN=function(K){U.v$(K);this.wi()};aj.prototype.mM=function(K){U.v$(K);this.wi();var E=K.dataTransfer.getData("Text"),x=this.parent.c1,c=aj.nw(K,this.YE),J=this.k5.index;
if(c>.8){var i=!0,P=x.root.R7(J);while(P.parent!=null){var _=P.parent,a=_.children;if(a.indexOf(P)!=0)i=!1;
P=P.parent}if(i){J=0;c=1}}if(E==""){U.MS(K,this,this.parent.Zg.indexOf(x),J+(c>.5?0:1))}else if(E!="--panel"){var E=JSON.parse(E),j=E.cl;
if(j=="l")this.Ap({_:Z.W0,source:E.Av,target:J,bO:c});else if(j=="m"||j=="vm")this.Ap({_:j=="m"?Z.aaH:Z.ZL,src:E.Av,wy:J});
else aj.aon(K,E,this)}};aj.aon=function(K,E,x,c){var J=E.cl,i=x.k5.index,P=E.Av;if(J=="s"||J=="sm")x.Ap({_:Z.pO,src:P,wy:i,sd:E.sd});
if(J=="f"||J=="fm")x.Ap({_:Z.acs,src:P,wy:i,sd:E.sd,E_:c==null?0:c})};aj.prototype.GR=function(K){U.v$(K);
var E=aj.nw(K,this.YE),x=this.k5.j.wC()&&.5<E&&E<.8;this.wi();var c="inset 0 "+(x?0:E>.5?-3:3)+"px "+(x?"5px black":"0 rgba(0,0,0,0.5)");
this.YE.style.boxShadow=c};aj.prototype.wi=function(K){this.YE.style.boxShadow=""};aj.aaB=-1;aj.IU=!1;
aj.ay5=function(K){aj.IU=!1;document.body.removeEventListener("mouseup",aj.ay5)};aj.prototype.a99=function(K){if(K.button!=0)return;
if(K.type=="mousedown"){aj.IU=!0;document.body.addEventListener("mouseup",aj.ay5,!1)}if(K.type=="mouseover"&&(!aj.IU||aj.aaB==this.k5.index))return;
U.v$(K);this.Ap({_:Z.gn,j:this.k5.index});aj.aaB=this.k5.index};aj.prototype.a4w=function(K){U.v$(K);
this.Ap({_:Z.alq,j:this.k5.index})};aj.prototype.ahX=function(K){this.Ap({_:Z.JR,j:this.k5.index})};
aj.prototype.ay4=function(K){this.Ap({_:Z.uo,j:this.k5.index})};aj.UT=0;aj.prototype.Ob=function(K){this.Ap({_:Z.tZ,j:this.k5.index,name:K})};
aj.prototype.aaC=function(K){this.Ap({_:Z.a7U,j:this.k5.index})};aj.prototype.aen=function(K){this.Ap({_:Z.JS,j:this.k5.index})};
aj.prototype.aoU=function(K){if(K.button!=2&&!U.a9X(K))return;var E=this.kS(K);if(E!=3&&K.currentTarget==this.awi)E=4;
if(K.target==this.acD||K.currentTarget==this.asg)E=5;var x=new i3("rclick",!0);x.data={j:this.k5.index,kS:E,hP:U.bf(K,document.body)};
this.S(x)};aj.prototype.kS=function(K){var E=K.target,x=E;return x==this.Ki?2:x==this.Ms?1:x==this.f5?0:x==this.wk?3:-1};
aj.prototype.a2i=function(K){var E=K.target,v;if(E==this.WE.firstChild||E==this.q2||E==this.V_||E==this.Ku||E.tagName&&E.tagName.toLowerCase()=="input")return;
var x=this.kS(K),c=this.parent.c1,J=this.k5.index,i=c.B[J];if(E==this.QI){this.Ap({_:Z.Io,j:J,iz:[[!1,!1,!1,!1,!1],[0,1,2,3,31]]});
return}var P=aj.UT,_=Date.now()-P<300;aj.UT=Date.now();if(E==this.rB){if(_){this.YE.setAttribute("draggable","false");
var a=new ap.u1(this.rB,this.Ob.bind(this))}else this.Ap({_:Z.ge,j:J,FV:x,Vz:!0});return}if(K.button==0&&_){if(E==this.rB)return;
var j=new i3(u.E.v,!0),e=new i3(u.E.L,!0),d=new i3(u.E.Hg,!0);if(x==0&&i.add.SoCo){var I=W.M.Et(i.add.SoCo.Clr.v);
e.data={_:u.c.v9,xc:"colorpicker",Hw:I.o<<16|I.J<<8|I.k,ze:function(T){var o=W.M.TD({k:T&255,J:T>>>8&255,o:T>>16&255});
o={classID:"null",Clr:{t:"Objc",v:o}};var s=new i3(u.E.v,!0);s.G=$.Os;s.data={_:Z.IQ,sx:[J],DD:!0,Z:{ez:1,QT:o}};
this.S(s)}.bind(this),iI:!0}}else if(x==0&&(c2.get(i.add)||i.add.SoCo||i.add.GdFl||i.add.PtFl))e.data={_:u.c.T7,xc:ap.oE.a_};
else if(x!=0&&x!=-1)e.data={_:u.c.T7,xc:ap.oE.a_};else if(x==0&&i.add.SoLd)d.data={va:"placedLayerEditContents",Ks:{classID:"placedLayerEditContents"}};
else if(x==0&&i.add.TySh){j.G=$.H4;j.data={_:"editCurr",cA:J}}else e.data={_:u.c.v9,xc:"layerstyle",j:J};
this.S(d.data?d:e.data?e:j);return}if(K.button!=0)return;if(x==1||x==3){var n=x==3?i.Xe(c).z:i.FA();
v=n.U1?c.D.NW.join("")=="111"?1:2:0}var C={_:Z.ge,j:J,FV:x,ama:v,Vz:!0};this.Ap(C)};aj.prototype.Ap=function(K){var E=new i3(u.E.v,!0);
E.data=K;E.G=$.Os;this.S(E)};aj.prototype.abi=function(){var K=this.k5.j,E=K.add,x=this.parent.lH.m(),c=this.parent.zB[x].m();
if(x==0){if(c[0]&&E.SoLd==null&&E.TySh==null&&K.Lq())return!0;if(c[1]&&c2.get(E)!=null)return!0;if(c[2]&&E.TySh!=null)return!0;
if(c[3]&&E.vstk!=null)return!0;if(c[4]&&E.SoLd!=null)return!0;return!1}if(x==1)return K.getName().toLowerCase().indexOf(c.toLowerCase())!=-1};
j0.lV=function(K,E,x,c,J,i,P){fo.call(this);this.apy=E;this.UJ=x;this.index=i;this.e=U.t("div","styleitem");
this.YE=U.t("div","head");this.ad3=null;if(E=="f"){var _=this.ad3=U.t("div","headR");_.textContent="\u2699";
this.YE.appendChild(_)}this.WE=U.t("div","eye gsicon");this.rB=U.t("div","label");this.e.appendChild(this.YE);
this.YE.appendChild(this.WE);if(P){this.Ms=P;this.YE.appendChild(P);this.YE.setAttribute("style","height: "+(26/U.V()+10)+"px")}this.rB.innerHTML=K;
this.e.setAttribute("style","margin-left: "+(24+c*16+J*22)+"px");this.YE.appendChild(this.rB);this.WE.addEventListener("click",this.as_.bind(this),!1);
var a=this.e;a.setAttribute("draggable","true");a.addEventListener("dragstart",this.wR.bind(this),!1);
if(!0){a.addEventListener("drop",this.mM.bind(this),!1);a.addEventListener("dragover",this.GR.bind(this),!1);
a.addEventListener("dragenter",U.v$,!1);a.addEventListener("dragleave",this.yN.bind(this),!1)}this.e.addEventListener("click",this.N2.bind(this),!1)};
j0.lV.prototype=new fo;j0.lV.prototype.wR=function(K){K.stopPropagation();K.dataTransfer.setData("Text",JSON.stringify({cl:this.apy,Av:this.parent.k5.index,sd:this.index}))};
j0.lV.prototype.yN=function(K){U.v$(K);this.wi()};j0.lV.prototype.mM=function(K){U.v$(K);this.wi();var E=K.dataTransfer.getData("Text");
if(E=="")return;var E=JSON.parse(E);aj.aon(K,E,this.parent,this.index+(aj.nw(K,this.YE)>.5?0:1))};j0.lV.prototype.GR=function(K){U.v$(K);
var E=aj.nw(K,this.YE)>.5;this.wi();var x="border-"+(E?"bottom":"top");this.YE.style[x]="0.2em solid rgba(0,0,0,0.5)"};
j0.lV.prototype.wi=function(K){this.YE.style.border="none"};j0.lV.prototype.g7=function(K){this.WE.style.opacity=K?1:.2};
j0.lV.prototype.N2=function(K){var E=aj.UT,x=Date.now()-E<300;aj.UT=Date.now();if(K.target==this.WE)return;
var c=this.parent.k5.index;if(x&&this.UJ!=null){var c=this.parent.k5.index,J=new i3(u.E.L,!0);if(this.UJ.indexOf("afw_")==0){var i=this.UJ.slice(4),P=az[i]||dJ.a[i],_=K.target==this.ad3;
if(!_&&!P)return;J.data=$.vF.a24(_?"blendOptions":i,{j:c,index:this.index})}else J.data={_:u.c.v9,xc:this.UJ,j:c,index:this.index};
this.S(J)}else{if(K.target.className!="thumb")this.parent.Ap({_:Z.ge,j:c,FV:0})}};j0.lV.prototype.as_=function(K){var E={fm:Z.I8,f:Z.x2,sm:Z.GA,s:Z.Xk}[this.apy];
this.parent.Ap({_:E,j:this.parent.k5.index,index:this.index})};function fM(){ap.call(this,"Guide Guy",!1,"---panels/guideguy",ap.oE.alB);
this.ml=null;this.ye=new aw(null,W.uz.ko)}fM.prototype=new ap("");fM.prototype.gQ=function(){this.yn=[];
var K=U.t("div","form padded");this.I$.appendChild(K);K.setAttribute("style","width:200px");this.I$.appendChild(K);
var E=U.t("canvas"),x=E.getContext("2d");E.width=E.height=160;var c=[32,0,16,160,0,32,160,16,0,112,160,16],J="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),i=[0,0,0,0,0,0,0,0,0,0];
K.appendChild(this.ye.e);for(var y=0;y<10;y++){x.clearRect(0,0,160,160);x.setTransform(1,0,0,1,80,80);
x.rotate((y&3)*Math.PI/2);x.translate(-80,-80);x.fillStyle="rgba(0,0,0,0.3)";if(y<4){for(var P=0;P<12;
P+=4){x.fillStyle=P==0?"#000000":"rgba(0,0,0,0.3)";x.fillRect(c[P],c[P+1],c[P+2],c[P+3])}}else if(y<6){var _=8*6;
x.fillRect(0,0,_,160);x.fillRect(8*7,0,_,160);x.fillStyle="#000000";x.fillRect(8*14,0,_,160)}else if(y<8){x.fillRect(0,0,16,160);
x.fillRect(160-16,0,16,160);x.fillRect(32,0,160-64,160);x.fillStyle="#000000";x.fillRect(32,80-8,160-64,8*1)}else{x.fillRect(0,0,8*7,160);
x.fillRect(8*13,0,160,160);x.fillStyle="#000000";x.fillRect(8*7,80-8,8*6,8*1)}var a="<img src=\""+E.toDataURL()+"\" class=\"autoscale gsicon\" /> ",j=new eW(a,0,200,null,y==4||y==5?0:2,null,null,4,J[y]);
j.parent=this;j.w(u.E.A,this.amA,this);j.$(i[y]);j.f();this.yn.push(j);K.appendChild(j.e)}var e=[[11,14],[11,15,0]];
this.Ow=[];for(var y=0;y<e.length;y++){var d=new cn(e[y],!0,null,!0);this.Ow.push(d);d.w("click",this.Q7,this);
K.appendChild(d.e)}for(var y=0;y<6;y++){x.setTransform(1,0,0,1,80,80);x.rotate(Math.floor(y/3)*Math.PI/2);
x.translate(-80,-80);x.clearRect(0,0,160,160);x.fillStyle="rgba(0,0,0,0.3)";x.fillRect(0,0,160,160);
x.clearRect(16,16,128,128);x.fillStyle="#000000";var I=y%3;x.fillRect([0,9,18][I]*8,0,16,160);var a="<img src=\""+E.toDataURL()+"\" class=\"autoscale gsicon\" /> ",d=new cn(a,!1,null,!1);
this.Ow.push(d);d.w("click",this.Q7,this);K.appendChild(d.e)}};fM.prototype.f=function(){ap.prototype.f.call(this);
this.ye.f();if(this.yn==null)return;for(var y=0;y<this.Ow.length;y++)this.Ow[y].f()};fM.prototype.amA=function(K){var E=this.yn,x=E.indexOf(K.target),c=Math.floor(x/2),J=x&1,i=[];
for(var y=0;y<4;y++)i.push(E[2*y+J].m());var P=-1;if(c==2&&i[2]!=0&&i[3]!=0&&i[4]!=0)P=4;if(c==3&&i[3]!=0&&i[2]!=0&&i[4]!=0)P=4;
if(c==4&&i[4]!=0&&i[2]!=0&&i[3]!=0)P=3;if(P!=-1)E[2*P+J].$(0)};fM.prototype.Q7=function(K){var E=this.ml,x=this.Ow.indexOf(K.target),c=[[],[]];
if(E==null)return;var J=E.P?E.P.rect:new cS(0,0,E.b,E.n),i=J.b,P=J.n;if(x==0){var _=[[],[]],a=this.ye.m();
for(var y=0;y<this.yn.length;y++){var j=this.yn[y].m();j=W.uz.KX(j,E.B8,E.b,a);_[y&1].push(j)}var e=[fM.arD(_[0],J.x,J.x+i),fM.arD(_[1],J.y,J.y+P)];
c=fM.Yy(e);$.DU.Vr(c,E.pY())}else if(x==1){}else{x-=2;var d=Math.floor(x/3),e=[[],[]];e[d].push([J.x,J.x+i/2,J.x+i,J.y,J.y+P/2,J.y+P][x]);
c=fM.Yy(e);$.DU.Vr(c,E.pY())}this.aiI(c)};fM.Yy=function(K){var E=[],x=[];for(var c=0;c<2;c++)for(var y=0;
y<K[c].length;y++){E.push([c,K[c][y]]);x.push(-1)}return[E,x]};fM.prototype.a0g=function(K){var E=this.adf.indexOf(K.target)};
fM.prototype.aiI=function(K){var E=new i3(u.E.v,!0);E.G=$.x3;E.data={_:"gids",NM:K};this.S(E)};fM.arD=function(K,E,x){var c=[],J=K[2],i=K[3],P=K[4],_=0;
if(J==0)_++;if(i==0)_++;if(P==0)_++;if(_>1&&J==0&&i==0){if(K[0]!=0)c.push(E+K[0]);if(K[1]!=0)c.push(x-K[1]);
return c}var a=x-E-K[0]-K[1];if(J==0){if(P==0){J=Math.floor(a/i);P=(a-J*i)/(J-1)}else{J=1;while(i*J+P*(J-1)+i+P<=a)J++}}else if(J!=0&&i!=0){if(J*i>a)J=Math.floor(a/i);
P=(a-J*i)/(J-1)}c.push(E+K[0],x-K[1]);var i=(a-P*(J-1))/J;for(var y=1;y<J;y++){if(P==0)c.push(E+K[0]+y*i);
else c.push(E+K[0]+y*i+(y-1)*P,E+K[0]+y*i+y*P)}return c};fM.prototype.jG=function(K,E,x){this.ml=K};
fM.prototype.Uo=function(){if(U.Of(this.I$)&&this.yn==null)this.gQ();this.f()};fM.prototype.Q3=function(K){this.ye.$(K.Vp.OZ)};
function dX(){ap.call(this,[9,2],!1,"---panels/properties",ap.oE.a_);this.a6s=null;this.Ul=null;this.ll=null;
this.amk=-1;this.ic=null}dX.prototype=new ap("");dX.prototype.nt=function(K,E){this.pz=K;this.o4=E;K=K-16;
E=E-12;var x=this.ic;if(x){x.style.width=K+"px";x.style.height=E+"px";for(var y=0;y<3;y++)this.G6[y].nt(K-12,E)}};
dX.prototype.gQ=function(){this.ic=U.t("div","padded scrollable");this.I$.appendChild(this.ic);var K=U.t("span");
this.ic.appendChild(K);this.U8=[new cn([0,3]),new cn([12,73]),new cn([12,91,0])];for(var y=0;y<this.U8.length;
y++){var E=this.U8[y];E.w("click",this.ajw,this);K.appendChild(E.e);if(y==2)E.e.style.marginRight="0"}this.ic.appendChild(U.t("hr"));
this.fg=new dX.cN;this.fg.parent=this;this.FI=new dX.Zr;this.FI.parent=this;this.HJ=new dX.L6;this.HJ.parent=this;
this.G6=[this.fg,this.FI,this.HJ];this.ic.appendChild(this.fg.e);this.nt(this.pz,this.o4)};dX.prototype.ajw=function(K){var y=this.U8.indexOf(K.currentTarget);
this.sa(y);this.alM(y==1?this.FI.uj:-1)};dX.prototype.sa=function(K){for(var y=0;y<3;y++){this.U8[y].tg();
var E=this.G6[y].e;if(E.parentNode==this.ic&&y!=K)this.ic.removeChild(E);if(E.parentNode!=this.ic&&y==K)this.ic.appendChild(E)}this.U8[K].Kv()};
dX.prototype.alM=function(K){var E=this.Ul.g[0],x=this.Ul.B[E],c=K+1;if(K==1&&x.gl)return;var J=new i3(u.E.v,!0);
J.G=$.Os;if(K!=1&&x.gl){J.data={_:Z.ge,j:E,FV:2};this.S(J)}J.data={_:Z.ge,j:E,FV:c};this.S(J)};dX.prototype.f=function(){ap.prototype.f.call(this);
if(this.ic==null)return;this.jG(this.Ul);for(var y=0;y<3;y++){this.U8[y].f();this.G6[y].f()}};dX.prototype.Uo=function(){if(!U.Of(this.I$))return;
if(this.ic==null){this.gQ();this.Q3(this.ll,eu.$r);this.jG(this.a6s);this.f()}};dX.prototype.jG=function(K){this.a6s=K;
if(this.ic==null)return;this.fg.jG(K);this.FI.jG(K);this.HJ.jG(K);if(K==null||K.g.length==0||K.B[K.g[0]]==null){U.sy(this.I$,"disabled");
this.Ul=null;return}else U.gz(this.I$,"disabled");var E=K.g[0],x=K.B[E],c=K.Ox(),J=c[0],i=c[1];if(i.length!=0){var P=J[i[0]],_=P.add.vogk,a=!1;
if(_)for(var y=0;y<_.length;y++){var j=_[y].v;if(!W.X.MG(j))continue;a=!0;E=P.JD}}E+=","+a;if(K!=this.Ul||this.amk!=E){this.Ul=K;
this.amk=E;if(a)this.sa(2);else if(x.kS<1&&!x.gl||c2.get(x.add))this.sa(0);else this.sa(1)}this.U8[1].Lk(this.FI.uj!=-1);
this.U8[2].Lk(a)};dX.prototype.Q3=function(K,E){this.ll=K;if(this.fg)this.fg.Q3(K,E);if(this.HJ)this.HJ.Q3(K,E)};
dX.cN=function(){fo.call(this);this.e=U.t("div","form");this.amw=new jp("Hello");this.lS=new cn([1,12,2],null,null,!0);
this.lS.e.style.adr="right";this.lS.w("click",this.e5,this);this.e.appendChild(this.amw.e);this.e.appendChild(this.lS.e);
this.Ym=null;this.Kc=null;this.Ul=null;this.ll=null;this.ata=-1;this.azi=null;this.ZA=null;this.rz=new ii(0,!0,!0);
this.rz.parent=this;this.rz.w(u.E.A,this.a3L,this);this.e.appendChild(this.rz.e);this.rw=new eX(!0);
this.rw.parent=this;this.rw.w(u.E.A,this.aiK,this);this.N$=U.t("div","marged hiline");this.N$.appendChild(this.rw.e);
this.UP=new fE("GrFl",!0);this.UP.parent=this;this.UP.w(u.E.A,this.aiM,this);this.Ee=U.t("div","marged hiline");
var K="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");for(var y=0;y<K.length;y++){var E=this.UP.x0[K[y]].e;
this.Ee.appendChild(E)}this.Uw=new fE("patternFill",!0);this.Uw.parent=this;this.Uw.w(u.E.A,this.awq,this);
this.Pb=U.t("div","marged hiline");var K=["Ptrn","Angl","Scl","Algn","phase"];for(var y=0;y<K.length;
y++){var E=this.Uw.x0[K[y]].e;this.Pb.appendChild(E)}this.xp={};for(var x in c2.names){if(az[x]==null)continue;
this.xp[x]=new az[x];this.xp[x].w(u.E.A,this.a7h,this);this.xp[x].parent=this}var c=this.auc=U.t("div","marged hiline");
this.Iu=new ii(0,!0);c.appendChild(this.Iu.e);this.Iu.w(u.E.A,this.Tx,this);this.aiz=null;this.jd=new eB;
this.jd.parent=this;this.jd.w(u.E.A,this.Tx,this);c.appendChild(this.jd.e)};dX.cN.prototype=new fo;dX.cN.prototype.a3L=function(K){var E=this.rz.m(),x=this.ZA,c=new cS(E[0],E[1],E[2],E[3]);
if(c.ac(x))return;this.ZA=c;var J=new i3(u.E.v,!0);if(x.b==c.b&&x.n==c.n){J.G=$.x3;J.data={_:"trsl",Hr:c.x-x.x,Og:c.y-x.y}}else{J.G=$.Cy;
J.data={_:"scl",vZ:[2,4],Z:new iP(c.b/x.b,c.n/x.n),If:0}}this.S(J)};dX.cN.prototype.nt=function(K,E){var x=this.xp;
for(var c in x)x[c].nt(K,E)};dX.cN.prototype.e5=function(K){var E=this.Ul,x=E.B[E.g[0]],c=c2.get(x.add);
this.Kc.$(dJ.JQ(c));this.a7h()};dX.cN.prototype.f=function(){for(var K in this.xp)this.xp[K].f();this.UP.f();
this.Uw.f();this.jd.f();this.Iu.f();this.lS.f();this.rz.f()};dX.cN.prototype.Tx=function(K){var E=new i3(u.E.v,!0),x=this.Iu.m(),c=this.aiz;
if(K.target==this.Iu&&x[2]==c[2]&&x[3]==c[3]){E.G=$.x3;E.data={_:"trsl",Hr:x[0]-c[0],Og:x[1]-c[1]}}else{var J=Z.Ws(new cS(x[0],x[1],x[2],x[3])),i=this.jd.aeQ();
i.artboardRect={t:"Objc",v:J};E.G=$.Os;E.data={_:Z.Er,fd:i}}this.S(E)};dX.cN.prototype.aiK=function(K){var E=this.Ul,x=E.g[0];
if(E.B[x].add.SoCo==null)return;var c=JSON.parse(JSON.stringify(E.B[x].add.SoCo));c.Clr.v=this.rw.m();
this.Gu({ez:1,QT:c})};dX.cN.prototype.aiM=function(K){var E=this.Ul,x=E.g[0];if(E.B[x].add.GdFl==null)return;
this.Gu({ez:2,QT:this.UP.m()})};dX.cN.prototype.awq=function(K){this.Gu({ez:3,QT:this.Uw.m()})};dX.cN.prototype.Gu=function(K){this.azK($.Os,{_:Z.IQ,sx:[this.Ul.g[0]],DD:!0,Z:K})};
dX.cN.prototype.a7h=function(K){this.azK($.mo,{_:"edit_layer",Z:this.Kc.m()})};dX.cN.prototype.azK=function(K,E){var x=new i3(u.E.v,!0);
x.G=K;x.data=E;this.S(x)};dX.cN.prototype.jG=function(K,E){var x=hg.get([0,3]),c=!1,J=!1,i=null;this.Ul=K;
if(K&&K.B.length>0&&K.g.length!=0&&K.B[K.g[0]]){var P=K.B[K.g[0]],_=c2.get(P.add);if(_!=null&&this.xp[_]!=null){i=this.xp[_].e;
this.Kc=this.xp[_];this.xp[_].$(JSON.parse(JSON.stringify(P.add[_])));if(K.g[0]!=this.ata){var a=K.S7(K.g[0]-1);
this.azi=W.ZT(a)}this.xp[_].g5(this.azi);x=hg.get(c2.names[_]);c=!0}if(_==null&&P.add.artb==null){var j=this.ZA=W.p.OC($.Xq.ZS(K));
J=!j.um();this.rz.$([j.x,j.y,j.b,j.n],[K.B8,K.b,this.ll.Vp.OZ])}if(P.add.SoCo){i=this.N$;this.rw.$(P.add.SoCo.Clr.v);
x=hg.get([6,48,0,0])}if(P.add.GdFl){i=this.Ee;this.UP.update(K,P.add.GdFl);x=hg.get([6,48,0,1])}if(P.add.PtFl){i=this.Pb;
this.Uw.update(K,P.add.PtFl);x=hg.get([6,48,0,2])}if(P.add.artb){var e=P.add.artb,d=P.IZ();i=this.auc;
this.jd.ayr(e);var I=this.aiz=[d.x,d.y,d.b,d.n];this.Iu.$(I,[K.B8,K.b,this.ll.Vp.OZ]);x=hg.get([1,16,0])}this.ata=K.g[0]}if(i!=this.Ym){if(this.Ym)this.e.removeChild(this.Ym);
if(i!=null)this.e.appendChild(i);this.Ym=i}this.amw.$(x);this.lS.e.style.display=c?"":"none";this.rz.e.style.display=J?"":"none"};
dX.cN.prototype.Q3=function(K,E){this.ll=K;this.UP.Q3(K,E);this.Uw.Q3(K,E);if(E==eu.f6)this.jG(this.Ul,K);
for(var x in this.xp)this.xp[x].Q3(K,E)};dX.Zr=function(){fo.call(this);this.e=U.t("div","form");this.Ul=null;
this.uj=0;var K=U.t("span","fitem");this.e.appendChild(K);this.U8=[new cn([6,2]),new cn([6,3]),new cn([6,50])];
for(var y=0;y<this.U8.length;y++){var E=this.U8[y];E.w("click",this.a7t,this);K.appendChild(E.e)}this.er=new bJ([12,74],0,255);
this.er.w(u.E.A,this.m1,this);this.e.appendChild(this.er.e);this.tp=new bJ([7,6],0,500,"px",2,!0);this.tp.w(u.E.A,this.m1,this);
this.e.appendChild(this.tp.e);this.e0=new cn([4,11],null,null,!0);this.e0.w("click",this.a6e,this)};
dX.Zr.prototype=new fo;dX.Zr.prototype.a6e=function(){var K=new i3(u.E.v,!0);K.G=$.mo;K.data={_:"start",Lj:"nvrt"};
this.S(K)};dX.Zr.prototype.m1=function(K){var E=this.er.m(),x=this.tp.m(),c=new i3(u.E.v,!0);c.G=$.Os;
c.data={_:Z.MV,Ph:this.Ul.g[0],Qy:{p0:this.uj,er:E,tp:x}};this.S(c)};dX.Zr.prototype.f=function(){for(var y=0;
y<this.U8.length;y++)this.U8[y].f();this.er.f();this.tp.f();this.e0.f()};dX.Zr.prototype.jG=function(K){this.Ul=K;
this.SI()};dX.Zr.prototype.a7t=function(K){this.SI(this.U8.indexOf(K.currentTarget));this.parent.alM(this.uj)};
dX.Zr.prototype.SI=function(K){var E=this.Ul,x=this.U8;for(var y=0;y<3;y++){var c=x[y];c.tg();c.s1()}if(E==null||E.B.length==0||E.g.length==0||E.B[E.g[0]]==null)return;
var J=-1,i=E.B[E.g[0]];if(i.St()&&i.Xe(E).z!=null){x[2].gt();J=2}if(i.add.vmsk){x[1].gt();J=1}if(i.FA()){x[0].gt();
J=0}if(K!=null)J=K;else if(i.gl)J=1;else if(i.kS==3)J=2;else if(i.kS==1)J=0;this.uj=J;if(J==-1){this.er.s1();
this.tp.s1();return}var P=i.Sz(J);this.er.gt();this.tp.gt();this.er.$(P.er);this.tp.$(P.tp);x[J].Kv();
var _=this.e0.e;if(J==0)this.e.appendChild(_);else if(_.parentNode==this.e)this.e.removeChild(_)};dX.L6=function(){fo.call(this);
this.e=U.t("div","form");this.ml=null;this.ll=null;this.iY=-1;this.rz=new ii(0,!1);this.Eh=new bJ([12,15],-180,180,"\xB0",2);
this._8=new ii(1,!0);this.mN=new bJ([12,94,0],0,100,null,2);this.Wj=new bJ([12,78],3,30);this.ke=new cn(["\u279C  ",[12,76,0]],null,null,!0);
this.rz.w(u.E.A,this.Nv,this);this.Eh.w(u.E.A,this.Nv,this);this._8.w(u.E.A,this.Nv,this);this.mN.w(u.E.A,this.Nv,this);
this.Wj.w(u.E.A,this.Nv,this);this.ke.w("click",this.Nv,this)};dX.L6.prototype=new fo;dX.L6.prototype.f=function(){this.rz.f();
this.Eh.f();this._8.f();this.mN.f();this.Wj.f()};dX.L6.prototype.Nv=function(K){var E=this.ml,x=W.X.AS(E),c=K.target.m(),J=[this.rz,this.Eh,this._8,this.mN,this.Wj,this.ke].indexOf(K.target);
if(J==0){var i=[];i[0]=c[0];i[1]=c[1];i[2]=i[0]+c[2];i[3]=i[1]+c[3];c=i}if(J==1)c=c*Math.PI/180;var P={0:1,1:2,2:3,3:3,4:4}[J];
x[P]=c;var _=new i3(u.E.v,!0);_.G=$.Os;_.data={_:Z.yC,Z:x,a6B:J==5};this.S(_)};dX.L6.prototype.jG=function(K){var E=this.e;
this.ml=K;if(K==null)return;var x=this.ll,c=[K.B8,K.b,x.Vp.OZ],J=W.X.AS(K),i=J[0],P=J[1];if(P==null)return;
var _=i!=this.iY;this.iY=i;if(_)U.w6(E);if(_)E.appendChild(this.rz.e);if(_)E.appendChild(this.Eh.e);
this.rz.$([P[0],P[1],P[2]-P[0],P[3]-P[1]],c);this.Eh.$(J[2]*180/Math.PI);if(i==2){if(_)E.appendChild(this._8.e);
var a=J[3];this._8.$(a,c)}if(i==7||i==8){if(_)E.appendChild(this.mN.e);this.mN.$(J[3])}if(i==8){if(_)E.appendChild(this.Wj.e);
this.Wj.$(J[4])}E.appendChild(this.ke.e)};dX.L6.prototype.Q3=function(K,E){this.ll=K;this.jG(this.ml)};
function aV(K){ap.call(this,K.name,!0);this.c1=K;this.W5=null;this.Oq=new cG(this.I$);this.Oq.parent=this}aV.prototype=new ap;
aV.IG=function(){var K=document.createElement("canvas"),E=document.createElement("canvas"),x=16,c=W.Q(16*16*4);
W.Ii(c,x,x,8);var J=W.scale.Tq(c,x,x);return{Eq:K,aW:E,E5:K.getContext("2d"),ja:E.getContext("2d"),y8:J}}();
aV.prototype.a85=function(){if(this.c1.zv())return window.confirm(hg.get([22,6,3])+" "+this.c1.name+". "+hg.get([22,6,4]));
return!0};aV.prototype.Q3=function(K,E){this.W5=K};aV.prototype.jG=function(K){this.Uo();this.I5()};
aV.prototype.nt=function(K,E){if(K<=0||E<=0)return;this.pz=K;this.o4=E;var x=this.c1,c=aV.IG,J=U.V();
x.D.E5.b=Math.floor(K*J);x.D.E5.n=Math.floor(E*J);U.CL(c.Eq,K,E);U.CL(c.aW,K,E);U.CL(f4.G3(),K,E);if(x.D.N==0)x.D.N=$.gM.aih(x.b,x.n,K*J,E*J);
this.I5()};aV.prototype.Uo=function(){var K=this.I$.firstChild,E=aV.IG,x=f4.Eg&&this.c1.add.fvec==null;
if(!x&&K==f4.G3()||x&&K==E.Eq)this.I$.removeChild(K);var c=x?f4.G3():E.Eq;if(!U.Of(c))this.I$.appendChild(c)};
aV.prototype.I5=function(){if(this.W5==null)return;var K=this.c1,E=f4.Eg&&this.c1.add.fvec==null;if(E)this.abQ();
else this.m5()};aV.prototype.abQ=function(){if(f4.Eg&&aV.$h==null){var K=aV.$h=[],E=[0,2,8,32,128];for(var y=0;
y<5;y++)K[y]=[new aV.b4(!1,E[y],!1),new aV.b4(!0,E[y],!1)];K.push([new aV.b4(!1,0,!0),new aV.b4(!0,0,!0)])}var x=this.c1,c=aV.IG,d,n=0,B,M;
if(x.zt==null)return;var J=x.D,i=J.E5.b,P=J.E5.n,_=f4.gI;c.E5.clearRect(0,0,i,P);var a=this.a9C(x);if(J.MP==null||J.MP.b!=i||J.MP.n!=P)J.MP=new f4.oA(i,P);
if(a){var j=new Uint8Array(c.E5.getImageData(0,0,i,P).data.buffer);J.MP.set(j)}else{f4.rA(J.MP);f4.QU(1)}var e=J.An(0,0);
if(aV.awk==null)aV.awk=new Float32Array(4*1024);var I=[0,0,0,0],v=aV.awk;if(x.add.artd){v.fill(0);I=aV.HT(x);
var C=x.b,T=x.n,X=0;for(var y=0;y<x.B.length;y++){var o=x.B[y],s=o.add.artb;if(s==null||!o.bL())continue;
var Q=o.IZ();v[n]=Q.x/C;v[n+1]=Q.y/T;v[n+2]=Q.b/C;v[n+3]=Q.n/T;n+=4;if(n==v.length)break}if(n>2*4)X++;
if(n>8*4)X++;if(n>32*4)X++;d=aV.$h[X+1];v=new Float32Array(v.buffer,0,[2,8,32,128][X]*4)}else d=aV.$h[x.W3?5:0];
var S=x.VE();if(S==null)d=d[0];else{d=d[1];M=S[x.add.fcmy==1?6:4];B=S[2]}f4.Km(i,P);f4.QU(0);f4.Km(i,P);
d.X_();var f=new iQ;f.scale(i,P);f.concat(J.uL(!0));f.scale(1/x.b,1/x.n);var F=[f.Cc,f.k,0,f.o0,f.Ga,0,f.qW,f.Ju,1];
d.tT(J.MP.Iz,x.zt.Iz,new Float32Array(F),new Float32Array([i/8,P/8,e.x/i,e.y/P]),x.b,x.n,1/x.D.N,i,P,new Float32Array(I),v,new Float32Array(W.Kh.vS(W.Kh.sG(J.NW))),M,B);
_.drawArrays(_.TRIANGLES,0,6)};aV.HT=function(K){return[0,0,0,0]};aV.ags=function(K){var E=W.M.Et(K.v),x=[E.o/255,E.J/255,E.k/255,1];
for(var y=0;y<4;y++)x[y]=Math.min(1,x[y]);return x};aV.tQ=function(K,E){var x=K[2]*255;if(f4.Eg)x=E?0:Math.max(2,x);
return"rgba("+K[0]*255+","+K[1]*255+","+x+","+K[3]+")"};aV.Zn=function(K){var E=K.length;if(f4.Eg)for(var y=0;
y<E;y+=4){if(K[y+2]==0)K[y+2]=3}};aV.prototype.m5=function(){var K=this.c1,E=aV.IG;if(K.buffer==null)return;
var x=K.D,c=x.E5,J=c.b,i=c.n,P=new cS(0,0,K.b,K.n);E.ja.clearRect(0,0,J,i);E.E5.clearRect(0,0,J,i);var _=x.uL(!0),a=_.clone();
a.Pa();if(K.add.artd==null){E.E5.save();var j=a.iR(new iP(0,0));a.translate(-j.x,-j.y);E.E5.translate(Math.round(j.x),Math.round(j.y));
E.E5.fillStyle=E.y8;if(K.W3)E.E5.fillRect(-5e3,-5e3,2e4,2e4);else{this.P7(W.p.VD(P),a,E.E5);E.E5.fill()}E.E5.restore()}else{E.E5.fillStyle=aV.tQ(aV.HT(K));
E.E5.fillRect(0,0,J,i);E.E5.save();E.E5.setTransform(a.Cc,a.k,a.o0,a.Ga,a.qW,a.Ju);var e=K.root.children;
for(var y=0;y<e.length;y++){var d=e[y].j;if(d.add.artb==null||!d.bL())continue;var I=d.IZ(),v=d.Po();
if(v!=0)continue;E.E5.fillStyle=E.y8;E.E5.save();E.E5.scale(1/x.N,1/x.N);E.E5.fillRect(x.N*I.x,x.N*I.y,I.b*x.N,I.n*x.N);
E.E5.restore()}E.E5.restore()}if(x.Tg.length!=c.O()){x.Tg=W.Q(c.O());x.xk=W.Q(c.O()*4)}x.xk.fill(0);
if(K.add.fvec){var a=x.uL(!0);a.Pa();E.E5.save();var n=W.p.VD(x.E5);W.p.u(n.C,x.uL(!0),n.C);var C=W.p.Uz(n.C);
E.E5.setTransform(a.Cc,a.k,a.o0,a.Ga,a.qW,a.Ju);this.P7(W.p.VD(new cS(0,0,K.b,K.n)),null,E.E5);E.E5.clip();
K.root.a1_(K,E.E5,this.W5,C);E.E5.restore()}else{W.scale.fn(K.buffer,P,_,x.xk,c,K.W3);var T=K.VE();if(T)ICC.U.applyLUT(T[K.add.fcmy==1?5:3],T[2],x.xk,x.xk);
if(x.NW[0]+x.NW[1]+x.NW[2]!=3)W.Kh.Ih(x.xk,x.xk,W.Kh.sG(x.NW));E.ja.putImageData(new ImageData(new Uint8ClampedArray(x.xk.buffer),c.b,c.n),0,0);
E.E5.drawImage(E.aW,0,0);E.E5.getImageData(0,0,1,1)}this.a9C(K)};aV.prototype.a9C=function(K){var E=K.D,x=E.NW[0]+E.NW[1]+E.NW[2],c=aV.IG,J=!1,i=[];
for(var y=0;y<K.g.length;y++){var P=K.B[K.g[y]];if(P==null)continue;var _=P.kS;if(_!=1&&_!=3)continue;
var a=_==1?P.FA():P.Xe(K).z;if(a.U1)i.push(a)}for(var y=0;y<K.Un.length;y++)if(K.Un[y].U1)i.push(K.Un[y]);
for(var y=0;y<i.length;y++){var a=i[y];this.agy(a,E,i.length==1&&x==0?2:1,a.color,a.Hw);J=!0}var j=this.W5;
J=this.ahU(K,c.E5,E,i.length!=0)||J;if(K.P&&j.R9&&j.Vp.hO){this.agy(K.P,E,0,0,null);J=!0}return J};aV.prototype.agy=function(K,E,x,c,J){var i=0;
if(J)i=Math.round(J.k)<<16|Math.round(J.J)<<8|Math.round(J.o);var P=E.uL(!0),_=E.E5,a=new cS(0,0,E.c1.b,E.c1.n),j=aV.IG;
if(E.xk==null||E.xk.length!=_.O()*4){E.Tg=W.Q(_.O());E.xk=W.Q(_.O()*4)}E.Tg.fill(c);E.xk.fill(0);var e=K.channel,d=K.rect;
W.scale.u(e,d,P,E.Tg,_);if(x==0){var I=new Uint32Array([4278190080,4294967295]);aV.Zn(new Uint8Array(I.buffer));
W.P.aud(E.Tg,E.xk,_,I,U.V()>1.9)}else{var v=Date.now();W.P.a7Z(E.Tg,E.xk,_,x,i);aV.Zn(E.xk)}var n=new ImageData(new Uint8ClampedArray(E.xk.buffer),_.b,_.n);
j.ja.putImageData(n,0,0);j.E5.save();if(x!=0){var C=new cS(0,0,a.b,a.n),T=P.clone();T.Pa();this.P7(W.p.VD(C),T,j.E5);
j.E5.clip()}j.E5.drawImage(j.aW,0,0);j.E5.restore()};aV.prototype.ahU=function(K,E,x,c){var J=K.I.zZ!=null||K.I.Xv!=null||K.I.sA!=null||K.I.Ie.length!=0||K.I.un.length!=0,i=this.W5,P=i.Vp,_=cX.Cm[i.T8],a=Math.round(12*U.V()),j=a/K.D.N,e=x.uL(!0);
e.Pa();E.save();E.setTransform(e.Cc,e.k,e.o0,e.Ga,e.qW,e.Ju);if(K.add.artd){var d=aV.HT(K)[0];d=d<.5?d+.5:d-.5;
d=""+Math.round(d*255).toString(16);while(d.length<2)d="0"+d;E.fillStyle="#"+d+d+d;E.font=j+"px sans-serif";
for(var y=0;y<K.B.length;y++){var v=K.B[y];if(v.add.artb==null||!v.bL())continue;var n=v.IZ();E.fillText(v.getName(),n.x+2,n.y-j*.7);
J=!0}}function C(jC){return jC==1||jC==2||jC==4||jC==5}var T=aV.tQ([.1,.5,1,1]),o=aV.tQ([1,1,1,1]);if(i.R9&&P.Qg){E.fillStyle=E.strokeStyle=T;
E.lineWidth=1.5/x.N;var s=K.Ox(),Q=s[0],X=s[1];for(var B=0;B<X.length;B++){var v=Q[X[B]],M=v.add.vmsk,S=M.i,f=W.p.P0(S);
this.P7(f,null,E);E.stroke();J=!0;var F=3*U.V()/x.N,G=S.length-3;for(var y=0;y<M.D7.length;y++){var D=W.r.AQ(S,M.D7[y]);
if(D==null)continue;var b=D.x,H=D.y;E.beginPath();var q=y==0;if(M.jn)q=!q;if(q){E.moveTo(b-F,H-F);E.lineTo(b+F,H+F);
E.moveTo(b-F,H+F);E.lineTo(b+F,H-F);E.stroke()}else{E.arc(b,H,F*1,0,2*Math.PI);E.fill()}J=!0}if(K.g.length!=1)continue;
var O=-1;for(var y=0;y<S.length;y++){if(S[y].type>5)continue;if(S[y].type==0||S[y].type==3){if(S[y].qX!=-1)O++;
continue}if(M.g.indexOf(O)!=-1){var b=S[y].H.x,H=S[y].H.y;E.fillRect(b-F*.8,H-F*.8,2*F*.8,2*F*.8)}if(M.Ex.indexOf(y)!=-1){var w=S[y],V=[w.H];
E.beginPath();E.moveTo(w.ri.x,w.ri.y);E.lineTo(w.H.x,w.H.y);E.lineTo(w.XK.x,w.XK.y);var t=S[y-1],m=S[y+1];
if(t&&C(t.type)&&M.Ex.indexOf(y-1)==-1){E.moveTo(t.H.x,t.H.y);E.lineTo(t.XK.x,t.XK.y);V.push(t.XK)}if(m&&C(m.type)&&M.Ex.indexOf(y+1)==-1){E.moveTo(m.H.x,m.H.y);
E.lineTo(m.ri.x,m.ri.y);V.push(m.ri)}E.stroke();if(!w.H.ac(w.ri))V.push(w.ri);if(!w.H.ac(w.XK))V.push(w.XK);
for(var g=0;g<V.length;g++){var D=V[g],b=D.x,H=D.y;if(g==0&&(w.type==2||w.type==5))E.fillRect(b-1.2*F,H-1.2*F,2.4*F,2.4*F);
else{E.beginPath();E.arc(b,H,F*1.2,0,2*Math.PI);E.fill();if(g!=0)E.fillStyle=o;E.beginPath();E.arc(b,H,F*.8,0,2*Math.PI);
E.fill();E.fillStyle=T}}}J=!0}}}E.lineWidth=1/x.N;if(K.I.Tl){E.fillStyle=E.strokeStyle=T;var m={C:[],W:[]},Y=aV.a5Y;
if(Y==null){Y=aV.a5Y={C:[1,0],W:["M"]};for(var y=1;y<30;y++){var A=Math.PI*2*y/30;Y.C.push(Math.cos(A),Math.sin(A));
Y.W.push("L")}Y.W.push("Z","M","L","M","L");Y.C.push(-.5,0,.5,0,0,-.5,0,.5)}for(var y=0;y<K.I.Tl.length;
y++){var t=$.Q2.asJ(K.I.Tl[y],x),k=new iQ(t[0],0,0,t[0],t[1],t[2]);W.p.concat(m,Y,k)}this.P7(m,null,E);
E.stroke();J=!0}var z=new iQ(1,0,0,1,.5/x.N,.5/x.N);if(K.W3){E.fillStyle=E.strokeStyle=T;var m={C:[0,0,K.b,0,K.b,K.n,0,K.n],W:["M","L","L","L","Z"]};
this.P7(m,z,E);E.stroke();J=!0}if(K.I.jK){E.fillStyle=E.strokeStyle=aV.tQ([0,0,0,.5]);this.P7(K.I.jK,null,E,!0);
E.fill("evenodd")}E.fillStyle=E.strokeStyle=aV.tQ([0,0,0,f4.Eg&&K.add.fvec==null?1:.5],!0);if(K.I.zZ){this.P7(K.I.zZ,null,E);
E.fill()}if(K.I.Xv){this.P7(K.I.Xv,z,E);E.stroke()}for(var p in K.I.Pk)if(K.I.Pk[p].Xv){this.P7(K.I.Pk[p].Xv,null,E);
E.stroke();J=!0}var L=aV.ac$(K.I.Lt,E,x);E.stroke();J=J||L;var N=K.I.dy;E.fillStyle=aV.tQ([1,1,1,1]);
E.beginPath();var F=6*U.V()/x.N;for(var y=0;y<N.length;y+=2){J=!0;var b=N[y],H=N[y+1];E.moveTo(b+F,H);
E.arc(b,H,F,0,2*Math.PI)}E.fill();var F=4*U.V()/x.N;for(var y=0;y<N.length;y+=2){J=!0;var b=N[y],H=N[y+1];
E.fillStyle=aV.tQ(K.I.A6.indexOf(y>>>1)!=-1?[0,.6,1,1]:[.7,.7,.7,1]);E.beginPath();E.moveTo(b+F,H);E.arc(b,H,F,0,2*Math.PI);
E.fill()}if(K.I.Ie.length!=0){for(var y=0;y<K.I.Ie.length;y++){var gC=K.I.Ie[y],r=gC[1],h;if(c){h=E.getImageData(r.x,r.y,r.b,r.n);
W.h.Nh("norm",gC[0],r,new Uint8Array(h.data.buffer),r,r,1)}else h=new ImageData(new Uint8ClampedArray(gC[0].buffer),r.b,r.n);
E.putImageData(h,r.x,r.y)}}var l=.5/x.N;E.lineWidth=1/x.N;if(K.I.dM){J=!0;var g5=K.I.dM,fm=g5.JN,f={W:[],C:[]};
for(var y=0;y<g5.Sf.length;y++)W.p.concat(f,W.p.VD(g5.Sf[y]));f.C=f.C.concat(fm);for(var y=0;y<fm.length;
y+=4){f.W.push("M","L")}for(var y=0;y<f.C.length;y++){f.C[y]+=l}E.strokeStyle=aV.tQ([.9,.2,.2,1]);this.P7(f,null,E);
E.stroke();var dC=U.V(),ex=2/x.N;E.font=j*.9+"px sans-serif";for(var y=0;y<fm.length;y+=4){var b=fm[y],H=fm[y+1],cR=fm[y+2],d0=fm[y+3],hN=Math.sqrt((d0-H)*(d0-H)+(cR-b)*(cR-b));
hN=W.uz.Vo(hN,K.B8,i,H==d0?K.b:K.n);var ey=new iP((b+cR)/2,(H+d0)/2);E.fillStyle=aV.tQ([.9,.2,.2,1]);
var cr=E.measureText(hN).width;E.fillRect(ey.x-cr/2-ex*dC,ey.y-3.5*ex*dC,cr+2*ex*dC,7*ex*dC);E.fillStyle=aV.tQ([1,1,1,1]);
E.save();E.translate(ey.x-cr/2,ey.y+2*ex*dC);E.scale(.1,.1);E.font=j*9+"px sans-serif";E.fillText(hN,0,0);
E.restore()}}if(i.R9){if(P.vh){var ik=W.uz.KX(P.SH,K.B8,K.b,P.Yb),hd=ik;if(P.Yb==4)hd*=K.n/K.b;this.Ii(K,E,ik,hd,1,P.uU);
J=!0}if(P.RZ&&K.D.N>7&&K.add.fvec==null){this.Ii(K,E,1,1,.5,P.uU);J=!0}if(P.J$){var df=K.pY(),bQ=K.Uq(),is=Math.max(K.D.E5.b,K.D.E5.n)/K.D.N;
is=Math.max(Math.max(K.b,K.n)*2,is);for(var y=0;y<df[0].length;y++){var bi=df[0][y],jX=df[1][y];if(jX!=-1&&jX!=bQ)continue;
var eS=x.An(bi[1],bi[1]),bN=x.gg(Math.floor(eS.x)+.5,Math.floor(eS.y)+.5);E.beginPath();E.strokeStyle=aV.tQ([0,jX==-1?1:.5,1,1]);
if(bi[0]==0){var h9=bN.x;E.moveTo(h9,-is);E.lineTo(h9,is)}else{var bz=bN.x;E.moveTo(-is,bz);E.lineTo(is,bz)}E.stroke();
J=!0}}var i0=K.ea;if(P.ea&&i0.length!=0){E.font=j*.8+"px sans-serif";var hp=[],hY=[];for(var y=0;y<i0.length;
y++){var ji=$.ie.rQ(i0,y);hp.push(ji);if(K.Cr.indexOf(y)!=-1)hY.push(ji)}hp.reverse();var aM=Date.now();
hp=W.rect.zC([0,0,K.b,K.n],hp);for(var g=0;g<2;g++)for(var y=0;y<hp.length;y++){var a1=hp[y],O=a1[4],fi=O!=null?i0[O]:null;
if(fi&&g==0||fi==null&&g==1)continue;var b=Math.round(a1[0]),H=Math.round(a1[1]),cR=Math.round(a1[2]),d0=Math.round(a1[3]);
E.strokeStyle=E.fillStyle=aV.tQ(fi?[0,.7,.7,1]:[.8,.8,.8,1]);E.strokeRect(b+l,H+l,cR-b,d0-H);var jJ=y+1,gg=E.measureText(jJ),cr=gg.width;
E.fillRect(b,H,cr+j/2,j);E.fillStyle=aV.tQ([1,1,1,1]);E.fillText(jJ,b+j/4,H+j*.8)}var ex=2/K.D.N,iN=2*ex;
for(var y=0;y<hY.length;y++){var a1=hY[y],b=Math.round(a1[0]),H=Math.round(a1[1]),cR=Math.round(a1[2]),d0=Math.round(a1[3]);
E.strokeStyle=E.fillStyle=aV.tQ([1,.6,0,1]);E.strokeRect(b+l,H+l,cR-b,d0-H);var ad=[b,H,cR,H,cR,d0,b,d0];
for(var h6=0;h6<ad.length;h6+=2){var h9=ad[h6],bz=ad[h6+1],iY=ad[h6+2&7],kh=ad[h6+3&7];E.fillRect(h9-ex,bz-ex,iN,iN);
E.fillRect(Math.round((h9+iY)/2)-ex,Math.round((bz+kh)/2)-ex,iN,iN)}}J=!0}var gN=K.add.Anno;if(gN&&gN.length!=0)for(var y=0;
y<gN.length;y++){var aT=gN[y],iv=aT[2],h9=aT[0]-l,bz=aT[1]-l,iN=30/x.f$,fs=.4*iN,gm=.6*iN;E.beginPath();
E.moveTo(h9,bz+gm);E.lineTo(h9,bz);E.lineTo(h9+iN,bz);E.lineTo(h9+iN,bz+iN);E.lineTo(h9+fs,bz+iN);E.closePath();
E.lineTo(h9+fs,bz+gm);E.lineTo(h9+fs,bz+iN);if(y==K.D.G5){E.lineWidth*=5;E.strokeStyle=aV.tQ([0,0,0,.5]);
E.stroke();E.lineWidth/=5}E.fillStyle=aV.tQ([iv.o/255,iv.J/255,iv.k/255,1]);E.fill();E.strokeStyle=aV.tQ([0,0,0,1]);
E.stroke()}}E.strokeStyle=aV.tQ([1,0,0,1]);if(K.I.sA){this.P7(K.I.sA,z,E);E.stroke()}E.restore();if(i.Fy){if(K.D.UU==null||K.D.UU.width!=K.D.E5.b||K.D.dl.height!=K.D.E5.n){K.D.UU=E.createImageData(K.D.E5.b,W.uz.Xi);
K.D.dl=E.createImageData(W.uz.Xi,K.D.E5.n)}var _=cX.Cm[i.T8],g8=0,b_=0,ko=K.b,gk=K.n;if(K.Uq()!=-1){var n=K.B[K.Uq()].IZ();
g8=n.x;b_=n.y;ko=n.b;gk=n.n}g8*=x.N;b_*=x.N;var x=K.D,bx=[1,K.B8,K.B8/2.54,K.B8/25.4,ko/100][P.OZ],ai=x.N*K.b/2,hf=x.N*K.n/2,aa=[x.N*bx,new iP(x.R.x+(g8+ai*bx-ai),x.R.y+(b_+hf*bx-hf))];
if(P.OZ==4)bx*=gk/ko;var iS=[x.N*bx,new iP(x.R.x+(g8+ai*bx-ai),x.R.y+(b_+hf*bx-hf))],hl=this.Oq.Lb;W.uz.amm(x,_["--text-color"],_["--bg-input"],Math.floor(hl.x),Math.floor(hl.y),aa,iS);
var jR=b3.a6$(x.N,aV.tQ([1,1,1,1]),K.b,K.n);aV.Zn(K.D.dl.data);aV.Zn(K.D.UU.data);E.putImageData(K.D.dl,0,0);
E.putImageData(K.D.UU,0,0);E.putImageData(jR,0,K.D.E5.n-jR.height)}if(K.I.un.length!=0){for(var y=0;
y<K.I.un.length;y++){var gC=K.I.un[y],r=gC[1];E.putImageData(new ImageData(new Uint8ClampedArray(gC[0].buffer),r.b,r.n),r.x,r.y)}}return J||i.Fy};
aV.prototype.Ii=function(K,E,x,c,J,i){while(x*K.D.N<4){x*=2;c*=2}var P=K.b,_=K.n,a=.5/K.D.N;E.strokeStyle=aV.tQ([.5,.5,.5,J],!0);
E.save();E.rect(0,0,P,_);E.clip();E.beginPath();for(var j=0;j<=P;j+=x){E.moveTo(j+a,0);E.lineTo(j+a,_)}if(i==0){for(var e=0;
e<=_;e+=c){E.moveTo(0,e+a);E.lineTo(P,e+a)}}else{c*=Math.sqrt(4/3);var d=c*Math.floor(P/c),I=P*(c/(2*x));
for(var e=-d;e<=_+d;e+=c){E.moveTo(0,e);E.lineTo(P,e-I);E.moveTo(0,e);E.lineTo(P,e+I)}}E.stroke();E.restore()};
aV.ac$=function(K,E,x,c){E.beginPath();var J=(c?c:1)*(4*U.V()+.5)/x.N,i=!1;for(var y=0;y<K.length;y+=2){i=!0;
var P=K[y],_=K[y+1];E.rect(P-J,_-J,2*J,2*J)}return i};aV.kY=function(K,E,x,c){x.beginPath();if(c)x.rect(-1e5,-1e5,1e6,1e6);
var J=K;if(E){J=W.p.clone(K);W.p.u(J.C,E,J.C)}Typr.U.pathToContext({cmds:J.W,crds:J.C},x)};aV.prototype.P7=aV.kY;
aV.b4=function(K,E,x){f4.rh.call(this);var c=E!=0,J=x?"true":"in01(sCoord)",i="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\t"+(K?"uniform sampler2D lut;  uniform float N;  "+f4.Kx.ht:"")+"\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(c?"uniform vec4 bgClr;  uniform vec4 ars["+E+"]; ":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+f4.Kx.Bc+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = texture2D(target, sCoord"+(x?"-floor(sCoord)":"")+"); \t\t\t\t"+(K?"tgt.rgb = mapLut(tgt, lut, N).rgb; ":"")+"\t\t\t\ttgt = ctrn * tgt; "+(c?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<"+E+"; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = "+J+" ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = "+J+" ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",P="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.w9(i,P)};aV.b4.prototype=new f4.rh;aV.b4.prototype.tT=function(K,E,x,c,J,i,P,_,a,j,e,d,I,v){this.cm("tmat gsize source target lut N contSizeZoom cnvSize bgClr ars ctrn".split(" "));
var n=f4.gI,C=this.Vd;n.uniformMatrix3fv(C.tmat,!1,x);n.uniform4fv(C.gsize,c);n.uniform3f(C.contSizeZoom,J,i,P);
n.uniform2f(C.cnvSize,_,a);n.uniformMatrix4fv(C.ctrn,!1,d);if(this.a9O){n.uniform4fv(C.ars,e);n.uniform4fv(C.bgClr,j)}n.uniform1i(C.source,0);
n.uniform1i(C.target,1);n.activeTexture(n.TEXTURE0);n.bindTexture(n.TEXTURE_2D,K);n.activeTexture(n.TEXTURE1);
n.bindTexture(n.TEXTURE_2D,E);if(I){n.uniform1f(C.N,v);n.uniform1i(C.lut,2);n.activeTexture(n.TEXTURE2);
n.bindTexture(n.TEXTURE_2D,I.Iz);var T=n.LINEAR;n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,T);
n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,T)}n.activeTexture(n.TEXTURE0)};function hF(){ap.call(this,[9,7],!1,"---panels/layercomps",ap.oE.ad7);
this.I$.setAttribute("style","min-width:240px;");this.Ul=null;this.lq=-1;this.GZ=[];this.Zz=U.t("div","scrollable");
this.Zz.style.height="160px";this.I$.appendChild(this.Zz);this.Gd=U.t("div","lpfoot");this.I$.appendChild(this.Gd);
this.Ow=[];var K=["<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>","reload","lrs/newlayer","lrs/bin"],E=["Layer Comps to Files",[5,10],[5,3],[5,4]];
for(var y=0;y<K.length;y++){var x=K[y];if(y>0)x="<img src=\""+PIMG[K[y]]+"\" class=\"miniscale gsicon\" />";
var c=new cn(x,!1,E[y]);c.w("click",this.aeK,this);this.Gd.appendChild(c.e);this.Ow.push(c)}}hF.prototype=new ap("");
hF.prototype.nt=function(K,E){this.I$.setAttribute("style","width:"+(K-2)+"px;");this.Zz.style.height=E-28+"px"};
hF.prototype.Ap=function(K){var E=new i3(u.E.v,!0);E.data=K;E.G=$.VP;this.S(E)};hF.abH="var opts = new ExportOptionsSaveForWeb(); opts.format = SaveDocumentType.PNG; opts.PNG8 = false; opts.quality = 100; var doc = app.activeDocument;var lc = doc.layerComps;  if(lc.length==0) alert(\"No layer comps.\"); else { \tvar stat = doc.historyStates.length - 1;\t\tfor(var i=0; i<lc.length; i++) {\t\tlc[i].apply();\t\tpngFile = new File(lc[i].name+\".png\");\t\tapp.activeDocument.exportDocument(pngFile, ExportType.SAVEFORWEB, opts);\t}\t\tdoc.activeHistoryState = doc.historyStates[stat];}";
hF.prototype.aeK=function(K){var y=this.Ow.indexOf(K.currentTarget)-1;if(y==-1){var E=new i3(u.E.L,!0);
E.data={_:u.c.nO,RI:hF.abH};this.S(E);return}if(y!=1)if(this.lq==-1)return;this.Ap({_:["updLC","addLC","delLC"][y],JD:this.lq});
if(y==2)this.lq=-1};hF.prototype.f=function(){ap.prototype.f.call(this);for(var y=0;y<this.Ow.length;
y++)this.Ow[y].f()};hF.prototype.jG=function(K){if(K==null)U.sy(this.I$,"disabled");else U.gz(this.I$,"disabled");
this.Ul=K;U.w6(this.Zz);if(K==null)return;var E=K.s8.lastAppliedComp?K.s8.lastAppliedComp.v:0,x=K.s8.list.v.slice(0);
x.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var y=0;y<x.length;
y++){var c=x[y].v,J=new k7(c.Nm.v,c.compID.v,c.capturedInfo.v,E,this.lq);J.w("activate",this.Jj,this);
J.parent=this;this.Zz.appendChild(J.e);this.GZ.push(J)}};hF.prototype.Jj=function(K){this.lq=K.currentTarget.JD;
this.jG(this.Ul)};function k7(K,y,E,x,c){fo.call(this);this.JD=y;this.e=U.t("div","head listitem"+(y==c?" selected":""));
var J=y==x,i=new cn(J?"\u2713":"\u2014");if(J)i.Kv();this.e.appendChild(i.e);i.w("click",this.kM,this);
var P=this.zp=U.t("span");P.textContent=K;this.e.appendChild(P);this.Ow=[];if(y!=0){this.e.addEventListener("mouseup",this.Jj.bind(this),!1);
this.ait=U.t("span","headR");this.e.appendChild(this.ait);var _=["lrs/eye","pos","lrs/fx"],a=["Visibility","Position","Appearance"];
for(var j=0;j<_.length;j++){var e=new cn("<img src=\""+PIMG[_[j]]+"\" class=\"autoscale gsicon\" />",!1,a[j]);
if((E>>j&1)==0)e.e.setAttribute("style","opacity:0.3");e.w("click",this.awY,this);this.ait.appendChild(e.e);
this.Ow.push(e)}}}k7.prototype=new fo;k7.prototype.Jj=function(K){if(K.target!=this.zp&&K.target!=this.e)return;
if(K.detail==1)this.S(new i3("activate",!1));else{var E=new ap.u1(this.zp,this.Ob.bind(this))}};k7.prototype.awY=function(K){var y=this.Ow.indexOf(K.currentTarget);
this.Ap({_:"editLC",az5:y,JD:this.JD})};k7.prototype.Ob=function(K){this.Ap({_:"editLC",e2:K,JD:this.JD})};
k7.prototype.kM=function(K){this.Ap({_:"setLC",JD:this.JD})};k7.prototype.Ap=function(K){var E=new i3(u.E.v,!0);
E.data=K;E.G=$.VP;this.S(E)};function c6(){ap.call(this,[9,11],!1,"---panels/navigator",ap.oE.a4G);var K=U.t("div","padded");
K.setAttribute("style","min-width:15em");this.I$.appendChild(K);var E=U.t("div");K.appendChild(E);E.setAttribute("style","cursor:grab;");
this.T=U.t("canvas");this.T.width=100;E.appendChild(this.T);U.hr(this.T);U.gw(this.T,this.LX.bind(this));
this.NN=new a4(null,2,6400,"%",null,!0);this.NN.w(u.E.A,this.a3F,this);K.appendChild(this.NN.e);this.aaf=this.hI.bind(this);
this.a9c=this.Fc.bind(this);this.ml=null;this.kW=null;this.IR=!1}c6.prototype=new ap("");c6.prototype.nt=function(K,E){this.I5()};
c6.prototype.a3F=function(K){var E=this.NN.m(),x=this.ml,c=E/100;if(.8<c&&c<1.2)c=1;else if(1.8<c)c=Math.round(c);
var J=new i3(u.E.v,!0);J.G=$.lJ;J.data={_:"zoom",N:c};this.S(J)};c6.prototype.LX=function(K){var E=this.ml;
if(E==null)return;this.IR=!0;U.nx(window,this.aaf);U.xz(window,this.a9c)};c6.prototype.hI=function(K){var E=U.bf(K,this.T),x=this.ml,c=this.T.width,J=this.T.height,i=(E.x*U.V()-c/2)/c,P=(E.y*U.V()-J/2)/J,_=U.V()*x.D.N,a=Math.round(-x.D.N*x.b*i),j=Math.round(-x.D.N*x.n*P);
$.PC.T$(x,a,j)};c6.prototype.Fc=function(K){U.PL(window,this.aaf);U.KR(window,this.a9c);this.IR=!1};
c6.prototype.jG=function(K){if(K==null&&this.ml!=null)this.T.width=100;this.ml=K;this.I5()};c6.prototype.aef=function(){var K=300*U.V(),E=0,x=this.ml,c=[x.S7(),new cS(0,0,x.b,x.n)];
W.gX(c);while(Math.max(c[E+1].b,c[E+1].n)>K){E+=2}this.kW=c.slice(E)};c6.prototype.I5=function(){var K=this.ml;
if(K==null||K.D.N==0)return;var E=K.D;if(!U.Of(this.I$))return;this.NN.$(E.N*100);if(!this.IR)this.aef();
var x=this.kW[0],c=this.kW[1],J=c.b,i=c.n,P=this.T;P.width=J;P.height=i;U.P2(P,J,i);var _=P.getContext("2d"),a=_.createImageData(J,i);
W.dq(x,a.data);_.putImageData(a,0,0);var j=E.E5,e=E.gg(j.x,j.y),d=E.gg(j.x+j.b,j.y+j.n),I=J/K.b;_.scale(I,I);
_.lineWidth=4/I;_.strokeStyle="#ff0000";_.strokeRect(e.x,e.y,d.x-e.x,d.y-e.y)};c6.prototype.Q3=function(K,E){};
c6.prototype.Uo=function(){this.I5()};function dd(K,E){ap.call(this,K.name,!1,K.icon,E);this.aft=K}dd.prototype=new ap("");
dd.prototype.gQ=function(){var K=this.I$,E=this.aft;if(!U.Of(K)||this.bU)return;var x=this.bU=U.t("iframe");
x.setAttribute("src",E.url);this.I$.appendChild(x)};dd.prototype.Uo=dd.prototype.jG=function(){this.gQ()};
dd.prototype.YQ=function(K){if(U.Of(this.bU))this.bU.contentWindow.postMessage(K,"*")};dd.prototype.nt=function(K,E){if(this.bU==null)return;
this.bU.setAttribute("style","width:"+K+"px; height:"+E+"px")};function ac(){ap.call(this,[9,12],!1,"---panels/tpreset",ap.oE.Ro);
this.ll=null;this.$e=new bF($.Xb);this.$e.parent=this;var K=U.t("div","padded");K.setAttribute("style","width:20em");
this.I$.appendChild(K);K.appendChild(this.$e._0)}ac.prototype=new ap("");ac.prototype.Uo=function(){this.$e.ly(this.ll.rU)};
ac.prototype.Q3=function(K,E){this.ll=K;if(E==eu.$r||E==eu.Ro)this.$e.ly(K.rU)};ac.prototype.nt=function(K,E){this.$e.avp(this.ll.OI)};
ac.prototype.f=function(){ap.prototype.f.call(this);this.$e.f()};var hI=function(){var K=[],E=null,x=null,c=null,J=[[100,180,255],[100,255,100],[255,200,100],[200,100,255],[255,100,200]];
function i(){ap.call(this,"Memory",!1,null,ap.oE.agW);var I=U.t("div","padded");this.I$.appendChild(I);
x=new cn(["<< VAR0",[0,13,2]],!1,null,!0);x.addEventListener("click",function(v){K.pop();_()});I.appendChild(x.e);
E=U.t("div","scrollable");E.setAttribute("style","width:20em;  height:26em; margin-top:8px;");I.appendChild(E)}i.prototype=new ap("");
i.prototype.jG=function(I,v,n){c=v;this.Uo()};i.prototype.Uo=function(){x.Lk(!1);if(!U.Of(E))return;
var I={mg:"Total:",Gl:[]};for(var y=0;y<c.length;y++)I.Gl.push(j(c[y]));d(I);K=[I];_()};i.prototype.f=function(){ap.prototype.f.call(this);
x.f()};function P(I){var v=I.currentTarget,y=0;while((v=v.previousSibling)!=null)y++;K.push(K[K.length-1].Gl[y-1]);
_()}function _(){x.Lk(K.length>1);var I=K[K.length-1];U.w6(E);a(I,E,0);I.Gl.sort(function(v,n){return n.GI[0]-v.GI[0]});
for(var y=0;y<I.Gl.length;y++)a(I.Gl[y],E,1)}function a(I,v,n){var C=ew.ev,T=n!=0&&I.Gl,o="margin-left:"+n*10+"px; margin-bottom:8px; padding:3px 5px;";
if(T)o+="cursor:pointer;";if(I.cl!=null)o+="background-color:rgba("+J[I.cl].join(",")+",0.2);";var s=U.t("div");
v.appendChild(s);s.setAttribute("style",o);s.innerHTML=U.$f(I.mg)+"<br />"+"RAM: <b>"+C(I.GI[0])+"</b>\u2001GPU: <b>"+C(I.GI[1])+"</b>";
if(T)s.addEventListener("click",P,!1)}function j(I){var v={mg:I.name,Gl:[],cl:0},n=f4.Eg?1:0,C=1-n,T={mg:"Final Image",GI:[I.b*I.n*4,n*I.b*I.n*4],cl:2};
v.Gl.push(T);for(var y=0;y<I.B.length;y++){var o=e(I.B[y]);if(o.Gl.length!=0)v.Gl.push(o)}var s=I.add.lnk2;
if(s)for(var y=0;y<s.length;y++){var o=s[y],Q={mg:o.sU,Gl:[],cl:4},X=0;Q.Gl.push({mg:"Raw file",GI:[o.raw.length,0]});
if(o.WG)for(var B=0;B<o.WG.length;B+=2)X+=o.WG[B].length;if(X!=0)Q.Gl.push({mg:"Decoded pixels",GI:[X,0]});
d(Q);v.Gl.push(Q)}d(v);return v}function e(I){var v={mg:I.getName(),Gl:[],cl:1},n=f4.Eg?1:0,C=1-n,T=I.rect.O();
if(T!=0)v.Gl.push({mg:"Layer pixels",GI:[T*4,n*T*4]});if(I.add.lmfx&&I.vJ.n1.type){var o=I.vJ.n1.type,B=0;
for(var s in o){var Q=0;for(var X=0;X<o[s].length;X++)if(s=="ebbl"){if(o[s][X].tw)Q+=o[s][X].tw.ha.O();
if(o[s][X].Fs)Q+=o[s][X].Fs.ha.O();if(o[s][X].JZ)Q+=o[s][X].JZ.ha.O();if(o[s][X].AO)Q+=o[s][X].AO.ha.O()}else Q+=o[s][X].ha.O();
if(Q!=0)v.Gl.push({mg:hg.get(dz.names[dz.order.indexOf(s)]),GI:[C*Q*4,n*Q*4],cl:3})}if(I.vJ.Z$)B+=T;
if(I.vJ.qb)B+=T;if(I.vJ.V5)B+=T;if(I.vJ.V5)B+=T;if(I.vJ.gH)B+=T;if(I.vJ.Ls)B+=T;var M=I.vJ.U7?I.vJ.U7.length:0;
if(B+M!=0)v.Gl.push({mg:"Additional Blending Data",GI:[C*B*4+M,n*B*4]})}var S=I.FA(),f=S?S.rect.O():0;
if(f!=0){v.Gl.push({mg:"Raster Mask",GI:[f,0]})}var S=I.add.vmsk,f=S&&S.Sc?S.Sc.rect.O():0;if(f!=0){v.Gl.push({mg:"Vector Mask",GI:[f,0]})}d(v);
return v}function d(I){I.GI=[0,0];for(var y=0;y<I.Gl.length;y++){I.GI[0]+=I.Gl[y].GI[0];I.GI[1]+=I.Gl[y].GI[1]}}return i}();
function dw(){ap.call(this,[9,14],!1,"---panels/notes",ap.oE.a3c);this.I$.setAttribute("style","min-width:240px;");
var K=U.t("div","padded");this.I$.appendChild(K);this.mt=new ay("Author");K.appendChild(this.mt.e);this.qG=U.t("textarea");
U.sr(this.qG);K.appendChild(this.qG);var E=new cn("<<",null,null,!0);K.appendChild(E.e);this.a8T=E;var x=new cn(">>",null,null,!0);
K.appendChild(x.e);E.w("click",this.ZD,this);x.w("click",this.ZD,this);var c=this.an_=new jp("");K.appendChild(c.e)}dw.prototype=new ap("");
dw.prototype.ZD=function(K){var E=K.target==this.a8T?-1:1,x=this.ml,c=x.add.Anno;if(c==null)return;var J=c.length,i=x.D.G5;
x.D.G5=(i+E+J)%J;x.Bi=!0;this.I5()};dw.prototype.I5=function(){var K=this.ml;if(K==null)return;var E=K.add.Anno;
if(E==null||E.length==0)return;var x=K.D.G5,c=E[x];this.qG.value=c[4];this.an_.$(x+1+" / "+E.length);
this.mt.$(c[3])};dw.prototype.nt=function(K,E){if(this.pz==K)return;this.pz=K;E=Math.min(E,200);this.qG.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(K-10)+"px; height:"+(E-66)+"px")};
dw.prototype.jG=function(K,E,x){this.ml=K;this.I5()};function hJ(){fo.call(this);this.G=0;this.AX=null;
this.e=U.t("div","toolconf");this.$e=null;this.HV=null;this.body=new U.t("div","body")}hJ.prototype=new fo;
hJ.prototype.avt=function(K,E){this.G=K;this.AX=E;if($.I3[K]){var x=this.$e=new bF(K);this.e.appendChild(x.e);
x.parent=this}else{this.HV=U.t("div");this.e.appendChild(this.HV)}this.e.appendChild(this.body);this.f()};
hJ.prototype.ahT=function(K,E){};hJ.prototype.acf=function(K){};hJ.prototype.Q3=function(K,E){if(E==eu.$r||E==eu.Ro)if(this.$e)this.$e.ly(K.rU)};
hJ.prototype.J7=function(K){};hJ.prototype.f=function(){if(this.$e)this.$e.f();else this.HV.innerHTML=U.fk(this.AX,null,"toolicon");
this.Sh()};hJ.prototype.Sh=function(){};function fF(){hJ.call(this);this.jd=new eB;this.jd.w(u.E.A,this.Tx,this);
this.body.appendChild(this.jd.e)}fF.prototype=new hJ;fF.prototype.Sh=function(){this.jd.f()};fF.prototype.Tx=function(K){var E=new i3(u.E.L,!0);
E.data={_:u.c.Fx,G:this.G,ry:this.jd.aeQ()};this.S(E)};fF.prototype.J7=function(K){this.jd.ayr(K._q)};
function hG(K){hJ.call(this);if(K==null)return;this.ll=null;this.yn={};if(K.indexOf("brush")!=-1&&K.indexOf("prsr")==-1)K.push("prsr");
for(var y=0;y<K.length;y++){var E=K[y],x=null;if(E=="brush"){x=new gx}if(E=="bmode"){x=new aw([12,19,0],db.n7,db.eP)}if(E=="bmode0"){x=new aw([12,19,0],db.n7.slice(23))}if(E=="emode"){x=new aw([12,36],[[9,3],[10,38]])}if(E=="opacity"){x=new eW([12,0],0,100,"%");
x.$(100)}if(E=="flow"){x=new eW([12,63],0,100,"%");x.$(100)}if(E=="smth"){x=new eW([19,3,0],0,100,"%");
x.$(0)}if(E=="samp"){x=new aw([12,36],[[12,25,4],[12,25,5],[12,46]])}if(E=="wconf"){x=new aH;x.$([40,!0,!0])}if(E=="sall"){x=new jw([12,25,2])}if(E=="strn"){x=new eW([12,64],1,100,"%");
x.$(50)}if(E=="smode"){x=new aw([12,36],[[19,7,0],[19,7,1]]);x.$(1)}if(E=="pdetail"){x=new jw([12,65]);
x.Kv()}if(E=="rng"){x=new aw([12,12],[[19,6,0],[19,6,1],[19,6,2]]);x.$(1)}if(E=="expo"){x=new eW([12,5],0,100,"%");
x.$(50)}if(E=="algnd"){x=new jw([12,75]);x.$(!1)}if(E=="sfrom"){x=new aw([12,70],[[17,1],[17,3],[17,0]])}if(E=="alt"){x=new iM(null,["Alt"],!0,["Select Source"])}if(E=="qsmode"){x=new fn([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(E=="redge"){x=new cn([7,11],!1,null,!0)}if(E=="setop"){x=new aQ}if(E=="patch"){x=new fn(null,[[12,70],[12,71]])}if(E=="prsr"){x=this.yn.brush.lW}this.body.appendChild(x.e);
if(E=="prsr")continue;x.parent=this;this.yn[E]=x;if(E=="brush")x.w(u.E.A,this.a8V,this);else if(E=="redge")x.w("click",this.EV,this);
else x.w(u.E.A,this.gy,this)}}hG.prototype=new hJ;hG.prototype.ahT=function(K,E){K=K[1];var x=this.yn;
if(K.Md)x.bmode.$(db.ws.indexOf(K.Md.v.BlnM));if(K.Opct)x.opacity.$(K.Opct.v);if(K.flow)x.flow.$(K.flow.v);
if(K.Brsh)x.brush.$(K,E.ZR.qq,E.ZR.V8);if(K.FrgC){var c=W.M.Et(K.FrgC.v),J=new i3(u.E.L,!0);J.data={_:u.c.Na,ry:eu.Fa,S8:0,Z:c.o<<16|c.J<<8|c.k};
this.S(J)}this.a8V();this.gy()};hG.prototype.acf=function(){if($.I3[this.G]==null)return null;var K=this.yn,E=JSON.parse(JSON.stringify(K.brush.m()));
E.classID=$.I3[this.G][1][0];if(K.bmode)E.Md={t:"enum",v:{BlnM:db.ws[K.bmode.m()]}};if(K.opacity)E.Opct={t:"long",v:K.opacity.m()};
if(K.flow)E.flow={t:"long",v:K.flow.m()};var x=this.ll.U9;x={o:x>>>16,J:x>>>8&255,k:x&255};E.FrgC={t:"Objc",v:W.M.TD(x)};
return["Brush Preset "+E.Brsh.v.Dmtr.v.val,E]};hG.prototype.EV=function(){var K=new i3(u.E.L,!0);K.data={_:u.c.v9,xc:"redge"};
this.S(K)};hG.prototype.Sh=function(){for(var K in this.yn)this.yn[K].f()};hG.prototype.J7=function(K){if(K.ayA=="showBrushOpts"){this.yn.brush.apY(K.hP.x,K.hP.y)}for(var E in K.QN){var x=K.QN[E];
if(E!="qsmode")x*=100;if(this.yn[E])this.yn[E].$(x)}};hG.prototype.Q3=function(K,E){hJ.prototype.Q3.call(this,K,E);
this.ll=K;var x=this.yn.brush;if(x==null)return;if(E==eu.$r||E==eu.Xb)x.ly(K.ZR);if(E==eu.N7){x.$(K.ZR.Ad,K.ZR.qq,K.ZR.V8)}};
hG.prototype.a8V=function(){var K=new i3(u.E.L,!0);K.data={_:u.c.Na,ry:eu.N7,BL:this.yn.brush.m()};this.S(K)};
hG.prototype.gy=function(){var K=new i3(u.E.L,!0);K.data={_:u.c.Fx,G:this.G};for(var E in this.yn){if(E=="brush"||E=="redge")continue;
var x=this.yn[E].m();if(["opacity","flow","smth","strn","expo"].indexOf(E)!=-1)K.data[E]=x/100;else if(E=="bmode")K.data.bmode=db.bV[x];
else if(E=="bmode0")K.data.bmode=db.bV[23+x];else K.data[E]=x}this.S(K)};function gM(K,E){hJ.call(this);
if(K)return;this.yn={};for(var y=0;y<E.length;y++){var x=E[y],c=null;if(x=="binop")c=new aQ;if(x=="feat"){c=new eW([7,6],0,100,"px");
c.$(0)}if(x=="redge")c=new cn([7,11],!1,null,!0);if(x=="wconf")c=new aH;if(x=="cstr")c=new cb;if(x=="anta"){c=new jw([12,25,1]);
c.$(!0)}if(x=="sall")c=new jw([12,25,2]);if(x=="redge")c.w("click",this.EV,this);else c.w(u.E.A,this.gy,this);
c.parent=this;this.body.appendChild(c.e);this.yn[x]=c}}gM.prototype=new hJ;gM.prototype.J7=function(K){if(K.Uv!=null)this.yn.binop.$(K.Uv);
else if(K.Ix){for(var E in K.Ix)if(this.yn[E])this.yn[E].$(K.Ix[E])}else{var x=gM.io;if(x==null){var c=ag.adQ(!0);
x=gM.io=new cQ(c.items,c.d1)}x.f();x.parent=this;x.update(K.tD,K.W5);var J=new i3(u.E.L,!0);J.data={_:u.c.gF,M8:x,x:K.SQ.H9+2,y:K.SQ.HX+1};
this.S(J)}};gM.prototype.Sh=function(){for(var K in this.yn)this.yn[K].f()};gM.prototype.EV=function(){var K=new i3(u.E.L,!0);
K.data={_:u.c.v9,xc:"redge"};this.S(K)};gM.prototype.gy=function(){var K=new i3(u.E.L,!0);K.data={_:u.c.Fx,G:this.G,Ix:{}};
for(var E in this.yn)K.data.Ix[E]=this.yn[E].m();this.S(K)};function gI(){hG.call(this,["brush","strn"])}gI.prototype=new hG;
function j$(){hG.call(this,"brush bmode opacity flow smth prsr".split(" "))}j$.prototype=new hG;function jT(){hG.call(this,["brush","bmode0","samp","wconf"])}jT.prototype=new hG;
function jv(){hG.call(this,["brush"])}jv.prototype=new hG;function fB(){hG.call(this,["brush","bmode","opacity","smth","prsr"])}fB.prototype=new hG;
function e9(){hG.call(this,["brush","rng","expo"])}e9.prototype=new hG;function e_(){hG.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}e_.prototype=new hG;
function kd(K){hJ.call(this);if(K==null)return;var E=U.t("span","fitem");this.body.appendChild(E);var x=[[17,0],[17,1],[11,12,0],[17,2]];
this.U8=[];for(var y=0;y<x.length;y++){var c=new cn(x[y],!1,null,!0);this.U8.push(c);c.w("click",this.a0A,this);
if(!K||y==1)E.appendChild(c.e)}this.z1=new cb;this.z1.w(u.E.A,this.afR,this);if(!K)this.body.appendChild(this.z1.e);
this.t0=new cn([15,7,6],!1,null,!0);this.t0.w("click",this.a0A,this);if(!K)this.body.appendChild(this.t0.e);
this.k_=new jw([15,7,10]);this.k_.w(u.E.A,this.afR,this);if(!K)this.body.appendChild(this.k_.e);this.SG=new fv;
this.SG.w("click",this.Rq,this)}kd.prototype=new hJ;kd.prototype.Sh=function(){this.SG.f();for(var y=0;
y<this.U8.length;y++)this.U8[y].f();this.z1.f();this.k_.f();this.t0.f()};kd.prototype.J7=function(K){var E=this.SG.e;
if(K.yZ)this.body.appendChild(E);else if(this.body.contains(E))this.body.removeChild(E);if(K.z1)this.z1.$(K.z1)};
kd.prototype.Rq=function(K){var E={_:u.c.Fx,G:this.G,BM:this.SG.m()?"commit":"cancel"},x=new i3(u.E.L,!0);
x.data=E;this.S(x)};kd.prototype.a0A=function(K){K.target.e.blur();var E={_:u.c.Fx,G:this.G,BM:"cropby",avI:this.U8.indexOf(K.target)};
if(K.target==this.t0)E.BM="straighten";var x=new i3(u.E.L,!0);x.data=E;this.S(x)};kd.prototype.afR=function(K){var E={_:u.c.Fx,G:this.G,BM:"config",By:{vR:this.z1.m(),cJ:this.k_.m()},atY:K.target==this.z1},x=new i3(u.E.L,!0);
x.data=E;this.S(x)};function h4(){kd.call(this,!1)}h4.prototype=new kd;function gJ(){kd.call(this,!0)}gJ.prototype=new kd;
function e6(){hG.call(this,["brush","rng","expo"])}e6.prototype=new hG;function i6(){hG.call(this,"brush emode opacity flow smth prsr".split(" "))}i6.prototype=new hG;
function gB(){hG.call(this,["brush","samp","wconf"])}gB.prototype=new hG;function ce(){gM.call(this,!1,["binop","feat","anta","redge","cstr"])}ce.prototype=new gM(!0);
function hq(){hJ.call(this);var K=this.yn=[new aw([12,20,0],["1x1","3x3","5x5","11x11","31x31"]),new aw([12,70],[[17,1],[17,3],[17,0]]),new jw([12,20,1]),new jw([8,0])];
K[1].$(2);K[2].$(!0);for(var y=0;y<K.length;y++){var E=K[y];E.w(u.E.A,this.gy,this);this.body.appendChild(E.e)}}hq.prototype=new hJ;
hq.prototype.gy=function(K){var E=this.yn,x=[];for(var y=0;y<E.length;y++)x[y]=E[y].m();var c=new i3(u.E.L,!0);
c.data={_:u.c.Fx,G:this.G,Ix:x};this.S(c)};hq.prototype.Sh=function(){for(var y=0;y<this.yn.length;y++)this.yn[y].f()};
function eZ(){hJ.call(this);this.dB=new au(!1);this.dB.parent=this;this.dB.w(u.E.A,this.m1,this);this.body.appendChild(this.dB.e);
this.dB.$(JSON.parse(dz.zT.a5S).v);this.CK=new aw(null,dz.M.names.slice(0,5));this.CK.w(u.E.A,this.m1,this);
this.body.appendChild(this.CK.e);this.mf=new aw([12,19,0],db.n7,db.eP);this.mf.w(u.E.A,this.m1,this);
this.body.appendChild(this.mf.e);this.wU=new eW([12,0],0,100,"%");this.wU.parent=this;this.wU.w(u.E.A,this.m1,this);
this.body.appendChild(this.wU.e);this.wU.$(100);this.fv=new jw([12,23,0]);this.fv.w(u.E.A,this.m1,this);
this.body.appendChild(this.fv.e);this.b3=new jw([12,23,3]);this.b3.w(u.E.A,this.m1,this);this.body.appendChild(this.b3.e)}eZ.prototype=new hJ;
eZ.prototype.Sh=function(){this.CK.f();this.mf.f();this.wU.f();this.fv.f();this.b3.f()};eZ.prototype.Q3=function(K,E){hJ.prototype.Q3.call(this,K,E);
var x=E==eu.Fa;this.dB.Zx(K.U9,K.xw);if(x||E==eu.B5||E==eu.$r)this.dB.ly(K.zd)};eZ.prototype.m1=function(){var K=new i3(u.E.L,!0);
K.data={_:u.c.Fx,G:this.G};K.data.ry={M:this.dB.m(),BT:dz.M.types[this.CK.m()],jn:this.fv.dn(),kC:this.b3.dn(),a45:db.bV[this.mf.m()],S5:this.wU.m()/100};
this.S(K)};function eH(){hJ.call(this);this.xm=new jw([8,7,1]);this.body.appendChild(this.xm.e);this.xm.w(u.E.A,this.gy,this)}eH.prototype=new hJ;
eH.prototype.gy=function(){var K={_:u.c.Fx,G:this.G,GX:this.xm.m()},E=new i3(u.E.L,!0);E.data=K;this.S(E)};
function hM(){hJ.call(this);var K=U.t("span","fitem");this.body.appendChild(K);this.Y2=[new eW([12,15],-180,180,"\xB0"),new cn([1,12,2],null,null,!0)];
for(var y=0;y<this.Y2.length;y++){var E=this.Y2[y];E.parent=this;K.appendChild(E.e);E.w(y==1?"click":u.E.A,this.Wz,this)}}hM.prototype=new hJ;
hM.prototype.Sh=function(){for(var y=0;y<this.Y2.length;y++)this.Y2[y].f()};hM.prototype.J7=function(K){this.Y2[0].$(K.EK*180/Math.PI)};
hM.prototype.Wz=function(K){var E=this.Y2.indexOf(K.target),x=new i3(u.E.L,!0);x.data={_:u.c.Fx,G:this.G,EK:E==1?0:K.target.m()*Math.PI/180};
this.S(x)};function aA(){hG.call(this,["brush","algnd","sfrom","alt"])}aA.prototype=new hG;function jN(){hJ.call(this);
this.EO=new cD;this.EO.parent=this;this.body.appendChild(this.EO.Np.e);this.body.appendChild(this.EO.kN.e);
this.body.appendChild(this.EO.wc.e);this.body.appendChild(this.EO.sI.e);var K=U.t("span","fitem");this.body.appendChild(K);
K.appendChild(this.EO.Qb.e);K.appendChild(this.EO.ov.e);K.appendChild(this.EO.yS.e);this.vi=new aw("Aa",[[22,5,0],[12,95,0],[12,95,1],[12,95,2],[12,95,3]]);
this.vi.w(u.E.A,this.Rq,this);this.body.appendChild(this.vi.e);this.aL=new cn([11,9],!1,null,!0);this.aL.w("click",this.aov,this);
this.body.appendChild(this.aL.e);this.SG=new fv;this.SG.w("click",this.Rq,this)}jN.prototype=new hJ;
jN.prototype.Sh=function(){this.SG.f();this.EO.f();this.aL.f()};jN.prototype.aov=function(K){var E={_:u.c.Fx,G:this.G,BM:"showwarp"},x=new i3(u.E.L,!0);
x.data=E;this.S(x)};jN.prototype.J7=function(K){if(K.BM=="showactive")this.body.appendChild(this.SG.e);
if(K.BM=="hideactive")this.body.removeChild(this.SG.e);if(K.BM=="changeAA")this.vi.$(K.iz);if(K.BM=="showpan"){var E=[{name:[0,1],_B:!0}],x=[{Y:u.E.v,G:$.H4,F:{_:"editCurr",cA:K.cA}}],c=K.SQ;
if(K.aol){E=[{name:["VAR0: VAR1",[0,5],[7,0]],_B:!0}];x=[{Y:u.E.Hg,F:$.cx.HI(!0)}];var J=ag.a55();E=E.concat(J[0]);
x=x.concat(J[1])}E.push({name:[11,9]});x.push({Y:u.E.L,F:{_:u.c.Fx,G:this.G,BM:"showwarp"}});var i=new cQ(E,x);
i.parent=this;i.f();i.update(K.tD,K.W5);var P=new i3(u.E.L,!0);P.data={_:u.c.gF,M8:i,x:c.H9+2,y:c.HX+1};
this.S(P)}};jN.prototype.Q3=function(K,E){hJ.prototype.Q3.call(this,K,E);if(E!=eu.$r&&E!=eu.xl&&E!=eu.r8&&E!=eu.uF)return;
this.EO.$(K.H5,K.ir,K.rN)};jN.prototype.Rq=function(K){var E={_:u.c.Fx,G:this.G,BM:this.SG.m()?"commit":"cancel"};
if(K.target==this.vi){E.BM="changeAA";E.iz=this.vi.m()}var x=new i3(u.E.L,!0);x.data=E;this.S(x)};function d6(){gM.call(this,!1,["binop","feat","anta","redge"])}d6.prototype=new gM(!0);
function dn(){hJ.call(this);var K=[],x="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.Ef=new jw([12,85]);this.Ef.w(u.E.A,this.gy,this);K.push(this.Ef.e);this.aE=new aw(null,[[0,4],[0,3]]);
this.aE.w(u.E.A,this.gy,this);this.aE.$(1);K.push(this.aE.e);this.Go=new jw([20,1]);this.Go.w(u.E.A,this.gy,this);
K.push(this.Go.e);this.$b=new jw([12,83]);this.$b.w(u.E.A,this.gy,this);K.push(this.$b.e);this.yY=new fo;
this.yY.e=U.t("div","floatcont form");this.yY.e.setAttribute("style","max-width: 200px;");this.yY.parent=this;
var E=this.yY.e;this.ayK=new aw("Scale for exported files",["1x","2x","3x","4x"]);E.appendChild(this.ayK.e);
this.av=new cn(x+" PNG",!1,"Save selected layers as PNG",!0);E.appendChild(this.av.e);this.av.w("click",this.in,this);
this.ab$=new cn(x+" SVG",!1,"Save selected layers as SVG",!0);E.appendChild(this.ab$.e);this.ab$.w("click",this.in,this);
var c=new cn(x,!1,"Save selected layers",!0);K.push(c.e);c.w("click",function(a){if(U.Of(this.yY.e))return;
var j=c.e.getBoundingClientRect(),e=new i3(u.E.L,!0);e.data={_:u.c.gF,M8:this.yY,x:j.left,y:j.top+j.height,Mc:!0};
this.S(e)},this);var J=U.t("span","fitem");K.push(J);var i=U.t("span","fitem");K.push(i);this.Ow=[];
for(var y=0;y<8;y++){var P=y==3||y==7?[20,4,6]:[20,4,y<3?y:y-1],_=new cn("Hi",!1,P);(y<4?J:i).appendChild(_.e);
_.w("click",this.in,this);this.Ow.push(_)}for(var y=0;y<K.length;y++)this.body.appendChild(K[y]);this.akj=K}dn.prototype=new hJ;
dn.prototype.J7=function(K){var E=K._q,x=K.au9;this.Ef.$(E.Xg);this.Go.$(E.kO);this.$b.$(E.dM);if(x){U.w6(this.body);
for(var y=0;y<x.length;y++)if(x[y]==1&&this.akj[y])this.body.appendChild(this.akj[y])}};dn.prototype.in=function(K){var E=this.Ow.indexOf(K.target),x;
if(E==-1){x=new i3(u.E.L,!0);x.data={_:u.c.Fx,G:this.G,S8:K.target==this.av?"getPNG":"getSVG",LA:this.ayK.m()+1}}else{x=new i3(u.E.v,!0);
x.G=$.x3;x.data={_:"algn",Z:E}}this.S(x)};dn.prototype.gy=function(K){var E=new i3(u.E.L,!0);E.data={_:u.c.Fx,G:this.G,S8:"prms",Xg:this.Ef.dn(),ajZ:this.aE.m(),kO:this.Go.dn(),dM:this.$b.dn()};
this.S(E)};dn.prototype.Sh=function(){this.Ef.f();this.aE.f();this.Go.f();this.$b.f();var K="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var y=0;y<8;y++){this.Ow[y].Q1(U.fk("align/"+K[y],null,"autoscale"))}};function aW(){gM.call(this,!1,["binop","feat","redge","wconf","sall"])}aW.prototype=new gM(!0);
function fa(){hG.call(this,["setop","patch"])}fa.prototype=new hG;function gY(){hG.call(this,["setop"])}gY.prototype=new hG;
function gP(){hG.call(this,["bmode","opacity","wconf","sall"])}gP.prototype=new hG;function hW(){gM.call(this,!1,["binop","feat","anta","redge"])}hW.prototype=new gM(!0);
function eR(){gM.call(this,!1,["binop","feat","anta","redge"])}eR.prototype=new gM(!0);function fY(){gM.call(this,!1,["binop","feat","redge","cstr"])}fY.prototype=new gM(!0);
function aZ(){hJ.call(this);this.ll=null;this.eh=null;this.qy=[new ay("X",null,3.2,null,!0),new ay("Y",null,3.2,null,!0),new ay("W",null,3.2,null,!0),new ay("H",null,3.2,null,!0),new ay([12,15],"\xB0",3.7,null,!0),new ay(["VAR0 1",[12,80,0]],null,3.5,null,!0),new ay(["VAR0 2",[12,80,0]],null,3.5,null,!0),new cn([15,7,6],!1,null,!0),new cn([2,2],!1,null,!0)];
for(var y=0;y<this.qy.length;y++){var K=this.qy[y];this.body.appendChild(K.e);if(y>6)K.w("click",this.$_,this)}this.ve=0}aZ.prototype=new hJ;
aZ.prototype.$_=function(K){var E=this.qy.indexOf(K.target)==7,x=new i3(u.E.v,!0);if(E){if(this.ve==0)return;
x.G=$.Cy;x.data={_:"rot",vZ:[2,5],Z:-this.ve}}else{x.G=$.l0;for(var y=0;y<6;y++)this.qy[y].$(null)}this.S(x)};
aZ.prototype.J7=function(K){function E(_,a,j){var e=Math.sqrt(Math.pow(a.x-_.x,2)+Math.pow(a.y-_.y,2)),d=Math.sqrt(Math.pow(a.x-j.x,2)+Math.pow(a.y-j.y,2)),I=Math.sqrt(Math.pow(j.x-_.x,2)+Math.pow(j.y-_.y,2));
return Math.acos((d*d+e*e-I*I)/(2*d*e))}if(K==null)return;this.eh=K;var x=K.al5,c=K.WO,J=c.x-x.x,i=c.y-x.y;
this.ve=-Math.atan2(i,J);if(K.Gx)this.ve=E(c,x,K.Gx);var P=this.qy;P[0].$(this.RR(K,x.x));P[1].$(this.RR(K,x.y));
P[2].$(this.RR(K,J));P[3].$(this.RR(K,i));P[4].$((this.ve*180/Math.PI).toFixed(2));P[5].$(this.RR(K,iP.B4(x,c)));
if(K.Gx){P[6].$(this.RR(K,iP.B4(x,K.Gx)))}else P[6].$("")};aZ.prototype.RR=function(K,E){var x=W.uz.Vo(E,K.B8,this.ll,K.aeH,!1);
return parseFloat(x).toFixed(2)};aZ.prototype.Q3=function(K,E){this.ll=K;this.J7(this.eh)};aZ.prototype.Sh=function(){var K=this.qy;
for(var y=0;y<K.length;y++)K[y].f();U.di(K[2],K[3])};function bc(){hG.call(this,["brush","strn","pdetail"])}bc.prototype=new hG;
function dW(){hG.call(this,["brush","sfrom"]);this.apk=[];var K=[[7,12]];for(var y=0;y<K.length;y++){var E=new cn(K[y],!1,null,!0);
this.apk.push(E);E.parent=this;this.body.appendChild(E.e);E.w("click",this.a2I,this)}}dW.prototype=new hG;
dW.prototype.a2I=function(K){var E=this.apk.indexOf(K.currentTarget),x=new i3(u.E.Hg,!0);x.data=$.Hj.rM("contentAware");
this.S(x)};function bs(){hG.call(this,["brush","strn"])}bs.prototype=new hG;function e5(){hG.call(this,["brush","flow","smode"])}e5.prototype=new hG;
function eQ(){hJ.call(this);this.Pa=!1;var K=U.t("span","fitem");this.body.appendChild(K);this.Bx=new fn(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
K.appendChild(this.Bx.e);this.Bx.w(u.E.A,this.gy,this);this.JP=new cn([20,2]);this.body.appendChild(this.JP.e);
this.JP.w("click",this.aoq,this);this.VA=new cn([20,3]);this.body.appendChild(this.VA.e);this.VA.w("click",this.aoq,this);
this.xm=new jw([8,7,1]);this.body.appendChild(this.xm.e);this.xm.w(u.E.A,this.gy,this)}eQ.prototype=new hJ;
eQ.prototype.Sh=function(){this.JP.f();this.VA.f()};eQ.prototype.gy=function(){var K={_:u.c.Fx,G:this.G,Bq:this.Bx.m()==0,GX:this.xm.m()},E=new i3(u.E.L,!0);
E.data=K;this.S(E)};eQ.prototype.J7=function(K){if(this.Pa!=K.Pa)this.Bx.$(1-this.Bx.m());this.Pa=K.Pa};
eQ.prototype.aoq=function(K){var E=new i3(u.E.v,!0);E.G=$.lJ;E.data={_:"adapt",Z:K.target==this.JP?"pixel":"fitscr"};
this.S(E)};function g1(K,E){hJ.call(this);if(K==null)return;this.QA=K;this.NP={};this.af1=E;for(var y=0;
y<K.length;y++){var x=K[y],c=null;if(x=="tmode"){c=new aw(null,[[12,76,1],[12,76,0],[12,76,2]]);c.$(0);
if(E)c.aaP(2)}if(x=="make"){c=new fn("Make",[[17,2],[12,76,1]],null,!0)}if(x=="anta"){c=new jw([12,25,1]);
c.$(!0)}if(x=="binop"){c=new aw(null,[[6,13],[18,1],[18,2],[18,3],[18,4]])}if(x=="pshape")c=new aw(null,[[12,93,0],[12,93,1],[12,93,4],[12,93,2]]);
if(x=="shape")c=new kb([12,76,1]);if(x=="crad"){c=new eW([12,94,0],0,50,"px");c.$(0)}if(x=="cstr"){c=new cb}if(x=="irad"){c=new eW([12,94,1],0,100,"%");
c.$(40)}if(x=="length"){c=new eW([12,80,0],4,40);c.$(4)}if(x=="sides"){c=new eW([12,78],3,30);c.$(5)}if(x=="width"){c=new eW([12,41],1,100,"px");
c.$(5)}if(x=="tolr"){c=new eW([12,24],0,100);c.$(5)}if(x=="fstyle"){c=new f7([12,26])}if(x=="sstyle"){c=new c0}if(x=="psnap"){c=new jw([8,10])}if(x=="crnr"){c=new cn("\u2312",!1,[12,94,0],!0)}if(x=="aopts"){c=new cB;
c.$([!1,!1,50,60,0])}c.parent=this;this.body.appendChild(c.e);this.NP[x]=c;c.w(x=="crnr"?"click":u.E.A,this.gy,this)}}g1.prototype=new hJ;
g1.prototype.J7=function(K){if(K.Uv!=null)this.NP.binop.$(K.Uv);else if(K.S8=="vals")for(var E in K.a2M)this.NP[E].$(K.a2M[E]);
else{var x=g1.io;if(x==null)x=g1.io=new cQ([{name:"Remove Anchor Point",q:function(J){var i=J?J.Ox():null;
return{q:J&&i[1].length!=0&&i[0][i[1][0]].add.vmsk.Ex.length!=0}}},{name:"Remove Path",q:function(J){var i=J?J.Ox():null;
return{q:J&&i[1].length!=0&&i[0][i[1][0]].add.vmsk.g.length!=0}},_B:!0},{name:"Make Selection"},{name:[2,3]},{name:[14,9]}],[{Y:u.E.v,G:$.OF,F:{_:"remove",ps:!0}},{Y:u.E.v,G:$.Xd,F:{_:"remove"}},{Y:u.E.L,F:{_:u.c.v9,xc:"makesel"}},{Y:u.E.Hg,F:$.hS.gh(0)},{Y:u.E.Hg,F:$.hS.gh(1)}]);
x.parent=this;x.update(K.tD,K.W5);var c=new i3(u.E.L,!0);c.data={_:u.c.gF,M8:x,x:K.SQ.H9+2,y:K.SQ.HX+1};
this.S(c)}};g1.prototype.a33=function(y){return null};g1.prototype.Sh=function(){for(var K in this.NP){this.NP[K].f()}};
g1.prototype.gy=function(K){var E=new i3(u.E.L,!0),x=this.NP;if(K.target==x.crnr){E=new i3(u.E.v,!0);
E.G=$.OF;E.data={_:"crnr"}}else if(K.target==x.make){var y=K.target.m();console.log(y);if(y==0)E.data={_:u.c.v9,xc:"makesel"};
else{E=new i3(u.E.v,!0);E.G=$.ef;E.data={_:"newfill",cl:0}}}else if(K.target==x.fstyle){E.data={_:u.c.Na,ry:eu.nX,Z:x.fstyle.m()}}else if(K.target==x.sstyle){E.data={_:u.c.Na,ry:eu.fh,Z:x.sstyle.m()}}else if(K.target==x.tmode){E.data={_:u.c.Na,ry:eu.PF,Z:x.tmode.m()}}else{if(x.pshape)this.gm();
E.data={_:u.c.Fx,G:this.G};for(var c in x)E.data[c]=x[c].m()}this.S(E)};g1.prototype.gm=function(){var K=this.NP,E=K.tmode.m(),x=K.pshape?this.a33(K.pshape.m()):this.QA,c;
if(E==0)c=["anta","make"];if(E==1)c=["anta","fstyle","sstyle"];if(E==2)c=["make","binop","fstyle","sstyle"];
var J=K.binop;if(J){var i=J.m();if(E==0){J.atb(0)}else{J.aaP(0);if(i==0){J.$(1);this.gy({target:J})}}}U.w6(this.body);
for(var y=0;y<x.length;y++){var P=x[y];if(c.indexOf(P)!=-1)continue;this.body.appendChild(K[P].e)}};
g1.prototype.Q3=function(K,E){hJ.prototype.Q3.call(this,K,E);var x=this.NP.fstyle,c=this.NP.sstyle,J=this.NP.tmode;
if(x)x.Q3(K,E);if(c)c.Q3(K,E);if(E==eu.$r||E==eu.dF)if(K.nK.length!=0&&this.NP.shape){this.NP.shape.ly(K.nK)}if(E==eu.$r||E==eu.nX)if(x)x.$(null,K.Eo,K.av0);
if(E==eu.$r||E==eu.fh)if(c)c.$(null,K.q8,K.a7_);if(E==eu.$r||E==eu.PF){var i=K.Yp;if(this.af1&&i==2)i=0;
if(J){J.$(i);this.gm()}}};function bb(){g1.call(this,["tmode","make","fstyle","sstyle","binop"],!0)}bb.prototype=new g1;
function gq(){g1.call(this,"tmode make anta fstyle sstyle binop".split(" "))}gq.prototype=new g1;function di(){g1.call(this,["fstyle","sstyle"]);
this.ayB=null;this.a0u=null;this.ahE=null;this.c7=new aw([12,76,0],[[18,1],[18,2],[18,3],[18,4],[18,5]],[4]);
this.IR=new cn("\u25BC");this.IR.Kv();this.$c=new cn("\u25B2");this.$c.Kv();this.dh=[this.c7,this.IR,this.$c];
for(var y=0;y<this.dh.length;y++){var K=this.dh[y];this.body.appendChild(K.e);K.parent=this;K.w(y==0?u.E.A:"click",this.h4,this)}}di.prototype=new g1;
di.prototype.J7=function(K){if(K.BM=="main"){var E=this.dh,x=K.uA;if(x){this.a0u=x.clone();this.ahE=JSON.stringify(K.X);
var c=x.g.slice(0),J=c.length;for(var y=0;y<c.length;y++)c[y]++;c.sort(function(a,j){return a-j});E[0].gt();
E[1].Lk(J!=0);E[2].Lk(J!=0);E[0].Q1(J==0?"No Paths":J==1?"Path "+c[0]:"Paths "+c.slice(0,3).join(",")+(J>3?"..":""));
if(J!=0){var i=x.g[0],P=W.r.J2(x.i,i),_=x.i[P];this.c7.$([3,0,1,2][_.qX])}}else for(var y=0;y<E.length;
y++)E[y].s1()}else g1.prototype.J7.call(this,K)};di.prototype.Sh=function(){g1.prototype.Sh.call(this);
this.c7.f()};di.prototype.h4=function(K){if(K.target==this.c7||K.target==this.IR||K.target==this.$c){var E={},x=this.a0u,c=x.i,J=x.g,i=W.r.kT(c),P=JSON.parse(this.ahE);
J.sort(function(Q,X){return Q-X});if(K.target==this.c7){var _=this.c7.m();if(_<4)for(var y=0;y<J.length;
y++)c[W.r.J2(c,J[y])].qX=[1,2,3,0][_];else{if(i<=1)return;x.i=W.r.hz(c);x.g=x.i.length==2?[]:[0];x.Ex=[];
P=[W.X.im()]}}else{var a=K.target==this.IR?-1:1,j=[];for(var y=0;y<i;y++){var e=W.r.J2(c,y),d=e+1+c[e].length;
j.push(c.slice(e,d))}var I=J.slice(0);for(var y=0;y<J.length;y++)I[y]=Math.max(y,Math.min(i-1-(J.length-1-y),I[y]+a));
if(J.join(",")==I.join(","))return;var v=JSON.parse(JSON.stringify(P));for(var y=0;y<J.length;y++){var n=a==-1?y:J.length-1-y,e=J[n],d=I[n];
if(e!=d){var C=j[e];j[e]=j[d];j[d]=C;C=v[e];v[e]=v[d];v[d]=C}}var T=c.slice(0,2);for(var y=0;y<j.length;
y++)T=T.concat(j[y]);x.i=T;x.g=I;P=v}E.uA=x;E.X=P;var o=new i3(u.E.L,!0);o.data={_:u.c.Fx,G:this.G,WX:E};
this.S(o)}};function dV(){g1.call(this,["fstyle","sstyle","crnr","psnap"])}dV.prototype=new g1;function at(){g1.call(this,"tmode make anta fstyle sstyle binop cstr crad".split(" "))}at.prototype=new g1;
function by(){g1.call(this,"tmode make anta fstyle sstyle binop cstr".split(" "))}by.prototype=new g1;
function jb(){g1.call(this,"tmode make anta fstyle sstyle binop pshape sides irad crad width aopts length".split(" "));
this.NP.aopts.$([!1,!0,50,60,0])}jb.prototype=new g1;jb.prototype.a33=function(y){var K=[["sides","crad"],["sides","irad","crad"],["width","aopts"],["length"]];
return"tmode make fstyle sstyle binop pshape".split(" ").concat(K[y])};function fp(){g1.call(this,"tmode make anta fstyle sstyle binop width aopts".split(" "))}fp.prototype=new g1;
function d$(){g1.call(this,"tmode make anta fstyle sstyle binop cstr shape".split(" "))}d$.prototype=new g1;
function f$(){gM.call(this,!1,["binop","feat","redge"])}f$.prototype=new gM(!0);function g2(){hG.call(this,["brush","qsmode","redge"])}g2.prototype=new hG;
function c9(){hJ.call(this);this.YV=[];for(var y=0;y<2;y++){var K=new cn(y==0?[8,11,3]:["VAR0...",[15,10,22]],null,null,!0);
this.YV.push(K);K.w("click",this.h4,this);this.body.appendChild(K.e)}}c9.prototype=new hJ;c9.prototype.h4=function(K){var E;
if(this.YV.indexOf(K.target)==0){E=new i3(u.E.Hg,!0);E.data={va:"make",Ks:{__name:"Make",classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"slice"}}]},Usng:{t:"type",v:{classID:"Gd"}}}}}else{E=new i3(u.E.L,!0);
E.data={_:u.c.v9,xc:"divslice"}}this.S(E)};c9.prototype.Sh=function(K){for(var y=0;y<this.YV.length;
y++)this.YV[y].f()};function eC(){hJ.call(this);var K=this.WM=[new cn("\u25BC",null,null,!0),new cn("\u25B2",null,null,!0),new cn([5,4],null,null,!0),new cn(["VAR0...",[15,10,22]],null,null,!0)];
for(var y=0;y<4;y++){var E=K[y];this.body.appendChild(E.e);E.w("click",this.h4,this)}}eC.prototype=new hJ;
eC.prototype.h4=function(K){var E=this.WM.indexOf(K.target),x;if(E==3){x=new i3(u.E.L,!0);x.data={_:u.c.v9,xc:"divslice"}}else{x=new i3(u.E.v,!0);
x.G=$.n8;x.data={_:E==2?"delete":"reorder",dir:E==0?-1:1}}this.S(x)};eC.prototype.f=function(){hJ.prototype.f.call(this);
for(var y=0;y<4;y++)this.WM[y].f()};function cY(K,E){hJ.call(this);if(window.Typr==null||K)return;this.ao6=E;
this.Zp=null;this.avO=U.t("span","");this.aob=U.t("span","");var x=1;this.pS={If:new dt(null,24),aM:new eW("X",0,0,"px",0,!1,!0,4),vb:new eW("Y",0,0,"px",0,!1,!0,4),Kf:new eW("W",0,0,["%","px"],2,!1,!0,5),cF:new cn("<img src=\""+PIMG["lrs/link"]+"\" class=\"autoscale gsicon\" />",null,[12,51],null),tx:new eW("H",0,0,["%","px"],2,!1,!0,5),as2:new eW("\u2221",0,0,"\xB0",x,!1,!0),akZ:new eW("\u25B1 H",-85,85,"\xB0",x,!1,!0),anw:new eW("\u25B1 V",-85,85,"\xB0",x,!1,!0),Uh:new aw(null,[[12,14,2],[12,14,3],"Bicubic Sharper"])};
this.pS.Uh.$(1);this.pS.cF.$(!0);for(var c in this.pS){var J=this.pS[c];if(E&&(J==this.pS.as2||J==this.pS.akZ||J==this.pS.anw||J==this.pS.Uh)){}else this.avO.appendChild(J.e);
var i=J==this.pS.cF?"click":u.E.A;J.w(i,this.awE,this)}this.Y0=new ha(!0,!0,!0);this.Y0.w(u.E.A,this.a03,this);
this.Y0.parent=this;var P=this.aob,_=this.Y0;P.appendChild(_.IB.e);P.appendChild(_.K1.e);P.appendChild(_.dW.e);
P.appendChild(_.Yw.e);P.appendChild(_.cw.e);this.aL=new cn([11,9]);this.aL.w("click",this.ab3,this);
this.SG=new fv;this.SG.w("click",this.Rq,this)}cY.prototype=new hJ;cY.prototype.J7=function(K){if(K.SQ){var E=cY,x=this.io;
if(x==null)x=this.io=new cQ(E.ayg(),E.afU(this.G));x.f();x.parent=this;x.update(K.tD,K.W5);var c=new i3(u.E.L,!0);
c.data={_:u.c.gF,M8:x,x:K.SQ.H9+2,y:K.SQ.HX+1};this.S(c);return}U.w6(this.body);this.Zp=K;if(K.pS){var J=K.pS.ZE,i=K.pS.rS.clone(),P=Math.atan2(-i.k,i.Cc),_=new iQ;
_.rotate(-P);i.concat(_);var a=this.pS;a.If.$(K.pS.vu);a.aM.$(K.pS.mJ.x);a.vb.$(K.pS.mJ.y);a.Kf.$(i.Cc*(a.Kf.mG()=="%"?100:J.b));
a.tx.$(i.Ga*(a.tx.mG()=="%"?100:J.n));a.as2.$(-P*180/Math.PI);a.akZ.$(Math.atan(i.o0/i.Ga)*180/Math.PI);
a.anw.$(0*180/Math.PI);this.body.appendChild(this.avO);this.aL.tg();if(K.pS.MX!=null)a.cF.$(K.pS.MX)}if(K.jt){this.Y0.$(K.jt);
this.body.appendChild(this.aob);this.aL.Kv()}this.body.appendChild(this.SG.e);if(K.a9J&&!this.ao6)this.body.appendChild(this.aL.e)};
cY.prototype.awE=function(K){var E=this.pS,x=this.Zp.pS.ZE;if(K.target==E.cF)E.cF.$(!E.cF.m());else if(E.cF.dn()){var c=E.tx,J=E.Kf,i=x.n,P=x.b;
if(K.target==E.Kf){c=E.Kf;J=E.tx;i=x.b;P=x.n}var _=c.m()/(c.mG()=="%"?100:i);_*=J.mG()=="%"?100:P;J.$(_)}var a=[];
for(var j in E)if(E[j]!=E.cF&&E[j]!=E.If){var _=E[j].m();if((E[j]==E.Kf||E[j]==E.tx)&&_==0){_=.1;E[j].$(_)}if(E[j]==E.Kf&&E[j].mG()=="px")_/=x.b/100;
if(E[j]==E.tx&&E[j].mG()=="px")_/=x.n/100;a.push(_)}var e=new iP(a[0],a[1]);if(K.target==E.If){this.IO({BM:"ctyp",vu:E.If.m()})}else if(K.target==E.aM||K.target==E.vb){this.IO({BM:"cen",mJ:e})}else{var d=this.Zp.pS.rS.clone(),I=d.clone(),v=Math.atan2(-d.k,d.Cc);
I.translate(-e.x,-e.y);I.rotate(-v);var n=new iQ(I.Cc,I.k,I.o0,I.Ga,0,0);n.Pa();I.concat(n);var C=a[2]/100,T=a[3]/100;
I.concat(new iQ(C,C*Math.tan(a[6]*Math.PI/180),T*Math.tan(a[5]*Math.PI/180),T,0,0));I.rotate(-a[4]*Math.PI/180);
I.translate(e.x,e.y);this.Zp.pS.rS=I;this.IO({BM:"trn",pS:I,OR:this.pS.Uh.m(),MX:E.cF.m()})}};cY.prototype.a03=function(K){this.IO({BM:"wrp",jt:this.Y0.m()})};
cY.prototype.ab3=function(K){this.IO({BM:"switchWarp"})};cY.prototype.Rq=function(K){this.IO({BM:this.SG.m()?"commit":"cancel"})};
cY.prototype.IO=function(K){K._=u.c.Fx;K.G=this.G;var E=new i3(u.E.L,!0);E.data=K;this.S(E)};cY.prototype.Sh=function(){var K=this.pS;
for(var E in K)K[E].f();U.di(K.Kf,K.tx);this.SG.f();this.Y0.f();this.aL.f()};cY.ayg=function(){var K=function(E){var x=!0;
if(E==null||E.g.length==0)x=!1;else{var c=E.g;for(var y=0;y<c.length;y++){if(E.B[c[y]].add.TySh)x=!1}}return{q:x}};
return[{name:[5,9],S3:"Shift+Alt+Ctrl + T",_B:!0},{name:[12,38]},{name:[2,5]},{name:[24,4],q:K},{name:[2,9],q:K},{name:[11,9],q:function(E){if(E==null||E.g.length!=1)return{q:!1};
var x=E.B[E.g[0]];return{q:x.add.TySh==null&&!x.wC()}},_B:!0},{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]};
cY.afU=function(K){if(K==null)K=$.Cy;return[{Y:u.E.v,G:K,F:{_:"again"}},{Y:u.E.L,F:{_:u.c.iM,G:K,_q:{no:3}}},{Y:u.E.L,F:{_:u.c.iM,G:K,_q:{no:4}}},{Y:u.E.L,F:{_:u.c.iM,G:K,_q:{no:2}}},{Y:u.E.L,F:{_:u.c.iM,G:K,_q:{no:1}}},{Y:u.E.L,F:{_:u.c.iM,G:K,_q:{no:-1}}},{Y:u.E.Hg,F:$.Xq.JG(!0,90,!0)},{Y:u.E.Hg,F:$.Xq.JG(!0,-90,!0)},{Y:u.E.Hg,F:$.Xq.JG(!0,-180,!0)},{Y:u.E.Hg,F:$.Xq.JG(!1,"Hrzn",!0)},{Y:u.E.Hg,F:$.Xq.JG(!1,"Vrtc",!0)}]};
function dY(){cY.call(this)}dY.prototype=new cY(!0);function hy(){cY.call(this)}hy.prototype=new cY(!0);
function cZ(){cY.call(this,!1,!0)}cZ.prototype=new cY(!0);function fy(){hJ.call(this);var K=this.QA=[new aw([12,36],["Rigid",[15,10,0],[24,4]]),new aw([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new eW([7,4],0,100,"px"),new jw("Show Mesh"),new cn("\u25BC",null,null,!0),new cn("\u25B2",null,null,!0)];
for(var y=0;y<K.length;y++){var E=K[y];E.parent=this;this.body.appendChild(E.e);E.w(y<4?u.E.A:"click",this.arZ,this)}this.SG=new fv;
this.SG.w("click",this.Rq,this);this.body.appendChild(this.SG.e)}fy.prototype=new hJ;fy.prototype.Sh=function(){var K=this.QA;
for(var y=0;y<4;y++)K[y].f();this.SG.f()};fy.prototype.J7=function(K){var K=K.ry;for(var y=0;y<4;y++)this.QA[y].$(K[y])};
fy.prototype.arZ=function(K){var E=[];for(var y=0;y<4;y++)E[y]=this.QA[y].m();var x=this.QA.indexOf(K.target);
if(x<4)this.IO({BM:"prm",ry:E});else this.IO({BM:"moveDepth",aib:x==5})};fy.prototype.Rq=function(K){this.IO({BM:this.SG.m()?"commit":"cancel"})};
fy.prototype.IO=function(K){K._=u.c.Fx;K.G=this.G;var E=new i3(u.E.L,!0);E.data=K;this.S(E)};function gv(){fo.call(this);
this.e=U.t("div","cmanager");window.alert=function(c,J){this.aoA(c,J);console.log("Alert: "+c)}.bind(this);
window.onblur=function(c){var J=this;J.cr()}.bind(this);this.pz=0;this.o4=0;this.t6=[];this.xM={};this.Ze=U.t("div","alertcont");
this.e.appendChild(this.Ze);this.anC=U.t("div","alertcont");this.e.appendChild(this.anC);this.uc=U.t("div","alertcont");
this.ajU=0;this.El=-1;this.azW=null;this.YV=null;var K=this.aav=U.t("div","alertpanel");K.setAttribute("style","padding:0.7em 1em 0.1em 1em;");
this.uc.appendChild(K);var E=this.ZV=U.t("input");E.setAttribute("type","text");U.sr(E);E.setAttribute("style","background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
E.addEventListener("input",this.a6g.bind(this),!1);E.addEventListener("keydown",this.ax3.bind(this),!1);
K.appendChild(E);var x=this.a7g=U.t("div","contextpanel scrollable");x.setAttribute("style","text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
x.addEventListener("click",this.ako.bind(this),!1);K.appendChild(x);U.gw(document.body,this.aap.bind(this))}gv.prototype=new fo;
gv.prototype.dK=function(){if(U.Of(this.uc))this.e.removeChild(this.uc)};gv.prototype.axu=function(K,E){var x=this.azW=[],c=E.anP;
for(var y=0;y<ag.data.length;y++){var J=ag.data[y],i=[hg.get(J.name)],P=[y];gv.a7e(J.items,i,P,x,K,E,c==null?null:c[y]==null?0:c[y])}var _=cL.a;
for(var y=0;y<_.length;y+=3){if(E.Lf&&E.Lf.indexOf(_[y+2])==-1)continue;x.push([["Tools",hg.get(_[y])],[-1,_[y+2]],_[y+1]])}this.e.appendChild(this.uc);
var a=this.ZV;a.focus();a.select();this.I5()};gv.prototype.a6g=function(K){this.El=-1;this.I5()};gv.prototype.I5=function(){var K=this.ZV.value.toLowerCase().trim().replace(/  +/g," "),E=this.azW,x=[],c=[],J=K.split(" ");
if(K!="")for(var y=0;y<E.length;y++){var i=E[y][0],P=[],_=0;for(var a=0;a<i.length;a++)P[a]=-1;for(var j=0;
j<J.length;j++)for(var a=0;a<i.length;a++){var e=i[a].toLowerCase().indexOf(J[j]);if(e!=-1){P[a]=[e,e+J[j].length];
_++;break}}if(_==J.length){x.push(E[y]);c.push(P)}}var d=[],I=this.a7g;U.w6(I);for(var y=0;y<x.length;
y++){var v=x[y],n=v[0],e=c[y],C="enab",o="";if(y==this.El)C+=" active";var T=U.t("div",C);d.push(T);
I.appendChild(T);for(var a=0;a<n.length;a++){var s=e[a],Q=J[a],X=n[a];if(s!=-1)X=X.slice(0,s[0])+"<span style=\"color:black\">"+X.slice(s[0],s[1])+"</span>"+X.slice(s[1]);
o+=X;if(a<n.length-1)o+=" \uFE65 "}if(v[2]&&(typeof v[2]!="string"||v[2].length==1))o+=" <span style=\"border:1px solid; margin-left:16px; padding:1px 5px; border-radius:5px; background-color:#f4f4f4;\">"+j6.ju(v[2])+"</span>";
T.innerHTML=o}this.YV=[x,d]};gv.prototype.ax3=function(K){var E=j6.MQ,x=K.code;if(E(x,j6.go))this.dK();
var c=E(x,j6.Wp),J=E(x,j6.YD),i=E(x,j6.Tt);if(c||J){this.El=Math.max(0,Math.min(this.YV[0].length-1,this.El+(c?-1:1)));
this.I5()}if(i&&this.El!=-1)this.azy(this.El)};gv.a7e=function(K,E,x,c,J,i,P){if(typeof P=="number"){if(P==0)return;
if(P==1)P=null}for(var y=0;y<K.length;y++){if(P!=null&&(P[y]==0||P[y]==null))continue;var _=K[y],a=E.slice(0),j=x.slice(0),e=hg.get(_.name);
if(_.q){var d=_.q(J,i,y);if(d.uw)e=d.uw;if(d.q==!1)continue}a.push(e);j.push(y);if(_.sub)gv.a7e(_.sub,a,j,c,J,i,P?P[y]:null);
else c.push([a,j,_.S3])}};gv.prototype.ako=function(K){var E=K.target;if(E.tagName.toLowerCase()=="span")E=E.parentNode;
var x=this.YV[1].indexOf(E);if(x!=-1)this.azy(x)};gv.prototype.azy=function(K){var E=this.YV[0][K][1];
if(E[0]==-1){var x=new i3(u.E.L,!0);x.data={_:u.c.iM,G:E[1]};this.S(x)}else{var c=ag.data[E[0]].d1[E[1]];
for(var y=2;y<E.length;y++)c=c.sub[E[y]];var J=new i3(c.Y,!0);J.G=c.G;J.data=c.F;this.S(J)}this.dK()};
gv.prototype.nt=function(K,E){this.pz=K;this.o4=E;this.a7g.style["max-height"]=E-120+"px"};gv.prototype.aiy=function(K){var E=U.t("div","alertpanel");
E.textContent=hg.get(K);this.Ze.appendChild(E);this.xM[JSON.stringify(K)]=E};gv.prototype.a3y=function(K){var E=this.xM[JSON.stringify(K)];
this.Ze.removeChild(E);delete this.xM[JSON.stringify(K)]};gv.prototype.aoA=function(K,E){var x=this.anC;
for(var y=0;y<x.children.length;y++)if(x.children[y].textContent==K)return;var c=U.t("div","alertpanel tpanel");
c.textContent=K;c.setAttribute("style","opacity:0.5; transform:scale(0.9)\t");x.appendChild(c);if(E==null)E=1500;
var J=E,i=Math.max(Date.now()+J,this.ajU+J);setTimeout(function(){c.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){x.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},i-Date.now()-30);
setTimeout(function(){x.removeChild(x.firstChild);x.setAttribute("style","transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")},i-Date.now());
this.ajU=i};gv.prototype.aap=function(K){var E=this.t6;for(var y=E.length-1;y>=0;y--){var x=E[y],c=K.target;
while(c!=null){if(c==x.e){this.cr(x);return}c=c.parentNode}}this.cr();var J=K.target;while(J!=this.uc&&J!=document.body)J=J.parentNode;
if(J!=this.uc)this.dK()};gv.prototype.cr=function(K){var E=this.t6;for(var y=0;y<E.length;y++){if(K&&K.abG(E[y]))continue;
var x=E[y].e;if(!(E[y]instanceof cQ))U.qj(E[y],this.e);else this.e.removeChild(x);x.style.height="auto";
U.gz(x,"scrollable");E.splice(y,1);y--}};gv.prototype.am2=function(K){this.cr(K.M8);var E=K.M8,x=E.e;
if(this.t6.indexOf(E)!=-1)return;this.t6.push(E);this.e.appendChild(x);var c=this.pz,J=this.o4,i=K.x,P=K.y,_=this.e.getBoundingClientRect(),a=E instanceof cQ,j=-1,e=J-2;
if(a||K.Mc){var d=E.jL(),I=E.ah5();if(a)d=Math.min(d,200);var v=c-d-2,n=J-I-2;if(P<n)j=2;else if(i<v)j=1;
else if(0<P-I-2)j=0;else j=3;if(K.ano)j=0;if(K.an4)j=2;if(j==2){i=Math.min(i,v)}else if(j==1){P=Math.min(P,n)}else if(j==0){P=P-I-2;
i=Math.min(i,v);e=K.y}else if(j==3){i=i-d-2;P=Math.min(P,n)}}P=Math.max(2,P);var top=Math.round(P-_.y+this.e.offsetTop);
x.style.position="absolute";x.style["z-index"]=10;if(P+E.ah5()>e){x.style.height=e-P+"px";U.sy(x,"scrollable");
if(j==3)i-=10}x.style.left=Math.round(i)+"px";x.style.top=top+"px";if(!(E instanceof cQ))U.Nz(E)};gv.prototype.a1$=function(K){var E=K.M8,x=this.t6.indexOf(E);
if(x==-1)return;this.t6.splice(x,1);var c=E.e;if(!(E instanceof cQ))U.qj(E,this.e);else this.e.removeChild(E.e)};
gv.prototype.Nl=function(){var K=this.t6;return K.length==0?null:K[K.length-1]};gv.prototype.ab1=function(){this.a1$({M8:this.Nl()})};
function jo(){fo.call(this);this.e=U.t("div","confbar")}jo.prototype=new fo;jo.prototype.a9x=function(K){K.parent=this;
U.w6(this.e);this.e.appendChild(K.e)};function hP(K){fo.call(this);hP.ic=this;hP.II=K;this.ll=null;this.vd=U.t("input","");
this.vd.setAttribute("type","file");this.vd.setAttribute("multiple","");this.vd.addEventListener("change",function(E){this.mv(E.target.files,null,this.po,null);
this.po=null}.bind(this),!1);document.body.appendChild(this.vd);this.vd.setAttribute("style","display:none");
this.auZ=[];this.XA=!1;this.avx=[];this.hd=!1;this.azb={};this.po=null}hP.prototype=new fo;hP.II=null;
hP.V1=function(K){try{var E={};E[K.type]=K;navigator.clipboard.write([new ClipboardItem(E)])}catch(hg){console.error(hg,hg.message)}};
hP.Rf=function(K,E){navigator.clipboard.read().then(function(x){for(var y=0;y<x.length;y++){try{var c=x[y],J={},i=0,P=0;
for(var _=0;_<c.types.length;_++){var a=c.types[_];i++;c.getType(a).then(function(j){var e=a;new Response(j).arrayBuffer().then(function(d){J[this.cl]=d;
P++;if(P==i)hP.atz(J,K,E)}.bind({cl:this.cl}))}.bind({cl:a}))}}catch(hg){console.error(hg,hg.message)}}}).catch(function(x){})};
hP.a2m=function(K){navigator.permissions.query({name:"clipboard-read"}).then(function(E){K(E.state)})};
hP.atz=function(K,E,x){var c=["text/plain","image/png","text/html","text/plain"];for(var J in K)console.log(J,J.startsWith("text")?R.__(new Uint8Array(K[J])).slice(0,100)+"...":K[J]);
for(var i=0;i<c.length;i++){var P=c[i],_=K[P];if(_==null)continue;if(P=="image/png"){hP.II({name:"image.png"},_,E,x);
return}if(P=="text/plain"){var a=R.__(new Uint8Array(_));if(i==0)if(!a.startsWith("<!--")&&!a.startsWith("<svg"))continue;
if(x&&a.startsWith("<svg"))continue;var j=new i3(u.E.L,!0);j.data={_:u.c.agL,Z:a};E.S(j);return}if(P=="text/html"){var a=R.__(new Uint8Array(_)),e=a.indexOf("src=\"");
if(e!=-1&&a.slice(e+5,e+9)!="http"){var d=e+10;while(a[d]!="\"")d++;var I=a.slice(e+5,d);hP.II({name:"chart.png"},gr.ek(I).buffer,E,x);
return}}}};hP.prototype.vE=function(K){if(K==null)K=[23,5];var E=JSON.stringify(K),x=this.azb;if(x[E]==null)x[E]=0;
if(x[E]==0){var c=new i3(u.E.L,!0);c.data={_:u.c.B6,kB:K};this.S(c)}x[E]++};hP.prototype.$l=function(K){if(K==null)K=[23,5];
var E=JSON.stringify(K),x=this.azb;if(x[E]==null)x[E]=0;x[E]--;if(x[E]==0){var c=new i3(u.E.L,!0);c.data={_:u.c.Di,kB:K};
this.S(c)}};hP.prototype.ai_=function(K,E){this.po=K;var x=window.showOpenFilePicker;if(x&&window.self==window.top){var c=this;
x({multiple:!0}).then(function(P){var _=[];function a(j){_.push(j);if(_.length==P.length){c.mv(_,null,c.po,null,P);
c.po=null}else P[_.length].getFile().then(a)}P[_.length].getFile().then(a)});return}var J=this.vd;if(E)J.setAttribute("accept",E);
else J.removeAttribute("accept");var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
J.dispatchEvent(i)};hP.prototype.J6=function(K){if(K.url.indexOf("photopea.com#i")!=-1||K.url.indexOf("photopea.com/#i")!=-1){this.VO(K.url.split("#i").pop());
return}this.auZ.push(K);this.a2x()};hP.prototype.a2x=function(){var K=this.auZ;if(K.length==0||this.XA)return;
this.XA=!0;var E=K.shift();this.vE();if(E.bA==null)E.bA={};var x=new XMLHttpRequest;x.sS=E;var c=E.url;
if(E.RX&&!c.startsWith("data:image"))c=(c);x.open("GET",c);if(E.R8)for(var J in E.R8)x.setRequestHeader(J,E.R8[J]);
x.responseType="arraybuffer";x.onload=this.abE.bind(this);x.send()};hP.prototype.mv=function(K,E,x,c,J){for(var y=0;
y<K.length;y++){this.vE();var i=K[y],P=new FileReader;P.sS=i;P.sS.p6=x;P.sS.GM=c;P.a2U=E;if(J)P.sS._F=J[y];
P.onload=this.abE.bind(this);P.onerror=function(_){this.$l()}.bind(this);this.avx.push([P,i])}this.vd.value=null;
this.afb()};hP.prototype.afb=function(){var K=this.avx;if(K.length==0||this.hd)return;this.hd=!0;var E=K.shift();
E[0].readAsArrayBuffer(E[1])};hP.prototype.ay8=function(K,E,x){this.vE("Saving ...");this.ll=E;setTimeout(x.bind({z9:K,caller:this}),50)};
hP.FE=function(K){var E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",x=new Uint8Array(K),c=x.length,J=c%3,i=c-J,P=[],_=0,a=0,j=0;
for(var y=0;y<i;y+=3){_=x[y];a=x[y+1];j=x[y+2];P.push(E[_>>2]+E[(_&3)<<4|a>>4]+E[(a&15)<<2|j>>6]+E[j&63])}if(J==1){_=x[i];
P.push(E[_>>2]+E[(_&3)<<4]+"==")}if(J==2){_=x[i];a=x[i+1];P.push(E[_>>2]+E[(_&3)<<4|a>>4]+E[(a&15)<<2]+"=")}var e=P.join("");
return e};hP.a4K=function(K,E){var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=new Uint8Array(64),_=0,a=0,j=0,d=0;
for(var y=0;y<64;y++)c[y]=x.charCodeAt(y);var J=new Uint8Array(K),i=E%3,P=E-i,e=new Uint8Array(Math.floor(E/3)*4+(i==0?0:4));
for(var y=0;y<P;y+=3){_=J[y];a=J[y+1];j=J[y+2];e[d]=c[_>>>2];e[d+1]=c[(_&3)<<4|a>>>4];e[d+2]=c[(a&15)<<2|j>>>6];
e[d+3]=c[j&63];d+=4}if(i==1){_=J[P];e[d]=c[_>>2];e[d+1]=c[(_&3)<<4];e[d+2]=61;e[d+3]=61}if(i==2){_=J[P];
a=J[P+1];e[d]=c[_>>2];e[d+1]=c[(_&3)<<4|a>>4];e[d+2]=c[(a&15)<<2];e[d+3]=61}return e};hP.prototype.abE=function(K){var E,x=K.target.sS;
if(K.target instanceof XMLHttpRequest)E=K.target.response;else E=K.target.result;hP.II(x,E,this,K.target.a2U);
this.$l();if(K.target instanceof XMLHttpRequest){this.XA=!1;this.a2x()}else{this.hd=!1;this.afb()}};
hP.anN=function(K,E){var x=new XMLHttpRequest;x.open("POST","https://api.imgur.com/3/image",!0);x.cf=E;
x.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");x.setRequestHeader("Content-type","application/x-www-form-urlencoded");
x.setRequestHeader("Accept","application/json");x.addEventListener("load",hP.a8v);x.send("type=base64&image="+encodeURIComponent(hP.FE(K)));
alert("Saving to Imgur ...",4e3)};hP.a8v=function(K){var E=JSON.parse(K.target.response);if(E.success){if(K.target.cf)K.target.cf(E.data.link);
else window.open(E.data.link,"Imgur")}};hP.prototype.VO=function(K,E,x){this.vE();var c=new XMLHttpRequest;
c.responseType="arraybuffer";c.open("GET","https://f000.backblazeb2.com/file/"+(x?"pp-resources":"psdshared")+"/"+K);
c.onload=this.asr.bind(this);c.send();c.eh=[Date.now(),K,E?K:null,x]};hP.prototype.asr=function(K){var E=K.target.eh,x=new Uint8Array(K.target.response);
console.log(x.length+" B,",Date.now()-E[0]+" ms");for(var y=0;y<x.length;y++)x[y]=255-x[y];x=pako.inflateRaw(x);
var c=JSON.parse(R.__(x,0,2e3));hP.II({name:c.name,RJ:E[2]},x.slice(2e3).buffer,this);this.$l();if(!E[3])hP.$n("act=0&id="+E[1])};
hP.prototype.agl=function(K,E,x,c){if(!(K instanceof ArrayBuffer))throw"e";K=new Uint8Array(K);var J=new Uint8Array(K.length+2e3),I="";
for(var y=0;y<2e3;y++)J[y]=32;R.g$(JSON.stringify({name:E}),J,0);J.set(K,2e3);K=J;K=pako.deflateRaw(K);
for(var y=0;y<K.length;y++)K[y]=255-K[y];K=K.buffer;var i=K.byteLength,P=ew.ev(i),_=~~(609e5/2),a=~~(209e5/2);
if(i>_){confirm("Your file is "+P+". Our limit is "+ew.ev(_)+". Delete some layers and try again.");
return}if(i>a){var j=confirm("Your file is quite large ("+P+"). Opening it will take a lot of time. Do you still want to proceed?");
if(!j)return}var e=sha1(K),d=[];for(var y=0;y<20;y++){var v=parseInt(e.slice(y*2,y*2+2),16);d.push(v);
I+=String.fromCharCode(v)}var n=btoa(I).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);if(hP.aik(n,c)){console.log("file already exists");
if(x)x(n);else window.open("https://www.photopea.com#i"+n);return}this.vE("Publishing ...");var C=new XMLHttpRequest;
C.eh=[K,e,n,x,c];C.open("GET","/papi/img/publish.php?rnd="+Math.random()+"&id="+n+"&size="+i+"&bname="+c);
C.onload=this.atH.bind(this);C.send()};hP.aik=function(K,E){try{var x=new XMLHttpRequest;x.open("HEAD","https://f000.backblazeb2.com/file/"+E+"/"+K,!1);
x.send();if(x.status==200)return!0}catch(hg){return!1}return!1};hP.prototype.atH=function(K){console.log(K.target.response);
var E=JSON.parse(K.target.response),x=K.target.eh,c=new XMLHttpRequest;c.open("POST",E.uploadUrl);c.setRequestHeader("Authorization",E.authorizationToken);
c.setRequestHeader("X-Bz-File-Name",x[2]);c.setRequestHeader("Content-Type","b2/x-auto");c.setRequestHeader("X-Bz-Content-Sha1",x[1]);
c.send(new Blob([x[0]]));c.onload=this.a3v.bind({H3:this,eh:x})};hP.prototype.a3v=function(K){this.H3.$l("Publishing ...");
if(this.eh[3])this.eh[3](this.eh[2]);else window.open("https://www.photopea.com#i"+this.eh[2]);if(this.eh[4]=="psdshared")hP.$n("act=2&id="+this.eh[2]+"&fileId="+JSON.parse(K.target.response).fileId)};
hP.$n=function(K){var E=new XMLHttpRequest;E.open("GET","/papi/img/update.php?"+K+"&rnd="+Math.random());
E.send()};hP.save=function(K,E){var x=new Uint8Array(K),c=document.createElement("a");if(typeof c.download=="string"){var J=new Blob([x]),i=window.URL.createObjectURL(J);
c.href=i;c.download=E;document.body.appendChild(c);c.click();document.body.removeChild(c)}else{var P="data:application/octet-stream;base64,"+hP.FE(K);
window.open(P)}};function hK(){this.size=16;this.data=W.Q(16)}hK.prototype.UY=function(K,E){if(K+E<=this.size)return;
var x=this.size;while(K+E>this.size)this.size*=2;var c=W.Q(this.size);for(var y=0;y<x;y++)c[y]=this.data[y];
this.data=c};var j2={};j2.xf=function(K,E,x){var c=E.split(":"),J=c[0],i=null;if(c.length==2){if(J=="jpg")i=[Math.round(100*parseFloat(c[1]))];
if(J=="webp")i=[Math.round(100*parseFloat(c[1])),100,0,!1,!1];if(J=="psd")i=[!0,!0];if(J=="svg")i=c[1].split(",").map(function(_){return _=="true"})}var P=gr.ca(K,J.toUpperCase(),null,null,i,x);
return P};j2.ai1=function(K,E,x){var c=K.S7(),J=E[0];return j2.xf(K,J,x)};j2.a8N=function(){var K=this.z9,E=this.caller,x=K.bA.xO,c=x.formats,J,i;
K.S7();var P=Date.now();if(x.version==1){var _=[],a=0,e=0;for(var y=0;y<c.length;y++){var j=j2.xf(K,c[y],E.ll);
_.push(j);a+=j.byteLength}J=new Uint8Array(2e3+a);var d="{ \"source\": "+JSON.stringify(K.pM)+", \"versions\": [\n";
for(var y=0;y<c.length;y++){var I=new Uint8Array(_[y]);d+="\t{\"format\": \""+c[y].split(":")[0]+"\", \"start\": "+e+", \"size\": "+I.length+" }"+(y+1<c.length?", ":"")+"\n";
J.set(I,2e3+e);e+=_[y].byteLength}d+="] }";var v=R.g$(d,J,0);for(var y=v;y<2e3;y++)J[y]=32;i="application/octet-stream"}else{var n=new hK,C=0,T="",o=encodeURIComponent;
T="p="+o("{ \"source\": "+JSON.stringify(K.pM)+", \"versions\": [");R.O1(n,C,T);C+=T.length;for(var y=0;
y<c.length;y++){T=o(" {\"format\": \""+c[y].split(":")[0]+"\", \"data\": \"");R.O1(n,C,T);C+=T.length;
var j=j2.xf(K,c[y],E.ll),s=hP.a4K(j,j.byteLength),v=s.length;n.UY(C,v);for(var Q=0;Q<v;Q++){n.UY(C,3);
var X=s[Q];if(X==43){n.data[C]=37;n.data[C+1]=50;n.data[C+2]=66;C+=3}else if(X==47){n.data[C]=37;n.data[C+1]=50;
n.data[C+2]=70;C+=3}else if(X==61){n.data[C]=37;n.data[C+1]=51;n.data[C+2]=68;C+=3}else{n.data[C]=X;
C++}}T=o("\" }"+(y+1<c.length?", ":""));R.O1(n,C,T);C+=T.length}T=o("] }");R.O1(n,C,T);C+=T.length;J=n.data.slice(0,C);
i="application/x-www-form-urlencoded"}var B=new XMLHttpRequest;B.open("POST",x.url,!0);if(i)B.setRequestHeader("Content-Type",i);
B.addEventListener("load",j2.aju.bind(this));B.send(new Blob([J.buffer]))};j2.aju=function(K){this.caller.$l("Saving ...");
var E=K.target.response;if(E.charAt(0)=="{"){E=JSON.parse(E);if(E.newSource)this.z9.pM=E.newSource;if(E.message)alert(E.message,2e3);
if(E.script){var x=new i3(u.E.L,!0);x.data={_:u.c.nO,RI:E.script};this.caller.S(x)}}else alert("Saved. Response: "+E,1500)};
j2.acg=function(K){var E=K.Kp,x=E[1].split(".").pop(),c=j2.xf(K,x),J=Storage.a7r(E[0]);J.a9k(E[1],c)};
j2.a12=function(K,E){var x=K.n_.VW;if(E==null)E=j2.xf(K,x);fj.Lo(function(){var c=new XMLHttpRequest,J="https://www.googleapis.com/upload/drive/v3/files/"+K.n_.file.id+"?uploadType=media"+"&"+fj.KP();
c.open("PATCH",J,!0);c.addEventListener("load",function(i){var P=JSON.parse(i.target.response);alert(P.name+" updated")});
c.send(E);alert("Saving \""+K.n_.file.name+"\" to Google Drive ...")})};j2.II=function(K,E,x,c){if(window.location.href.indexOf("photopea.com")==-1||window.top!=window.self)j2.ahr(K,E,x,c);
else{try{j2.ahr(K,E,x,c)}catch(hg){if(hg=="low_ram"){}else{var J="Error. Please, send your file to support@photopea.com and we will solve it.";
if(gr.lX(E)=="eps")J="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
alert(J,1e4)}}}};j2.ahr=function(K,E,x,c){var J;if(K.name){var i=K.name.lastIndexOf(".");J=i==-1?K.name:K.name.slice(0,i)}else{if(K.url.substring(0,5)=="data:"||K.url.indexOf("googleapis")!=-1)J="image";
else J=K.url.substring(K.url.lastIndexOf("/")+1).split(".")[0];J=J.slice(0,50)}var P=K.name?K.name:K.url,_=new Uint8Array(E),a=gr.lX(E),j=window.gtag;
if(Math.random()<.25&&j&&a!=null&&gr.Zf(a))j("event",a,{event_category:"Formats"});if(a==null)a=R.pr(_,0,4);
if(P&&P.toLowerCase().endsWith(".raw")){var e=new i3(u.E.L,!0);e.data={_:u.c.v9,xc:"importraw",Z0:E,sU:P.split("/").pop()};
x.S(e);return}else if(a=="json"){var d="";for(var y=0;y<_.length;y++)d+=String.fromCharCode(_[y]);d=decodeURIComponent(escape(d));
var I=JSON.parse(d);if(I.name&&I.url){var e=new i3(u.E.L,!0);e.data={_:u.c.ad9,Z:I};x.S(e)}else{alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(I)}return}if(a=="html"){var d=R.__(_,0,_.length),v=new DOMParser,n=v.parseFromString(d,"text/html"),C=n.getElementsByTagName("meta");
for(var y=0;y<C.length;y++){var T=C[y],o=T.getAttribute("property"),Q=T.getAttribute("content"),X=null;
if(o=="og:image")X=Q;if(o==null&&Q&&Q.startsWith("0;url=/imgres?")){var B=Q.slice(14).split("&");for(var M=0;
M<B.length;M++)if(B[M].startsWith("imgurl"))X=decodeURIComponent(B[M].slice(7))}if(X==null)continue;
var e=new i3(u.E.L,!0);e.data={_:u.c.Pp,ry:{url:X,RX:!0,p6:K.p6}};x.S(e)}return}if(gr.Zf(a)){var S,f,F=gr.Zf(a);
if(K.p6!=null&&"jpg png gif pdf svg ai psd".split(" ").indexOf(a)!=-1){var e=new i3(u.E.L,!0);if(0<=K.p6)e.data={_:u.c.NJ,target:K.p6,cA:K.GM,c1:E,en:J};
else{e=new i3(u.E.v,!0);e.data={_:Z.fU,data:new Uint8Array(E),sU:J+"."+a};e.G=$.Os}x.S(e);return}var G=[J,F,a,K,x,c,E];
if(F.pC){S=new gD(J+(a=="psd"?"":"-"+a)+".psd");F.TJ(E,S,j2.eV,G)}else{f=F.TJ(E,null,j2.eV,G,x)}if(F.gP!=!0)j2.eV(S,f,G);
else x.vE();return}var D=new i3(u.E.L,!0);D.data={_:u.c.u8,Z0:E,mg:K.name};var b=K instanceof File&&K.alH!=!0,e=new i3(u.E.L,!0);
e.data={_:u.c.Na,bA:"add",ry:null,M1:null,acw:K.alH};if(a=="zip"){var H=Date.now(),q=UZIP.parse(E),O="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var w in q){var V=!1;for(var y=0;y<O.length;y++)if(w.toLowerCase().endsWith("."+O[y]))V=!0;if(w.startsWith("__MACOSX/")||q[w].length==0)V=!0;
if(V)continue;var t=w.split("/").pop();j2.II({name:t},q[w].buffer,x,c)}}else if(a=="jsx"||P&&P.toLowerCase().endsWith(".jsx")){var d=R.__(new Uint8Array(E));
e.data={_:u.c.nO,RI:d};x.S(e)}else if(a=="otf"){if(b)x.S(D);var m=Typr.parse(E);e.data.ry=eu.r8;for(var y=0;
y<m.length;y++){e.data.M1=m[y];x.S(e)}}else if(a=="asl"){if(b)x.S(D);var m=dN.Sg(E);e.data.ry=eu.up;
e.data.M1=m.gp;x.S(e);e.data.ry=eu.aH;e.data.M1=m.gu;x.S(e)}else if(a=="tpl"){if(b)x.S(D);var m=dH.Sg(E);
e.data.ry=eu.Xb;e.data.M1={qq:m.qq,V8:m.V8,list:[]};x.S(e);if(m.aiZ.length!=0){e.data.ry=eu.dF;e.data.M1=m.aiZ;
x.S(e)}if(m.gu.length!=0){e.data.ry=eu.aH;e.data.M1=m.gu;x.S(e)}e.data.ry=eu.Ro;e.data.M1=m.list;x.S(e)}else{var g="";
for(var Y in eu.BU)if(eu.BU[Y][0]==a)g=Y;if(g!=""){if(b)x.S(D);e.data.M1=eu.BU[g][2].Sg(E,P);e.data.ry=g;
x.S(e)}else alert("Unknown file format: "+JSON.stringify(a))}};j2.eV=function(K,E,x){var c=x[0],J=x[1],i=x[2],P=x[3],_=x[4],a=x[5],j=x[6];
if(J.gP)_.$l();if(!J.pC){if(E.length==0)return;if(E[0].t33421||E[0].t50706){W.raw.normalize(E[0],j);
console.log(E[0]);var e=new i3(u.E.L,!0);e.data={_:u.c.v9,xc:"rawpea",Dr:E[0]};_.S(e);return}if(a){a(new Uint8Array(E[0].data),E[0].yA);
return}K=gr.vV(c,E)}K.RJ=P.RJ;K.NR=i;K.bA=P.bA;K.pM=P.url;K.rs=P.rs;K.n_=P.n_;K._F=P._F;K.Kp=P.Kp;if(K.n_)K.n_.VW=i;
if(K.B.length!=0){var e=new i3(u.E.L,!0);e.data={_:P.p6==null?u.c.CS:u.c.NJ,target:P.p6,cA:P.GM,c1:K};
_.S(e)}};function hh(K){fo.call(this);this.hy=hh.hy++;this.wK=K;this.aru=this.auh.bind(this);this.abd=this.aw9.bind(this);
this.aim=this.xX.bind(this);this.a1v=this.au7.bind(this);this.aje=this.agI.bind(this);this.ajJ=this.at3.bind(this);
this.VR=0;this.as6=0;this.apR=0;this.e=U.t("div","panelblock");this.jz=U.t("div","block");this.jE=U.t("div","collapsed");
this.e.appendChild(this.jz);this.J8=-1;this.j6=!0;this.tf=U.t("div","panelhead");this.jz.appendChild(this.tf);
this.mb(this.tf);this.kj=new cn("\u2261");this.kj.e.setAttribute("style","position:absolute; right:0;");
this.kj.w("click",this.a2Q,this);this.Zz=U.t("div","body");this.jz.appendChild(this.Zz);this.Ma=[];this.GY=null;
this.LO=null}hh.hy=0;hh.prototype=new fo;hh.I1=26.1;hh.prototype.a2Q=function(K){var E=this.Ma[this.J8]._t(),x=K.currentTarget.e.getBoundingClientRect();
E.f();E.update();E.parent=this;var c=new i3(u.E.L,!0);c.data={_:u.c.gF,M8:E,x:x.left,y:x.top+x.height+2};
this.S(c)};hh.prototype.KU=function(K){var E=this.jz,x=this.tf,c=this.Zz;if(U.Of(x))E.removeChild(x);
if(U.Of(c))E.removeChild(c);if(K==0)E.appendChild(x);E.appendChild(c);this.apR=K};hh.v$=function(K){K.stopPropagation();
K.preventDefault()};hh.prototype.auh=function(K){var E=K.dataTransfer.types;if(E[1]!=null&&E[1]!=this.hy+"")return;
hh.v$(K);var hr=K.currentTarget;if(K.target==hr)U.sy(hr,"highlight")};hh.prototype.aw9=function(K){hh.v$(K);
var hr=K.currentTarget;if(K.target==hr)U.gz(hr,"highlight")};hh.prototype.mb=function(K){K.addEventListener("dragenter",this.aru,!1);
K.addEventListener("dragleave",this.abd,!1);K.addEventListener("dragover",hh.v$,!1);K.addEventListener("drop",this.aim,!1);
K.addEventListener("dragstart",function(E){E.dataTransfer.setData("Text","--panel");E.dataTransfer.setData(this.hy+"","")}.bind(this),!1)};
hh.prototype.xX=function(K){this.abd(K);var E=null,hr=K.currentTarget,x=this.ahf(hr);if(hr==this.Zz&&this.J8!=-1)E=this.J8;
else if(hr==this.tf)E=null;else if(x!=-1)E=x;var c=K.dataTransfer.getData("Text");if(c==""||c.startsWith("http"))U.MS(K,this,E);
else if(c=="--panel"){var J=U.bf(K,hr),i=this.Ma,P=i.slice(0),y=this.J8,_=x==-1?i.length:J.x<hr.getBoundingClientRect().width/2?x:x+1;
if(y==_||y+1==_||hr==this.Zz)return;var a=y<_?_-1:_,j=i[y];i.splice(y,1);i.splice(a,0,j);U.w6(this.tf);
for(var e=0;e<i.length;e++)this.tf.appendChild(i[e].hF);this.yc(a);var d=[];for(var y=0;y<i.length;y++)d[y]=P.indexOf(i[y]);
var I=new i3("shuffleItems",!1);I.data={an2:d};this.S(I)}else if(E!=null&&this instanceof jr){var I=new i3(u.E.L,!0);
I.data={_:u.c.aiV,a1t:E};this.S(I)}};hh.prototype.x$=function(){return null};hh.prototype.a9Q=function(){if(this.x$()){this.tf.style.padding="0px";
this.LO=this.x$();this.Zz.appendChild(this.LO);this.eY.Lk(!1);var K=new i3(u.E.L,!0);K.data={_:u.c.cM,Z:1};
this.S(K)}};hh.prototype.a5N=function(){if(this.LO){this.tf.style.padding="";this.Zz.removeChild(this.LO);
this.LO=null;this.eY.Lk(!0);var K=new i3(u.E.L,!0);K.data={_:u.c.cM,Z:0};this.S(K)}};hh.prototype.ahf=function(K){var E=this.Ma;
for(var y=0;y<E.length;y++)if(E[y].hF==K)return y;return-1};hh.prototype.o8=function(){for(var y=0;y<this.Ma.length;
y++)this.Ma[y].hT.tg()};hh.prototype.a0=function(){return this.J8};hh.prototype.JH=function(){if(this.j6)return;
this.j6=!0;this.e.removeChild(this.jE);this.e.appendChild(this.jz)};hh.prototype.collapse=function(){if(!this.j6)return;
this.j6=!1;this.e.appendChild(this.jE);this.e.removeChild(this.jz)};hh.prototype.I1=function(){var K=0;
if(this.apR==0){K=this.tf.getBoundingClientRect().height+1;K=Math.max(K,hh.I1)}return K};hh.prototype.abM=function(){return this.I1()+this.Zz.getBoundingClientRect().height};
hh.prototype.nt=function(K,E){this.tf.style.maxWidth=K+"px";var x=this.I1();if(this.J8!=-1)this.Ma[this.J8].nt(K,E-x);
return E-x};hh.prototype.Q3=function(K,E){if(this.J8!=-1)this.Ma[this.J8].Q3(K,E)};hh.prototype.jG=function(K,E,x){this.Ma[this.J8].jG(K,E,x)};
hh.prototype.L2=function(K){this.a5N();if(this.Ma.indexOf(K)!=-1){this.yc(this.Ma.indexOf(K));return}K.parent=this;
this.Ma.push(K);this.tf.appendChild(K.hF);K.hF.addEventListener("mouseover",this.a1v,!1);this.mb(K.hF);
this.jE.appendChild(K.hT.e);K.hT.w("click",this.amo,this);K.w("select",this.asi,this);K.w(u.E.rL,this.alW,this);
this.yc(this.Ma.length-1)};hh.prototype.au7=function(K){if(K.buttons==0)return;var E=K.currentTarget,x=E,y=0;
while((x=x.previousSibling)!=null)y++;this.as6=y;E.addEventListener("mouseout",this.aje,!1);this.VR=setTimeout(this.ajJ,700)};
hh.prototype.agI=function(K){var E=K.currentTarget,x=E,y=0;while((x=x.previousSibling)!=null)y++;E.removeEventListener("mouseout",this.aje);
clearTimeout(this.VR)};hh.prototype.at3=function(K){this.S(new i3(u.E.abD,!1))};hh.prototype.axB=function(K){return this.as6};
hh.prototype.Qk=function(y){var K=new i3(u.E.rL,!1);K.data={GJ:y};this.S(K);var E=this.Ma[y];this.Ma.splice(y,1);
this.tf.removeChild(E.hF);this.jE.removeChild(E.hT.e);E.hF.className="";E.hT.removeEventListener("click",this.amo,this);
E.hT.tg();E.removeEventListener("activate",this.asi);E.removeEventListener(u.E.rL,this.alW);var x=this.J8;
if(y<x)x--;else if(y==x&&y==this.Ma.length)x--;this.yc(x);if(this.Ma.length==0)this.a9Q()};hh.prototype.ams=function(){return this.Ma.length};
hh.prototype.OY=function(){if(this.Ma.length!=0)this.Ma[this.J8].OY()};hh.prototype.yc=function(K,E){if(E==null)E=!0;
for(var y=0;y<this.Ma.length;y++)this.Ma[y].hF.className="";if(this.GY)this.Zz.removeChild(this.GY);
this.GY=null;this.J8=K;if(K==-1)return;var x=this.Ma[this.J8];this.GY=x.I$;this.Zz.appendChild(x.I$);
x.hF.className="active";if(!this.j6){this.S(new i3("showFloat"));this.Ma[K].hT.Kv()}if(E)this.S(new i3(u.E.A,!1));
x.Uo();var c=this.kj.e;if(c.parentNode)this.tf.removeChild(c);if(x._t())this.tf.appendChild(c);var J=new i3(u.E.L,!0);
J.data={_:u.c.DQ};this.S(J)};hh.prototype.asi=function(K){if(this.wK&&!this.wK.a2V())return;var y=this.Ma.indexOf(K.currentTarget);
this.yc(y)};hh.prototype.alW=function(K){if(this.wK&&!this.wK.a2V())return;var y=this.Ma.indexOf(K.currentTarget);
this.Qk(y)};hh.prototype.amo=function(K){var E=this.Ma.indexOf(K.currentTarget.parent);if(this.Ma[E].hT.dn())this.S(new i3("hideFloat"));
else this.yc(E)};hh.prototype.aq8=function(K){this.S(K)};function jr(K){hh.call(this,K);this.pz=0;this.o4=0;
U.xz(this.tf,this.a2N.bind(this));this.wj=0;this.aqO=this.ayG.bind(this);this.mb(this.Zz);this.MB=["default;"];
this.eY=new U.z7(this.Zz);this.Tb=new bZ(!0);this.Tb.parent=this;this.au=this.Tb.e;bZ.fo(this.Tb)}jr.prototype=new hh;
jr.prototype.a2N=function(K){if(K.target!=this.tf)return;var E=this.wj;this.wj=Date.now();if(Date.now()-E>300)return;
var x=new i3(u.E.L,!0);x.data={_:u.c.v9,xc:"newproject"};this.S(x)};jr.prototype.Zb=function(K,E){if(E)this.MB.push(K);
else{var x=this.MB.length-1;if(this.MB[x]==K)return;this.MB[x]=K}this.bz()};jr.prototype.aas=function(){this.MB.pop();
this.bz()};jr.prototype.bz=function(){var K=this.MB[this.MB.length-1];this.eY.jG(K,this.Jh)};jr.prototype.Q3=function(K,E){hh.prototype.Q3.call(this,K,E);
this.Tb.Q3(K,E);if(!K.dN){}};jr.prototype.f=function(){hh.prototype.f.call(this);this.Tb.f()};jr.prototype.jG=function(K,E){for(var y=0;
y<E.length;y++){var x=E[y];this.Ma[y].V$(x.name+(x.zv()?" *":""))}hh.prototype.jG.call(this,K,E)};jr.prototype.x$=function(){return this.au};
jr.prototype.nt=function(K,E){if(this.Ma.length==0)E+=hh.I1-1;this.pz=K;this.o4=E;E=hh.prototype.nt.call(this,K,E);
this.Jh="height:"+E+"px; width:"+K+"px; overflow:hidden; position:relative;";this.bz();this.Tb.nt(K,E)};
jr.prototype.L2=function(K){hh.prototype.L2.call(this,K);K.hF.addEventListener("click",this.aqO,!1)};
jr.prototype.Qk=function(y){var K=this.Ma[y];U.KR(K.hF,this.aqO);hh.prototype.Qk.call(this,y)};jr.prototype.ayG=function(K){var E=this.wj;
this.wj=Date.now();if(Date.now()-E>300)return;var x=this.ahf(K.currentTarget),c=this.Ma[x].c1.name,J=new i3(u.E.L,!0),i={Y:u.E.v,G:$.Os,F:{_:Z.x6}};
J.data={_:u.c.v9,xc:"namewindow",_5:c.slice(0,c.length-4),Vv:i};this.S(J)};function fG(K){fo.call(this);
if(K)return;cX.ajx(1);this.e=U.t("div","flexrow app");this.fD=U.t("div");this.e.appendChild(this.fD);
setTimeout(function(){var x=window.hideCap;if(x)x()},25e3);this.jN=new j6;window.addEventListener("blur",function(x){this.jN.reset()}.bind(this),!1);
window.addEventListener("resize",this.dZ.bind(this),!1);var E=this.fD;this.DC=new fq;this.DC.parent=this;
E.appendChild(this.DC.e);this.Fr=new gv;this.Fr.parent=this;E.appendChild(this.Fr.e);this.L1=new da(!0);
this.L1.parent=this;E.appendChild(this.L1.e);this.w(u.E.L,this.Qm,this);this.GL=this.Tz.bind(this);window.requestAnimationFrame(this.GL)}fG.prototype=new fo;
fG.prototype.Tz=function(K){this.iT();window.requestAnimationFrame(this.GL)};fG.prototype.f=function(){};
fG.prototype.dZ=function(K){var E=window.innerWidth,x=window.innerHeight;this.nt(E,x)};fG.prototype.nt=function(K,E){this.Fr.nt(K,E);
this.DC.nt(K,E)};fG.prototype.Qm=function(K){var E=K.data._;if(E==u.c.gF)this.Fr.am2(K.data);if(E==u.c.rd)this.Fr.a1$(K.data);
if(E==u.c.B6)this.Fr.aiy(K.data.kB);if(E==u.c.Di)this.Fr.a3y(K.data.kB);if(E==u.c.cu)this.Fr.cr()};function hO(){fG.call(this);
this.Lb={x:0,y:0,tj:!1};this.cd=!1;this.Ld=!1;this.Gp=null;this.a0Y=0;this.acV=!1;this.aw=0;window.onmessage=function(T){if(Storage.a6M(T.source))return;
if(T.data instanceof ArrayBuffer){var o=gr.lX(T.data),s=gr.Zf(o);hP.II({url:"file"},T.data,this);if(s==null)this.oX()}else if(T.data instanceof Object||T.data.startsWith("{")||T.data.startsWith("amp-")||T.data.startsWith("0=goog")||T.data.startsWith("3PCoo")){}else if(T.data.startsWith("--ur ")){var Q=T.data.split(" ").pop(),F=null;
Q=Q.length==0?[]:Q.split(",");console.log(Q);var X=this.dR.M1,B=new i3(u.E.L,!0);B.data={_:u.c.Na,ry:eu.qA,iz:Q};
this.S(B);var M=Q,S=X;if(S.length>M.length){var f=S;S=M;M=f}for(var y=0;y<M.length;y++)if(S.indexOf(M[y])==-1)F=M[y];
hP.$n("act=3&id="+F+"&dif="+(M==Q?1:-1));alert((M==Q?"Resource added.":"Resource removed.")+" "+F)}else if(T.data.startsWith("--ot ")){this.DC.Nl().close();
this.xH.VO(T.data.split(" ").pop(),!0)}else if(T.data.startsWith("--et ")){}else{var B=new i3(u.E.L,!0);
B.data={_:u.c.nO,RI:T.data};this.S(B);this.oX()}}.bind(this);window.onbeforeunload=function(T){for(var y=0;
y<this.Mt.length;y++)if(this.Mt[y].zv())return this.Mt[y].name}.bind(this);window.setInterval(function(){var T=this.Qx();
if(T==null)return;var o=(Date.now()-T.k9)/6e4;if(this.dR.Ep==1&&T.qh!=T.I4&&o>60){var s="You haven't saved your work ("+T.name+") for "+Math.round(o)+" minutes. Would you like to save it now? "+"You can disable this message in Edit > Preferences.",Q=new i3(u.E.L);
Q.data={_:u.c.v9,xc:"confirm"};Q.data.Z=s;Q.data.sO=function(){var Q=new i3(u.E.L);Q.data={_:u.c.$L};
this.S(Q)}.bind(this);this.S(Q)}}.bind(this),30*60*1e3);var K=this,_="",a="";if(window.indexedDB&&(!aG.IW()||document.hasStorageAccess==null)){var E={UY:window.indexedDB.open("pp",1)};
E.UY.onupgradeneeded=function(T){var o=T.target.result,s=o.createObjectStore("rsrc",{keyPath:"k"})};
E.UY.onsuccess=function(T){var o=K.dR.vN.jo=T.target.result,s=o.transaction(["rsrc"],"readwrite").objectStore("rsrc"),Q=s.get("fs0");
Q.onsuccess=function(T){if(T.target.result){var X=K.dR.vN.xP=T.target.result.fset;for(var B in X){if(!B.endsWith(".jsx"))hP.II({url:B,alH:!0},X[B],K)}}}}}var x=["rwx~#.-(;.]6EF","rx'|#1,6><@87f?NO"],c=U.rT[g6.He][g6.p8];
for(var y=0;y<x.length;y++){var J=U.Ea(x[y]);if(c.indexOf(J)!=-1){var i=U.rT[g6.He][g6.Zz],P=U.Ea("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
U.w6(i);i[g6.ago]=P;return}}this.a={at0:[{G:$.lJ,_U:!1,S3:[j6.afw,j6.rm]},{G:$.ER,_U:!1,S3:[j6.rm]},{G:$.n8,_U:!0,S3:[j6.Se],a5:[$.eG]},{G:$.eG,_U:!0,S3:[j6.Se],a5:[$.n8]},{G:$.OF,_U:!0,S3:[j6.Se],a5:[$.Xd,$.Lx,$.gx]},{G:$.Xd,_U:!0,S3:[j6.Se],a5:[$.OF,$.ef,$.wG,$.lc,$.AR,$.Z1]},{G:$.x3,_U:!0,S3:[j6.Se]}],GP:[[{G:new $.DU,qt:dn},{G:new $.Q2,qt:fF}],[{G:new $.lC,qt:fY},{G:new $.nV,qt:ce}],[{G:new $.yV,qt:d6},{G:new $.Qe,qt:hW},{G:new $.us,qt:eR}],[{G:new $.Mh,qt:aW},{G:new $.ru,qt:g2},{G:new $.pD,qt:f$}],[{G:new $.acX,qt:h4},{G:new $.a8k,qt:gJ},{G:new $.ie,qt:c9},{G:new $.Xu,qt:eC}],[{G:new $.QS,qt:hq},{G:new $.dk,qt:aZ}],[{G:new $.X6,qt:dW},{G:new $.bx,qt:aA},{G:new $.Ty,qt:fa},{G:new $.atW,qt:gY},{G:new $.mI,qt:jv}],[{G:new $.DE,qt:j$},{G:new $._v,qt:fB},{G:new $.j3,qt:jT}],[{G:new $.YF,qt:e_}],[{G:new $.M7,qt:i6},{G:new $.IM,qt:gB}],[{G:new $.Mf,qt:eZ},{G:new $.$H,qt:gP}],[{G:new $.aK,qt:gI},{G:new $.tl,qt:bc},{G:new $.Qf,qt:bs}],[{G:new $._M,qt:e6},{G:new $.GB,qt:e9},{G:new $.nn,qt:e5}],[{G:new $.qn,qt:jN},{G:new $.adZ,qt:jN}],[{G:new $.BR(0),qt:bb},{G:new $.N5,qt:gq},{G:new $.BR(1),qt:bb}],[{G:new $.x7,qt:di},{G:new $.yx,qt:dV}],[{G:new $.Rect,qt:at},{G:new $.DM,qt:by},{G:new $.yo,qt:fp},{G:new $.eQ,qt:jb},{G:new $.k1,qt:d$}],[{G:new $.PC,qt:eH},{G:new $.jW,qt:hM}],[{G:new $.gM,qt:eQ}]],jq:[],keys:[j6.od,j6.m3,j6.sm,j6.FC,j6.ww,j6.th,j6.QY,j6.wf,j6.Ed,j6.E,j6.Zt,null,j6.m8,j6.vJ,j6.jT,j6.c,j6.Vd,j6.CZ,j6.WV],h0:[{G:new $.a98,qt:dY},{G:new $.arM,qt:hy},{G:new $.awP,qt:cZ},{G:new $.QS(!0),qt:hq},{G:new $.Je,qt:fy}],nr:[{G:new $.rn},{G:new $.History},{G:new $.TE},{G:new $.FB},{G:new $.Yq},{G:new $.vF}],map:{},_L:null,iA:null,ae:null};
for(var y=0;y<this.a.GP.length;y++){var j=this.a.GP[y];if(j=="---")continue;var e=this.a.keys[y];for(var d=0;
d<j.length;d++){this.a.map[j[d].G.id]=j[d];j[d].db=y;j[d].a07=d;var I=hg.get(j[d].G.name);a+="<li>"+j[d].G.id+": "+I+"</li>";
_+="\t"+JSON.stringify(j[d].G.name)+", "+(e?"\""+e.jF+"\"":"null")+", "+j[d].G.id+", // "+I+"\n"}this.a.jq[y]=0}for(var y=0;
y<this.a.h0.length;y++)this.a.map[this.a.h0[y].G.id]=this.a.h0[y];for(var y=0;y<this.a.nr.length;y++)this.a.map[this.a.nr[y].G.id]=this.a.nr[y];
this.dR={a44:!1,OI:null,Py:0,ZR:{V8:[],qq:[],list:[],Ad:null},rU:[],ahe:[],zd:[],Nj:[],B2:[],$A:[],awV:[],a2b:[],B2:[],nK:[aS.JQ()],n1:[],A$:[],ta:null,Yp:0,Eo:{ez:1,QT:JSON.parse(JSON.stringify(dz.gk[0]))},q8:JSON.parse(JSON.stringify(dz.Ae.default)),av0:[null].concat(dz.gk),a7_:[null].concat(dz.gk),ir:new cd(function(T){var o=new i3(u.E.L,!0);
o.data={_:u.c.Pp,ry:{url:"rsrc/fonts/"+T}};this.S(o)}.bind(this)),H5:{Ho:[],BY:null,sn:null},font:null,rN:[],M1:[],ae1:{},U9:0,xw:16777215,Fy:!1,R9:!0,Vp:{J$:!0,vh:!1,hO:!0,Qg:!0,RZ:!0,ea:!0,SH:20,Yb:0,uU:0,OZ:0},ab:!0,gS:[!0,!0,!1,!0,!0],_e:[0,1,2,3,5,6,7,9,10,16,17,100],T8:1,uC:!0,TK:{},dN:!0,ahy:!1,compact:!1,Ep:1,au:!0,u2:null,vN:{ae2:!1,a0N:!1,xP:{},jo:null},aqk:0,a8$:null,$U:null,a6N:null,tL:null};
this.alk={ZE:new cS,XH:new iP};this.dR.H5=ev.afV();this.OK=new ag;this.tF=new jo;this.oI=new jL(this.a,!0);
this.vH=new aK;this.IV=new jr(this);this.X0=U.t("div");this.QZ=!1;this.ph=this.abc.bind(this);U.sy(this.IV.e,"mainblock");
this.L1.parent=this.OK.parent=this.tF.parent=this.oI.parent=this.vH.parent=this.IV.parent=this;this.IV.w(u.E.A,this.NI,this);
this.IV.w(u.E.rL,this.apS,this);this.IV.w("shuffleItems",this.a0G,this);this.IV.w(u.E.abD,this.arv,this);
this.w("mouse",this.ath,this);this.w(u.E.v,this.Qp,this);this.w(u.E.Hg,this.ar3,this);document.body.addEventListener("keydown",this.w4.bind(this),!1);
window.addEventListener("keyup",this.kD.bind(this),!1);window.addEventListener("paste",this.a26.bind(this),!1);
window.addEventListener("copy",this.a2l.bind(this),!1);window.addEventListener("wheel",function(T){if(T.ctrlKey)T.preventDefault()},{passive:!1});
window.addEventListener("beforeinstallprompt",function(T){if(window.innerWidth>400)T.preventDefault();
this.dR.u2=T}.bind(this));if(window.location.href.indexOf("photopea.com")!=-1&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(T){if(T.amH){console.log("Service worker installing")}else if(T.a6r){console.log("Service worker installed")}else if(T.active){console.log("Service worker active")}}).catch(function(T){console.log("Registration failed with "+T)})}this.aX=0;
this.Mt=[];this.xH=new hP(j2.II);this.xH.parent=this;var v=this.fD,n=this.$g=U.t("div");n.appendChild(this.OK.e);
n.appendChild(this.tF.e);this.L1.afL(n);var C=this.acR=U.t("div","flexrow");v.appendChild(C);C.appendChild(this.oI.e);
C.appendChild(this.IV.e);C.appendChild(this.vH.e);this.xH.J6({url:"rsrc/basic/basic.zip"});this._P($.x3);
dq.w9(this.a4i.bind(this))}hO.prototype=new fG(!0);hO.prototype.oX=function(K){var E=new i3(u.E.L);E.data={_:u.c.tv,ry:K?K:"done"};
this.S(E)};hO.prototype.a4i=function(){U.rT[g6.Ci](this.akG.bind(this),Math.pow(Math.PI,8)+U.rT[g6.any][g6.apd]()*1e4);
var K=dq.b5();if(K!=null&&K.globals!=null)this.sJ(K.globals);else{this.acV=!0;var E=navigator.languages;
if(E&&E.length!=0){var x=E[0];hg.E0(x,this.ph)}}if(!this.ui()){var c=U.agY();if(c==0)this.ahy=!0;if(c==2)this.dR.dN=!1;
if(c!=1&&Math.random()<.002)U.atw()}if(!aG.IW()||!this.dR.dN){this.a00();this.ao()}else{var J=U.d_(U.rT[g6.BK]);
J[g6.xW](g6.Rk,this.a4X.bind(this));J[g6.RE](U.Ij("61="),U.Ij("_MYOqDLGJa;A:6"));J[g6.jD]()}this.cd=!0;
this.oX()};hO.prototype.a4X=function(K){var E=JSON.parse(K.target[g6.nz]),x=U.rT[g6.aa][g6.azY]()/1e3,c=U.rT[g6.He][g6.p8],J=!1;
for(var i in E)if(i.indexOf(".")!=-1&&c.indexOf(i)!=-1&&parseInt(E[i])>x)J=!0;if(J)this.dR.dN=!1;this.a00();
this.ao()};hO.prototype.ao=function(K){this.Ld=!0;if(!this.dR.au)this.IV.au=null;else if(this.Mt.length==0)this.IV.a9Q();
this.Ux(eu.$r);this.f();this.dZ();this.vH.jG(this.Qx(),this.Mt,this.dR)};hO.prototype.sJ=function(K){var E=this.dR;
if(K.fcolor!=null)E.U9=K.fcolor;if(K.bcolor!=null)E.xw=K.bcolor;if(K.rulers!=null)E.Fy=K.rulers;if(K.extras!=null)E.R9=K.extras;
if(K.favFam!=null)E.rN=K.favFam;if(K.rsrc!=null)E.M1=K.rsrc;if(K.font!=null)E.H5.Ho[0].Name=K.font;if(K.panels!=null)E._e=K.panels;
if(K.as!=null)E.Ep=K.as;if(K.eparams){var x=K.eparams,c=E.Vp;if(x.guides!=null)c.J$=x.guides;if(x.grid!=null)c.vh=x.grid;
if(x.gsize!=null)c.SH=x.gsize;if(x.gunits!=null)c.Yb=x.gunits;if(x.gtype!=null)c.uU=x.gtype;if(x.runits!=null)c.OZ=x.runits;
if(x.sels!=null)c.hO=x.sels;if(x.paths!=null)c.Qg=x.paths;if(x.pgrid!=null)c.RZ=x.pgrid;if(x.slices!=null)c.ea=x.slices}if(K.lang!=null)hg.E0(K.lang,this.ph);
if(K.theme!=null)E.T8=K.theme;if(K.topt||E.bk){var J=K.topt?K.topt:{},i=E.bk?E.bk:{};for(var P in this.a.map){if(P>=103)continue;
var _="t"+P;if(J[_]||i[_])this.a.map[P].G.Mp(J[_],i[_],this)}}};hO.prototype.a00=function(){if(this.dR.a44)return;
this.dR.a44=!0;var K=null,E=window.location.href,x=E.indexOf("="),c=E.indexOf("#");if(x!=-1)K=E.substring(E.indexOf("?")+1,x);
if(c!=-1&&c!=E.length-1){K="p";x=c}if(c!=-1&&E[c+1]=="i"){this.xH.VO(E.slice(c+2))}else if(c!=-1&&E[c+1]=="t"){this.xH.VO(E.slice(c+2).split("").reverse().join(""),!0)}else if(K=="p"||K=="state"){var J=E.substring(x+1,E.length);
J=JSON.parse(decodeURI(J));if(K=="p"){if(J.script=="alert(73)")this.dR.dN=!1;if(J.script)dQ.a7p(this);
if(J.server)this.Gp=J.server;if(J.resources)for(var y=0;y<J.resources.length;y++)this.xH.J6({url:J.resources[y]});
if(J.files)for(var y=0;y<J.files.length;y++)this.xH.J6({url:J.files[y],bA:{xO:J.server,av3:J.script}});
var i=J.environment;if(i==null)i={};if(i.plugins!=null)this.vH.acu(i.plugins);if(i.localsave!=null)this.dR.uC=i.localsave;
if(i.customIO!=null)this.dR.TK=i.customIO;if(i.vmode!=null){var P=i.vmode;if(P==1)this.dR.compact=!0;
if(P==2)this.KU(1)}if(i.intro!=null)this.dR.au=i.intro;if(i.menus!=null)this.dR.anP=i.menus;if(i.tmnu!=null)this.dR.bk=i.tmnu;
if(i.panels!=null)this.dR._e=i.panels;if(i.showtools!=null){var _=i.showtools,a=_.indexOf(this.dR.OI);
this.dR.Lf=_;if(a==-1)this._P(_[0])}if(i.phrases!=null)hg.aeI(i.phrases);if(i.autosave!=null){this.dR.Ep=0;
window.setInterval(function(){var d=new i3(u.E.L);d.data={_:u.c.$L};this.S(d)}.bind(this),i.autosave*1e3)}if(i.icons!=null){for(var j in i.icons)if(i.icons[j].indexOf("\"")==-1){if((j==g6.a0$||j==g6.af4)&&this.dR.dN)continue;
PIMG[j]=i.icons[j];PIMG["__"+j]=!0}}this.sJ(i);if(J.files==null&&J.script){g9.k0(J.script,this);this.oX()}}else if(K=="state"){var e=this.xH;
if(J.action=="create"){var d=new i3(u.E.L);d.data={_:u.c.v9,xc:"newproject",aaQ:J.folderId};this.S(d)}if(J.action=="open"){for(var y=0;
y<J.ids.length;y++)fj.Lo(function(){var v="https://www.googleapis.com/drive/v3/files/"+this.aqx,n=new XMLHttpRequest;
n.open("GET",v);n.setRequestHeader("Authorization",fj.Az());n.send();n.onload=function(C){var T=JSON.parse(C.target.response);
e.J6({url:v+"?alt=media",name:T.name,n_:{file:T,VW:""},R8:{Authorization:fj.Az()}})}}.bind({aqx:J.ids[y]}));
alert("Loading files from Google Drive ...")}}}else{var I=window.launchQueue;if(I){var e=this.xH;I.setConsumer(function(v){var n=v.files;
console.log(n);for(var y=0;y<n.length;y++){var C=n[y];C.getFile().then(function(T){e.mv([T],null,null,null,[C])})}})}}};
hO.prototype.f=function(){var K=document.getElementById("cap");if(K){var E=!1,x=K.getElementsByTagName("h1")[0],i=0,_=0,a=0;
x.textContent=E?"Photopea":hg.get([0,17,0]);var c=K.getElementsByTagName("p"),J=U.$f(hg.get([0,17,1])),P=["PSD","XCF","Sketch","XD","CDR"];
for(var y=0;y<P.length;y++)J=J.replace(P[y],"<b>"+P[y]+"</b>");if(!E)J+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
c[0].innerHTML=J;J=hg.get([0,17,2])+" "+hg.get([0,17,3]);for(var y=0;y<J.length;y++){var j=J[y];if(j=="<")_++;
if(j==">")a++}if(!E&&_*a==9){var e=["//github.com/photopea/photopea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var y=0;y<3;y++){var d=J.indexOf("<",i),I=J.indexOf(">",i),v=J.slice(0,d)+"<a href=\""+e[y]+"\" target=\"_blank\">"+J.slice(d+1,I)+"</a>";
i=v.length;J=v+J.slice(I+1)}c[1].innerHTML=J}else c[1].innerHTML=hg.get([0,17,2])}var n=document.getElementById("sponsors");
if(n)n.textContent=hg.get([0,17,4]);this.L1.f();this.OK.f();this.vH.f();this.oI.f();this.DC.f();this.IV.f();
for(var C in this.a.map)if(this.a.map[C].HY)this.a.map[C].HY.f()};hO.prototype.ui=function(){return 4<U.rT[g6.Fg][g6.ii][g6.ay2](g6.Ij("'$!|"))};
hO.prototype.nt=function(K,E){K=Math.floor(K);E=Math.floor(E);var x=U.Ij("WUMK&AM"),c=g6.ws,J=U.rT[g6.He],i=Math.max(K,window.screen.width),P=Math.max(E,window.screen.height),d=0;
if(this.BB==null)this.BB=Math.min(i,P)<500||i<750?0:i<1600?1:2;var _=this.BB,a=!this.Ld||this.ui()||!this.dR.dN||dq.bI()||_==0;
if(!a&&aG.IW()){if(this.apK==null)this.apK=Math.random()<.5;a=this.apK}if(a){if(_!=0&&U.rT[x]&&this.Ld)U.rT[x]()}else{if(_==0)E-=60;
else K-=_==1?180:320}fG.prototype.nt.call(this,K,E);if(a&&this.QZ){this.e[g6.H$](this.X0);U.w6(this.X0);
this.QZ=!1}if(!a&&!this.QZ){var j=function(n){if(Math.random()<.002){dq.event(aG.Wx()?"gota_0":"gota_1")}this.am9(K,E);
var C=_==0?J[g6.Zz]:this.e;C.appendChild(this.X0);this.X0[g6.sk](c,U.Ij("_MMJLNDfKCAg")+(_==0?10:10)+U.Ij("_d$ebOS?I:==Ba-+# }$M"));
this.X0[c][U.Ij("_MMJLND&<:E")]=(_==0?0:19)+U.Ij("_d");this.X0[c][U.Ij("i5WJHX")]=_==0?0:1}.bind(this);
function e(){aG.apB(j)}setTimeout(e,2300);this.QZ=!0}if(U.Of(this.OK.e))d+=31;if(U.Of(this.tF.e))d+=32;
this.L1.abB=this.dR.dN&&this.Ld;this.L1.nt(K,d);var I=E-d,v=U.Ij("_d");this.X0[c][g6.amZ]=(_==0?100>>>1:E-11)+v;
this.X0[c][g6.Cx]=(_==0?K:6*Math.pow(10,2))+v;if(U.Of(this.oI.e))this.oI.nt(K,I);this.vH.nt(K,I);this.IV.nt(K-this.oI.jL()-this.vH.jL(),I)};
hO.prototype.am9=function(K,E){var x=function(){var c=new i3(u.E.L);c.data={_:u.c.v9,xc:"account"};this.S(c)}.bind(this);
aG.az7(K,E,this.X0,x,this.BB)};hO.prototype.a2l=function(K){console.log("systemCopy")};hO.prototype.a26=function(K){if(U.BI())return;
console.log("systemPaste");if(!K.clipboardData)return;var E=K.target.tagName.toLowerCase(),x=K.clipboardData.items;
if(x==null)return;var c=this.awL.bind(this);for(var y=0;y<x.length;y++){var J=x[y],i=J.getAsFile();if(J.type.indexOf("text")!=-1){J.getAsString(this.agA.bind(this))}if(J.type.indexOf("image")!=-1){if(i.size==this.dR.aqk)return;
this.dR.aqk=i.size;if(i){i.name="image.png";this.xH.mv([i],c)}}}};hO.prototype.agA=function(K){if(K.startsWith("http")){if(K==this.dR.a4f)return;
this.dR.a4f=K;var E=new i3(u.E.L,!0);E.data={_:u.c.Pp,ry:{url:K,RX:!0}};this.S(E)}};hO.prototype.awL=function(K,E){var x={buffer:K,rect:E},c=this.dR;
if(U.BI()){var J=this.alk,i=J.ZE;if(i.b==E.b&&i.n==E.n){x.rect=i;x.XH=J.XH}}else{if(c.$U){var P=new i3(u.E.v,!0);
P.G=$.Ww;P.data={_:"h_stepbck"};this.S(P)}}c.$U=x;var P=new i3(u.E.L,!0);P.data={_:u.c.qp,akp:!0};this.S(P)};
hO.prototype.akB=function(){if(this.DC.Nl()!=null)alert(hg.get([15,7,8]));else alert("Escape or Confirm the current action (in the top menu).")};
hO.prototype.Qp=function(K){var E=this.Qx();if(E==null){alert(hg.get([15,7,7]));return}var x=K.G==$.ER||K.G==$.lJ;
if(this.DC.eb()&&K.s9!=!0&&!x){this.akB();return}var c=this.a,J=this.dR.OI,i=K.G;if(i==$.H4&&J==$.MD)i=$.MD;
if(J!=i&&c.map[J].G.eb()&&!x&&!(J==$.xj&&i==$.AL)){console.log("disabling",J);c.map[J].G.disable(E,this,this.dR,this.jN)}var P=this.a.map[i].G;
P.Qp(K.data,this,E,this.jN,this.dR)};hO.prototype.ar3=function(K){var E=this.dR;if(K.data.Hy!=!0)b$.ajh({va:K.data.va,Ks:K.data.Ks},this,E,this.Qx());
var x=E.ta,c=E.A$;if(x==null)return;var J={aj6:!1,Vj:"Step",apc:0,q:!0,exp:!1,va:K.data.va};if(x[2]==null)x[2]=c[x[0]].E5[x[1]].E5.length-1;
if(K.data.Ks)J.Ks=K.data.Ks;c[x[0]].E5[x[1]].E5.splice(x[2]+1,0,J);x[2]++;this.Ux(eu.v)};hO.prototype.Qm=function(K){if(this.ahy){K.data=0;
return K.type}fG.prototype.Qm.call(this,K);var E=K.data._;if(E==u.c.jI)b$.amM(this.Qx(),this.dR.A$,K.data.WX[0],K.data.WX[1],this);
if(E==u.c.aiV){this.a5B(K.data.a1t)}if(E==u.c.aaz){this.f();this.dZ()}if(E==u.c.DQ)this.dZ();if(E==u.c.aeJ)if(this.dR.u2){this.dR.u2.prompt();
this.dR.u2=null}if(E==u.c.wA)this.IV.Zb(K.data.JK,K.data.push);if(E==u.c.akr)this.IV.aas();if(E==u.c.azC)this.NI(null,K.data.dir);
if(E==u.c.V6)this.IV.Qk(this.Mt.indexOf(K.data.z9));if(E==u.c.cM){if(K.data.X4&&document.fullscreenEnabled){if(document.fullscreenElement)document.exitFullscreen();
else document.body.requestFullscreen()}else if(K.data.X4)document.body.webkitRequestFullScreen();if(K.data.Z!=null)this.KU(K.data.Z)}if(E==u.c.ab_){if(K.data.tj)this.jN._S(K.data.aoR);
else this.jN.Dv(K.data.aoR);this._G(K.data.tj?"down":"up")}if(E==u.c.ad9){var x=K.data.Z;this.vH.acu([x]);
this.f()}if(E==u.c.ec){var c=this.Qx(),J=c.S7().slice(0),i=c.B[c.g[0]],P=new cS(0,0,c.b,c.n),_=gD.g4()+"-d71c-11e5-b1ae-a548a96e5f9f",a=new i3(u.E.L,!0);
if(K.data.ry==0){var j={name:c.name.split(".")[0],id:_,gW:[J,P]};a.data={_:u.c.Na,bA:"add",ry:eu.up,M1:[j]};
this.S(a)}if(K.data.ry==1){var e=W.Q(P.O()*4);W._m(e,4294967295);W.h.Nh("norm",J,P,e,P,P,1);var d=W.Q(P.O());
W.KZ(e,d);W.Pa(d);var I=W.UF(d,P);if(I.um())I=P;var v=W.Q(I.O());W.XT(d,P,v,I);I.x=I.y=0;var n={ZE:I,id:_,gW:[v,I]},C=jE.Ve(_),T=C.Brsh.v;
T.Dmtr.v.val=Math.max(I.b,I.n);T.Spcn.v.val=10;a.data={_:u.c.Na,bA:"add",ry:eu.Xb,M1:{list:[{t:"Objc",v:C}],qq:[n],V8:[]}};
this.S(a);a.data={_:u.c.Na,ry:eu.N7,BL:C};this.S(a)}if(K.data.ry==2){var o=c.Ox(),Q=o[0][o[1][0]],X={xN:i.getName(),Sj:_,i:Q.add.vmsk.clone().i},B=W.r.a3(X.i),M=new iQ(B.b,0,0,B.n,B.x,B.y);
M.Pa();W.r.it(X.i,M);B.x=B.y=0;X.Xt=B.clone();a.data={_:u.c.Na,bA:"add",ry:eu.dF,M1:[X]};this.S(a)}}if(E==u.c.Pp)this.xH.J6(K.data.ry);
if(E==u.c.yq){var S=K.data.apj,f=K.data.D$;if(S!=!0&&f!=!0&&this.ki("open"))return;var F=this.IV.a0();
if(f)F=-1-F;this.xH.ai_(S||f?F:null,K.data.af$)}if(E==u.c.t3){var G=K.data.axr,D=K.data.yf,b=this.Bo(G);
if(D){var H=G==eu.Xb,q=[];for(var y=0;y<D.length;y++)q.push((H?b.list:b)[D[y]]);b=H?{V8:b.V8,qq:b.qq,list:q}:q}if(G==eu.aH){var P=new gD;
for(var y=0;y<b.length;y++){var O=b[y].BT.Lefx;if(O)bd.adq(O,P,this.dR.$A)}b={gp:P.add.Patt?P.add.Patt:[],gu:b}}if(G==eu.Ro){var w=this.dR.ZR;
b={qq:[],V8:[],list:b};console.log(b)}if(G==eu.v)b=b[K.data.Av];var V=eu.BU[G],J=V[2].by(b);hP.save(J,V[1]+"."+V[0])}if(E==u.c.u8){var t=this.dR.vN,m=K.data.axH;
if(t.jo&&!t.ae2&&!m){t.a0N=window.confirm("Load \""+K.data.mg+"\" also next time you use the editor?\nManage it in Edit - Local Storage.");
t.ae2=!0}if((t.a0N||m)&&t.jo){t.xP[K.data.mg]=K.data.Z0;var a=new i3(u.E.L);a.data={_:u.c.Na,ry:eu.pt};
this.S(a)}}if(E==u.c.azL){var c=this.Qx(),A="<!DOCTYPE HTML>";if(c==null)return;var g=gr.NO(c.S7().buffer,c.b,c.n),Y=window.open();
A+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";A+="<body><img src=\""+g+"\" /></body>";
A+="</html>";Y.document.write(A)}if(E==u.c.Ut){if(this.ki("publishOnline"))return;var k=K.data.fC!="psd",c=this.Qx();
if(c==null)return;if(!k&&c.RJ)return;var z="Your picture will be published at "+(k?"Imgur":"Photopea")+".com under a public URL (known only to you). Proceed?";
if(!k)z+=" We guarantee 6 months of storage (or more, if your file is opened often).";var p=K.data.cf?!0:confirm(z);
if(p){if(!k){var a=new i3(u.E.v,!0);a.G=$.Os;a.data={_:Z.Bd};this.S(a);var L=new cS(0,0,c.b,c.n);for(var y=0;
y<c.B.length;y++){var i=c.B[y];if(i.rect.um()||i.wC()||i.FA()||i.$y()||i.Au()||i.add.TySh||i.add.vmsk||i.add.SoLd)continue;
var N=L.Sl(i.rect);if(!N.ac(i.rect)&&!N.um()){var gC=W.Q(N.O()*4);W.UL(i.buffer,i.rect,gC,N);i.buffer=gC;
i.rect=N}if(!W.xE(i.buffer,i.rect.b,i.rect.n))continue;var r=i.bL(),h=i.opacity,l=i.Vk,g5=i.Z2;i.g7(!0);
i.opacity=255;i.Vk="norm";c.g=[y];a.data={_:Z.U4,fC:"jpg"};this.S(a);var fm=c.B[y];i.g7(r);fm.g7(r);
i.opacity=fm.opacity=h;i.Vk=fm.Vk=l,i.Z2=fm.Z2=g5}}if(c.XL){c.DJ()}var dC=c.b,ex=c.n,cR=K.data.a0b,d0;
if(cR)while(Math.max(dC,ex)>cR){dC=dC>>>1;ex=ex>>>1}console.log(dC,ex);if(K.data.fC=="psd")d0=gr.ca(c,"psd",0,0,[!0,!0,!0]);
else if(K.data.fC=="png")d0=gr.ca(c,"png",dC,ex);else{var hN=gr.ca(c,"png",dC,ex),ey=gr.ca(c,"jpg",dC,ex);
d0=hN.byteLength<ey.byteLength?hN:ey}if(k)hP.anN(d0,K.data.cf);else this.xH.agl(d0,c.name,K.data.cf,"psdshared")}}if(E==u.c.$L){var c=this.Qx(),cr=!1;
if(c==null)return;if(c.XL){c.DJ()}if(K.data.vL){if(!this.Cv(c,K.data.vL))return;var J=j2.ai1(c,K.data.vL,this.dR);
this.oX(J);cr=!0}else if(c.rs){if(this.Mt.indexOf(c.rs.Tr)!=-1){var J=new Uint8Array(gr.Zf("PSD").bu(c,null,null,[!0,!1])),a=new i3(u.E.v,!0);
a.data={_:Z.fU,c1:c.rs.Tr,data:J,id:c.rs.atk,sU:c.name};a.G=$.Os;this.S(a);alert("Smart Object updated")}cr=!0}else if(this.ki("save")){cr=!0}else if(c.n_){j2.a12(c);
cr=!0}else if(c.Kp){j2.acg(c);cr=!0}else if(c.bA&&c.bA.xO){if(!this.Cv(c,c.bA.xO.formats))return;this.xH.ay8(c,this.dR,j2.a8N);
cr=!0}else if(c._F&&"psd jpg png gif webp svg bmp".split(" ").indexOf(c.NR)!=-1){this.amg();return}if(cr){c.I4=c.qh;
c.k9=Date.now();c.ZI=!0}else{var a=new i3(u.E.L,!0);a.data={_:u.c.Q9};this.S(a)}}if(E==u.c.Q9){if(!this.dR.uC){alert("function is disabled");
return}if(this.ki("saveAsPSD"))return;var c=this.Qx();if(c==null)return;if(!this.Cv(c))return;var a=new i3(u.E.v,!0);
a.data={_:Z.Bd};a.G=$.Os;this.S(a);if(c.B.length>8e3&&!confirm("Your document has "+c.B.length+" layers."+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var ik={W8:[]};c.root.aae([],ik);var hd=ik.W8;if(hd.length>11&&!confirm("One layer is nested "+(hd.length-1)+" times."+" Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: "+hd.join(" \uD83E\uDC1A ")+"."))return;
var df=window.showSaveFilePicker;if(window.parent!=window)df=null;if(df&&!K.data.ast){var bQ={suggestedName:c.name,types:[{description:"PSD Files",accept:{"image/psd":[".psd"]}}]};
df(bQ).then(function(K){c._F=K;c.name=K.name;c.Bi=!0;c.NR="psd";this.amg()}.bind(this));return}var is=window.gtag;
if(c.jZ()&&is)is("event",c.NR+":"+U.Ea(dq.bI()?"\"'|('61":"w'| "),{event_category:"Formats"});if(c.XL){c.DJ()}if(K.data.ast){var J=c.NR=="psd"?gr.Zf("PSD").bu(c):j2.xf(c,c.NR,this.dR);
this.aed(J,c,this)}else{var J=gr.Zf("PSD").bu(c);hP.save(J,c.name);c.I4=c.qh;c.k9=Date.now();c.ZI=!0}}if(E==u.c.$X)window.open(K.data.link,"_blank");
if(E==u.c.a2G){if(this.DC.eb()){this.akB();return}var c=this.Qx(),i=c.B[c.g[0]],x=c.VV(i.add.SoLd.Idnt.v);
for(var y=0;y<this.Mt.length;y++){var bi=this.Mt[y].rs;if(bi!=null&&bi.atk==x.Vn&&bi.Tr==c){this.IV.yc(y);
return}}hP.II({name:x.sU,rs:{atk:i.add.SoLd.Idnt.v,Tr:c}},x.raw.buffer,this)}if(E==u.c.a5z){var c=this.Qx(),i=c.B[c.g[0]],x=c.VV(i.add.SoLd.Idnt.v);
hP.save(x.raw.buffer,x.sU)}if(E==u.c.a2K){console.log(K.data);hP.II({name:K.data.Kp[1].split("/").pop(),Kp:K.data.Kp},K.data.AJ,this)}if(E==u.c.atq){var c=this.Qx();
c.Kp=K.data.Kp;c.name=c.Kp[1].split("/").pop();var a=new i3(u.E.L);a.data={_:u.c.$L};this.S(a)}if(E==u.c.nS){this.ajb()}if(E==u.c.UR){this.azE(K.data.GQ,K.data.OV,K.data.Sv)}if(E==u.c.qp){this.abv(K.data.akp,K.data.zl,K.data.Sv)}if(E==u.c.agL){var jX=K.data.Z;
if(this.dR.OI==$.H4&&this.Tn().eb()){var a=new i3(u.E.v,!0);a.G=$.H4;a.data={_:"insertText",Z:jX};this.S(a);
return}if(jX.startsWith("vcb;")){var eS=JSON.parse(jX.slice(4));eS[0]=aS.tX(eS[0]);var a=new i3(u.E.v,!0);
a.G=$.Xd;a.data={_:"append",vZ:"Paste Paths",a5b:eS};this.S(a)}else if(jX.startsWith("lrs;")){var bN=jX.split(";"),h9=this.Mt[parseInt(bN[1])];
if(h9==null)return;var bz=this.Qx(),i0=h9.g;h9.g=JSON.parse(bN[2]);var hp=h9.JV(null,h9!=bz),a=new i3(u.E.v,!0);
a.data={_:Z.EE,B:hp,Tr:h9,t1:bz};a.G=$.Os;this.S(a);h9.g=i0}else if(jX.startsWith("<!--")||jX.startsWith("<svg")){var hY=R.zR(jX),ji=gr.Zf("svg"),P=new gD("image.psd");
ji.TJ(hY.buffer,P);if(this.Mt.length!=0){var aM=P.B;if(aM.length==3&&aM[0].getName()=="</Layer group>"&&aM[2].wC())aM=[aM[1]];
var a=new i3(u.E.v,!0);a.G=$.Os;a.data={_:Z.EE,B:aM,Tr:P,t1:this.Qx()};this.S(a)}else this.aiE(P)}}if(E==u.c.nO){g9.k0(K.data.RI,this)}if(E==u.c.tv){if(window.parent!=window)window.parent.postMessage(K.data.ry,"*");
this.vH.YQ(K.data.ry)}if(E==u.c.T7){var a1=parseFloat(K.data.xc);if(this.dR._e.indexOf(a1)==-1){var a=new i3(u.E.L,!0);
a.data={_:u.c.Na,ry:eu.f7,Z:a1,bA:"add"};this.S(a)}this.vH.a5M(K.data.xc)}if(E==u.c.h8){this.Fr.axu(this.Qx(),this.dR)}if(E==u.c.v9){var fi="open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" ");
for(var y=0;y<fi.length;y+=2)if(K.data.xc==fi[y]&&this.ki(fi[y+1]))return;if(!this.dR.uC&&K.data.window=="saveforweb"){alert("function is disabled");
return}this.DC.alF(K.data.xc,this.Qx(),K.data,this.Mt,this.jN)}if(E==u.c._X)hP.save(K.data.data,K.data.name);
if(E==u.c.CS){if(!this.DC.eb()||K.s9)this.aiE(K.data.c1)}if(E==u.c.NJ){this.IV.yc(K.data.target);var a=new i3(u.E.v,!0);
a.data={_:Z.auM,c1:K.data.c1,en:K.data.en,cA:K.data.cA};a.G=$.Os;this.S(a);this._P($.Cy)}if(E==u.c.av$){f4.Eg=!f4.Eg;
if(this.Mt.length>0)this.Qx().U()}if(E==u.c.ajC){var jJ=dq.b5();if(jJ!=null&&jJ.globals!=null)this.sJ(jJ.globals);
this.ao()}if(E==u.c.fS){this.xH.mv(K.data.data,null,K.data.p6,K.data.GM,K.data.azp)}if(E==u.c.iM){var gg=this.Tn();
if(!this.DC.Nl()!=null)this._P(K.data.G,K.data._q);var iN=this.Tn();if(iN!=gg&&K.data.axT)iN.zb(this.Qx(),this,this.dR,this.jN,this.Lb)}if(E==u.c.K4){if(this.a._L)this._P(this.a._L)}if(E==u.c.Fx){var ad=this.a.map[K.data.G].G,c=this.Qx();
ad.Gj(K.data,this,c,this.jN,this.dR);if(c)c.Xw=!0;this.a13()}if(E==u.c.zy){var h6=this.a.map[K.data.G];
this.asH(h6);h6.HY.J7(K.data)}if(E==u.c.Na){var c=this.Qx(),iY=K.data.ry,kh=K.data.M1,gN=this.dR;if(K.data.bA=="set"){var iN=$.a4a(kh);
if(gN.OI!=iN)this._P(iN);this.a.map[iN].HY.ahT(kh,gN)}if(K.data.bA=="add"){var V=eu.BU[iY];if(iY==eu.f7){gN._e.push(K.data.Z);
gN._e.sort(function(kn,fQ){return kn-fQ})}else if(V==null){if(kh)gN.ir.aii(kh,K.data.acw);if(c)c.ZI=!0}else{var aT=this.Bo(iY);
if(iY==eu.Xb){aT.qq=aT.qq.concat(kh.qq);aT.V8=aT.V8.concat(kh.V8);aT=aT.list;kh=kh.list}if(iY==eu.aH&&c){for(var y=0;
y<kh.length;y++){var O=kh[y].BT.Lefx;if(O)bd.a9u(O,c,gN.$A)}}if(iY==eu.Ro&&kh==null){var P=this.a.map[gN.OI].HY.acf();
if(P==null)return;kh=[P]}for(var y=0;y<kh.length;y++)aT.push(kh[y]);if(iY==eu.dF){var fs={};for(var y=0;
y<aT.length;y++){var gm=aT[y].xN;while(fs[gm]!=null)gm=aT[y].xN=gm+"X";fs[gm]=!0}}if(K.data.acw!=!0)if(aT.length!=kh.length||iY==eu.ZX||iY==eu.aH||iY==eu.mD||iY==eu.v)alert(hg.get(V[3])+" "+hg.get([23,1])+".")}}if(K.data.bA=="del"){if(iY==eu.f7){gN._e.splice(gN._e.indexOf(K.data.Z),1)}else{var V=eu.BU[iY],D=K.data.yf,aT=this.Bo(iY);
if(iY==eu.Xb)aT=aT.list;for(var y=0;y<D.length;y++)aT[D[y]]=null;for(var y=0;y<aT.length;y++)if(aT[y]==null){aT.splice(y,1);
y--}alert(hg.get(V[3])+" deleted.")}}if(K.data.bA=="rnm"){var V=eu.BU[iY],aT=this.Bo(iY);if(iY==eu.Xb)aT=aT.list;
if(aT[K.data.yf[0]]==null)return;V[2].V$(aT[K.data.yf[0]],K.data.Z)}if(iY==eu.nX){var g8=K.data.Z;gN.Eo=g8;
gN.av0[g8.ez]=g8.QT}if(iY==eu.fh){var g8=K.data.Z;gN.q8=JSON.parse(JSON.stringify(g8));var b_=g8.strokeEnabled.v,ko=g8.strokeStyleContent.v,gk=b_?{ez:1+dz.Ae.Iy.indexOf(ko.classID),QT:ko}:{ez:0};
gN.a7_[gk.ez]=gk.QT}if(iY==eu.PF){gN.Yp=K.data.Z}if(iY==eu.xl){gN.H5=K.data.H5}if(iY==eu.N7){var gC=JSON.parse(JSON.stringify(K.data.BL)),bx=gC.useBrushSize;
if(bx&&bx.v){gC.Brsh.v.Dmtr.v.val=gN.ZR.Ad.Brsh.v.Dmtr.v.val;bx.v=!1}gN.ZR.Ad=gC}if(iY==eu.uF){gN.rN=K.data.iz}if(iY==eu.qA){gN.M1=K.data.iz}if(iY==eu.Fa){var ai,hf="Clrs";
if(K.data.S8<2){var aa=K.data.Z,iS=K.data.S8==0,hl=W.M.TD({o:aa>>>16,J:aa>>>8&255,k:aa&255});if(iS)gN.U9=aa;
else gN.xw=aa;hf=iS?"FrgC":"BckC";ai={va:"set",Ks:{__name:"Set",classID:"setd",T:{t:"Objc",v:hl}}}}if(K.data.S8==2){var jR=gN.U9;
gN.U9=gN.xw;gN.xw=jR;ai={va:"exchange",Ks:{__name:"Exchange",classID:"Exch"}}}if(K.data.S8==3){gN.U9=0;
gN.xw=16777215;if(c!=null&&c.g.length!=0&&c.B[c.g[0]].kS==1){var jR=gN.U9;gN.U9=gN.xw;gN.xw=jR}ai={va:"reset",Ks:{__name:"Reset",classID:"Rset"}}}if(ai){ai.Ks.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:hf}}]};
var h6=this.Tn();h6.H3=this;h6.track(ai)}}if(iY==eu.fx){gN.Fy=!gN.Fy;this.dZ()}if(iY==eu.s3){gN.R9=!gN.R9;
this.dZ()}var jC=gN.Vp;if(iY==eu.Sa){jC.hO=!jC.hO;this.dZ()}if(iY==eu.gj){jC.Qg=!jC.Qg;this.dZ()}if(iY==eu.c0){jC.J$=!jC.J$;
this.dZ()}if(iY==eu.o_){jC.vh=!jC.vh;this.dZ()}if(iY==eu.fX){jC.RZ=!jC.RZ;this.dZ()}if(iY==eu.IX){jC.ea=!jC.ea;
this.dZ()}if(iY==eu.f6){gN.Vp=K.data.iz;this.dZ()}if(iY==eu.amW){gN.ab=!gN.ab;this.dZ()}if(iY==eu.l3){gN.gS[K.data.r7]=!gN.gS[K.data.r7];
this.dZ()}if(iY==eu.QX){hg.Pw(K.data.lang,this.ph)}if(iY==eu.SE){gN.T8=K.data.T8;this.f()}if(iY==eu.pt&&gN.vN.jo){var h8=gN.vN.jo.transaction(["rsrc"],"readwrite").objectStore("rsrc"),cW=h8.put({k:"fs0",fset:gN.vN.xP});
cW.onerror=function(K){console.log(K);alert("Storing failed. Browser says: "+K.target.error.message,7e3)}}this.Ux(iY)}};
hO.prototype.amg=function(){var K=new i3(u.E.L,!0);K.data={_:u.c.B6,kB:"Saving ..."};this.S(K);setTimeout(function(){var K=new i3(u.E.L,!0);
K.data={_:u.c.Q9,ast:!0};this.S(K)}.bind(this),20)};hO.prototype.aed=function(K,E){E._F.createWritable().then(function(x){x.write(K);
return x}).then(function(x){return x.close()}).then(function(x){E.I4=E.qh;E.k9=Date.now();E.ZI=!0;var c=new i3(u.E.L,!0);
c.data={_:u.c.Di,kB:"Saving ..."};this.S(c)}.bind(this)).catch(function(x){var c=new i3(u.E.L,!0);c.data={_:u.c.Di,kB:"Saving ..."};
this.S(c)}.bind(this))};hO.prototype.avA=function(){var K=this.dR,E=K.M1,x=K.ae1;for(var y=0;y<E.length;
y++){var c=E[y];if(x[c])continue;x[c]=!0;this.xH.VO(c,!1,!0)}};hO.prototype.abc=function(){this.f();
this.dZ()};hO.prototype.ki=function(K){var E=this.dR.TK[K];if(E){var x=new i3(u.E.L,!0);x.data={_:u.c.nO,RI:E};
this.S(x)}return E!=null};hO.prototype.Cv=function(K,E){var x=!0,P=15;if(E){x=!1;for(var y=0;y<E.length;
y++)if(E[y].startsWith(U.Ij("__M")))x=!0}var c=K.jZ()||K.rs&&K.rs.Tr.jZ();if(this.ui())c=!1;var J=new U.rT[g6.aa],i=(J[U.Ea("xy,b-66:")]()&1)*60+J[U.Ij("VQ]3LNRN<G")]();
if(c&&!dq.bI()&&i>P&&x){var _=U.rT[U.Ea("}$z{2*35")][U.Ea("y'|!")],a=U.Ij("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
a+="\n\n"+U.Ij("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"")+(-i+120)+U.Ij("nYRTXTBMd");
if(_.indexOf(U.Ea("\"|'/-1)(W0?@"))==-1)a=hg.get([0,11+6,3+2]);U.rT._cwY(a);return!1}return!0};hO.prototype.Bo=function(K){var E=this.dR,x=[eu.Xb,eu.B5,eu.XE,eu.mD,eu.up,eu.dF,eu.aH,eu.ZX,eu.v,eu.Ro,eu.ZQ],c=[E.ZR,E.zd,E.Nj,E.B2,E.$A,E.nK,E.n1,E.awV,E.A$,E.rU,E.ahe];
return c[x.indexOf(K)]};hO.prototype.ajb=function(){var K=this.azE(),E=this.Qx();if(E==null||E.g.length==0)return;
var x=E.B[E.g[0]],c=new i3(u.E.v);if(K==1){c.G=$.Xd;c.data={_:"remove",vZ:"Cut Paths"}}else{c=new i3(u.E.Hg);
c.data={va:"delete"}}this.S(c)};hO.prototype.azE=function(K,E,x){if(K==null)K=!1;var c=this.dR;console.log("doCopy",K,E);
var J=this.Qx();if(c.OI==$.H4&&this.Tn().eb()){var i=new i3(u.E.v,!0);i.G=$.H4;i.data={_:"copyText"};
this.S(i);return}if(J==null||J.g.length==0)return;var P=J.B[E==null?J.g[0]:E],_=J.Ox(),a=_[0],j=_[1],e=a[j[0]];
if(!K&&e!=null&&e.add.vmsk.g.length!=0){var d=$.hS.Bj(e.add.vmsk,e.add.vogk);if(U.BI()){d[0]=aS.a0c(d[0]);
var I="vcb;"+JSON.stringify(d);hP.V1(new Blob([I],{type:"text/plain"}))}else c.tL=d;return 1}else if(J.P==null){if(U.BI()){var I="lrs;"+this.Mt.indexOf(J)+";"+JSON.stringify(J.g);
hP.V1(new Blob([I],{type:"text/plain"}))}}else{var v,n;if(K){var C=new cS(0,0,J.b,J.n);n=C.Sl(J.P.rect);
v=W.Q(n.O()*4);W.UL(J.S7(),C,v,n);W.x9(J.P.channel,J.P.rect,v,n)}else if(J.N9.length!=0){n=J.P.rect.clone();
v=W.Q(n.O()*4);var T=J.Un[J.N9[0]],o=T.zw(n);W.eE(o,v);W.Mz(J.P.channel,v,3)}else{var Q=P.xo(J,J.P);
if(Q==null){alert("Copied area is empty");return}v=Q.AJ;n=Q.rect}var X=J.D.NW,B=X[0]+X[1]+X[2];if(B==1){var M=X.indexOf(1);
for(var y=0;y<v.length;y+=4)v[y]=v[y+1]=v[y+2]=v[y+M]}var S=new iP(J.b,J.n);if(U.BI()&&x!=!0){var f=gr.Zf("PNG").ahA(v.buffer,n.b,n.n);
hP.V1(new Blob([new Uint8Array(f)],{type:"image/png"}));this.alk={ZE:n,XH:S}}else c.$U={buffer:v,rect:n,XH:S};
c.a8$=n.clone();c.tL=null}};hO.prototype.abv=function(K,E,x){if(E)this.at6=!0;console.log("doPaste");
var c=this.dR,J=c.$U,a;if(this.Mt.length==0){if(!K&&U.BI()){hP.Rf(this,null);return}if(J){var i=gr.vV("image.psd",[{data:J.buffer.buffer,yA:J.rect}]),P=new i3(u.E.L);
P.data={_:u.c.CS,c1:i};this.S(P)}return}var i=this.Qx();if(c.OI==$.H4&&this.Tn().eb()){hP.Rf(this,null);
return}var _=i.B[i.g.length==0?i.B.length-1:i.g[0]];if(c.tL){var j=i.Ox(!0),e=j[0],d=j[1];a=e[d[0]]}var P=new i3(u.E.v,!0);
if(c.tL!=null&&a!=null){P.G=$.Xd;P.data={_:"append",vZ:"Paste Paths",a5b:c.tL}}else if(!K&&U.BI()&&x!=!0){hP.Rf(this,this.awL.bind(this));
return}else{if(J==null)return;if(i.IC(!1)&&(i.D.NW.join("")!="111"||i.N9.length!=0||_.kS>0||_.rect.um())){P.G=$.Xb;
P.data={_:"draw",a28:!0,vZ:[5,2]}}else{P.G=$.Os;P.data={_:Z.bw,zl:this.at6};this.at6=!1}P.data.$U=J}this.S(P)};
hO.prototype.auR=function(){var K=this.dR.ir;if(K.a9U())return;for(var y=0;y<this.Mt.length;y++){var E=this.Mt[y];
if(!cl.pZ(E,K,this))continue;if(E.zc)cl.ah3(E,K,this);var x=E.add.lnk2;if(x)for(var c=0;c<x.length;c++){var J=x[c];
if(J.zc)$.rn.Dq(E,J.Vn,J.WG[1],J.WG[1],K)}if(E.a0a)continue;E.a0a=!0;if(E.bA&&E.bA.av3)g9.k0(E.bA.av3,this);
this.oX();var i=new i3(u.E.v);i.G=$.Os;i.data={_:Z.YZ};var P=new i3(u.E.L);P.data={_:u.c.T7,xc:ap.oE.aoQ};
P.data={_:u.c.v9,xc:"saveforweb",fC:9}}};hO.prototype.Ux=function(K){this.avA();var E=this.dR,x=E.OI,P=!1;
if(K==eu.N7){if(this.a.map[x].HY)this.a.map[x].HY.Q3(E,K)}else for(var c in this.a.map)if(this.a.map[c].HY)this.a.map[c].HY.Q3(E,K);
if(K==eu.r8){if(x!=$.H4)this.a.map[$.H4].G.Q3(E,K);this.auR()}this.IV.Q3(E,K);this.oI.Q3(E,K);this.DC.Q3(E,K);
this.Tn().Q3(E,K);this.vH.Q3(E,K);this.OK.Q3(E,K);if(K==eu.SE||K==eu.$r){cX.ajx(E.T8);this.update(!0)}var J=E.H5,i=J.BY.Font;
if(K==eu.xl&&i!=null&&J.Ho[i].Name!=E.font){E.font=J.Ho[i].Name;P=!0}if([eu.f7,eu.uF,eu.qA,eu.Fa,eu.fx,eu.s3,eu.f6,eu.c0,eu.o_,eu.Sa,eu.gj,eu.fX,eu.IX,eu.QX,eu.SE].indexOf(K)!=-1||P)this.a13()};
hO.prototype.a13=function(){if(!this.cd)return;var K={},E=this.a.map;for(var x in E){var c=E[x].G;if(c.B7&&c.B7()!=null)K["t"+x]=c.B7()}var J=this.dR,i=J.Vp,P={fcolor:J.U9,bcolor:J.xw,rulers:J.Fy,extras:J.R9,favFam:J.rN,rsrc:J.M1,panels:J._e,eparams:{guides:i.J$,grid:i.vh,sels:i.hO,paths:i.Qg,pgrid:i.RZ,slices:i.ea,gsize:parseFloat(i.SH.toFixed(2)),gunits:i.Yb,gtype:i.uU,runits:i.OZ},lang:hg.pK(),theme:J.T8,as:J.Ep,topt:K};
if(J.font!=null)P.font=J.font;var _=dq.b5();if(_==null)_={};_.globals=P;dq.S9(_)};hO.prototype.AA=function(K){var E=this.jN,x=this.Lb,c=this.dR.OI,J=this.a.map[c].G,i=null,P=!1;
for(var y=0;y<this.a.at0.length;y++){var _=this.a.at0[y],a=!0;for(var j=0;j<_.S3.length;j++){var e=_.S3[j];
if(!E.l(e))a=!1}if(a&&(!_._U||!J.eb())&&(_.a5==null||_.a5.indexOf(c)!=-1)){i=_.G;P=_._U;break}}if((!x.tj||c==$.T3||K)&&this.a.iA!=i&&(i!=c||!P)){var d=this.Qx();
if(this.a.iA!=null&&i==null)this.Tn().disable(d,this,this.dR,E,!0);this.a.iA=i;this.Tn().enable(d,this,this.dR,E,i!=null&&i!=c)}};
hO.prototype.eu=function(K){var E=this.dR.OI,x=this.Qx();if(E!=null){this.a.map[E].G.disable(x,this,this.dR,this.jN)}};
hO.prototype.asH=function(K){if(K.HY==null){K.HY=new K.qt;K.HY.avt(K.G.id,K.G.AX);K.HY.Q3(this.dR,eu.$r);
K.HY.f()}};hO.prototype._P=function(K,E){if(K==$.Cy&&this.DC.Nl())return;var x=this.Qx(),c=this.dR;if(this.a.map[K].G.XJ(x,c)){this.eu();
if(K!=c.OI)this.a._L=c.OI?c.OI:$.x3;c.OI=K;this.oI._P(c.OI);var J=this.a.map[K];this.a.jq[J.db]=J.a07;
this.asH(J);this.tF.a9x(J.HY);var i=J.G;i.enable(x,this,this.dR,this.jN,!1,E);if(x)x.Xw=!0;this.dZ();
this.L1.a4N()}};hO.prototype.Tn=function(K){var E=this.a,x=E.ae,c=E.iA,J=this.dR.OI;if(x)J=x;else if(c&&K==null)J=c;
return E.map[J].G};hO.prototype.aiE=function(K){var E=this.dR,x=this.Mt.indexOf(K);if(x!=-1){this.IV.yc(x);
return}if(this.Gp&&(K.bA==null||K.bA.xO==null)){K.bA={xO:this.Gp}}if(K.pM==null){K.pM="local,"+this.a0Y+","+K.name;
this.a0Y++}K.k9=Date.now();if(aG.Wx()!=0&&!this.acV&&U.rT[U.Ea("t$&!'31")].toString().indexOf(U.Ea(" u,$4&"))==-1){alert(U.Ea("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
return}for(var y=0;y<K.B.length;y++){var c=K.B[y];if(c.add.SoLd!=null){var J=Date.now()}}var i=K.B.length,P=g6.zj(),_=Math.PI*(5465<<14)+(U._H(31)?20:10)*7e7;
if(P>_){var i=K.B.length;K.B=[];return i}if(f4.Eg){f4.LN(Math.max(K.b,K.n));for(var y=0;y<K.B.length;
y++){var c=K.B[y];if(c.Lq())f4.LN(Math.max(c.rect.b,c.rect.n))}}K.p7();K.Iv();if(K.ah6)K.amR();else K.U();
K.ah6=!1;this.Mt.push(K);this.IV.L2(new aV(K));K.Xw=!0;K.ZI=!0;this.auR();var a=new i3(u.E.v);a.G=$.mo;
a.data={_:"auto",o3:2}};hO.prototype.Qx=function(){return this.Mt[this.aX]};hO.prototype.a2V=function(){return this.DC.Nl()==null};
hO.prototype.NI=function(K,E){this.eu();var x=this.Mt.length;if(E!=null)this.IV.yc((this.IV.a0()+E+x)%x);
this.aX=this.IV.a0();var c=this.Qx();this.OK.asN(c,this.dR);this.vH.jG(c,this.Mt,this.dR);this.dZ();
if(c)c.Xw=!0};hO.prototype.apS=function(K){this.eu();var E=this.Mt[K.data.GJ];this.Mt.splice(K.data.GJ,1);
if(this.Mt.length==0){this.NI(K);var x=f4.G3(),c=aV.IG.Eq;if(x.parentNode)x.parentNode.removeChild(x);
if(c.parentNode)c.parentNode.removeChild(c)}};hO.prototype.a0G=function(K){var E=[],x=K.data.an2;for(var y=0;
y<x.length;y++)E[y]=this.Mt[x[y]];this.Mt=E;this.aX=this.IV.a0()};hO.prototype.arv=function(K){var E=this.IV,x=E.axB(),c=this.Tn(),J=this.Qx();
if(x==E.a0()||!c.auY())return;this.a5B(x,c)};hO.prototype.a5B=function(K,E){console.log("dup2doc");var x=this.dR,c=this.IV,J=this.Qx(),i=this.Mt[K],P,_=new i3(u.E.v,!0);
_.G=$.Os;if(J.P==null){_.data={_:Z.EE,B:J.JV(null,!0),Tr:J,t1:i};this.S(_)}else P=J.B[J.g[0]].xo(J,J.P);
var a=this.Lb,j=x.Fy;x.Fy=!1;a=J.D.gg(a.x,a.y);if(E)E.ff(J,this,x,this.jN);c.yc(K);if(J.P){_.data={_:Z.bw,$U:{buffer:P.AJ,rect:P.rect}};
this.S(_)}a=i.D.An(a.x,a.y);a.x+=49;a.y+=112;if(E)E.zb(i,this,x,this.jN,a);x.Fy=j};hO.prototype.ath=function(K){var E=this.Qx(),x=this.jN,c=this.dR,J=K.cW;
if(J)this.Lb=J;if(this.M3==null)this.M3=0;if(K.action=="multidown"){this.I7=K.w8.length;this.M3=Date.now()}if(K.action=="up"&&Date.now()-this.M3<100){var i=new i3(u.E.v);
i.G=$.Ww;i.data={_:this.I7==2?"h_stepbck":"h_stepfwd"};this.S(i)}if(K.action.startsWith("multi")){var P=new i3(u.E.v,!0);
P.data={_:K.action,w8:K.w8};P.G=$.lJ;this.S(P);return}var _=this.a.map[$.x3].G;if((K.action=="down"||K.action=="rdown")&&c.OI!=$.x3&&this.a.iA!=$.x3&&_.ajS(E,this,c,x,J)){this.a.ae=$.x3;
_.enable(E,this,c,x,!0)}if(K.action=="idown"){x._S("Space");this.AA(!0);K.action="down"}var a=this.DC.Nl(),j=a!=null&&a.Qh()&&this.a.iA==null?a:this.Tn();
if(K.action=="scroll"){var e=!x.l(j6.Se)&&K.yk,P=new i3(u.E.v,!0);P.data={_:"scroll",K8:K.K8.clone(),cW:J,a2g:e};
P.G=x.l(j6.iE)||e?$.lJ:$.ER;this.S(P)}if(a!=null&&j!=a&&this.DC.eb()&&j.id!=$.ER&&j.id!=$.lJ)return;
if(K.action=="down")j.zb(E,this,c,x,J);if(K.action=="rdown")j.Sb(E,this,c,x,J);if(K.action=="move")j.il(E,this,c,x,J);
if(K.action=="up"||K.action=="iup"||K.action=="cancellast")j.N2(E,this,c,x,J,K.action=="cancellast");
if(K.action=="rup")j.oG(E,this,c,x,J);if(K.action=="iup"){x.Dv("Space");this.AA(!0)}if(K.action=="cancellast"){if(E&&E.history.length!=0&&Date.now()-E.history[E.history.length-1].au6<200){var i=new i3(u.E.v);
i.G=$.Ww;i.data={_:"h_stepbck"};this.S(i)}}var d=this.vH;if(K.action=="down")d.zb(E,this,c,x,J);if(K.action=="move")d.il(E,this,c,x,J);
if(K.action=="up")d.N2(E,this,c,x,J);if(K.action=="down"||K.action=="up"){this.AA()}if(K.action=="down"||K.action=="up"||K.action=="ctx"){E.Xw=!0}if((K.action=="up"||K.action=="rup")&&this.a.ae){this.a.ae=null;
_.disable(E,this,c,x)}};hO.prototype.iT=function(K){var E=this.Qx(),x=this.Lb;if(E&&this.Tn().GT(x,this.jN)){var c=E.D,J=c.E5.b,i=c.E5.n,P=0,_=0,a=16;
if(x.x<a)P=a-x.x;if(x.x>J-a)P=x.x-(J-a);if(x.y<a)_=a-x.y;if(x.y>i-a)_=x.y-(i-a);var j=this.jN.l(j6.iu)?8:1;
if((P!=0||_!=0)&&(E.b*c.N>J||E.n*c.N>i)){P=Math.min(5,P*.5)*j;_=Math.min(5,_*.5)*j;if(!(x.x<a||x.y<a)){P=-P;
_=-_}c.R.x+=P;c.R.y+=_;this.ath({cW:this.Lb,action:"move"});E.Bi=!0}}this.update()};hO.prototype.update=function(K){var E=this.Qx();
if(E==null)return;if(E.Xw){var x=this.a.map;for(var c in x){if(x[c].G.br)x[c].G.br(E,this,this.dR,this.jN)}}if(E.XL)if(f4.Eg)f4.LN(Math.max(E.b,E.n));
if(E.XL){E.DJ()}var J=E.D,i=this.aw,P=this.aw=Date.now();if(E.XL||E.zF||E.ZI||E.Bi||K||J.f$!=J.N||!J.$J.ac(J.R)){var _=J.f$;
if(J.f$!=J.N){var a=$.gM.a1p(J.N,J.f$>J.N),j=.12;if(J.f$<J.N&&J.f$<a)J.f$=a;if(J.f$>J.N&&J.f$>a)J.f$=a;
var e=Math.abs(J.N-a)*(P-i)*.001/j;if(J.f$<J.N)J.f$=Math.min(J.N,J.f$+e);else J.f$=Math.max(J.N,J.f$-e)}var d=_==J.N?0:(J.f$-J.N)/(_-J.N);
J.$J.x=J.R.x+d*(J.$J.x-J.R.x);J.$J.y=J.R.y+d*(J.$J.y-J.R.y);this.IV.Q3(this.dR,null);this.IV.jG(E,this.Mt)}if((E.XL||E.Bi||E.Xw)&&(!this.Lb.tj||E.rD)){if(E.Xw)E.Iv();
this.vH.jG(E,this.Mt,this.dR);this.oI.a23(E,this.jN);E.HB=!1}E.rD=!1;E.Xw=!1;E.XL=null;E.zF=E.ZI=E.Bi=!1};
hO.prototype.w4=function(K){var E=K.target.tagName.toLowerCase(),x=K.target.getAttribute("type"),c=j6,J=c.MQ(K.code,c.Tt);
if(!((E=="input"||E=="select"||E=="button")&&c.MQ(K.code,c.H2))){if(c.R5(K)){K.preventDefault()}this.jN._S(c.$p(K));
this._G("down")}};hO.prototype.kD=function(K){if(K.key==" ")this.jN.zr();if(j6.MQ(K.code,j6.lh))this.jN.reset();
this.jN.Dv(j6.$p(K));var E=K.target.tagName.toLowerCase();if(j6.R5(K)){K.preventDefault()}this._G("up")};
hO.prototype._G=function(K){var E=this.jN,x=this.Qx(),c=x!=null&&x.g.length!=0;if(this.Fr.Nl()!=null){if(E.l(j6.go)){this.Fr.ab1()}return}this.AA();
var J=this.b6(j6.Se),i=E.l(j6.iE),P=E.l(j6.iu);if(J&&E.l(j6.WV)&&K=="down"){var _=new i3(u.E.v),a=new i3(u.E.L);
_.G=$.Ww;if(P){_.data={_:"h_stepfwd"}}else{_.data={_:"h_stepbck"}}if(this.DC.Nl()!=null&&this.DC.Nl().eb()){}else this.S(_)}if(J){var _=new i3(u.E.v),j=new i3(u.E.Hg),a=new i3(u.E.L);
if(E.l(j6.th)&&E.l(j6.Vd)){a.data={_:u.c.v9,xc:"storwindow"};this.S(a)}if(!i&&K=="down")for(var e in c2.keys){var d=c2.keys[e],I=!0;
for(var y=0;y<d.length;y++)if(!E.l(d[y]))I=!1;if(I){_.G=$.mo;if(e=="hue2"&&P&&x.B[x.g[0]].add.SoLd==null)_.data={_:"auto",o3:3};
else _.data={_:"start",Lj:e}}}if(E.l(j6.c)){j.data=$.cx.HI(!0)}if(E.l(j6.ww)){if(i)a.data={_:u.c.v9,xc:"csize"};
else if(x)a.data={_:u.c.UR,GQ:P}}if(E.l(j6.hY)){j.data=$.cx.HI()}if(E.l(j6.E)&&K=="down"){if(P)j.data={va:"mergeVisible"};
else j.data={va:"mergeLayersNew",Ks:{__name:"Merge Layers",classID:"Mrg2"}}}if(E.l(j6.ni)){if(P&&this.dR.OI!=$.Cy)a.data={_:u.c.v9,xc:"afw_fade"};
else if(i){_.G=$.AL;_.data={_:"applylast"}}else a.data={_:u.c.h8}}if(E.l(j6.Zt)){if(i&&x&&x.yd(x.g[0])){_.G=$.Os;
_.data={_:Z.u_}}else{_.G=$.Os;_.data={_:Z.YS,og:P}}}if(E.l(j6.CZ)){a.data={_:u.c.Na,ry:eu.s3}}if(E.l(j6.th)){if(P){_.data=null;
if(i)a.data={_:u.c.v9,xc:"finfo"};else j.data={va:"inverse"}}else if(i)a.data={_:u.c.v9,xc:"isize"}}if(E.l(j6.QY)){j.data={va:(P?"cut":"copy")+"ToLayer"}}if(E.l(j6.ms)){a.data={_:u.c.v9,xc:"preferences"}}if(E.l(j6.KA)){if(P){_.G=$.Os;
_.data={_:Z.bM}}else if(K=="down")a.data={_:u.c.v9,xc:"newproject"}}if(E.l(j6.m8)){if(i)a.data={_:u.c.v9,xc:"storwindow",no:0};
else{a.data={_:u.c.yq};E.reset()}}if(E.l(j6.jT)){a.data={_:u.c.azL};E.reset()}if(E.l(j6.oE)){a.data={_:u.c.Na,ry:eu.fx}}if(E.l(j6.Ed)&&K=="down"){if(P){if(i)a.data={_:u.c.v9,xc:"saveforweb"};
else a.data={_:u.c.Q9}}else a.data={_:u.c.$L}}if(E.l(j6.vJ)){if(P){_.G=$.Cy;_.data={_:"again"}}else a.data={_:u.c.iM,G:$.Cy}}if(E.l(j6.od)){a.data={_:u.c.qp}}if(E.l(j6.FC)){this.IV.OY()}if(E.l(j6.s7)&&x&&x.ZY()){a.data={_:u.c.nS}}if(E.l(j6.tz)||E.l(j6.fl)){_.G=$.Os;
_.data={_:Z.ex,S8:0};if(E.l(j6.tz))_.data.S8=P?3:2;else _.data.S8=P?0:1}if(E.l(j6.C0)&&x){_.G=$.Os;_.data={_:Z.gn}}if(E.l(j6.Tt)&&x){var v=0;
if(P)v++;if(i)v+=2;_.G=$.LR;_.data={_:"frompath",WX:[null,0,v]}}if(E.l(j6.e1)){j.data=$.$a.yW(0)}if(E.l(j6.H2)){var n=this.Mt.length,C=E.l(j6.iu)?-1:1;
if(n>1)this.IV.yc((this.IV.a0()+n+C)%n)}if(E.l(j6.Rn)){a.data={_:u.c.Na,ry:eu.c0}}if(E.l(j6.cR)){a.data={_:u.c.Na,ry:eu.o_}}$.gM.ayW(E,_);
if(this.DC.Nl()!=null&&this.DC.Nl().eb()){}else{if(_.data)this.S(_);if(j.data)this.S(j);if(a.data)this.S(a)}}if(!J&&i){var T;
if(E.l(j6.tz))T="Bckw";if(E.l(j6.fl))T="Frwr";if(E.l(j6.C0))T="Back";if(E.l(j6.e1))T="Frnt";if(T){var j=new i3(u.E.Hg);
j.data={va:"select",Ks:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:T}}]},MkVs:{t:"bool",v:!1}}};
this.S(j)}}if(x&&x.g.length!=0){var o=x.B[x.g[0]],s=o.kS;if(s==1||s==3||J){var _=new i3(u.E.v),Q=s==3?o.Xe(x).z:o.FA();
if(Q){var X=Q.U1?x.D.NW.join("")=="111"?1:2:0;_.G=$.lJ;if(Q&&E.l(j6.go)&&X!=0){_.data={_:"mskView",Z:0}}if(Q&&E.l(j6.a87)){_.data={_:"mskView",Z:X==1?0:1}}if(Q&&E.l(j6.an1)){_.data={_:"mskView",Z:X==2?0:2}}if(_.data)this.S(_)}}}var B=E.VF();
if(x&&J&&2<=B&&B<=5){var M=[1,1,1];if(B>2){M=[0,0,0];M[B-3]=1}var S=new i3(u.E.v,!0);S.G=$.ER;S.data={_:"setcls",NW:M};
this.S(S)}if(!E.l(j6.Se)&&!i&&K=="down"){var _=new i3(u.E.v),a=new i3(u.E.L),f=this.a.map[this.dR.OI],F=-1;
for(var y=0;y<this.a.keys.length;y++)if(this.a.keys[y]&&this.b6(this.a.keys[y]))F=y;if(F!=-1){var G=null;
if(f.db!=F)G=this.a.jq[F];if(f.db==F&&P)G=(f.a07+1)%this.a.GP[F].length;if(G!=null){var D=this.a.GP[F][G].G.id,b=this.dR.Lf;
if((b==null||b.indexOf(parseInt(D))!=-1)&&!this.Lb.tj)a.data={_:u.c.iM,G:D}}}if(E.l(j6.CZ))a.data={_:u.c.iM,G:$.ER};
if(E.l(j6.oE))a.data={_:u.c.iM,G:$.LE};if(E.l(j6.s7))a.data={_:u.c.Na,ry:eu.Fa,S8:2};if(E.l(j6.hY))a.data={_:u.c.Na,ry:eu.Fa,S8:3};
if(a.data)this.S(a);if(E.l(j6.aqC)&&x&&x.g.length==1){var o=x.B[x.g[0]];_.G=$.Os;var H=o.M0(0)||o.M0(1)||o.M0(2)||o.M0(31);
_.data={_:Z.Io,iz:H?[[!1,!1,!1,!1],[0,1,2,31]]:[[!0],[31]]};this.S(_)}var B=E.VF();if(c&&B!=-1&&this.b6(j6.Bg[B])){var q=x.g[0],o=x.B[q],O=j6.uZ(Math.round(100*o.opacity/255),B);
_.G=$.Os;_.data={_:Z.O4,iz:Math.round(255*O/100)};this.S(_)}var w=this.dR.Py;if(E.l(j6.H2)){a.data={_:u.c.cM,Z:w==0?1:0};
this.S(a)}if(E.l(j6.ni)||E.l(j6.go)&&w==2){var V=document.fullscreenElement!=null==(w==2);a.data={_:u.c.cM,Z:w==0?2:0,X4:V};
this.S(a)}if(E.l(j6._x)&&!this.Lb.tj){_.G=$.LR;_.data={_:"qmask"};this.S(_)}}if(!E.l(j6.Se)&&!i&&P){var _=new i3(u.E.v),a=new i3(u.E.L);
if(E.l(j6.C0))a.data={_:u.c.v9,xc:"shortcuts"};if(E.l(j6.dL))a.data={_:u.c.v9,xc:"fill"};if(E.l(j6.a6p))a.data={_:u.c.v9,xc:"sel_feather"};
if(c&&(E.l(j6.Q5)||E.l(j6.jb))){var q=x.g[0],o=x.B[q],t=db.bV,m=t.length,g=t.indexOf(o.Vk);_.G=$.Os;
_.data={_:Z.vq,iz:(g+m+(E.l(j6.Q5)?1:-1))%m};this.S(_)}if(a.data)this.S(a)}var _=new i3(u.E.v),Y=K=="down"&&(this.b6(j6.C3)||this.b6(j6.oh));
if((J||i)&&Y){_=new i3(u.E.Hg);_.data=$.Hj.rM(J?"BckC":"FrgC");this.S(_)}else if(x&&Y&&!this.Lb.tj){if(x.P!=null){_=new i3(u.E.Hg);
_.data={va:"delete"}}else if(x.g.length!=0){var o=x.B[x.g[0]];if(o.kS==1)_.data={_:Z.Ni};else if(o.kS==3)_.data={_:Z.l5};
else _.data={_:Z.vp};_.G=$.Os}this.S(_)}if(this.DC.Nl()!=null){if(E.l(j6.go)){this.DC.Nl().ajO()}else{this.DC.Nl()._G(x,this,this.dR,E)}}if(this.dR.OI==null)return;
var f=this.Tn();if(this.DC.Nl()==null||this.a.iA)f._G(x,this,this.dR,E)};hO.prototype.b6=function(K){var E=this.jN,x=this.a.map[this.dR.OI].G,top=this.DC.Nl(),c=this.Qx();
return E.l(K)&&!x.Xo(K,c)&&(top==null||!top.Xo(K,c))};hO.prototype.KU=function(K){var E=this.acR,x=this.fD;
this.dR.Py=K;var c=U.Of,J=this.OK.e;if(c(J))this.$g.removeChild(J);var i=this.tF.e;if(c(i))this.$g.removeChild(i);
var P=this.oI.e;if(c(P))E.removeChild(P);var _=this.IV.e;if(c(_))E.removeChild(_);var a=this.vH.e;if(c(a))E.removeChild(a);
if(K==0){this.$g.appendChild(J);this.$g.appendChild(i);x.appendChild(E);E.appendChild(P);E.appendChild(_);
E.appendChild(a)}if(K==1){this.$g.appendChild(J);E.appendChild(_)}if(K==2){E.appendChild(_)}this.IV.KU(K==2?1:0);
this.dZ()};hO.prototype.akG=function(K){if(this.ui())return 1;if(U.agY()==0){this.dR={};this.nt=function(E,x){return Math.sqrt(E*x)}}return-1};
function eI(K){fo.call(this);if(K==null)return;this.pz=null;this.o4=null;this.e=U.t("div","sbar"+" "+K);
this.mk=new U.t("div","top");this.mk.innerHTML="> <";this.e.appendChild(this.mk);this.c9=1;this.mk.addEventListener("click",this.ail.bind(this),!1)}eI.prototype=new fo;
eI.prototype.ail=function(K){if(this.pz!=null&&this.pz<500&&this.c9==0)return;if(this.c9==0)this.JH(!0);
else this.collapse(!0)};eI.prototype.a3l=function(K){this.c9=K;this.mk.innerHTML=this.c9==0?"< >":"> <"};
eI.prototype.arB=function(){var K=new i3(u.E.L,!0);K.data={_:u.c.DQ};this.S(K)};eI.prototype.JH=function(K){this.a3l(1);
if(K)this.arB()};eI.prototype.collapse=function(K){this.a3l(0);if(K)this.arB()};eI.prototype.RD=function(){return this.c9==1};
function d_(K,E){eI.call(this,"vcolumn");this.vD=K;this.a3z=E;this.L4();this.lB=U.t("div");this.lB.setAttribute("style","cursor:default;");
this.ajE=this.anu.bind(this);this.amn=this.asI.bind(this);this.a8z=this.ahu.bind(this);U.gw(this.e,this.ajE);
this.e.appendChild(this.lB);this.$D=U.t("div");this.lB.appendChild(this.$D);this.Jg=-1;this.acG=U.t("div","float");
var x=this.NF=U.t("canvas","gsicon"),c=Math.round(12*U.V());x.width=x.height=c;var J=x.getContext("2d");
J.moveTo(2,2);J.lineTo(c-2,c-2);J.moveTo(2,7);J.lineTo(c-7,c-2);J.stroke();this.NF.setAttribute("style","position:absolute; bottom:0;  left:0;  cursor:nesw-resize;");
U.hr(this.NF);U.gw(this.NF,this.ajE);U.Ne(x);this.z5=[];this.US=[];this.ayt=null;this.j7=null;this.axG=0}d_.prototype=new eI;
d_.prototype.anu=function(K){var E=K.target==this.NF;if(!E){if(K.target!=this.e)return;if(!this.RD())return}else{var x=this.z5[this.Jg].jz;
x.style.pointerEvents="none";var c=x.getBoundingClientRect();this.ayt=[c.width,c.height];this.US[this.Jg]=[c.width,c.height]}K.stopPropagation();
this.j7=U.bf(K,document.body);this.axG=this.vD;U.nx(document,this.amn);U.xz(document,this.a8z)};d_.prototype.asI=function(K){var E=U.bf(K,document.body);
if(this.RD()){this.vD=this.axG+this.j7.x-E.x;this.L4()}else{var x=this.US[this.Jg],c=this.ayt;x[0]=c[0]+this.j7.x-E.x;
x[1]=c[1]+E.y-this.j7.y}var J=new i3(u.E.L,!0);J.data={_:u.c.DQ};this.S(J)};d_.prototype.ahu=function(K){if(!this.RD()){var E=this.z5[this.Jg].jz;
E.style.pointerEvents="auto"}U.PL(document,this.amn);U.KR(document,this.a8z)};d_.prototype.akT=function(K){K.w("showFloat",this.axS,this);
K.w("hideFloat",this.to,this);this.z5.push(K);K.parent=this;this.lB.appendChild(K.e)};d_.prototype.amN=function(y){var K=this.z5[y];
K.removeEventListener("showFloat",this.axS,this);K.removeEventListener("hideFloat",this.to,this);this.z5.splice(y,1);
K.parent=null;this.lB.removeChild(K.e)};d_.prototype.a5A=function(){return this.z5.length};d_.prototype.o8=function(){for(var y=0;
y<this.z5.length;y++)this.z5[y].o8()};d_.prototype.axS=function(K){this.o8();var E=this.acG;this.$D.appendChild(E);
this.Jg=this.z5.indexOf(K.currentTarget);var x=this.z5[this.Jg].jz;U.w6(E);E.appendChild(x);E.appendChild(this.NF);
this.nt(this.pz,this.o4)};d_.prototype.to=function(K){this.o8();if(this.Jg!=-1){this.$D.removeChild(this.acG);
this.Jg=-1}};d_.prototype.L4=function(){function K(E){return Math.round(E*U.V())/U.V()}this.e.setAttribute("style","width: "+this.vD+"px; border-left-width:"+K(4)+"px; cursor:ew-resize;")};
d_.prototype.JH=function(K){this.L4();this.to();for(var y=0;y<this.z5.length;y++)this.z5[y].JH();eI.prototype.JH.call(this,K)};
d_.prototype.collapse=function(K){this.e.removeAttribute("style");for(var y=0;y<this.z5.length;y++)this.z5[y].collapse();
eI.prototype.collapse.call(this,K)};d_.as4=11;d_.prototype.nt=function(K,E){this.pz=K;this.o4=E;E-=d_.as4;
var x=this.z5.length;if(x==0)return;if(!this.RD()){var c=E<400?E:400+(E-400)*.5;for(var y=0;y<x;y++){var J=this.z5[y],i=this.US[y];
J.nt(i?i[0]:this.vD,i?i[1]:c)}}else{var P=E;for(var y=0;y<x;y++){var J=this.z5[y],_=J.abM();if(y==x-1){_=P;
J.e.style.borderBottom="none"}J.nt(this.vD,_);P-=_+4}}};function da(K){fo.call(this);this.e=U.t("div");
this.lB=null;this.AY=0;this.oT=0;this.aq7=K;this.ayY=this.EN.bind(this);this.amf=this.fw.bind(this);
this.afk=this.eL.bind(this);this.p9=null;this.F$=null;this.gO=null;U.gw(this.e,this.ayY);var E=this.e,c="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
E.addEventListener("touchmove",U.vs,!1);this.abB=!0;this.Ow=[];var x=this.aiA=U.t("div");x.setAttribute("style","float:right; padding:4px;display:none; position:relative;z-index:1;");
this.e.appendChild(x);var J=[[0,13,3],[0,13,4],[0,13,5],"Blog","API",c+"<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>",c+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",c+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var y=0;y<J.length;y++){var i=new cn(J[y]);this.Ow.push(i);i.e.setAttribute("style","margin-left:"+(y<7?4:0)+"px;cursor:pointer;");
i.w("click",this.Q7,this)}}da.prototype=new fo;da.prototype.f=function(){var K=this.aiA;U.w6(K);for(var y=0;
y<this.Ow.length;y++){var E=this.Ow[y];if(y<5)E.f();K.appendChild(E.e)}};da.prototype.Q7=function(K){var y=this.Ow.indexOf(K.currentTarget);
if(y==0){if(window.showCap)window.showCap();return}var E=" issues learn blog api twitter facebook".split(" "),x=" //github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //www.reddit.com/r/photopea //www.twitter.com/photopeacom //www.facebook.com/photopea".split(" "),c=window.ga;
if(c)c("send","event","Links",E[y]);var J=new i3(u.E.L,!0);J.data={_:u.c.$X,link:x[y]};this.S(J)};da.prototype.EN=function(K){if(K.aez){K.preventDefault();
K.stopPropagation()}var E=window;U.nx(E,this.amf);U.xz(E,this.afk);E=this.lB;this.p9=new iP(parseInt(E.style.left),parseInt(E.style.top));
this.F$=U.bf(K,this.e);this.gO=E.getBoundingClientRect()};da.prototype.fw=function(K){var E=U.bf(K,this.e),x=this.p9.x+E.x-this.F$.x,c=this.p9.y+E.y-this.F$.y,J=this.AY-this.gO.width,i=this.oT-this.gO.height;
if(this.aq7)this.lB.style.left=Math.min(0,Math.max(J,x))+"px";else this.lB.style.top=Math.min(0,Math.max(i,c))+"px";
if(x-10>0){this.F$.x=E.x-10;this.p9.x=0}if(x+10<J){this.F$.x=E.x+10;this.p9.x=J}};da.prototype.eL=function(K){var E=window;
U.PL(E,this.amf);U.KR(E,this.afk)};da.prototype.afL=function(K){if(this.lB){this.e.removeChild(this.lB)}this.lB=K;
this.e.appendChild(K);K.style.position="absolute";if(this.aq7)K.style.left=0;else K.style.top=0};da.prototype.nt=function(K,E){this.AY=K;
this.oT=E;this.e.setAttribute("style","position:relative; width: "+K+"px; height: "+E+"px; overflow:hidden; white-space: nowrap; ");
var x=this.lB.firstChild,c=this.aiA,J=x?x.firstChild.getBoundingClientRect().width+80:1e9,i=170,P=this.abB&&K>J+i;
c[g6.ws][g6.aoy]=P?"":g6.R_;var _=this.Ow;for(var y=0;y<_.length;y++){var a=y>4||K-J>500?"":g6.R_,j=_[y];
j.e.style.display=a}};da.prototype.a4N=function(){this.lB.style.left="0";this.lB.style.top="0"};function aK(){fo.call(this);
this.ll=null;this.vy=aK.jT;this.a8D="";this.e=U.t("div","rightbar");this.r$=[new d_(300),new d_(268,!0)];
this.z5=[new hh,new hh,new hh,new hh,new hh,new hh,new hh];this.aaR=[]}aK.prototype=new fo;aK.prototype.f=function(){var K=this.vy;
for(var y=0;y<K.length;y++)K[y].M8.f()};aK.jT=[{M8:new fu,GU:3},{M8:new fw,GU:1},{M8:new cz,GU:4},{M8:new br,GU:2},{M8:new jB(!0),GU:5},{M8:new hj,GU:0},{M8:new g_,GU:5},{M8:new cO,GU:3},{M8:new iZ,GU:0},{M8:new ga,GU:3},{M8:new j0,GU:2},{M8:new hF,GU:4},{M8:new c6,GU:3},{M8:new dw,GU:5},{M8:new jB(!1),GU:5},{M8:new k8,GU:2},{M8:new dX,GU:3},{M8:new jD,GU:1},{M8:new c3,GU:0},{M8:new ac,GU:5},{M8:new dp,GU:6,hg:!0},{M8:new fM,GU:6,hg:!0},{M8:new hI,GU:6,hg:!0}];
(function(){var K=[{id:ap.oE.ahs,name:"Gallery",url:"plugins/gallery.html",icon:"===data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgBAMAAAB54XoeAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtyhvagAAAAp0Uk5TAP+mc4pfC+rILiKk3cQAAALjSURBVHic7dq/bxMxFAdwKy1HM16up4QtDCDYkv8gTIgtZWGNWMpIJKhgLAtriyrx71Lnh8/2e76c3/tOxW9olUb56Fvf3bPPOWNKlSpVqtSxPv6uIfXj1d77hOFs/bTeGc6r68UjuESCjTHPkF5dr801FrwxV1iwNS+x4MRs7a+3iNP5j5Vmxv5sEN7+fJnuwDkGHFlrB95hwLEDNxiwciDGM+Zpgw9v6vrXBxg4fr+/Lr6F54cYrNz1OtlAQK/Hf0eAI78bzPVgdRu0l40avAgblhdRCEYddKIFySS0VoJkErpRgmTO6P5nETiOPa+disBzCq5U4HMKflWB9xR8oQLfUfBSBTILA3eYReAtBWcqkHrd5ws4rOAHBX7aMCe2Ww2KwHsK6i49eHOAty94g4VPAfhJSjGNngUj7ko+0e/OYXoPMwrB+WDwcIIs4r9XQcSMxdJy/4kTEb2AJ0B3p08iChecy+NnLslboiWxtxWxIm9KFu1em6IRBbcVwcDTiHz1gUEfHXo/3QNGTYoe6FwwavQDI6bB6OryG4AMJD2v1YFMmx8UMQkyU+WgiCmQjGAU8Tx14FMgu9nkRUz0ySTIBvQipvpkEkzshrmIhxFmIvJgIqCL2NMneTC5XXeItIxenwKTAQ8RvT5JIrJgz35iGwRkInJgT0BacUQOzNrwjCMyYFZAEpEBM3dk21NgZsC4CVEwe8u47QeZPpgVkYCCPe2mD8weQVuLHlC06d6kQcEIRhEjUPitQJsCP8s8P2IIMvetuREDUHSIo4gBqPhepeVARcAuogdW4hG01VDwi8ZzETtQF9CtwjtQGfAYsQPVX501ISi+SLpaB6ByBG21AYioNRps0aA90FiwQYOPEcFggwbrBRps0GBdwAIW8AmBW6w3la8z+Zrhn7e5woIt/pkl4d1JqlbqpWFYs40xf5GgfdZtvMV50zvVLRSt1/ul8QPqccF4X7tUqVKl/uf6BxTPzN+MDvNvAAAAAElFTkSuQmCC"}];
for(var y=0;y<K.length;y++)aK.jT.push({M8:new dd(K[y],100+y),GU:6,hg:!0})}());aK.prototype.acu=function(K){for(var y=0;
y<K.length;y++){var E=K[y],x=new dd(E,"plg_"+E.name);this.vy.push({M8:x,GU:6});this.aaR.push(x._E)}this.I5()};
aK.prototype.Q3=function(K,E){this.ll=K;var x=this.vy;for(var y=0;y<x.length;y++)x[y].M8.Q3(K,E);if(E==eu.f7||E==eu.$r)this.I5()};
aK.prototype.YQ=function(K){var E=this.vy;for(var y=0;y<E.length;y++)E[y].M8.YQ(K)};aK.prototype.nt=function(K,E){this.pz=K;
this.o4=E;this.I5();this.r$[0].nt(K,E);this.r$[1].nt(K,E)};aK.prototype.I5=function(){var K=this.ll,E=this.pz,x=this.o4;
if(K==null||E==0)return;var c=K._e.concat(this.aaR),J=E<500||E<700&&E<x,i=JSON.stringify(c)+","+J;if(i!=this.a8D){this.a8D=i;
U.w6(this.e);var P=[];for(var y=0;y<this.r$.length;y++){var _=this.r$[y];P[y]=_.RD();while(_.a5A()!=0)_.amN(0);
_.JH()}var a=[];for(var y=0;y<this.z5.length;y++){var j=this.z5[y];j.JH();while(j.ams()!=0)j.Qk(0);a.push(0)}for(var y=0;
y<c.length;y++){var e=this.anK(c[y].toString());if(e==null)continue;this.z5[e.GU].L2(e.M8);this.z5[e.GU].yc(0);
a[e.GU]++}var d=[];for(var y=0;y<a.length;y++){if(a[y]==0)continue;var I=y<3||J?1:0,_=this.r$[I];_.parent=this;
_.akT(this.z5[y]);d[I]=!0}for(var y=0;y<this.r$.length;y++)if(d[y])this.e.appendChild(this.r$[y].e);
this.r$[0].collapse();if(E<700||this.ll.compact||!P[1]){this.r$[1].collapse()}var v=new i3(u.E.L,!0);
v.data={_:u.c.DQ};this.S(v)}};aK.prototype.anK=function(K){for(var y=0;y<this.vy.length;y++)if(this.vy[y].M8._E==K)return this.vy[y]};
aK.prototype.a5M=function(K){var E=this.anK(K);this.z5[E.GU].L2(E.M8)};aK.prototype.jG=function(K,E,x){var c=this.vy;
for(var y=0;y<c.length;y++)c[y].M8.jG(K,E,x)};aK.prototype.zb=function(K,E,x,c,J){var i=this.vy;for(var y=0;
y<i.length;y++)i[y].M8.zb(K,E,x,c,J)};aK.prototype.il=function(K,E,x,c,J){var i=this.vy;for(var y=0;
y<i.length;y++)i[y].M8.il(K,E,x,c,J)};aK.prototype.N2=function(K,E,x,c,J){var i=this.vy;for(var y=0;
y<i.length;y++)i[y].M8.N2(K,E,x,c,J)};function jL(K,E){eI.call(this,"toolbar");this.e.removeChild(this.mk);
this.Ah=U.t("div","tools");this.e.appendChild(this.Ah);this.Lf=null;this.OI=null;this.a8L=E;this.UN=null;
this.ao_=-1;this.a3B={};this.azx=K;this.a=null;this.Ma=null;this.xV=null;this.de=null;this.ci=new jA;
this.ci.e.style.marginTop="5px";this.ci.e.style.marginBottom="3px";this.ci.parent=this;this.nZ=new cn(U.fk("lrs/mask"),!1,[6,6,1]);
this.nZ.w("click",function(i){var P=new i3(u.E.v,!0);P.G=$.LR;P.data={_:"qmask"};this.S(P)},this);var x=new iM(null,["Ctrl","Alt","Shift","No Touch"],!0,null,null,!0);
x.w(u.E.A,this.a93,this);var c=U.t("span","rangecontFloat form padded");c.appendChild(x.e);c.setAttribute("style","position:absolute; width:119px; z-index:2;  padding-right:0px; ");
var J=document.body;this.aeL=[!1,!1,!1,!1];this.vf=new cn(U.fk("kb"),!1,"Virtual Keys");this.vf.w("click",function(i){var P=this.vf.e.getBoundingClientRect();
c.style.top=P.top-40+"px";c.style.left=P.left+P.width+8+"px";if(U.Of(c)){U.qj({e:c},J)}else{J.appendChild(c);
U.Nz({e:c})}},this)}jL.prototype=new eI;jL.prototype.a93=function(K){var E=K.target.m();this.vf.$(E[0]||E[1]||E[2]||E[3]);
var x=new i3(u.E.L,!0);for(var y=0;y<4;y++){if(E[y]!=this.aeL[y]){x.data={_:u.c.ab_,tj:E[y],aoR:["ControlLeft","AltLeft","ShiftLeft","NoTouch"][y]};
this.S(x)}}this.aeL=E.slice(0)};jL.prototype.a23=function(K,E){this.UN=E;if(K==null||K.g.length==0||K.B[K.g[0]]==null)return;
var x=K.nZ()!=null,c=K.D.NW,J=K.B[K.g[0]].kS,i=J==1||J==3||x||c[0]+c[1]+c[2]==1;this.ci.a92(i);this.nZ.$(x)};
jL.prototype.ao$=function(K,E){var x=K.length,c=[];for(var y=0;y<x;y++)c[y]=K[y].slice(0);K=c;var J=[1,2,4,5,7,8,7,9,11,12,14,15,14,16,10,11,1,3,17,18,7,6,13,14],i=Math.min(J.length/2,x-E);
for(var y=0;y<i;y++){var P=J[2*y],_=J[2*y+1];K[P]=K[P].concat(K[_]);K[_]=null}for(var y=0;y<K.length;
y++)if(K[y]==null){K.splice(y,1);y--}return K};jL.prototype.a3x=function(K,E){for(var y=0;y<E.length;
y++)for(var x=0;x<E[y].length;x++)if(E[y][x].G.id==K)return y};jL.prototype.alL=function(K){var E=this.azx;
this.Ma=[];this.xV=[];this.de=[];this.a=[];var x=E.GP;if(K!=null&&this.a8L)x=this.ao$(x,K);var c=this.Lf;
if(c){var J=[];for(var y=0;y<x.length;y++){var i=[];for(var P=0;P<x[y].length;P++){var _=x[y][P];if(c==null||c.indexOf(parseInt(_.G.id))!=-1)i.push(_)}if(i.length>0)J.push(i)}x=J}for(var y=0;
y<x.length;y++){var a=[],j=this.Ma.length,e=null,d=-1;for(var P=0;P<x[y].length;P++){var _=x[y][P].G,I=this.a3x(_.id,E.GP),v=E.keys[I];
if(v==j6.CZ&&P==1)v=j6.oE;this.a.push(_);var n=new fL(_.name,v,_.AX,this.Ma.length,y,x[y].length>1);
this.Ma.push(n);var C=this.a3B[_.id];if(C==null)C=0;if(C>d){d=C;e=n}n.w(u.E.A,this.WY,this);n.w("mover",this.Sx,this);
a.push({name:_.name,CP:_.AX,S3:v?v.jF:""})}this.xV.push(e);this.de.push(a.length==1?null:[a,j])}};jL.prototype.nt=function(K,E){var x=this.o4=E,c=32;
if(1<U.V()&&U.V()<1.5)c=18+14*(1/U.V());var J=39+23,i=Math.floor((x-J)/c);if(i!=this.ao_){this.ao_=i;
this.alL(i);this._P()}var P=this.xV.length*c+J,_=Math.min(1,x/P);if(.75<=_){this.Ah.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+_+","+_+");");
this.e.setAttribute("style","height:"+(E-2)+"px; overflow:hidden;")}else{x-=4;this.Ah.setAttribute("style","height: "+x+"px;  width:"+Math.ceil(P/x)*34+"px");
this.e.setAttribute("style","")}};jL.prototype.f=function(){if(this.a==null)return;for(var y=0;y<this.Ma.length;
y++)this.Ma[y].f()};jL.prototype.WY=function(K){var E=new i3(u.E.L,!0);E.data={_:u.c.iM,G:this.a[K.id].id};
this.S(E)};jL.prototype.a5w=function(K){var E=K.target.agG+K.target.rk()[0];this.Ma[E].eL(null,!0)};
jL.prototype.Sx=function(K){var E=this.UN,x=new i3(u.E.L,!0);x.data={_:u.c.cu};this.S(x);var c=K.target,J=this.de[c.db];
if(J==null)return;var i=new cQ(J[0],null,!0);i.agG=J[1];i.db=c.db;i.w("select",this.a5w,this);i.parent=this;
i.f();var P=c.e.getBoundingClientRect(),x=new i3(u.E.L,!0);x.data={_:u.c.gF,M8:i,x:P.left+P.width+8,y:P.top};
if(E==null||!(E.l(j6.rm)||E.l(j6.Se)))this.S(x)};jL.prototype._P=function(K){if(K==null)K=this.OI;this.OI=K;
if(this.a==null)return;this.a3B[K]=Date.now();var E=-1;for(var y=0;y<this.a.length;y++)if(this.a[y].id==K)E=y;
for(var y=0;y<this.Ma.length;y++){var x=this.Ma[y];x.a25(E==y)}if(E==-1)return;this.xV[this.Ma[E].db]=this.Ma[E];
U.w6(this.Ah);var c=this.xV;for(var y=0;y<c.length;y++){this.Ah.appendChild(c[y].e)}if(!this.a8L)return;
this.Ah.appendChild(this.ci.e);if(this.o4>640)this.Ah.appendChild(this.nZ.e);this.Ah.appendChild(this.vf.e)};
jL.prototype.Q3=function(K,E){if(E==eu.$r&&K.Lf){this.Lf=K.Lf;this.alL();this._P()}this.ci.anS(K.U9,K.xw)};
function fL(K,E,x,c,J,i){fo.call(this);this.VR=0;this.Oq=this.alo.bind(this);this.db=J;this.Nd=c;this.O2=K;
this.pB=E;this.aan=i;this.AX=x;this.e=U.t("button","");this.e.innerHTML=U.fk(this.AX);if(this.aan){var P=U.t("img","gsicon");
P.setAttribute("src",PIMG["tools/corner"]);P.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");
this.e.appendChild(P)}this.e.addEventListener("touchstart",U.vs,!1);this.f();U.gw(this.e,this.EN.bind(this));
U.xz(this.e,this.eL.bind(this));this.e.addEventListener("contextmenu",this.Oq,!1);this.e.addEventListener("contextmenu",fL.v$,!1)}fL.prototype=new fo;
fL.v$=function(K){K.stopPropagation();K.preventDefault();return!1};fL.prototype.f=function(){var K=this.pB?" ("+this.pB.jF+")":"";
this.e.setAttribute("title",hg.get(this.O2)+K)};fL.prototype.EN=function(K){fL.iY=this.Nd;this.VR=setTimeout(this.Oq,160)};
fL.prototype.eL=function(K,E){if(E==null&&fL.iY!=this.Nd)return;clearTimeout(this.VR);var x=new i3(u.E.A,!1);
x.target=this;x.id=this.Nd;this.S(x)};fL.prototype.alo=function(K){var E=new i3("mover",!1);E.target=this;
E.id=this.Nd;this.S(E)};fL.prototype.a25=function(K){this.e.className=K?"toolbtn active":"toolbtn"};
function ag(){fo.call(this);this.e=U.t("div","topbar");this.Ss=U.t("span","");this.agM=0;this.e.appendChild(this.Ss);
this.Xs=null;this.$u=null;this.Oj=[];this._e=[];var K=this.EN.bind(this);for(var y=0;y<ag.data.length;
y++){var E=U.t("button");this.Oj.push(E);this.Ss.appendChild(E);E.addEventListener("mouseover",K,!1);
U.gw(E,K)}this.sT=new cn([0,13,0],!1,null,!0);this.sT.w("click",this.yG,this);this.e.appendChild(this.sT.e);
this.Jp=new cn(U.fk("tools/zoom",null,"autoscale"),!1,[12,86]);this.Jp.w("click",this.yG,this);this.e.appendChild(this.Jp.e);
this.Ou=new cn("<svg class=\"gsicon\" version=\"1.1\"  width=\"20\" height=\"20\" viewBox=\"8 8 20 20\"><path d=\"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z\"></path><path d=\"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z\"></path><path d=\"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z\"></path><path d=\"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z\"></path></svg>",!1,"Fullscreen");
this.Ou.w("click",this.yG,this);this.e.appendChild(this.Ou.e)}ag.prototype=new fo;ag.prototype.at8=function(){if(this._e.length!=0)return;
for(var y=0;y<ag.data.length;y++){var K=ag.data[y],E=new cQ(K.items,K.d1);E.parent=this;this._e.push(E)}this.f()};
ag.prototype.f=function(){this.sT.f();this.Jp.f();this.Ou.f();for(var y=0;y<this.Oj.length;y++)this.Oj[y].textContent=hg.get(ag.data[y].name);
this.al4();for(var y=0;y<this._e.length;y++)this._e[y].f()};ag.prototype.yG=function(K){var E=new i3(u.E.L,!0);
if(K.target==this.sT)E.data={_:u.c.v9,xc:"account"};else if(K.target==this.Jp)E.data={_:u.c.h8};else E.data={_:u.c.cM,X4:!0};
this.S(E)};ag.prototype.asN=function(K,E){this.Xs=K;this.$u=E};ag.prototype.Q3=function(K,E){this.$u=K;
if(E==eu.$r){var x=K.anP;U.w6(this.Ss);for(var y=0;y<this.Oj.length;y++){if(x==null||x[y]==1||x[y]instanceof Array)this.Ss.appendChild(this.Oj[y]);
if(x!=null&&x[y]instanceof Array){this.at8();this._e[y].akS(x[y])}}this.e.removeChild(this.sT.e);this.e.removeChild(this.Jp.e);
this.e.removeChild(this.Ou.e);if(K.dN)this.e.appendChild(this.sT.e);this.e.appendChild(this.Jp.e);this.e.appendChild(this.Ou.e)}this.al4()};
ag.prototype.al4=function(K,E){var x=this.sT,c=12255232;if(dq.A9())c=dq.bI()?43520:16755200;x.e.setAttribute("style","color:#ffffff; background-color:#"+W.E8(c))};
ag.prototype.EN=function(K){this.at8();var y=this.Oj.indexOf(K.currentTarget),E=this._e[y];if(K.type=="mouseover"&&!U.Of(this._e[this.agM].e))return;
if(U.Of(E.e))return;K.aez=!0;this.agM=y;for(var y=0;y<ag.data.length;y++)this._e[y].update(this.Xs,this.$u);
var x=K.target.getBoundingClientRect(),c=new i3(u.E.L,!0);c.data={_:u.c.gF,M8:E,x:x.left,y:x.top+x.height+2,an4:!0};
this.S(c)};ag.adQ=function(K){var E=j6,x=E.Se,c=E.iu,J=E.iE,i=function(j){return{q:j!=null}},P=function(j){return{q:j!=null&&j.P!=null}},_={name:[0,5],items:[{name:[7,0],q:i,S3:[x,E.c]},{name:[7,1],S3:[x,E.hY],q:P},{name:[7,2],S3:[c,x,E.th],q:P,_B:!0},{name:[7,8],q:i,Ps:!0},{name:[7,13],Ps:!0,q:function(j){return{q:j!=null&&j.g.length!=0&&!j.B[j.g[0]].rect.um()}},_B:!0},{name:[7,11],Ps:!0,q:function(j){return{q:j!=null&&j.g.length!=0&&!j.B[j.g[0]].rect.um()}}},{name:[7,3],q:i,_B:!0,sub:[{name:[7,9],Ps:!0,q:P},{name:[19,3,0],Ps:!0,q:P},{name:[7,4],Ps:!0,q:P},{name:[7,5],Ps:!0,q:P},{name:[7,6],Ps:!0,q:P,S3:"Shift+F6"}]},{name:"Grow",q:P},{name:"Similar",q:P,_B:!0},{name:[7,10],q:P,_B:!0},{name:[6,6,1],q:function(j){return{q:j!=null,Wa:j!=null&&j.nZ()!=null}},S3:[E._x],_B:!0},{name:["VAR0 VAR1",[1,2],[17,2]],q:P}],d1:[{Y:u.E.Hg,F:$.cx.HI(!0)},{Y:u.E.Hg,F:$.cx.HI()},{Y:u.E.Hg,F:{va:"inverse"}},{Y:u.E.L,F:{_:u.c.v9,xc:"crange"}},{Y:u.E.L,F:{_:u.c.v9,xc:"magiccut"}},{Y:u.E.L,F:{_:u.c.v9,xc:"redge"}},{sub:[{Y:u.E.L,F:{_:u.c.v9,xc:"sel_border"}},{Y:u.E.L,F:{_:u.c.v9,xc:"sel_smoothness"}},{Y:u.E.L,F:{_:u.c.v9,xc:"sel_expand"}},{Y:u.E.L,F:{_:u.c.v9,xc:"sel_contract"}},{Y:u.E.L,F:{_:u.c.v9,xc:"sel_feather"}}]},{Y:u.E.Hg,F:{va:"grow",Ks:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{Y:u.E.Hg,F:{va:"similar",Ks:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{Y:u.E.L,F:{_:u.c.iM,G:$.Hq}},{Y:u.E.v,G:$.LR,F:{_:"qmask"}},{Y:u.E.Hg,F:{va:"duplicate",Ks:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}}]};
if(K){var a=_.items.length-1;_.items.splice(a-2,0,{name:[6,49],S3:[x,E.QY],_B:!0});_.d1.splice(a-2,0,{Y:u.E.Hg,F:{va:"copyToLayer"}});
_.items.splice(a-1,0,{name:[10,16],S3:[J,x,E.vJ]});_.d1.splice(a-1,0,{Y:u.E.L,F:{_:u.c.iM,G:$.Cy}})}return _};
ag.jy=function(K,E){if(K==null||K.g.length==0)return!1;var x=K.B[K.g[0]];return x.add.TySh!=null&&E.OI==$.H4};
ag.a55=function(){var K=j6,E=K.Se,x=K.iu,c=K.iE,J=function(i){return{q:i!=null}};return[[{name:[5,0],S3:[E,K.s7],q:function(i,P){return{q:i!=null&&(i.ZY()||ag.jy(i,P))}}},{name:[5,1],S3:[E,K.ww],q:J},{name:[5,2],S3:[E,K.od],q:function(i,P){return{q:ag.jy()||U.BI()||P.$U!=null||P.tL!=null||P.a4f!=null}}},{name:[2,2],q:function(i,P){return{q:i!=null&&(i.P!=null||ag.jy(i,P))}},S3:"Delete",_B:!0}],[{Y:u.E.L,F:{_:u.c.nS}},{Y:u.E.L,F:{_:u.c.UR}},{Y:u.E.L,F:{_:u.c.qp}},{Y:u.E.Hg,F:{va:"delete"}}]]};
ag.data=function(){var K=j6,E=K.Se,x=K.iu,c=K.iE,J=function(v){return{q:v!=null&&v.g.length!=0}},i=function(v){return{q:v!=null&&v.g.length!=0&&v.B[v.g[0]].add.SoLd!=null}},P=function(v){return{q:v!=null}},_=function(v){return{q:v!=null&&v.IC(!1)}},a=[],j=[],e="none maxx avrg medn minn rang stdv summ vari".split(" "),d=[[22,5,0],[24,17,2],[24,3,0],[24,7,3],[24,17,3],[12,12],"Standard Deviation","Summation","Variance"];
for(var y=0;y<e.length;y++){a.push({name:d[y],q:function(v,n){if(v==null||v.g.length!=1)return{q:!1};
var C=v.B[v.g[0]].add.SoLd;if(C==null)return{q:!1};return{q:!0,Wa:C.Impr.v.classID==this.abR}}.bind({abR:e[y]})});
j.push({Y:u.E.v,G:$.Os,F:{_:Z.qC,iz:e[y]}})}var I=ag.a55(!0);return[{name:[0,0],items:[{name:[5,3],S3:[c,E,K.KA],title:[11,7],Ps:!0},{name:[1,0],S3:[E,K.m8],Ps:!0},{name:[1,11],Ps:!0,q:P},{name:["VAR0 VAR1",[1,0],[0,14]],_B:!0,sub:[{name:"Storage",Ps:!0,S3:[c,E,K.m8]},{name:[1,5],Ps:!0},{name:[11,0],Ps:!0},{name:["PSD VAR0",[25,0]],Ps:!0}]},{name:[1,1],_B:!0,q:P,sub:[{name:"PNG",S3:"Imgur.com",q:function(v,n){return{q:v!=null&&n.uC}}},{name:"JPG",S3:"Imgur.com",q:function(v,n){return{q:v!=null&&n.uC}}},{name:"PSD",S3:"Photopea.com",q:function(v,n){return{q:v!=null&&n.uC&&!v.RJ}}}]},{name:"Save ...",S3:[E,K.Ed],q:function(v,n){var C=hg.get([1,2]),T=!0;
if(v){if(v.rs)C+=" ("+hg.get([6,7,1])+")";if(v.n_)C+=" (Google Drive)";if(v.Kp)C+=" ("+Storage.list[v.Kp[0]][0]+")";
T="psd jpg png gif webp svg bmp".split(" ").indexOf(v.NR)!=-1}return{q:v!=null&&(v.Kp!=null||v._F!=null&&T||v.rs!=null||v.bA!=null&&v.bA.xO!=null||v.n_!=null||n.TK.save!=null),uw:C}}},{name:[1,3],q:function(v,n){return{q:v!=null&&n.uC}}},{name:["VAR0 VAR1",[1,2],[0,14]],q:P,sub:[{name:"PSD to Storage",q:function(v,n){return{q:v!=null&&n.uC}}},{name:["VAR0 PSD/PSB",[1,2]],Ps:!0,q:function(v,n){return{q:v!=null&&n.uC}}}]},{name:[1,8],q:P,sub:function(){var v=gr.vv(0),n=[];
for(var y=0;y<v.length;y++)n.push({name:v[y],S3:"."+v[y].toLowerCase()});n.push({name:[0,14],sub:function(){var v=gr.vv(1),n=[];
for(var y=0;y<v.length;y++)n.push({name:v[y],S3:"."+v[y].toLowerCase()});return n}()});return n}()},{name:[1,4],Ps:!0,q:P,_B:!0},{name:[1,9],Ps:!0,q:P},{name:"Export Color Lookup",Ps:!0,q:P,_B:!0},{name:[1,14],Ps:!0,q:P,_B:!0},{name:[1,17],sub:[{name:"PDF Presentation",Ps:!0},{name:"Convert Formats",Ps:!0}]},{name:[1,10]}],d1:[{Y:u.E.L,F:{_:u.c.v9,xc:"newproject"}},{Y:u.E.L,F:{_:u.c.yq}},{Y:u.E.L,F:{_:u.c.yq,apj:!0}},{sub:[{Y:u.E.L,F:{_:u.c.v9,xc:"storwindow",no:0}},{Y:u.E.L,F:{_:u.c.v9,xc:"open_from_url"}},{Y:u.E.L,F:{_:u.c.v9,xc:"camera"}},{Y:u.E.L,F:{_:u.c.v9,xc:"res0"}}]},{sub:[{Y:u.E.L,F:{_:u.c.Ut,fC:"png"}},{Y:u.E.L,F:{_:u.c.Ut,fC:"jpg"}},{Y:u.E.L,F:{_:u.c.Ut,fC:"psd"}}]},{Y:u.E.L,F:{_:u.c.$L}},{Y:u.E.L,F:{_:u.c.Q9}},{sub:[{Y:u.E.L,F:{_:u.c.v9,xc:"storwindow",no:1}},{Y:u.E.L,F:{_:u.c.v9,xc:"savepsb"}}]},{sub:function(){var v=gr.vv(0),n=[];
for(var y=0;y<v.length;y++)n.push({Y:u.E.L,F:{_:u.c.v9,xc:"saveforweb",fC:y}});n.push({sub:function(){var C=gr.vv(0).length,v=gr.vv(1),n=[];
for(var y=0;y<v.length;y++)n.push({Y:u.E.L,F:{_:u.c.v9,xc:"saveforweb",fC:C+y}});return n}()});return n}()},{Y:u.E.L,F:{_:u.c.v9,xc:"saveforweb",fC:4,a1u:!0}},{Y:u.E.L,F:{_:u.c.v9,xc:"eassets"}},{Y:u.E.L,F:{_:u.c.v9,xc:"exlut"}},{Y:u.E.L,F:{_:u.c.v9,xc:"finfo"}},{sub:[{Y:u.E.L,F:{_:u.c.v9,xc:"pdfpres"}},{Y:u.E.L,F:{_:u.c.v9,xc:"cformat"}}]},{Y:u.E.L,F:{_:u.c.v9,xc:"script"}}]},{name:[0,1],items:[{name:[2,8],q:P},{name:[2,0],q:P,S3:[x,E,K.WV]},{name:[2,1],q:P,S3:[E,K.WV],_B:!0},{name:[2,11],S3:[x,E,K.ni],_B:!0,Ps:!0,q:function(v,n){return{q:e1.acE(v)&&n.OI!=$.Cy}}},I[0][0],I[0][1],{name:[5,7],S3:[x,E,K.ww],q:function(v){return{q:v!=null&&v.ZY()}}},I[0][2],I[0][3],{name:[2,3],q:P,Ps:!0,S3:[x,K.dL]},{name:[14,9],q:P,Ps:!0,_B:!0},{name:[10,48],q:_},{name:[10,46],q:function(v){return{q:$.Je.af5(v)}}},{name:[10,16],q:P,S3:[c,E,K.vJ]},{name:[2,4],q:P,sub:cY.ayg()},{name:[2,10,1],q:P},{name:[2,10,0],q:P,_B:!0},{name:[12,87],q:P,sub:[{name:[12,62],q:P},{name:[9,3],q:P},{name:[10,31],q:function(v){return{q:v!=null&&v.Ox()[1].length!=0}}}]},{name:[1,15],Ps:!0},{name:[12,79],Ps:!0,S3:[E,K.ms]},{name:[1,13],Ps:!0}],d1:[{Y:u.E.v,G:$.Ww,F:{_:"h_undoredo"}},{Y:u.E.v,G:$.Ww,F:{_:"h_stepfwd"}},{Y:u.E.v,G:$.Ww,F:{_:"h_stepbck"}},{Y:u.E.L,F:{_:u.c.v9,xc:"afw_fade"}},I[1][0],I[1][1],{Y:u.E.L,F:{_:u.c.UR,GQ:!0}},I[1][2],I[1][3],{Y:u.E.L,F:{_:u.c.v9,xc:"fill"}},{Y:u.E.L,F:{_:u.c.v9,xc:"stroke"}},{Y:u.E.L,F:{_:u.c.iM,G:$.UH}},{Y:u.E.v,G:$.AL,F:{_:"start",LJ:"rigidTransform"}},{Y:u.E.L,F:{_:u.c.iM,G:$.Cy}},{sub:cY.afU()},{Y:u.E.Hg,F:{va:"align",Ks:{classID:"null",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Usng:{t:"enum",v:{ADSt:"ADSContent"}},alignToCanvas:{t:"bool",v:!1},Aply:{t:"enum",v:{projection:"Auto"}},vignette:{t:"bool",v:!1},radialDistort:{t:"bool",v:!1}}}},{Y:u.E.v,G:$.Os,F:{_:Z.YZ}},{sub:[{Y:u.E.L,F:{_:u.c.ec,ry:0}},{Y:u.E.L,F:{_:u.c.ec,ry:1}},{Y:u.E.L,F:{_:u.c.ec,ry:2}}]},{Y:u.E.L,F:{_:u.c.v9,xc:"pmanager"}},{Y:u.E.L,F:{_:u.c.v9,xc:"preferences"}},{Y:u.E.L,F:{_:u.c.v9,xc:"locstor"}}]},{name:[0,2],items:[{name:[12,36],q:P,_B:!0,sub:[{name:"RGB",q:function(v){if(v==null)return{q:!1};
return{Wa:v.add.fcmy==null,q:!0}}},{name:"CMYK",q:function(v){if(v==null)return{q:!1};return{Wa:v.add.fcmy!=null,q:!0}},_B:!0},{name:"Raster",q:function(v){if(v==null)return{q:!1};
return{Wa:v.add.fvec==null,q:!0}}},{name:"Vector (Beta)",q:function(v){if(v==null)return{q:!1};return{Wa:v.add.fvec!=null,q:!0}}}]},{name:[3],q:P,_B:!0,sub:function(){var v=[];
for(var n in c2.names){v.push({name:c2.names[n],Ps:az[n]!=null,S3:c2.keys[n],_B:c2.a7A.indexOf(n)!=-1});
if(n=="selc"){v.push({name:["VAR0/VAR1",[19,6,0],[19,6,2]],Ps:!0,_B:!0});v.push({name:[19,7,0],S3:[E,x,K.Vd],q:_});
v.push({name:[4,18],Ps:!0,q:_})}}return v}()},{name:[4,16,0],q:_},{name:[4,16,1],q:_},{name:[4,16,2],q:_,_B:!0},{name:[11,11,1],q:_},{name:[11,11,0],q:_,_B:!0},{name:[11,3],q:P,Ps:!0,S3:[c,E,K.ww]},{name:[11,10],q:P,Ps:!0,S3:[c,E,K.th]},{name:[2,4],q:P,sub:[{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},{name:[11,12,1],q:function(v){return{q:v!=null&&v.P!=null}}},{name:[11,12,0],q:P,S3:[E,K.e1],Ps:!0},{name:[11,12,2],q:P,_B:!0},{name:[2,12],q:_,Ps:!0,_B:!0},{name:[2,14],q:P,Ps:!0}],d1:[{sub:[{Y:u.E.v,G:$.x3,F:{_:"fcmy",Z:0}},{Y:u.E.v,G:$.x3,F:{_:"fcmy",Z:1}},{Y:u.E.v,G:$.x3,F:{_:"fvec",Z:0}},{Y:u.E.v,G:$.x3,F:{_:"fvec",Z:1}}]},{sub:function(){var v=[];
for(var n in c2.names){v.push({Y:u.E.v,G:$.mo,F:{_:"start",Lj:n}});if(n=="selc"){v.push({Y:u.E.v,G:$.AL,F:{_:"start",LJ:"adaptCorrect"}});
v.push({Y:u.E.Hg,F:{va:"desaturate"}});v.push({Y:u.E.v,G:$.mo,F:{_:"start",Lj:"matc"}})}}return v}()},{Y:u.E.Hg,F:{va:"levels",Ks:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{Y:u.E.Hg,F:{va:"levels",Ks:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{Y:u.E.Hg,F:{va:"levels",Ks:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{Y:u.E.L,F:{_:u.c.v9,xc:"rcolors"}},{Y:u.E.L,F:{_:u.c.v9,xc:"vbitmap"}},{Y:u.E.L,F:{_:u.c.v9,xc:"csize"}},{Y:u.E.L,F:{_:u.c.v9,xc:"isize"}},{sub:[{Y:u.E.Hg,F:$.Xq.JG(!0,90)},{Y:u.E.Hg,F:$.Xq.JG(!0,-90)},{Y:u.E.Hg,F:$.Xq.JG(!0,-180)},{Y:u.E.Hg,F:$.Xq.JG(!1,"Hrzn")},{Y:u.E.Hg,F:$.Xq.JG(!1,"Vrtc")}]},{Y:u.E.Hg,F:{va:"crop",Ks:{__name:"Crop",classID:"Crop"}}},{Y:u.E.L,F:{_:u.c.v9,xc:"trim"}},{Y:u.E.Hg,F:{va:"revealAll",Ks:{classID:"RvlA"}}},{Y:u.E.v,G:$.mo,F:{_:"start",Lj:"aply"}},{Y:u.E.L,F:{_:u.c.v9,xc:"varsdats"}}]},{name:[0,3],items:[{name:[5,3],q:P,sub:[{name:[0,3],S3:[x,E,K.KA]},{name:[0,4]},{name:[1,16,0],Ps:!0},{name:[1,16,3],Ps:!0,_B:!0},{name:[6,49,0],S3:[E,K.QY]},{name:[6,49,1],S3:[x,E,K.QY],q:function(v){return{q:v!=null&&v.P!=null&&v.IC(!1)}}}]},{name:[6,0],q:J,S3:[E,K.QY]},{name:[11,4],q:J},{name:[5,4],q:J,_B:!0},{name:[11,6],q:J,_B:!0,sub:b7.fj(!0)},{name:[6,48,1],q:P,sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],q:P,_B:!0,sub:b7.a8E()},{name:[6,2],q:P,sub:[{name:[6,4],q:function(v){return{q:v!=null&&v.g.length!=0&&v.B[v.g[0]].FA()==null}}},{name:[6,5,0],q:function(v){return{q:v!=null&&v.g.length!=0&&v.B[v.g[0]].FA()==null}}},{name:[6,5,1],q:function(v){return{q:v!=null&&v.g.length!=0&&v.B[v.g[0]].FA()==null&&v.P!=null}}},{name:[6,5,2],q:function(v){return{q:v!=null&&v.g.length!=0&&v.B[v.g[0]].FA()==null&&v.P!=null}}},{name:[6,5,3],q:function(v){return{q:v!=null&&v.g.length!=0&&v.B[v.g[0]].FA()==null}},_B:!0},{name:[5,4],q:function(v){return{q:v!=null&&v.g.length!=0&&v.B[v.g[0]].FA()!=null}}},{name:[5,8],q:function(v){return{q:v!=null&&v.g.length!=0&&v.B[v.g[0]].FA()!=null&&v.IC(!1,!0)}}},{name:["VAR0/VAR1",[5,5],[5,6]],q:function(v){return{q:v!=null&&v.g.length!=0&&v.B[v.g[0]].FA()!=null}}}]},{name:[6,3],q:P,sub:[{name:[6,4],q:function(v){return{q:v!=null&&v.g.length!=0&&v.B[v.g[0]].add.vmsk==null}}},{name:[6,5,0],q:function(v){return{q:v!=null&&v.g.length!=0&&v.B[v.g[0]].add.vmsk==null}}},{name:[12,76,7],q:function(v){return{q:v!=null&&v.g.length!=0&&v.B[v.g[0]].add.vmsk==null}},_B:!0},{name:[5,4],q:function(v){return{q:v!=null&&v.g.length!=0&&v.B[v.g[0]].add.vmsk!=null}}},{name:["VAR0/VAR1",[5,5],[5,6]],q:function(v){return{q:v!=null&&v.g.length!=0&&v.B[v.g[0]].add.vmsk!=null}}}]},j0.aqI(!0),{name:[6,7,1],q:P,_B:!0,sub:[{name:[6,7,0],_B:!0},{name:"Open (Edit Contents)",q:i,Ps:!0},{name:"Replace Contents",q:i,Ps:!0},{name:"Export Contents",q:i,Ps:!0,_B:!0},{name:[6,36,4],q:i,sub:a},{name:"Turn into JPG",q:i}]},{name:[6,8],q:j0.agT},{name:[6,34],_B:!0,q:function(v){if(v==null||v.g.length==0)return{q:!1};
var n=v.B[v.g[0]];return{q:n.add.lmfx!=null&&!n.wC()}}},{name:[6,9],q:P,_B:!0,S3:[E,K.Zt]},{name:[6,55],q:P,_B:!0,sub:[{name:[6,56,0],S3:[x,E,K.fl]},{name:[6,56,1],S3:[E,K.fl]},{name:[6,56,2],S3:[E,K.tz]},{name:[6,56,3],S3:[x,E,K.tz]}]},{name:[6,58],q:P,_B:!0,sub:[{name:["Make Frames"]},{name:["Unmake Frames"]},{name:[18,5]}]},{name:[6,12,0],S3:[E,K.E],q:function(v){var n=v==null?0:v.g.length;
return{q:n!=0&&(n!=1||v.g[0]!=0),uw:hg.get(n>1||n==1&&v.B[v.g[0]].wC()?[6,12,0]:[6,10])}}},{name:[6,12,1],q:P},{name:[2,13],q:P}],d1:[{sub:[{Y:u.E.v,G:$.Os,F:{_:Z.bM}},{Y:u.E.v,G:$.Os,F:{_:Z.Pi}},{Y:u.E.L,F:{_:u.c.v9,xc:"newartb",no:0}},{Y:u.E.L,F:{_:u.c.v9,xc:"newartb",no:1}},{Y:u.E.Hg,F:{va:"copyToLayer"}},{Y:u.E.Hg,F:{va:"cutToLayer"}}]},{Y:u.E.v,G:$.Os,F:{_:Z.On}},{Y:u.E.L,F:{_:u.c.v9,xc:"duplinto"}},{Y:u.E.v,G:$.Os,F:{_:Z.vp}},{sub:b7.h6(!0)},{sub:[{Y:u.E.v,G:$.ef,F:{_:"newfill",cl:0}},{Y:u.E.Hg,F:$.SM.rM(1)},{Y:u.E.Hg,F:$.SM.rM(2)}]},{sub:b7.t_()},{sub:[{Y:u.E.v,G:$.Os,F:{_:Z.p5,no:"RvlA"}},{Y:u.E.v,G:$.Os,F:{_:Z.p5,no:"HdAl"}},{Y:u.E.v,G:$.Os,F:{_:Z.p5,no:"RvlS"}},{Y:u.E.v,G:$.Os,F:{_:Z.p5,no:"HdSl"}},{Y:u.E.v,G:$.Os,F:{_:Z.p5,no:"Trns"}},{Y:u.E.v,G:$.Os,F:{_:Z.Ni}},{Y:u.E.v,G:$.Os,F:{_:Z.Us}},{Y:u.E.v,G:$.Os,F:{_:Z.Or}}]},{sub:[{Y:u.E.v,G:$.Os,F:{_:Z.BH,amK:!1}},{Y:u.E.v,G:$.Os,F:{_:Z.BH,amK:!0}},{Y:u.E.v,G:$.Os,F:{_:Z.BH,a7W:!0}},{Y:u.E.v,G:$.Os,F:{_:Z.oN}},{Y:u.E.v,G:$.Os,F:{_:Z.d5}}]},{Y:u.E.v,G:$.Os,F:{_:Z.u_}},{sub:[{Y:u.E.Hg,F:{va:"newPlacedLayer"}},{Y:u.E.Hg,F:{va:"placedLayerEditContents",Ks:{classID:"placedLayerEditContents"}}},{Y:u.E.Hg,F:{va:"placedLayerReplaceContents",Ks:{classID:"placedLayerReplaceContents"}}},{Y:u.E.Hg,F:{va:"placedLayerExportContents",Ks:{classID:"placedLayerExportContents"}}},{sub:j},{Y:u.E.v,G:$.Os,F:{_:Z.amy}}]},{Y:u.E.Hg,F:{va:"rasterizeLayer",Ks:{classID:"rasterizeLayer",null:b$.oe("Lyr",!0)}}},{Y:u.E.v,G:$.Os,F:{_:Z.E$}},{Y:u.E.v,G:$.Os,F:{_:Z.YS}},{sub:[{Y:u.E.v,G:$.Os,F:{_:Z.ex,S8:0}},{Y:u.E.v,G:$.Os,F:{_:Z.ex,S8:1}},{Y:u.E.v,G:$.Os,F:{_:Z.ex,S8:2}},{Y:u.E.v,G:$.Os,F:{_:Z.ex,S8:3}}]},{sub:[{Y:u.E.v,G:$.Os,F:{_:Z.v2,S8:"makeframes"}},{Y:u.E.v,G:$.Os,F:{_:Z.v2,S8:"unmakeframes"}},{Y:u.E.v,G:$.Os,F:{_:Z.v2,S8:"merge"}}]},{Y:u.E.Hg,F:{va:"mergeLayersNew",Ks:{__name:"Merge Layers",classID:"Mrg2"}}},{Y:u.E.Hg,F:{va:"flattenImage"}},{Y:u.E.v,G:$.AL,F:{_:"start",LJ:"defr"}}]},ag.adQ(!1),function(){var v={name:[0,6],items:[{name:[24,18,4],S3:[c,E,K.ni],q:P,_B:!0}],d1:[{Y:u.E.v,G:$.AL,F:{_:"applylast"}}]};
for(var y=0;y<dJ.cz.length;y++){var n=dJ.cz[y];if(n.QT!=null){v.items.push({name:dJ.names[n.QT],Ps:!0,_B:n._B,q:P});
v.d1.push({Y:u.E.v,G:$.AL,F:{_:"start",LJ:n.QT}});continue}var C={name:n.Qt,sub:[],q:P};v.items.push(C);
var T={sub:[]};v.d1.push(T);for(var o=0;o<n.Nn.length;o++){var s={name:dJ.names[n.Nn[o]],Ps:dJ.JQ(n.Nn[o])!=null};
C.sub.push(s);var Q={Y:u.E.v,G:$.AL,F:{_:"start",LJ:n.Nn[o]}};T.sub.push(Q)}}return v}(),{name:[0,7],items:[{name:[8,0],q:P,S3:[E,K.Q5]},{name:[8,1],q:P,S3:[E,K.jb]},{name:[20,3],q:P,S3:[E,K.GN]},{name:[20,2],q:P,S3:[E,K.xJ]},{name:[8,14],q:function(v,n){return{q:v!=null,Wa:v!=null&&v.W3}},_B:!0},{name:[12,36],_B:!0,sub:[{name:"Fullscreen",q:function(v,n){return{Wa:document.fullscreenElement!=null}},_B:!0},{name:"Standard",q:function(v,n){return{Wa:n.Py==0}}},{name:"Menu Bar and Canvas",q:function(v,n){return{Wa:n.Py==1}}}]},{name:[8,13],S3:[E,K.CZ],q:function(v,n){return{Wa:n.R9}}},{name:[8,12],_B:!0,sub:[{name:[17,2],q:function(v,n){return{q:n.R9,Wa:n.Vp.hO}}},{name:[8,9],q:function(v,n){return{q:n.R9,Wa:n.Vp.Qg}}},{name:[8,2],q:function(v,n){return{q:n.R9,Wa:n.Vp.J$}},S3:[E,K.Rn]},{name:[8,4],q:function(v,n){return{q:n.R9,Wa:n.Vp.vh}},S3:[E,K.cR]},{name:[8,8],q:function(v,n){return{q:n.R9,Wa:n.Vp.RZ}}},{name:[8,11,0],q:function(v,n){return{q:n.R9,Wa:n.Vp.ea}}}]},{name:[8,3],q:function(v,n){return{Wa:n.Fy}},S3:[E,K.oE],_B:!0},{name:[8,5],q:function(v,n){return{Wa:n.ab}}},{name:[8,6],_B:!0,sub:[{name:[8,2],q:function(v,n){return{Wa:n.gS[0]}}},{name:[8,4],q:function(v,n){return{Wa:n.gS[1]}}},{name:[9,1],q:function(v,n){return{Wa:n.gS[2]}}},{name:[8,11,0],q:function(v,n){return{Wa:n.gS[3]}}},{name:[8,7,0],q:function(v,n){return{Wa:n.gS[4]}}}]},{name:[11,15,2],q:function(v,n){return{q:v!=null,Wa:v!=null&&v.vk}}},{name:[11,15,0],q:P},{name:[11,14],q:P,Ps:!0},{name:[11,15,1],q:function(v,n){return{q:v!=null&&v.g.length!=0}},_B:!0},{name:[8,11,2],q:function(v,n){return{q:v!=null&&v.ea.length!=0}}}],d1:[{Y:u.E.v,G:$.lJ,F:{_:"zoom",Bq:!0}},{Y:u.E.v,G:$.lJ,F:{_:"zoom",Bq:!1}},{Y:u.E.v,G:$.lJ,F:{_:"adapt",Z:"fitscr"}},{Y:u.E.v,G:$.lJ,F:{_:"adapt",Z:"pixel"}},{Y:u.E.v,G:$.x3,F:{_:"pview"}},{sub:[{Y:u.E.L,F:{_:u.c.cM,X4:!0}},{Y:u.E.L,F:{_:u.c.cM,Z:0}},{Y:u.E.L,F:{_:u.c.cM,Z:1}},{Y:u.E.L,F:{_:u.c.cM,Z:2}}]},{Y:u.E.L,F:{_:u.c.Na,ry:eu.s3}},{sub:[{Y:u.E.L,F:{_:u.c.Na,ry:eu.Sa}},{Y:u.E.L,F:{_:u.c.Na,ry:eu.gj}},{Y:u.E.L,F:{_:u.c.Na,ry:eu.c0}},{Y:u.E.L,F:{_:u.c.Na,ry:eu.o_}},{Y:u.E.L,F:{_:u.c.Na,ry:eu.fX}},{Y:u.E.L,F:{_:u.c.Na,ry:eu.IX}}]},{Y:u.E.L,F:{_:u.c.Na,ry:eu.fx}},{Y:u.E.L,F:{_:u.c.Na,ry:eu.amW}},{sub:[{Y:u.E.L,F:{_:u.c.Na,ry:eu.l3,r7:0}},{Y:u.E.L,F:{_:u.c.Na,ry:eu.l3,r7:1}},{Y:u.E.L,F:{_:u.c.Na,ry:eu.l3,r7:2}},{Y:u.E.L,F:{_:u.c.Na,ry:eu.l3,r7:3}},{Y:u.E.L,F:{_:u.c.Na,ry:eu.l3,r7:4}}]},{Y:u.E.v,G:$.x3,F:{_:"lockguides"}},{Y:u.E.v,G:$.x3,F:{_:"gids",NM:[[],[]]}},{Y:u.E.L,F:{_:u.c.v9,xc:"addguides"}},{Y:u.E.v,G:$.x3,F:{_:"gidsFromLayer"}},{Y:u.E.v,G:$.n8,F:{_:"deleteAll"}}]},function(){var v={name:[0,8],items:[{name:[0,14],_B:!0,sub:[]},{name:"Plugins",_B:!0}],d1:[{sub:[]},{Y:u.E.L,F:{_:u.c.v9,xc:"res1"}}]};
for(var y=0;y<aK.jT.length;y++){var n=aK.jT[y],C=function(){var T=n.M8._E;return function(o,s){return{Wa:s._e.indexOf(parseInt(T))!=-1}}}();
(n.hg?v.items[0].sub:v.items).push({name:n.M8.name,q:C});(n.hg?v.d1[0].sub:v.d1).push({Y:u.E.L,F:{_:u.c.T7,xc:n.M8._E}})}return v}(),function(){var v={name:[0,14],items:[],d1:[]},n={name:[0,9],sub:[]};
v.items.push(n);var C={sub:[]};v.d1.push(C);var T=hg.ay_();for(var y=0;y<T.length;y++){var o=T[y],s=o.code,Q=hg.aeP(s);
n.sub.push({name:o.name,S3:s,q:function(X,B){return{Wa:this.S3==hg.pK()}}});C.sub.push({Y:u.E.L,F:{_:u.c.Na,ry:eu.QX,lang:Q}})}n.sub.push({name:[0,12]});
C.sub.push({Y:u.E.L,F:{_:u.c.$X,link:"https://www.photopea.com/translate/"}});var n={name:[0,15],sub:[]};
v.items.push(n);var C={sub:[]};v.d1.push(C);for(var y=0;y<cX.Cm.length;y++){n.sub.push({name:cX.Cm[y].name,q:function(X,B){return{Wa:this.name==cX.Cm[B.T8].name}}});
C.sub.push({Y:u.E.L,F:{_:u.c.Na,ry:eu.SE,T8:y}})}v.items.push({name:[0,17,6],q:function(X,B){return{q:B.u2!=null}}});
v.d1.push({Y:u.E.L,F:{_:u.c.aeJ}});v.items.push({name:[11,13]});v.d1.push({Y:u.E.L,F:{_:u.c.v9,xc:"shortcuts"}});
v.items.push({name:[0,16],q:function(X){return{Wa:f4.Eg,q:f4.yT}},_B:!0});v.d1.push({Y:u.E.L,F:{_:u.c.av$}});
v.items.push({name:"",q:function(X,B){return B.dN?{uw:"About Photopea",q:!0}:{uw:"",q:!1}}});v.d1.push({Y:u.E.L,F:{_:u.c.v9,xc:"aboutpp"}});
return v}()]}();function fq(){fo.call(this);this.e=U.t("div","");this.AY=0;this.oT=0;this.ll=null;this.GU=U.t("div","");
this.GU.setAttribute("style","width:200em; height:100em; position:absolute;");this.N6=[];this.wq=[];
this.v1={}}fq.prototype=new fo;fq.prototype.gQ=function(K){var E=Date.now(),x=[];if(K=="-")x=[new eO,new g7,new bA("pdfpres"),new bA("cformat"),new aP,new dL,new ew,new hu,new ka,new eg,new bO,new hR,new jm,new cL,new jZ,new bq,new d3,new b7,new f6,new fx,new j8,new iW,new h7,new ge,new cF,new hQ,new d2,new dx,new il(!1),new il(!0),new fW(0),new fW(1),new io,new k6,new bj,new a5,new jY,new fH,new ax(0),new ax(1),new ax(2),new ax(3),new ax(4),new ax(5),new ax(6),new ax(7),new ax(8),new eM,new jS,new cP,new eL,new d9,new gA,new hC,new h$("border",[7,9],"px"),new h$("smoothness",[19,3,0],"px"),new h$("expand",[7,4],"px"),new h$("contract",[7,5],"px"),new h$("feather",[7,6],"px"),new kv(0,"namewindow",[12,48]),new kv(2,"billto","Bill To"),new kv(1,"cornerradius",[12,94,0],"px",!0,!0),new kv(1,"scaleeffects",[6,30,1],"%",!0),new kv(1,"doczoom","Zoom","%",!0),new kv(1,"setFPS","Set FPS","fps",!1)];
else x=[new e1(K.slice(4))];this.aoL(x);this.v1[K]=!0};fq.prototype.aoL=function(K){var E=this.ll;for(var y=0;
y<K.length;y++){var x=K[y];x.parent=this;this.wq.push(x);this.PZ(x);x.f();if(E)x.Q3(E,eu.$r);x.w(u.E.rL,this.hj,this);
U.qj(x)}};fq.prototype.nt=function(K,E){this.AY=K;this.oT=E;for(var y=0;y<this.wq.length;y++)this.PZ(this.wq[y])};
fq.prototype.f=function(){for(var y=0;y<this.wq.length;y++)this.wq[y].f()};fq.prototype.Nl=function(){return this.N6.length==0?null:this.N6[this.N6.length-1]};
fq.prototype.eb=function(){for(var y=0;y<this.N6.length;y++)if(this.N6[y].eb())return!0;return!1};fq.prototype.alF=function(K,E,x,c,J){var i=K.startsWith("afw_"),P=null;
if(!i&&!this.v1["-"])this.gQ("-");if(i&&!this.v1[K])this.gQ(K);if(typeof K=="object"){P=K;if(!P.awn(u.E.rL,this.hj))P.w(u.E.rL,this.hj,this);
P.parent=this}else for(var y=0;y<this.wq.length;y++)if(this.wq[y].id==K)P=this.wq[y];if(this.eb()&&P.eb()){alert("Finish the current action first");
return}if(!P.qO(E))return;if(this.N6.indexOf(P)!=-1){if(K=="colorpicker")P.jG(E,x,c,J);return}var _=this.N6.length-1;
if(_>=0)U.sy(this.N6[_].e,"wdisabled");this.e.appendChild(P.e);this.N6.push(P);this.PZ(P);U.Nz(P);P.jG(E,x,c,J)};
fq.prototype.PZ=function(K){var E=this.AY,x=this.oT,c=K.Hb(E,x),J;if(c!=null){J=c}else{c=new iP(0,0);
J=K.azo();if(J==null){var i=this.N6.indexOf(K)+1;if(E<450||x<450)J=new iP(0,0);else J=new iP(i*150,i*150)}}K.e.style.left=J.x+"px";
K.e.style.top=this.e.offsetTop+J.y+"px";K.nt(this.AY-c.x*2,this.oT-c.y*2-34)};fq.prototype.Q3=function(K,E){this.ll=K;
for(var y=0;y<this.wq.length;y++)this.wq[y].Q3(K,E)};fq.prototype.hj=function(K){var E=this.N6.pop();
U.qj(E,this.e);var x=this.N6.length-1;if(x>=0)U.gz(this.N6[x].e,"wdisabled");if(this.GU.parentNode==this.e)this.e.removeChild(this.GU)};
window.onload=function(){document.body.appendChild(new hO().e)}}())